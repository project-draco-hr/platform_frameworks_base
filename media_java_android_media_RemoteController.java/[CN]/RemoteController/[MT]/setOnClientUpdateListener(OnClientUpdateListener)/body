{
synchronized (mInfoLock) {
    mOnClientUpdateListener=l;
    if (!mIsRegistered) {
      return;
    }
    if (mLastPlaybackInfo != null) {
      sendMsg(mEventHandler,MSG_NEW_PLAYBACK_INFO,SENDMSG_REPLACE,mClientGenerationIdCurrent,0,mLastPlaybackInfo,0);
    }
    if (mLastTransportControlFlags != TRANSPORT_UNKNOWN) {
      sendMsg(mEventHandler,MSG_NEW_TRANSPORT_INFO,SENDMSG_REPLACE,mClientGenerationIdCurrent,mLastTransportControlFlags,null,0);
    }
    if (mMetadataEditor != null) {
      sendMsg(mEventHandler,MSG_NEW_METADATA,SENDMSG_QUEUE,mClientGenerationIdCurrent,0,mMetadataEditor,0);
    }
  }
}
