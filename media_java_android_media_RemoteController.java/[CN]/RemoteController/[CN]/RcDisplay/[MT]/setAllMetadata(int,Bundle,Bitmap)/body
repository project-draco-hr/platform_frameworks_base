{
  final RemoteController rc=mController.get();
  if (rc == null) {
    return;
  }
  if (DEBUG) {
    Log.e(TAG,"setAllMetadata(" + genId + ")");
  }
  if ((metadata == null) && (artwork == null)) {
    return;
  }
synchronized (mGenLock) {
    if (rc.mClientGenerationIdCurrent != genId) {
      return;
    }
  }
  if (metadata == null) {
    metadata=new Bundle(1);
  }
  if (artwork != null) {
    metadata.putParcelable(String.valueOf(MediaMetadataEditor.BITMAP_KEY_ARTWORK),artwork);
  }
  sendMsg(rc.mEventHandler,MSG_NEW_METADATA,SENDMSG_QUEUE,genId,0,metadata,0);
}
