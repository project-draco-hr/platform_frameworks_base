{
  if (mVersion >= SETTINGS_VERSOIN_NEW_ENCODING) {
    final String value=parser.getAttributeValue(null,ATTR_VALUE);
    if (value != null) {
      return value;
    }
    final String base64=parser.getAttributeValue(null,ATTR_VALUE_BASE64);
    if (base64 != null) {
      return base64Decode(base64);
    }
    return null;
  }
 else {
    final String stored=parser.getAttributeValue(null,ATTR_VALUE);
    if (NULL_VALUE_OLD_STYLE.equals(stored)) {
      return null;
    }
 else {
      return stored;
    }
  }
}
