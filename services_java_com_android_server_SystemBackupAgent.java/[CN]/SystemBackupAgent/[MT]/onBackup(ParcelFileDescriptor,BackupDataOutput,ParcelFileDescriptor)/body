{
  if (oldState == null) {
    runFullBackup(data);
    return;
  }
  WallpaperManagerService wallpaper=(WallpaperManagerService)ServiceManager.getService(Context.WALLPAPER_SERVICE);
  String[] files=new String[]{WALLPAPER_IMAGE,WALLPAPER_INFO};
  if (wallpaper != null && wallpaper.mName != null && wallpaper.mName.length() > 0) {
    files=new String[]{WALLPAPER_INFO};
  }
  addHelper("wallpaper",new WallpaperBackupHelper(SystemBackupAgent.this,files));
  super.onBackup(oldState,data,newState);
}
