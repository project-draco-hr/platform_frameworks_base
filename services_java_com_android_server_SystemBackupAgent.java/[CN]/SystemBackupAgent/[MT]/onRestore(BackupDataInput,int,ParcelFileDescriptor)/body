{
  addHelper("wallpaper",new AbsoluteFileBackupHelper(SystemBackupAgent.this,new String[]{WALLPAPER_IMAGE,WALLPAPER_INFO}));
  addHelper("system_files",new AbsoluteFileBackupHelper(SystemBackupAgent.this,new String[]{WALLPAPER_IMAGE}));
  boolean success=false;
  try {
    super.onRestore(data,appVersionCode,newState);
    WallpaperManagerService wallpaper=(WallpaperManagerService)ServiceManager.getService(Context.WALLPAPER_SERVICE);
    wallpaper.settingsRestored();
  }
 catch (  IOException ex) {
    Slog.d(TAG,"restore failed",ex);
    (new File(WALLPAPER_IMAGE)).delete();
    (new File(WALLPAPER_INFO)).delete();
  }
}
