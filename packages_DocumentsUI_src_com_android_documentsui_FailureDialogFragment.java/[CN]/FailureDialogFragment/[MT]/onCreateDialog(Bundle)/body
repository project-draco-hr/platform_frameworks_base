{
  super.onCreate(inState);
  final int operationType=getArguments().getInt(FileOperationService.EXTRA_OPERATION);
  final List<DocumentInfo> failedSrcList=getArguments().getParcelableArrayList(FileOperationService.EXTRA_SRC_LIST);
  final StringBuilder list=new StringBuilder("<p>");
  for (  DocumentInfo documentInfo : failedSrcList) {
    list.append(String.format("&#8226; %s<br>",documentInfo.displayName));
  }
  list.append("</p>");
  checkArgument(operationType == FileOperationService.OPERATION_COPY || operationType == FileOperationService.OPERATION_MOVE);
  int messageId=operationType == FileOperationService.OPERATION_COPY ? R.string.copy_failure_alert_content : R.string.move_failure_alert_content;
  final String messageFormat=getString(messageId);
  final String message=String.format(messageFormat,list.toString());
  return new AlertDialog.Builder(getActivity()).setMessage(Html.fromHtml(message)).setPositiveButton(R.string.close,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int id){
      dialog.dismiss();
    }
  }
).create();
}
