{
  super.onCreate(inState);
  mFailure=getArguments().getInt(CopyService.EXTRA_FAILURE);
  mTransferMode=getArguments().getInt(CopyService.EXTRA_TRANSFER_MODE);
  mFailedSrcList=getArguments().getParcelableArrayList(CopyService.EXTRA_SRC_LIST);
  final StringBuilder list=new StringBuilder("<p>");
  for (  DocumentInfo documentInfo : mFailedSrcList) {
    list.append(String.format("&#8226; %s<br>",documentInfo.displayName));
  }
  list.append("</p>");
  final String messageFormat=getString(mTransferMode == CopyService.TRANSFER_MODE_COPY ? R.string.copy_failure_alert_content : R.string.move_failure_alert_content);
  final String message=String.format(messageFormat,list.toString());
  return new AlertDialog.Builder(getActivity()).setMessage(Html.fromHtml(message)).setPositiveButton(R.string.retry,this).setNegativeButton(android.R.string.cancel,this).create();
}
