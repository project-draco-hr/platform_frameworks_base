{
  super.onCreate(inState);
  mOperationType=getArguments().getInt(FileOperationService.EXTRA_OPERATION);
  mFailedSrcList=getArguments().getParcelableArrayList(FileOperationService.EXTRA_SRC_LIST);
  final StringBuilder list=new StringBuilder("<p>");
  for (  DocumentInfo documentInfo : mFailedSrcList) {
    list.append(String.format("&#8226; %s<br>",documentInfo.displayName));
  }
  list.append("</p>");
  checkArgument(mOperationType == FileOperationService.OPERATION_COPY || mOperationType == FileOperationService.OPERATION_MOVE);
  int messageId=mOperationType == FileOperationService.OPERATION_COPY ? R.string.copy_failure_alert_content : R.string.move_failure_alert_content;
  final String messageFormat=getString(messageId);
  final String message=String.format(messageFormat,list.toString());
  return new AlertDialog.Builder(getActivity()).setMessage(Html.fromHtml(message)).setPositiveButton(R.string.retry,this).setNegativeButton(android.R.string.cancel,this).create();
}
