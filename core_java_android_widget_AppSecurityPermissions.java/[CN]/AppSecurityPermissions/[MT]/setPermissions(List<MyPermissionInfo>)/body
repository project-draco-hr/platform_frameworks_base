{
  if (permList != null) {
    for (    MyPermissionInfo pInfo : permList) {
      if (localLOGV)       Log.i(TAG,"Processing permission:" + pInfo.name);
      if (!isDisplayablePermission(pInfo,pInfo.mNewReqFlags,pInfo.mExistingReqFlags)) {
        if (localLOGV)         Log.i(TAG,"Permission:" + pInfo.name + " is not displayable");
        continue;
      }
      MyPermissionGroupInfo group=mPermGroups.get(pInfo.group);
      if (group != null) {
        pInfo.mLabel=pInfo.loadLabel(mPm);
        addPermToList(group.mAllPermissions,pInfo);
        if (pInfo.mNew) {
          addPermToList(group.mNewPermissions,pInfo);
        }
        if ((group.flags & PermissionGroupInfo.FLAG_PERSONAL_INFO) != 0) {
          addPermToList(group.mPersonalPermissions,pInfo);
        }
 else {
          addPermToList(group.mDevicePermissions,pInfo);
        }
      }
    }
  }
  for (  MyPermissionGroupInfo pgrp : mPermGroups.values()) {
    if (pgrp.labelRes != 0 || pgrp.nonLocalizedLabel != null) {
      pgrp.mLabel=pgrp.loadLabel(mPm);
    }
 else {
      ApplicationInfo app;
      try {
        app=mPm.getApplicationInfo(pgrp.packageName,0);
        pgrp.mLabel=app.loadLabel(mPm);
      }
 catch (      NameNotFoundException e) {
        pgrp.mLabel=pgrp.loadLabel(mPm);
      }
    }
    mPermGroupsList.add(pgrp);
  }
  Collections.sort(mPermGroupsList,mPermGroupComparator);
  if (false) {
    for (    MyPermissionGroupInfo grp : mPermGroupsList) {
      Log.i("foo","Group " + grp.name + " personal="+ ((grp.flags & PermissionGroupInfo.FLAG_PERSONAL_INFO) != 0)+ " priority="+ grp.priority);
    }
  }
}
