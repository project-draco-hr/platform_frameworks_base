{
  if (permDesc == null) {
    return groupDesc;
  }
  int len=permDesc.length();
  if (len > 0 && permDesc.charAt(len - 1) == '.') {
    permDesc=(permDesc.toString()).substring(0,len - 1);
  }
  if (newPerms) {
    if (true) {
      SpannableStringBuilder builder=new SpannableStringBuilder();
      if (groupDesc != null) {
        builder.append(groupDesc);
        builder.append("\n");
      }
      Parcel parcel=Parcel.obtain();
      TextUtils.writeToParcel(mNewPermPrefix,parcel,0);
      parcel.setDataPosition(0);
      CharSequence newStr=TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(parcel);
      parcel.recycle();
      builder.append(newStr);
      builder.append(permDesc);
      return builder;
    }
 else {
      SpannableStringBuilder builder=new SpannableStringBuilder(permDesc);
      builder.insert(0,mNewPermPrefix);
      if (groupDesc != null) {
        builder.insert(0,"\n");
        builder.insert(0,groupDesc);
      }
      return builder;
    }
  }
  if (groupDesc == null) {
    return permDesc;
  }
  return String.format(mPermFormat,groupDesc,permDesc.toString());
}
