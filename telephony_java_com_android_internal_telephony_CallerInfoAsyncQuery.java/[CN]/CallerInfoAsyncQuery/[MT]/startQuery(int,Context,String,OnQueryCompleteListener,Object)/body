{
  Uri contactRef=Uri.withAppendedPath(PhoneLookup.CONTENT_FILTER_URI,Uri.encode(number));
  CallerInfoAsyncQuery c=new CallerInfoAsyncQuery();
  c.allocate(context,contactRef);
  if (DBG)   log("starting query for number: " + number + " handler: "+ c.toString());
  CookieWrapper cw=new CookieWrapper();
  cw.listener=listener;
  cw.cookie=cookie;
  cw.number=number;
  if (PhoneNumberUtils.isEmergencyNumber(number)) {
    cw.event=EVENT_EMERGENCY_NUMBER;
  }
 else {
    String vmNumber=null;
    if (!sSkipVmCheck) {
      try {
        vmNumber=TelephonyManager.getDefault().getVoiceMailNumber();
      }
 catch (      SecurityException ex) {
        sSkipVmCheck=true;
      }
    }
    if (PhoneNumberUtils.compare(number,vmNumber)) {
      cw.event=EVENT_VOICEMAIL_NUMBER;
    }
 else {
      cw.event=EVENT_NEW_QUERY;
    }
  }
  c.mHandler.startQuery(token,cw,contactRef,null,null,null,null);
  return c;
}
