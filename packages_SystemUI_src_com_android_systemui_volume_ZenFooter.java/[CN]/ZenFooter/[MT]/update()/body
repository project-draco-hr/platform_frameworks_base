{
  final boolean isZen=isZen();
  mSwitch.setOnCheckedChangeListener(null);
  mSwitch.setChecked(isZen);
  mSwitch.setOnCheckedChangeListener(mCheckedListener);
  Util.setVisOrGone(mZenModePanel,isZen && mFooterExpanded);
  Util.setVisOrGone(mZenModePanelButtons,isZen && mFooterExpanded);
  Util.setVisOrGone(mSummary,isZen && !mFooterExpanded);
  mSwitchBarIcon.setAlpha(isZen ? 1 : mSecondaryAlpha);
  final String line1=isZenPriority() ? mContext.getString(R.string.interruption_level_priority) : isZenAlarms() ? mContext.getString(R.string.interruption_level_alarms) : isZenNone() ? mContext.getString(R.string.interruption_level_none) : null;
  Util.setText(mSummaryLine1,line1);
  final String line2=ZenModeConfig.getConditionSummary(mContext,mConfig,ActivityManager.getCurrentUser());
  Util.setText(mSummaryLine2,line2);
}
