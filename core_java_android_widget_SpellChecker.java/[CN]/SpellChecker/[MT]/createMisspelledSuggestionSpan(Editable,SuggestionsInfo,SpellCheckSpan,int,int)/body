{
  final int spellCheckSpanStart=editable.getSpanStart(spellCheckSpan);
  final int spellCheckSpanEnd=editable.getSpanEnd(spellCheckSpan);
  if (spellCheckSpanStart < 0 || spellCheckSpanEnd <= spellCheckSpanStart)   return;
  final int suggestionsCount=suggestionsInfo.getSuggestionsCount();
  if (suggestionsCount <= 0) {
    return;
  }
  final int start;
  final int end;
  if (offset != USE_SPAN_RANGE && length != USE_SPAN_RANGE) {
    start=spellCheckSpanStart + offset;
    end=start + length;
  }
 else {
    start=spellCheckSpanStart;
    end=spellCheckSpanEnd;
  }
  String[] suggestions=new String[suggestionsCount];
  for (int i=0; i < suggestionsCount; i++) {
    suggestions[i]=suggestionsInfo.getSuggestionAt(i);
  }
  SuggestionSpan suggestionSpan=new SuggestionSpan(mTextView.getContext(),suggestions,SuggestionSpan.FLAG_EASY_CORRECT | SuggestionSpan.FLAG_MISSPELLED);
  editable.setSpan(suggestionSpan,start,end,Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
  mTextView.invalidateRegion(start,end,false);
}
