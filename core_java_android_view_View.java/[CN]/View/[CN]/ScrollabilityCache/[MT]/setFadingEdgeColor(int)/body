{
  if (mFadingEdgeLastColor != color) {
    mFadingEdgeLastColor=color;
    final int color0;
    final int color1;
    final PorterDuffXfermode xfermode;
    if (color != 0) {
      color0=color | 0xFF000000;
      color1=color & 0x00FFFFFF;
      xfermode=null;
    }
 else {
      color0=0xFF000000;
      color1=0;
      xfermode=new PorterDuffXfermode(PorterDuff.Mode.DST_OUT);
    }
    fadingEdgeShader=new LinearGradient(0,0,0,1,color0,color1,Shader.TileMode.CLAMP);
    fadingEdgePaint.setShader(fadingEdgeShader);
    fadingEdgePaint.setXfermode(xfermode);
  }
}
