{
  final int overscrollMode=mOverscrollMode;
  final boolean canScrollHorizontal=computeHorizontalScrollRange() > computeHorizontalScrollExtent();
  final boolean canScrollVertical=computeVerticalScrollRange() > computeVerticalScrollExtent();
  final boolean overscrollHorizontal=overscrollMode == OVERSCROLL_ALWAYS || (overscrollMode == OVERSCROLL_IF_CONTENT_SCROLLS && canScrollHorizontal);
  final boolean overscrollVertical=overscrollMode == OVERSCROLL_ALWAYS || (overscrollMode == OVERSCROLL_IF_CONTENT_SCROLLS && canScrollVertical);
  int newScrollX=scrollX + deltaX;
  if (!overscrollHorizontal) {
    maxOverscrollX=0;
  }
  int newScrollY=scrollY + deltaY;
  if (!overscrollVertical) {
    maxOverscrollY=0;
  }
  final int left=-maxOverscrollX;
  final int right=maxOverscrollX + scrollRangeX;
  final int top=-maxOverscrollY;
  final int bottom=maxOverscrollY + scrollRangeY;
  boolean clampedX=false;
  if (newScrollX > right) {
    newScrollX=right;
    clampedX=true;
  }
 else   if (newScrollX < left) {
    newScrollX=left;
    clampedX=true;
  }
  boolean clampedY=false;
  if (newScrollY > bottom) {
    newScrollY=bottom;
    clampedY=true;
  }
 else   if (newScrollY < top) {
    newScrollY=top;
    clampedY=true;
  }
  onOverscrolled(newScrollX,newScrollY,clampedX,clampedY);
  return clampedX || clampedY;
}
