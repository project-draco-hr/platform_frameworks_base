{
  int layerType=getLayerType();
  if (layerType != LAYER_TYPE_NONE) {
    mLayerPaint=paint == null ? new Paint() : paint;
    if (layerType == LAYER_TYPE_HARDWARE) {
      HardwareLayer layer=getHardwareLayer();
      if (layer != null) {
        layer.setLayerPaint(paint);
      }
      invalidateViewProperty(false,false);
    }
 else {
      invalidate();
    }
  }
}
