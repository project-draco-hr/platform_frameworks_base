{
  int length=((attrs == null ? 0 : attrs.getAttributeCount()) + a.getIndexCount()) * 2;
  mAttributes=new String[length];
  int i=0;
  if (attrs != null) {
    for (i=0; i < attrs.getAttributeCount(); i+=2) {
      mAttributes[i]=attrs.getAttributeName(i);
      mAttributes[i + 1]=attrs.getAttributeValue(i);
    }
  }
  SparseArray<String> attributeMap=getAttributeMap();
  for (int j=0; j < a.length(); ++j) {
    if (a.hasValue(j)) {
      try {
        int resourceId=a.getResourceId(j,0);
        if (resourceId == 0) {
          continue;
        }
        String resourceName=attributeMap.get(resourceId);
        if (resourceName == null) {
          resourceName=a.getResources().getResourceName(resourceId);
          attributeMap.put(resourceId,resourceName);
        }
        mAttributes[i]=resourceName;
        mAttributes[i + 1]=a.getText(j).toString();
        i+=2;
      }
 catch (      Resources.NotFoundException e) {
      }
    }
  }
}
