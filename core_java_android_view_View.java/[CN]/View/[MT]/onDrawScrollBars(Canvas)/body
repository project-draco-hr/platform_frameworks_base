{
  final ScrollabilityCache cache=mScrollCache;
  if (cache == null) {
    return;
  }
  final int viewFlags=mViewFlags;
  final boolean drawHorizontalScrollBar=(viewFlags & SCROLLBARS_HORIZONTAL) == SCROLLBARS_HORIZONTAL;
  final boolean drawVerticalScrollBar=(viewFlags & SCROLLBARS_VERTICAL) == SCROLLBARS_VERTICAL && !isVerticalScrollBarHidden();
  if (!drawVerticalScrollBar && !drawHorizontalScrollBar) {
    return;
  }
  final ScrollBarDrawable scrollBar=cache.scrollBar;
  final int width=mRight - mLeft;
  final int height=mBottom - mTop;
  final int scrollX=mScrollX;
  final int scrollY=mScrollY;
  final int inside=(viewFlags & SCROLLBARS_OUTSIDE_MASK) == 0 ? ~0 : 0;
  if (drawHorizontalScrollBar) {
    int size=scrollBar.getSize(false);
    if (size <= 0) {
      size=cache.scrollBarSize;
    }
    scrollBar.setParameters(computeHorizontalScrollRange(),computeHorizontalScrollOffset(),computeHorizontalScrollExtent(),false);
    final int verticalScrollBarGap=drawVerticalScrollBar ? getVerticalScrollbarWidth() : 0;
    final int left=scrollX + (mPaddingLeft & inside);
    final int right=scrollX + width - (mUserPaddingRight & inside) - verticalScrollBarGap;
    final int top=scrollY + height - size - (mUserPaddingBottom & inside);
    final int bottom=top + size;
    onDrawHorizontalScrollBar(canvas,scrollBar,left,top,right,bottom);
  }
  if (drawVerticalScrollBar) {
    int size=scrollBar.getSize(true);
    if (size <= 0) {
      size=cache.scrollBarSize;
    }
    scrollBar.setParameters(computeVerticalScrollRange(),computeVerticalScrollOffset(),computeVerticalScrollExtent(),true);
    final int verticalScrollbarPosition;
    if (mVerticalScrollbarPosition == SCROLLBAR_POSITION_DEFAULT) {
      verticalScrollbarPosition=isLayoutRtl() ? SCROLLBAR_POSITION_LEFT : SCROLLBAR_POSITION_RIGHT;
    }
 else {
      verticalScrollbarPosition=mVerticalScrollbarPosition;
    }
    final int left;
    if (verticalScrollbarPosition == SCROLLBAR_POSITION_LEFT) {
      left=scrollX + (mUserPaddingLeft & inside);
    }
 else {
      left=scrollX + width - size - (mUserPaddingRight & inside);
    }
    final int top=scrollY + (mPaddingTop & inside);
    final int right=left + size;
    final int bottom=scrollY + height - (mUserPaddingBottom & inside);
    onDrawVerticalScrollBar(canvas,scrollBar,left,top,right,bottom);
  }
}
