{
  final ScrollabilityCache cache=mScrollCache;
  if (cache != null) {
    final int viewFlags=mViewFlags;
    final boolean drawHorizontalScrollBar=(viewFlags & SCROLLBARS_HORIZONTAL) == SCROLLBARS_HORIZONTAL;
    final boolean drawVerticalScrollBar=(viewFlags & SCROLLBARS_VERTICAL) == SCROLLBARS_VERTICAL && !isVerticalScrollBarHidden();
    if (drawVerticalScrollBar || drawHorizontalScrollBar) {
      final int width=mRight - mLeft;
      final int height=mBottom - mTop;
      final ScrollBarDrawable scrollBar=cache.scrollBar;
      int size=scrollBar.getSize(false);
      if (size <= 0) {
        size=cache.scrollBarSize;
      }
      final int scrollX=mScrollX;
      final int scrollY=mScrollY;
      final int inside=(viewFlags & SCROLLBARS_OUTSIDE_MASK) == 0 ? ~0 : 0;
      if (drawHorizontalScrollBar) {
        scrollBar.setParameters(computeHorizontalScrollRange(),computeHorizontalScrollOffset(),computeHorizontalScrollExtent(),false);
        final int top=scrollY + height - size - (mUserPaddingBottom & inside);
        final int verticalScrollBarGap=drawVerticalScrollBar ? getVerticalScrollbarWidth() : 0;
        onDrawHorizontalScrollBar(canvas,scrollBar,scrollX + (mPaddingLeft & inside),top,scrollX + width - (mUserPaddingRight & inside) - verticalScrollBarGap,top + size);
      }
      if (drawVerticalScrollBar) {
        scrollBar.setParameters(computeVerticalScrollRange(),computeVerticalScrollOffset(),computeVerticalScrollExtent(),true);
        final int left=scrollX + width - size - (mUserPaddingRight & inside);
        onDrawVerticalScrollBar(canvas,scrollBar,left,scrollY + (mPaddingTop & inside),left + size,scrollY + height - (mUserPaddingBottom & inside));
      }
    }
  }
}
