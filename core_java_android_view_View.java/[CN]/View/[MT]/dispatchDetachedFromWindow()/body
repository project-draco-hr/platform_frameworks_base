{
  AttachInfo info=mAttachInfo;
  if (info != null) {
    int vis=info.mWindowVisibility;
    if (vis != GONE) {
      onWindowVisibilityChanged(GONE);
    }
  }
  onDetachedFromWindow();
  ListenerInfo li=mListenerInfo;
  final CopyOnWriteArrayList<OnAttachStateChangeListener> listeners=li != null ? li.mOnAttachStateChangeListeners : null;
  if (listeners != null && listeners.size() > 0) {
    for (    OnAttachStateChangeListener listener : listeners) {
      listener.onViewDetachedFromWindow(this);
    }
  }
  if ((mPrivateFlags & PFLAG_SCROLL_CONTAINER_ADDED) != 0) {
    mAttachInfo.mScrollContainers.remove(this);
    mPrivateFlags&=~PFLAG_SCROLL_CONTAINER_ADDED;
  }
  mAttachInfo=null;
}
