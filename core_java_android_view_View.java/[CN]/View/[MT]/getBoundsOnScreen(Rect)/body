{
  if (mAttachInfo == null) {
    return;
  }
  RectF position=mAttachInfo.mTmpTransformRect;
  position.setEmpty();
  if (!hasIdentityMatrix()) {
    getMatrix().mapRect(position);
  }
  position.offset(mLeft,mRight);
  ViewParent parent=mParent;
  while (parent instanceof View) {
    View parentView=(View)parent;
    position.offset(-parentView.mScrollX,-parentView.mScrollY);
    if (!parentView.hasIdentityMatrix()) {
      parentView.getMatrix().mapRect(position);
    }
    position.offset(parentView.mLeft,parentView.mTop);
    parent=parentView.mParent;
  }
  if (parent instanceof ViewRootImpl) {
    ViewRootImpl viewRootImpl=(ViewRootImpl)parent;
    position.offset(0,-viewRootImpl.mCurScrollY);
  }
  position.offset(mAttachInfo.mWindowLeft,mAttachInfo.mWindowTop);
  outRect.set((int)(position.left + 0.5f),(int)(position.top + 0.5f),(int)(position.right + 0.5f),(int)(position.bottom + 0.5f));
}
