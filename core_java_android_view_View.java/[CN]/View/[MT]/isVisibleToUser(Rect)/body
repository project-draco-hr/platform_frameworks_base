{
  Rect visibleRect=mAttachInfo.mTmpInvalRect;
  Point offset=mAttachInfo.mPoint;
  boolean isVisible=mAttachInfo != null && mAttachInfo.mWindowVisibility == View.VISIBLE && getAlpha() > 0 && isShown() && getGlobalVisibleRect(visibleRect,offset);
  if (isVisible && boundInView != null) {
    visibleRect.offset(-offset.x,-offset.y);
    isVisible&=boundInView.intersect(visibleRect);
  }
  return isVisible;
}
