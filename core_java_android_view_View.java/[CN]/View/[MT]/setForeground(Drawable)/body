{
  if (mForegroundInfo == null) {
    if (foreground == null) {
      return;
    }
    mForegroundInfo=new ForegroundInfo();
  }
  if (foreground == mForegroundInfo.mDrawable) {
    return;
  }
  if (mForegroundInfo.mDrawable != null) {
    mForegroundInfo.mDrawable.setCallback(null);
    unscheduleDrawable(mForegroundInfo.mDrawable);
  }
  mForegroundInfo.mDrawable=foreground;
  if (foreground != null) {
    setWillNotDraw(false);
    foreground.setCallback(this);
    foreground.setLayoutDirection(getLayoutDirection());
    if (foreground.isStateful()) {
      foreground.setState(getDrawableState());
    }
    applyForegroundTint();
  }
  requestLayout();
  invalidate();
}
