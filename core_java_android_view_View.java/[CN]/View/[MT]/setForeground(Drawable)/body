{
  if (mForegroundInfo == null) {
    if (foreground == null) {
      return;
    }
    mForegroundInfo=new ForegroundInfo();
  }
  if (foreground == mForegroundInfo.mDrawable) {
    return;
  }
  if (mForegroundInfo.mDrawable != null) {
    mForegroundInfo.mDrawable.setCallback(null);
    unscheduleDrawable(mForegroundInfo.mDrawable);
  }
  mForegroundInfo.mDrawable=foreground;
  mForegroundInfo.mBoundsChanged=true;
  if (foreground != null) {
    if ((mPrivateFlags & PFLAG_SKIP_DRAW) != 0) {
      mPrivateFlags&=~PFLAG_SKIP_DRAW;
    }
    foreground.setCallback(this);
    foreground.setLayoutDirection(getLayoutDirection());
    if (foreground.isStateful()) {
      foreground.setState(getDrawableState());
    }
    applyForegroundTint();
  }
 else   if ((mViewFlags & WILL_NOT_DRAW) != 0 && mBackground == null) {
    mPrivateFlags|=PFLAG_SKIP_DRAW;
  }
  requestLayout();
  invalidate();
}
