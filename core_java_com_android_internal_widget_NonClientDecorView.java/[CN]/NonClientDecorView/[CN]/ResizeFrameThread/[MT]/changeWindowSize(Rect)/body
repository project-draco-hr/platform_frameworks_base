{
  long startTime=System.currentTimeMillis();
  View caption=getChildAt(0);
  if (caption != null) {
    final int captionHeight=caption.getHeight();
    if (captionHeight != 0) {
      mLastCaptionHeight=captionHeight;
    }
  }
  if ((mLastCaptionHeight == 0 && mShowDecor) || mLastContentWidth == 0 || mLastContentHeight == 0) {
    return;
  }
  final int left=mLastXOffset + newBounds.left;
  final int top=mLastYOffset + newBounds.top;
  final int width=newBounds.width();
  final int height=newBounds.height();
  mFrameNode.setLeftTopRightBottom(left,top,left + width,top + mLastCaptionHeight);
  DisplayListCanvas canvas=mFrameNode.start(width,height);
  canvas.drawColor(Color.BLACK);
  mFrameNode.end(canvas);
  mBackdropNode.setLeftTopRightBottom(left,top + mLastCaptionHeight,left + width,top + height);
  canvas=mBackdropNode.start(width,height - mLastCaptionHeight);
  canvas.drawColor(0xff808080);
  mBackdropNode.end(canvas);
  mRenderer.drawRenderNode(mFrameNode);
  mRenderer.drawRenderNode(mBackdropNode);
}
