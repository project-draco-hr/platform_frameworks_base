{
synchronized (mPackagesLock) {
    int i=mNextUserId;
    while (i < Integer.MAX_VALUE) {
      if (mUsers.indexOfKey(i) < 0 && !mRemovingUserIds.contains(i)) {
        break;
      }
      i++;
    }
    mNextUserId=i + 1;
    return i;
  }
}
