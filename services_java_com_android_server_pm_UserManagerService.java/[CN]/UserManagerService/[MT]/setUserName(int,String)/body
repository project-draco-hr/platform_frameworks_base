{
  checkManageUsersPermission("rename users");
synchronized (mPackagesLock) {
    UserInfo info=mUsers.get(userId);
    if (name != null && !name.equals(info.name)) {
      info.name=name;
      writeUserLocked(info);
    }
  }
  sendUserInfoChangedBroadcast(userId);
}
