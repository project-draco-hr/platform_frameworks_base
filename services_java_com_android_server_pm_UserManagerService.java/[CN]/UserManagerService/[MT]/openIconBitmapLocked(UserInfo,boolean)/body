{
  try {
    File dir=new File(mUsersDir,Integer.toString(info.id));
    File file=new File(dir,USER_PHOTO_FILENAME);
    if (!dir.exists()) {
      dir.mkdir();
      FileUtils.setPermissions(dir.getPath(),FileUtils.S_IRWXU | FileUtils.S_IRWXG | FileUtils.S_IXOTH,-1,-1);
    }
    ParcelFileDescriptor fd=ParcelFileDescriptor.open(file,toWrite ? MODE_CREATE | MODE_READ_WRITE : MODE_READ_WRITE);
    if (toWrite) {
      info.iconPath=file.getAbsolutePath();
    }
    return fd;
  }
 catch (  FileNotFoundException e) {
    Slog.w(LOG_TAG,"Error setting photo for user ",e);
  }
  return null;
}
