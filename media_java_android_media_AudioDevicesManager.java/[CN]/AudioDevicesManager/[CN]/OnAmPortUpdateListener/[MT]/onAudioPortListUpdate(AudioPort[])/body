{
  Slog.i(TAG,"onAudioPortListUpdate() " + portList.length + " ports.");
  ArrayList<AudioDeviceInfo> addedDevices=calcAddedDevices(portList);
  ArrayList<AudioDeviceInfo> removedDevices=calcRemovedDevices(portList);
  ArrayList<OnAudioDeviceConnectionListener> listeners=null;
synchronized (mDeviceConnectionListeners) {
    listeners=new ArrayList<OnAudioDeviceConnectionListener>(mDeviceConnectionListeners);
  }
  if (addedDevices.size() != 0) {
    for (    OnAudioDeviceConnectionListener listener : listeners) {
      listener.onConnect(addedDevices);
    }
  }
  if (removedDevices.size() != 0) {
    for (    OnAudioDeviceConnectionListener listener : listeners) {
      listener.onDisconnect(removedDevices);
    }
  }
  buildCurrentDevicesList(portList);
}
