{
  int[] masks=getChannelMasks();
  int[] counts=new int[masks.length];
  for (int mask_index=0; mask_index < masks.length; mask_index++) {
    counts[mask_index]=getRole() == AudioPort.ROLE_SINK ? AudioFormat.channelCountFromOutChannelMask(masks[mask_index]) : AudioFormat.channelCountFromInChannelMask(masks[mask_index]);
  }
  return counts;
}
