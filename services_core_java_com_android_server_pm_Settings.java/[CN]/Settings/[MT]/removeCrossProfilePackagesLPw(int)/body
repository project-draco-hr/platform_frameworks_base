{
synchronized (mCrossProfilePackageInfo) {
    if (mCrossProfilePackageInfo.get(userId) != null) {
      mCrossProfilePackageInfo.remove(userId);
      writePackageRestrictionsLPr(userId);
    }
    int count=mCrossProfilePackageInfo.size();
    for (int i=0; i < count; i++) {
      int sourceUserId=mCrossProfilePackageInfo.keyAt(i);
      SparseArray<ArrayList<String>> sourceForwardingInfo=mCrossProfilePackageInfo.valueAt(i);
      if (sourceForwardingInfo.get(userId) != null) {
        sourceForwardingInfo.remove(userId);
        writePackageRestrictionsLPr(sourceUserId);
      }
    }
  }
}
