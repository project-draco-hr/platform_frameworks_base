{
  if (bp.sourcePackage != null) {
    serializer.startTag(null,TAG_ITEM);
    serializer.attribute(null,ATTR_NAME,bp.name);
    serializer.attribute(null,"package",bp.sourcePackage);
    if (bp.protectionLevel != PermissionInfo.PROTECTION_NORMAL) {
      serializer.attribute(null,"protection",Integer.toString(bp.protectionLevel));
    }
    if (PackageManagerService.DEBUG_SETTINGS)     Log.v(PackageManagerService.TAG,"Writing perm: name=" + bp.name + " type="+ bp.type);
    if (bp.type == BasePermission.TYPE_DYNAMIC) {
      final PermissionInfo pi=bp.perm != null ? bp.perm.info : bp.pendingInfo;
      if (pi != null) {
        serializer.attribute(null,"type","dynamic");
        if (pi.icon != 0) {
          serializer.attribute(null,"icon",Integer.toString(pi.icon));
        }
        if (pi.nonLocalizedLabel != null) {
          serializer.attribute(null,"label",pi.nonLocalizedLabel.toString());
        }
      }
    }
    serializer.endTag(null,TAG_ITEM);
  }
}
