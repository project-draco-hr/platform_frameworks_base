{
  Bundle data=new Bundle();
  ActivityClientRecord r=mActivities.get(cmd.activityToken);
  if (r != null) {
    r.activity.getApplication().dispatchOnProvideAssistData(r.activity,data);
    r.activity.onProvideAssistData(data);
  }
 else {
    Service service=mServices.get(cmd.activityToken);
    if (service != null) {
      service.onProvideAssistData(data);
    }
  }
  if (data.isEmpty()) {
    data=null;
  }
  IActivityManager mgr=ActivityManagerNative.getDefault();
  try {
    mgr.reportAssistContextExtras(cmd.requestToken,data,cmd.index);
  }
 catch (  RemoteException e) {
  }
}
