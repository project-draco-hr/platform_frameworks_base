{
  ActivityClientRecord r=mActivities.get(token);
  if (r != null) {
    final Activity activity=r.activity;
    if (activity.mMediaPlaying) {
      activity.mCalled=false;
      activity.onStopMediaPlaying();
      if (!activity.mCalled) {
        throw new SuperNotCalledException("Activity " + activity.getLocalClassName() + " did not call through to super.onStopMediaPlayback()");
      }
      activity.mMediaPlaying=false;
    }
  }
  try {
    ActivityManagerNative.getDefault().mediaResourcesReleased(token);
  }
 catch (  RemoteException e) {
  }
}
