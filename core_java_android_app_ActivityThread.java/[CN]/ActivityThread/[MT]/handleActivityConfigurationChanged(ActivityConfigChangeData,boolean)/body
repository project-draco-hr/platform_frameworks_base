{
  ActivityClientRecord r=mActivities.get(data.activityToken);
  if (r == null || r.activity == null) {
    return;
  }
  if (DEBUG_CONFIGURATION)   Slog.v(TAG,"Handle activity config changed: " + r.activityInfo.name + ", with callback="+ reportToActivity);
  r.tmpConfig.setTo(mCompatConfiguration);
  if (data.overrideConfig != null) {
    r.overrideConfig=data.overrideConfig;
    r.tmpConfig.updateFrom(data.overrideConfig);
  }
  performConfigurationChanged(r.activity,r.tmpConfig,reportToActivity);
  freeTextLayoutCachesIfNeeded(r.activity.mCurrentConfig.diff(mCompatConfiguration));
  mSomeActivitiesChanged=true;
}
