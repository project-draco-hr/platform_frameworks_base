{
  if (path == null) {
    throw new IllegalArgumentException("path must not be null");
  }
  if (format != OutputFormat.MUXER_OUTPUT_MPEG_4 && format != OutputFormat.MUXER_OUTPUT_WEBM) {
    throw new IllegalArgumentException("format is invalid");
  }
  RandomAccessFile file=null;
  try {
    file=new RandomAccessFile(path,"rws");
    FileDescriptor fd=file.getFD();
    mNativeObject=nativeSetup(fd,format);
    mState=MUXER_STATE_INITIALIZED;
    mCloseGuard.open("release");
  }
  finally {
    if (file != null) {
      file.close();
    }
  }
}
