{
  if (path == null) {
    throw new IllegalArgumentException("path must not be null");
  }
  if (format != OutputFormat.MUXER_OUTPUT_MPEG_4) {
    throw new IllegalArgumentException("format is invalid");
  }
  FileOutputStream fos=null;
  try {
    File file=new File(path);
    fos=new FileOutputStream(file);
    FileDescriptor fd=fos.getFD();
    mNativeObject=nativeSetup(fd,format);
    mState=MUXER_STATE_INITIALIZED;
    mCloseGuard.open("release");
  }
  finally {
    if (fos != null) {
      fos.close();
    }
  }
}
