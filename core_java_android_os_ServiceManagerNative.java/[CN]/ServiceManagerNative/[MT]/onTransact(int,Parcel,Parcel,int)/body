{
  try {
switch (code) {
case IServiceManager.GET_SERVICE_TRANSACTION:
{
        data.enforceInterface(IServiceManager.descriptor);
        String name=data.readString();
        IBinder service=getService(name);
        reply.writeStrongBinder(service);
        return true;
      }
case IServiceManager.CHECK_SERVICE_TRANSACTION:
{
      data.enforceInterface(IServiceManager.descriptor);
      String name=data.readString();
      IBinder service=checkService(name);
      reply.writeStrongBinder(service);
      return true;
    }
case IServiceManager.ADD_SERVICE_TRANSACTION:
{
    data.enforceInterface(IServiceManager.descriptor);
    String name=data.readString();
    IBinder service=data.readStrongBinder();
    addService(name,service);
    return true;
  }
case IServiceManager.LIST_SERVICES_TRANSACTION:
{
  data.enforceInterface(IServiceManager.descriptor);
  String[] list=listServices();
  reply.writeStringArray(list);
  return true;
}
case IServiceManager.SET_PERMISSION_CONTROLLER_TRANSACTION:
{
data.enforceInterface(IServiceManager.descriptor);
IPermissionController controller=IPermissionController.Stub.asInterface(data.readStrongBinder());
setPermissionController(controller);
return true;
}
}
}
 catch (RemoteException e) {
}
return false;
}
