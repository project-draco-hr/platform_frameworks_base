{
  ArrayList<String> services=new ArrayList<String>();
  int n=0;
  while (true) {
    Parcel data=Parcel.obtain();
    Parcel reply=Parcel.obtain();
    data.writeInterfaceToken(IServiceManager.descriptor);
    data.writeInt(n);
    n++;
    try {
      boolean res=mRemote.transact(LIST_SERVICES_TRANSACTION,data,reply,0);
      if (!res) {
        break;
      }
    }
 catch (    RuntimeException e) {
      break;
    }
    services.add(reply.readString());
    reply.recycle();
    data.recycle();
  }
  String[] array=new String[services.size()];
  services.toArray(array);
  return array;
}
