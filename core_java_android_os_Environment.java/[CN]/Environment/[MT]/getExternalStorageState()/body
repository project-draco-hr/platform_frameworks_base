{
  try {
    IMountService mountService=IMountService.Stub.asInterface(ServiceManager.getService("mount"));
    final StorageVolume primary=getPrimaryVolume();
    return mountService.getVolumeState(primary.getPath());
  }
 catch (  RemoteException rex) {
    Log.w(TAG,"Failed to read external storage state; assuming REMOVED: " + rex);
    return Environment.MEDIA_REMOVED;
  }
}
