{
  if (mTornDown) {
    throw new RuntimeException("NativeProgram already torn down!");
  }
  NativeFrame[] nativeInputs=new NativeFrame[inputs.length];
  for (int i=0; i < inputs.length; ++i) {
    if (inputs[i] == null || inputs[i] instanceof NativeFrame) {
      nativeInputs[i]=(NativeFrame)inputs[i];
    }
 else {
      throw new RuntimeException("NativeProgram got non-native frame as input " + i + "!");
    }
  }
  NativeFrame nativeOutput=null;
  if (output == null || output instanceof NativeFrame) {
    nativeOutput=(NativeFrame)output;
  }
 else {
    throw new RuntimeException("NativeProgram got non-native output frame!");
  }
  if (!callNativeProcess(nativeInputs,nativeOutput)) {
    throw new RuntimeException("Calling native process() caused error!");
  }
}
