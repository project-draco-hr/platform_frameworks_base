{
  long identityToken=clearCallingIdentity();
  try {
    if (Log.isLoggable(TAG,Log.VERBOSE)) {
      Log.v(TAG,"doNotification: " + message + " intent:"+ intent);
    }
    Notification n=new Notification(android.R.drawable.stat_sys_warning,null,0);
    n.setLatestEventInfo(mContext,mContext.getText(R.string.notification_title),message,PendingIntent.getActivity(mContext,0,intent,PendingIntent.FLAG_CANCEL_CURRENT));
    ((NotificationManager)mContext.getSystemService(Context.NOTIFICATION_SERVICE)).notify(NOTIFICATION_ID,n);
  }
  finally {
    restoreCallingIdentity(identityToken);
  }
}
