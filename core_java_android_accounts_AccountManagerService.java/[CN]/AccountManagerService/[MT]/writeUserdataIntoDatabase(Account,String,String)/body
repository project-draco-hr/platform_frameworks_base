{
  if (account == null || key == null) {
    return;
  }
  SQLiteDatabase db=mOpenHelper.getWritableDatabase();
  db.beginTransaction();
  try {
    long accountId=getAccountId(db,account);
    if (accountId < 0) {
      return;
    }
    long extrasId=getExtrasId(db,accountId,key);
    if (extrasId < 0) {
      extrasId=insertExtra(db,accountId,key,value);
      if (extrasId < 0) {
        return;
      }
    }
 else {
      ContentValues values=new ContentValues();
      values.put(EXTRAS_VALUE,value);
      if (1 != db.update(TABLE_EXTRAS,values,EXTRAS_ID + "=" + extrasId,null)) {
        return;
      }
    }
    db.setTransactionSuccessful();
    writeUserDataIntoCache(account,key,value);
  }
  finally {
    db.endTransaction();
  }
}
