{
synchronized (mLock) {
    if (!mDisplayDevices.contains(device)) {
      Slog.w(TAG,"Attempted to change non-existent display device: " + device);
      return;
    }
    for (int i=mLogicalDisplays.size(); i-- > 0; ) {
      LogicalDisplay display=mLogicalDisplays.valueAt(i);
      if (display.mPrimaryDisplayDevice == device) {
        final int displayId=mLogicalDisplays.keyAt(i);
        display.updateFromPrimaryDisplayDevice();
        sendDisplayEventLocked(displayId,DisplayManagerGlobal.EVENT_DISPLAY_CHANGED);
      }
    }
  }
}
