{
  if (record.mWifiDisplayScanRequested) {
    record.mWifiDisplayScanRequested=false;
    if (--mWifiDisplayScanRequestCount == 0) {
      if (mWifiDisplayAdapter != null) {
        mWifiDisplayAdapter.requestStopScanLocked();
      }
    }
 else     if (mWifiDisplayScanRequestCount < 0) {
      Log.wtf(TAG,"mWifiDisplayScanRequestCount became negative: " + mWifiDisplayScanRequestCount);
      mWifiDisplayScanRequestCount=0;
    }
  }
}
