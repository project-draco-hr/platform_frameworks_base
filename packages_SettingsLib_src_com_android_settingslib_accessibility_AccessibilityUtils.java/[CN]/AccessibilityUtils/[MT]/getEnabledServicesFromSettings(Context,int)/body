{
  final String enabledServicesSetting=Settings.Secure.getStringForUser(context.getContentResolver(),Settings.Secure.ENABLED_ACCESSIBILITY_SERVICES,userId);
  if (enabledServicesSetting == null) {
    return Collections.emptySet();
  }
  final Set<ComponentName> enabledServices=new HashSet<>();
  final TextUtils.SimpleStringSplitter colonSplitter=sStringColonSplitter;
  colonSplitter.setString(enabledServicesSetting);
  while (colonSplitter.hasNext()) {
    final String componentNameString=colonSplitter.next();
    final ComponentName enabledService=ComponentName.unflattenFromString(componentNameString);
    if (enabledService != null) {
      enabledServices.add(enabledService);
    }
  }
  return enabledServices;
}
