{
  if (mAreViewsReady) {
    return;
  }
  mAreViewsReady=true;
  if (sharedElements.isEmpty() || !sharedElements.valueAt(0).isLayoutRequested()) {
    viewsReady(sharedElements);
  }
 else {
    sharedElements.valueAt(0).getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){
      @Override public boolean onPreDraw(){
        sharedElements.valueAt(0).getViewTreeObserver().removeOnPreDrawListener(this);
        viewsReady(sharedElements);
        return true;
      }
    }
);
  }
}
