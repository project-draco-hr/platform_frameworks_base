{
  mMakeOpaque=false;
  notifyPrepareRestore();
  if (getDecor().getBackground() == null) {
    ColorDrawable black=new ColorDrawable(0xFF000000);
    getWindow().setBackgroundDrawable(black);
  }
  if (mWasOpaque) {
    mActivity.convertToTranslucent(new Activity.TranslucentConversionListener(){
      @Override public void onTranslucentConversionComplete(      boolean drawComplete){
        fadeOutBackground();
      }
    }
);
  }
 else {
    fadeOutBackground();
  }
  super.startExitTransition(sharedElements);
}
