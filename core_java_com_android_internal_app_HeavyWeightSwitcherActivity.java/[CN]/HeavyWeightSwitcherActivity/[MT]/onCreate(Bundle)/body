{
  super.onCreate(savedInstanceState);
  requestWindowFeature(Window.FEATURE_LEFT_ICON);
  mStartIntent=(IntentSender)getIntent().getParcelableExtra(KEY_INTENT);
  mHasResult=getIntent().getBooleanExtra(KEY_HAS_RESULT,false);
  mCurApp=getIntent().getStringExtra(KEY_CUR_APP);
  mCurTask=getIntent().getIntExtra(KEY_CUR_TASK,0);
  mNewApp=getIntent().getStringExtra(KEY_NEW_APP);
  setContentView(com.android.internal.R.layout.heavy_weight_switcher);
  setIconAndText(R.id.old_app_icon,R.id.old_app_action,R.id.old_app_description,mCurApp,R.string.old_app_action,R.string.old_app_description);
  setIconAndText(R.id.new_app_icon,R.id.new_app_action,R.id.new_app_description,mNewApp,R.string.new_app_action,R.string.new_app_description);
  View button=findViewById((R.id.switch_old));
  button.setOnClickListener(mSwitchOldListener);
  button=findViewById((R.id.switch_new));
  button.setOnClickListener(mSwitchNewListener);
  button=findViewById((R.id.cancel));
  button.setOnClickListener(mCancelListener);
  TypedValue out=new TypedValue();
  getTheme().resolveAttribute(android.R.attr.alertDialogIcon,out,true);
  getWindow().setFeatureDrawableResource(Window.FEATURE_LEFT_ICON,out.resourceId);
}
