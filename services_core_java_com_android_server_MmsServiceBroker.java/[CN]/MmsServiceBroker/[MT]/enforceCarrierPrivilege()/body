{
  String[] packages=getPackageManager().getPackagesForUid(Binder.getCallingUid());
  for (  String pkg : packages) {
    if (getTelephonyManager().checkCarrierPrivilegesForPackage(pkg) == TelephonyManager.CARRIER_PRIVILEGE_STATUS_HAS_ACCESS) {
      return;
    }
  }
  throw new SecurityException("No carrier privilege");
}
