{
  int defaultColor=DEFAULT_COLOR;
  boolean isOpaque=true;
  final int[][] states=mStateSpecs;
  final int[] colors=mColors;
  final int N=states.length;
  if (N > 0) {
    defaultColor=colors[0];
    for (int i=N - 1; i > 0; i--) {
      if (states[i].length == 0) {
        defaultColor=colors[i];
        break;
      }
    }
    for (int i=0; i < N; i++) {
      if (Color.alpha(colors[i]) != 0xFF) {
        isOpaque=false;
        break;
      }
    }
  }
  mDefaultColor=defaultColor;
  mIsOpaque=isOpaque;
}
