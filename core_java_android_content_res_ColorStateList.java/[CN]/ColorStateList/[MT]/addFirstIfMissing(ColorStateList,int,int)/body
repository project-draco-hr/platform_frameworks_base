{
  final int[][] inputStates=colorStateList.getStates();
  for (int i=0; i < inputStates.length; i++) {
    final int[] inputState=inputStates[i];
    for (int j=0; j < inputState.length; j++) {
      if (inputState[j] == state) {
        return colorStateList;
      }
    }
  }
  final int[][] outputStates=new int[inputStates.length + 1][];
  System.arraycopy(inputStates,0,outputStates,1,inputStates.length);
  outputStates[0]=new int[]{state};
  final int[] inputColors=colorStateList.getColors();
  final int[] outputColors=new int[inputColors.length + 1];
  System.arraycopy(inputColors,0,outputColors,1,inputColors.length);
  outputColors[0]=color;
  return new ColorStateList(outputStates,outputColors);
}
