{
  final ApplicationInfo info=mContext.getApplicationInfo();
  if ("com.google.android.googlequicksearchbox".equals(info.packageName) && info.versionCode <= 300400110) {
    Log.d(TAG,"Ignoring callback request from old prebuilt");
    return;
  }
synchronized (mDelegates) {
    final SessionCallbackDelegate delegate=new SessionCallbackDelegate(callback,handler.getLooper());
    try {
      mInstaller.registerCallback(delegate,mUserId);
    }
 catch (    RemoteException e) {
      throw e.rethrowAsRuntimeException();
    }
    mDelegates.add(delegate);
  }
}
