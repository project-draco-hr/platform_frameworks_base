{
  File file=null;
  String javaHome=System.getProperty("java.home");
  Locale l=Locale.getDefault();
  String language=l.getLanguage();
  String country=l.getCountry();
  String fileEncoding=System.getProperty("file.encoding");
  String os=System.getProperty("os.name");
  int i=0;
  for (; i < OS_VALUES.length; i++) {
    if (os.endsWith(OS_VALUES[i])) {
      os=OS_VALUES[i];
      break;
    }
  }
  if (i == OS_VALUES.length) {
    os=null;
  }
  String version=System.getProperty("os.version");
  String pathname;
  for (i=0; i < FP_FILE_NAMES.length; i++) {
    pathname=FP_FILE_NAMES[i];
    if (os != null) {
      pathname=pathname.replaceFirst("OS",os);
    }
    pathname=javaHome + pathname;
    pathname=pathname.replaceAll("Language",language).replaceAll("Country",country).replaceAll("Encoding",fileEncoding).replaceAll("Version",version);
    file=new File(pathname);
    if (file.exists()) {
      break;
    }
  }
  return file.exists() ? file : null;
}
