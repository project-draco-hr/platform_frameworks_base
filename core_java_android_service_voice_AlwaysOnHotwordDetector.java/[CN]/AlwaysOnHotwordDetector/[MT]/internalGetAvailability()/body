{
  ModuleProperties dspModuleProperties=null;
  try {
    dspModuleProperties=mModelManagementService.getDspModuleProperties(mVoiceInteractionService);
  }
 catch (  RemoteException e) {
    Slog.w(TAG,"RemoteException in getDspProperties!");
  }
  if (dspModuleProperties == null) {
    mRecognitionState=RECOGNITION_STATUS_NOT_AVAILABLE;
    return KEYPHRASE_HARDWARE_UNAVAILABLE;
  }
  if (mKeyphraseMetadata == null) {
    mRecognitionState=RECOGNITION_STATUS_NOT_AVAILABLE;
    return KEYPHRASE_UNSUPPORTED;
  }
  if (mEnrolledSoundModel == null) {
    mRecognitionState=RECOGNITION_STATUS_NOT_AVAILABLE;
    return KEYPHRASE_UNENROLLED;
  }
  mRecognitionState&=~RECOGNITION_STATUS_NOT_AVAILABLE;
  return KEYPHRASE_ENROLLED;
}
