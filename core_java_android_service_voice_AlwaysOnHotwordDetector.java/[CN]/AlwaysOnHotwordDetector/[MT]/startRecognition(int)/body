{
  if (mAvailability != KEYPHRASE_ENROLLED || (mRecognitionState & RECOGNITION_STATUS_NOT_AVAILABLE) != 0) {
    throw new UnsupportedOperationException("Recognition for the given keyphrase is not supported");
  }
  mRecognitionState&=RECOGNITION_STATUS_REQUESTED;
  KeyphraseRecognitionExtra[] recognitionExtra=new KeyphraseRecognitionExtra[1];
  recognitionExtra[0]=new KeyphraseRecognitionExtra(mKeyphraseMetadata.id,mKeyphraseMetadata.recognitionModeFlags,new ConfidenceLevel[0]);
  boolean captureTriggerAudio=(recognitionFlags & RECOGNITION_FLAG_CAPTURE_TRIGGER_AUDIO) != 0;
  int code=mSoundTriggerHelper.startRecognition(mKeyphraseMetadata.id,mEnrolledSoundModel.convertToSoundTriggerKeyphraseSoundModel(),mListener,new RecognitionConfig(captureTriggerAudio,recognitionExtra,null));
  if (code != SoundTriggerHelper.STATUS_OK) {
    Slog.w(TAG,"startRecognition() failed with error code " + code);
    return STATUS_ERROR;
  }
 else {
    return STATUS_OK;
  }
}
