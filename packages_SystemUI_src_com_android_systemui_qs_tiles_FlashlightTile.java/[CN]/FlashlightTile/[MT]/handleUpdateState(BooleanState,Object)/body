{
  state.visible=mFlashlightController.isAvailable();
  state.label=mHost.getContext().getString(R.string.quick_settings_flashlight_label);
  if (arg instanceof UserBoolean) {
    boolean value=((UserBoolean)arg).value;
    if (value == state.value) {
      return;
    }
    state.value=value;
  }
  final AnimationIcon icon=state.value ? mEnable : mDisable;
  icon.setAllowAnimation(arg instanceof UserBoolean && ((UserBoolean)arg).userInitiated);
  state.icon=icon;
  int onOrOffId=state.value ? R.string.accessibility_quick_settings_flashlight_on : R.string.accessibility_quick_settings_flashlight_off;
  state.contentDescription=mContext.getString(onOrOffId);
}
