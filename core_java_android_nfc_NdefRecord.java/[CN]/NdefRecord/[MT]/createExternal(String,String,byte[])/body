{
  if (domain.length() == 0 || type.length() == 0) {
    throw new IllegalArgumentException("empty domain or type");
  }
  byte[] byteDomain=domain.getBytes(Charsets.US_ASCII);
  ensureValidDomain(byteDomain);
  toLowerCase(byteDomain);
  byte[] byteType=type.getBytes(Charsets.US_ASCII);
  ensureValidWkt(byteType);
  toLowerCase(byteType);
  byte[] b=new byte[byteDomain.length + 1 + byteType.length];
  System.arraycopy(byteDomain,0,b,0,byteDomain.length);
  b[byteDomain.length]=':';
  System.arraycopy(byteType,0,b,byteDomain.length + 1,byteType.length);
  return new NdefRecord(TNF_EXTERNAL_TYPE,b,null,data);
}
