{
  final long now=AnimationUtils.currentAnimationTimeMillis();
  mTargetDisplacement=displacement;
  if (mState == STATE_PULL_DECAY && now - mStartTime < mDuration) {
    return;
  }
  if (mState != STATE_PULL) {
    mGlowScaleY=Math.max(PULL_GLOW_BEGIN,mGlowScaleY);
  }
  mState=STATE_PULL;
  mStartTime=now;
  mDuration=PULL_TIME;
  mPullDistance+=deltaDistance;
  mGlowAlpha=mGlowAlphaStart=Math.min(MAX_ALPHA,mGlowAlpha + (Math.abs(deltaDistance) * PULL_DISTANCE_ALPHA_GLOW_FACTOR));
  float glowChange=Math.abs(deltaDistance);
  if (deltaDistance > 0 && mPullDistance < 0) {
    glowChange=-glowChange;
  }
  if (mPullDistance == 0) {
    mGlowScaleY=0;
  }
  mGlowScaleY=mGlowScaleYStart=Math.min(MAX_GLOW_HEIGHT,Math.max(0,mGlowScaleY + glowChange * PULL_DISTANCE_GLOW_FACTOR));
  mGlowAlphaFinish=mGlowAlpha;
  mGlowScaleYFinish=mGlowScaleY;
}
