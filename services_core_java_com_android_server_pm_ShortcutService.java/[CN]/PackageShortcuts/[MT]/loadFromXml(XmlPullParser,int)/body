{
  final String packageName=ShortcutService.parseStringAttribute(parser,ShortcutService.ATTR_NAME);
  final PackageShortcuts ret=new PackageShortcuts(userId,packageName);
  ret.mDynamicShortcutCount=ShortcutService.parseIntAttribute(parser,ShortcutService.ATTR_DYNAMIC_COUNT);
  ret.mApiCallCount=ShortcutService.parseIntAttribute(parser,ShortcutService.ATTR_CALL_COUNT);
  ret.mLastResetTime=ShortcutService.parseLongAttribute(parser,ShortcutService.ATTR_LAST_RESET);
  final int outerDepth=parser.getDepth();
  int type;
  while ((type=parser.next()) != XmlPullParser.END_DOCUMENT && (type != XmlPullParser.END_TAG || parser.getDepth() > outerDepth)) {
    if (type != XmlPullParser.START_TAG) {
      continue;
    }
    final int depth=parser.getDepth();
    final String tag=parser.getName();
switch (tag) {
case ShortcutService.TAG_SHORTCUT:
      final ShortcutInfo si=parseShortcut(parser,packageName);
    ret.mShortcuts.put(si.getId(),si);
  continue;
}
throw ShortcutService.throwForInvalidTag(depth,tag);
}
return ret;
}
