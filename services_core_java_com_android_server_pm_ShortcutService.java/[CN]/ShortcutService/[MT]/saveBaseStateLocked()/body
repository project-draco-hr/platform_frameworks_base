{
  final AtomicFile file=getBaseStateFile();
  if (DEBUG) {
    Slog.d(TAG,"Saving to " + file.getBaseFile());
  }
  FileOutputStream outs=null;
  try {
    outs=file.startWrite();
    XmlSerializer out=new FastXmlSerializer();
    out.setOutput(outs,StandardCharsets.UTF_8.name());
    out.startDocument(null,true);
    out.startTag(null,TAG_ROOT);
    writeTagValue(out,TAG_LAST_RESET_TIME,mRawLastResetTime);
    writeTagValue(out,TAG_LOCALE_CHANGE_SEQUENCE_NUMBER,mLocaleChangeSequenceNumber.get());
    out.endTag(null,TAG_ROOT);
    out.endDocument();
    file.finishWrite(outs);
  }
 catch (  IOException e) {
    Slog.e(TAG,"Failed to write to file " + file.getBaseFile(),e);
    file.failWrite(outs);
  }
}
