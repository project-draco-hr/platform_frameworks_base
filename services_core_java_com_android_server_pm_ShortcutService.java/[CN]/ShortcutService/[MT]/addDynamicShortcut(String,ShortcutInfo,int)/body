{
  verifyCaller(packageName,userId);
synchronized (mLock) {
    getUserShortcutsLocked(userId).ensurePackageInfo(this,packageName,userId);
    final ShortcutPackage ps=getPackageShortcutsLocked(packageName,userId);
    if (!ps.tryApiCall(this)) {
      return false;
    }
    fixUpIncomingShortcutInfo(newShortcut,false);
    ps.addDynamicShortcut(this,newShortcut);
  }
  userPackageChanged(packageName,userId);
  return true;
}
