{
  Preconditions.checkNotNull(shortcut,"shortcut");
synchronized (mLock) {
    final ShortcutInfo fullShortcut=getPackageShortcutsLocked(shortcut.getPackageName(),userId).getShortcuts().get(shortcut.getId());
    if (fullShortcut == null) {
      return null;
    }
 else {
      final Intent intent=fullShortcut.getIntent();
      final PersistableBundle extras=fullShortcut.getIntentPersistableExtras();
      if (extras != null) {
        intent.replaceExtras(new Bundle(extras));
      }
      return intent;
    }
  }
}
