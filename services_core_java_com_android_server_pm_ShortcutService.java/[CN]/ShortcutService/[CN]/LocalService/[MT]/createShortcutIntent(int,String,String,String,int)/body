{
  Preconditions.checkStringNotEmpty(packageName,"packageName can't be empty");
  Preconditions.checkStringNotEmpty(shortcutId,"shortcutId can't be empty");
synchronized (mLock) {
    getLauncherShortcutsLocked(callingPackage,userId,launcherUserId).attemptToRestoreIfNeededAndSave(ShortcutService.this);
    final ShortcutInfo si=getShortcutInfoLocked(launcherUserId,callingPackage,packageName,shortcutId,userId);
    if (si == null || !(si.isDynamic() || si.isPinned())) {
      return null;
    }
    return si.getIntent();
  }
}
