{
  Preconditions.checkNotNull(callingPackage,"callingPackage");
  Preconditions.checkNotNull(packageName,"packageName");
  Preconditions.checkNotNull(shortcutId,"shortcutId");
synchronized (mLock) {
    getLauncherShortcutsLocked(callingPackage,userId,launcherUserId).attemptToRestoreIfNeededAndSave(ShortcutService.this);
    final ShortcutInfo shortcutInfo=getPackageShortcutsLocked(packageName,userId).findShortcutById(shortcutId);
    return (shortcutInfo != null && shortcutInfo.hasIconResource()) ? shortcutInfo.getIconResourceId() : 0;
  }
}
