{
  Preconditions.checkNotNull(shortcutIn,"shortcut");
synchronized (mLock) {
    getLauncherShortcutsLocked(callingPackage,userId,launcherUserId).attemptToRestoreIfNeededAndSave(ShortcutService.this);
    final ShortcutInfo shortcutInfo=getPackageShortcutsLocked(shortcutIn.getPackageName(),userId).findShortcutById(shortcutIn.getId());
    if (shortcutInfo == null || !shortcutInfo.hasIconFile()) {
      return null;
    }
    try {
      if (shortcutInfo.getBitmapPath() == null) {
        Slog.w(TAG,"null bitmap detected in getShortcutIconFd()");
        return null;
      }
      return ParcelFileDescriptor.open(new File(shortcutInfo.getBitmapPath()),ParcelFileDescriptor.MODE_READ_ONLY);
    }
 catch (    FileNotFoundException e) {
      Slog.e(TAG,"Icon file not found: " + shortcutInfo.getBitmapPath());
      return null;
    }
  }
}
