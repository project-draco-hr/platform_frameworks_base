{
  mContext=Preconditions.checkNotNull(context);
  LocalServices.addService(ShortcutServiceInternal.class,new LocalService());
  mHandler=new Handler(looper);
  mIPackageManager=AppGlobals.getPackageManager();
  mPackageManagerInternal=LocalServices.getService(PackageManagerInternal.class);
  mUserManager=context.getSystemService(UserManager.class);
  if (!FEATURE_ENABLED) {
    return;
  }
  mPackageMonitor.register(context,looper,UserHandle.ALL,false);
  injectRegisterUidObserver(mUidObserver,ActivityManager.UID_OBSERVER_PROCSTATE | ActivityManager.UID_OBSERVER_GONE);
}
