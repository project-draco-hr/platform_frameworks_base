{
  LinkProperties rmnet0=new LinkProperties();
  rmnet0.setInterfaceName("rmnet0");
  rmnet0.addLinkAddress(LINKADDRV6);
  LinkProperties clat4=new LinkProperties();
  clat4.setInterfaceName("clat4");
  clat4.addLinkAddress(LINKADDRV4);
  assertEquals(0,rmnet0.getStackedLinks().size());
  assertEquals(1,rmnet0.getAddresses().size());
  assertEquals(1,rmnet0.getLinkAddresses().size());
  assertEquals(1,rmnet0.getAllAddresses().size());
  assertEquals(1,rmnet0.getAllLinkAddresses().size());
  rmnet0.addStackedLink(clat4);
  assertEquals(1,rmnet0.getStackedLinks().size());
  assertEquals(1,rmnet0.getAddresses().size());
  assertEquals(1,rmnet0.getLinkAddresses().size());
  assertEquals(2,rmnet0.getAllAddresses().size());
  assertEquals(2,rmnet0.getAllLinkAddresses().size());
  rmnet0.addStackedLink(clat4);
  assertEquals(1,rmnet0.getStackedLinks().size());
  assertEquals(1,rmnet0.getAddresses().size());
  assertEquals(1,rmnet0.getLinkAddresses().size());
  assertEquals(2,rmnet0.getAllAddresses().size());
  assertEquals(2,rmnet0.getAllLinkAddresses().size());
  assertEquals(0,clat4.getStackedLinks().size());
  for (  LinkProperties link : rmnet0.getStackedLinks()) {
    if (link.getInterfaceName().equals("clat4")) {
      link.setInterfaceName("newname");
    }
  }
  for (  LinkProperties link : rmnet0.getStackedLinks()) {
    assertFalse("newname".equals(link.getInterfaceName()));
  }
  assertTrue(rmnet0.removeStackedLink(clat4));
  assertEquals(0,rmnet0.getStackedLinks().size());
  assertEquals(1,rmnet0.getAddresses().size());
  assertEquals(1,rmnet0.getLinkAddresses().size());
  assertEquals(1,rmnet0.getAllAddresses().size());
  assertEquals(1,rmnet0.getAllLinkAddresses().size());
  assertFalse(rmnet0.removeStackedLink(clat4));
}
