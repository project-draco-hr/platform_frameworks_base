{
  LinkProperties v4lp=new LinkProperties();
  v4lp.addLinkAddress(LINKADDRV4);
  v4lp.addRoute(new RouteInfo(GATEWAY1));
  v4lp.addDnsServer(DNS1);
  assertTrue(v4lp.isProvisioned());
  LinkProperties v4r=new LinkProperties(v4lp);
  v4r.removeDnsServer(DNS1);
  assertFalse(v4r.isProvisioned());
  assertEquals(ProvisioningChange.STILL_NOT_PROVISIONED,LinkProperties.compareProvisioning(v4r,v4r));
  assertEquals(ProvisioningChange.LOST_PROVISIONING,LinkProperties.compareProvisioning(v4lp,v4r));
  assertEquals(ProvisioningChange.GAINED_PROVISIONING,LinkProperties.compareProvisioning(v4r,v4lp));
  assertEquals(ProvisioningChange.STILL_PROVISIONED,LinkProperties.compareProvisioning(v4lp,v4lp));
  LinkProperties v6lp=new LinkProperties();
  v6lp.addLinkAddress(LINKADDRV6);
  v6lp.addRoute(new RouteInfo(GATEWAY61));
  v6lp.addDnsServer(DNS6);
  assertFalse(v6lp.isIPv4Provisioned());
  assertTrue(v6lp.isIPv6Provisioned());
  assertTrue(v6lp.isProvisioned());
  LinkProperties v46lp=new LinkProperties(v6lp);
  v46lp.addLinkAddress(LINKADDRV4);
  v46lp.addRoute(new RouteInfo(GATEWAY1));
  v46lp.addDnsServer(DNS1);
  assertTrue(v46lp.isIPv4Provisioned());
  assertTrue(v46lp.isIPv6Provisioned());
  assertTrue(v46lp.isProvisioned());
  assertEquals(ProvisioningChange.STILL_PROVISIONED,LinkProperties.compareProvisioning(v4lp,v46lp));
  assertEquals(ProvisioningChange.STILL_PROVISIONED,LinkProperties.compareProvisioning(v6lp,v46lp));
  assertEquals(ProvisioningChange.LOST_PROVISIONING,LinkProperties.compareProvisioning(v46lp,v6lp));
  assertEquals(ProvisioningChange.LOST_PROVISIONING,LinkProperties.compareProvisioning(v46lp,v4lp));
  LinkProperties v6lp2=new LinkProperties(v6lp);
  v6lp2.addRoute(new RouteInfo(GATEWAY62));
  assertTrue(v6lp2.isProvisioned());
  assertEquals(ProvisioningChange.STILL_PROVISIONED,LinkProperties.compareProvisioning(v6lp2,v6lp));
  assertEquals(ProvisioningChange.STILL_PROVISIONED,LinkProperties.compareProvisioning(v6lp,v6lp2));
}
