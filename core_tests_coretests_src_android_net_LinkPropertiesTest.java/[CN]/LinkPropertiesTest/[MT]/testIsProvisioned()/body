{
  LinkProperties lp4=new LinkProperties();
  assertFalse("v4only:empty",lp4.isProvisioned());
  lp4.addLinkAddress(LINKADDRV4);
  assertFalse("v4only:addr-only",lp4.isProvisioned());
  lp4.addDnsServer(DNS1);
  assertFalse("v4only:addr+dns",lp4.isProvisioned());
  lp4.addRoute(new RouteInfo(GATEWAY1));
  assertTrue("v4only:addr+dns+route",lp4.isProvisioned());
  LinkProperties lp6=new LinkProperties();
  assertFalse("v6only:empty",lp6.isProvisioned());
  lp6.addLinkAddress(LINKADDRV6LINKLOCAL);
  assertFalse("v6only:fe80-only",lp6.isProvisioned());
  lp6.addDnsServer(DNS6);
  assertFalse("v6only:fe80+dns",lp6.isProvisioned());
  lp6.addRoute(new RouteInfo(GATEWAY6));
  assertFalse("v6only:fe80+dns+route",lp6.isProvisioned());
  lp6.addLinkAddress(LINKADDRV6);
  assertTrue("v6only:fe80+global+dns+route",lp6.isProvisioned());
  lp6.removeLinkAddress(LINKADDRV6LINKLOCAL);
  assertTrue("v6only:global+dns+route",lp6.isProvisioned());
  LinkProperties lp46=new LinkProperties();
  lp46.addLinkAddress(LINKADDRV4);
  lp46.addLinkAddress(LINKADDRV6);
  lp46.addDnsServer(DNS1);
  lp46.addDnsServer(DNS6);
  assertFalse("dualstack:missing-routes",lp46.isProvisioned());
  lp46.addRoute(new RouteInfo(GATEWAY1));
  assertTrue("dualstack:v4-provisioned",lp46.isProvisioned());
  lp6.addRoute(new RouteInfo(GATEWAY6));
  assertTrue("dualstack:both-provisioned",lp46.isProvisioned());
  LinkProperties mixed=new LinkProperties();
  mixed.addLinkAddress(LINKADDRV6);
  mixed.addDnsServer(DNS1);
  mixed.addRoute(new RouteInfo(GATEWAY6));
  assertFalse("mixed:addr6+route6+dns4",mixed.isProvisioned());
}
