{
  Notification n=notification.notification;
  RemoteViews remoteViews=n.contentView;
  if (remoteViews == null) {
    return null;
  }
  LayoutInflater inflater=(LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  View row=inflater.inflate(R.layout.status_bar_notification_row,parent,false);
  View vetoButton=row.findViewById(R.id.veto);
  if (notification.isClearable()) {
    final String _pkg=notification.pkg;
    final String _tag=notification.tag;
    final int _id=notification.id;
    vetoButton.setOnClickListener(new View.OnClickListener(){
      public void onClick(      View v){
        try {
          mBarService.onNotificationClear(_pkg,_tag,_id);
        }
 catch (        RemoteException ex) {
        }
      }
    }
);
  }
 else {
    if ((notification.notification.flags & Notification.FLAG_ONGOING_EVENT) == 0) {
      vetoButton.setVisibility(View.INVISIBLE);
    }
 else {
      vetoButton.setVisibility(View.GONE);
    }
  }
  ImageView largeIcon=(ImageView)row.findViewById(R.id.large_icon);
  if (notification.notification.largeIcon != null) {
    largeIcon.setImageBitmap(notification.notification.largeIcon);
  }
 else {
    largeIcon.getLayoutParams().width=0;
    largeIcon.setVisibility(View.INVISIBLE);
  }
  ViewGroup content=(ViewGroup)row.findViewById(R.id.content);
  content.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);
  content.setOnFocusChangeListener(mFocusChangeListener);
  PendingIntent contentIntent=n.contentIntent;
  if (contentIntent != null) {
    content.setOnClickListener(new Launcher(contentIntent,notification.pkg,notification.tag,notification.id));
  }
 else {
    content.setOnClickListener(null);
  }
  View expanded=null;
  Exception exception=null;
  try {
    expanded=remoteViews.apply(mContext,content);
  }
 catch (  RuntimeException e) {
    exception=e;
  }
  if (expanded == null) {
    String ident=notification.pkg + "/0x" + Integer.toHexString(notification.id);
    Slog.e(TAG,"couldn't inflate view for notification " + ident,exception);
    return null;
  }
 else {
    content.addView(expanded);
    row.setDrawingCacheEnabled(true);
  }
  return new View[]{row,content,expanded};
}
