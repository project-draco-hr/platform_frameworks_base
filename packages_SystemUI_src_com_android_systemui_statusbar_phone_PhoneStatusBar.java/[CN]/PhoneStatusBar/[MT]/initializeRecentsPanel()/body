{
  boolean visible=false;
  if (mRecentsPanel != null) {
    visible=mRecentsPanel.getVisibility() == View.VISIBLE;
    WindowManagerImpl.getDefault().removeView(mRecentsPanel);
  }
  mRecentsPanel=(RecentsPanelView)View.inflate(mContext,R.layout.status_bar_recent_panel,null);
  mRecentsPanel.setOnTouchListener(new TouchOutsideListener(MSG_CLOSE_RECENTS_PANEL,mRecentsPanel));
  mRecentsPanel.setVisibility(View.GONE);
  WindowManager.LayoutParams lp=getRecentsLayoutParams();
  WindowManagerImpl.getDefault().addView(mRecentsPanel,lp);
  mRecentsPanel.setBar(this);
  if (visible) {
    mRecentsPanel.setVisibility(View.VISIBLE);
    mRecentsPanel.show(true,false);
  }
}
