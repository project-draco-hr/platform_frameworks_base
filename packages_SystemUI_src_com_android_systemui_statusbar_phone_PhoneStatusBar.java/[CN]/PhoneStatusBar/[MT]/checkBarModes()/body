{
  if (mDemoMode)   return;
  int sbMode=mStatusBarMode;
  if (panelsEnabled() && (mInteractingWindows & StatusBarManager.WINDOW_STATUS_BAR) != 0 && !mOnKeyguard) {
    sbMode=MODE_OPAQUE;
  }
  checkBarMode(sbMode,mStatusBarWindowState,mStatusBarView.getBarTransitions());
  if (mNavigationBarView != null) {
    checkBarMode(mNavigationBarMode,mNavigationBarWindowState,mNavigationBarView.getBarTransitions());
  }
}
