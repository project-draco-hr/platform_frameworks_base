{
  if (onlyProvisioned && !isDeviceProvisioned())   return;
  final boolean afterKeyguardGone=PreviewInflater.wouldLaunchResolverActivity(mContext,intent,mCurrentUserId);
  final boolean keyguardShowing=mStatusBarKeyguardViewManager.isShowing();
  Runnable runnable=new Runnable(){
    public void run(){
      intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);
      mContext.startActivityAsUser(intent,new UserHandle(UserHandle.USER_CURRENT));
      overrideActivityPendingAppTransition(keyguardShowing && !afterKeyguardGone);
    }
  }
;
  executeRunnableDismissingKeyguard(runnable,dismissShade,afterKeyguardGone);
}
