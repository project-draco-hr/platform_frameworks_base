{
  if (DEBUG) {
    Slog.d(TAG,"updateExpandedSize()");
  }
  if (mExpandedDialog != null && mExpandedParams != null && mDisplayMetrics != null) {
    mExpandedParams.width=mDisplayMetrics.widthPixels;
    mExpandedParams.height=getExpandedHeight(mDisplayMetrics.heightPixels);
    if (!mExpandedVisible) {
      updateExpandedInvisiblePosition();
    }
 else {
      mExpandedDialog.getWindow().setAttributes(mExpandedParams);
    }
    if (DEBUG) {
      Slog.d(TAG,"updateExpandedSize: height=" + mExpandedParams.height + " "+ (mExpandedVisible ? "VISIBLE" : "INVISIBLE"));
    }
  }
}
