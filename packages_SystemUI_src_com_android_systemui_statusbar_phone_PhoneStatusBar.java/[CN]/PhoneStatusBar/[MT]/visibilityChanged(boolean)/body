{
  if (visible) {
    mStackScroller.setChildLocationsChangedListener(mNotificationLocationsChangedListener);
  }
 else {
    if (!mCurrentlyVisibleNotifications.isEmpty()) {
      logNotificationVisibilityChanges(Collections.<String>emptyList(),mCurrentlyVisibleNotifications);
      mCurrentlyVisibleNotifications.clear();
    }
    mHandler.removeCallbacks(mVisibilityReporter);
    mStackScroller.setChildLocationsChangedListener(null);
  }
  super.visibilityChanged(visible);
}
