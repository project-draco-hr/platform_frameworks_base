{
  ExpandableNotificationRow row=null;
  if (expandView instanceof ExpandableNotificationRow) {
    row=(ExpandableNotificationRow)expandView;
    row.setUserExpanded(true);
  }
  if (isLockscreenPublicMode() && !userAllowsPrivateNotificationsInPublic(mCurrentUserId)) {
    mLeaveOpenOnKeyguardHide=true;
    showBouncer();
    mDraggedDownRow=row;
  }
 else {
    mNotificationPanel.animateToFullShade(0);
    setBarState(StatusBarState.SHADE_LOCKED);
    updateKeyguardState(false,false);
    if (row != null) {
      row.setUserLocked(false);
    }
  }
}
