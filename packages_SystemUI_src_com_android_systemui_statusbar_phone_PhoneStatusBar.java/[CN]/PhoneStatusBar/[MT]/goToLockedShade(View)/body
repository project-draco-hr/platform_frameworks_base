{
  if (expandView instanceof ExpandableNotificationRow) {
    ExpandableNotificationRow row=(ExpandableNotificationRow)expandView;
    row.setUserExpanded(true);
  }
  if (isLockscreenPublicMode() && !userAllowsPrivateNotificationsInPublic(mCurrentUserId)) {
    mLeaveOpenOnKeyguardHide=true;
    showBouncer();
  }
 else {
    mNotificationPanel.animateToFullShade();
    setBarState(StatusBarState.SHADE_LOCKED);
    updateKeyguardState();
  }
}
