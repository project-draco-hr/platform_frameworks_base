{
  if (SPEW) {
    Slog.d(TAG,"Touch: rawY=" + event.getRawY() + " event="+ event+ " mDisabled="+ mDisabled);
  }
 else   if (CHATTY) {
    if (event.getAction() == MotionEvent.ACTION_DOWN) {
      Slog.d(TAG,String.format("panel: ACTION_DOWN at (%f, %f) mDisabled=0x%08x",event.getRawX(),event.getRawY(),mDisabled));
    }
  }
  if ((mDisabled & StatusBarManager.DISABLE_EXPAND) != 0) {
    return false;
  }
  final int action=event.getAction();
  final int statusBarSize=mStatusBarView.getHeight();
  final int hitSize=statusBarSize * 2;
  if (action == MotionEvent.ACTION_DOWN) {
    final int y=(int)event.getRawY();
    if (!mExpanded) {
      mViewDelta=statusBarSize - y;
    }
 else {
      mTrackingView.getLocationOnScreen(mAbsPos);
      mViewDelta=mAbsPos[1] + mTrackingView.getHeight() - y;
    }
    if ((!mExpanded && y < hitSize) || (mExpanded && y > (mDisplayMetrics.heightPixels - hitSize))) {
      int x=(int)event.getRawX();
      final int edgeBorder=mEdgeBorder;
      if (x >= edgeBorder && x < mDisplayMetrics.widthPixels - edgeBorder) {
        prepareTracking(y,!mExpanded);
        trackMovement(event);
      }
    }
  }
 else   if (mTracking) {
    trackMovement(event);
    final int minY=statusBarSize + mCloseView.getHeight();
    if (action == MotionEvent.ACTION_MOVE) {
      int y=(int)event.getRawY();
      if (mAnimatingReveal && y < minY) {
      }
 else {
        mAnimatingReveal=false;
        updateExpandedViewPos(y + mViewDelta);
      }
    }
 else     if (action == MotionEvent.ACTION_UP || action == MotionEvent.ACTION_CANCEL) {
      mVelocityTracker.computeCurrentVelocity(1000);
      float yVel=mVelocityTracker.getYVelocity();
      boolean negative=yVel < 0;
      float xVel=mVelocityTracker.getXVelocity();
      if (xVel < 0) {
        xVel=-xVel;
      }
      if (xVel > mFlingGestureMaxXVelocityPx) {
        xVel=mFlingGestureMaxXVelocityPx;
      }
      float vel=(float)Math.hypot(yVel,xVel);
      if (negative) {
        vel=-vel;
      }
      if (CHATTY) {
        Slog.d(TAG,String.format("gesture: vraw=(%f,%f) vnorm=(%f,%f) vlinear=%f",mVelocityTracker.getXVelocity(),mVelocityTracker.getYVelocity(),xVel,yVel,vel));
      }
      performFling((int)event.getRawY(),vel,false);
    }
  }
  return false;
}
