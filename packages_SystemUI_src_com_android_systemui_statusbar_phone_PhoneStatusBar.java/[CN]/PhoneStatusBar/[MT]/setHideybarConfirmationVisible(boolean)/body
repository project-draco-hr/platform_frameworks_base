{
  if (DEBUG)   Log.d(TAG,"setHideybarConfirmationVisible " + visible);
  if (visible && mHideybarConfirmation == null && !mHideybarConfirmationDismissed) {
    int msg=R.string.hideybar_confirmation_message;
    mHideybarConfirmation=Toast.makeBar(mContext,msg,Toast.LENGTH_INFINITE).setAction(com.android.internal.R.string.ok,mHideybarConfirmationAction);
    View v=mHideybarConfirmation.getView();
    v.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION);
    boolean isGloballyConfirmed=Prefs.read(mContext).getBoolean(Prefs.HIDEYBAR_CONFIRMED,false);
    if (isGloballyConfirmed) {
      v.setOnTouchListener(mDismissHideybarConfirmationOnTouchOutside);
    }
    v.measure(MeasureSpec.UNSPECIFIED,MeasureSpec.UNSPECIFIED);
    int offsetY=mContext.getResources().getDimensionPixelSize(com.android.internal.R.dimen.toast_y_offset);
    mHideybarConfirmation.setGravity(Gravity.TOP,0,mCurrentDisplaySize.y - v.getMeasuredHeight() / 2 - offsetY);
    mHideybarConfirmation.show();
  }
 else   if (!visible) {
    dismissHideybarConfirmation();
  }
}
