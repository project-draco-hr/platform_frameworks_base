{
  boolean showing=state == WINDOW_STATE_SHOWING;
  if (mStatusBarWindow != null && window == StatusBarManager.WINDOW_STATUS_BAR && mStatusBarWindowState != state) {
    mStatusBarWindowState=state;
    if (DEBUG_WINDOW_STATE)     Log.d(TAG,"Status bar " + windowStateToString(state));
    if (!showing) {
      if (DEBUG_EMPTY_KEYGUARD) {
        Log.i(TAG,"Collapsing panel from setWindowState");
      }
      mStatusBarView.collapseAllPanels(false);
    }
  }
  if (mNavigationBarView != null && window == StatusBarManager.WINDOW_NAVIGATION_BAR && mNavigationBarWindowState != state) {
    mNavigationBarWindowState=state;
    if (DEBUG_WINDOW_STATE)     Log.d(TAG,"Navigation bar " + windowStateToString(state));
  }
}
