{
  final int count=mPile.getChildCount();
switch (layerType) {
case View.LAYER_TYPE_NONE:
    for (int i=0; i < count; i++) {
      mPile.getChildAt(i).setLayerType(layerType,null);
    }
  break;
case View.LAYER_TYPE_HARDWARE:
final int[] location=new int[2];
mNotificationPanel.getLocationInWindow(location);
final int left=location[0];
final int top=location[1];
final int right=left + mNotificationPanel.getWidth();
final int bottom=top + getExpandedViewMaxHeight();
final Rect childBounds=new Rect();
for (int i=0; i < count; i++) {
final View view=mPile.getChildAt(i);
view.getLocationInWindow(location);
childBounds.set(location[0],location[1],location[0] + view.getWidth(),location[1] + view.getHeight());
if (childBounds.intersects(left,top,right,bottom)) {
view.setLayerType(layerType,null);
}
}
break;
}
}
