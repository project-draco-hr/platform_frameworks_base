{
  if (DEBUG)   Log.d(TAG,"setHidingNavigationConfirmationVisible " + visible);
  if (visible && mHidingNavigationConfirmation == null && !mHidingNavigationConfirmationDismissed) {
    int msg=R.string.hiding_navigation_confirmation_message;
    mHidingNavigationConfirmation=Toast.makeBar(mContext,msg,Toast.LENGTH_INFINITE).setAction(com.android.internal.R.string.ok,mHidingNavigationConfirmationAction);
    View v=mHidingNavigationConfirmation.getView();
    v.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION);
    boolean isGloballyConfirmed=Prefs.read(mContext).getBoolean(Prefs.HIDING_NAVIGATION_CONFIRMED,false);
    if (isGloballyConfirmed) {
      v.setOnTouchListener(mDismissHidingNavigationConfirmationOnTouchOutside);
    }
    v.measure(MeasureSpec.UNSPECIFIED,MeasureSpec.UNSPECIFIED);
    int offsetY=mContext.getResources().getDimensionPixelSize(com.android.internal.R.dimen.toast_y_offset);
    mHidingNavigationConfirmation.setGravity(Gravity.TOP,0,mCurrentDisplaySize.y - v.getMeasuredHeight() / 2 - offsetY);
    mHidingNavigationConfirmation.show();
  }
 else   if (!visible) {
    dismissHidingNavigationConfirmation();
  }
}
