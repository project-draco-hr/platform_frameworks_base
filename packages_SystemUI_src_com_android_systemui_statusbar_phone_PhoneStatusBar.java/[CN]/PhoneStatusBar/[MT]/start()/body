{
  mDisplay=((WindowManager)mContext.getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
  updateDisplaySize();
  super.start();
  mMediaSessionManager=(MediaSessionManager)mContext.getSystemService(Context.MEDIA_SESSION_SERVICE);
  addNavigationBar();
  mIconPolicy=new PhoneStatusBarPolicy(mContext,mCastController);
  mSettingsObserver.onChange(false);
  mHeadsUpObserver.onChange(true);
  if (ENABLE_HEADS_UP) {
    mContext.getContentResolver().registerContentObserver(Settings.Global.getUriFor(Settings.Global.HEADS_UP_NOTIFICATIONS_ENABLED),true,mHeadsUpObserver);
    mContext.getContentResolver().registerContentObserver(Settings.Global.getUriFor(SETTING_HEADS_UP_TICKER),true,mHeadsUpObserver);
  }
  mUnlockMethodCache=UnlockMethodCache.getInstance(mContext);
  startKeyguard();
  mDozeServiceHost=new DozeServiceHost();
  putComponent(DozeHost.class,mDozeServiceHost);
  putComponent(PhoneStatusBar.class,this);
  setControllerUsers();
  notifyUserAboutHiddenNotifications();
}
