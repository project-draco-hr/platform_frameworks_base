{
  KeyguardViewMediator keyguardViewMediator=getComponent(KeyguardViewMediator.class);
  mFingerprintUnlockController=new FingerprintUnlockController(mContext,mStatusBarWindowManager,mDozeScrimController,keyguardViewMediator,mScrimController,this);
  mStatusBarKeyguardViewManager=keyguardViewMediator.registerStatusBar(this,getBouncerContainer(),mStatusBarWindowManager,mScrimController,mFingerprintUnlockController);
  mKeyguardIndicationController.setStatusBarKeyguardViewManager(mStatusBarKeyguardViewManager);
  mFingerprintUnlockController.setStatusBarKeyguardViewManager(mStatusBarKeyguardViewManager);
  mIconPolicy.setStatusBarKeyguardViewManager(mStatusBarKeyguardViewManager);
  mRemoteInputController.addCallback(mStatusBarKeyguardViewManager);
  if (FORCE_REMOTE_INPUT_HISTORY) {
    mRemoteInputController.addCallback(new RemoteInputController.Callback(){
      @Override public void onRemoteInputSent(      Entry entry){
        if (mKeysKeptForRemoteInput.contains(entry.key)) {
          removeNotification(entry.key,null);
        }
      }
    }
);
  }
  mKeyguardViewMediatorCallback=keyguardViewMediator.getViewMediatorCallback();
  mLightStatusBarController.setFingerprintUnlockController(mFingerprintUnlockController);
}
