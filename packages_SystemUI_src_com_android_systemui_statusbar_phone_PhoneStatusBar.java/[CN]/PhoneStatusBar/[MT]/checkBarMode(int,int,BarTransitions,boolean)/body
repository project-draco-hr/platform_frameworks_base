{
  final boolean powerSave=mBatteryController.isPowerSave();
  final boolean anim=!noAnimation && (mScreenOn == null || mScreenOn) && windowState != WINDOW_STATE_HIDDEN && !powerSave;
  if (powerSave && getBarState() == StatusBarState.SHADE) {
    mode=MODE_WARNING;
  }
  transitions.transitionTo(mode,anim);
}
