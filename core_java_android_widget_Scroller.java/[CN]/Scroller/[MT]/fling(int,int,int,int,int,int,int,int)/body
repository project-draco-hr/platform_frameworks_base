{
  mMode=FLING_MODE;
  mFinished=false;
  float velocity=(float)Math.hypot(velocityX,velocityY);
  mVelocity=velocity;
  mDuration=(int)(1000 * velocity / mDeceleration);
  mStartTime=AnimationUtils.currentAnimationTimeMillis();
  mStartX=startX;
  mStartY=startY;
  mCoeffX=velocity == 0 ? 1.0f : velocityX / velocity;
  mCoeffY=velocity == 0 ? 1.0f : velocityY / velocity;
  int totalDistance=(int)((velocity * velocity) / (2 * mDeceleration));
  mMinX=minX;
  mMaxX=maxX;
  mMinY=minY;
  mMaxY=maxY;
  mFinalX=startX + Math.round(totalDistance * mCoeffX);
  mFinalX=Math.min(mFinalX,mMaxX);
  mFinalX=Math.max(mFinalX,mMinX);
  mFinalY=startY + Math.round(totalDistance * mCoeffY);
  mFinalY=Math.min(mFinalY,mMaxY);
  mFinalY=Math.max(mFinalY,mMinY);
}
