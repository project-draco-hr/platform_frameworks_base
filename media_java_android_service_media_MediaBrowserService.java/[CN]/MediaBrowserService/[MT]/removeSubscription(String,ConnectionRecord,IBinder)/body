{
  if (token == null) {
    return connection.subscriptions.remove(id) != null;
  }
  boolean removed=false;
  List<Pair<IBinder,Bundle>> callbackList=connection.subscriptions.get(id);
  if (callbackList != null) {
    for (    Pair<IBinder,Bundle> callback : callbackList) {
      if (token == callback.first) {
        removed=true;
        callbackList.remove(callback);
      }
    }
    if (callbackList.size() == 0) {
      connection.subscriptions.remove(id);
    }
  }
  return removed;
}
