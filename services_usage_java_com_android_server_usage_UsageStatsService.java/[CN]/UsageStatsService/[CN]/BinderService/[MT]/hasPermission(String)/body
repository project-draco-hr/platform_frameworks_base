{
  final int mode=mAppOps.checkOp(AppOpsManager.OP_GET_USAGE_STATS,Binder.getCallingUid(),callingPackage);
  if (mode == AppOpsManager.MODE_DEFAULT) {
    return getContext().checkCallingPermission(Manifest.permission.PACKAGE_USAGE_STATS) == PackageManager.PERMISSION_GRANTED;
  }
  return mode == AppOpsManager.MODE_ALLOWED;
}
