{
  if (bucketType < 0 || bucketType >= UsageStatsManager.BUCKET_COUNT) {
    return UsageStats.EMPTY_STATS;
  }
  final long timeNow=System.currentTimeMillis();
  if (beginTime > timeNow) {
    return UsageStats.EMPTY_STATS;
  }
synchronized (mLock) {
    UserUsageStatsService service=getUserDataAndInitializeIfNeededLocked(userId);
    return service.getUsageStats(bucketType,beginTime);
  }
}
