{
synchronized (mLock) {
    final long timeNow=checkAndGetTimeLocked();
    final UserUsageStatsService service=getUserDataAndInitializeIfNeededLocked(userId,timeNow);
    long beginIdleTime=service.getBeginIdleTime(packageName);
    return hasPassedIdleTimeout(beginIdleTime,getScreenOnTimeLocked(timeNow));
  }
}
