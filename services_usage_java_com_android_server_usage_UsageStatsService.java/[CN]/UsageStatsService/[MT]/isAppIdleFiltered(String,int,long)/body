{
  final UserUsageStatsService userService;
  final long screenOnTime;
synchronized (mLock) {
    if (timeNow == -1) {
      timeNow=checkAndGetTimeLocked();
    }
    userService=getUserDataAndInitializeIfNeededLocked(userId,timeNow);
    screenOnTime=getScreenOnTimeLocked(timeNow);
  }
  return isAppIdleFiltered(packageName,userId,userService,timeNow,screenOnTime);
}
