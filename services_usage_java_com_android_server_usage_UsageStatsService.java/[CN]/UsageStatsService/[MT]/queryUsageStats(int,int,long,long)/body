{
  if (!validRange(beginTime,endTime)) {
    return null;
  }
synchronized (mLock) {
    UserUsageStatsService service=getUserDataAndInitializeIfNeededLocked(userId);
    return service.queryUsageStats(bucketType,beginTime,endTime);
  }
}
