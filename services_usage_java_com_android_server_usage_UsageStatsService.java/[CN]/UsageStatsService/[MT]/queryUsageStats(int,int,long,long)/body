{
  final long timeNow=System.currentTimeMillis();
  if (beginTime > timeNow) {
    return null;
  }
synchronized (mLock) {
    UserUsageStatsService service=getUserDataAndInitializeIfNeededLocked(userId);
    return service.queryUsageStats(bucketType,beginTime,endTime);
  }
}
