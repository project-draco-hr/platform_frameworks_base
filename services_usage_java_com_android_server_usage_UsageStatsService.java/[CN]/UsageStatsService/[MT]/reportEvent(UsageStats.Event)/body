{
synchronized (mLock) {
    if (DEBUG) {
      Slog.d(TAG,"Got usage event for " + event.packageName + "["+ event.timeStamp+ "]: "+ eventToString(event.eventType));
    }
    if (event.timeStamp >= mDailyExpiryDate.getTimeInMillis()) {
      rolloverStatsLocked();
    }
    mCurrentEvents.append(event.timeStamp,event);
    for (    UsageStats stats : mCurrentStats) {
      updateStatsLocked(stats,event.packageName,event.timeStamp,event.eventType);
    }
    notifyStatsChangedLocked();
  }
}
