{
  mDailyExpiryDate=Calendar.getInstance();
  mAppOps=(AppOpsManager)getContext().getSystemService(Context.APP_OPS_SERVICE);
  mHandler=new H(BackgroundThread.get().getLooper());
  File systemDataDir=new File(Environment.getDataDirectory(),"system");
  mDatabase=new UsageStatsDatabase(new File(systemDataDir,"usagestats"));
  mDatabase.init();
synchronized (mLock) {
    initLocked();
  }
  publishLocalService(UsageStatsManagerInternal.class,new LocalService());
  publishBinderService(Context.USAGE_STATS_SERVICE,new BinderService());
}
