{
synchronized (mLock) {
    final long timeNow=checkAndGetTimeLocked();
    convertToSystemTimeLocked(event);
    final UserUsageStatsService service=getUserDataAndInitializeIfNeededLocked(userId,timeNow);
    service.reportEvent(event);
  }
}
