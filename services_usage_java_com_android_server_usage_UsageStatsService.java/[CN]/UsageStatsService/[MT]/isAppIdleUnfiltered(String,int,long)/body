{
synchronized (mLock) {
    final long screenOnTime=getScreenOnTimeLocked(timeNow);
    final UserUsageStatsService service=getUserDataAndInitializeIfNeededLocked(userId,timeNow);
    long beginIdleTime=service.getBeginIdleTime(packageName);
    long lastUsedTime=service.getLastUsedTime(packageName);
    return hasPassedIdleTimeoutLocked(beginIdleTime,lastUsedTime,screenOnTime,timeNow);
  }
}
