{
  try {
    if (to.equals(INADDR_BROADCAST)) {
      maybeLog("Broadcasting " + description);
      Os.sendto(mPacketSock,buf.array(),0,buf.limit(),0,mInterfaceBroadcastAddr);
    }
 else {
      maybeLog("Unicasting " + description + " to "+ to.getHostAddress());
      Os.sendto(mUdpSock,buf,0,to,DhcpPacket.DHCP_SERVER);
    }
  }
 catch (  ErrnoException|IOException e) {
    Log.e(TAG,"Can't send packet: ",e);
    return false;
  }
  return true;
}
