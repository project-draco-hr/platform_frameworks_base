{
  try {
    if (to.equals(INADDR_BROADCAST)) {
      if (DBG)       Log.d(TAG,"Broadcasting " + description);
      Os.sendto(mPacketSock,buf.array(),0,buf.limit(),0,mInterfaceBroadcastAddr);
    }
 else {
      if (DBG)       Log.d(TAG,"Unicasting " + description + " to "+ Os.getpeername(mUdpSock));
      Os.write(mUdpSock,buf);
    }
  }
 catch (  ErrnoException|IOException e) {
    Log.e(TAG,"Can't send packet: ",e);
    return false;
  }
  return true;
}
