{
  if (!isValidPacket(packet))   return;
  if ((packet instanceof DhcpAckPacket)) {
    DhcpResults results=packet.toDhcpResults();
    if (results != null) {
      setDhcpLeaseExpiry(packet);
      acceptDhcpResults(results,"Confirmed");
      transitionTo(mConfiguringInterfaceState);
    }
  }
 else   if (packet instanceof DhcpNakPacket) {
    Log.d(TAG,"Received NAK, returning to INIT");
    mOffer=null;
    transitionTo(mDhcpInitState);
  }
}
