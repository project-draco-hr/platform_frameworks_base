{
  if (!isValidPacket(packet))   return;
  if ((packet instanceof DhcpAckPacket)) {
    DhcpResults results=packet.toDhcpResults();
    mDhcpLease.leaseDuration=results.leaseDuration;
    mDhcpLeaseExpiry=SystemClock.elapsedRealtime() + mDhcpLease.leaseDuration * 1000;
    transitionTo(mDhcpBoundState);
  }
 else   if (packet instanceof DhcpNakPacket) {
    transitionTo(mDhcpInitState);
  }
}
