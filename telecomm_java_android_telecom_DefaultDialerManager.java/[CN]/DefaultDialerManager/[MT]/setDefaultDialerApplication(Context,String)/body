{
  String oldPackageName=Settings.Secure.getString(context.getContentResolver(),Settings.Secure.DIALER_DEFAULT_APPLICATION);
  if (packageName != null && oldPackageName != null && packageName.equals(oldPackageName)) {
    return;
  }
  List<ComponentName> componentNames=getInstalledDialerApplications(context);
  final ComponentName foundComponent=getComponentName(componentNames,packageName);
  if (foundComponent != null) {
    Settings.Secure.putString(context.getContentResolver(),Settings.Secure.DIALER_DEFAULT_APPLICATION,foundComponent.getPackageName());
  }
}
