{
  if (DEBUG) {
    Slog.d(TAG,this + ": onServiceConnected()");
  }
  if (mBound) {
    disconnect();
    ITvRemoteProvider provider=ITvRemoteProvider.Stub.asInterface(service);
    if (provider != null) {
      Connection connection=new Connection(provider);
      if (connection.register()) {
synchronized (mLock) {
          mActiveConnection=connection;
        }
        if (DEBUG) {
          Slog.d(TAG,this + ": Connected successfully.");
        }
      }
 else {
        if (DEBUG) {
          Slog.d(TAG,this + ": Registration failed");
        }
      }
    }
 else {
      Slog.e(TAG,this + ": Service returned invalid remote-control provider binder");
    }
  }
}
