{
  MobileIconGroup icons=getIcons();
  String contentDescription=getStringIfExists(getContentDescription());
  String dataContentDescription=getStringIfExists(icons.mDataContentDescription);
  final boolean dataDisabled=mCurrentState.iconGroup == TelephonyIcons.DATA_DISABLED && mCurrentState.userSetup;
  boolean showDataIcon=mCurrentState.dataConnected || mCurrentState.iconGroup == TelephonyIcons.ROAMING || dataDisabled;
  IconState statusIcon=new IconState(mCurrentState.enabled && !mCurrentState.airplaneMode,getCurrentIconId(),contentDescription);
  int qsTypeIcon=0;
  IconState qsIcon=null;
  String description=null;
  if (mCurrentState.dataSim) {
    qsTypeIcon=showDataIcon ? icons.mQsDataType : 0;
    qsIcon=new IconState(mCurrentState.enabled && !mCurrentState.isEmergency,getQsCurrentIconId(),contentDescription);
    description=mCurrentState.isEmergency ? null : mCurrentState.networkName;
  }
  boolean activityIn=mCurrentState.dataConnected && !mCurrentState.carrierNetworkChangeMode && mCurrentState.activityIn;
  boolean activityOut=mCurrentState.dataConnected && !mCurrentState.carrierNetworkChangeMode && mCurrentState.activityOut;
  showDataIcon&=mCurrentState.isDefault || mCurrentState.iconGroup == TelephonyIcons.ROAMING || dataDisabled;
  int typeIcon=showDataIcon ? icons.mDataType : 0;
  callback.setMobileDataIndicators(statusIcon,qsIcon,typeIcon,qsTypeIcon,activityIn,activityOut,dataContentDescription,description,icons.mIsWide,mSubscriptionInfo.getSubscriptionId());
}
