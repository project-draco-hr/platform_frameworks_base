{
  clearValues(start);
  if ((mTargetIds.size() > 0 || mTargets.size() > 0) && (mTargetNames == null || mTargetNames.isEmpty()) && (mTargetTypes == null || mTargetTypes.isEmpty())) {
    for (int i=0; i < mTargetIds.size(); ++i) {
      int id=mTargetIds.get(i);
      View view=sceneRoot.findViewById(id);
      if (view != null) {
        TransitionValues values=new TransitionValues();
        values.view=view;
        if (start) {
          captureStartValues(values);
        }
 else {
          captureEndValues(values);
        }
        capturePropagationValues(values);
        if (start) {
          addViewValues(mStartValues,view,values);
        }
 else {
          addViewValues(mEndValues,view,values);
        }
      }
    }
    for (int i=0; i < mTargets.size(); ++i) {
      View view=mTargets.get(i);
      TransitionValues values=new TransitionValues();
      values.view=view;
      if (start) {
        captureStartValues(values);
      }
 else {
        captureEndValues(values);
      }
      capturePropagationValues(values);
      if (start) {
        mStartValues.viewValues.put(view,values);
      }
 else {
        mEndValues.viewValues.put(view,values);
      }
    }
  }
 else {
    captureHierarchy(sceneRoot,start);
  }
}
