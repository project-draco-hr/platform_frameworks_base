{
  ArrayMap<Animator,AnimationInfo> runningAnimators=getRunningAnimators();
  int numOldAnims=runningAnimators.size();
  for (int i=numOldAnims - 1; i >= 0; i--) {
    Animator anim=runningAnimators.keyAt(i);
    if (anim != null) {
      AnimationInfo oldInfo=runningAnimators.get(anim);
      if (oldInfo != null && oldInfo.view != null && oldInfo.view.getContext() == sceneRoot.getContext()) {
        boolean cancel=false;
        TransitionValues oldValues=oldInfo.values;
        View oldView=oldInfo.view;
        TransitionValues newValues=mEndValues.viewValues != null ? mEndValues.viewValues.get(oldView) : null;
        if (newValues == null) {
          newValues=mEndValues.idValues.get(oldView.getId());
        }
        if (oldValues != null) {
          if (newValues != null) {
            for (            String key : oldValues.values.keySet()) {
              Object oldValue=oldValues.values.get(key);
              Object newValue=newValues.values.get(key);
              if (oldValue != null && newValue != null && !oldValue.equals(newValue)) {
                cancel=true;
                if (DBG) {
                  Log.d(LOG_TAG,"Transition.playTransition: " + "oldValue != newValue for " + key + ": old, new = "+ oldValue+ ", "+ newValue);
                }
                break;
              }
            }
          }
        }
        if (cancel) {
          if (anim.isRunning() || anim.isStarted()) {
            if (DBG) {
              Log.d(LOG_TAG,"Canceling anim " + anim);
            }
            anim.cancel();
          }
 else {
            if (DBG) {
              Log.d(LOG_TAG,"removing anim from info list: " + anim);
            }
            runningAnimators.remove(anim);
          }
        }
      }
    }
  }
  createAnimators(sceneRoot,mStartValues,mEndValues);
  runAnimators();
}
