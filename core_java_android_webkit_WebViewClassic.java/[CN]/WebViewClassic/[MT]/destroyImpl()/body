{
  int drawGLFunction=nativeGetDrawGLFunction(mNativeClass);
  ViewRootImpl viewRoot=mWebView.getViewRootImpl();
  Log.d(LOGTAG,String.format(this + "destroyImpl, drawGLFunction %x,  viewroot == null %b, isHWAccel %b",drawGLFunction,(viewRoot == null),mWebView.isHardwareAccelerated()));
  if (viewRoot != null) {
    Log.e(LOGTAG,"Error: WebView.destroy() called while still attached!");
  }
  if (mWebView.isHardwareAccelerated()) {
    if (drawGLFunction != 0 && viewRoot != null) {
      viewRoot.detachFunctor(drawGLFunction);
    }
  }
  mCallbackProxy.blockMessages();
  clearHelpers();
  if (mListBoxDialog != null) {
    mListBoxDialog.dismiss();
    mListBoxDialog=null;
  }
  if (mNativeClass != 0)   nativeStopGL();
  if (mWebViewCore != null) {
synchronized (this) {
      WebViewCore webViewCore=mWebViewCore;
      mWebViewCore=null;
      webViewCore.destroy();
    }
    mPrivateHandler.removeCallbacksAndMessages(null);
  }
  if (mNativeClass != 0) {
    nativeDestroy();
    mNativeClass=0;
  }
}
