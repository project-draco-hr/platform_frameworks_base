{
  if (mHandleAlpha.getAlpha() == 0) {
    return;
  }
  ensureSelectionHandles();
  if (mSelectingText) {
    int[] handles=new int[4];
    getSelectionHandles(handles);
    int start_x=contentToViewDimension(handles[0]);
    int start_y=contentToViewDimension(handles[1]);
    int end_x=contentToViewDimension(handles[2]);
    int end_y=contentToViewDimension(handles[3]);
    if (mIsCaretSelection) {
      start_x-=(mSelectHandleCenter.getIntrinsicWidth() / 2);
      mSelectHandleCenter.setBounds(start_x,start_y,start_x + mSelectHandleCenter.getIntrinsicWidth(),start_y + mSelectHandleCenter.getIntrinsicHeight());
    }
 else {
      start_x-=(mSelectHandleLeft.getIntrinsicWidth() * 3) / 4;
      mSelectHandleLeft.setBounds(start_x,start_y,start_x + mSelectHandleLeft.getIntrinsicWidth(),start_y + mSelectHandleLeft.getIntrinsicHeight());
      end_x-=mSelectHandleRight.getIntrinsicWidth() / 4;
      mSelectHandleRight.setBounds(end_x,end_y,end_x + mSelectHandleRight.getIntrinsicWidth(),end_y + mSelectHandleRight.getIntrinsicHeight());
    }
  }
  if (mIsCaretSelection) {
    mSelectHandleCenter.draw(canvas);
  }
 else {
    mSelectHandleLeft.draw(canvas);
    mSelectHandleRight.draw(canvas);
  }
}
