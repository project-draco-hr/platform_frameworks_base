{
  if ((w | h) == 0) {
    invalidate();
    return;
  }
  if (mContentWidth != w || mContentHeight != h) {
    mContentWidth=w;
    mContentHeight=h;
    if (!mDrawHistory) {
      updateScrollCoordinates(pinLocX(getScrollX()),pinLocY(getScrollY()));
      if (!mScroller.isFinished()) {
        mScroller.setFinalX(pinLocX(mScroller.getFinalX()));
        mScroller.setFinalY(pinLocY(mScroller.getFinalY()));
      }
    }
    invalidate();
  }
  contentSizeChanged(updateLayout);
}
