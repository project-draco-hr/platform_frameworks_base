{
  Rect visibleRect=new Rect(viewToContentX(getScrollX()),viewToContentY(getScrollY()),viewToContentX(getScrollX() + getWidth()),viewToContentY(getScrollY() + getViewHeightWithTitle()));
  if (visibleRect.contains(mEditTextContentBounds)) {
    return;
  }
  syncSelectionCursors();
  final int buffer=Math.max(1,viewToContentDimension(EDIT_RECT_BUFFER));
  Rect showRect=new Rect(Math.max(0,mEditTextContentBounds.left - buffer),Math.max(0,mEditTextContentBounds.top - buffer),mEditTextContentBounds.right + buffer,mEditTextContentBounds.bottom + buffer);
  Point caretTop=calculateCaretTop();
  if (visibleRect.width() < mEditTextContentBounds.width()) {
    if (mSelectCursorLeft.x < caretTop.x) {
      showRect.left=Math.max(0,mSelectCursorLeft.x - buffer);
      showRect.right=caretTop.x + buffer;
    }
 else {
      showRect.left=Math.max(0,caretTop.x - buffer);
      showRect.right=mSelectCursorLeft.x + buffer;
    }
  }
  if (visibleRect.height() < mEditTextContentBounds.height()) {
    if (mSelectCursorLeft.y > caretTop.y) {
      showRect.top=Math.max(0,caretTop.y - buffer);
      showRect.bottom=mSelectCursorLeft.y + buffer;
    }
 else {
      showRect.top=Math.max(0,mSelectCursorLeft.y - buffer);
      showRect.bottom=caretTop.y + buffer;
    }
  }
  if (visibleRect.contains(showRect)) {
    return;
  }
  int scrollX=visibleRect.left;
  if (visibleRect.left > showRect.left) {
    scrollX=showRect.left;
  }
 else   if (visibleRect.right < showRect.right) {
    scrollX=Math.max(0,showRect.right - visibleRect.width());
  }
  int scrollY=visibleRect.top;
  if (visibleRect.top > showRect.top) {
    scrollY=showRect.top;
  }
 else   if (visibleRect.bottom < showRect.bottom) {
    scrollY=Math.max(0,showRect.bottom - visibleRect.height());
  }
  contentScrollTo(scrollX,scrollY,false);
}
