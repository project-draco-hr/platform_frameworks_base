{
  if (mSelectingText) {
    hidePasteButton();
    endSelectingText();
    if (mSelectCallback != null) {
      mSelectCallback.finish();
      mSelectCallback=null;
    }
    if (!mIsCaretSelection) {
      updateWebkitSelection();
    }
    invalidate();
    mAutoScrollX=0;
    mAutoScrollY=0;
    mSentAutoScrollMessage=false;
  }
}
