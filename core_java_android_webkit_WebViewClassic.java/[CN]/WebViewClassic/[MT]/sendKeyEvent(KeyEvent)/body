{
  int direction=0;
switch (event.getKeyCode()) {
case KeyEvent.KEYCODE_DPAD_DOWN:
    direction=View.FOCUS_DOWN;
  break;
case KeyEvent.KEYCODE_DPAD_UP:
direction=View.FOCUS_UP;
break;
case KeyEvent.KEYCODE_DPAD_LEFT:
direction=View.FOCUS_LEFT;
break;
case KeyEvent.KEYCODE_DPAD_RIGHT:
direction=View.FOCUS_RIGHT;
break;
case KeyEvent.KEYCODE_TAB:
direction=event.isShiftPressed() ? View.FOCUS_BACKWARD : View.FOCUS_FORWARD;
break;
}
if (direction != 0 && mWebView.focusSearch(direction) == null) {
direction=0;
}
int eventHubAction=EventHub.KEY_UP;
if (event.getAction() == KeyEvent.ACTION_DOWN) {
eventHubAction=EventHub.KEY_DOWN;
int sound=keyCodeToSoundsEffect(event.getKeyCode());
if (sound != 0) {
mWebView.playSoundEffect(sound);
}
}
mWebViewCore.sendMessage(eventHubAction,direction,event);
}
