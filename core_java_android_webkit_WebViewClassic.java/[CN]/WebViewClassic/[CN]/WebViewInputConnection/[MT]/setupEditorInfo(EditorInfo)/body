{
  outAttrs.inputType=mInputType;
  outAttrs.imeOptions=mImeOptions;
  outAttrs.hintText=mHint;
  outAttrs.initialCapsMode=getCursorCapsMode(InputType.TYPE_CLASS_TEXT);
  Editable editable=getEditable();
  int selectionStart=Selection.getSelectionStart(editable);
  int selectionEnd=Selection.getSelectionEnd(editable);
  if (selectionStart < 0 || selectionEnd < 0) {
    selectionStart=editable.length();
    selectionEnd=selectionStart;
  }
  outAttrs.initialSelStart=selectionStart;
  outAttrs.initialSelEnd=selectionEnd;
}
