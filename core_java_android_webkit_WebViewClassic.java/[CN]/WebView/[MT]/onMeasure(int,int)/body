{
  super.onMeasure(widthMeasureSpec,heightMeasureSpec);
  int heightMode=MeasureSpec.getMode(heightMeasureSpec);
  int heightSize=MeasureSpec.getSize(heightMeasureSpec);
  int widthMode=MeasureSpec.getMode(widthMeasureSpec);
  int widthSize=MeasureSpec.getSize(widthMeasureSpec);
  int measuredHeight=heightSize;
  int measuredWidth=widthSize;
  int contentHeight=contentToViewDimension(mContentHeight);
  int contentWidth=contentToViewDimension(mContentWidth);
  if (heightMode != MeasureSpec.EXACTLY) {
    mHeightCanMeasure=true;
    measuredHeight=contentHeight;
    if (heightMode == MeasureSpec.AT_MOST) {
      if (measuredHeight > heightSize) {
        measuredHeight=heightSize;
        mHeightCanMeasure=false;
        measuredHeight|=MEASURED_STATE_TOO_SMALL;
      }
    }
  }
 else {
    mHeightCanMeasure=false;
  }
  if (mNativeClass != 0) {
    nativeSetHeightCanMeasure(mHeightCanMeasure);
  }
  if (widthMode == MeasureSpec.UNSPECIFIED) {
    mWidthCanMeasure=true;
    measuredWidth=contentWidth;
  }
 else {
    if (measuredWidth < contentWidth) {
      measuredWidth|=MEASURED_STATE_TOO_SMALL;
    }
    mWidthCanMeasure=false;
  }
synchronized (this) {
    setMeasuredDimension(measuredWidth,measuredHeight);
  }
}
