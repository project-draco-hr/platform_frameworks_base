{
  if (mExpandButtonContainer == null) {
    return;
  }
  float expandButtonAlpha=0.0f;
  float expandButtonTranslation=0.0f;
  float containerTranslation=0.0f;
  int minHeight=getMinHeight();
  if (!mChildrenExpanded || mChildExpandAnimator != null) {
    int expandActionHeight=getBottomDecorHeight();
    int translationY=getActualHeight() - expandActionHeight;
    if (translationY > minHeight) {
      containerTranslation=translationY;
      expandButtonAlpha=1.0f;
      expandButtonTranslation=0.0f;
    }
 else {
      containerTranslation=minHeight;
      float progress=expandActionHeight != 0 ? (minHeight - translationY) / (float)expandActionHeight : 1.0f;
      expandButtonTranslation=-progress * expandActionHeight * 0.7f;
      float alphaProgress=Math.min(progress / 0.7f,1.0f);
      alphaProgress=PhoneStatusBar.ALPHA_OUT.getInterpolation(alphaProgress);
      expandButtonAlpha=1.0f - alphaProgress;
    }
  }
  if (mChildExpandAnimator != null || mChildrenExpanded) {
    expandButtonAlpha=(1.0f - mChildrenExpandProgress) * expandButtonAlpha;
    expandButtonTranslation=(1.0f - mChildrenExpandProgress) * expandButtonTranslation;
    float newTranslation=-getBottomDecorHeight();
    float collapsedHeight=!mChildrenExpanded ? Math.max(StackStateAnimator.getFinalActualHeight(this) - getBottomDecorHeight(),minHeight) : mExpandButtonStart;
    float translationProgress=mFastOutSlowInInterpolator.getInterpolation(mChildrenExpandProgress);
    containerTranslation=(1.0f - translationProgress) * collapsedHeight + translationProgress * newTranslation;
  }
  mExpandButton.setAlpha(expandButtonAlpha);
  mExpandButtonDivider.setAlpha(expandButtonAlpha);
  mExpandButton.setTranslationY(expandButtonTranslation);
  mExpandButtonContainer.setTranslationY(containerTranslation);
  NotificationContentView showingLayout=getShowingLayout();
  float layoutTranslation=mExpandButtonContainer.getTranslationY() - showingLayout.getContentHeight();
  layoutTranslation=Math.min(layoutTranslation,0);
  if (!mChildrenExpanded && mChildExpandAnimator == null) {
    layoutTranslation=0;
  }
  showingLayout.setTranslationY(layoutTranslation);
  if (mChildrenContainer != null) {
    mChildrenContainer.setTranslationY(mExpandButtonContainer.getTranslationY() + getBottomDecorHeight());
  }
}
