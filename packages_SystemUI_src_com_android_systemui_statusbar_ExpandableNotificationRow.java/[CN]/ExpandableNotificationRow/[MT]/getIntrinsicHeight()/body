{
  if (isUserLocked()) {
    return getActualHeight();
  }
  boolean inExpansionState=isExpanded();
  if (mSensitive && mHideSensitiveForIntrinsicHeight) {
    return mRowMinHeight;
  }
 else   if (mIsSummaryWithChildren && !mOnKeyguard) {
    return mChildrenContainer.getIntrinsicHeight();
  }
 else   if (mIsHeadsUp) {
    if (inExpansionState) {
      return Math.max(mMaxExpandHeight,mHeadsUpHeight);
    }
 else {
      return Math.max(mRowMinHeight,mHeadsUpHeight);
    }
  }
 else   if (!inExpansionState || (isChildInGroup() && !isGroupExpanded())) {
    return getMinHeight();
  }
 else {
    return getMaxExpandHeight();
  }
}
