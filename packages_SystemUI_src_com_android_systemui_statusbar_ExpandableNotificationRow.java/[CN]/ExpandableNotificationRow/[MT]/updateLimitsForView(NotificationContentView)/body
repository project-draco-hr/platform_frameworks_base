{
  boolean customView=layout.getContractedChild().getId() != com.android.internal.R.id.status_bar_latest_event_content;
  boolean beforeN=mEntry.targetSdk < Build.VERSION_CODES.N;
  int minHeight=customView && beforeN && !mIsSummaryWithChildren ? mNotificationMinHeightLegacy : mNotificationMinHeight;
  boolean headsUpCustom=layout.getHeadsUpChild() != null && layout.getHeadsUpChild().getId() != com.android.internal.R.id.status_bar_latest_event_content;
  int headsUpheight=headsUpCustom && beforeN ? mMaxHeadsUpHeightLegacy : mMaxHeadsUpHeight;
  layout.setHeights(minHeight,headsUpheight,mNotificationMaxHeight);
  if (mSettingsIconRow != null) {
    mSettingsIconRow.updateVerticalLocation();
  }
}
