{
  Context context=getContext();
  while (context instanceof ContextThemeWrapper) {
    context=((ContextThemeWrapper)context).getBaseContext();
  }
  if (context instanceof BridgeContext) {
    BridgeContext bc=(BridgeContext)context;
    Object viewKey=getViewKeyFromParser(attrs,bc,mResourceReference,mIsInMerge);
    if (viewKey != null) {
      bc.addViewKey(view,viewKey);
    }
    if (RenderSessionImpl.isInstanceOf(view,RecyclerViewUtil.CN_RECYCLER_VIEW)) {
      String type=attrs.getAttributeValue(BridgeConstants.NS_RESOURCES,BridgeConstants.ATTR_LAYOUT_MANAGER_TYPE);
      if (type != null) {
        LayoutManagerType layoutManagerType=LayoutManagerType.getByDisplayName(type);
        if (layoutManagerType == null) {
          Bridge.getLog().warning(LayoutLog.TAG_UNSUPPORTED,"LayoutManager (" + type + ") not found, falling back to "+ "LinearLayoutManager",null);
        }
 else {
          bc.addCookie(view,layoutManagerType);
        }
      }
    }
  }
}
