{
  enforceCallingPermission();
synchronized (mStatsLock) {
    String pkgName;
    if ((componentName == null) || ((pkgName=componentName.getPackageName()) == null)) {
      return;
    }
    if (!mIsResumed) {
      Log.w(TAG,"Something wrong here, didn't expect " + pkgName + " to be paused");
      return;
    }
    mIsResumed=false;
    if (localLOGV)     Log.i(TAG,"paused component:" + pkgName);
    PkgUsageStatsExtended pus=mStats.get(pkgName);
    if (pus == null) {
      Log.w(TAG,"No package stats for pkg:" + pkgName);
      return;
    }
    pus.updatePause();
  }
  writeStatsToFile(false);
}
