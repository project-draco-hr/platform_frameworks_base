{
  final ObjectAnimator radiusAnim=ObjectAnimator.ofFloat(this,"radiusGravity",1);
  radiusAnim.setAutoCancel(true);
  radiusAnim.setDuration(radiusDuration);
  radiusAnim.setInterpolator(LINEAR_INTERPOLATOR);
  final ObjectAnimator xAnim=ObjectAnimator.ofFloat(this,"xGravity",1);
  xAnim.setAutoCancel(true);
  xAnim.setDuration(radiusDuration);
  xAnim.setInterpolator(LINEAR_INTERPOLATOR);
  final ObjectAnimator yAnim=ObjectAnimator.ofFloat(this,"yGravity",1);
  yAnim.setAutoCancel(true);
  yAnim.setDuration(radiusDuration);
  yAnim.setInterpolator(LINEAR_INTERPOLATOR);
  final ObjectAnimator opacityAnim=ObjectAnimator.ofFloat(this,"opacity",0);
  opacityAnim.setAutoCancel(true);
  opacityAnim.setDuration(opacityDuration);
  opacityAnim.setInterpolator(LINEAR_INTERPOLATOR);
  final ObjectAnimator outerOpacityAnim;
  if (outerInflection > 0) {
    outerOpacityAnim=ObjectAnimator.ofFloat(this,"outerOpacity",inflectionOpacity / 255.0f);
    outerOpacityAnim.setAutoCancel(true);
    outerOpacityAnim.setDuration(outerInflection);
    outerOpacityAnim.setInterpolator(LINEAR_INTERPOLATOR);
    final int outerDuration=opacityDuration - outerInflection;
    if (outerDuration > 0) {
      outerOpacityAnim.addListener(new AnimatorListenerAdapter(){
        @Override public void onAnimationEnd(        Animator animation){
          final ObjectAnimator outerFadeOutAnim=ObjectAnimator.ofFloat(Ripple.this,"outerOpacity",0);
          outerFadeOutAnim.setAutoCancel(true);
          outerFadeOutAnim.setDuration(outerDuration);
          outerFadeOutAnim.setInterpolator(LINEAR_INTERPOLATOR);
          outerFadeOutAnim.addListener(mAnimationListener);
          mAnimOuterOpacity=outerFadeOutAnim;
          outerFadeOutAnim.start();
        }
        @Override public void onAnimationCancel(        Animator animation){
          animation.removeListener(this);
        }
      }
);
    }
 else {
      outerOpacityAnim.addListener(mAnimationListener);
    }
  }
 else {
    outerOpacityAnim=ObjectAnimator.ofFloat(this,"outerOpacity",0);
    outerOpacityAnim.setAutoCancel(true);
    outerOpacityAnim.setDuration(opacityDuration);
    outerOpacityAnim.addListener(mAnimationListener);
  }
  mAnimRadius=radiusAnim;
  mAnimOpacity=opacityAnim;
  mAnimOuterOpacity=outerOpacityAnim;
  mAnimX=opacityAnim;
  mAnimY=opacityAnim;
  radiusAnim.start();
  opacityAnim.start();
  outerOpacityAnim.start();
  xAnim.start();
  yAnim.start();
}
