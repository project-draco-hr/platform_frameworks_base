{
  mDestroyed=true;
  if (mCurSurfaceHolder != null) {
    onSurfaceDestroyedNative(mNativeHandle);
    mCurSurfaceHolder=null;
  }
  if (mCurInputQueue != null) {
    onInputChannelDestroyedNative(mNativeHandle,mCurInputQueue.getInputChannel());
    mCurInputQueue=null;
  }
  unloadNativeCode(mNativeHandle);
  super.onDestroy();
}
