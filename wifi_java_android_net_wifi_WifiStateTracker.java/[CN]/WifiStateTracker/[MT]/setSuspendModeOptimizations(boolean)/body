{
  if (!enabled) {
    mOptimizationsDisabledRefCount++;
  }
 else {
    mOptimizationsDisabledRefCount--;
    if (mOptimizationsDisabledRefCount > 0) {
      return;
    }
 else {
      mOptimizationsDisabledRefCount=0;
    }
  }
  if (mWifiState.get() != WIFI_STATE_ENABLED || isDriverStopped()) {
    return;
  }
  WifiNative.setSuspendOptimizationsCommand(enabled);
}
