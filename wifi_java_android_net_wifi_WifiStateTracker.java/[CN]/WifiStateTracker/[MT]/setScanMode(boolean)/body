{
  if (mWifiState.get() != WIFI_STATE_ENABLED || isDriverStopped()) {
    return false;
  }
  if (mIsScanModeActive != isScanModeActive) {
    return WifiNative.setScanModeCommand(mIsScanModeActive=isScanModeActive);
  }
  return true;
}
