{
  if (mIsScanOnly != scanOnlyMode) {
    int scanType=(scanOnlyMode ? SUPPL_SCAN_HANDLING_LIST_ONLY : SUPPL_SCAN_HANDLING_NORMAL);
    if (LOCAL_LOGD)     Log.v(TAG,"Scan-only mode changing to " + scanOnlyMode + " scanType="+ scanType);
    if (setScanResultHandling(scanType)) {
      mIsScanOnly=scanOnlyMode;
      if (!isDriverStopped()) {
        if (scanOnlyMode) {
          disconnect();
        }
 else {
          reconnectCommand();
        }
      }
    }
  }
}
