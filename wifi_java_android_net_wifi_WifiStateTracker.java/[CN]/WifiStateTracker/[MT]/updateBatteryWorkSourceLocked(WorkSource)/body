{
  try {
    if (newSource != null) {
      mRunningWifiUids.set(newSource);
    }
    if (mRunState == RUN_STATE_RUNNING) {
      if (mReportedRunning) {
        if (mLastRunningWifiUids.diff(mRunningWifiUids)) {
          mBatteryStats.noteWifiRunningChanged(mLastRunningWifiUids,mRunningWifiUids);
          mLastRunningWifiUids.set(mRunningWifiUids);
        }
      }
 else {
        mBatteryStats.noteWifiRunning(mRunningWifiUids);
        mLastRunningWifiUids.set(mRunningWifiUids);
        mReportedRunning=true;
      }
    }
 else     if (mRunState == RUN_STATE_STOPPED) {
      if (mReportedRunning) {
        mBatteryStats.noteWifiStopped(mLastRunningWifiUids);
        mLastRunningWifiUids.clear();
        mReportedRunning=false;
      }
    }
 else {
    }
  }
 catch (  RemoteException ignore) {
  }
}
