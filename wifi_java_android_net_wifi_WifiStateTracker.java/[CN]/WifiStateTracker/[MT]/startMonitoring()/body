{
  mWifiManager=(WifiManager)mContext.getSystemService(Context.WIFI_SERVICE);
  IntentFilter filter=new IntentFilter();
  filter.addAction(WifiManager.WIFI_STATE_CHANGED_ACTION);
  filter.addAction(WifiManager.NETWORK_STATE_CHANGED_ACTION);
  filter.addAction(WifiManager.CONFIG_CHANGED_ACTION);
  filter.addAction(WifiManager.SCAN_RESULTS_AVAILABLE_ACTION);
  mWifiStateReceiver=new WifiStateReceiver();
  mContext.registerReceiver(mWifiStateReceiver,filter);
}
