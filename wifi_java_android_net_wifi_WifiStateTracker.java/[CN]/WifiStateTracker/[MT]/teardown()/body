{
  setNotificationVisible(false,0,false,0);
  if (!mNetworkInfo.isConnectedOrConnecting())   return false;
  List<WifiConfiguration> networks=mWM.getConfiguredNetworks();
  if (networks == null || networks.size() == 0) {
    return false;
  }
  int largest=networks.get(networks.size() - 1).networkId;
  mSavedConfiguration=new int[largest + 1];
  for (int i=0; i < mSavedConfiguration.length; i++)   mSavedConfiguration[i]=-1;
  for (  WifiConfiguration conf : networks) {
    mSavedConfiguration[conf.networkId]=conf.status;
  }
  int currentNetwork=-1;
  for (  WifiConfiguration conf : networks) {
    if (conf.status == WifiConfiguration.Status.CURRENT)     currentNetwork=conf.networkId;
 else     if (conf.status == WifiConfiguration.Status.ENABLED) {
      mWM.disableNetwork(conf.networkId);
    }
  }
  if (currentNetwork != -1)   mWM.disableNetwork(currentNetwork);
  setExplicitlyDisabled(true);
  return true;
}
