{
  super(TAG,target.getLooper());
  mUninitializedState=new UninitializedState();
  mInitializedState=new InitializedState();
  mInactiveState=new InactiveState();
  mDisconnectState=new DisconnectedState();
  mScanState=new ScanState();
  mConnectState=new ConnectState();
  mHandshakeState=new HandshakeState();
  mCompletedState=new CompletedState();
  mDormantState=new DormantState();
  addState(mUninitializedState);
  addState(mInitializedState);
  addState(mInactiveState,mInitializedState);
  addState(mDisconnectState,mInitializedState);
  addState(mScanState,mInitializedState);
  addState(mConnectState,mInitializedState);
  addState(mHandshakeState,mConnectState);
  addState(mCompletedState,mConnectState);
  addState(mDormantState,mInitializedState);
  setInitialState(mUninitializedState);
  start();
}
