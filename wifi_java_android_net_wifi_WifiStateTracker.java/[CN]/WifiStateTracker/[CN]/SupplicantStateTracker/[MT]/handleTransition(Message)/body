{
  if (DBG)   Log.d(TAG,getName() + msg.toString() + "\n");
switch (msg.what) {
case DISCONNECTED:
    transitionTo(mDisconnectState);
  break;
case SCANNING:
transitionTo(mScanState);
break;
case ASSOCIATING:
StateChangeResult stateChangeResult=(StateChangeResult)msg.obj;
mWifiInfo.setBSSID(stateChangeResult.BSSID);
case ASSOCIATED:
case FOUR_WAY_HANDSHAKE:
case GROUP_HANDSHAKE:
transitionTo(mHandshakeState);
break;
case COMPLETED:
transitionTo(mCompletedState);
break;
case DORMANT:
transitionTo(mDormantState);
break;
case INACTIVE:
transitionTo(mInactiveState);
break;
case UNINITIALIZED:
case INVALID:
transitionTo(mUninitializedState);
break;
default :
return NOT_HANDLED;
}
StateChangeResult stateChangeResult=(StateChangeResult)msg.obj;
SupplicantState supState=(SupplicantState)stateChangeResult.state;
setDetailedState(WifiInfo.getDetailedStateOf(supState));
mWifiInfo.setSupplicantState(supState);
mWifiInfo.setNetworkId(stateChangeResult.networkId);
return HANDLED;
}
