{
  if (intent.getAction().equals(WifiManager.NETWORK_STATE_CHANGED_ACTION)) {
    mNetworkInfo=(NetworkInfo)intent.getParcelableExtra(WifiManager.EXTRA_NETWORK_INFO);
    mNetworkProperties=(NetworkProperties)intent.getParcelableExtra(WifiManager.EXTRA_NETWORK_PROPERTIES);
    Message msg=mCsHandler.obtainMessage(EVENT_STATE_CHANGED,mNetworkInfo);
    msg.sendToTarget();
  }
 else   if (intent.getAction().equals(WifiManager.CONFIG_CHANGED_ACTION)) {
    mNetworkProperties=(NetworkProperties)intent.getParcelableExtra(WifiManager.EXTRA_NETWORK_PROPERTIES);
    Message msg=mCsHandler.obtainMessage(EVENT_CONFIGURATION_CHANGED,mNetworkInfo);
    msg.sendToTarget();
  }
}
