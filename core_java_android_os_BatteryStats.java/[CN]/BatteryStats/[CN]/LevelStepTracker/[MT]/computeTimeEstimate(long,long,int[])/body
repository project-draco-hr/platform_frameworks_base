{
  final long[] steps=mStepDurations;
  final int count=mNumStepDurations;
  if (count <= 0) {
    return -1;
  }
  long total=0;
  int numOfInterest=0;
  for (int i=0; i < count; i++) {
    long initMode=(steps[i] & STEP_LEVEL_INITIAL_MODE_MASK) >> STEP_LEVEL_INITIAL_MODE_SHIFT;
    long modMode=(steps[i] & STEP_LEVEL_MODIFIED_MODE_MASK) >> STEP_LEVEL_MODIFIED_MODE_SHIFT;
    if ((modMode & modesOfInterest) == 0) {
      if ((initMode & modesOfInterest) == modeValues) {
        numOfInterest++;
        total+=steps[i] & STEP_LEVEL_TIME_MASK;
      }
    }
  }
  if (numOfInterest <= 0) {
    return -1;
  }
  if (outNumOfInterest != null) {
    outNumOfInterest[0]=numOfInterest;
  }
  return (total / numOfInterest) * 100;
}
