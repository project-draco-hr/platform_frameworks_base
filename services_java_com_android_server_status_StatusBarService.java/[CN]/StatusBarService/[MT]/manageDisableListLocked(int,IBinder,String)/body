{
  if (SPEW) {
    Log.d(TAG,"manageDisableList what=0x" + Integer.toHexString(what) + " pkg="+ pkg);
  }
synchronized (mDisableRecords) {
    final int N=mDisableRecords.size();
    DisableRecord tok=null;
    int i;
    for (i=0; i < N; i++) {
      DisableRecord t=mDisableRecords.get(i);
      if (t.token == token) {
        tok=t;
        break;
      }
    }
    if (what == 0 || !token.isBinderAlive()) {
      if (tok != null) {
        mDisableRecords.remove(i);
      }
    }
 else {
      if (tok == null) {
        tok=new DisableRecord();
        try {
          token.linkToDeath(tok,0);
        }
 catch (        RemoteException ex) {
          return;
        }
        mDisableRecords.add(tok);
      }
      tok.what=what;
      tok.token=token;
      tok.pkg=pkg;
    }
  }
}
