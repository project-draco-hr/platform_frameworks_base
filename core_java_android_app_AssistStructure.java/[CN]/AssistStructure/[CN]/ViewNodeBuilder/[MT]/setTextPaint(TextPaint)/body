{
  ViewNodeText t=getNodeText();
  t.mTextColor=paint.getColor();
  t.mTextBackgroundColor=paint.bgColor;
  t.mTextSize=paint.getTextSize();
  t.mTextStyle=0;
  Typeface tf=paint.getTypeface();
  if (tf != null) {
    if (tf.isBold()) {
      t.mTextStyle|=ViewNode.TEXT_STYLE_BOLD;
    }
    if (tf.isItalic()) {
      t.mTextStyle|=ViewNode.TEXT_STYLE_ITALIC;
    }
  }
  int pflags=paint.getFlags();
  if ((pflags & Paint.FAKE_BOLD_TEXT_FLAG) != 0) {
    t.mTextStyle|=ViewNode.TEXT_STYLE_BOLD;
  }
  if ((pflags & Paint.UNDERLINE_TEXT_FLAG) != 0) {
    t.mTextStyle|=ViewNode.TEXT_STYLE_UNDERLINE;
  }
  if ((pflags & Paint.STRIKE_THRU_TEXT_FLAG) != 0) {
    t.mTextStyle|=ViewNode.TEXT_STYLE_STRIKE_THRU;
  }
}
