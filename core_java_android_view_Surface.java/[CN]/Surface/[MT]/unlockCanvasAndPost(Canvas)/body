{
  if (canvas != mCanvas) {
    throw new IllegalArgumentException("canvas object must be the same instance that " + "was previously returned by lockCanvas");
  }
synchronized (mLock) {
    checkNotReleasedLocked();
    if (mNativeObject != mLockedObject) {
      Log.w(TAG,"WARNING: Surface's mNativeObject (0x" + Integer.toHexString(mNativeObject) + ") != mLockedObject (0x"+ Integer.toHexString(mLockedObject)+ ")");
    }
    if (mLockedObject == 0) {
      throw new RuntimeException("Surface was not locked");
    }
    nativeUnlockCanvasAndPost(mLockedObject,canvas);
    nativeRelease(mLockedObject);
    mLockedObject=0;
  }
}
