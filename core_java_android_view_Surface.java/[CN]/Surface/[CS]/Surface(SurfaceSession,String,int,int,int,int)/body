{
  if (session == null) {
    throw new IllegalArgumentException("session must not be null");
  }
  if (name == null) {
    throw new IllegalArgumentException("name must not be null");
  }
  if ((flags & HIDDEN) == 0) {
    Log.w(TAG,"Surfaces should always be created with the HIDDEN flag set " + "to ensure that they are not made visible prematurely before " + "all of the surface's properties have been configured.  "+ "Set the other properties and make the surface visible within "+ "a transaction.  New surface name: "+ name,new Throwable());
  }
  checkHeadless();
  mName=name;
  mWidth=w;
  mHeight=h;
  nativeCreate(session,name,w,h,format,flags);
  mCloseGuard.open("release");
}
