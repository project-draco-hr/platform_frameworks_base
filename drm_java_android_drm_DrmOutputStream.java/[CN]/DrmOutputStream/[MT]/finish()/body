{
  final DrmConvertedStatus status=mClient.closeConvertSession(mSessionId);
  if (status.statusCode == STATUS_OK) {
    try {
      Libcore.os.lseek(mFd,status.offset,SEEK_SET);
    }
 catch (    ErrnoException e) {
      e.rethrowAsIOException();
    }
    IoBridge.write(mFd,status.convertedData,0,status.convertedData.length);
    mSessionId=INVALID_SESSION;
  }
 else {
    throw new IOException("Unexpected DRM status: " + status.statusCode);
  }
}
