{
  menu.findItem(R.id.menu_open).setVisible(false);
  MenuItem copy=menu.findItem(R.id.menu_copy_to_clipboard);
  MenuItem paste=menu.findItem(R.id.menu_paste_from_clipboard);
  MenuItem rename=menu.findItem(R.id.menu_rename);
  MenuItem moveTo=menu.findItem(R.id.menu_move_to);
  MenuItem copyTo=menu.findItem(R.id.menu_copy_to);
  MenuItem share=menu.findItem(R.id.menu_share);
  MenuItem delete=menu.findItem(R.id.menu_delete);
  copy.setEnabled(!selection.containsPartialFiles());
  share.setVisible(!selection.containsDirectories() && !selection.containsPartialFiles());
  delete.setVisible(selection.canDelete());
  share.setEnabled(!selection.containsDirectories() && !selection.containsPartialFiles());
  delete.setEnabled(selection.canDelete());
  copyTo.setVisible(true);
  moveTo.setVisible(true);
  rename.setVisible(true);
  copyTo.setEnabled(!selection.containsPartialFiles());
  moveTo.setEnabled(!selection.containsPartialFiles() && selection.canDelete());
  rename.setEnabled(!selection.containsPartialFiles() && selection.canRename());
  Menus.disableHiddenItems(menu,copy,paste);
}
