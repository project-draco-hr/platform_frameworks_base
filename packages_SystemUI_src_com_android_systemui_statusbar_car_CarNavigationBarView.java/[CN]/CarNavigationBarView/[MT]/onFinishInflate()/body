{
  Context context=getContext();
  Resources r=getContext().getResources();
  TypedArray icons=r.obtainTypedArray(R.array.car_shortcut_icons);
  TypedArray intents=r.obtainTypedArray(R.array.car_shortcut_intent_uris);
  TypedArray longpressIntents=r.obtainTypedArray(R.array.car_shortcut_longpress_intent_uris);
  if (icons.length() != intents.length()) {
    throw new RuntimeException("car_shortcut_icons and car_shortcut_intents do not match");
  }
  LinearLayout navButtons=(LinearLayout)findViewById(R.id.nav_buttons);
  LinearLayout lightsOut=(LinearLayout)findViewById(R.id.lights_out);
  for (int i=0; i < icons.length(); i++) {
    Drawable icon=icons.getDrawable(i);
    try {
      Intent intent=Intent.parseUri(intents.getString(i),Intent.URI_INTENT_SCHEME);
      Intent longpress=null;
      String longpressUri=longpressIntents.getString(i);
      if (!longpressUri.isEmpty()) {
        longpress=Intent.parseUri(longpressUri,Intent.URI_INTENT_SCHEME);
      }
      navButtons.addView(makeButton(context,icon,intent,longpress));
      lightsOut.addView(makeButton(context,icon,intent,longpress));
    }
 catch (    URISyntaxException e) {
      throw new RuntimeException("Malformed intent uri",e);
    }
  }
}
