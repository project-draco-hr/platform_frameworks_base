{
  final View target=root.findViewById(viewId);
  if (target == null)   return;
  if (mIsWidgetCollectionChild) {
    Log.e("RemoteViews","Cannot setOnClickPendingIntent for collection item " + "(id: " + viewId + ")");
  }
  if (target != null) {
    OnClickListener listener=null;
    if (pendingIntent != null) {
      listener=new OnClickListener(){
        public void onClick(        View v){
          final float appScale=v.getContext().getResources().getCompatibilityInfo().applicationScale;
          final int[] pos=new int[2];
          v.getLocationOnScreen(pos);
          final Rect rect=new Rect();
          rect.left=(int)(pos[0] * appScale + 0.5f);
          rect.top=(int)(pos[1] * appScale + 0.5f);
          rect.right=(int)((pos[0] + v.getWidth()) * appScale + 0.5f);
          rect.bottom=(int)((pos[1] + v.getHeight()) * appScale + 0.5f);
          final Intent intent=new Intent();
          intent.setSourceBounds(rect);
          startIntentSafely(v,pendingIntent,intent);
        }
      }
;
    }
    target.setOnClickListener(listener);
  }
}
