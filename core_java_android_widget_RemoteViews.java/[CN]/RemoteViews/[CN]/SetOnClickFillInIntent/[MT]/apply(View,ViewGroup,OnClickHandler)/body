{
  final View target=root.findViewById(viewId);
  if (target == null)   return;
  if (!mIsWidgetCollectionChild) {
    Log.e(LOG_TAG,"The method setOnClickFillInIntent is available " + "only from RemoteViewsFactory (ie. on collection items).");
    return;
  }
  if (target == root) {
    target.setTagInternal(com.android.internal.R.id.fillInIntent,fillInIntent);
  }
 else   if (fillInIntent != null) {
    OnClickListener listener=new OnClickListener(){
      public void onClick(      View v){
        View parent=(View)v.getParent();
        while (parent != null && !(parent instanceof AdapterView<?>) && !((parent instanceof AppWidgetHostView) && !(parent instanceof RemoteViewsAdapter.RemoteViewsFrameLayout))) {
          parent=(View)parent.getParent();
        }
        if (!(parent instanceof AdapterView<?>)) {
          Log.e(LOG_TAG,"Collection item doesn't have AdapterView parent");
          return;
        }
        if (!(parent.getTag() instanceof PendingIntent)) {
          Log.e(LOG_TAG,"Attempting setOnClickFillInIntent without" + " calling setPendingIntentTemplate on parent.");
          return;
        }
        PendingIntent pendingIntent=(PendingIntent)parent.getTag();
        final Rect rect=getSourceBounds(v);
        fillInIntent.setSourceBounds(rect);
        handler.onClickHandler(v,pendingIntent,fillInIntent);
      }
    }
;
    target.setOnClickListener(listener);
  }
}
