{
  String mime=format.getString(MediaFormat.KEY_MIME);
  for (  MediaCodecInfo info : mCodecInfos) {
    if (info.isEncoder() != encoder) {
      continue;
    }
    try {
      MediaCodecInfo.CodecCapabilities caps=info.getCapabilitiesForType(mime);
      if (caps != null && caps.isFormatSupported(format)) {
        return info.getName();
      }
    }
 catch (    IllegalArgumentException e) {
    }
  }
  return null;
}
