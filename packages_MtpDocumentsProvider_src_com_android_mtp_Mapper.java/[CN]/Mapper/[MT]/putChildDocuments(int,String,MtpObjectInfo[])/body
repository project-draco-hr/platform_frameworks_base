{
  final boolean heuristic;
  final String mapColumn;
  Preconditions.checkState(mMappingMode.containsKey(parentId));
switch (mMappingMode.get(parentId)) {
case MAP_BY_MTP_IDENTIFIER:
    heuristic=false;
  mapColumn=COLUMN_OBJECT_HANDLE;
break;
case MAP_BY_NAME:
heuristic=true;
mapColumn=Document.COLUMN_DISPLAY_NAME;
break;
default :
throw new Error("Unexpected map mode.");
}
final ContentValues[] valuesList=new ContentValues[documents.length];
for (int i=0; i < documents.length; i++) {
valuesList[i]=new ContentValues();
MtpDatabase.getObjectDocumentValues(valuesList[i],deviceId,parentId,documents[i]);
}
putDocuments(valuesList,null,COLUMN_PARENT_DOCUMENT_ID + "=?",strings(parentId),heuristic,mapColumn);
}
