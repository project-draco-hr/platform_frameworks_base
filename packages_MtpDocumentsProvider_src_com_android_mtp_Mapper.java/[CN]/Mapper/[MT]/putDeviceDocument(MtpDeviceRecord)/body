{
  final SQLiteDatabase database=mDatabase.getSQLiteDatabase();
  database.beginTransaction();
  try {
    final ContentValues[] valuesList=new ContentValues[1];
    final ContentValues[] extraValuesList=new ContentValues[1];
    valuesList[0]=new ContentValues();
    extraValuesList[0]=new ContentValues();
    MtpDatabase.getDeviceDocumentValues(valuesList[0],extraValuesList[0],device);
    final boolean changed=putDocuments(null,valuesList,extraValuesList,COLUMN_PARENT_DOCUMENT_ID + " IS NULL",EMPTY_ARGS,strings(COLUMN_DEVICE_ID,COLUMN_MAPPING_KEY));
    database.setTransactionSuccessful();
    return changed;
  }
  finally {
    database.endTransaction();
  }
}
