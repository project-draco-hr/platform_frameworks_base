{
  if (width <= 0 || height <= 0) {
    throw new RasterFormatException(Messages.getString("awt.285"));
  }
  if (parentX < this.minX || parentX + width > this.minX + this.width) {
    throw new RasterFormatException(Messages.getString("awt.286"));
  }
  if (parentY < this.minY || parentY + height > this.minY + this.height) {
    throw new RasterFormatException(Messages.getString("awt.287"));
  }
  if ((long)parentX + width > Integer.MAX_VALUE) {
    throw new RasterFormatException(Messages.getString("awt.288"));
  }
  if ((long)parentY + height > Integer.MAX_VALUE) {
    throw new RasterFormatException(Messages.getString("awt.289"));
  }
  if ((long)childMinX + width > Integer.MAX_VALUE) {
    throw new RasterFormatException(Messages.getString("awt.28A"));
  }
  if ((long)childMinY + height > Integer.MAX_VALUE) {
    throw new RasterFormatException(Messages.getString("awt.28B"));
  }
  SampleModel childModel;
  if (bandList == null) {
    childModel=sampleModel;
  }
 else {
    childModel=sampleModel.createSubsetSampleModel(bandList);
  }
  int childTranslateX=childMinX - parentX;
  int childTranslateY=childMinY - parentY;
  return new Raster(childModel,dataBuffer,new Rectangle(childMinX,childMinY,width,height),new Point(childTranslateX + sampleModelTranslateX,childTranslateY + sampleModelTranslateY),this);
}
