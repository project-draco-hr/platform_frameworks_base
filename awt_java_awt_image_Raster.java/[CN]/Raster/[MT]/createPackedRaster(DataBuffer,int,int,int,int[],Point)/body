{
  if (dataBuffer == null) {
    throw new NullPointerException(Messages.getString("awt.278"));
  }
  if (w <= 0 || h <= 0) {
    throw new RasterFormatException(Messages.getString("awt.22E"));
  }
  if (location == null) {
    location=new Point(0,0);
  }
  if ((long)location.x + w > Integer.MAX_VALUE || (long)location.y + h > Integer.MAX_VALUE) {
    throw new RasterFormatException(Messages.getString("awt.276"));
  }
  if (bandMasks == null) {
    throw new RasterFormatException(Messages.getString("awt.27C"));
  }
  if (dataBuffer.getNumBanks() > 1) {
    throw new RasterFormatException(Messages.getString("awt.27A"));
  }
  int dataType=dataBuffer.getDataType();
  if (dataType != DataBuffer.TYPE_BYTE && dataType != DataBuffer.TYPE_USHORT && dataType != DataBuffer.TYPE_INT) {
    throw new IllegalArgumentException(Messages.getString("awt.230"));
  }
  SinglePixelPackedSampleModel sampleModel=new SinglePixelPackedSampleModel(dataType,w,h,scanlineStride,bandMasks);
  return new OrdinaryWritableRaster(sampleModel,dataBuffer,location);
}
