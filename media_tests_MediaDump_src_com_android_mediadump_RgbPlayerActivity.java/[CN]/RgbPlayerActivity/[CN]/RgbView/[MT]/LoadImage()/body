{
  try {
    if (mImageIndex < 0 || mImageIndex >= mImageList.size()) {
      mImageIndex=0;
      mIsPlaying=false;
    }
    String filename=mImageList.get(mImageIndex);
    FileInputStream in=new FileInputStream(filename);
    mImageBytes=new byte[mBytesPerImage];
    in.read(mImageBytes);
  }
 catch (  Exception e) {
    Log.e("Error reading file",e.toString());
  }
  for (int i=mHeight - 1; i >= 0; i--) {
    mFlipBuf.put(mImageBytes,i * mBytesPerLine,mBytesPerLine);
  }
  mFlipBuf.rewind();
  mBitmap.copyPixelsFromBuffer(mFlipBuf);
  mFlipBuf.rewind();
  mHandler.sendEmptyMessage(0);
}
