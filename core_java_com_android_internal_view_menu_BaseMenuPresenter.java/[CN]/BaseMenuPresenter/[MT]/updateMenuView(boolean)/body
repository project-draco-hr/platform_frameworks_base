{
  mMenu.flagActionItems();
  ArrayList<MenuItemImpl> visibleItems=mMenu.getVisibleItems();
  final int itemCount=visibleItems.size();
  final ViewGroup parent=(ViewGroup)mMenuView;
  int childIndex=0;
  for (int i=0; i < itemCount; i++) {
    MenuItemImpl item=visibleItems.get(i);
    if (shouldIncludeItem(childIndex,item)) {
      final View convertView=parent.getChildAt(childIndex);
      final View itemView=getItemView(item,convertView,parent);
      if (itemView != convertView) {
        addItemView(itemView,childIndex);
      }
      childIndex++;
    }
  }
  while (childIndex < parent.getChildCount()) {
    if (!filterLeftoverView(parent,childIndex)) {
      childIndex++;
    }
  }
}
