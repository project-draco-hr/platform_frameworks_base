{
  if (mStack != null) {
    mDisplayContent.mStackHistory.remove(mStack);
  }
  mDisplayContent.layoutNeeded=true;
  if (mParent == null) {
    mDisplayContent.removeStackBox(this);
    return HOME_STACK_ID;
  }
  StackBox sibling=isFirstChild() ? mParent.mSecond : mParent.mFirst;
  StackBox grandparent=mParent.mParent;
  if (grandparent == null) {
    mDisplayContent.removeStackBox(mParent);
    mDisplayContent.addStackBox(sibling,true);
  }
 else {
    sibling.mParent=grandparent;
    if (mParent.isFirstChild()) {
      grandparent.mFirst=sibling;
    }
 else {
      grandparent.mSecond=sibling;
    }
  }
  return sibling.getStackId();
}
