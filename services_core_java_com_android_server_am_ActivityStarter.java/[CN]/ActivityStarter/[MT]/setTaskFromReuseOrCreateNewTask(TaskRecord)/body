{
  mTargetStack=computeStackFocus(mStartActivity,true,mLaunchBounds,mLaunchFlags,mOptions);
  if (mDoResume) {
    mTargetStack.moveToFront("startingNewTask");
  }
  if (mReuseTask == null) {
    final TaskRecord task=mTargetStack.createTaskRecord(mSupervisor.getNextTaskId(),mNewTaskInfo != null ? mNewTaskInfo : mStartActivity.info,mNewTaskIntent != null ? mNewTaskIntent : mIntent,mVoiceSession,mVoiceInteractor,!mLaunchTaskBehind);
    mStartActivity.setTask(task,taskToAffiliate);
    if (mLaunchBounds != null) {
      final int stackId=mTargetStack.mStackId;
      if (StackId.resizeStackWithLaunchBounds(stackId)) {
        mSupervisor.resizeStackLocked(stackId,mLaunchBounds,null,null,!PRESERVE_WINDOWS,true);
      }
 else {
        mStartActivity.task.updateOverrideConfiguration(mLaunchBounds);
      }
    }
    if (DEBUG_TASKS)     Slog.v(TAG_TASKS,"Starting new activity " + mStartActivity + " in new task "+ mStartActivity.task);
  }
 else {
    mStartActivity.setTask(mReuseTask,taskToAffiliate);
  }
}
