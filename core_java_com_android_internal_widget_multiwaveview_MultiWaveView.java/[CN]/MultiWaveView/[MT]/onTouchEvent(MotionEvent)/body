{
  final int action=event.getAction();
  boolean handled=false;
  float x=event.getX();
  float y=event.getY();
switch (action) {
case MotionEvent.ACTION_DOWN:
    handleDown(x,y);
  handled=true;
break;
case MotionEvent.ACTION_MOVE:
handleMove(x,y);
handled=true;
break;
case MotionEvent.ACTION_UP:
handleUp(x,y);
handleMove(x,y);
handled=true;
break;
case MotionEvent.ACTION_CANCEL:
handleMove(x,y);
handled=true;
break;
}
invalidate();
return handled ? true : super.onTouchEvent(event);
}
