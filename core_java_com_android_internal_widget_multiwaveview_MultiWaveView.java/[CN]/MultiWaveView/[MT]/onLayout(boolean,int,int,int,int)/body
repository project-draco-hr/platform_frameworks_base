{
  super.onLayout(changed,left,top,right,bottom);
  final int width=right - left;
  final int height=bottom - top;
  float newWaveCenterX=mHorizontalOffset + mHorizontalInset + Math.max(width,mMaxTargetWidth + mOuterRing.getWidth()) / 2;
  float newWaveCenterY=mVerticalOffset + mVerticalInset + Math.max(height,+mMaxTargetHeight + mOuterRing.getHeight()) / 2;
  assignDefaultsIfNeeded(newWaveCenterX,newWaveCenterY);
  if (mInitialLayout) {
    hideChevrons();
    hideTargets(false);
    moveHandleTo(0,0,false);
    mInitialLayout=false;
  }
  mOuterRing.setPositionX(newWaveCenterX);
  mOuterRing.setPositionY(newWaveCenterY);
  mHandleDrawable.setPositionX(newWaveCenterX);
  mHandleDrawable.setPositionY(newWaveCenterY);
  updateTargetPositions(newWaveCenterX,newWaveCenterY);
  updateChevronPositions(newWaveCenterX,newWaveCenterY);
  mWaveCenterX=newWaveCenterX;
  mWaveCenterY=newWaveCenterY;
  if (DEBUG)   dump();
}
