{
  super.onLayout(changed,left,top,right,bottom);
  final int width=right - left;
  final int height=bottom - top;
  final float placementWidth=Math.max(mOuterRing.getWidth(),2 * mOuterRadius);
  final float placementHeight=Math.max(mOuterRing.getHeight(),2 * mOuterRadius);
  float newWaveCenterX=mHorizontalOffset + mHorizontalInset + Math.max(width,mMaxTargetWidth + placementWidth) / 2;
  float newWaveCenterY=mVerticalOffset + mVerticalInset + Math.max(height,+mMaxTargetHeight + placementHeight) / 2;
  if (mInitialLayout) {
    hideChevrons();
    hideTargets(false);
    moveHandleTo(0,0,false);
    mInitialLayout=false;
  }
  mOuterRing.setPositionX(newWaveCenterX);
  mOuterRing.setPositionY(newWaveCenterY);
  mHandleDrawable.setPositionX(newWaveCenterX);
  mHandleDrawable.setPositionY(newWaveCenterY);
  updateTargetPositions(newWaveCenterX,newWaveCenterY);
  updateChevronPositions(newWaveCenterX,newWaveCenterY);
  mWaveCenterX=newWaveCenterX;
  mWaveCenterY=newWaveCenterY;
  if (DEBUG)   dump();
}
