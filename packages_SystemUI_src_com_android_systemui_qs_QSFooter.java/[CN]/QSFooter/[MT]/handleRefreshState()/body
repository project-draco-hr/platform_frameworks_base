{
  boolean hasDeviceOwner=mSecurityController.hasDeviceOwner();
  boolean hasVpn=mSecurityController.isVpnEnabled();
  mIsVisible=(hasVpn || hasDeviceOwner);
  mIsIconVisible=hasVpn;
  if (hasDeviceOwner) {
    mFooterTextId=R.string.device_owned_footer;
  }
 else {
    mFooterTextId=R.string.vpn_footer;
  }
  mMainHandler.post(mUpdateDisplayState);
}
