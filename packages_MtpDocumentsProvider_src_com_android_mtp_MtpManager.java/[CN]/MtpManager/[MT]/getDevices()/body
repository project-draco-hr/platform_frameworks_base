{
  final ArrayList<MtpDeviceRecord> devices=new ArrayList<>();
  for (  UsbDevice device : mManager.getDeviceList().values()) {
    if (!isMtpDevice(device)) {
      continue;
    }
    devices.add(createDeviceRecord(device));
  }
  return devices.toArray(new MtpDeviceRecord[devices.size()]);
}
