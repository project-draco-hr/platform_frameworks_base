{
  if (DBG) {
    Log.d(LOG_TAG,"--- findLineEnd: curr:" + current + ", length:"+ text.length());
  }
  int pos=current;
  for (; pos < text.length(); pos++) {
    if (pos > 0 && text.charAt(pos - 1) == '\n') {
      break;
    }
  }
  return pos;
}
