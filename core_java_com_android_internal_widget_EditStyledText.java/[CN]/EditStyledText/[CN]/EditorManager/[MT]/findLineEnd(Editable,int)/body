{
  if (DBG) {
    Log.d(LOG_TAG,"--- findLineEnd: curr:" + current + ", length:"+ text.length());
  }
  int pos=current;
  for (; pos < text.length(); pos++) {
    if (text.charAt(pos) == '\n') {
      pos--;
      break;
    }
  }
  return pos;
}
