{
synchronized (mH) {
    List<Pair<InputMethodInfo,InputMethodSubtype>> ret=new ArrayList<Pair<InputMethodInfo,InputMethodSubtype>>();
    try {
      List<Object> info=mService.getShortcutInputMethodsAndSubtypes();
      Object imi;
      Object subtype;
      if (info != null && info.size() > 0) {
        final int N=info.size();
        if (N % 2 == 0) {
          for (int i=0; i < N; ) {
            if ((imi=info.get(i++)) instanceof InputMethodInfo) {
              subtype=info.get(i++);
              ret.add(new Pair<InputMethodInfo,InputMethodSubtype>((InputMethodInfo)imi,(subtype instanceof InputMethodSubtype) ? (InputMethodSubtype)subtype : null));
            }
          }
        }
 else {
          Log.w(TAG,"The size of list was illegal.");
        }
      }
    }
 catch (    RemoteException e) {
      Log.w(TAG,"IME died: " + mCurId,e);
    }
    return ret;
  }
}
