{
  if (mServedView == mNextServedView && !mNextServedNeedsStart) {
    return false;
  }
  InputConnection ic=null;
synchronized (mH) {
    if (mServedView == mNextServedView && !mNextServedNeedsStart) {
      return false;
    }
    if (DEBUG)     Log.v(TAG,"checkFocus: view=" + mServedView + " next="+ mNextServedView+ " restart="+ mNextServedNeedsStart);
    mNextServedNeedsStart=false;
    if (mNextServedView == null) {
      finishInputLocked();
      closeCurrentInput();
      return false;
    }
    ic=mServedInputConnection;
    mServedView=mNextServedView;
    mCurrentTextBoxAttribute=null;
    mCompletions=null;
    mServedConnecting=true;
  }
  if (ic != null) {
    ic.finishComposingText();
  }
  return true;
}
