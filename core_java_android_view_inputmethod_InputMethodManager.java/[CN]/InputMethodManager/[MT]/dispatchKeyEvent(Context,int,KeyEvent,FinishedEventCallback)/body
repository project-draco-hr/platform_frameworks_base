{
synchronized (mH) {
    if (DEBUG)     Log.d(TAG,"dispatchKeyEvent");
    if (mCurMethod != null) {
      if (key.getAction() == KeyEvent.ACTION_DOWN && key.getKeyCode() == KeyEvent.KEYCODE_SYM && key.getRepeatCount() == 0) {
        showInputMethodPickerLocked();
        return ViewRootImpl.EVENT_HANDLED;
      }
      try {
        if (DEBUG)         Log.v(TAG,"DISPATCH KEY: " + mCurMethod);
        final long startTime=SystemClock.uptimeMillis();
        enqueuePendingEventLocked(startTime,seq,mCurId,callback);
        mCurMethod.dispatchKeyEvent(seq,key,mInputMethodCallback);
        return ViewRootImpl.EVENT_IN_PROGRESS;
      }
 catch (      RemoteException e) {
        Log.w(TAG,"IME died: " + mCurId + " dropping: "+ key,e);
      }
    }
  }
  return ViewRootImpl.EVENT_NOT_HANDLED;
}
