{
switch (msg.what) {
case MSG_DUMP:
{
      SomeArgs args=(SomeArgs)msg.obj;
      try {
        doDump((FileDescriptor)args.arg1,(PrintWriter)args.arg2,(String[])args.arg3);
      }
 catch (      RuntimeException e) {
        ((PrintWriter)args.arg2).println("Exception: " + e);
      }
synchronized (args.arg4) {
        ((CountDownLatch)args.arg4).countDown();
      }
      args.recycle();
      return;
    }
case MSG_BIND:
{
    final InputBindResult res=(InputBindResult)msg.obj;
    if (DEBUG) {
      Log.i(TAG,"handleMessage: MSG_BIND " + res.sequence + ","+ res.id);
    }
synchronized (mH) {
      if (mBindSequence < 0 || mBindSequence != res.sequence) {
        Log.w(TAG,"Ignoring onBind: cur seq=" + mBindSequence + ", given seq="+ res.sequence);
        if (res.channel != null) {
          res.channel.dispose();
        }
        return;
      }
      mCurMethod=res.method;
      if (mCurChannel != null) {
        mCurChannel.dispose();
      }
      mCurChannel=res.channel;
      mCurId=res.id;
      mBindSequence=res.sequence;
    }
    startInputInner(null,0,0,0);
    return;
  }
case MSG_UNBIND:
{
  final int sequence=msg.arg1;
  if (DEBUG) {
    Log.i(TAG,"handleMessage: MSG_UNBIND " + sequence);
  }
  boolean startInput=false;
synchronized (mH) {
    if (mBindSequence == sequence) {
      if (false) {
        if (mCurMethod != null && mCurrentTextBoxAttribute != null) {
          try {
            mCurMethod.finishInput();
          }
 catch (          RemoteException e) {
            Log.w(TAG,"IME died: " + mCurId,e);
          }
        }
      }
      clearBindingLocked();
      if (mServedView != null && mServedView.isFocused()) {
        mServedConnecting=true;
      }
      if (mActive) {
        startInput=true;
      }
    }
  }
  if (startInput) {
    startInputInner(null,0,0,0);
  }
  return;
}
case MSG_SET_ACTIVE:
{
final boolean active=msg.arg1 != 0;
if (DEBUG) {
  Log.i(TAG,"handleMessage: MSG_SET_ACTIVE " + active + ", was "+ mActive);
}
synchronized (mH) {
  mActive=active;
  mFullscreenMode=false;
  if (!active) {
    mHasBeenInactive=true;
    try {
      mIInputContext.finishComposingText();
    }
 catch (    RemoteException e) {
    }
    if (mServedView != null && mServedView.hasWindowFocus()) {
      if (checkFocusNoStartInput(mHasBeenInactive,false)) {
        startInputInner(null,0,0,0);
      }
    }
  }
}
return;
}
case MSG_EVENT_TIMEOUT:
{
timeoutEvent(msg.arg1);
return;
}
}
}
