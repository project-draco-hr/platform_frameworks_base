{
  if (mEvent.mId == -1) {
    throw new IllegalStateException("No event id");
  }
 else   if (mEvent.mCommand == null) {
    throw new IllegalStateException("Event does not contain a command");
  }
  if (COMMAND_REGISTER.equals(mEvent.mCommand)) {
    if (mEvent.mDescriptor == null) {
      throw new IllegalStateException("Device registration is missing descriptor");
    }
  }
 else   if (COMMAND_DELAY.equals(mEvent.mCommand)) {
    if (mEvent.mDuration <= 0) {
      throw new IllegalStateException("Delay has missing or invalid duration");
    }
  }
 else   if (COMMAND_REPORT.equals(mEvent.mCommand)) {
    if (mEvent.mReport == null) {
      throw new IllegalStateException("Report command is missing report data");
    }
  }
  return mEvent;
}
