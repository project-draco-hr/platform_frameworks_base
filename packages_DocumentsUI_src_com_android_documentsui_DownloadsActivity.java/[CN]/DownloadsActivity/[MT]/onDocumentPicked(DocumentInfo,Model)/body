{
  Preconditions.checkArgument(!doc.isDirectory());
  final Intent manage=new Intent(DocumentsContract.ACTION_MANAGE_DOCUMENT);
  manage.setData(doc.derivedUri);
  try {
    startActivity(manage);
  }
 catch (  ActivityNotFoundException ex) {
    final Intent view=new Intent(Intent.ACTION_VIEW);
    view.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);
    view.setData(doc.derivedUri);
    try {
      startActivity(view);
    }
 catch (    ActivityNotFoundException ex2) {
      Snackbars.makeSnackbar(this,R.string.toast_no_application,Snackbar.LENGTH_SHORT).show();
    }
  }
}
