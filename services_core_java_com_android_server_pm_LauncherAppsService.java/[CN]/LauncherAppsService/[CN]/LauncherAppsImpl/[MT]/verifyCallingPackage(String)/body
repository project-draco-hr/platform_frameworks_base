{
  int packageUid=-1;
  try {
    packageUid=mPm.getPackageUidAsUser(callingPackage,PackageManager.MATCH_ENCRYPTION_AWARE_AND_UNAWARE | PackageManager.MATCH_UNINSTALLED_PACKAGES,UserHandle.getUserId(getCallingUid()));
  }
 catch (  NameNotFoundException e) {
    Log.e(TAG,"Package not found: " + callingPackage);
  }
  if (packageUid != Binder.getCallingUid()) {
    throw new SecurityException("Calling package name mismatch");
  }
}
