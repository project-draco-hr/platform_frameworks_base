{
  super.onCreate(savedInstanceState);
  mAccounts=getIntent().getParcelableArrayExtra(AccountManager.KEY_ACCOUNTS);
  mAccountManagerResponse=getIntent().getParcelableExtra(AccountManager.KEY_ACCOUNT_MANAGER_RESPONSE);
  if (mAccounts == null) {
    setResult(RESULT_CANCELED);
    finish();
    return;
  }
  String[] mAccountNames=new String[mAccounts.length];
  for (int i=0; i < mAccounts.length; i++) {
    mAccountNames[i]=((Account)mAccounts[i]).name;
  }
  setListAdapter(new ArrayAdapter<String>(this,android.R.layout.simple_list_item_1,mAccountNames));
  getListView().setTextFilterEnabled(true);
}
