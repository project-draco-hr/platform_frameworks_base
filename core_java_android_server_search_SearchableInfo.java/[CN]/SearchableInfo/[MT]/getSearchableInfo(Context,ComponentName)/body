{
  SearchableInfo result;
synchronized (SearchableInfo.class) {
    result=sSearchablesMap.get(activity);
    if (result != null)     return result;
  }
  ActivityInfo ai=null;
  XmlPullParser xml=null;
  try {
    ai=context.getPackageManager().getActivityInfo(activity,PackageManager.GET_META_DATA);
    String refActivityName=null;
    Bundle md=ai.metaData;
    if (md != null) {
      refActivityName=md.getString(MD_LABEL_DEFAULT_SEARCHABLE);
    }
    if (refActivityName == null) {
      md=ai.applicationInfo.metaData;
      if (md != null) {
        refActivityName=md.getString(MD_LABEL_DEFAULT_SEARCHABLE);
      }
    }
    if (refActivityName != null) {
      if (refActivityName.equals(MD_SEARCHABLE_SYSTEM_SEARCH)) {
        return getDefaultSearchable();
      }
      String pkg=activity.getPackageName();
      ComponentName referredActivity;
      if (refActivityName.charAt(0) == '.') {
        referredActivity=new ComponentName(pkg,pkg + refActivityName);
      }
 else {
        referredActivity=new ComponentName(pkg,refActivityName);
      }
synchronized (SearchableInfo.class) {
        result=sSearchablesMap.get(referredActivity);
        if (result != null) {
          sSearchablesMap.put(activity,result);
          return result;
        }
      }
    }
  }
 catch (  PackageManager.NameNotFoundException e) {
  }
  return null;
}
