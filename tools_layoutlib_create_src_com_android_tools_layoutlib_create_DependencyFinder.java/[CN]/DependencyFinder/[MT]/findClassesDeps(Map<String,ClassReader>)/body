{
  Map<String,Set<String>> dependencyMap=new TreeMap<String,Set<String>>();
  DependencyVisitor visitor=getVisitor();
  int count=0;
  try {
    for (    Entry<String,ClassReader> entry : zipClasses.entrySet()) {
      String name=entry.getKey();
      TreeSet<String> set=new TreeSet<String>();
      dependencyMap.put(name,set);
      visitor.setDependencySet(set);
      ClassReader cr=entry.getValue();
      cr.accept(visitor,0);
      visitor.setDependencySet(null);
      mLog.debugNoln("Visited %d classes\r",++count);
    }
  }
  finally {
    mLog.debugNoln("\n");
  }
  return dependencyMap;
}
