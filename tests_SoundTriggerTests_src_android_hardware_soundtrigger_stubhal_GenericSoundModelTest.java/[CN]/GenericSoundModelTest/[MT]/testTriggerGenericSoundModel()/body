{
  GenericSoundModel model=new_sound_model();
  boolean captureTriggerAudio=true;
  boolean allowMultipleTriggers=true;
  RecognitionConfig config=new RecognitionConfig(captureTriggerAudio,allowMultipleTriggers,null,null);
  TestRecognitionStatusCallback spyCallback=spy(new TestRecognitionStatusCallback());
  soundTriggerService.updateSoundModel(model);
  loadedModelUuids.add(model.uuid);
  soundTriggerService.startRecognition(new ParcelUuid(model.uuid),spyCallback,config);
  Socket socket=new Socket(InetAddress.getLocalHost(),14035);
  DataOutputStream out=new DataOutputStream(socket.getOutputStream());
  out.writeBytes("trig " + model.uuid.toString() + "\r\n");
  out.flush();
  socket.close();
  verify(spyCallback,timeout(100)).onGenericSoundTriggerDetected(any());
}
