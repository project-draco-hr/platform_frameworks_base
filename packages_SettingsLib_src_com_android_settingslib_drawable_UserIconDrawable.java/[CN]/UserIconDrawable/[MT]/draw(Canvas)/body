{
  if (mInvalidated) {
    rebake();
  }
  if (mBitmap != null) {
    if (mTintColor == null) {
      mPaint.setColorFilter(null);
    }
 else {
      int color=mTintColor.getColorForState(getState(),mTintColor.getDefaultColor());
      if (mPaint.getColorFilter() == null) {
        mPaint.setColorFilter(new PorterDuffColorFilter(color,mTintMode));
      }
 else {
        ((PorterDuffColorFilter)mPaint.getColorFilter()).setMode(mTintMode);
        ((PorterDuffColorFilter)mPaint.getColorFilter()).setColor(color);
      }
    }
    canvas.drawBitmap(mBitmap,0,0,mPaint);
  }
}
