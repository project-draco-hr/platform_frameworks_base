{
synchronized (mLock) {
    int type;
    int max;
    int current;
    if (mVolumeType == PlaybackInfo.PLAYBACK_TYPE_REMOTE) {
      type=mVolumeControlType;
      max=mMaxVolume;
      current=mOptimisticVolume != -1 ? mOptimisticVolume : mCurrentVolume;
    }
 else {
      int stream=AudioAttributes.toLegacyStreamType(mAudioAttrs);
      type=VolumeProvider.VOLUME_CONTROL_ABSOLUTE;
      max=mAudioManager.getStreamMaxVolume(stream);
      current=mAudioManager.getStreamVolume(stream);
    }
    return new ParcelableVolumeInfo(mVolumeType,mAudioAttrs,type,max,current);
  }
}
