{
synchronized (mLock) {
    int type;
    int max;
    int current;
    if (mVolumeType == MediaSession.PLAYBACK_TYPE_REMOTE) {
      type=mVolumeControlType;
      max=mMaxVolume;
      current=mOptimisticVolume != -1 ? mOptimisticVolume : mCurrentVolume;
    }
 else {
      type=VolumeProvider.VOLUME_CONTROL_ABSOLUTE;
      max=mAudioManager.getStreamMaxVolume(mAudioStream);
      current=mAudioManager.getStreamVolume(mAudioStream);
    }
    return new ParcelableVolumeInfo(mVolumeType,mAudioStream,type,max,current);
  }
}
