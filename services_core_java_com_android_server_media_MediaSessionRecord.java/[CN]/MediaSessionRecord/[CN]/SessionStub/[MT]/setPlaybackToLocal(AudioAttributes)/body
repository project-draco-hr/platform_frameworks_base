{
  boolean typeChanged;
synchronized (mLock) {
    typeChanged=mVolumeType == MediaSession.PLAYBACK_TYPE_REMOTE;
    mVolumeType=MediaSession.PLAYBACK_TYPE_LOCAL;
    if (attributes != null) {
      mAudioAttrs=attributes;
    }
 else {
      Log.e(TAG,"Received null audio attributes, using existing attributes");
    }
  }
  if (typeChanged) {
    mService.onSessionPlaybackTypeChanged(MediaSessionRecord.this);
  }
}
