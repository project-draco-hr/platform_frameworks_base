{
  if (mLightMeasurementValid && mRecentLightSamples >= 1) {
    final long now=SystemClock.uptimeMillis();
    if (mPendingLightSensorDebounceTime <= now) {
      accumulateRecentLight(now,mLastLightSample);
      mLightMeasurement=mRecentLightAverage;
      if (DEBUG) {
        Slog.d(TAG,"debounceLightSensor: Accepted new measurement " + mLightMeasurement + " after "+ (now - mFirstRecentLightSampleTime)+ " ms based on "+ mRecentLightSamples+ " recent samples.");
      }
      updateAutoBrightness(true);
    }
 else {
      Message msg=mHandler.obtainMessage(MSG_LIGHT_SENSOR_DEBOUNCED);
      msg.setAsynchronous(true);
      mHandler.sendMessageAtTime(msg,mPendingLightSensorDebounceTime);
    }
  }
}
