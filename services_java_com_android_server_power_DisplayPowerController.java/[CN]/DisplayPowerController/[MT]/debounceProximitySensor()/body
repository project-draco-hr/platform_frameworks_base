{
  if (mPendingProximity != PROXIMITY_UNKNOWN) {
    final long now=SystemClock.uptimeMillis();
    if (mPendingProximityDebounceTime <= now) {
      mProximity=mPendingProximity;
      sendUpdatePowerState();
    }
 else {
      Message msg=mHandler.obtainMessage(MSG_PROXIMITY_SENSOR_DEBOUNCED);
      msg.setAsynchronous(true);
      mHandler.sendMessageAtTime(msg,mPendingProximityDebounceTime);
    }
  }
}
