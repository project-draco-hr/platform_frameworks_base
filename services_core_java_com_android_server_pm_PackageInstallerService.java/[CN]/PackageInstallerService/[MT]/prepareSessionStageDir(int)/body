{
  final File file=new File(mStagingDir,"vmdl" + sessionId + ".tmp");
  if (file.exists()) {
    throw new IllegalStateException("Session dir already exists: " + file);
  }
  try {
    Os.mkdir(file.getAbsolutePath(),0755);
    Os.chmod(file.getAbsolutePath(),0755);
  }
 catch (  ErrnoException e) {
    throw new IllegalStateException("Failed to prepare session dir",e);
  }
  if (!SELinux.restorecon(file)) {
    throw new IllegalStateException("Failed to restorecon session dir");
  }
  return file;
}
