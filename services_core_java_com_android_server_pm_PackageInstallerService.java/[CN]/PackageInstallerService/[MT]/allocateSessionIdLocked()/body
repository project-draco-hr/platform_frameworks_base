{
  if (mSessions.get(mNextSessionId) != null) {
    throw new IllegalStateException("Next session already allocated");
  }
  return mNextSessionId++;
}
