{
synchronized (mSessions) {
    final ArraySet<String> unclaimed=new ArraySet<>();
    for (    String cid : PackageHelper.getSecureContainerList()) {
      if (isStageName(cid)) {
        unclaimed.add(cid);
      }
    }
    for (int i=0; i < mSessions.size(); i++) {
      final PackageInstallerSession session=mSessions.valueAt(i);
      final String cid=session.stageCid;
      if (unclaimed.remove(cid)) {
        PackageHelper.mountSdDir(cid,PackageManagerService.getEncryptKey(),Process.SYSTEM_UID);
      }
    }
    for (    String cid : unclaimed) {
      Slog.w(TAG,"Deleting orphan container " + cid);
      PackageHelper.destroySdDir(cid);
    }
  }
}
