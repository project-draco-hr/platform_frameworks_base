{
  final SessionParams params=session.params;
  final Snapshot snapshot=session.snapshot();
  out.startTag(null,TAG_SESSION);
  writeIntAttribute(out,ATTR_SESSION_ID,session.sessionId);
  writeIntAttribute(out,ATTR_USER_ID,session.userId);
  writeStringAttribute(out,ATTR_INSTALLER_PACKAGE_NAME,session.installerPackageName);
  writeLongAttribute(out,ATTR_CREATED_MILLIS,session.createdMillis);
  writeStringAttribute(out,ATTR_SESSION_STAGE_DIR,session.sessionStageDir.getAbsolutePath());
  writeBooleanAttribute(out,ATTR_SEALED,snapshot.sealed);
  writeIntAttribute(out,ATTR_MODE,params.mode);
  writeIntAttribute(out,ATTR_INSTALL_FLAGS,params.installFlags);
  writeIntAttribute(out,ATTR_INSTALL_LOCATION,params.installLocation);
  writeLongAttribute(out,ATTR_SIZE_BYTES,params.sizeBytes);
  writeStringAttribute(out,ATTR_APP_PACKAGE_NAME,params.appPackageName);
  writeBitmapAttribute(out,ATTR_APP_ICON,params.appIcon);
  writeStringAttribute(out,ATTR_APP_LABEL,params.appLabel);
  writeUriAttribute(out,ATTR_ORIGINATING_URI,params.originatingUri);
  writeUriAttribute(out,ATTR_REFERRER_URI,params.referrerUri);
  writeStringAttribute(out,ATTR_ABI_OVERRIDE,params.abiOverride);
  out.endTag(null,TAG_SESSION);
}
