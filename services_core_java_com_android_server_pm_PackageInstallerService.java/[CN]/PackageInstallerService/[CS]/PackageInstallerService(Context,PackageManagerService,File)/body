{
  mContext=context;
  mPm=pm;
  mAppOps=(AppOpsManager)mContext.getSystemService(Context.APP_OPS_SERVICE);
  mStagingDir=stagingDir;
  mStagingDir.mkdirs();
synchronized (mSessions) {
    readSessionsLocked();
    final ArraySet<String> dirs=Sets.newArraySet(mStagingDir.list());
    for (int i=0; i < mSessions.size(); i++) {
      dirs.remove(Integer.toString(mSessions.keyAt(i)));
    }
    for (    String dirName : dirs) {
      Slog.w(TAG,"Deleting orphan session " + dirName);
      final File dir=new File(mStagingDir,dirName);
      FileUtils.deleteContents(dir);
      dir.delete();
    }
  }
}
