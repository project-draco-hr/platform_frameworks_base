{
  ShortcutInfo si=parceled(new ShortcutInfo.Builder(getContext()).setId("id").setTitle("title").setIntent(makeIntent("action")).build());
  assertEquals(getContext().getPackageName(),si.getPackageName());
  assertEquals("id",si.getId());
  assertEquals("title",si.getTitle());
  assertEquals("action",si.getIntent().getAction());
  PersistableBundle pb=new PersistableBundle();
  pb.putInt("k",1);
  si=new ShortcutInfo.Builder(getContext()).setId("id").setActivityComponent(new ComponentName("a","b")).setIcon(Icon.createWithContentUri("content://a.b.c/")).setTitle("title").setText("text").setIntent(makeIntent("action","key","val")).setWeight(123).setExtras(pb).build();
  si.addFlags(ShortcutInfo.FLAG_PINNED);
  si.setBitmapPath("abc");
  si.setIconResourceId(456);
  si=parceled(si);
  assertEquals(getContext().getPackageName(),si.getPackageName());
  assertEquals("id",si.getId());
  assertEquals(new ComponentName("a","b"),si.getActivityComponent());
  assertEquals("content://a.b.c/",si.getIcon().getUriString());
  assertEquals("title",si.getTitle());
  assertEquals("text",si.getText());
  assertEquals("action",si.getIntent().getAction());
  assertEquals("val",si.getIntent().getStringExtra("key"));
  assertEquals(123,si.getWeight());
  assertEquals(1,si.getExtras().getInt("k"));
  assertEquals(ShortcutInfo.FLAG_PINNED,si.getFlags());
  assertEquals("abc",si.getBitmapPath());
  assertEquals(456,si.getIconResourceId());
}
