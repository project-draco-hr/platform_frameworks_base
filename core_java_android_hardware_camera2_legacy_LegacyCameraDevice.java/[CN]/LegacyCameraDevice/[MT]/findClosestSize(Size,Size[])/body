{
  if (size == null || supportedSizes == null) {
    return null;
  }
  Size bestSize=null;
  for (  Size s : supportedSizes) {
    if (s.equals(size)) {
      return size;
    }
 else     if (s.getWidth() <= MAX_DIMEN_FOR_ROUNDING && (bestSize == null || LegacyCameraDevice.findEuclidDistSquare(size,s) < LegacyCameraDevice.findEuclidDistSquare(bestSize,s))) {
      bestSize=s;
    }
  }
  return bestSize;
}
