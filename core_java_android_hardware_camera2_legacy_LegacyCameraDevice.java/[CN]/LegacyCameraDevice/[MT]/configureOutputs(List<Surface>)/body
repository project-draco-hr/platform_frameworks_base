{
  if (outputs != null) {
    for (    Surface output : outputs) {
      if (output == null) {
        Log.e(TAG,"configureOutputs - null outputs are not allowed");
        return BAD_VALUE;
      }
    }
  }
  int error=mDeviceState.setConfiguring();
  if (error == NO_ERROR) {
    mRequestThreadManager.configure(outputs);
    error=mDeviceState.setIdle();
  }
  if (error == NO_ERROR) {
    mConfiguredSurfaces=outputs != null ? new ArrayList<>(outputs) : null;
  }
  return error;
}
