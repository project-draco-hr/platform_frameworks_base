{
  PackageUserState state=modifyUserState(userId);
  if (disabled && state.disabledComponents == null) {
    state.disabledComponents=new ArraySet<String>(1);
  }
  if (enabled && state.enabledComponents == null) {
    state.enabledComponents=new ArraySet<String>(1);
  }
  return state;
}
