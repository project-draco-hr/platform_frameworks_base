{
  List<ServiceInfo> expectedServices=new ArrayList<ServiceInfo>();
  ServiceInfo serviceInfo=new ServiceInfo();
  serviceInfo.name="TestServiceInfoName";
  expectedServices.add(serviceInfo);
  IAccessibilityManager mockServiceInterface=mMockServiceInterface;
  expect(mockServiceInterface.addClient(anyIAccessibilityManagerClient())).andReturn(true);
  expect(mockServiceInterface.getAccessibilityServiceList()).andReturn(expectedServices);
  replay(mockServiceInterface);
  AccessibilityManager manager=new AccessibilityManager(mContext,mockServiceInterface);
  List<ServiceInfo> receivedServices=manager.getAccessibilityServiceList();
  assertEquals("All expected services must be returned",receivedServices,expectedServices);
  verify(mockServiceInterface);
}
