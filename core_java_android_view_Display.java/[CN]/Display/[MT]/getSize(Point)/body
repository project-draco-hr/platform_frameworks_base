{
  try {
    IWindowManager wm=getWindowManager();
    if (wm != null) {
      wm.getDisplaySize(outSize);
    }
 else {
      outSize.y=getRealHeight();
    }
    if (mCompatibilityInfo != null) {
synchronized (mTmpMetrics) {
        mTmpMetrics.realWidthPixels=outSize.x;
        mTmpMetrics.realHeightPixels=outSize.y;
        mTmpMetrics.density=mDensity;
        mCompatibilityInfo.applyToDisplayMetrics(mTmpMetrics);
        outSize.x=mTmpMetrics.widthPixels;
        outSize.y=mTmpMetrics.heightPixels;
      }
    }
  }
 catch (  RemoteException e) {
    Slog.w("Display","Unable to get display size",e);
  }
}
