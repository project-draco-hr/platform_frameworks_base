{
  try {
    IWindowManager wm=getWindowManager();
    if (wm != null) {
      wm.getDisplaySize(outSize);
      if (doCompat && mCompatibilityInfo != null) {
synchronized (mTmpMetrics) {
          mTmpMetrics.unscaledWidthPixels=outSize.x;
          mTmpMetrics.unscaledHeightPixels=outSize.y;
          mTmpMetrics.density=mDensity;
          mCompatibilityInfo.applyToDisplayMetrics(mTmpMetrics);
          outSize.x=mTmpMetrics.widthPixels;
          outSize.y=mTmpMetrics.heightPixels;
        }
      }
    }
 else {
      outSize.y=getRealHeight();
    }
  }
 catch (  RemoteException e) {
    Slog.w("Display","Unable to get display size",e);
  }
}
