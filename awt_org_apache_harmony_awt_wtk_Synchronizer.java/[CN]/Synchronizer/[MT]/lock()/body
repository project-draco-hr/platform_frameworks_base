{
synchronized (this) {
    Thread curThread=Thread.currentThread();
    if (acquestCounter == 0) {
      acquestCounter=1;
      owner=curThread;
    }
 else {
      if (owner == curThread) {
        acquestCounter++;
      }
 else {
        if (curThread == dispatchThread) {
          waitQueue.addFirst(curThread);
        }
 else {
          waitQueue.addLast(curThread);
        }
        try {
          wait();
        }
 catch (        InterruptedException e) {
          if (owner != curThread) {
            waitQueue.remove(curThread);
            throw new RuntimeException(Messages.getString("awt.1F"));
          }
        }
      }
    }
  }
}
