{
  boolean down=event.getAction() == KeyEvent.ACTION_DOWN;
switch (event.getKeyCode()) {
case KeyEvent.KEYCODE_BACK:
    if (!down) {
      mService.onBackPressed();
    }
  return true;
case KeyEvent.KEYCODE_MENU:
if (!down) {
  return mService.onMenuPressed();
}
}
if (mService.interceptMediaKey(event)) {
return true;
}
return super.dispatchKeyEvent(event);
}
