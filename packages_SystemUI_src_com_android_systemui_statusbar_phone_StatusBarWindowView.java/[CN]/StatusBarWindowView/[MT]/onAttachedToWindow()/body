{
  super.onAttachedToWindow();
  if (BaseStatusBar.ENABLE_NOTIFICATION_STACK) {
    latestItems=(ViewGroup)findViewById(R.id.notification_stack_scroller);
  }
 else {
    latestItems=(ViewGroup)findViewById(R.id.latestItems);
  }
  mScrollView=(ScrollView)findViewById(R.id.scroll);
  mNotificationPanel=(NotificationPanelView)findViewById(R.id.notification_panel);
  int minHeight=getResources().getDimensionPixelSize(R.dimen.notification_row_min_height);
  int maxHeight=getResources().getDimensionPixelSize(R.dimen.notification_row_max_height);
  mExpandHelper=new ExpandHelper(getContext(),(ExpandHelper.Callback)latestItems,minHeight,maxHeight);
  mExpandHelper.setEventSource(this);
  mExpandHelper.setScrollView(mScrollView);
  final ViewRootImpl root=getViewRootImpl();
  if (root != null) {
    root.setDrawDuringWindowsAnimating(true);
  }
}
