{
  String action=intent.getAction();
  if (UsbManager.ACTION_USB_DEVICE_DETACHED.equals(action)) {
    UsbDevice device=(UsbDevice)intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);
    if (device != null && device.equals(mDevice)) {
      mActivity.finish();
    }
  }
 else   if (UsbManager.ACTION_USB_ACCESSORY_DETACHED.equals(action)) {
    UsbAccessory accessory=(UsbAccessory)intent.getParcelableExtra(UsbManager.EXTRA_ACCESSORY);
    if (accessory != null && accessory.equals(mAccessory)) {
      mActivity.finish();
    }
  }
}
