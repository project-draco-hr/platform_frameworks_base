{
  if (numScanlines > 0) {
    int pass1, pass2;
    if (updateFromScanline + numScanlines > imageHeight) {
      pass1=imageHeight - updateFromScanline;
      pass2=updateFromScanline + numScanlines - imageHeight;
    }
 else {
      pass1=numScanlines;
      pass2=0;
    }
    transfer(updateFromScanline,pass1);
    if (pass2 != 0) {
      transfer(0,pass2);
    }
  }
}
