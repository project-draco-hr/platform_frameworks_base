{
  final boolean changed=super.setVisible(visible,restart);
  if (visible) {
    if (restart || changed) {
      boolean startFromZero=restart || (!mRunning && !mAnimationState.mOneShot) || mCurFrame >= mAnimationState.getChildCount();
      setFrame(startFromZero ? 0 : mCurFrame,true,mAnimating);
    }
  }
 else {
    unscheduleSelf(this);
  }
  return changed;
}
