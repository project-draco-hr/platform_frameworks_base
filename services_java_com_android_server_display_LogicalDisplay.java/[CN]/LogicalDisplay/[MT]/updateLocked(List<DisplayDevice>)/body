{
  if (mPrimaryDisplayDevice == null) {
    return;
  }
  if (!devices.contains(mPrimaryDisplayDevice)) {
    mPrimaryDisplayDevice=null;
    return;
  }
  DisplayDeviceInfo deviceInfo=mPrimaryDisplayDevice.getDisplayDeviceInfoLocked();
  if (!Objects.equal(mPrimaryDisplayDeviceInfo,deviceInfo)) {
    mBaseDisplayInfo.layerStack=mLayerStack;
    mBaseDisplayInfo.flags=0;
    if ((deviceInfo.flags & DisplayDeviceInfo.FLAG_SUPPORTS_SECURE_VIDEO_OUTPUT) != 0) {
      mBaseDisplayInfo.flags|=Display.FLAG_SUPPORTS_SECURE_VIDEO_OUTPUT;
    }
    mBaseDisplayInfo.name=deviceInfo.name;
    mBaseDisplayInfo.appWidth=deviceInfo.width;
    mBaseDisplayInfo.appHeight=deviceInfo.height;
    mBaseDisplayInfo.logicalWidth=deviceInfo.width;
    mBaseDisplayInfo.logicalHeight=deviceInfo.height;
    mBaseDisplayInfo.rotation=Surface.ROTATION_0;
    mBaseDisplayInfo.refreshRate=deviceInfo.refreshRate;
    mBaseDisplayInfo.logicalDensityDpi=deviceInfo.densityDpi;
    mBaseDisplayInfo.physicalXDpi=deviceInfo.xDpi;
    mBaseDisplayInfo.physicalYDpi=deviceInfo.yDpi;
    mBaseDisplayInfo.smallestNominalAppWidth=deviceInfo.width;
    mBaseDisplayInfo.smallestNominalAppHeight=deviceInfo.height;
    mBaseDisplayInfo.largestNominalAppWidth=deviceInfo.width;
    mBaseDisplayInfo.largestNominalAppHeight=deviceInfo.height;
    mPrimaryDisplayDeviceInfo=deviceInfo;
    mInfo=null;
  }
}
