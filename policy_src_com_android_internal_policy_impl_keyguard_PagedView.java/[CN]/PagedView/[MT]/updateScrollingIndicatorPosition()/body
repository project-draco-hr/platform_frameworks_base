{
  if (!isScrollingIndicatorEnabled())   return;
  if (mScrollIndicator == null)   return;
  int numPages=getChildCount();
  int pageWidth=getMeasuredWidth();
  int lastChildIndex=Math.max(0,getChildCount() - 1);
  int maxScrollX=getChildOffset(lastChildIndex) - getRelativeChildOffset(lastChildIndex);
  int trackWidth=pageWidth - mScrollIndicatorPaddingLeft - mScrollIndicatorPaddingRight;
  int indicatorWidth=mScrollIndicator.getMeasuredWidth() - mScrollIndicator.getPaddingLeft() - mScrollIndicator.getPaddingRight();
  float offset=Math.max(0f,Math.min(1f,(float)getScrollX() / maxScrollX));
  int indicatorSpace=trackWidth / numPages;
  int indicatorPos=(int)(offset * (trackWidth - indicatorSpace)) + mScrollIndicatorPaddingLeft;
  if (hasElasticScrollIndicator()) {
    if (mScrollIndicator.getMeasuredWidth() != indicatorSpace) {
      mScrollIndicator.getLayoutParams().width=indicatorSpace;
      mScrollIndicator.requestLayout();
    }
  }
 else {
    int indicatorCenterOffset=indicatorSpace / 2 - indicatorWidth / 2;
    indicatorPos+=indicatorCenterOffset;
  }
  mScrollIndicator.setTranslationX(indicatorPos);
}
