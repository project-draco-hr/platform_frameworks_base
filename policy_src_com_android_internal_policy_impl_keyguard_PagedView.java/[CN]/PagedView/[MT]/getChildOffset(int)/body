{
  if (index < 0 || index > getChildCount() - 1)   return 0;
  int[] childOffsets=Float.compare(mLayoutScale,1f) == 0 ? mChildOffsets : mChildOffsetsWithLayoutScale;
  if (childOffsets != null && childOffsets[index] != -1) {
    return childOffsets[index];
  }
 else {
    if (getChildCount() == 0)     return 0;
    int offset=getRelativeChildOffset(0);
    for (int i=0; i < index; ++i) {
      offset+=getScaledMeasuredWidth(getPageAt(i)) + mPageSpacing;
    }
    if (childOffsets != null) {
      childOffsets[index]=offset;
    }
    return offset;
  }
}
