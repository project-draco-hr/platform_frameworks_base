{
  if (!isCompatibleUserId(userId)) {
    return false;
  }
  if (isGranted(userId)) {
    return false;
  }
  PermissionState userState=mUserStates.get(userId);
  if (userState == null) {
    userState=new PermissionState(mPerm.name);
    mUserStates.put(userId,userState);
  }
  userState.mGranted=true;
  return true;
}
