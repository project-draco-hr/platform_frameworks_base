{
  enforceValidUserId(userId);
  if (mPermissions == null) {
    return Collections.emptyList();
  }
  List<PermissionState> permissionStates=new ArrayList<>();
  final int permissionCount=mPermissions.size();
  for (int i=0; i < permissionCount; i++) {
    PermissionData permissionData=mPermissions.valueAt(i);
    PermissionState permissionState=permissionData.getPermissionState(userId);
    if (permissionState != null) {
      permissionStates.add(permissionState);
    }
  }
  return permissionStates;
}
