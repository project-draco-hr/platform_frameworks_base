{
  int numDisplays=mActivityDisplays.size();
  for (int displayNdx=0; displayNdx < numDisplays; ++displayNdx) {
    ArrayList<ActivityStack> stacks=mActivityDisplays.valueAt(displayNdx).mStacks;
    for (int stackNdx=stacks.size() - 1; stackNdx >= 0; --stackNdx) {
      final ActivityRecord r=stacks.get(stackNdx).isInStackLocked(token);
      if (r != null) {
        return r;
      }
    }
  }
  return null;
}
