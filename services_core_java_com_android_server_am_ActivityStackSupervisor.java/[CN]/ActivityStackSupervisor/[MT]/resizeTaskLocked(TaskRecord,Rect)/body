{
  task.mResizeable=true;
  final ActivityStack currentStack=task.stack;
  if (currentStack.isHomeStack()) {
    return;
  }
  final int matchingStackId=mWindowManager.getStackIdWithBounds(bounds);
  if (matchingStackId != -1) {
    if (currentStack != null && currentStack.mStackId == matchingStackId) {
      return;
    }
    moveTaskToStackLocked(task.taskId,matchingStackId,true);
    return;
  }
  if (currentStack != null && currentStack.numTasks() == 1) {
    resizeStackLocked(currentStack.mStackId,bounds);
    return;
  }
  final int displayId=(currentStack != null && currentStack.mDisplayId != -1) ? currentStack.mDisplayId : Display.DEFAULT_DISPLAY;
  ActivityStack newStack=createStackOnDisplay(getNextStackId(),displayId);
  if (newStack == null) {
    Slog.e(TAG,"resizeTaskLocked: Can't create stack for task=" + task);
    return;
  }
  moveTaskToStackLocked(task.taskId,newStack.mStackId,true);
  resizeStackLocked(newStack.mStackId,bounds);
}
