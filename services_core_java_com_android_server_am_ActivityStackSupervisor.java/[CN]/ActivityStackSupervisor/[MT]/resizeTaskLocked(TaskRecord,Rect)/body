{
  if (!task.mResizeable) {
    Slog.w(TAG,"resizeTask: task " + task + " not resizeable.");
    return;
  }
  if (task.mBounds != null && task.mBounds.equals(bounds)) {
    return;
  }
  task.mBounds=new Rect(bounds);
  if (!mWindowManager.isValidTaskId(task.taskId)) {
    return;
  }
  final Configuration overrideConfig=mWindowManager.resizeTask(task.taskId,bounds);
  if (task.updateOverrideConfiguration(overrideConfig)) {
    ActivityRecord r=task.topRunningActivityLocked(null);
    if (r != null) {
      final ActivityStack stack=task.stack;
      final boolean updated=stack.ensureActivityConfigurationLocked(r,0);
      ensureActivitiesVisibleLocked(r,0);
      if (!updated) {
        resumeTopActivitiesLocked(stack,null,null);
      }
    }
  }
}
