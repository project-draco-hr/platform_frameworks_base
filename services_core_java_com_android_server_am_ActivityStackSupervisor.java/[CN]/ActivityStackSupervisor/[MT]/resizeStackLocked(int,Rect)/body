{
  final ActivityStack stack=getStack(stackId);
  if (stack == null) {
    Slog.w(TAG,"resizeStack: stackId " + stackId + " not found.");
    return;
  }
  final ActivityRecord r=stack.topRunningActivityLocked(null);
  final TaskRecord topTask=r.task;
  if (!topTask.mResizeable) {
    Slog.w(TAG,"resizeStack: top task " + topTask + " not resizeable.");
    return;
  }
  final Configuration overrideConfig=mWindowManager.resizeStack(stackId,bounds);
  if (stack.updateOverrideConfiguration(overrideConfig)) {
    if (r != null) {
      final boolean updated=stack.ensureActivityConfigurationLocked(r,0);
      ensureActivitiesVisibleLocked(r,0);
      if (!updated) {
        resumeTopActivitiesLocked(stack,null,null);
      }
    }
  }
}
