{
synchronized (mService) {
    ActivityDisplayInfo info=mDisplayInfos.get(displayId);
    if (info != null) {
      ArrayList<ActivityStack> stacks=info.stacks;
      for (int stackNdx=stacks.size() - 1; stackNdx >= 0; --stackNdx) {
        info.detachActivities(stacks.get(stackNdx));
      }
      mDisplayInfos.remove(displayId);
    }
  }
  mWindowManager.onDisplayRemoved(displayId);
}
