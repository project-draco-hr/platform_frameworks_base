{
  if ((!isStackDockedInEffect(actualStackId) && preferredStackId != DOCKED_STACK_ID) || task.isHomeTask()) {
    return;
  }
  if (!task.canGoInDockedStack() || forceNonResizable) {
    mService.mHandler.sendEmptyMessage(NOTIFY_ACTIVITY_DISMISSING_DOCKED_STACK_MSG);
    moveTasksToFullscreenStackLocked(DOCKED_STACK_ID,actualStackId == DOCKED_STACK_ID);
  }
 else   if (task.mResizeMode == RESIZE_MODE_FORCE_RESIZEABLE) {
    String packageName=task.getTopActivity() != null ? task.getTopActivity().appInfo.packageName : null;
    mService.mHandler.obtainMessage(NOTIFY_FORCED_RESIZABLE_MSG,task.taskId,0,packageName).sendToTarget();
  }
}
