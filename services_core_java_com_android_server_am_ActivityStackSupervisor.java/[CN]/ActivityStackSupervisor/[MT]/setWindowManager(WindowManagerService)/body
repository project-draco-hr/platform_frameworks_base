{
synchronized (mService) {
    mWindowManager=wm;
    mDisplayManager=(DisplayManager)mService.mContext.getSystemService(Context.DISPLAY_SERVICE);
    mDisplayManager.registerDisplayListener(this,null);
    Display[] displays=mDisplayManager.getDisplays();
    for (int displayNdx=displays.length - 1; displayNdx >= 0; --displayNdx) {
      final int displayId=displays[displayNdx].getDisplayId();
      ActivityDisplay activityDisplay=new ActivityDisplay(displayId);
      mActivityDisplays.put(displayId,activityDisplay);
    }
    createStackOnDisplay(null,HOME_STACK_ID,Display.DEFAULT_DISPLAY);
    mHomeStack=mFocusedStack=mLastFocusedStack=getStack(HOME_STACK_ID);
  }
}
