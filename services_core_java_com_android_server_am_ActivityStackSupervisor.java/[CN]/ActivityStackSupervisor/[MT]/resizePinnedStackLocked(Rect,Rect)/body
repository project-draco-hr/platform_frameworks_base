{
  final ActivityStack stack=getStack(PINNED_STACK_ID);
  if (stack == null) {
    Slog.w(TAG,"resizePinnedStackLocked: pinned stack not found");
    return;
  }
  Trace.traceBegin(TRACE_TAG_ACTIVITY_MANAGER,"am.resizePinnedStack");
  mWindowManager.deferSurfaceLayout();
  try {
    ActivityRecord r=stack.topRunningActivityLocked();
    resizeStackUncheckedLocked(stack,pinnedBounds,tempPinnedTaskBounds,null);
    stack.ensureVisibleActivitiesConfigurationLocked(r,false);
  }
  finally {
    mWindowManager.continueSurfaceLayout();
    Trace.traceEnd(TRACE_TAG_ACTIVITY_MANAGER);
  }
}
