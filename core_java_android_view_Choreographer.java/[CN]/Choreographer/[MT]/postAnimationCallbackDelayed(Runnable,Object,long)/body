{
  if (action == null) {
    throw new IllegalArgumentException("action must not be null");
  }
synchronized (mLock) {
    final long now=SystemClock.uptimeMillis();
    final long dueTime=now + delayMillis;
    mAnimationCallbacks=addCallbackLocked(mAnimationCallbacks,dueTime,action,token);
    if (dueTime <= now) {
      scheduleAnimationLocked(now);
    }
 else {
      Message msg=mHandler.obtainMessage(MSG_DO_SCHEDULE_ANIMATION,action);
      mHandler.sendMessageAtTime(msg,dueTime);
    }
  }
}
