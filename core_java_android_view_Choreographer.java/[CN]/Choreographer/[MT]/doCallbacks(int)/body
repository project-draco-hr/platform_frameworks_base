{
  final long start;
  Callback callbacks;
synchronized (mLock) {
    start=SystemClock.uptimeMillis();
    callbacks=mCallbackQueues[callbackType].extractDueCallbacksLocked(start);
    if (USE_PIPELINING && callbackType == CALLBACK_TRAVERSAL && mTraversalScheduled) {
      mTraversalScheduled=false;
      mHandler.removeMessages(MSG_DO_TRAVERSAL);
    }
  }
  if (callbacks != null) {
    for (Callback c=callbacks; c != null; c=c.next) {
      if (DEBUG) {
        Log.d(TAG,"RunCallback: type=" + callbackType + ", action="+ c.action+ ", token="+ c.token+ ", latencyMillis="+ (SystemClock.uptimeMillis() - c.dueTime));
      }
      c.action.run();
    }
synchronized (mLock) {
      do {
        final Callback next=callbacks.next;
        recycleCallbackLocked(callbacks);
        callbacks=next;
      }
 while (callbacks != null);
    }
  }
}
