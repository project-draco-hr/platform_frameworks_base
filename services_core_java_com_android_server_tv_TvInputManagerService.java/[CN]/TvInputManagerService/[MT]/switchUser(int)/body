{
synchronized (mLock) {
    if (mCurrentUserId == userId) {
      return;
    }
    clearSessionAndServiceStatesLocked(mUserStates.get(mCurrentUserId));
    mCurrentUserId=userId;
    getOrCreateUserStateLocked(userId);
    buildTvInputListLocked(userId,null);
    buildTvContentRatingSystemListLocked(userId);
    mWatchLogHandler.obtainMessage(WatchLogHandler.MSG_SWITCH_CONTENT_RESOLVER,getContentResolverForUser(userId)).sendToTarget();
  }
}
