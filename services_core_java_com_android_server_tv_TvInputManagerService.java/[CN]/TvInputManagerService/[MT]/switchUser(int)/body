{
synchronized (mLock) {
    if (mCurrentUserId == userId) {
      return;
    }
    clearSessionAndServiceStatesLocked(mUserStates.get(mCurrentUserId));
    mCurrentUserId=userId;
    UserState userState=mUserStates.get(userId);
    if (userState == null) {
      userState=new UserState(mContext,userId);
      mUserStates.put(userId,userState);
    }
    buildTvInputListLocked(userId,null);
    buildTvContentRatingSystemListLocked(userId);
    mWatchLogHandler.obtainMessage(WatchLogHandler.MSG_SWITCH_CONTENT_RESOLVER,getContentResolverForUser(userId)).sendToTarget();
  }
}
