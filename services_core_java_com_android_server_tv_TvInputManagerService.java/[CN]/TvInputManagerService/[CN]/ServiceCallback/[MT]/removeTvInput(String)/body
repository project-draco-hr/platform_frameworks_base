{
synchronized (mLock) {
    if (mContext.checkCallingPermission(android.Manifest.permission.TV_INPUT_HARDWARE) != PackageManager.PERMISSION_GRANTED) {
      Slog.w(TAG,"The caller does not have permission to remove a TV input (" + inputId + ").");
      return;
    }
    ServiceState serviceState=getServiceStateLocked(mName,mUserId);
    boolean removed=false;
    for (Iterator<TvInputInfo> it=serviceState.mInputList.iterator(); it.hasNext(); ) {
      if (it.next().getId().equals(inputId)) {
        it.remove();
        removed=true;
        break;
      }
    }
    if (removed) {
      buildTvInputListLocked(mUserId);
    }
 else {
      Slog.e(TAG,"TvInputInfo with inputId=" + inputId + " not found.");
    }
  }
}
