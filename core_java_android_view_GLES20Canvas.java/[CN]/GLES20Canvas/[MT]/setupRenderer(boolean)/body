{
  if (record) {
    mRenderer=nCreateDisplayListRenderer();
  }
 else {
    mRenderer=nCreateRenderer();
  }
  if (mRenderer == 0) {
    throw new IllegalStateException("Could not create GLES20Canvas renderer");
  }
 else {
    if (mFinalizer == null) {
      mFinalizer=new CanvasFinalizer(mRenderer);
    }
 else {
      mFinalizer.replaceNativeObject(mRenderer);
    }
  }
}
