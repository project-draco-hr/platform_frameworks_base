{
  if ((index | count | text.length - index - count) < 0) {
    throw new IndexOutOfBoundsException();
  }
  if (dir != DIRECTION_LTR && dir != DIRECTION_RTL) {
    throw new IllegalArgumentException("Unknown direction: " + dir);
  }
  boolean hasModifier=setupModifiers(paint);
  try {
    nDrawTextRun(mRenderer,text,index,count,contextIndex,contextCount,x,y,dir,paint.mNativePaint);
  }
  finally {
    if (hasModifier)     nResetModifiers(mRenderer);
  }
}
