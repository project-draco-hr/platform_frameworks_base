{
  if (bounds != null) {
    return saveLayer(bounds.left,bounds.top,bounds.right,bounds.bottom,paint,saveFlags);
  }
  int count;
  int modifier=paint != null ? setupColorFilter(paint) : MODIFIER_NONE;
  try {
    final long nativePaint=paint == null ? 0 : paint.mNativePaint;
    count=nSaveLayer(mRenderer,nativePaint,saveFlags);
  }
  finally {
    if (modifier != MODIFIER_NONE)     nResetModifiers(mRenderer,modifier);
  }
  return count;
}
