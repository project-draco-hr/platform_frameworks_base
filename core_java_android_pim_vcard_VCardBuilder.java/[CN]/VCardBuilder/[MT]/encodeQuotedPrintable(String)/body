{
  if (TextUtils.isEmpty(str)) {
    return "";
  }
  final StringBuilder builder=new StringBuilder();
  int index=0;
  int lineCount=0;
  byte[] strArray=null;
  try {
    strArray=str.getBytes(mCharsetString);
  }
 catch (  UnsupportedEncodingException e) {
    Log.e(LOG_TAG,"Charset " + mCharsetString + " cannot be used. "+ "Try default charset");
    strArray=str.getBytes();
  }
  while (index < strArray.length) {
    builder.append(String.format("=%02X",strArray[index]));
    index+=1;
    lineCount+=3;
    if (lineCount >= 67) {
      builder.append("=\r\n");
      lineCount=0;
    }
  }
  return builder.toString();
}
