{
  View v=mKeyguardHost.findViewById(R.id.keyguard_host_view);
  if (v != null) {
    mKeyguardHost.removeView(v);
  }
  final LayoutInflater inflater=LayoutInflater.from(mContext);
  View view=inflater.inflate(HOST_LAYOUT,mKeyguardHost,true);
  mKeyguardView=(KeyguardViewBase)view.findViewById(R.id.keyguard_host_view);
  mKeyguardView.setLockPatternUtils(mLockPatternUtils);
  mKeyguardView.setViewMediatorCallback(mViewMediatorCallback);
  mKeyguardView.onUserSwitching(options != null && options.getBoolean(IS_SWITCHING_USER));
  if (mViewMediatorCallback != null) {
    KeyguardPasswordView kpv=(KeyguardPasswordView)mKeyguardView.findViewById(R.id.keyguard_password_view);
    if (kpv != null) {
      mViewMediatorCallback.setNeedsInput(kpv.needsInput());
    }
  }
  mKeyguardView.onCreateOptions(options);
}
