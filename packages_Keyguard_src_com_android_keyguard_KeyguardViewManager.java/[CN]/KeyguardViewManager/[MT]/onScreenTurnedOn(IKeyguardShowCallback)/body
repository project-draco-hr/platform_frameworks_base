{
  if (DEBUG)   Log.d(TAG,"onScreenTurnedOn()");
  mScreenOn=true;
  final IBinder token=isShowing() ? mKeyguardHost.getWindowToken() : null;
  if (DEBUG && token == null)   Slog.v(TAG,"send wm null token: " + (mKeyguardHost == null ? "host was null" : "not showing"));
  if (mKeyguardView != null) {
    mKeyguardView.onScreenTurnedOn();
    if (callback != null) {
      if (mKeyguardHost.getVisibility() == View.VISIBLE) {
        mKeyguardHost.post(new Runnable(){
          @Override public void run(){
            try {
              callback.onShown(token);
            }
 catch (            RemoteException e) {
              Slog.w(TAG,"Exception calling onShown():",e);
            }
          }
        }
);
      }
 else {
        try {
          callback.onShown(token);
        }
 catch (        RemoteException e) {
          Slog.w(TAG,"Exception calling onShown():",e);
        }
      }
    }
  }
 else   if (callback != null) {
    try {
      callback.onShown(token);
    }
 catch (    RemoteException e) {
      Slog.w(TAG,"Exception calling onShown():",e);
    }
  }
}
