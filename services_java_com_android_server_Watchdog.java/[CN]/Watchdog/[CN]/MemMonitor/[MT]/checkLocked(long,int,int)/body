{
  mLastPss=pss;
  if (mLastPss < mSoftThreshold) {
    mState=STATE_OK;
  }
 else   if (mLastPss < mHardThreshold) {
    mState=STATE_SOFT;
  }
 else {
    mState=STATE_HARD;
  }
  EventLog.writeEvent(EventLogTags.WATCHDOG_PROC_PSS,mProcessName,pid,mLastPss);
  if (mState == STATE_OK) {
    return false;
  }
  if (mState == STATE_HARD) {
    EventLog.writeEvent(EventLogTags.WATCHDOG_HARD_RESET,mProcessName,pid,mHardThreshold,mLastPss);
    return mEnabled;
  }
  computeMemcheckTimesLocked(curTime);
  String skipReason=null;
  if (curTime < mMemcheckExecStartTime || curTime > mMemcheckExecEndTime) {
    skipReason="time";
  }
 else {
    skipReason=shouldWeBeBrutalLocked(curTime);
  }
  EventLog.writeEvent(EventLogTags.WATCHDOG_SOFT_RESET,mProcessName,pid,mSoftThreshold,mLastPss,skipReason != null ? skipReason : "");
  if (skipReason != null) {
    mNeedScheduledCheck=true;
    return false;
  }
  return mEnabled;
}
