{
  PssStats stats=mPssStats;
  mActivity.collectPss(stats);
  EventLog.writeEvent(EVENT_LOG_PSS_STATS_TAG,stats.mEmptyPss,stats.mEmptyCount,stats.mBackgroundPss,stats.mBackgroundCount,stats.mServicePss,stats.mServiceCount,stats.mVisiblePss,stats.mVisibleCount,stats.mForegroundPss,stats.mForegroundCount,stats.mNoPssCount);
  EventLog.writeEvent(EVENT_LOG_PROC_STATS_TAG,stats.mProcDeaths[0],stats.mProcDeaths[1],stats.mProcDeaths[2],stats.mProcDeaths[3],stats.mProcDeaths[4]);
  Process.readProcLines("/proc/meminfo",mMemInfoFields,mMemInfoSizes);
  for (int i=0; i < mMemInfoSizes.length; i++) {
    mMemInfoSizes[i]*=1024;
  }
  EventLog.writeEvent(EVENT_LOG_MEMINFO_TAG,(int)mMemInfoSizes[0],(int)mMemInfoSizes[1],(int)mMemInfoSizes[2],(int)mMemInfoSizes[3],(int)mMemInfoSizes[4],(int)mMemInfoSizes[5],(int)mMemInfoSizes[6],(int)mMemInfoSizes[7],(int)mMemInfoSizes[8],(int)mMemInfoSizes[9],(int)mMemInfoSizes[10]);
  long now=SystemClock.uptimeMillis();
  long dur=now - mLastLogGlobalMemoryTime;
  mLastLogGlobalMemoryTime=now;
  Process.readProcLines("/proc/vmstat",mVMStatFields,mVMStatSizes);
  for (int i=0; i < mVMStatSizes.length; i++) {
    long v=mVMStatSizes[i];
    mVMStatSizes[i]-=mPrevVMStatSizes[i];
    mPrevVMStatSizes[i]=v;
  }
  EventLog.writeEvent(EVENT_LOG_VMSTAT_TAG,dur,(int)mVMStatSizes[0],(int)mVMStatSizes[1],(int)mVMStatSizes[2],(int)mVMStatSizes[3],(int)mVMStatSizes[4]);
}
