{
  BluetoothDeviceProperties deviceProperties=mBluetoothService.getDeviceProperties();
  deviceProperties.addProperties(address,properties);
  String rssi=deviceProperties.getProperty(address,"RSSI");
  String classValue=deviceProperties.getProperty(address,"Class");
  String name=deviceProperties.getProperty(address,"Name");
  short rssiValue;
  if (rssi != null) {
    rssiValue=(short)Integer.valueOf(rssi).intValue();
  }
 else {
    rssiValue=Short.MIN_VALUE;
  }
  if (classValue != null) {
    Intent intent=new Intent(BluetoothDevice.ACTION_FOUND);
    intent.putExtra(BluetoothDevice.EXTRA_DEVICE,mAdapter.getRemoteDevice(address));
    intent.putExtra(BluetoothDevice.EXTRA_CLASS,new BluetoothClass(Integer.valueOf(classValue)));
    intent.putExtra(BluetoothDevice.EXTRA_RSSI,rssiValue);
    intent.putExtra(BluetoothDevice.EXTRA_NAME,name);
    mContext.sendBroadcast(intent,BLUETOOTH_PERM);
  }
 else {
    log("ClassValue: " + classValue + " for remote device: "+ address+ " is null");
  }
}
