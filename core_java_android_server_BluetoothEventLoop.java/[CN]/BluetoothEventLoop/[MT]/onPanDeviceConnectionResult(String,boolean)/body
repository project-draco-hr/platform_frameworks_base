{
  log("onPanDeviceConnectionResult " + path + " "+ result);
  if (!result) {
    String address=mBluetoothService.getAddressFromObjectPath(path);
    if (address == null)     return;
    boolean connected=false;
    BluetoothDevice device=mAdapter.getRemoteDevice(address);
    int state=mBluetoothService.getPanDeviceState(device);
    if (state == BluetoothPan.STATE_CONNECTING) {
      connected=false;
    }
 else     if (state == BluetoothPan.STATE_DISCONNECTING) {
      connected=true;
    }
 else {
      Log.e(TAG,"Error onPanDeviceConnectionResult. State is: " + state + " result: "+ result);
    }
    int newState=connected ? BluetoothPan.STATE_CONNECTED : BluetoothPan.STATE_DISCONNECTED;
    mBluetoothService.handlePanDeviceStateChange(device,newState,BluetoothPan.LOCAL_PANU_ROLE);
  }
}
