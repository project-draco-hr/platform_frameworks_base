{
  int currentModes=colorModes;
  while (currentModes > 0) {
    final int currentMode=(1 << Integer.numberOfTrailingZeros(currentModes));
    currentModes&=~currentMode;
    PrintAttributes.enforceValidColorMode(currentMode);
  }
  if ((colorModes & defaultColorMode) == 0) {
    throw new IllegalArgumentException("Default color mode not in color modes.");
  }
  PrintAttributes.enforceValidColorMode(colorModes);
  mPrototype.mColorModes=colorModes;
  mPrototype.mDefaults[PROPERTY_COLOR_MODE]=defaultColorMode;
  return this;
}
