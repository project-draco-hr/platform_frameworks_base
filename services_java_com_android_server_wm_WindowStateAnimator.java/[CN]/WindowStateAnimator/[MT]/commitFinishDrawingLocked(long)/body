{
  if (mDrawState != COMMIT_DRAW_PENDING) {
    return false;
  }
  if (DEBUG_SURFACE_TRACE || DEBUG_ANIM)   Slog.i(TAG,"commitFinishDrawingLocked: mDrawState=READY_TO_SHOW " + mSurface);
  mDrawState=READY_TO_SHOW;
  final boolean starting=mWin.mAttrs.type == TYPE_APPLICATION_STARTING;
  final AppWindowToken atoken=mWin.mAppToken;
  if (atoken == null || atoken.allDrawn || starting) {
    performShowLocked();
  }
  return true;
}
