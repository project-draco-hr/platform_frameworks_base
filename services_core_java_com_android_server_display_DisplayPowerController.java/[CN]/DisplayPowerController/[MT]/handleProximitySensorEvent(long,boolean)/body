{
  if (mProximitySensorEnabled) {
    if (mPendingProximity == PROXIMITY_NEGATIVE && !positive) {
      return;
    }
    if (mPendingProximity == PROXIMITY_POSITIVE && positive) {
      return;
    }
    mHandler.removeMessages(MSG_PROXIMITY_SENSOR_DEBOUNCED);
    if (positive) {
      mPendingProximity=PROXIMITY_POSITIVE;
      setPendingProximityDebounceTime(time + PROXIMITY_SENSOR_POSITIVE_DEBOUNCE_DELAY);
    }
 else {
      mPendingProximity=PROXIMITY_NEGATIVE;
      setPendingProximityDebounceTime(time + PROXIMITY_SENSOR_NEGATIVE_DEBOUNCE_DELAY);
    }
    debounceProximitySensor();
  }
}
