{
  final int count=positions.length;
  for (int start=1; start < count; start++) {
    final int pivotPosition=positions[start];
    final String pivotValue=strings[start];
    final String pivotId=ids.get(start);
    int left=0;
    int right=start;
    while (left < right) {
      int mid=(left + right) >>> 1;
      final String lhs=pivotValue;
      final String rhs=strings[mid];
      final int compare=DocumentInfo.compareToIgnoreCaseNullable(lhs,rhs);
      if (compare < 0) {
        right=mid;
      }
 else {
        left=mid + 1;
      }
    }
    int n=start - left;
switch (n) {
case 2:
      positions[left + 2]=positions[left + 1];
    strings[left + 2]=strings[left + 1];
  ids.set(left + 2,ids.get(left + 1));
case 1:
positions[left + 1]=positions[left];
strings[left + 1]=strings[left];
ids.set(left + 1,ids.get(left));
break;
default :
System.arraycopy(positions,left,positions,left + 1,n);
System.arraycopy(strings,left,strings,left + 1,n);
for (int i=n; i >= 1; --i) {
ids.set(left + i,ids.get(left + i - 1));
}
}
positions[left]=pivotPosition;
strings[left]=pivotValue;
ids.set(left,pivotId);
}
}
