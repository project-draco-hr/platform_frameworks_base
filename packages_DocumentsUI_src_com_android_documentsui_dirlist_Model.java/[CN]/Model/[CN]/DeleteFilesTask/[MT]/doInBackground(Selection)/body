{
  List<DocumentInfo> toDelete=null;
  try {
    toDelete=getDocuments(selected[0]);
  }
 catch (  NullPointerException e) {
    Log.w(TAG,"Failed to retrieve documents for delete.");
    mHadTrouble=true;
    return null;
  }
  for (  DocumentInfo doc : toDelete) {
    if (!doc.isDeleteSupported()) {
      Log.w(TAG,doc + " could not be deleted.  Skipping...");
      mHadTrouble=true;
      continue;
    }
    ContentProviderClient client=null;
    try {
      if (DEBUG)       Log.d(TAG,"Deleting: " + doc.displayName);
      client=DocumentsApplication.acquireUnstableProviderOrThrow(mResolver,doc.derivedUri.getAuthority());
      DocumentsContract.deleteDocument(client,doc.derivedUri);
    }
 catch (    Exception e) {
      Log.w(TAG,"Failed to delete " + doc,e);
      mHadTrouble=true;
    }
 finally {
      ContentProviderClient.releaseQuietly(client);
    }
  }
  return null;
}
