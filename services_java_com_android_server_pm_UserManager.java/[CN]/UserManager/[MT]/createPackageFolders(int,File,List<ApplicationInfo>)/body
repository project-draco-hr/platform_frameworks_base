{
  if (mInstaller == null || apps == null)   return true;
  final long startTime=SystemClock.elapsedRealtime();
  userPath.mkdir();
  FileUtils.setPermissions(userPath.toString(),FileUtils.S_IRWXU | FileUtils.S_IRWXG | FileUtils.S_IXOTH,-1,-1);
  for (  ApplicationInfo app : apps) {
    if (app.uid > android.os.Process.FIRST_APPLICATION_UID && app.uid < PackageManager.PER_USER_RANGE) {
      mInstaller.createUserData(app.packageName,PackageManager.getUid(id,app.uid),id);
    }
  }
  final long stopTime=SystemClock.elapsedRealtime();
  Log.i(LOG_TAG,"Time to create " + apps.size() + " packages = "+ (stopTime - startTime)+ "ms");
  return true;
}
