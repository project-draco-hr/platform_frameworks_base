{
  if ((flags & AudioManager.FLAG_SHOW_UI) != 0 || mDialog.isShowing()) {
synchronized (sConfirmSafeVolumeLock) {
      if (sConfirmSafeVolumeDialog != null) {
        return;
      }
      sConfirmSafeVolumeDialog=new AlertDialog.Builder(mContext).setMessage(com.android.internal.R.string.safe_media_volume_warning).setPositiveButton(com.android.internal.R.string.yes,new DialogInterface.OnClickListener(){
        public void onClick(        DialogInterface dialog,        int which){
          mAudioService.disableSafeMediaVolume();
        }
      }
).setNegativeButton(com.android.internal.R.string.no,null).setIconAttribute(android.R.attr.alertDialogIcon).create();
      final WarningDialogReceiver warning=new WarningDialogReceiver(mContext,sConfirmSafeVolumeDialog,this);
      sConfirmSafeVolumeDialog.setOnDismissListener(warning);
      sConfirmSafeVolumeDialog.getWindow().setType(WindowManager.LayoutParams.TYPE_KEYGUARD_DIALOG);
      sConfirmSafeVolumeDialog.show();
    }
    updateStates();
  }
  resetTimeout();
}
