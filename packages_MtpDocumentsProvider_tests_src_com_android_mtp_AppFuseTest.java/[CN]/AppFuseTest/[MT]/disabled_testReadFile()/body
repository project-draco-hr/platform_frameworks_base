{
  final StorageManager storageManager=getContext().getSystemService(StorageManager.class);
  final int INODE=10;
  final byte[] BYTES=new byte[]{'a','b','c','d','e'};
  final AppFuse appFuse=new AppFuse("test",new TestCallback(){
    @Override public long getFileSize(    int inode) throws FileNotFoundException {
      if (inode == INODE) {
        return BYTES.length;
      }
      return super.getFileSize(inode);
    }
    @Override public byte[] getObjectBytes(    int inode,    long offset,    int size) throws IOException {
      if (inode == INODE) {
        return Arrays.copyOfRange(BYTES,(int)offset,(int)offset + size);
      }
      return super.getObjectBytes(inode,offset,size);
    }
  }
);
  appFuse.mount(storageManager);
  final ParcelFileDescriptor fd=appFuse.openFile(INODE);
  try (final ParcelFileDescriptor.AutoCloseInputStream stream=new ParcelFileDescriptor.AutoCloseInputStream(fd)){
    final byte[] buffer=new byte[1024];
    final int size=stream.read(buffer,0,buffer.length);
    assertEquals(5,size);
  }
   appFuse.close();
}
