{
  EditorState state=new EditorState();
  state.setByString("'abc' ( 'de' ) 'fg' |");
  backspace(state,0);
  state.assertEquals("'abc' ( 'de' ) 'f' |");
  backspace(state,0);
  state.assertEquals("'abc' ( 'de' ) |");
  backspace(state,0);
  state.assertEquals("'abc' |");
  backspace(state,0);
  state.assertEquals("'ab' |");
  backspace(state,0);
  state.assertEquals("'a' |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("'abc' [ ( 'de' ) ] 'fg'");
  backspace(state,0);
  state.assertEquals("'abc' | 'fg'");
  backspace(state,0);
  state.assertEquals("'ab' | 'fg'");
  backspace(state,0);
  state.assertEquals("'a' | 'fg'");
  backspace(state,0);
  state.assertEquals("| 'fg'");
  backspace(state,0);
  state.assertEquals("| 'fg'");
  state.setByString("'ab' [ 'c' ( 'de' ) 'f' ] 'g'");
  backspace(state,0);
  state.assertEquals("'ab' | 'g'");
  backspace(state,0);
  state.assertEquals("'a' | 'g'");
  backspace(state,0);
  state.assertEquals("| 'g'");
  backspace(state,0);
  state.assertEquals("| 'g'");
}
