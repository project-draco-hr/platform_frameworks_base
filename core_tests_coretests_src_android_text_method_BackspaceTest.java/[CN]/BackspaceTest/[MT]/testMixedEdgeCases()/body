{
  EditorState state=new EditorState();
  state.setByString("'1' U+20E3 U+FE0F |");
  backspace(state,0);
  state.assertEquals("'1' |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+2665 U+FE0F U+20E3 |");
  backspace(state,0);
  state.assertEquals("U+2665 U+FE0F |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("'1' U+20E3 U+200D |");
  backspace(state,0);
  state.assertEquals("'1' U+20E3 |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("'1' U+20E3 U+200D U+1F5E8 |");
  backspace(state,0);
  state.assertEquals("'1' U+20E3 U+200D |");
  backspace(state,0);
  state.assertEquals("'1' U+20E3 |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+200D U+20E3 |");
  backspace(state,0);
  state.assertEquals("U+200D |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F441 U+200D U+20E3 |");
  backspace(state,0);
  state.assertEquals("U+1F441 U+200D |");
  backspace(state,0);
  state.assertEquals("U+1F441 |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("'1' U+20E3 U+1F1FA |");
  backspace(state,0);
  state.assertEquals("'1' U+20E3 |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F1FA U+20E3 |");
  backspace(state,0);
  state.assertEquals("U+1F1FA |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("'1' U+20E3 U+1F3FB |");
  backspace(state,0);
  state.assertEquals("'1' U+20E3 |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F466 U+1F3FB U+20E3 |");
  backspace(state,0);
  state.assertEquals("U+1f466 U+1F3FB |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+2665 U+FE0F U+200D |");
  backspace(state,0);
  state.assertEquals("U+2665 U+FE0F |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F469 U+200D U+2764 U+FE0F U+200D U+1F469 |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+200D U+FE0F |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F469 U+200D U+FE0F |");
  backspace(state,0);
  state.assertEquals("U+1F469 |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+2665 U+FE0F U+1F1FA |");
  backspace(state,0);
  state.assertEquals("U+2665 U+FE0F |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F1FA U+FE0F |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+2665 U+FE0F U+1F3FB |");
  backspace(state,0);
  state.assertEquals("U+2665 U+FE0F |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F466 U+1F3FB U+FE0F |");
  backspace(state,0);
  state.assertEquals("U+1F466 |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+200D U+1F1FA |");
  backspace(state,0);
  state.assertEquals("U+200D |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F469 U+200D U+1F1FA |");
  backspace(state,0);
  state.assertEquals("U+1F469 U+200D |");
  backspace(state,0);
  state.assertEquals("U+1F469 |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F1FA U+200D |");
  backspace(state,0);
  state.assertEquals("U+1F1FA |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F1FA U+200D U+1F469 |");
  backspace(state,0);
  state.assertEquals("U+1F1FA U+200D |");
  backspace(state,0);
  state.assertEquals("U+1F1FA |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+200D U+1F3FB |");
  backspace(state,0);
  state.assertEquals("U+200D |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F469 U+200D U+1F3FB |");
  backspace(state,0);
  state.assertEquals("U+1F469 U+200D |");
  backspace(state,0);
  state.assertEquals("U+1F469 |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F466 U+1F3FB U+200D |");
  backspace(state,0);
  state.assertEquals("U+1F466 U+1F3FB |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F466 U+1F3FB U+200D U+1F469 |");
  backspace(state,0);
  state.assertEquals("U+1F466 U+1F3FB U+200D |");
  backspace(state,0);
  state.assertEquals("U+1F466 U+1F3FB |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F1FA U+1F3FB |");
  backspace(state,0);
  state.assertEquals("U+1F1FA |");
  backspace(state,0);
  state.assertEquals("|");
  state.setByString("U+1F466 U+1F3FB U+1F1FA |");
  backspace(state,0);
  state.assertEquals("U+1F466 U+1F3FB |");
  backspace(state,0);
  state.assertEquals("|");
}
