{
  mWidth=mInPixelsAllocation.getType().getX();
  mHeight=mInPixelsAllocation.getType().getY();
  mConvolve=new ScriptC_convolve3x3(mRS,res,R.raw.convolve3x3);
  mMatrix=new ScriptC_colormatrix(mRS,res,R.raw.colormatrix);
  float f[]=new float[9];
  f[0]=0.f;
  f[1]=-1.f;
  f[2]=0.f;
  f[3]=-1.f;
  f[4]=5.f;
  f[5]=-1.f;
  f[6]=0.f;
  f[7]=-1.f;
  f[8]=0.f;
  mConvolve.set_gCoeffs(f);
  Matrix4f m=new Matrix4f();
  m.set(1,0,0.2f);
  m.set(1,1,0.9f);
  m.set(1,2,0.2f);
  mMatrix.invoke_setMatrix(m);
  Type.Builder tb=new Type.Builder(mRS,Element.U8_4(mRS));
  tb.setX(mWidth);
  tb.setY(mHeight);
  Type connect=tb.create();
  if (mUseNative) {
    ScriptGroup.Builder b=new ScriptGroup.Builder(mRS);
    b.addConnection(connect,mConvolve,mMatrix,null);
    mGroup=b.create();
  }
 else {
    mScratchPixelsAllocation1=Allocation.createTyped(mRS,connect);
  }
}
