{
  String cert=Settings.Secure.getString(cr,UPDATE_CERTIFICATE_KEY);
  try {
    byte[] derCert=Base64.decode(cert.getBytes(),Base64.DEFAULT);
    InputStream istream=new ByteArrayInputStream(derCert);
    CertificateFactory cf=CertificateFactory.getInstance("X.509");
    return (X509Certificate)cf.generateCertificate(istream);
  }
 catch (  CertificateException e) {
    throw new IllegalStateException("Got malformed certificate from settings, ignoring");
  }
}
