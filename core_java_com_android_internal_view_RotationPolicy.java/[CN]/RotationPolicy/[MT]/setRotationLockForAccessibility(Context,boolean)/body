{
  Settings.System.putInt(context.getContentResolver(),Settings.System.HIDE_ROTATION_LOCK_TOGGLE_FOR_ACCESSIBILITY,enabled ? 1 : 0);
  AsyncTask.execute(new Runnable(){
    @Override public void run(){
      try {
        IWindowManager wm=IWindowManager.Stub.asInterface(ServiceManager.getService(Context.WINDOW_SERVICE));
        if (enabled) {
          wm.freezeRotation(Surface.ROTATION_0);
        }
 else {
          wm.thawRotation();
        }
      }
 catch (      RemoteException exc) {
        Log.w(TAG,"Unable to save auto-rotate setting");
      }
    }
  }
);
}
