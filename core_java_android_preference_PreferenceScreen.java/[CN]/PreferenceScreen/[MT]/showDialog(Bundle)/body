{
  Context context=getContext();
  if (mListView != null) {
    mListView.setAdapter(null);
  }
  mListView=new ListView(context);
  bind(mListView);
  final CharSequence title=getTitle();
  Dialog dialog=mDialog=new Dialog(context,TextUtils.isEmpty(title) ? com.android.internal.R.style.Theme_NoTitleBar : com.android.internal.R.style.Theme);
  dialog.setContentView(mListView);
  if (!TextUtils.isEmpty(title)) {
    dialog.setTitle(title);
  }
  dialog.setOnDismissListener(this);
  if (state != null) {
    dialog.onRestoreInstanceState(state);
  }
  getPreferenceManager().addPreferencesScreen(dialog);
  dialog.show();
}
