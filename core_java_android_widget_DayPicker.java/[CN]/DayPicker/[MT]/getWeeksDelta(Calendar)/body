{
  if (toDate.before(mStartRangeDate)) {
    throw new IllegalArgumentException("fromDate: " + mStartRangeDate.getTime() + " does not precede toDate: "+ toDate.getTime());
  }
  int fromDateDayOfWeek=mStartRangeDate.get(Calendar.DAY_OF_WEEK);
  long diff=(fromDateDayOfWeek - toDate.getFirstDayOfWeek()) * MILLIS_IN_DAY;
  if (diff < 0) {
    diff=diff + MILLIS_IN_WEEK;
  }
  long refDay=mStartRangeDate.getTimeInMillis() - diff;
  return (int)((toDate.getTimeInMillis() - refDay) / MILLIS_IN_WEEK);
}
