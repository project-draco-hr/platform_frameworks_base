{
  ArrayList<ResolveInfo> matches;
  String defaultPackage;
synchronized (mLock) {
    matches=getDeviceMatchesLocked(device,intent);
    defaultPackage=mDevicePreferenceMap.get(new DeviceFilter(device));
  }
  resolveActivity(intent,matches,defaultPackage,device,null);
}
