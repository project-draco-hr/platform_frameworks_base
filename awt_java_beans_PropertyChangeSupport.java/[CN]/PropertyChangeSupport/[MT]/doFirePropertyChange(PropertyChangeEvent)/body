{
  String propertyName=event.getPropertyName();
  Object oldValue=event.getOldValue();
  Object newValue=event.getNewValue();
  if ((newValue != null) && (oldValue != null) && newValue.equals(oldValue)) {
    return;
  }
  PropertyChangeListener[] listensToAll;
  PropertyChangeListener[] listensToOne=null;
synchronized (this) {
    listensToAll=allPropertiesChangeListeners.toArray(new PropertyChangeListener[allPropertiesChangeListeners.size()]);
    List<PropertyChangeListener> listeners=selectedPropertiesChangeListeners.get(propertyName);
    if (listeners != null) {
      listensToOne=listeners.toArray(new PropertyChangeListener[listeners.size()]);
    }
  }
  for (  PropertyChangeListener listener : listensToAll) {
    listener.propertyChange(event);
  }
  if (listensToOne != null) {
    for (    PropertyChangeListener listener : listensToOne) {
      listener.propertyChange(event);
    }
  }
}
