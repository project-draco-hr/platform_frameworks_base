{
  String scheme=pPackageURI.getScheme();
  if (scheme == null || scheme.equals("file")) {
    final File srcPackageFile=new File(pPackageURI.getPath());
    copyToFile(srcPackageFile,outStream);
  }
 else   if (scheme.equals("content")) {
    ParcelFileDescriptor fd=null;
    try {
      fd=getContentResolver().openFileDescriptor(pPackageURI,"r");
    }
 catch (    FileNotFoundException e) {
      Slog.e(TAG,"Couldn't open file descriptor from download service. " + "Failed with exception " + e);
      throw e;
    }
    if (fd == null) {
      Slog.e(TAG,"Provider returned no file descriptor for " + pPackageURI.toString());
      throw new FileNotFoundException("provider returned no file descriptor");
    }
 else {
      if (localLOGV) {
        Slog.i(TAG,"Opened file descriptor from download service.");
      }
      ParcelFileDescriptor.AutoCloseInputStream dlStream=new ParcelFileDescriptor.AutoCloseInputStream(fd);
      copyToFile(dlStream,outStream);
    }
  }
 else {
    Slog.e(TAG,"Package URI is not 'file:' or 'content:' - " + pPackageURI);
    throw new FileNotFoundException("Package URI is not 'file:' or 'content:'");
  }
}
