{
  if (PackageManager.ACTION_CLEAN_EXTERNAL_STORAGE.equals(intent.getAction())) {
    IPackageManager pm=IPackageManager.Stub.asInterface(ServiceManager.getService("package"));
    PackageCleanItem pkg=null;
    try {
      while ((pkg=pm.nextPackageToClean(pkg)) != null) {
        eraseFiles(Environment.getExternalStorageAppDataDirectory(pkg.packageName));
        eraseFiles(Environment.getExternalStorageAppMediaDirectory(pkg.packageName));
        if (pkg.andCode) {
          eraseFiles(Environment.getExternalStorageAppObbDirectory(pkg.packageName));
        }
      }
    }
 catch (    RemoteException e) {
    }
  }
}
