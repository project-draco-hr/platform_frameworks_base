{
  long sizeBytes=apkFile.length();
  if (sizeBytes == 0 && !apkFile.exists()) {
    throw new FileNotFoundException();
  }
  if (abiIndex >= 0) {
    sizeBytes+=NativeLibraryHelper.sumNativeBinariesLI(apkHandle,Build.SUPPORTED_ABIS[abiIndex]);
  }
  if (forwardLocked) {
    sizeBytes+=PackageHelper.extractPublicFiles(apkFile.getPath(),null);
  }
  int sizeMb=(int)(sizeBytes >> 20);
  if ((sizeBytes - (sizeMb * 1024 * 1024)) > 0) {
    sizeMb++;
  }
  sizeMb++;
  return sizeMb;
}
