{
  File tmpPackageFile=new File(packageURI.getPath());
  IMountService mountService=getMountService();
  long len=tmpPackageFile.length();
  int mbLen=(int)(len / (1024 * 1024));
  if ((len - (mbLen * 1024 * 1024)) > 0) {
    mbLen++;
  }
  if (localLOGV)   Log.i(TAG,"mbLen=" + mbLen);
  String cachePath=null;
  int ownerUid=Process.myUid();
  try {
    int rc=mountService.createSecureContainer(containerId,mbLen,"vfat",sdEncKey,ownerUid);
    if (rc != MountServiceResultCode.OperationSucceeded) {
      Log.e(TAG,String.format("Container creation failed (%d)",rc));
      rc=mountService.destroySecureContainer(containerId);
      if (rc != MountServiceResultCode.OperationSucceeded) {
        Log.e(TAG,String.format("Container creation-cleanup failed (%d)",rc));
        return null;
      }
      rc=mountService.createSecureContainer(containerId,mbLen,"vfat",sdEncKey,ownerUid);
      if (rc != MountServiceResultCode.OperationSucceeded) {
        Log.e(TAG,String.format("Container creation retry failed (%d)",rc));
      }
    }
    cachePath=mountService.getSecureContainerPath(containerId);
    if (localLOGV)     Log.i(TAG,"Trying to create secure container for  " + containerId + ", cachePath ="+ cachePath);
    return cachePath;
  }
 catch (  RemoteException e) {
    Log.e(TAG,"MountService not running?");
    return null;
  }
}
