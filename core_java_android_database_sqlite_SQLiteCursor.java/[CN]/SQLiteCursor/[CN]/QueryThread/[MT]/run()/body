{
  CursorWindow cw=mWindow;
  Process.setThreadPriority(Process.myTid(),Process.THREAD_PRIORITY_BACKGROUND);
  while (true) {
    mLock.lock();
    if (mCursorState != mThreadState) {
      mLock.unlock();
      break;
    }
    try {
      int count=getQuery().fillWindow(cw,mMaxRead,mCount);
      if (count != 0) {
        if (count == NO_COUNT) {
          mCount+=mMaxRead;
          sendMessage();
        }
 else {
          mCount=count;
          sendMessage();
          break;
        }
      }
 else {
        break;
      }
    }
 catch (    Exception e) {
      break;
    }
 finally {
      mLock.unlock();
    }
  }
}
