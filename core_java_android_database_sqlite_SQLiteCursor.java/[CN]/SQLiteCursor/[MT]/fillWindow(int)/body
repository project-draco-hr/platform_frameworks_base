{
  if (mWindow == null) {
    mWindow=new CursorWindow(true);
  }
 else {
    mCursorState++;
    queryThreadLock();
    try {
      mWindow.clear();
    }
  finally {
      queryThreadUnlock();
    }
  }
  mWindow.setStartPosition(startPos);
  int count=getQuery().fillWindow(mWindow,mInitialRead,0);
  if (count == NO_COUNT) {
    mCount=startPos + mInitialRead;
    if (Log.isLoggable(TAG,Log.DEBUG)) {
      Log.d(TAG,"received -1 from native_fill_window. read " + mCount + " rows so far");
    }
    Thread t=new Thread(new QueryThread(mCursorState),"query thread");
    t.start();
  }
 else   if (startPos == 0) {
    if (Log.isLoggable(TAG,Log.DEBUG)) {
      Log.d(TAG,"received count(*) from native_fill_window: " + count);
    }
    mCount=count;
  }
 else   if (mCount <= 0) {
    throw new IllegalStateException("count should never be non-zero negative number");
  }
}
