{
  super();
  if (query == null) {
    throw new IllegalArgumentException("query object cannot be null");
  }
  if (query.mDatabase == null) {
    throw new IllegalArgumentException("query.mDatabase cannot be null");
  }
  mStackTrace=new DatabaseObjectNotClosedException().fillInStackTrace();
  mDriver=driver;
  mEditTable=editTable;
  mColumnNameMap=null;
  mQuery=query;
  query.mDatabase.lock();
  try {
    int columnCount=mQuery.columnCountLocked();
    mColumns=new String[columnCount];
    for (int i=0; i < columnCount; i++) {
      String columnName=mQuery.columnNameLocked(i);
      mColumns[i]=columnName;
      if (Config.LOGV) {
        Log.v("DatabaseWindow","mColumns[" + i + "] is "+ mColumns[i]);
      }
      if ("_id".equals(columnName)) {
        mRowIdColumnIndex=i;
      }
    }
  }
  finally {
    query.mDatabase.unlock();
  }
}
