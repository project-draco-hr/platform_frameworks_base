{
  final int captionHeight;
  if (mCaption.getVisibility() != View.GONE) {
    measureChildWithMargins(mCaption,widthMeasureSpec,0,heightMeasureSpec,0);
    captionHeight=mCaption.getMeasuredHeight();
  }
 else {
    captionHeight=0;
  }
  if (mContent != null) {
    if (mOverlayWithAppContent) {
      measureChildWithMargins(mContent,widthMeasureSpec,0,heightMeasureSpec,0);
    }
 else {
      measureChildWithMargins(mContent,widthMeasureSpec,0,heightMeasureSpec,captionHeight);
    }
  }
  setMeasuredDimension(MeasureSpec.getSize(widthMeasureSpec),MeasureSpec.getSize(heightMeasureSpec));
}
