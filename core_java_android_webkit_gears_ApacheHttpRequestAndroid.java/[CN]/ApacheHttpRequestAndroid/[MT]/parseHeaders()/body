{
  mConnectionFailedLock.lock();
  if (mConnectionFailed) {
    mConnectionFailedLock.unlock();
    return false;
  }
  mConnectionFailedLock.unlock();
  waitUntilConnectionFinished();
  mResponseHeaders=new HashMap<String,String[]>();
  if (mResponse == null)   return false;
  Header[] headers=mResponse.getAllHeaders();
  for (int i=0; i < headers.length; i++) {
    Header header=headers[i];
    if (LOGV_ENABLED) {
      Log.i(LOG_TAG,"header " + header.getName() + " -> "+ header.getValue());
    }
    setResponseHeader(header.getName(),header.getValue());
  }
  return true;
}
