{
  int statusCode=cacheResult.getHttpStatusCode();
  String statusMessage;
  if (statusCode >= 200 && statusCode < 300) {
    statusMessage="OK";
  }
 else   if (statusCode >= 300 && statusCode < 400) {
    statusMessage="MOVED";
  }
 else {
    statusMessage="UNAVAILABLE";
  }
  mResponseLine="HTTP/1.1 " + statusCode + " "+ statusMessage;
  if (LOGV_ENABLED) {
    Log.i(LOG_TAG,"Synthesized " + mResponseLine);
  }
  mResponseHeaders=new HashMap<String,String[]>();
  String contentLength=Long.toString(cacheResult.getContentLength());
  setResponseHeader(KEY_CONTENT_LENGTH,contentLength);
  String expires=cacheResult.getExpiresString();
  if (expires != null) {
    setResponseHeader(KEY_EXPIRES,expires);
  }
  String lastModified=cacheResult.getLastModified();
  if (lastModified != null) {
    setResponseHeader(KEY_LAST_MODIFIED,lastModified);
  }
  String eTag=cacheResult.getETag();
  if (eTag != null) {
    setResponseHeader(KEY_ETAG,eTag);
  }
  String location=cacheResult.getLocation();
  if (location != null) {
    setResponseHeader(KEY_LOCATION,location);
  }
  String mimeType=cacheResult.getMimeType();
  if (mimeType == null) {
    mimeType=DEFAULT_MIME_TYPE;
  }
  String encoding=cacheResult.getEncoding();
  String contentType=mimeType;
  if (encoding != null) {
    if (encoding.length() > 0) {
      contentType+="; charset=" + encoding;
    }
  }
  setResponseHeader(KEY_CONTENT_TYPE,contentType);
}
