{
  if (LOGV_ENABLED) {
    Log.i(LOG_TAG,"open " + method + " "+ url);
  }
  if (mConnectionFailed) {
    return false;
  }
  mClient=new DefaultHttpClient();
  mClient.setHttpRequestRetryHandler(new DefaultHttpRequestRetryHandler(0,false));
  mBodyInputStream=null;
  mResponseLine=null;
  mResponseHeaders=null;
  mPostEntity=null;
  mHttpThread=null;
  mConnectionFailed=false;
  mConnectionFinished=false;
  if ("GET".equalsIgnoreCase(method)) {
    mMethod=new HttpGet(url);
  }
 else   if ("POST".equalsIgnoreCase(method)) {
    mMethod=new HttpPost(url);
    mPostEntity=new StreamEntity();
    ((HttpPost)mMethod).setEntity(mPostEntity);
  }
 else   if ("HEAD".equalsIgnoreCase(method)) {
    mMethod=new HttpHead(url);
  }
 else   if ("PUT".equalsIgnoreCase(method)) {
    mMethod=new HttpPut(url);
  }
 else   if ("DELETE".equalsIgnoreCase(method)) {
    mMethod=new HttpDelete(url);
  }
 else {
    if (LOGV_ENABLED) {
      Log.i(LOG_TAG,"Method " + method + " not supported");
    }
    return false;
  }
  HttpParams params=mClient.getParams();
  HttpClientParams.setRedirecting(params,false);
  HttpProtocolParams.setUseExpectContinue(params,false);
  return true;
}
