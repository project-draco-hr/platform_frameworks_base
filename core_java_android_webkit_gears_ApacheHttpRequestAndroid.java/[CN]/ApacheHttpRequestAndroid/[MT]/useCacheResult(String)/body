{
  Map<String,String> cacheRequestHeaders=new HashMap<String,String>();
  Iterator<Map.Entry<String,String[]>> it=mRequestHeaders.entrySet().iterator();
  while (it.hasNext()) {
    Map.Entry<String,String[]> entry=it.next();
    cacheRequestHeaders.put(entry.getKey(),entry.getValue()[HEADERS_MAP_INDEX_VALUE]);
  }
  CacheResult mCacheResult=CacheManager.getCacheFile(url,cacheRequestHeaders);
  if (mCacheResult == null) {
    if (LOGV_ENABLED) {
      Log.i(LOG_TAG,"No CacheResult for " + url);
    }
    return false;
  }
  if (LOGV_ENABLED) {
    Log.i(LOG_TAG,"Got CacheResult from browser cache");
  }
  long expires=mCacheResult.getExpires();
  if (expires >= 0 && System.currentTimeMillis() >= expires) {
    if (LOGV_ENABLED) {
      Log.i(LOG_TAG,"CacheResult expired " + (System.currentTimeMillis() - expires) + " milliseconds ago");
    }
    return false;
  }
  mBodyInputStream=mCacheResult.getInputStream();
  if (mBodyInputStream == null) {
    if (LOGV_ENABLED) {
      Log.i(LOG_TAG,"No mBodyInputStream for CacheResult " + url);
    }
    return false;
  }
  synthesizeHeadersFromCacheResult(mCacheResult);
  return true;
}
