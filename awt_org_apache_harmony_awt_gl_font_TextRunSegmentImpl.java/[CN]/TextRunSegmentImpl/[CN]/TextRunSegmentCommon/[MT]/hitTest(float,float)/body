{
  hitX-=x;
  float glyphPositions[]=getGlyphVector().getGlyphPositions(0,info.length + 1,null);
  int glyphIdx;
  boolean leading=false;
  for (glyphIdx=1; glyphIdx <= info.length; glyphIdx++) {
    if (glyphPositions[(glyphIdx) * 2] >= hitX) {
      float advance=glyphPositions[(glyphIdx) * 2] - glyphPositions[(glyphIdx - 1) * 2];
      leading=glyphPositions[(glyphIdx - 1) * 2] + advance / 2 > hitX ? true : false;
      glyphIdx--;
      break;
    }
  }
  if (glyphIdx == info.length) {
    glyphIdx--;
  }
  int charIdx=getGlyphVector().getGlyphCharIndex(glyphIdx);
  return (leading) ^ ((info.level & 0x1) == 0x1) ? TextHitInfo.leading(charIdx + info.start) : TextHitInfo.trailing(charIdx + info.start);
}
