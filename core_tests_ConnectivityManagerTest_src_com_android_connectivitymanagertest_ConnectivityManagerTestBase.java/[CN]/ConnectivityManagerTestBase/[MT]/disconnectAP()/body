{
  if (!mWifiManager.isWifiEnabled()) {
    log("Enabled wifi before remove configured networks");
    mWifiManager.setWifiEnabled(true);
    SystemClock.sleep(SHORT_TIMEOUT);
  }
  List<WifiConfiguration> wifiConfigList=mWifiManager.getConfiguredNetworks();
  if (wifiConfigList == null) {
    log("no configuration list is null");
    return true;
  }
  log("size of wifiConfigList: " + wifiConfigList.size());
  for (  WifiConfiguration wifiConfig : wifiConfigList) {
    log("remove wifi configuration: " + wifiConfig.networkId);
    int netId=wifiConfig.networkId;
    mWifiManager.forget(netId,new WifiManager.ActionListener(){
      public void onSuccess(){
      }
      public void onFailure(      int reason){
        log("Failed to forget " + reason);
      }
    }
);
  }
  return true;
}
