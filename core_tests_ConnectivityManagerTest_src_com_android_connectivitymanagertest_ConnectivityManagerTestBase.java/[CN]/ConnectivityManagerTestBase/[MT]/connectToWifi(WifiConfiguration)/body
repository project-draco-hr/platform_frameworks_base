{
  assertTrue("failed to associate with " + config.SSID,connectToWifiWithConfiguration(config));
  assertTrue("wifi state not connected with " + config.SSID,waitForNetworkState(ConnectivityManager.TYPE_WIFI,State.CONNECTED,WIFI_CONNECTION_TIMEOUT));
  assertNotNull("no active wifi info",mWifiManager.getConnectionInfo());
  assertEquals("SSID mismatch",config.SSID,mWifiManager.getConnectionInfo().getSSID());
}
