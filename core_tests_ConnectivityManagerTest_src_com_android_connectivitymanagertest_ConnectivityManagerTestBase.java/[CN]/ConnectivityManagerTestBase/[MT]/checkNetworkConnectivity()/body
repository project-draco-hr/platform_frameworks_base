{
  assertTrue("no active network connection",waitForActiveNetworkConnection(LONG_TIMEOUT));
  try {
    Process proc=Runtime.getRuntime().exec(new String[]{"/system/bin/ping","-W","30","-c","1",PING_IP_ADDR});
    return proc.waitFor() == 0;
  }
 catch (  InterruptedException|IOException e) {
    Log.e(mLogTag,"Ping failed",e);
  }
  return false;
}
