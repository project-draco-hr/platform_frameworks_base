{
  assertTrue("no active network connection",waitForActiveNetworkConnection(LONG_TIMEOUT));
  try {
    Process proc=Runtime.getRuntime().exec(new String[]{"/system/bin/ping","-W","30","-c","1",PING_IP_ADDR});
    int exitCode=proc.waitFor();
    return exitCode == 0;
  }
 catch (  InterruptedException ie) {
    Log.e(LOG_TAG,"InterruptedException while waiting for ping");
  }
catch (  IOException ioe) {
    Log.e(LOG_TAG,"IOException during ping",ioe);
  }
  return false;
}
