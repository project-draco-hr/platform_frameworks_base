{
  long startTime=SystemClock.uptimeMillis();
  String[] wifiRegexes=mCm.getTetherableWifiRegexs();
  while (true) {
    if ((SystemClock.uptimeMillis() - startTime) > timeout) {
      return false;
    }
    String[] active=mCm.getTetheredIfaces();
    String[] error=mCm.getTetheringErroredIfaces();
    for (    String iface : active) {
      for (      String regex : wifiRegexes) {
        if (iface.matches(regex)) {
          return true;
        }
      }
    }
    for (    String iface : error) {
      for (      String regex : wifiRegexes) {
        if (iface.matches(regex)) {
          return false;
        }
      }
    }
    SystemClock.sleep(SHORT_TIMEOUT);
  }
}
