{
  String action=intent.getAction();
  Log.v("WifiReceiver","onReceive() is calleld with " + intent);
  if (action.equals(WifiManager.SCAN_RESULTS_AVAILABLE_ACTION)) {
    log("scan results are available");
    notifyScanResult();
  }
 else   if (action.equals(WifiManager.NETWORK_STATE_CHANGED_ACTION)) {
    mWifiNetworkInfo=(NetworkInfo)intent.getParcelableExtra(WifiManager.EXTRA_NETWORK_INFO);
    log("mWifiNetworkInfo: " + mWifiNetworkInfo.toString());
    if (mWifiNetworkInfo.getState() == State.CONNECTED) {
      mBssid=intent.getStringExtra(WifiManager.EXTRA_BSSID);
    }
    notifyWifiState();
  }
 else   if (action.equals(WifiManager.WIFI_STATE_CHANGED_ACTION)) {
    mWifiState=intent.getIntExtra(WifiManager.EXTRA_WIFI_STATE,WifiManager.WIFI_STATE_UNKNOWN);
    notifyWifiState();
  }
 else   if (action.equals(WifiManager.WIFI_AP_STATE_CHANGED_ACTION)) {
    notifyWifiAPState();
  }
 else   if (action.equals(ConnectivityManager.ACTION_TETHER_STATE_CHANGED)) {
    ArrayList<String> available=intent.getStringArrayListExtra(ConnectivityManager.EXTRA_AVAILABLE_TETHER);
    ArrayList<String> active=intent.getStringArrayListExtra(ConnectivityManager.EXTRA_ACTIVE_TETHER);
    ArrayList<String> errored=intent.getStringArrayListExtra(ConnectivityManager.EXTRA_ERRORED_TETHER);
    updateTetherState(available.toArray(),active.toArray(),errored.toArray());
  }
 else {
    return;
  }
}
