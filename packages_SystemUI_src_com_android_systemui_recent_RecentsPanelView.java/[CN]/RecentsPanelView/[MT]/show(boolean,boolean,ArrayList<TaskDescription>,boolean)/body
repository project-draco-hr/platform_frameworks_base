{
  sendCloseSystemWindows(mContext,BaseStatusBar.SYSTEM_DIALOG_REASON_RECENT_APPS);
  if (show) {
    animate=false;
  }
  if (show) {
    refreshRecentTasksList(recentTaskDescriptions,firstScreenful);
    boolean noApps=(mRecentTaskDescriptions.size() == 0);
    if (mRecentsNoApps != null) {
      mRecentsNoApps.setVisibility(noApps ? View.VISIBLE : View.INVISIBLE);
    }
 else {
      if (noApps) {
        if (DEBUG)         Log.v(TAG,"Nothing to show");
        mRecentTasksLoader.cancelLoadingThumbnailsAndIcons();
        mRecentTasksDirty=true;
        mWaitingToShow=false;
        mReadyToShow=false;
        return;
      }
    }
  }
 else {
    mRecentTasksLoader.cancelLoadingThumbnailsAndIcons();
    mRecentTasksDirty=true;
    mWaitingToShow=false;
    mReadyToShow=false;
    mRecentsNoApps.setVisibility(View.INVISIBLE);
  }
  if (animate) {
    if (mShowing != show) {
      mShowing=show;
      if (show) {
        setVisibility(View.VISIBLE);
      }
      mChoreo.startAnimation(show);
    }
  }
 else {
    mShowing=show;
    setVisibility(show ? View.VISIBLE : View.GONE);
    mChoreo.jumpTo(show);
    onAnimationEnd(null);
  }
  if (show) {
    setFocusable(true);
    setFocusableInTouchMode(true);
    requestFocus();
  }
 else {
    if (mPopup != null) {
      mPopup.dismiss();
    }
  }
}
