{
  ViewHolder holder=(ViewHolder)view.getTag();
  TaskDescription ad=holder.taskDescription;
  final Context context=view.getContext();
  final ActivityManager am=(ActivityManager)context.getSystemService(Context.ACTIVITY_SERVICE);
  holder.thumbnailViewImage.setDrawingCacheEnabled(true);
  Bitmap bm=holder.thumbnailViewImage.getDrawingCache();
  mPlaceholderThumbnail=(ImageView)findViewById(R.id.recents_transition_placeholder_icon);
  final ImageView placeholderThumbnail=mPlaceholderThumbnail;
  mHideWindowAfterPlaceholderThumbnailIsHidden=false;
  placeholderThumbnail.setVisibility(VISIBLE);
  Bitmap b2=bm.copy(bm.getConfig(),true);
  placeholderThumbnail.setImageBitmap(b2);
  Rect r=new Rect();
  holder.thumbnailViewImage.getGlobalVisibleRect(r);
  placeholderThumbnail.setTranslationX(r.left);
  placeholderThumbnail.setTranslationY(r.top);
  show(false,true);
  ActivityOptions opts=ActivityOptions.makeDelayedThumbnailScaleUpAnimation(holder.thumbnailViewImage,bm,0,0,new ActivityOptions.OnAnimationStartedListener(){
    @Override public void onAnimationStarted(){
      mPlaceholderThumbnail=null;
      placeholderThumbnail.setVisibility(INVISIBLE);
      if (mHideWindowAfterPlaceholderThumbnailIsHidden) {
        hideWindow();
      }
    }
  }
);
  if (ad.taskId >= 0) {
    am.moveTaskToFront(ad.taskId,ActivityManager.MOVE_TASK_WITH_HOME,opts.toBundle());
  }
 else {
    Intent intent=ad.intent;
    intent.addFlags(Intent.FLAG_ACTIVITY_LAUNCHED_FROM_HISTORY | Intent.FLAG_ACTIVITY_TASK_ON_HOME | Intent.FLAG_ACTIVITY_NEW_TASK);
    if (DEBUG)     Log.v(TAG,"Starting activity " + intent);
    context.startActivity(intent,opts.toBundle());
  }
  holder.thumbnailViewImage.setDrawingCacheEnabled(false);
}
