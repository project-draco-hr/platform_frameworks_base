{
  ViewHolder holder=(ViewHolder)view.getTag();
  TaskDescription ad=holder.taskDescription;
  final Context context=view.getContext();
  final ActivityManager am=(ActivityManager)context.getSystemService(Context.ACTIVITY_SERVICE);
  Bitmap bm=null;
  boolean usingDrawingCache=true;
  if (holder.thumbnailViewDrawable instanceof BitmapDrawable) {
    bm=((BitmapDrawable)holder.thumbnailViewDrawable).getBitmap();
    if (bm.getWidth() == holder.thumbnailViewImage.getWidth() && bm.getHeight() == holder.thumbnailViewImage.getHeight()) {
      usingDrawingCache=false;
    }
  }
  if (usingDrawingCache) {
    holder.thumbnailViewImage.setDrawingCacheEnabled(true);
    bm=holder.thumbnailViewImage.getDrawingCache();
  }
  Bundle opts=(bm == null) ? null : ActivityOptions.makeThumbnailScaleUpAnimation(holder.thumbnailViewImage,bm,0,0,null).toBundle();
  show(false);
  if (ad.taskId >= 0) {
    am.moveTaskToFront(ad.taskId,ActivityManager.MOVE_TASK_WITH_HOME,opts);
  }
 else {
    Intent intent=ad.intent;
    intent.addFlags(Intent.FLAG_ACTIVITY_LAUNCHED_FROM_HISTORY | Intent.FLAG_ACTIVITY_TASK_ON_HOME | Intent.FLAG_ACTIVITY_NEW_TASK);
    if (DEBUG)     Log.v(TAG,"Starting activity " + intent);
    try {
      context.startActivityAsUser(intent,opts,new UserHandle(UserHandle.USER_CURRENT));
    }
 catch (    SecurityException e) {
      Log.e(TAG,"Recents does not have the permission to launch " + intent,e);
    }
catch (    ActivityNotFoundException e) {
      Log.e(TAG,"Error launching activity " + intent,e);
    }
  }
  if (usingDrawingCache) {
    holder.thumbnailViewImage.setDrawingCacheEnabled(false);
  }
}
