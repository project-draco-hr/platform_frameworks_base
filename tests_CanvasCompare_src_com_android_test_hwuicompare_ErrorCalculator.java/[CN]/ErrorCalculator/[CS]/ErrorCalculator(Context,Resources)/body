{
  int width=resources.getDimensionPixelSize(R.dimen.layer_width);
  int height=resources.getDimensionPixelSize(R.dimen.layer_height);
  mOutputRowRegions=new int[height / REGION_SIZE];
  mRS=RenderScript.create(c);
  int[] rowIndices=new int[height / REGION_SIZE];
  for (int i=0; i < rowIndices.length; i++)   rowIndices[i]=i * REGION_SIZE;
  mScript=new ScriptC_errorCalculator(mRS,resources,R.raw.errorcalculator);
  mScript.set_HEIGHT(height);
  mScript.set_WIDTH(width);
  mScript.set_REGION_SIZE(REGION_SIZE);
  mInputRowsAllocation=Allocation.createSized(mRS,Element.I32(mRS),rowIndices.length,Allocation.USAGE_SCRIPT);
  mInputRowsAllocation.copyFrom(rowIndices);
  mOutputRegionsAllocation=Allocation.createSized(mRS,Element.I32(mRS),mOutputRowRegions.length,Allocation.USAGE_SCRIPT);
}
