{
  if (client == null) {
    throw new NullPointerException("client null in PtpCursor constructor");
  }
  mColumns=projection;
  HashMap<String,Integer> map;
switch (queryType) {
case DEVICE:
case DEVICE_ID:
    map=sDeviceProjectionMap;
  break;
case STORAGE:
case STORAGE_ID:
map=sStorageProjectionMap;
break;
case OBJECT:
case OBJECT_ID:
case STORAGE_CHILDREN:
case OBJECT_CHILDREN:
map=sObjectProjectionMap;
break;
default :
throw new IllegalArgumentException("unknown query type " + queryType);
}
int[] columns=new int[projection.length];
for (int i=0; i < projection.length; i++) {
Integer id=map.get(projection[i]);
if (id == null) {
throw new IllegalArgumentException("unknown column " + projection[i]);
}
columns[i]=id.intValue();
}
native_setup(client,queryType,deviceID,storageID,objectID,columns);
}
