{
  if (charSequence == null)   return Collections.emptyList();
  if (!(charSequence instanceof SpannableString)) {
    return Arrays.asList(charSequence.toString());
  }
  SpannableString spannableString=(SpannableString)charSequence;
  Object[] ssArr=spannableString.getSpans(0,spannableString.length(),Object.class);
  ArrayList<String> sss=new ArrayList<String>();
  for (  Object spanObj : ssArr) {
    try {
      sss.add(spannableString.subSequence(spannableString.getSpanStart(spanObj),spannableString.getSpanEnd(spanObj)).toString());
    }
 catch (    StringIndexOutOfBoundsException e) {
      Slog.e(TAG,"Bad indices when extracting spanned subsequence",e);
    }
  }
  return sss;
}
