{
  int flags=0;
  final String timeZone=clock.getTimeZone();
  if (timeZone != null && !TimeZone.getDefault().equals(TimeZone.getTimeZone(timeZone))) {
    return 0;
  }
  final CharSequence format=clock.getFormat();
  final char hour=clock.is24HourModeEnabled() ? DateFormat.HOUR_OF_DAY : DateFormat.HOUR;
  if (DateFormat.hasDesignator(format,hour)) {
    flags|=FLAG_HAS_LOCAL_HOUR;
  }
  if (DateFormat.hasDesignator(format,DateFormat.MINUTE)) {
    flags|=FLAG_HAS_LOCAL_MINUTE;
  }
  return flags;
}
