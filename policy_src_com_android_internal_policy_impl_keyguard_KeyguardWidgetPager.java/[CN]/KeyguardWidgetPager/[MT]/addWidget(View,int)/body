{
  KeyguardWidgetFrame frame;
  if (!(widget instanceof KeyguardWidgetFrame)) {
    frame=new KeyguardWidgetFrame(getContext());
    FrameLayout.LayoutParams lp=new FrameLayout.LayoutParams(LayoutParams.MATCH_PARENT,LayoutParams.MATCH_PARENT);
    lp.gravity=Gravity.TOP;
    widget.setPadding(0,0,0,0);
    if (widget instanceof AppWidgetHostView) {
      AppWidgetHostView awhv=(AppWidgetHostView)widget;
      widget.setContentDescription(awhv.getAppWidgetInfo().label);
    }
    frame.addView(widget,lp);
  }
 else {
    frame=(KeyguardWidgetFrame)widget;
  }
  ViewGroup.LayoutParams pageLp=new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT);
  frame.setOnLongClickListener(this);
  if (pageIndex == -1) {
    addView(frame,pageLp);
  }
 else {
    addView(frame,pageIndex,pageLp);
  }
}
