{
  if (mChildrenOutlineFadeAnimation != null) {
    mChildrenOutlineFadeAnimation.cancel();
    mChildrenOutlineFadeAnimation=null;
  }
  int count=getChildCount();
  PropertyValuesHolder alpha;
  PropertyValuesHolder outlineAlpha;
  ArrayList<Animator> anims=new ArrayList<Animator>();
  int curPage=getNextPage();
  for (int i=0; i < count; i++) {
    float finalContentAlpha;
    if (show) {
      finalContentAlpha=getAlphaForPage(mScreenCenter,i);
    }
 else     if (!show && i == curPage) {
      finalContentAlpha=1f;
    }
 else {
      finalContentAlpha=0f;
    }
    float finalOutlineAlpha=show ? getAlphaForPage(mScreenCenter,i) : 0f;
    KeyguardWidgetFrame child=getWidgetPageAt(i);
    alpha=PropertyValuesHolder.ofFloat("contentAlpha",finalContentAlpha);
    outlineAlpha=PropertyValuesHolder.ofFloat("backgroundAlpha",finalOutlineAlpha);
    ObjectAnimator a=ObjectAnimator.ofPropertyValuesHolder(child,alpha,outlineAlpha);
    anims.add(a);
  }
  int duration=show ? CHILDREN_OUTLINE_FADE_IN_DURATION : CHILDREN_OUTLINE_FADE_OUT_DURATION;
  mChildrenOutlineFadeAnimation=new AnimatorSet();
  mChildrenOutlineFadeAnimation.playTogether(anims);
  mChildrenOutlineFadeAnimation.setDuration(duration);
  mChildrenOutlineFadeAnimation.addListener(new AnimatorListenerAdapter(){
    @Override public void onAnimationEnd(    Animator animation){
      if (!show) {
        disablePageLayers();
      }
    }
  }
);
  mChildrenOutlineFadeAnimation.start();
}
