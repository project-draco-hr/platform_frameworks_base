{
  boolean showingStatusWidget=false;
  if (newPage instanceof ViewGroup) {
    ViewGroup vg=(ViewGroup)newPage;
    if (vg.getChildAt(0) instanceof KeyguardStatusView) {
      showingStatusWidget=true;
    }
  }
  if (showingStatusWidget) {
    setSystemUiVisibility(getSystemUiVisibility() | View.STATUS_BAR_DISABLE_CLOCK);
  }
 else {
    setSystemUiVisibility(getSystemUiVisibility() & ~View.STATUS_BAR_DISABLE_CLOCK);
  }
  if (mPage != newPageIndex) {
    int oldPageIndex=mPage;
    mPage=newPageIndex;
    userActivity();
    KeyguardWidgetFrame oldWidgetPage=getWidgetPageAt(oldPageIndex);
    if (oldWidgetPage != null) {
      oldWidgetPage.onActive(false);
    }
    KeyguardWidgetFrame newWidgetPage=getWidgetPageAt(newPageIndex);
    if (newWidgetPage != null) {
      newWidgetPage.onActive(true);
      newWidgetPage.requestAccessibilityFocus();
    }
    if (mParent != null && AccessibilityManager.getInstance(mContext).isEnabled()) {
      AccessibilityEvent event=AccessibilityEvent.obtain(AccessibilityEvent.TYPE_VIEW_SCROLLED);
      onInitializeAccessibilityEvent(event);
      onPopulateAccessibilityEvent(event);
      mParent.requestSendAccessibilityEvent(this,event);
    }
  }
  if (mViewStateManager != null) {
    mViewStateManager.onPageSwitch(newPage,newPageIndex);
  }
}
