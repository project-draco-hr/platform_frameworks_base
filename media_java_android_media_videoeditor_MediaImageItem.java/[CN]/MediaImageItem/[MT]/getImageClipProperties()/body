{
  ClipSettings clipSettings=new ClipSettings();
  List<Effect> effects=null;
  EffectKenBurns effectKB=null;
  boolean effectKBPresent=false;
  effects=getAllEffects();
  for (  Effect effect : effects) {
    if (effect instanceof EffectKenBurns) {
      effectKB=(EffectKenBurns)effect;
      effectKBPresent=true;
      break;
    }
  }
  if (effectKBPresent) {
    clipSettings=generateKenburnsClip(effectKB);
  }
 else {
    initClipSettings(clipSettings);
    clipSettings.clipPath=getDecodedImageFileName();
    clipSettings.fileType=FileType.JPG;
    clipSettings.beginCutTime=0;
    clipSettings.endCutTime=(int)getTimelineDuration();
    clipSettings.mediaRendering=mMANativeHelper.getMediaItemRenderingMode(getRenderingMode());
    clipSettings.rgbWidth=getScaledWidth();
    clipSettings.rgbHeight=getScaledHeight();
  }
  return clipSettings;
}
