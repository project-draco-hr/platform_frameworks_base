{
  if (mBeginTransition != null && mBeginTransition.isGenerated()) {
    final long transitionDurationMs=mBeginTransition.getDuration();
    final List<Effect> effects=getAllEffects();
    for (    Effect effect : effects) {
      if (effect.getStartTime() < transitionDurationMs) {
        mBeginTransition.invalidate();
        break;
      }
    }
    if (mBeginTransition.isGenerated()) {
      final List<Overlay> overlays=getAllOverlays();
      for (      Overlay overlay : overlays) {
        if (overlay.getStartTime() < transitionDurationMs) {
          mBeginTransition.invalidate();
          break;
        }
      }
    }
  }
}
