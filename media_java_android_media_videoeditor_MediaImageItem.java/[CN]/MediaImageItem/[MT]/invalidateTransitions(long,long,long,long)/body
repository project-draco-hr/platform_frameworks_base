{
  if (mBeginTransition != null) {
    final long transitionDurationMs=mBeginTransition.getDuration();
    final boolean oldOverlap=isOverlapping(oldStartTimeMs,oldDurationMs,0,transitionDurationMs);
    final boolean newOverlap=isOverlapping(newStartTimeMs,newDurationMs,0,transitionDurationMs);
    if (newOverlap != oldOverlap) {
      mBeginTransition.invalidate();
    }
 else     if (newOverlap) {
      if ((oldStartTimeMs != newStartTimeMs) || !(oldStartTimeMs + oldDurationMs > transitionDurationMs && newStartTimeMs + newDurationMs > transitionDurationMs)) {
        mBeginTransition.invalidate();
      }
    }
  }
  if (mEndTransition != null) {
    final long transitionDurationMs=mEndTransition.getDuration();
    final boolean oldOverlap=isOverlapping(oldStartTimeMs,oldDurationMs,mDurationMs - transitionDurationMs,transitionDurationMs);
    final boolean newOverlap=isOverlapping(newStartTimeMs,newDurationMs,mDurationMs - transitionDurationMs,transitionDurationMs);
    if (newOverlap != oldOverlap) {
      mEndTransition.invalidate();
    }
 else     if (newOverlap) {
      if ((oldStartTimeMs + oldDurationMs != newStartTimeMs + newDurationMs) || ((oldStartTimeMs > mDurationMs - transitionDurationMs) || newStartTimeMs > mDurationMs - transitionDurationMs)) {
        mEndTransition.invalidate();
      }
    }
  }
}
