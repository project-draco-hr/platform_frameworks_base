{
  super(mediaItemId,filename,renderingMode);
  final BitmapFactory.Options dbo=new BitmapFactory.Options();
  dbo.inJustDecodeBounds=true;
  BitmapFactory.decodeFile(filename,dbo);
  mWidth=dbo.outWidth;
  mHeight=dbo.outHeight;
  mDurationMs=durationMs;
  mAspectRatio=MediaProperties.ASPECT_RATIO_4_3;
  final Pair<Integer,Integer>[] resolutions=MediaProperties.getSupportedResolutions(mAspectRatio);
  final Pair<Integer,Integer> maxResolution=resolutions[resolutions.length - 1];
  if (mHeight > maxResolution.second) {
    scaleImage(filename,maxResolution.first,maxResolution.second);
    mScaledWidth=maxResolution.first;
    mScaledHeight=maxResolution.second;
  }
 else {
    mScaledWidth=mWidth;
    mScaledHeight=mHeight;
  }
}
