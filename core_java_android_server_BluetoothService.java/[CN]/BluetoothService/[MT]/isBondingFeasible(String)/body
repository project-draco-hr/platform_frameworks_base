{
  mContext.enforceCallingOrSelfPermission(BLUETOOTH_ADMIN_PERM,"Need BLUETOOTH_ADMIN permission");
  if (!isEnabledInternal())   return false;
  if (!BluetoothAdapter.checkBluetoothAddress(address)) {
    return false;
  }
  address=address.toUpperCase();
  if (mBondState.getPendingOutgoingBonding() != null) {
    Log.d(TAG,"Ignoring createBond(): another device is bonding");
    return false;
  }
  if (!mBondState.isAutoPairingAttemptsInProgress(address) && mBondState.getBondState(address) != BluetoothDevice.BOND_NONE) {
    Log.d(TAG,"Ignoring createBond(): this device is already bonding or bonded");
    return false;
  }
  if (address.equals(mDockAddress)) {
    if (!writeDockPin()) {
      Log.e(TAG,"Error while writing Pin for the dock");
      return false;
    }
  }
  return true;
}
