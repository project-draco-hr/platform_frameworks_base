{
  pw.println("\n--Bluetooth Service- Pan Profile");
  if (mPan != null) {
    List<BluetoothDevice> deviceList=mPan.getConnectedDevices();
    if (deviceList.size() == 0) {
      pw.println("No Pan devices connected");
    }
 else {
      pw.println("Number of connected devices:" + deviceList.size());
      BluetoothDevice device=deviceList.get(0);
      pw.println("getConnectedDevices[0] = " + device);
      pw.println("Priority of Connected device = " + mPan.getPriority(device));
switch (mPan.getConnectionState(device)) {
case BluetoothInputDevice.STATE_CONNECTING:
        pw.println("getConnectionState() = STATE_CONNECTING");
      break;
case BluetoothInputDevice.STATE_CONNECTED:
    pw.println("getConnectionState() = STATE_CONNECTED");
  break;
case BluetoothInputDevice.STATE_DISCONNECTING:
pw.println("getConnectionState() = STATE_DISCONNECTING");
break;
}
}
deviceList.clear();
deviceList=mPan.getDevicesMatchingConnectionStates(new int[]{BluetoothProfile.STATE_CONNECTED,BluetoothProfile.STATE_DISCONNECTED});
pw.println("--Connected and Disconnected Pan devices");
for (BluetoothDevice device : deviceList) {
pw.println(device);
}
}
mAdapter.closeProfileProxy(BluetoothProfile.PAN,mBluetoothHeadset);
}
