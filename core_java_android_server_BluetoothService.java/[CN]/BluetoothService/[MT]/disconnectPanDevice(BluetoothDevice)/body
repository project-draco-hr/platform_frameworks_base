{
  mContext.enforceCallingOrSelfPermission(BLUETOOTH_ADMIN_PERM,"Need BLUETOOTH_ADMIN permission");
  String objectPath=getObjectPathFromAddress(device.getAddress());
  if (DBG)   log("disconnect PAN(" + objectPath + ")");
  int state=getPanDeviceState(device);
  if (state != BluetoothPan.STATE_CONNECTED) {
    log(device + " already disconnected from PAN");
    return false;
  }
  BluetoothPanDevice panDevice=mPanDevices.get(device);
  if (panDevice == null) {
    log("No record for this Pan device:" + device);
    return false;
  }
  handlePanDeviceStateChange(device,BluetoothPan.STATE_DISCONNECTING,panDevice.mLocalRole);
  if (panDevice.mLocalRole == BluetoothPan.LOCAL_NAP_ROLE) {
    if (!disconnectPanServerDeviceNative(objectPath,device.getAddress(),panDevice.mIface)) {
      handlePanDeviceStateChange(device,state,panDevice.mLocalRole);
      return false;
    }
  }
 else {
    if (!disconnectPanDeviceNative(objectPath)) {
      handlePanDeviceStateChange(device,state,panDevice.mLocalRole);
      return false;
    }
  }
  return true;
}
