{
  mContext.enforceCallingOrSelfPermission(BLUETOOTH_PERM,"Need BLUETOOTH permission");
  if (DBG)   log("disconnect all PAN devices");
  for (  BluetoothDevice device : mPanDevices.keySet()) {
    BluetoothPanDevice panDevice=mPanDevices.get(device);
    int state=panDevice.mState;
    if (state == BluetoothPan.STATE_CONNECTED && panDevice.mLocalRole == BluetoothPan.LOCAL_NAP_ROLE) {
      String objectPath=getObjectPathFromAddress(device.getAddress());
      handlePanDeviceStateChange(device,BluetoothPan.STATE_DISCONNECTING,panDevice.mLocalRole);
      if (!disconnectPanServerDeviceNative(objectPath,device.getAddress(),panDevice.mIfaceAddr)) {
        log("could not disconnect Pan Server Device " + device.getAddress());
        handlePanDeviceStateChange(device,state,panDevice.mLocalRole);
        return false;
      }
    }
  }
  return true;
}
