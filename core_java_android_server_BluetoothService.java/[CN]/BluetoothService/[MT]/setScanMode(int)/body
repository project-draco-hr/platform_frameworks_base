{
  mContext.enforceCallingOrSelfPermission(BLUETOOTH_ADMIN_PERM,"Need BLUETOOTH_ADMIN permission");
  boolean pairable=false;
  boolean discoverable=false;
switch (mode) {
case BluetoothAdapter.SCAN_MODE_NONE:
    pairable=false;
  discoverable=false;
break;
case BluetoothAdapter.SCAN_MODE_CONNECTABLE:
pairable=true;
discoverable=false;
break;
case BluetoothAdapter.SCAN_MODE_CONNECTABLE_DISCOVERABLE:
pairable=true;
discoverable=true;
break;
default :
Log.w(TAG,"Requested invalid scan mode " + mode);
return false;
}
setPropertyBoolean("Pairable",pairable);
setPropertyBoolean("Discoverable",discoverable);
return true;
}
