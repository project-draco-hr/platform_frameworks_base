{
  if (enabled) {
    if (!mEnabledFunctions.contains(function)) {
      mEnabledFunctions.add(function);
    }
    mDisabledFunctions.remove(function);
    if (UsbManager.USB_FUNCTION_ACCESSORY.equals(function)) {
      readCurrentAccessoryLocked();
    }
  }
 else {
    if (!mDisabledFunctions.contains(function)) {
      mDisabledFunctions.add(function);
    }
    mEnabledFunctions.remove(function);
  }
}
