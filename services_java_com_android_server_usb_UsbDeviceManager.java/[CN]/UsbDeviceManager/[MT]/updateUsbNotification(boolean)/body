{
  if (mNotificationManager == null || !mUseUsbNotification)   return;
  if (connected) {
    if (!mUsbNotificationShown) {
      Resources r=mContext.getResources();
      CharSequence title=r.getText(com.android.internal.R.string.usb_preferences_notification_title);
      CharSequence message=r.getText(com.android.internal.R.string.usb_preferece_notification_message);
      if (mUsbNotification == null) {
        mUsbNotification=new Notification();
        mUsbNotification.icon=com.android.internal.R.drawable.stat_sys_data_usb;
        mUsbNotification.when=0;
        mUsbNotification.flags=Notification.FLAG_ONGOING_EVENT;
        mUsbNotification.tickerText=title;
        mUsbNotification.defaults=0;
        mUsbNotification.sound=null;
        mUsbNotification.vibrate=null;
      }
      Intent intent=new Intent();
      intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED);
      intent.setClassName("com.android.systemui","com.android.systemui.usb.UsbPreferenceActivity");
      PendingIntent pi=PendingIntent.getActivity(mContext,0,intent,0);
      mUsbNotification.setLatestEventInfo(mContext,title,message,pi);
      mUsbNotificationShown=true;
      mNotificationManager.notify(com.android.internal.R.string.usb_preferences_notification_title,mUsbNotification);
    }
  }
 else   if (mUsbNotificationShown) {
    mUsbNotificationShown=false;
    mNotificationManager.cancel(com.android.internal.R.string.usb_preferences_notification_title);
  }
}
