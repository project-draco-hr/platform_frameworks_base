{
  if (mNotificationManager == null)   return;
  boolean adbEnabled=mAdbEnabled && (mConnected == 1);
  if (adbEnabled) {
    if ("0".equals(SystemProperties.get("persist.adb.notify")))     return;
    if (!mAdbNotificationShown) {
      Resources r=mContext.getResources();
      CharSequence title=r.getText(com.android.internal.R.string.adb_active_notification_title);
      CharSequence message=r.getText(com.android.internal.R.string.adb_active_notification_message);
      if (mAdbNotification == null) {
        mAdbNotification=new Notification();
        mAdbNotification.icon=com.android.internal.R.drawable.stat_sys_adb;
        mAdbNotification.when=0;
        mAdbNotification.flags=Notification.FLAG_ONGOING_EVENT;
        mAdbNotification.tickerText=title;
        mAdbNotification.defaults=0;
        mAdbNotification.sound=null;
        mAdbNotification.vibrate=null;
      }
      Intent intent=new Intent(Settings.ACTION_APPLICATION_DEVELOPMENT_SETTINGS);
      intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED);
      intent.setComponent(new ComponentName("com.android.settings","com.android.settings.DevelopmentSettings"));
      PendingIntent pi=PendingIntent.getActivity(mContext,0,intent,0);
      mAdbNotification.setLatestEventInfo(mContext,title,message,pi);
      mAdbNotificationShown=true;
      mNotificationManager.notify(com.android.internal.R.string.adb_active_notification_title,mAdbNotification);
    }
  }
 else   if (mAdbNotificationShown) {
    mAdbNotificationShown=false;
    mNotificationManager.cancel(com.android.internal.R.string.adb_active_notification_title);
  }
}
