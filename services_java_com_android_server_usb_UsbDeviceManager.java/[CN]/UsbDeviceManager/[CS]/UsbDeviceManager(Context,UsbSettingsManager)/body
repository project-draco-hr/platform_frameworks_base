{
  mContext=context;
  mContentResolver=context.getContentResolver();
  mSettingsManager=settingsManager;
  PackageManager pm=mContext.getPackageManager();
  mHasUsbAccessory=pm.hasSystemFeature(PackageManager.FEATURE_USB_ACCESSORY);
  initRndisAddress();
  readOemUsbOverrideConfig();
  HandlerThread thread=new HandlerThread("UsbDeviceManager",Process.THREAD_PRIORITY_BACKGROUND);
  thread.start();
  mHandler=new UsbHandler(thread.getLooper());
  if (nativeIsStartRequested()) {
    if (DEBUG)     Slog.d(TAG,"accessory attached at boot");
    startAccessoryMode();
  }
}
