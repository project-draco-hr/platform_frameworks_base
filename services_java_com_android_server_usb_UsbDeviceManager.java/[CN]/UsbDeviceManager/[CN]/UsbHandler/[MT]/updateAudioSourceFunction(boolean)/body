{
  Intent intent=new Intent(Intent.ACTION_USB_AUDIO_ACCESSORY_PLUG);
  intent.addFlags(Intent.FLAG_RECEIVER_REPLACE_PENDING);
  intent.addFlags(Intent.FLAG_RECEIVER_REGISTERED_ONLY);
  intent.putExtra("state",(enabled ? 1 : 0));
  if (enabled) {
    try {
      Scanner scanner=new Scanner(new File(AUDIO_SOURCE_PCM_PATH));
      int card=scanner.nextInt();
      int device=scanner.nextInt();
      intent.putExtra("card",card);
      intent.putExtra("device",device);
    }
 catch (    FileNotFoundException e) {
      Slog.e(TAG,"could not open audio source PCM file",e);
    }
  }
  mContext.sendStickyBroadcast(intent);
  mAudioSourceEnabled=enabled;
}
