{
  List<MenuItem> menuItems=getVisibleAndEnabledMenuItems(mMenu);
  if (!isCurrentlyShowing(menuItems) || mWidthChanged) {
    mPopup.dismiss();
    mPopup.layoutMenuItems(menuItems,mMenuItemClickListener,mSuggestedWidth);
    mShowingTitles=getMenuItemTitles(menuItems);
  }
  mPopup.updateCoordinates(mContentRect);
  if (!mPopup.isShowing()) {
    mPopup.show(mContentRect);
  }
  mWidthChanged=false;
  return this;
}
