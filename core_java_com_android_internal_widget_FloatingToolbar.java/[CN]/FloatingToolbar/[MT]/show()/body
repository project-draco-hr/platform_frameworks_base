{
  List<MenuItem> menuItems=getVisibleAndEnabledMenuItems(mMenu);
  if (hasContentChanged(menuItems) || hasWidthChanged()) {
    mPopup.dismiss();
    layoutMenuItemButtons(menuItems);
    mShowingTitles=getMenuItemTitles(menuItems);
  }
  refreshCoordinates();
  mPopup.updateCoordinates(mCoordinates.x,mCoordinates.y);
  if (!mPopup.isShowing()) {
    mPopup.show(mCoordinates.x,mCoordinates.y);
  }
  return this;
}
