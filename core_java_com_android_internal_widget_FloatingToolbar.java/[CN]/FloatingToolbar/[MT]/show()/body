{
  mContext.unregisterComponentCallbacks(mOrientationChangeHandler);
  mContext.registerComponentCallbacks(mOrientationChangeHandler);
  List<MenuItem> menuItems=getVisibleAndEnabledMenuItems(mMenu);
  if (!isCurrentlyShowing(menuItems) || mWidthChanged) {
    mPopup.dismiss();
    mPopup.layoutMenuItems(menuItems,mMenuItemClickListener,mSuggestedWidth);
    mShowingMenuItems=getShowingMenuItemsReferences(menuItems);
  }
  mPopup.updateCoordinates(mContentRect);
  if (!mPopup.isShowing()) {
    mPopup.show(mContentRect);
  }
  mWidthChanged=false;
  return this;
}
