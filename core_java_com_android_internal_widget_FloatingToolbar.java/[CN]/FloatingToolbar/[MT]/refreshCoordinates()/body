{
  int popupWidth=mPopup.getWidth();
  int popupHeight=mPopup.getHeight();
  if (!mPopup.isShowing()) {
    mMenuItemButtonsContainer.measure(MeasureSpec.UNSPECIFIED,MeasureSpec.UNSPECIFIED);
    popupWidth=mMenuItemButtonsContainer.getMeasuredWidth();
    popupHeight=mMenuItemButtonsContainer.getMeasuredHeight();
  }
  int x=mContentRect.centerX() - popupWidth / 2;
  int y;
  if (shouldDisplayAtTopOfContent()) {
    y=mContentRect.top - popupHeight;
  }
 else {
    y=mContentRect.bottom;
  }
  mCoordinates.set(x,y);
}
