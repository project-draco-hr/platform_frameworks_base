{
  ArrayAdapter<MenuItem> overflowPanelAdapter=(ArrayAdapter<MenuItem>)mOverflowPanel.getAdapter();
  overflowPanelAdapter.clear();
  final int size=menuItems.size();
  for (int i=0; i < size; i++) {
    overflowPanelAdapter.add(menuItems.get(i));
  }
  mOverflowPanel.setAdapter(overflowPanelAdapter);
  if (mOpenOverflowUpwards) {
    mOverflowPanel.setY(0);
  }
 else {
    mOverflowPanel.setY(mOverflowButtonSize.getHeight());
  }
  int width=Math.max(getOverflowWidth(),mOverflowButtonSize.getWidth());
  int height=calculateOverflowHeight(MAX_OVERFLOW_SIZE);
  mOverflowPanelSize=new Size(width,height);
  setSize(mOverflowPanel,mOverflowPanelSize);
}
