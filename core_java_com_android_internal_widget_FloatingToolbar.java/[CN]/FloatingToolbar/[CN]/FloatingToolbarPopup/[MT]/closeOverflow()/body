{
  final int targetWidth=mMainPanelSize.getWidth();
  final int startWidth=mContentContainer.getWidth();
  final float left=mContentContainer.getX();
  final float right=left + mContentContainer.getWidth();
  Animation widthAnimation=new Animation(){
    @Override protected void applyTransformation(    float interpolatedTime,    Transformation t){
      int deltaWidth=(int)(interpolatedTime * (targetWidth - startWidth));
      setWidth(mContentContainer,startWidth + deltaWidth);
      if (isRTL()) {
        mContentContainer.setX(left);
        mMainPanel.setX(0);
        mOverflowPanel.setX(0);
      }
 else {
        mContentContainer.setX(right - mContentContainer.getWidth());
        mMainPanel.setX(mContentContainer.getWidth() - targetWidth);
        mOverflowPanel.setX(mContentContainer.getWidth() - startWidth);
      }
    }
  }
;
  final int targetHeight=mMainPanelSize.getHeight();
  final int startHeight=mContentContainer.getHeight();
  final float bottom=mContentContainer.getY() + mContentContainer.getHeight();
  Animation heightAnimation=new Animation(){
    @Override protected void applyTransformation(    float interpolatedTime,    Transformation t){
      int deltaHeight=(int)(interpolatedTime * (targetHeight - startHeight));
      setHeight(mContentContainer,startHeight + deltaHeight);
      if (mOpenOverflowUpwards) {
        mContentContainer.setY(bottom - mContentContainer.getHeight());
        positionContentYCoordinatesIfOpeningOverflowUpwards();
      }
    }
  }
;
  final float overflowButtonStartX=mOverflowButton.getX();
  final float overflowButtonTargetX=isRTL() ? overflowButtonStartX - startWidth + mOverflowButton.getWidth() : overflowButtonStartX + startWidth - mOverflowButton.getWidth();
  Animation overflowButtonAnimation=new Animation(){
    @Override protected void applyTransformation(    float interpolatedTime,    Transformation t){
      float overflowButtonX=overflowButtonStartX + interpolatedTime * (overflowButtonTargetX - overflowButtonStartX);
      float deltaContainerWidth=isRTL() ? 0 : mContentContainer.getWidth() - startWidth;
      float actualOverflowButtonX=overflowButtonX + deltaContainerWidth;
      mOverflowButton.setX(actualOverflowButtonX);
    }
  }
;
  widthAnimation.setInterpolator(mFastOutSlowInInterpolator);
  widthAnimation.setDuration(getAdjustedDuration(250));
  heightAnimation.setInterpolator(mLogAccelerateInterpolator);
  heightAnimation.setDuration(getAdjustedDuration(250));
  overflowButtonAnimation.setInterpolator(mFastOutSlowInInterpolator);
  overflowButtonAnimation.setDuration(getAdjustedDuration(250));
  mCloseOverflowAnimation.getAnimations().clear();
  mCloseOverflowAnimation.addAnimation(widthAnimation);
  mCloseOverflowAnimation.addAnimation(heightAnimation);
  mCloseOverflowAnimation.addAnimation(overflowButtonAnimation);
  mContentContainer.startAnimation(mCloseOverflowAnimation);
  mIsOverflowOpen=false;
  mMainPanel.animate().alpha(1).withLayer().setInterpolator(mFastOutLinearInInterpolator).setDuration(100).start();
  mOverflowPanel.animate().alpha(0).withLayer().setInterpolator(mLinearOutSlowInInterpolator).setDuration(150).start();
}
