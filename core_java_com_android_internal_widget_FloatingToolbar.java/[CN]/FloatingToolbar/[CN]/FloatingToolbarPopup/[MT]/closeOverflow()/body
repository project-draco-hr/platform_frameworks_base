{
  Preconditions.checkState(mMainPanel != null);
  Preconditions.checkState(mOverflowPanel != null);
  mOverflowPanel.fadeOut(true);
  Size mainPanelSize=mMainPanel.measure();
  final int targetWidth=mainPanelSize.getWidth();
  final int targetHeight=mainPanelSize.getHeight();
  final int startWidth=mContentContainer.getWidth();
  final int startHeight=mContentContainer.getHeight();
  final float bottom=mContentContainer.getY() + mContentContainer.getHeight();
  final boolean morphedUpwards=(mOverflowDirection == OVERFLOW_DIRECTION_UP);
  final float left=mContentContainer.getX();
  final float right=left + mContentContainer.getWidth();
  Animation widthAnimation=new Animation(){
    @Override protected void applyTransformation(    float interpolatedTime,    Transformation t){
      ViewGroup.LayoutParams params=mContentContainer.getLayoutParams();
      int deltaWidth=(int)(interpolatedTime * (targetWidth - startWidth));
      params.width=startWidth + deltaWidth;
      mContentContainer.setLayoutParams(params);
      if (isRTL()) {
        mContentContainer.setX(left);
      }
 else {
        mContentContainer.setX(right - mContentContainer.getWidth());
      }
    }
  }
;
  Animation heightAnimation=new Animation(){
    @Override protected void applyTransformation(    float interpolatedTime,    Transformation t){
      ViewGroup.LayoutParams params=mContentContainer.getLayoutParams();
      int deltaHeight=(int)(interpolatedTime * (targetHeight - startHeight));
      params.height=startHeight + deltaHeight;
      mContentContainer.setLayoutParams(params);
      if (morphedUpwards) {
        mContentContainer.setY(bottom - mContentContainer.getHeight());
      }
    }
  }
;
  widthAnimation.setDuration(150);
  widthAnimation.setStartOffset(150);
  heightAnimation.setDuration(210);
  mCloseOverflowAnimation.getAnimations().clear();
  mCloseOverflowAnimation.setAnimationListener(mOnOverflowClosed);
  mCloseOverflowAnimation.addAnimation(widthAnimation);
  mCloseOverflowAnimation.addAnimation(heightAnimation);
  mContentContainer.startAnimation(mCloseOverflowAnimation);
}
