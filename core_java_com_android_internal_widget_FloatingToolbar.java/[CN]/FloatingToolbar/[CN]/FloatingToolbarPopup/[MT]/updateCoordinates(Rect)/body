{
  Preconditions.checkNotNull(contentRectOnScreen);
  if (!isShowing() || !mPopupWindow.isShowing()) {
    return;
  }
  cancelOverflowAnimations();
  refreshCoordinatesAndOverflowDirection(contentRectOnScreen);
  preparePopupContent();
  mParent.getLocationOnScreen(mParentPositionOnScreen);
  final int relativeX=mCoordsOnScreen.x - mParentPositionOnScreen[0];
  final int relativeY=mCoordsOnScreen.y - mParentPositionOnScreen[1];
  mPopupWindow.update(relativeX,relativeY,getWidth(),getHeight());
}
