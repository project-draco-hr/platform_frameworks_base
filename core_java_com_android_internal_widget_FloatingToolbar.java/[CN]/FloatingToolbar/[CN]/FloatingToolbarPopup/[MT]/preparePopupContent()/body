{
  Preconditions.checkNotNull(mMainPanel);
  if (!mPopupWindow.isShowing()) {
    mContentContainer.setAlpha(0);
  }
  mMainPanel.fadeIn(false);
  if (mOverflowPanel != null) {
    mOverflowPanel.fadeIn(false);
  }
  if (mContentContainer.getChildCount() == 0) {
    mContentContainer.addView(mMainPanel.getView());
  }
  if (mContentContainer.getChildAt(0) == mMainPanel.getView()) {
    float x=mPopupWindow.getWidth() - (mMainPanel.getView().getMeasuredWidth() + mMarginHorizontal);
    mContentContainer.setX(x);
    float y=mMarginVertical;
    if (mOverflowDirection == OVERFLOW_DIRECTION_UP) {
      y=getHeight() - (mMainPanel.getView().getMeasuredHeight() + mMarginVertical);
    }
    mContentContainer.setY(y);
  }
  setContentAreaAsTouchableSurface();
}
