{
  mParent=Preconditions.checkNotNull(parent);
  mContext=Preconditions.checkNotNull(context);
  mContentContainer=createContentContainer(context);
  mPopupWindow=createPopupWindow(mContentContainer);
  mDismissAnimation=createExitAnimation(mContentContainer,150,new AnimatorListenerAdapter(){
    @Override public void onAnimationEnd(    Animator animation){
      mPopupWindow.dismiss();
      mContentContainer.removeAllViews();
    }
  }
);
  mHideAnimation=createExitAnimation(mContentContainer,0,new AnimatorListenerAdapter(){
    @Override public void onAnimationEnd(    Animator animation){
      mPopupWindow.dismiss();
    }
  }
);
  mMarginHorizontal=parent.getResources().getDimensionPixelSize(R.dimen.floating_toolbar_horizontal_margin);
  mMarginVertical=parent.getResources().getDimensionPixelSize(R.dimen.floating_toolbar_vertical_margin);
}
