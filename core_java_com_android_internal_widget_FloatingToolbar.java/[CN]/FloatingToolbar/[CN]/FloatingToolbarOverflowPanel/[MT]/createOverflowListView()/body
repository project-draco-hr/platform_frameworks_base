{
  final Context context=mContentView.getContext();
  final ListView overflowListView=new ListView(context);
  overflowListView.setLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT));
  overflowListView.setDivider(null);
  overflowListView.setDividerHeight(0);
  final int viewTypeCount=2;
  final int stringLabelViewType=0;
  final int iconOnlyViewType=1;
  final ArrayAdapter overflowListViewAdapter=new ArrayAdapter<MenuItem>(context,0){
    @Override public int getViewTypeCount(){
      return viewTypeCount;
    }
    @Override public int getItemViewType(    int position){
      if (isIconOnlyMenuItem(getItem(position))) {
        return iconOnlyViewType;
      }
      return stringLabelViewType;
    }
    @Override public View getView(    int position,    View convertView,    ViewGroup parent){
      if (getItemViewType(position) == iconOnlyViewType) {
        return getIconOnlyView(position,convertView);
      }
      return getStringTitleView(position,convertView);
    }
    private View getStringTitleView(    int position,    View convertView){
      TextView menuButton;
      if (convertView != null) {
        menuButton=(TextView)convertView;
      }
 else {
        menuButton=createOverflowMenuItemButton(context);
      }
      MenuItem menuItem=getItem(position);
      menuButton.setText(menuItem.getTitle());
      menuButton.setContentDescription(menuItem.getTitle());
      menuButton.setMinimumWidth(mOverflowWidth);
      return menuButton;
    }
    private View getIconOnlyView(    int position,    View convertView){
      View menuButton;
      if (convertView != null) {
        menuButton=convertView;
      }
 else {
        menuButton=LayoutInflater.from(context).inflate(R.layout.floating_popup_overflow_image_list_item,null);
      }
      MenuItem menuItem=getItem(position);
      ((ImageView)menuButton.findViewById(R.id.floating_toolbar_menu_item_image_button)).setImageDrawable(menuItem.getIcon());
      menuButton.setMinimumWidth(mOverflowWidth);
      return menuButton;
    }
  }
;
  overflowListView.setAdapter(overflowListViewAdapter);
  return overflowListView;
}
