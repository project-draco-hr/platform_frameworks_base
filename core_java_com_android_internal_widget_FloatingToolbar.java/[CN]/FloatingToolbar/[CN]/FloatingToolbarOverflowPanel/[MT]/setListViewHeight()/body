{
  int itemHeight=getEstimatedToolbarHeight(mContentView.getContext());
  int height=mListView.getAdapter().getCount() * itemHeight;
  int maxHeight=mContentView.getContext().getResources().getDimensionPixelSize(R.dimen.floating_toolbar_maximum_overflow_height);
  int minHeight=mContentView.getContext().getResources().getDimensionPixelSize(R.dimen.floating_toolbar_minimum_overflow_height);
  int suggestedListViewHeight=mSuggestedHeight - (mSuggestedHeight % itemHeight) - itemHeight;
  ViewGroup.LayoutParams params=mListView.getLayoutParams();
  if (suggestedListViewHeight <= 0) {
    params.height=Math.min(maxHeight,height);
  }
 else   if (suggestedListViewHeight < minHeight) {
    params.height=minHeight;
  }
 else {
    params.height=Math.min(Math.min(suggestedListViewHeight,maxHeight),height);
  }
  mListView.setLayoutParams(params);
}
