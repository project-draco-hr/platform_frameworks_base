{
  ArrayList<ServiceRecord> services=new ArrayList<ServiceRecord>();
  for (  ServiceRecord sr : mServiceMap.getAllServices(tr.userId)) {
    if (sr.packageName.equals(component.getPackageName())) {
      services.add(sr);
    }
  }
  for (int i=0; i < services.size(); i++) {
    ServiceRecord sr=services.get(i);
    if (sr.startRequested) {
      if ((sr.serviceInfo.flags & ServiceInfo.FLAG_STOP_WITH_TASK) != 0) {
        Slog.i(TAG,"Stopping service " + sr.shortName + ": remove task");
        stopServiceLocked(sr);
      }
 else {
        sr.pendingStarts.add(new ServiceRecord.StartItem(sr,true,sr.makeNextStartId(),baseIntent,null));
        if (sr.app != null && sr.app.thread != null) {
          sendServiceArgsLocked(sr,true,false);
        }
      }
    }
  }
}
