{
  int resolvedTextDirection=TEXT_DIRECTION_UNDEFINED;
switch (mTextDirection) {
default :
case TEXT_DIRECTION_INHERIT:
    if (mParent != null && mParent instanceof ViewGroup) {
      resolvedTextDirection=((ViewGroup)mParent).getResolvedTextDirection();
    }
 else {
      resolvedTextDirection=isLayoutDirectionRtl(Locale.getDefault()) ? TEXT_DIRECTION_RTL : TEXT_DIRECTION_LTR;
    }
  break;
case TEXT_DIRECTION_FIRST_STRONG:
case TEXT_DIRECTION_ANY_RTL:
case TEXT_DIRECTION_CHAR_COUNT:
case TEXT_DIRECTION_LTR:
case TEXT_DIRECTION_RTL:
resolvedTextDirection=mTextDirection;
break;
}
mResolvedTextDirection=resolvedTextDirection;
}
