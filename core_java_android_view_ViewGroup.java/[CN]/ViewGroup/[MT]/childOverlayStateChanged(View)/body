{
  boolean childHasOverlay=false;
  if (child != null) {
    childHasOverlay=child.isOverlayEnabled();
  }
 else {
    final int childCount=getChildCount();
    for (int i=0; i < childCount; i++) {
      if (childHasOverlay|=getChildAt(i).isOverlayEnabled()) {
        break;
      }
    }
  }
  final boolean hasChildWithOverlay=childHasOverlay || (mGroupFlags & FLAG_CHILD_HAS_OVERLAY) == FLAG_CHILD_HAS_OVERLAY;
  final boolean oldValue=isOverlayEnabled();
  mGroupFlags=(mGroupFlags & ~FLAG_CHILD_HAS_OVERLAY) | (hasChildWithOverlay ? FLAG_CHILD_HAS_OVERLAY : 0);
  if (isOverlayEnabled() != oldValue) {
    final ViewParent parent=getParent();
    if (parent != null) {
      try {
        parent.childOverlayStateChanged(this);
      }
 catch (      AbstractMethodError e) {
        Log.e("ViewGroup","Could not propagate hasOverlay state",e);
      }
    }
  }
}
