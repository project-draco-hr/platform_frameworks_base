{
  boolean result=super.onConsistencyCheck(consistency);
  final boolean checkLayout=(consistency & ViewDebug.CONSISTENCY_LAYOUT) != 0;
  final boolean checkDrawing=(consistency & ViewDebug.CONSISTENCY_DRAWING) != 0;
  if (checkLayout) {
    final int count=mChildrenCount;
    final View[] children=mChildren;
    for (int i=0; i < count; i++) {
      if (children[i].getParent() != this) {
        result=false;
        android.util.Log.d(ViewDebug.CONSISTENCY_LOG_TAG,"View " + children[i] + " has no parent/a parent that is not "+ this);
      }
    }
  }
  if (checkDrawing) {
    if ((mPrivateFlags & DIRTY_MASK) != 0) {
      final ViewParent parent=getParent();
      if (parent != null && !(parent instanceof ViewAncestor)) {
        if ((((View)parent).mPrivateFlags & DIRTY_MASK) == 0) {
          result=false;
          android.util.Log.d(ViewDebug.CONSISTENCY_LOG_TAG,"ViewGroup " + this + " is dirty but its parent is not: "+ this);
        }
      }
    }
  }
  return result;
}
