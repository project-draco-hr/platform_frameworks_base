{
  if (mIsRtlCompatibilityMode) {
    if (mLeftMarginUndefined && startMargin > DEFAULT_MARGIN_RELATIVE) {
      leftMargin=startMargin;
    }
    if (mRightMarginUndefined && endMargin > DEFAULT_MARGIN_RELATIVE) {
      rightMargin=endMargin;
    }
  }
 else {
switch (mLayoutDirection) {
case View.LAYOUT_DIRECTION_RTL:
      leftMargin=(endMargin > DEFAULT_MARGIN_RELATIVE) ? endMargin : DEFAULT_MARGIN_RESOLVED;
    rightMargin=(startMargin > DEFAULT_MARGIN_RELATIVE) ? startMargin : DEFAULT_MARGIN_RESOLVED;
  break;
case View.LAYOUT_DIRECTION_LTR:
default :
leftMargin=(startMargin > DEFAULT_MARGIN_RELATIVE) ? startMargin : DEFAULT_MARGIN_RESOLVED;
rightMargin=(endMargin > DEFAULT_MARGIN_RELATIVE) ? endMargin : DEFAULT_MARGIN_RESOLVED;
break;
}
}
mNeedResolution=false;
}
