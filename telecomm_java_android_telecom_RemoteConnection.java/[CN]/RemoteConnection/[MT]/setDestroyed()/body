{
  if (!mCallbacks.isEmpty()) {
    if (mState != Connection.STATE_DISCONNECTED) {
      setDisconnected(new DisconnectCause(DisconnectCause.ERROR,"Connection destroyed."));
    }
    for (    Callback c : mCallbacks) {
      c.onDestroyed(this);
    }
    mCallbacks.clear();
    mConnected=false;
  }
}
