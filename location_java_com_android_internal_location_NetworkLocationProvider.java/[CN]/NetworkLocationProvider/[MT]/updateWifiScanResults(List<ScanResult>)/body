{
  if (!mTracking) {
    return;
  }
  long now=SystemClock.elapsedRealtime();
  if (scanResults == null) {
    mWifiLastScanResults=null;
    mLastWifiScanElapsedTime=now;
    mLastWifiScanRealTime=System.currentTimeMillis();
    log("updateWifIScanResults(): NULL APs");
    if (mWifiEnabled) {
      mLastCellLockTime=0;
      mLastCellStateChangeTime=SystemClock.elapsedRealtime();
    }
  }
 else   if ((mWifiLastScanResults == null) || (mWifiLastScanResults.size() <= 2 && scanResults.size() > mWifiLastScanResults.size()) || ((now - mLastWifiScanElapsedTime) > mWifiScanFrequency)) {
    if (mWifiLastScanResults == null) {
      mWifiLastScanResults=new ArrayList<ScanResult>();
    }
 else {
      mWifiLastScanResults.clear();
    }
    mWifiLastScanResults.addAll(scanResults);
    mLastWifiScanElapsedTime=now;
    mLastWifiScanRealTime=System.currentTimeMillis();
    log("updateWifIScanResults(): " + mWifiLastScanResults.size() + " APs");
    updateLocation();
  }
}
