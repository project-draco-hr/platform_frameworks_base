{
synchronized (this) {
    if (who == null) {
      throw new NullPointerException("ComponentName is null");
    }
    ActiveAdmin admin=getActiveAdminForCallerLocked(who,DeviceAdminInfo.USES_POLICY_SETS_GLOBAL_PROXY);
    final int N=mAdminList.size();
    Set<ComponentName> compSet=mAdminMap.keySet();
    for (    ComponentName component : compSet) {
      ActiveAdmin ap=mAdminMap.get(component);
      if ((ap.specifiesGlobalProxy) && (!component.equals(who))) {
        return component;
      }
    }
    if (proxySpec == null) {
      admin.specifiesGlobalProxy=false;
      admin.globalProxySpec=null;
      admin.globalProxyExclusionList=null;
    }
 else {
      admin.specifiesGlobalProxy=true;
      admin.globalProxySpec=proxySpec;
      admin.globalProxyExclusionList=exclusionList;
    }
    long origId=Binder.clearCallingIdentity();
    resetGlobalProxy();
    Binder.restoreCallingIdentity(origId);
    return null;
  }
}
