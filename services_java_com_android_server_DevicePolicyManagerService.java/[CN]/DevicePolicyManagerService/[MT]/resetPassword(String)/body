{
  int mode;
synchronized (this) {
    getActiveAdminForCallerLocked(null,DeviceAdminInfo.USES_POLICY_RESET_PASSWORD);
    mode=getPasswordMode();
    if (password.length() < getMinimumPasswordLength()) {
      return false;
    }
  }
  long ident=Binder.clearCallingIdentity();
  try {
    LockPatternUtils utils=new LockPatternUtils(mContext);
    utils.saveLockPassword(password,mode);
  }
  finally {
    Binder.restoreCallingIdentity(ident);
  }
  return true;
}
