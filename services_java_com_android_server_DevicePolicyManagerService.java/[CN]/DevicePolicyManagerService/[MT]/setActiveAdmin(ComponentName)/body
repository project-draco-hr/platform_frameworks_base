{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.BIND_DEVICE_ADMIN,null);
  DeviceAdminInfo info=findAdmin(adminReceiver);
  if (info == null) {
    throw new IllegalArgumentException("Bad admin: " + adminReceiver);
  }
synchronized (this) {
    long ident=Binder.clearCallingIdentity();
    try {
      if (getActiveAdminUncheckedLocked(adminReceiver) != null) {
        throw new IllegalArgumentException("Admin is already added");
      }
      ActiveAdmin admin=new ActiveAdmin(info);
      mAdminMap.put(adminReceiver,admin);
      mAdminList.add(admin);
      saveSettingsLocked();
      sendAdminCommandLocked(admin,DeviceAdminReceiver.ACTION_DEVICE_ADMIN_ENABLED);
    }
  finally {
      Binder.restoreCallingIdentity(ident);
    }
  }
}
