{
synchronized (this) {
    if (who == null) {
      throw new NullPointerException("ComponentName is null");
    }
    ActiveAdmin ap=getActiveAdminForCallerLocked(who,DeviceAdminInfo.USES_POLICY_FORCE_LOCK);
    if (ap.maximumTimeToUnlock != timeMs) {
      ap.maximumTimeToUnlock=timeMs;
      long ident=Binder.clearCallingIdentity();
      try {
        saveSettingsLocked();
        timeMs=getMaximumTimeToLock(null);
        if (timeMs <= 0) {
          timeMs=Integer.MAX_VALUE;
        }
        try {
          getIPowerManager().setMaximumScreenOffTimeount((int)timeMs);
        }
 catch (        RemoteException e) {
          Slog.w(TAG,"Failure talking with power manager",e);
        }
      }
  finally {
        Binder.restoreCallingIdentity(ident);
      }
    }
  }
}
