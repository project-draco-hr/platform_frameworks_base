{
  if (!mHasFeature) {
    return false;
  }
  if (packageName == null || !DeviceOwner.isInstalled(packageName,mContext.getPackageManager())) {
    throw new IllegalArgumentException("Invalid package name " + packageName + " for device owner");
  }
synchronized (this) {
    if (mDeviceOwner == null && !isDeviceProvisioned()) {
      mDeviceOwner=new DeviceOwner(packageName,ownerName);
      mDeviceOwner.writeOwnerFile();
      return true;
    }
 else {
      throw new IllegalStateException("Trying to set device owner to " + packageName + ", owner="+ mDeviceOwner.getPackageName()+ ", device_provisioned="+ isDeviceProvisioned());
    }
  }
}
