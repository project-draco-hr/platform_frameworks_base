{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.BIND_DEVICE_ADMIN,null);
synchronized (this) {
    long ident=Binder.clearCallingIdentity();
    try {
      mFailedPasswordAttempts++;
      saveSettingsLocked();
      int max=getMaximumFailedPasswordsForWipe(null);
      if (max > 0 && mFailedPasswordAttempts >= max) {
        wipeDataLocked(0);
      }
      sendAdminCommandLocked(DeviceAdminReceiver.ACTION_PASSWORD_FAILED,DeviceAdminInfo.USES_POLICY_WATCH_LOGIN);
    }
  finally {
      Binder.restoreCallingIdentity(ident);
    }
  }
}
