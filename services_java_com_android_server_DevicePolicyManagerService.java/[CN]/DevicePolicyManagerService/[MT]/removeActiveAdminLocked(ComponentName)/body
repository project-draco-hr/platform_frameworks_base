{
  ActiveAdmin admin=getActiveAdminUncheckedLocked(adminReceiver);
  if (admin != null) {
    boolean doProxyCleanup=admin.info.usesPolicy(DeviceAdminInfo.USES_POLICY_SETS_GLOBAL_PROXY);
    sendAdminCommandLocked(admin,DeviceAdminReceiver.ACTION_DEVICE_ADMIN_DISABLED);
    mAdminList.remove(admin);
    mAdminMap.remove(adminReceiver);
    validatePasswordOwnerLocked();
    if (doProxyCleanup) {
      resetGlobalProxy();
    }
  }
}
