{
switch (msg.what) {
case EVENT_NEW_SMS_STATUS_REPORT:
    handleStatusReport((AsyncResult)msg.obj);
  break;
case EVENT_NEW_BROADCAST_SMS:
handleBroadcastSms((AsyncResult)msg.obj);
break;
case EVENT_WRITE_SMS_COMPLETE:
AsyncResult ar=(AsyncResult)msg.obj;
if (ar.exception == null) {
Log.d(TAG,"Successfully wrote SMS-PP message to UICC");
mCm.acknowledgeLastIncomingGsmSms(true,0,null);
}
 else {
Log.d(TAG,"Failed to write SMS-PP message to UICC",ar.exception);
mCm.acknowledgeLastIncomingGsmSms(false,CommandsInterface.GSM_SMS_FAIL_CAUSE_UNSPECIFIED_ERROR,null);
}
break;
default :
super.handleMessage(msg);
}
}
