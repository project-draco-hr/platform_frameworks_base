{
  if (mAirplaneModeOn && !isAirplaneToggleable()) {
    return false;
  }
  if (wifiEnabled) {
    if (mAirplaneModeOn) {
      persistWifiState(WIFI_ENABLED_AIRPLANE_OVERRIDE);
    }
 else {
      persistWifiState(WIFI_ENABLED);
    }
  }
 else {
    persistWifiState(WIFI_DISABLED);
  }
  return true;
}
