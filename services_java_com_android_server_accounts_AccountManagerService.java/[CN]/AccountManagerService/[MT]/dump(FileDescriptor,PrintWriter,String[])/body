{
  if (mContext.checkCallingOrSelfPermission(android.Manifest.permission.DUMP) != PackageManager.PERMISSION_GRANTED) {
    fout.println("Permission Denial: can't dump AccountsManager from from pid=" + Binder.getCallingPid() + ", uid="+ Binder.getCallingUid()+ " without permission "+ android.Manifest.permission.DUMP);
    return;
  }
  final boolean isCheckinRequest=scanArgs(args,"--checkin") || scanArgs(args,"-c");
  final IndentingPrintWriter ipw=new IndentingPrintWriter(fout,"  ");
  final List<UserInfo> users=getUserManager().getUsers();
  for (  UserInfo user : users) {
    ipw.println("User " + user + ":");
    ipw.increaseIndent();
    dumpUser(getUserAccounts(user.id),fd,ipw,args,isCheckinRequest);
    ipw.println();
    ipw.decreaseIndent();
  }
}
