{
synchronized (mTempDisplayStateWorkQueue) {
    try {
synchronized (mSyncRoot) {
        if (mGlobalDisplayState != state) {
          mGlobalDisplayState=state;
          updateGlobalDisplayStateLocked(mTempDisplayStateWorkQueue);
          scheduleTraversalLocked(false);
        }
      }
      for (int i=0; i < mTempDisplayStateWorkQueue.size(); i++) {
        mTempDisplayStateWorkQueue.get(i).run();
      }
    }
  finally {
      mTempDisplayStateWorkQueue.clear();
    }
  }
}
