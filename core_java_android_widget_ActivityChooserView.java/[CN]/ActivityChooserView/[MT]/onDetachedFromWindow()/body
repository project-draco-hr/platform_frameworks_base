{
  super.onDetachedFromWindow();
  ActivityChooserModel dataModel=mAdapter.getDataModel();
  if (dataModel != null) {
    dataModel.unregisterObserver(mModelDataSetOberver);
    dataModel.persistHistoricalData();
  }
  mIsAttachedToWindow=false;
}
