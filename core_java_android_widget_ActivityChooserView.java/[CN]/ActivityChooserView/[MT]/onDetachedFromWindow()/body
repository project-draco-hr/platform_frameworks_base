{
  super.onDetachedFromWindow();
  ActivityChooserModel dataModel=mAdapter.getDataModel();
  if (dataModel != null && dataModel.isRegisteredObserver(mModelDataSetOberver)) {
    dataModel.unregisterObserver(mModelDataSetOberver);
  }
  ViewTreeObserver viewTreeObserver=getViewTreeObserver();
  if (viewTreeObserver.isAlive()) {
    viewTreeObserver.removeOnGlobalLayoutListener(mOnGlobalLayoutListener);
  }
  mIsAttachedToWindow=false;
}
