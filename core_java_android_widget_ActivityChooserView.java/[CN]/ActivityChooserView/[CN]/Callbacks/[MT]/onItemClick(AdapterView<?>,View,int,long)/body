{
  ActivityChooserViewAdapter adapter=(ActivityChooserViewAdapter)parent.getAdapter();
  final int itemViewType=adapter.getItemViewType(position);
switch (itemViewType) {
case ActivityChooserViewAdapter.ITEM_VIEW_TYPE_HEADER:
{
    }
  break;
case ActivityChooserViewAdapter.ITEM_VIEW_TYPE_FOOTER:
{
  showPopupUnchecked(ActivityChooserViewAdapter.MAX_ACTIVITY_COUNT_UNLIMITED);
}
break;
case ActivityChooserViewAdapter.ITEM_VIEW_TYPE_ACTIVITY:
{
dismissPopup();
if (mIsSelectingDefaultActivity) {
mAdapter.getDataModel().setDefaultActivity(position);
}
 else {
Intent launchIntent=mAdapter.getDataModel().chooseActivity(position + 1);
mContext.startActivity(launchIntent);
}
}
break;
default :
throw new IllegalArgumentException();
}
}
