{
  mItems=QSDetailItems.convertOrInflate(context,convertView,parent);
  mItems.setTagSuffix("Cast");
  if (convertView == null) {
    if (DEBUG)     Log.d(TAG,"addOnAttachStateChangeListener");
    mItems.addOnAttachStateChangeListener(new OnAttachStateChangeListener(){
      @Override public void onViewAttachedToWindow(      View v){
        if (DEBUG)         Log.d(TAG,"onViewAttachedToWindow");
      }
      @Override public void onViewDetachedFromWindow(      View v){
        if (DEBUG)         Log.d(TAG,"onViewDetachedFromWindow");
        mVisibleOrder.clear();
      }
    }
);
  }
  mItems.setEmptyState(R.drawable.ic_qs_cast_detail_empty,R.string.quick_settings_cast_detail_empty_text);
  mItems.setCallback(this);
  updateItems(mController.getCastDevices());
  mController.setDiscovering(true);
  return mItems;
}
