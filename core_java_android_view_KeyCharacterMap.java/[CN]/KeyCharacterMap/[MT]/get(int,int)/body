{
  if ((meta & MetaKeyKeyListener.META_CAP_LOCKED) != 0) {
    meta|=KeyEvent.META_SHIFT_ON;
  }
  if ((meta & MetaKeyKeyListener.META_ALT_LOCKED) != 0) {
    meta|=KeyEvent.META_ALT_ON;
  }
  if ((meta & MetaKeyKeyListener.META_CAP_LOCKED) != 0) {
    if (get_native(mPointer,keyCode,KeyEvent.META_SHIFT_ON) == get_native(mPointer,keyCode,KeyEvent.META_ALT_ON)) {
      meta&=~KeyEvent.META_SHIFT_ON;
    }
  }
  int ret=get_native(mPointer,keyCode,meta);
  int map=COMBINING.get(ret);
  if (map != 0) {
    return map;
  }
 else {
    return ret;
  }
}
