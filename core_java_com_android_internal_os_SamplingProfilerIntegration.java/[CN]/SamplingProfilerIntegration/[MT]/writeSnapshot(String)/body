{
  if (!enabled)   return;
  if (!pending) {
    pending=true;
    snapshotWriter.execute(new Runnable(){
      public void run(){
        String dir="/sdcard/snapshots";
        if (!dirMade) {
          new File(dir).mkdirs();
          if (new File(dir).isDirectory()) {
            dirMade=true;
          }
 else {
            Log.w(TAG,"Creation of " + dir + " failed.");
            return;
          }
        }
        try {
          writeSnapshot(dir,name);
        }
  finally {
          pending=false;
        }
      }
    }
);
  }
}
