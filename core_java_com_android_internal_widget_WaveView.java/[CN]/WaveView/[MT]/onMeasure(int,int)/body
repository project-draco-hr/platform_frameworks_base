{
  int widthSpecMode=MeasureSpec.getMode(widthMeasureSpec);
  int heightSpecMode=MeasureSpec.getMode(heightMeasureSpec);
  int widthSpecSize=MeasureSpec.getSize(widthMeasureSpec);
  int heightSpecSize=MeasureSpec.getSize(heightMeasureSpec);
  int width;
  int height;
  if (widthSpecMode == MeasureSpec.AT_MOST) {
    width=Math.min(widthSpecSize,getSuggestedMinimumWidth());
  }
 else   if (widthSpecMode == MeasureSpec.EXACTLY) {
    width=widthSpecSize;
  }
 else {
    width=getSuggestedMinimumWidth();
  }
  if (heightSpecMode == MeasureSpec.AT_MOST) {
    height=Math.min(heightSpecSize,getSuggestedMinimumWidth());
  }
 else   if (heightSpecMode == MeasureSpec.EXACTLY) {
    height=heightSpecSize;
  }
 else {
    height=getSuggestedMinimumHeight();
  }
  setMeasuredDimension(width,height);
}
