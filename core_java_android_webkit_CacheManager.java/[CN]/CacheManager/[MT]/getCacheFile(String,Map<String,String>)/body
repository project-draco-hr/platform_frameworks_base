{
  if (mDisabled) {
    return null;
  }
  CacheResult result=mDataBase.getCache(url);
  if (result != null) {
    if (result.contentLength == 0) {
      if (!checkCacheRedirect(result.httpStatusCode)) {
        mDataBase.removeCache(url);
        return null;
      }
    }
 else {
      File src=new File(mBaseDir,result.localPath);
      try {
        result.inStream=new FileInputStream(src);
      }
 catch (      FileNotFoundException e) {
        mDataBase.removeCache(url);
        return null;
      }
    }
  }
 else {
    return null;
  }
  if (headers != null && result.expires >= 0 && result.expires <= System.currentTimeMillis()) {
    if (result.lastModified == null && result.etag == null) {
      return null;
    }
    if (result.etag != null) {
      headers.put(HEADER_KEY_IFNONEMATCH,result.etag);
    }
    if (result.lastModified != null) {
      headers.put(HEADER_KEY_IFMODIFIEDSINCE,result.lastModified);
    }
  }
  if (WebView.LOGV_ENABLED) {
    Log.v(LOGTAG,"getCacheFile for url " + url);
  }
  return result;
}
