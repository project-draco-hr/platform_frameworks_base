{
  if (mDataBase.getCacheTotalSize() > CACHE_THRESHOLD) {
    List<String> pathList=mDataBase.trimCache(CACHE_TRIM_AMOUNT);
    int size=pathList.size();
    for (int i=0; i < size; i++) {
      File f=new File(mBaseDir,pathList.get(i));
      if (!f.delete()) {
        Log.e(LOGTAG,f.getPath() + " delete failed.");
      }
    }
    final List<String> fileList=mDataBase.getAllCacheFileNames();
    if (fileList == null)     return;
    String[] toDelete=mBaseDir.list(new FilenameFilter(){
      public boolean accept(      File dir,      String filename){
        if (fileList.contains(filename)) {
          return false;
        }
 else {
          return true;
        }
      }
    }
);
    if (toDelete == null)     return;
    size=toDelete.length;
    for (int i=0; i < size; i++) {
      File f=new File(mBaseDir,toDelete[i]);
      if (!f.delete()) {
        Log.e(LOGTAG,f.getPath() + " delete failed.");
      }
    }
  }
}
