{
  CacheResult result=nativeGetCacheResult(url);
  if (result == null) {
    return null;
  }
  File src=new File(mBaseDir,result.localPath);
  try {
    result.inStream=new FileInputStream(src);
  }
 catch (  FileNotFoundException e) {
    Log.v(LOGTAG,"getCacheFile(): Failed to open file: " + e);
    return null;
  }
  if (headers != null && result.expires >= 0 && result.expires <= System.currentTimeMillis()) {
    if (result.lastModified == null && result.etag == null) {
      return null;
    }
    if (result.etag != null) {
      headers.put(HEADER_KEY_IFNONEMATCH,result.etag);
    }
    if (result.lastModified != null) {
      headers.put(HEADER_KEY_IFMODIFIEDSINCE,result.lastModified);
    }
  }
  if (DebugFlags.CACHE_MANAGER) {
    Log.v(LOGTAG,"getCacheFile for url " + url);
  }
  return result;
}
