{
  if (mNavigationBar != null) {
    boolean transientNavBarShowing=mNavigationBarController.isTransientShowing();
    mNavigationBarOnBottom=(!mNavigationBarCanMove || displayWidth < displayHeight);
    if (mNavigationBarOnBottom) {
      int top=displayHeight - overscanBottom - mNavigationBarHeightForRotation[displayRotation];
      mTmpNavigationFrame.set(0,top,displayWidth,displayHeight - overscanBottom);
      mStableBottom=mStableFullscreenBottom=mTmpNavigationFrame.top;
      if (transientNavBarShowing) {
        mNavigationBarController.setBarShowingLw(true);
      }
 else       if (navVisible) {
        mNavigationBarController.setBarShowingLw(true);
        mDockBottom=mTmpNavigationFrame.top;
        mRestrictedScreenHeight=mDockBottom - mRestrictedScreenTop;
        mRestrictedOverscanScreenHeight=mDockBottom - mRestrictedOverscanScreenTop;
      }
 else {
        mNavigationBarController.setBarShowingLw(false);
      }
      if (navVisible && !navTranslucent && !navAllowedHidden&& !mNavigationBar.isAnimatingLw()&& !mNavigationBarController.wasRecentlyTranslucent()) {
        mSystemBottom=mTmpNavigationFrame.top;
      }
    }
 else {
      int left=displayWidth - overscanRight - mNavigationBarWidthForRotation[displayRotation];
      mTmpNavigationFrame.set(left,0,displayWidth - overscanRight,displayHeight);
      mStableRight=mStableFullscreenRight=mTmpNavigationFrame.left;
      if (transientNavBarShowing) {
        mNavigationBarController.setBarShowingLw(true);
      }
 else       if (navVisible) {
        mNavigationBarController.setBarShowingLw(true);
        mDockRight=mTmpNavigationFrame.left;
        mRestrictedScreenWidth=mDockRight - mRestrictedScreenLeft;
        mRestrictedOverscanScreenWidth=mDockRight - mRestrictedOverscanScreenLeft;
      }
 else {
        mNavigationBarController.setBarShowingLw(false);
      }
      if (navVisible && !navTranslucent && !navAllowedHidden&& !mNavigationBar.isAnimatingLw()&& !mNavigationBarController.wasRecentlyTranslucent()) {
        mSystemRight=mTmpNavigationFrame.left;
      }
    }
    mContentTop=mVoiceContentTop=mCurTop=mDockTop;
    mContentBottom=mVoiceContentBottom=mCurBottom=mDockBottom;
    mContentLeft=mVoiceContentLeft=mCurLeft=mDockLeft;
    mContentRight=mVoiceContentRight=mCurRight=mDockRight;
    mStatusBarLayer=mNavigationBar.getSurfaceLayer();
    mNavigationBar.computeFrameLw(mTmpNavigationFrame,mTmpNavigationFrame,mTmpNavigationFrame,mTmpNavigationFrame,mTmpNavigationFrame,dcf,mTmpNavigationFrame,mTmpNavigationFrame);
    if (DEBUG_LAYOUT)     Slog.i(TAG,"mNavigationBar frame: " + mTmpNavigationFrame);
    if (mNavigationBarController.checkHiddenLw()) {
      return true;
    }
  }
  return false;
}
