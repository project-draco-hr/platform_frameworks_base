{
  sendCloseSystemWindows(SYSTEM_DIALOG_REASON_ASSIST);
  if (!isUserSetupComplete()) {
    return;
  }
  Bundle args=null;
  if (deviceId > Integer.MIN_VALUE) {
    args=new Bundle();
    args.putInt(Intent.EXTRA_ASSIST_INPUT_DEVICE_ID,deviceId);
  }
  if ((mContext.getResources().getConfiguration().uiMode & Configuration.UI_MODE_TYPE_MASK) == Configuration.UI_MODE_TYPE_TELEVISION) {
    ((SearchManager)mContext.getSystemService(Context.SEARCH_SERVICE)).launchLegacyAssist(hint,UserHandle.myUserId(),args);
  }
 else {
    try {
      if (hint != null) {
        if (args == null) {
          args=new Bundle();
        }
        args.putBoolean(hint,true);
      }
      IStatusBarService statusbar=getStatusBarService();
      if (statusbar != null) {
        statusbar.startAssist(args);
      }
    }
 catch (    RemoteException e) {
      Slog.e(TAG,"RemoteException when starting assist",e);
      mStatusBarService=null;
    }
  }
}
