{
synchronized (mLock) {
    final Rect magnifiedFrame=mTempRect;
    getMagnificationBounds(magnifiedFrame);
    if (!magnifiedFrame.intersects(left,top,right,bottom)) {
      return;
    }
    final Rect magnifFrameInScreenCoords=mTempRect1;
    getMagnifiedFrameInContentCoordsLocked(magnifFrameInScreenCoords);
    final float scrollX;
    final float scrollY;
    if (right - left > magnifFrameInScreenCoords.width()) {
      final int direction=TextUtils.getLayoutDirectionFromLocale(Locale.getDefault());
      if (direction == View.LAYOUT_DIRECTION_LTR) {
        scrollX=left - magnifFrameInScreenCoords.left;
      }
 else {
        scrollX=right - magnifFrameInScreenCoords.right;
      }
    }
 else     if (left < magnifFrameInScreenCoords.left) {
      scrollX=left - magnifFrameInScreenCoords.left;
    }
 else     if (right > magnifFrameInScreenCoords.right) {
      scrollX=right - magnifFrameInScreenCoords.right;
    }
 else {
      scrollX=0;
    }
    if (bottom - top > magnifFrameInScreenCoords.height()) {
      scrollY=top - magnifFrameInScreenCoords.top;
    }
 else     if (top < magnifFrameInScreenCoords.top) {
      scrollY=top - magnifFrameInScreenCoords.top;
    }
 else     if (bottom > magnifFrameInScreenCoords.bottom) {
      scrollY=bottom - magnifFrameInScreenCoords.bottom;
    }
 else {
      scrollY=0;
    }
    final float scale=getScale();
    offsetMagnifiedRegionCenter(scrollX * scale,scrollY * scale,INVALID_ID);
  }
}
