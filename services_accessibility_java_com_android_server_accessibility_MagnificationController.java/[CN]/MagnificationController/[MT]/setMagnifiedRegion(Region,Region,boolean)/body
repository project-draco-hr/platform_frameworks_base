{
synchronized (mLock) {
    mMagnifiedRegion.set(magnified);
    mMagnifiedRegion.getBounds(mMagnifiedBounds);
    mAvailableRegion.set(available);
    final MagnificationSpec sentSpec=mSpecAnimationBridge.mSentMagnificationSpec;
    final float scale=sentSpec.scale;
    final float offsetX=sentSpec.offsetX;
    final float offsetY=sentSpec.offsetY;
    final float centerX=(mMagnifiedBounds.width() / 2.0f - offsetX) / scale + mMagnifiedBounds.left;
    final float centerY=(mMagnifiedBounds.height() / 2.0f - offsetY) / scale + mMagnifiedBounds.top;
    if (updateSpec) {
      setScaleAndCenter(scale,centerX,centerY,false);
    }
 else {
      mAms.onMagnificationStateChanged();
      mAms.notifyMagnificationChanged(mMagnifiedRegion,scale,centerX,centerY);
    }
  }
}
