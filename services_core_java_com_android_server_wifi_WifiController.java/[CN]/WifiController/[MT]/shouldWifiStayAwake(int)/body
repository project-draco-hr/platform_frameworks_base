{
  if (mSleepPolicy == Settings.Global.WIFI_SLEEP_POLICY_NEVER) {
    return true;
  }
 else   if ((mSleepPolicy == Settings.Global.WIFI_SLEEP_POLICY_NEVER_WHILE_PLUGGED) && (pluggedType != 0)) {
    return true;
  }
 else {
    return shouldDeviceStayAwake(pluggedType);
  }
}
