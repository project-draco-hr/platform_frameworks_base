{
  if (header == null || header.length == 0) {
    return stringToGsm7BitPacked(data);
  }
  int headerBits=(header.length + 1) * 8;
  int headerSeptets=headerBits / 7;
  headerSeptets+=(headerBits % 7) > 0 ? 1 : 0;
  int sz=data.length();
  int septetCount;
  septetCount=countGsmSeptets(data,true) + headerSeptets;
  byte[] ret=stringToGsm7BitPacked(data,0,septetCount,(headerSeptets * 7),true);
  ret[1]=(byte)header.length;
  System.arraycopy(header,0,ret,2,header.length);
  return ret;
}
