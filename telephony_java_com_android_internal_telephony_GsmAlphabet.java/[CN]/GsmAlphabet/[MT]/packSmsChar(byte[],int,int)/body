{
  int byteOffset=bitOffset / 8;
  int shift=bitOffset % 8;
  packedChars[++byteOffset]|=value << shift;
  if (shift > 1) {
    packedChars[++byteOffset]=(byte)(value >> (8 - shift));
  }
}
