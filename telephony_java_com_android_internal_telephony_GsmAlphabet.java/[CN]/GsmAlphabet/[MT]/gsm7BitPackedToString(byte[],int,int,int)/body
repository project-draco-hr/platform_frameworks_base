{
  StringBuilder ret=new StringBuilder(lengthSeptets);
  boolean prevCharWasEscape;
  try {
    prevCharWasEscape=false;
    for (int i=0; i < lengthSeptets; i++) {
      int bitOffset=(7 * i) + numPaddingBits;
      int byteOffset=bitOffset / 8;
      int shift=bitOffset % 8;
      int gsmVal;
      gsmVal=(0x7f & (pdu[offset + byteOffset] >> shift));
      if (shift > 1) {
        gsmVal&=0x7f >> (shift - 1);
        gsmVal|=0x7f & (pdu[offset + byteOffset + 1] << (8 - shift));
      }
      if (prevCharWasEscape) {
        ret.append(GsmAlphabet.gsmExtendedToChar(gsmVal));
        prevCharWasEscape=false;
      }
 else       if (gsmVal == GSM_EXTENDED_ESCAPE) {
        prevCharWasEscape=true;
      }
 else {
        ret.append(GsmAlphabet.gsmToChar(gsmVal));
      }
    }
  }
 catch (  RuntimeException ex) {
    Log.e(LOG_TAG,"Error GSM 7 bit packed: ",ex);
    return null;
  }
  return ret.toString();
}
