{
  while (!supplicantConnected) {
    boolean connected;
synchronized (mWifiStateTracker) {
      connected=WifiNative.connectToSupplicant();
    }
    if (!connected) {
      if (oneShot) {
        oneShot=false;
        mWifiStateTracker.notifySupplicantLost();
      }
      nap(5);
    }
 else {
      supplicantConnected=true;
      oneShot=false;
      mWifiStateTracker.notifySupplicantConnection();
    }
  }
}
