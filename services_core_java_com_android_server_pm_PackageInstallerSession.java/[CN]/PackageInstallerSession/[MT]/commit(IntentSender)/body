{
  Preconditions.checkNotNull(statusReceiver);
synchronized (mLock) {
    if (!mSealed) {
      for (      FileBridge bridge : mBridges) {
        if (!bridge.isClosed()) {
          throw new SecurityException("Files still open");
        }
      }
      mSealed=true;
      mCallback.onSessionSealed(this);
    }
  }
  mClientProgress=1f;
  computeProgressLocked(true);
  mActiveCount.incrementAndGet();
  final PackageInstallObserverAdapter adapter=new PackageInstallObserverAdapter(mContext,statusReceiver,sessionId);
  mHandler.obtainMessage(MSG_COMMIT,adapter.getBinder()).sendToTarget();
}
