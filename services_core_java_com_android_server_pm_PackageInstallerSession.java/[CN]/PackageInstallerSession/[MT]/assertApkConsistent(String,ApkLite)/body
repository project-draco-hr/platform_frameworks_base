{
  if (!mPackageName.equals(apk.packageName)) {
    throw new PackageManagerException(INSTALL_FAILED_INVALID_APK,tag + " package " + apk.packageName+ " inconsistent with "+ mPackageName);
  }
  if (params.appPackageName != null && !params.appPackageName.equals(apk.packageName)) {
    throw new PackageManagerException(INSTALL_FAILED_INVALID_APK,tag + " specified package " + params.appPackageName+ " inconsistent with "+ apk.packageName);
  }
  if (mVersionCode != apk.versionCode) {
    throw new PackageManagerException(INSTALL_FAILED_INVALID_APK,tag + " version code " + apk.versionCode+ " inconsistent with "+ mVersionCode);
  }
  if (!Signature.areExactMatch(mSignatures,apk.signatures)) {
    throw new PackageManagerException(INSTALL_FAILED_INVALID_APK,tag + " signatures are inconsistent");
  }
}
