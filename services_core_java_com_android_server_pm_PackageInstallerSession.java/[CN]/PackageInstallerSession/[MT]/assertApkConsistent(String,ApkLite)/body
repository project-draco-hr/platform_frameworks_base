{
  final boolean quickInstall=(params.installFlags & PackageManager.INSTALL_QUICK) != 0;
  if (!mPackageName.equals(apk.packageName)) {
    throw new PackageManagerException(INSTALL_FAILED_INVALID_APK,tag + " package " + apk.packageName+ " inconsistent with "+ mPackageName);
  }
  if (mVersionCode != apk.versionCode) {
    throw new PackageManagerException(INSTALL_FAILED_INVALID_APK,tag + " version code " + apk.versionCode+ " inconsistent with "+ mVersionCode);
  }
  if (!quickInstall && !Signature.areExactMatch(mSignatures,apk.signatures)) {
    throw new PackageManagerException(INSTALL_FAILED_INVALID_APK,tag + " signatures are inconsistent");
  }
}
