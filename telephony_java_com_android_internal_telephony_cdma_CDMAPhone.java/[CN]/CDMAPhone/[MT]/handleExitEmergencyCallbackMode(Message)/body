{
  AsyncResult ar=(AsyncResult)msg.obj;
  if (DBG) {
    Log.d(LOG_TAG,"handleExitEmergencyCallbackMode,ar.exception , mIsPhoneInEcmState " + ar.exception + mIsPhoneInEcmState);
  }
  removeCallbacks(mExitEcmRunnable);
  if (mEcmExitRespRegistrant != null) {
    mEcmExitRespRegistrant.notifyRegistrant(ar);
  }
  if (ar.exception == null) {
    if (mIsPhoneInEcmState) {
      mIsPhoneInEcmState=false;
      setSystemProperty(TelephonyProperties.PROPERTY_INECM_MODE,"false");
    }
    sendEmergencyCallbackModeChange();
    mDataConnection.setInternalDataEnabled(true);
  }
}
