{
  super(notifier,context,ci,unitTestMode);
  mCM.setPhoneType(RILConstants.CDMA_PHONE);
  mCT=new CdmaCallTracker(this);
  mSST=new CdmaServiceStateTracker(this);
  mSMS=new CdmaSMSDispatcher(this);
  mIccFileHandler=new RuimFileHandler(this);
  mRuimRecords=new RuimRecords(this);
  mDataConnection=new CdmaDataConnectionTracker(this);
  mRuimCard=new RuimCard(this);
  mRuimPhoneBookInterfaceManager=new RuimPhoneBookInterfaceManager(this);
  mRuimSmsInterfaceManager=new RuimSmsInterfaceManager(this);
  mSubInfo=new PhoneSubInfo(this);
  mEriManager=new EriManager(this,context,EriManager.ERI_FROM_XML);
  mCM.registerForAvailable(this,EVENT_RADIO_AVAILABLE,null);
  mRuimRecords.registerForRecordsLoaded(this,EVENT_RUIM_RECORDS_LOADED,null);
  mCM.registerForOffOrNotAvailable(this,EVENT_RADIO_OFF_OR_NOT_AVAILABLE,null);
  mCM.registerForOn(this,EVENT_RADIO_ON,null);
  mCM.setOnSuppServiceNotification(this,EVENT_SSN,null);
  mSST.registerForNetworkAttach(this,EVENT_REGISTERED_TO_NETWORK,null);
  mCM.registerForNVReady(this,EVENT_NV_READY,null);
  mCM.setEmergencyCallbackMode(this,EVENT_EMERGENCY_CALLBACK_MODE_ENTER,null);
  PowerManager pm=(PowerManager)context.getSystemService(Context.POWER_SERVICE);
  mWakeLock=pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,LOG_TAG);
  SystemProperties.set(TelephonyProperties.CURRENT_ACTIVE_PHONE,new Integer(RILConstants.CDMA_PHONE).toString());
  String inEcm=SystemProperties.get(TelephonyProperties.PROPERTY_INECM_MODE,"false");
  mIsPhoneInEcmState=inEcm.equals("true");
  mCarrierOtaSpNumSchema=SystemProperties.get(TelephonyProperties.PROPERTY_OTASP_NUM_SCHEMA,"");
  String operatorAlpha=SystemProperties.get("ro.cdma.home.operator.alpha");
  setSystemProperty(PROPERTY_ICC_OPERATOR_ALPHA,operatorAlpha);
  String operatorNumeric=SystemProperties.get("ro.cdma.home.operator.numeric");
  setSystemProperty(PROPERTY_ICC_OPERATOR_NUMERIC,operatorNumeric);
  setIsoCountryProperty(operatorNumeric);
  updateCurrentCarrierInProvider(operatorNumeric);
  updateMccMncConfiguration(operatorNumeric);
  notifier.notifyMessageWaitingChanged(this);
}
