{
  KeyguardAnalyticsProtos.Session proto=new KeyguardAnalyticsProtos.Session();
  proto.setStartTimestampMillis(mStartTimestampMillis);
  proto.setDurationMillis(mEndTimestampMillis - mStartTimestampMillis);
  proto.setBuild(Build.FINGERPRINT);
  proto.setResult(mResult);
  proto.sensorEvents=mSensorEvents.toArray(proto.sensorEvents);
  proto.touchEvents=mMotionEvents.toArray(proto.touchEvents);
  proto.setTouchAreaWidth(mTouchAreaWidth);
  proto.setTouchAreaHeight(mTouchAreaHeight);
  proto.setType(mType);
  if (mRedactTouchEvents) {
    redactTouchEvents(proto.touchEvents);
  }
  return proto;
}
