{
  final ModelField[] declaredFields;
  if (mTypeMirror.getKind() == TypeKind.DECLARED) {
    DeclaredType declaredType=(DeclaredType)mTypeMirror;
    Elements elementUtils=getElementUtils();
    TypeElement typeElement=(TypeElement)declaredType.asElement();
    List<? extends Element> members=elementUtils.getAllMembers(typeElement);
    List<VariableElement> fields=ElementFilter.fieldsIn(members);
    declaredFields=new ModelField[fields.size()];
    for (int i=0; i < declaredFields.length; i++) {
      declaredFields[i]=new AnnotationField(typeElement,fields.get(i));
    }
  }
 else {
    declaredFields=new ModelField[0];
  }
  return declaredFields;
}
