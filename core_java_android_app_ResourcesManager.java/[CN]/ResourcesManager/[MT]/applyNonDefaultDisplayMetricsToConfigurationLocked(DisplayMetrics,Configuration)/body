{
  config.touchscreen=Configuration.TOUCHSCREEN_NOTOUCH;
  config.densityDpi=dm.densityDpi;
  config.screenWidthDp=(int)(dm.widthPixels / dm.density);
  config.screenHeightDp=(int)(dm.heightPixels / dm.density);
  int sl=Configuration.resetScreenLayout(config.screenLayout);
  if (dm.widthPixels > dm.heightPixels) {
    config.orientation=Configuration.ORIENTATION_LANDSCAPE;
    config.screenLayout=Configuration.reduceScreenLayout(sl,config.screenWidthDp,config.screenHeightDp);
  }
 else {
    config.orientation=Configuration.ORIENTATION_PORTRAIT;
    config.screenLayout=Configuration.reduceScreenLayout(sl,config.screenHeightDp,config.screenWidthDp);
  }
  config.smallestScreenWidthDp=config.screenWidthDp;
  config.compatScreenWidthDp=config.screenWidthDp;
  config.compatScreenHeightDp=config.screenHeightDp;
  config.compatSmallestScreenWidthDp=config.smallestScreenWidthDp;
}
