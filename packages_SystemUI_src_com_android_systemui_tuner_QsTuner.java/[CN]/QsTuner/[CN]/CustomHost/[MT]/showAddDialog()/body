{
  List<String> tiles=mTileSpecs;
  int numBroadcast=0;
  for (int i=0; i < tiles.size(); i++) {
    if (tiles.get(i).startsWith(IntentTile.PREFIX)) {
      numBroadcast++;
    }
  }
  String[] defaults=getContext().getString(R.string.quick_settings_tiles_default).split(",");
  final String[] available=new String[defaults.length + 1 - (tiles.size() - numBroadcast)];
  final String[] availableTiles=new String[available.length];
  int index=0;
  for (int i=0; i < defaults.length; i++) {
    if (tiles.contains(defaults[i])) {
      continue;
    }
    int resource=getLabelResource(defaults[i]);
    if (resource != 0) {
      availableTiles[index]=defaults[i];
      available[index++]=getContext().getString(resource);
    }
 else {
      availableTiles[index]=defaults[i];
      available[index++]=defaults[i];
    }
  }
  available[index++]=getContext().getString(R.string.broadcast_tile);
  new AlertDialog.Builder(getContext()).setTitle(R.string.add_tile).setItems(available,new DialogInterface.OnClickListener(){
    public void onClick(    DialogInterface dialog,    int which){
      if (which < available.length - 1) {
        add(availableTiles[which]);
      }
 else {
        showBroadcastTileDialog();
      }
    }
  }
).show();
}
