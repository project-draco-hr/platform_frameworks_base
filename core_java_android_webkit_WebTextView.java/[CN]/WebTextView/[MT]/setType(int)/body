{
  if (mWebView == null)   return;
  boolean single=true;
  boolean inPassword=false;
  int maxLength=-1;
  int inputType=EditorInfo.TYPE_CLASS_TEXT | EditorInfo.TYPE_TEXT_VARIATION_WEB_EDIT_TEXT;
  int imeOptions=EditorInfo.IME_FLAG_NO_EXTRACT_UI | EditorInfo.IME_FLAG_NO_FULLSCREEN;
  if (TEXT_AREA != type && mWebView.nativeFocusCandidateHasNextTextfield()) {
    imeOptions|=EditorInfo.IME_FLAG_NAVIGATE_NEXT;
  }
switch (type) {
case NORMAL_TEXT_FIELD:
    imeOptions|=EditorInfo.IME_ACTION_GO;
  break;
case TEXT_AREA:
single=false;
inputType|=EditorInfo.TYPE_TEXT_FLAG_MULTI_LINE | EditorInfo.TYPE_TEXT_FLAG_CAP_SENTENCES | EditorInfo.TYPE_TEXT_FLAG_AUTO_CORRECT;
imeOptions|=EditorInfo.IME_ACTION_NONE;
break;
case PASSWORD:
inPassword=true;
imeOptions|=EditorInfo.IME_ACTION_GO;
break;
case SEARCH:
imeOptions|=EditorInfo.IME_ACTION_SEARCH;
break;
case EMAIL:
inputType|=EditorInfo.TYPE_TEXT_VARIATION_WEB_EMAIL_ADDRESS;
imeOptions|=EditorInfo.IME_ACTION_GO;
break;
case NUMBER:
inputType|=EditorInfo.TYPE_CLASS_NUMBER;
imeOptions|=EditorInfo.IME_ACTION_NEXT;
break;
case TELEPHONE:
inputType|=EditorInfo.TYPE_CLASS_PHONE;
imeOptions|=EditorInfo.IME_ACTION_NEXT;
break;
case URL:
imeOptions|=EditorInfo.IME_ACTION_GO;
break;
default :
imeOptions|=EditorInfo.IME_ACTION_GO;
break;
}
setHint(null);
if (single) {
mWebView.requestLabel(mWebView.nativeFocusCandidateFramePointer(),mNodePointer);
maxLength=mWebView.nativeFocusCandidateMaxLength();
boolean autoComplete=mWebView.nativeFocusCandidateIsAutoComplete();
if (type != PASSWORD && (mAutoFillable || autoComplete)) {
String name=mWebView.nativeFocusCandidateName();
if (name != null && name.length() > 0) {
mWebView.requestFormData(name,mNodePointer,mAutoFillable,autoComplete);
}
}
}
mSingle=single;
setMaxLength(maxLength);
setHorizontallyScrolling(single);
setInputType(inputType);
setImeOptions(imeOptions);
setInPassword(inPassword);
AutoCompleteAdapter adapter=null;
setAdapterCustom(adapter);
}
