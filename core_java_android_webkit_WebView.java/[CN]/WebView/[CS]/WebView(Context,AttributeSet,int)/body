{
  super(context,attrs,defStyle);
  init();
  mCallbackProxy=new CallbackProxy(context,this);
  mWebViewCore=new WebViewCore(context,this,mCallbackProxy);
  mDatabase=WebViewDatabase.getInstance(context);
  mFocusData=new WebViewCore.FocusData();
  mFocusData.mFrame=0;
  mFocusData.mNode=0;
  mFocusData.mX=0;
  mFocusData.mY=0;
  mScroller=new Scroller(context);
  mZoomRingController=new ZoomRingController(context,this);
  mZoomRingController.setCallback(mZoomListener);
  mZoomRingController.setTrackDrawable(com.android.internal.R.drawable.zoom_ring_track_absolute);
  float density=context.getResources().getDisplayMetrics().density;
  mZoomRingController.setPannerAcceleration((int)(160 * density));
  mZoomRingController.setPannerStartAcceleratingDuration((int)(700 * density));
  createZoomRingOverviewTab();
  mZoomButtonsController=new ZoomButtonsController(context,this);
  mZoomButtonsController.setOverviewVisible(true);
  mZoomButtonsController.setCallback(new ZoomButtonsController.OnZoomListener(){
    public void onCenter(    int x,    int y){
      mZoomListener.onCenter(x,y);
    }
    public void onOverview(){
      mZoomButtonsController.setVisible(false);
      zoomScrollOut();
    }
    public void onVisibilityChanged(    boolean visible){
      mZoomListener.onVisibilityChanged(visible);
    }
    public void onZoom(    boolean zoomIn){
      mZoomListener.onSimpleZoom(zoomIn,getWidth() / 2,getHeight() / 2);
    }
  }
);
}
