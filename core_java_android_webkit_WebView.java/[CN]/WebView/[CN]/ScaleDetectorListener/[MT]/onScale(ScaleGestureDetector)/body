{
  float currScale=mPreviewExtraZoomScale * mActualScale;
  float scale=(float)(Math.round(detector.getScaleFactor() * currScale * 100) / 100.0);
  if (scale > currScale) {
    scale=Math.min(scale,currScale * 1.25f);
  }
 else {
    scale=Math.max(Math.max(scale,currScale * 0.8f),mMinZoomScale * 0.8f);
  }
  if (Math.abs(scale - currScale) >= PREVIEW_SCALE_INCREMENT) {
    mPreviewZoomOnly=true;
    if (mPreviewExtraZoomScale > 1.0f) {
      mZoomCenterX=mStartX - (mStartX - detector.getFocusX()) / mPreviewExtraZoomScale;
      mZoomCenterY=mStartY - (mStartY - detector.getFocusY()) / mPreviewExtraZoomScale;
    }
 else {
      mZoomCenterX=detector.getFocusX();
      mZoomCenterY=detector.getFocusY();
    }
    mPreviewExtraZoomScale=scale / mActualScale;
    invalidate();
    return true;
  }
  return false;
}
