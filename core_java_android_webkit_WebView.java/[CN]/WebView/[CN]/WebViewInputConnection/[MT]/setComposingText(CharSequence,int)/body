{
  Editable editable=getEditable();
  int start=getComposingSpanStart(editable);
  int end=getComposingSpanEnd(editable);
  if (start < 0 || end < 0) {
    start=Selection.getSelectionStart(editable);
    end=Selection.getSelectionEnd(editable);
  }
  if (end < start) {
    int temp=end;
    end=start;
    start=temp;
  }
  setNewText(start,end,text);
  return super.setComposingText(text,newCursorPosition);
}
