{
  Editable editable=getEditable();
  int selectionStart=Selection.getSelectionStart(editable);
  int selectionEnd=Selection.getSelectionEnd(editable);
  setNewText(selectionStart,selectionEnd,text);
  editable.replace(selectionStart,selectionEnd,text);
  InputMethodManager imm=InputMethodManager.peekInstance();
  if (imm != null) {
    imm.restartInput(WebView.this);
  }
  int newCaret=selectionStart + text.length();
  setSelection(newCaret,newCaret);
}
