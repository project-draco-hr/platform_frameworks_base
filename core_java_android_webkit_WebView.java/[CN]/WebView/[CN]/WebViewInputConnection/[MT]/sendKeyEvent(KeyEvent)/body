{
  if (!mIsKeySentByMe && event.getKeyCode() == KeyEvent.KEYCODE_DEL) {
    Editable editable=getEditable();
    int selectionStart=Selection.getSelectionStart(editable);
    int selectionEnd=Selection.getSelectionEnd(editable);
    if (selectionEnd > 0 && (selectionStart == selectionEnd)) {
      int action=event.getAction();
      if (action == KeyEvent.ACTION_UP) {
        return deleteSurroundingText(1,0);
      }
 else       if (action == KeyEvent.ACTION_DOWN) {
        return true;
      }
    }
  }
  return super.sendKeyEvent(event);
}
