{
  Editable editable=getEditable();
  int selectionStart=Selection.getSelectionStart(editable);
  int selectionEnd=Selection.getSelectionEnd(editable);
  editable.replace(0,editable.length(),text);
  InputMethodManager imm=InputMethodManager.peekInstance();
  if (imm != null) {
    imm.restartInput(WebView.this);
  }
  selectionStart=Math.min(selectionStart,editable.length());
  selectionEnd=Math.min(selectionEnd,editable.length());
  setSelection(selectionStart,selectionEnd);
}
