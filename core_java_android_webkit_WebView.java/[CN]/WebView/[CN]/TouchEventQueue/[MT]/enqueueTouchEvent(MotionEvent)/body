{
  final long sequence=nextTouchSequence();
  if (dropStaleGestures(ev,sequence)) {
    return;
  }
  if (mLastHandledTouchSequence + 1 == sequence) {
    handleQueuedMotionEvent(ev);
    mLastHandledTouchSequence++;
    QueuedTouch qd=mTouchEventQueue;
    while (qd != null && qd.mSequence == mLastHandledTouchSequence + 1) {
      handleQueuedTouch(qd);
      QueuedTouch recycleMe=qd;
      qd=qd.mNext;
      recycleQueuedTouch(recycleMe);
      mLastHandledTouchSequence++;
    }
    mTouchEventQueue=qd;
  }
 else {
    QueuedTouch qd=obtainQueuedTouch().set(ev,sequence);
    mTouchEventQueue=mTouchEventQueue == null ? qd : mTouchEventQueue.add(qd);
  }
}
