{
  if (ev != null && ev.getAction() == MotionEvent.ACTION_DOWN && mTouchEventQueue != null) {
    long eventTime=ev.getEventTime();
    long nextQueueTime=mTouchEventQueue.mTed != null ? mTouchEventQueue.mTed.mMotionEvent.getEventTime() : mTouchEventQueue.mEvent.getEventTime();
    if (eventTime > nextQueueTime + QUEUED_GESTURE_TIMEOUT) {
      Log.w(LOGTAG,"Got ACTION_DOWN but still waiting on stale event. " + "Ignoring previous queued events.");
      QueuedTouch qd=mTouchEventQueue;
      while (qd != null && qd.mSequence < sequence) {
        QueuedTouch recycleMe=qd;
        qd=qd.mNext;
        recycleQueuedTouch(recycleMe);
      }
      mTouchEventQueue=qd;
      mLastHandledTouchSequence=sequence - 1;
    }
  }
  if (mIgnoreUntilSequence > mLastHandledTouchSequence) {
    QueuedTouch qd=mTouchEventQueue;
    while (qd != null && qd.mSequence < mIgnoreUntilSequence && qd.mSequence < sequence) {
      mLastHandledTouchSequence=qd.mSequence;
      QueuedTouch recycleMe=qd;
      qd=qd.mNext;
      recycleQueuedTouch(recycleMe);
    }
    mTouchEventQueue=qd;
  }
}
