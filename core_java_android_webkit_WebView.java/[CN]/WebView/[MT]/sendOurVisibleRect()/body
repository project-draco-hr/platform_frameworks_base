{
  if (mZoomManager.isPreventingWebkitUpdates())   return mLastVisibleRectSent;
  calcOurContentVisibleRect(mVisibleRect);
  if (!mVisibleRect.equals(mLastVisibleRectSent)) {
    if (!mBlockWebkitViewMessages) {
      mScrollOffset.set(mVisibleRect.left,mVisibleRect.top);
      mWebViewCore.removeMessages(EventHub.SET_SCROLL_OFFSET);
      mWebViewCore.sendMessage(EventHub.SET_SCROLL_OFFSET,nativeMoveGeneration(),mSendScrollEvent ? 1 : 0,mScrollOffset);
    }
    mLastVisibleRectSent=mVisibleRect;
    mPrivateHandler.removeMessages(SWITCH_TO_LONGPRESS);
  }
  if (getGlobalVisibleRect(mGlobalVisibleRect) && !mGlobalVisibleRect.equals(mLastGlobalRect)) {
    if (DebugFlags.WEB_VIEW) {
      Log.v(LOGTAG,"sendOurVisibleRect=(" + mGlobalVisibleRect.left + ","+ mGlobalVisibleRect.top+ ",r="+ mGlobalVisibleRect.right+ ",b="+ mGlobalVisibleRect.bottom);
    }
    if (!mBlockWebkitViewMessages) {
      mWebViewCore.sendMessage(EventHub.SET_GLOBAL_BOUNDS,mGlobalVisibleRect);
    }
    mLastGlobalRect=mGlobalVisibleRect;
  }
  return mVisibleRect;
}
