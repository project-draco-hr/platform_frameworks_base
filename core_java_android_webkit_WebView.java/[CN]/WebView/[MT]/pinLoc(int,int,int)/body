{
  if (docMax < viewMax) {
    x=-(viewMax - docMax) >> 1;
  }
 else   if (x < 0) {
    x=0;
  }
 else   if (x + viewMax > docMax) {
    x=docMax - viewMax;
  }
  return x;
}
