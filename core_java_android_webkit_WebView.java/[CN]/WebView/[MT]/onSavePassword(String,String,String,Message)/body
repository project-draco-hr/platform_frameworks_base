{
  boolean rVal=false;
  if (resumeMsg == null) {
    mDatabase.setUsernamePassword(schemePlusHost,username,password);
  }
 else {
    final Message remember=mPrivateHandler.obtainMessage(REMEMBER_PASSWORD);
    remember.getData().putString("host",schemePlusHost);
    remember.getData().putString("username",username);
    remember.getData().putString("password",password);
    remember.obj=resumeMsg;
    final Message neverRemember=mPrivateHandler.obtainMessage(NEVER_REMEMBER_PASSWORD);
    neverRemember.getData().putString("host",schemePlusHost);
    neverRemember.getData().putString("username",username);
    neverRemember.getData().putString("password",password);
    neverRemember.obj=resumeMsg;
    new AlertDialog.Builder(getContext()).setTitle(com.android.internal.R.string.save_password_label).setMessage(com.android.internal.R.string.save_password_message).setPositiveButton(com.android.internal.R.string.save_password_notnow,new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int which){
        resumeMsg.sendToTarget();
      }
    }
).setNeutralButton(com.android.internal.R.string.save_password_remember,new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int which){
        remember.sendToTarget();
      }
    }
).setNegativeButton(com.android.internal.R.string.save_password_never,new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int which){
        neverRemember.sendToTarget();
      }
    }
).setOnCancelListener(new OnCancelListener(){
      public void onCancel(      DialogInterface dialog){
        resumeMsg.sendToTarget();
      }
    }
).show();
    rVal=true;
  }
  return rVal;
}
