{
  boolean copiedSomething=false;
  if (mExtendSelection) {
    String selection=nativeGetSelection();
    if (selection != "") {
      if (DebugFlags.WEB_VIEW) {
        Log.v(LOGTAG,"commitCopy \"" + selection + "\"");
      }
      Toast.makeText(mContext,com.android.internal.R.string.text_copied,Toast.LENGTH_SHORT).show();
      copiedSomething=true;
      try {
        IClipboard clip=IClipboard.Stub.asInterface(ServiceManager.getService("clipboard"));
        clip.setClipboardText(selection);
      }
 catch (      android.os.RemoteException e) {
        Log.e(LOGTAG,"Clipboard failed",e);
      }
    }
    mExtendSelection=false;
  }
  mShiftIsPressed=false;
  invalidate();
  if (mTouchMode == TOUCH_SELECT_MODE) {
    mTouchMode=TOUCH_INIT_MODE;
  }
  return copiedSomething;
}
