{
  if (mNativeClass == 0) {
    return;
  }
  int saveCount=canvas.save();
  if (mTitleBar != null) {
    canvas.translate(0,(int)mTitleBar.getHeight());
  }
  nativeRecordButtons(hasFocus() && hasWindowFocus(),mTouchMode == TOUCH_SHORTPRESS_START_MODE || mTrackballDown || mGotCenterDown,false);
  drawCoreAndCursorRing(canvas,mBackgroundColor,mDrawCursorRing);
  canvas.restoreToCount(saveCount);
  if (mTitleBar != null) {
    int y=mScrollY + getVisibleTitleHeight();
    int height=(int)(5f * getContext().getResources().getDisplayMetrics().density);
    mTitleShadow.setBounds(mScrollX,y,mScrollX + getWidth(),y + height);
    mTitleShadow.draw(canvas);
  }
  if (AUTO_REDRAW_HACK && mAutoRedraw) {
    invalidate();
  }
}
