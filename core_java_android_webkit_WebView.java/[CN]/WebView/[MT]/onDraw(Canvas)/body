{
  if (mNativeClass == 0) {
    return;
  }
  if ((mContentWidth | mContentHeight) == 0 && mHistoryPicture == null) {
    canvas.drawColor(mBackgroundColor);
    return;
  }
  int saveCount=canvas.save();
  if (mInOverScrollMode && !getSettings().getUseWebViewBackgroundForOverscrollBackground()) {
    if (mOverScrollBackground == null) {
      mOverScrollBackground=new Paint();
      Bitmap bm=BitmapFactory.decodeResource(mContext.getResources(),com.android.internal.R.drawable.status_bar_background);
      mOverScrollBackground.setShader(new BitmapShader(bm,Shader.TileMode.REPEAT,Shader.TileMode.REPEAT));
      mOverScrollBorder=new Paint();
      mOverScrollBorder.setStyle(Paint.Style.STROKE);
      mOverScrollBorder.setStrokeWidth(0);
      mOverScrollBorder.setColor(0xffbbbbbb);
    }
    int top=0;
    int right=computeRealHorizontalScrollRange();
    int bottom=top + computeRealVerticalScrollRange();
    canvas.save();
    canvas.translate(mScrollX,mScrollY);
    canvas.clipRect(-mScrollX,top - mScrollY,right - mScrollX,bottom - mScrollY,Region.Op.DIFFERENCE);
    canvas.drawPaint(mOverScrollBackground);
    canvas.restore();
    canvas.drawRect(-1,top - 1,right,bottom,mOverScrollBorder);
    canvas.clipRect(0,top,right,bottom);
  }
  if (mTitleBar != null) {
    canvas.translate(0,(int)mTitleBar.getHeight());
  }
  if (mDragTrackerHandler == null) {
    drawContent(canvas);
  }
 else {
    if (!mDragTrackerHandler.draw(canvas)) {
      drawContent(canvas);
    }
    if (mDragTrackerHandler.isFinished()) {
      mDragTrackerHandler=null;
    }
  }
  canvas.restoreToCount(saveCount);
  int titleH=getVisibleTitleHeight();
  if (mTitleBar != null && titleH == 0) {
    int height=(int)(5f * getContext().getResources().getDisplayMetrics().density);
    mTitleShadow.setBounds(mScrollX,mScrollY,mScrollX + getWidth(),mScrollY + height);
    mTitleShadow.draw(canvas);
  }
  if (AUTO_REDRAW_HACK && mAutoRedraw) {
    invalidate();
  }
  if (inEditingMode()) {
    mWebTextView.onDrawSubstitute();
  }
  mWebViewCore.signalRepaintDone();
}
