{
  if (src == null || b == null) {
    return false;
  }
  if (src.exists()) {
    Picture p=null;
    try {
      final FileInputStream in=new FileInputStream(src);
      p=Picture.createFromStream(in);
      in.close();
    }
 catch (    FileNotFoundException e) {
      e.printStackTrace();
    }
catch (    RuntimeException e) {
      e.printStackTrace();
    }
catch (    IOException e) {
      e.printStackTrace();
    }
    if (p != null) {
      int sx=b.getInt("scrollX",0);
      int sy=b.getInt("scrollY",0);
      float scale=b.getFloat("scale",1.0f);
      mDrawHistory=true;
      mHistoryPicture=p;
      mScrollX=sx;
      mScrollY=sy;
      mHistoryWidth=Math.round(p.getWidth() * scale);
      mHistoryHeight=Math.round(p.getHeight() * scale);
      mActualScale=scale;
      float lastScale=b.getFloat("lastScale",-1.0f);
      mMobileSite=b.getBoolean("mobile",false);
      if (lastScale > 0) {
        mInZoomOverview=true;
        mViewingMode=OVERVIEW_MODE;
        mLastScale=lastScale;
      }
 else {
        mInZoomOverview=false;
        if (mMobileSite && (mScrollX | mScrollY) == 0) {
          mViewingMode=TITLE_BAR_DISMISS_MODE;
        }
 else {
          mViewingMode=READING_MODE_WITH_TITLE_BAR;
        }
      }
      mCallbackProxy.uiOnChangeViewingMode(mViewingMode);
      invalidate();
      return true;
    }
  }
  return false;
}
