{
  WebSettings settings=getSettings();
  final PackageManager pm=context.getPackageManager();
  mSupportMultiTouch=pm.hasSystemFeature(PackageManager.FEATURE_TOUCHSCREEN_MULTITOUCH) && settings.supportZoom() && settings.getBuiltInZoomControls();
  mAllowPanAndScale=pm.hasSystemFeature(PackageManager.FEATURE_TOUCHSCREEN_MULTITOUCH_DISTINCT);
  if (mSupportMultiTouch && (mScaleDetector == null)) {
    mScaleDetector=new ScaleGestureDetector(context,new ScaleDetectorListener());
  }
 else   if (!mSupportMultiTouch && (mScaleDetector != null)) {
    mScaleDetector=null;
  }
}
