{
  if (mWebViewCore.getSettings().getUseWideViewPort() == false || mViewingMode == NO_VIEWING_MODE) {
    return;
  }
  if (mViewingMode == TITLE_BAR_DISMISS_MODE) {
    mViewingMode=READING_MODE;
    mCallbackProxy.uiOnChangeViewingMode(mViewingMode);
    return;
  }
  if (mViewingMode == READING_MODE_WITH_TITLE_BAR && mMobileSite) {
    scrollTo(0,0);
  }
  mZoomCenterX=mLastTouchX;
  mZoomCenterY=mLastTouchY;
  mInZoomOverview=!mInZoomOverview;
  mViewingMode=mInZoomOverview ? OVERVIEW_MODE : READING_MODE;
  mCallbackProxy.uiOnChangeViewingMode(mViewingMode);
  if (getSettings().getBuiltInZoomControls()) {
    if (mZoomButtonsController.isVisible()) {
      mZoomButtonsController.setVisible(false);
    }
  }
 else {
    if (mZoomControlRunnable != null) {
      mPrivateHandler.removeCallbacks(mZoomControlRunnable);
    }
    if (mZoomControls != null) {
      mZoomControls.hide();
    }
  }
  if (mInZoomOverview) {
    zoomWithPreview((float)getViewWidth() / mZoomOverviewWidth);
  }
 else {
    int contentX=viewToContent((int)mLastTouchX + mScrollX);
    int contentY=viewToContent((int)mLastTouchY + mScrollY);
    int left=nativeGetBlockLeftEdge(contentX,contentY,mActualScale);
    if (left != NO_LEFTEDGE) {
      mZoomCenterX=left < 5 ? 0 : (left - 5) * mLastScale * mActualScale / (mLastScale - mActualScale);
    }
    zoomWithPreview(mLastScale);
  }
}
