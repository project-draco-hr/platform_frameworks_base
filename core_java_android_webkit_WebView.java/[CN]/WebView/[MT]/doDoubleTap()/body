{
  if (mWebViewCore.getSettings().getUseWideViewPort() == false) {
    return;
  }
  mZoomManager.setZoomCenter(mLastTouchX,mLastTouchY);
  mAnchorX=viewToContentX((int)mLastTouchX + mScrollX);
  mAnchorY=viewToContentY((int)mLastTouchX + mScrollY);
  WebSettings settings=getSettings();
  settings.setDoubleTapToastCount(0);
  mZoomManager.dismissZoomPicker();
  ViewManager.ChildView plugin=mViewManager.hitTest(mAnchorX,mAnchorY);
  if (plugin != null) {
    if (isPluginFitOnScreen(plugin)) {
      mZoomManager.zoomToOverview();
    }
 else {
      mZoomManager.mInZoomOverview=false;
      centerFitRect(plugin.x,plugin.y,plugin.width,plugin.height);
    }
    return;
  }
  boolean zoomToDefault=false;
  if ((settings.getLayoutAlgorithm() == WebSettings.LayoutAlgorithm.NARROW_COLUMNS) && mZoomManager.willScaleTriggerZoom(mZoomManager.mTextWrapScale)) {
    mZoomManager.refreshZoomScale(true);
    float overviewScale=(float)getViewWidth() / mZoomManager.mZoomOverviewWidth;
    if (!mZoomManager.willScaleTriggerZoom(overviewScale)) {
      mZoomManager.mInZoomOverview=true;
    }
  }
 else   if (!mZoomManager.mInZoomOverview) {
    float newScale=(float)getViewWidth() / mZoomManager.mZoomOverviewWidth;
    if (mZoomManager.willScaleTriggerZoom(newScale)) {
      mZoomManager.zoomToOverview();
    }
 else     if (mZoomManager.willScaleTriggerZoom(mZoomManager.getDefaultScale())) {
      zoomToDefault=true;
    }
  }
 else {
    zoomToDefault=true;
  }
  if (zoomToDefault) {
    int left=nativeGetBlockLeftEdge(mAnchorX,mAnchorY,mZoomManager.mActualScale);
    if (left != NO_LEFTEDGE) {
      int viewLeft=contentToViewX(left < 5 ? 0 : (left - 5)) - mScrollX;
      if (viewLeft > 0) {
        mZoomManager.mZoomCenterX=viewLeft * mZoomManager.getDefaultScale() / (mZoomManager.getDefaultScale() - mZoomManager.mActualScale);
      }
 else {
        scrollBy(viewLeft,0);
        mZoomManager.mZoomCenterX=0;
      }
    }
    mZoomManager.zoomToDefaultLevel(true);
  }
}
