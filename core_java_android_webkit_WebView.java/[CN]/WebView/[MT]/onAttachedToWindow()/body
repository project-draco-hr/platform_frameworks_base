{
  super.onAttachedToWindow();
  if (hasWindowFocus())   setActive(true);
  final ViewTreeObserver treeObserver=getViewTreeObserver();
  if (treeObserver != null) {
    if (mGlobalLayoutListener == null) {
      mGlobalLayoutListener=new InnerGlobalLayoutListener();
      treeObserver.addOnGlobalLayoutListener(mGlobalLayoutListener);
    }
    if (mScrollChangedListener == null) {
      mScrollChangedListener=new InnerScrollChangedListener();
      treeObserver.addOnScrollChangedListener(mScrollChangedListener);
    }
  }
}
