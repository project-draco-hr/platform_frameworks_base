{
  clearHelpers();
  mZoomManager.dismissZoomPicker();
  if (hasWindowFocus())   setActive(false);
  final ViewTreeObserver treeObserver=getViewTreeObserver();
  if (treeObserver != null) {
    if (mGlobalLayoutListener != null) {
      treeObserver.removeGlobalOnLayoutListener(mGlobalLayoutListener);
      mGlobalLayoutListener=null;
    }
    if (mScrollChangedListener != null) {
      treeObserver.removeOnScrollChangedListener(mScrollChangedListener);
      mScrollChangedListener=null;
    }
  }
  super.onDetachedFromWindow();
}
