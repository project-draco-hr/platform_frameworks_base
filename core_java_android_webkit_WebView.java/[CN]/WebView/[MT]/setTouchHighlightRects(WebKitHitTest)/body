{
  FocusTransitionDrawable transition=new FocusTransitionDrawable(this);
  Rect[] rects=hit != null ? hit.mTouchRects : null;
  if (!mTouchHighlightRegion.isEmpty()) {
    invalidate(mTouchHighlightRegion.getBounds());
    transition.mPreviousRegion=new Region(mTouchHighlightRegion);
    mTouchHighlightRegion.setEmpty();
  }
  if (rects != null) {
    mTouchHightlightPaint.setColor(hit.mTapHighlightColor);
    for (    Rect rect : rects) {
      Rect viewRect=contentToViewRect(rect);
      if (viewRect.width() < getWidth() >> 1 || viewRect.height() < getHeight() >> 1) {
        mTouchHighlightRegion.union(viewRect);
      }
 else {
        Log.w(LOGTAG,"Skip the huge selection rect:" + viewRect);
      }
    }
    transition.mNewRegion=new Region(mTouchHighlightRegion);
    invalidate(mTouchHighlightRegion.getBounds());
    if (hit.mHasFocus && transition.mPreviousRegion != null) {
      mFocusTransition=transition;
      ObjectAnimator animator=ObjectAnimator.ofFloat(mFocusTransition,"progress",1f);
      animator.start();
    }
  }
}
