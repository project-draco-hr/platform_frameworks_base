{
  setActive(hasWindowFocus);
  if (hasWindowFocus) {
    JWebCoreJavaBridge.setActiveWebView(this);
    if (mPictureUpdatePausedForFocusChange) {
      WebViewCore.resumeUpdatePicture(mWebViewCore);
      nativeSetIsScrolling(false);
      mPictureUpdatePausedForFocusChange=false;
    }
  }
 else {
    JWebCoreJavaBridge.removeActiveWebView(this);
    final WebSettings settings=getSettings();
    if (settings != null && settings.enableSmoothTransition() && mWebViewCore != null && !WebViewCore.isUpdatePicturePaused(mWebViewCore)) {
      WebViewCore.pauseUpdatePicture(mWebViewCore);
      nativeSetIsScrolling(true);
      mPictureUpdatePausedForFocusChange=true;
    }
  }
  super.onWindowFocusChanged(hasWindowFocus);
}
