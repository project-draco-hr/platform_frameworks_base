{
  super.onSizeChanged(w,h,ow,oh);
  if (mZoomScale == 0) {
    mZoomCenterX=getViewWidth() * .5f;
    mZoomCenterY=getViewHeight() * .5f;
  }
  if (!mMinZoomScaleFixed) {
    mMinZoomScale=Math.min(1.0f,(float)getViewWidth() / (mDrawHistory ? mHistoryPicture.getWidth() : mZoomOverviewWidth));
  }
  setNewZoomScale(mActualScale,true);
}
