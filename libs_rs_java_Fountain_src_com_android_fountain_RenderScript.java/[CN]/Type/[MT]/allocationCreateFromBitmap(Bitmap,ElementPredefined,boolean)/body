{
  int w=b.getWidth();
  int h=b.getHeight();
  int[] data=new int[w * h];
  int outPtr=0;
  for (int y=0; y < h; y++) {
    for (int x=0; x < w; x++) {
      data[outPtr]=b.getPixel(x,y);
      outPtr++;
    }
  }
  int srcFmt=0;
  srcFmt=ElementPredefined.RGBA_8888.mID;
  int id=nAllocationCreateFromBitmap(w,h,dstFmt.mID,srcFmt,genMips,data);
  return new Allocation(id);
}
