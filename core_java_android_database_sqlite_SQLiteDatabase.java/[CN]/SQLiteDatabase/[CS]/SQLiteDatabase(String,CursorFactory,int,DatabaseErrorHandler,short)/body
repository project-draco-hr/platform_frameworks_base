{
  if (path == null) {
    throw new IllegalArgumentException("path should not be null");
  }
  setMaxSqlCacheSize(DEFAULT_SQL_CACHE_SIZE);
  mFlags=flags;
  mPath=path;
  mSlowQueryThreshold=SystemProperties.getInt(LOG_SLOW_QUERIES_PROPERTY,-1);
  mStackTrace=new DatabaseObjectNotClosedException().fillInStackTrace();
  mFactory=factory;
  mPrograms=new WeakHashMap<SQLiteClosable,Object>();
  mErrorHandler=(errorHandler == null) ? new DefaultDatabaseErrorHandler() : errorHandler;
  mConnectionNum=connectionNum;
  int limit=Resources.getSystem().getInteger(com.android.internal.R.integer.config_cursorWindowSize) * 1024 * 4;
  native_setSqliteSoftHeapLimit(limit);
}
