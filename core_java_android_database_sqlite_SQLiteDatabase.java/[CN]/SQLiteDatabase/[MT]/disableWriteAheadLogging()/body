{
synchronized (mLock) {
    throwIfNotOpenLocked();
    if (!mIsWALEnabledLocked) {
      return;
    }
    final int oldMaxConnectionPoolSize=mConfigurationLocked.maxConnectionPoolSize;
    final String oldSyncMode=mConfigurationLocked.syncMode;
    final String oldJournalMode=mConfigurationLocked.journalMode;
    mConfigurationLocked.maxConnectionPoolSize=1;
    mConfigurationLocked.syncMode=SQLiteGlobal.getDefaultSyncMode();
    mConfigurationLocked.journalMode=SQLiteGlobal.getDefaultJournalMode();
    try {
      mConnectionPoolLocked.reconfigure(mConfigurationLocked);
    }
 catch (    RuntimeException ex) {
      mConfigurationLocked.maxConnectionPoolSize=oldMaxConnectionPoolSize;
      mConfigurationLocked.syncMode=oldSyncMode;
      mConfigurationLocked.journalMode=oldJournalMode;
      throw ex;
    }
    mIsWALEnabledLocked=false;
  }
}
