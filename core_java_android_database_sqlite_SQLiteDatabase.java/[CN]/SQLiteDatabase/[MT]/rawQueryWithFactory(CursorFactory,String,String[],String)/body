{
  if (!isOpen()) {
    throw new IllegalStateException("database not open");
  }
  BlockGuard.getThreadPolicy().onReadFromDisk();
  long timeStart=0;
  if (Config.LOGV || mSlowQueryThreshold != -1) {
    timeStart=System.currentTimeMillis();
  }
  SQLiteCursorDriver driver=new SQLiteDirectCursorDriver(this,sql,editTable);
  Cursor cursor=null;
  try {
    cursor=driver.query(cursorFactory != null ? cursorFactory : mFactory,selectionArgs);
  }
  finally {
    if (Config.LOGV || mSlowQueryThreshold != -1) {
      int count=-1;
      if (cursor != null) {
        count=cursor.getCount();
      }
      long duration=System.currentTimeMillis() - timeStart;
      if (Config.LOGV || duration >= mSlowQueryThreshold) {
        Log.v(SQLiteCursor.TAG,"query (" + duration + " ms): "+ driver.toString()+ ", args are "+ (selectionArgs != null ? TextUtils.join(",",selectionArgs) : "<null>")+ ", count is "+ count);
      }
    }
  }
  return cursor;
}
