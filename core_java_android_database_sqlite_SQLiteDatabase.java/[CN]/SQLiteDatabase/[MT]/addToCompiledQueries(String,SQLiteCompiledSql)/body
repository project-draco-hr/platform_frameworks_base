{
  if (mMaxSqlCacheSize == 0) {
    if (SQLiteDebug.DEBUG_SQL_CACHE) {
      Log.v(TAG,"|NOT adding_sql_to_cache|" + getPath() + "|"+ sql);
    }
    return;
  }
  SQLiteCompiledSql compiledSql=null;
synchronized (mCompiledQueries) {
    compiledSql=mCompiledQueries.get(sql);
    if (compiledSql != null) {
      return;
    }
    if (mCompiledQueries.size() == mMaxSqlCacheSize) {
      Log.w(TAG,"Reached MAX size for compiled-sql statement cache for database " + getPath() + "; i.e., NO space for this sql statement in cache: "+ sql+ ". Please change your sql statements to use '?' for "+ "bindargs, instead of using actual values");
      if (++mCacheFullWarnings > MAX_WARNINGS_ON_CACHESIZE_CONDITION) {
        mCacheFullWarnings=0;
        mCompiledQueries.clear();
        Log.w(TAG,"Compiled-sql statement cache for database: " + getPath() + " hit MAX size-limit too many times. "+ "Removing all compiled-sql statements from the cache.");
      }
 else {
        Set<String> keySet=mCompiledQueries.keySet();
        for (        String s : keySet) {
          mCompiledQueries.remove(s);
          break;
        }
      }
    }
    mCompiledQueries.put(sql,compiledStatement);
  }
  if (SQLiteDebug.DEBUG_SQL_CACHE) {
    Log.v(TAG,"|adding_sql_to_cache|" + getPath() + "|"+ mCompiledQueries.size()+ "|"+ sql);
  }
  return;
}
