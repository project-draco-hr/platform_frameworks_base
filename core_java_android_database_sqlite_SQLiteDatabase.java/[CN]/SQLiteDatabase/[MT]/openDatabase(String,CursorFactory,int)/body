{
  SQLiteDatabase db=null;
  try {
    return new SQLiteDatabase(path,factory,flags);
  }
 catch (  SQLiteDatabaseCorruptException e) {
    Log.e(TAG,"Deleting and re-creating corrupt database " + path,e);
    EventLog.writeEvent(EVENT_DB_CORRUPT,path);
    new File(path).delete();
    return new SQLiteDatabase(path,factory,flags);
  }
}
