{
  SQLiteDatabase db=null;
  try {
    SQLiteDatabase sqliteDatabase=new SQLiteDatabase(path,factory,flags);
    if (SQLiteDebug.DEBUG_SQL_STATEMENTS) {
      sqliteDatabase.enableSqlTracing(path);
    }
    if (SQLiteDebug.DEBUG_SQL_TIME) {
      sqliteDatabase.enableSqlProfiling(path);
    }
    return sqliteDatabase;
  }
 catch (  SQLiteDatabaseCorruptException e) {
    Log.e(TAG,"Deleting and re-creating corrupt database " + path,e);
    EventLog.writeEvent(EVENT_DB_CORRUPT,path);
    new File(path).delete();
    return new SQLiteDatabase(path,factory,flags);
  }
}
