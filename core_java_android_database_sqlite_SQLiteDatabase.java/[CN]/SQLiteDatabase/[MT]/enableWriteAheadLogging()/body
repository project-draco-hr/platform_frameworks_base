{
  if (mConnectionPool != null) {
    return;
  }
  if (getAttachedDbs().size() > 1) {
    throw new IllegalStateException("this database: " + mPath + " has attached databases. can't do execution of of queries in parallel.");
  }
  mConnectionPool=new DatabaseConnectionPool(this);
  String s=DatabaseUtils.stringForQuery(this,"PRAGMA journal_mode=WAL",null);
  if (!s.equalsIgnoreCase("WAL")) {
    Log.e(TAG,"setting journal_mode to WAL failed");
  }
}
