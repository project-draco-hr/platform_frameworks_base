{
  if (!isOpen()) {
    throw new IllegalStateException("database " + getPath() + " already closed");
  }
  if (!isDbLockedByCurrentThread() && mLockingEnabled) {
    throw new IllegalStateException("Don't have database lock!");
  }
}
