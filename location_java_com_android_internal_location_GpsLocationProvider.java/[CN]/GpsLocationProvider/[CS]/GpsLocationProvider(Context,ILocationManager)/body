{
  super(LocationManager.GPS_PROVIDER,locationManager);
  mContext=context;
  TelephonyBroadcastReceiver receiver=new TelephonyBroadcastReceiver();
  IntentFilter intentFilter=new IntentFilter();
  intentFilter.addAction(TelephonyIntents.ACTION_ANY_DATA_CONNECTION_STATE_CHANGED);
  context.registerReceiver(receiver,intentFilter);
  mConnMgr=(ConnectivityManager)context.getSystemService(Context.CONNECTIVITY_SERVICE);
  mProperties=new Properties();
  try {
    File file=new File(PROPERTIES_FILE);
    FileInputStream stream=new FileInputStream(file);
    mProperties.load(stream);
    stream.close();
    mNtpServer=mProperties.getProperty("NTP_SERVER",null);
    mSuplHost=mProperties.getProperty("SUPL_HOST");
    String suplPortString=mProperties.getProperty("SUPL_PORT");
    if (mSuplHost != null && suplPortString != null) {
      try {
        mSuplPort=Integer.parseInt(suplPortString);
        mSetSuplServer=true;
      }
 catch (      NumberFormatException e) {
        Log.e(TAG,"unable to parse SUPL_PORT: " + suplPortString);
      }
    }
  }
 catch (  IOException e) {
    Log.w(TAG,"Could not open GPS configuration file " + PROPERTIES_FILE);
  }
}
