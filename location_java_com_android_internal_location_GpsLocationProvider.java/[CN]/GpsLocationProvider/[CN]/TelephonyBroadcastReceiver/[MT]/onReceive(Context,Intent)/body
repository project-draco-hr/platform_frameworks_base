{
  String action=intent.getAction();
  if (action.equals(TelephonyIntents.ACTION_ANY_DATA_CONNECTION_STATE_CHANGED)) {
    String state=intent.getStringExtra(Phone.STATE_KEY);
    String apnName=intent.getStringExtra(Phone.DATA_APN_KEY);
    String reason=intent.getStringExtra(Phone.STATE_CHANGE_REASON_KEY);
    if (Config.LOGD) {
      Log.d(TAG,"state: " + state + " apnName: "+ apnName+ " reason: "+ reason);
    }
    if ("CONNECTED".equals(state)) {
      native_set_supl_apn(apnName);
    }
 else {
      native_set_supl_apn("");
    }
  }
}
