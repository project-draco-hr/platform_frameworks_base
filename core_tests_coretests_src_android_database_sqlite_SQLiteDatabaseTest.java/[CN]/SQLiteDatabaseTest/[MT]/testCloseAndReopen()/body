{
  mDatabase.close();
  TestOpenHelper helper=new TestOpenHelper(getContext(),DB_NAME,null,CURRENT_DATABASE_VERSION,new DefaultDatabaseErrorHandler());
  mDatabase=helper.getWritableDatabase();
  createTableAndClearCache();
  mDatabase.execSQL("INSERT into " + TEST_TABLE + " values(10, 999);");
  Cursor c=mDatabase.query(TEST_TABLE,new String[]{"i","j"},null,null,null,null,null);
  assertEquals(1,c.getCount());
  c.close();
  mDatabase.close();
  assertFalse(mDatabase.isOpen());
  mDatabase=helper.getReadableDatabase();
  assertTrue(mDatabase.isOpen());
  c=mDatabase.query(TEST_TABLE,new String[]{"i","j"},null,null,null,null,null);
  assertEquals(1,c.getCount());
  c.close();
}
