{
  SurfaceImage si=new SurfaceImage(mFormat);
  int status=acquireNextSurfaceImage(si);
switch (status) {
case ACQUIRE_SUCCESS:
    return si;
case ACQUIRE_NO_BUFS:
  return null;
case ACQUIRE_MAX_IMAGES:
throw new IllegalStateException(String.format("maxImages (%d) has already been acquired, " + "call #close before acquiring more.",mMaxImages));
default :
throw new AssertionError("Unknown nativeImageSetup return code " + status);
}
}
