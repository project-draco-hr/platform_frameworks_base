{
  if (requestedEngine != null) {
    if (mEnginesHelper.isEngineInstalled(requestedEngine)) {
      if ((mServiceConnection=connectToEngine(requestedEngine)) != null) {
        return true;
      }
 else       if (!fallbackToDefaultEngine) {
        Log.w(TAG,"Couldn't connect to requested engine: " + requestedEngine);
        return false;
      }
    }
 else     if (!fallbackToDefaultEngine) {
      Log.w(TAG,"Requested engine not installed: " + requestedEngine);
      return false;
    }
  }
  final String defaultEngine=mEnginesHelper.getDefaultEngine();
  if (defaultEngine != null && !defaultEngine.equals(requestedEngine)) {
    if ((mServiceConnection=connectToEngine(defaultEngine)) != null) {
      return true;
    }
  }
  final String highestRanked=mEnginesHelper.getHighestRankedEngineName();
  if (highestRanked != null && !highestRanked.equals(requestedEngine) && !highestRanked.equals(defaultEngine)) {
    if ((mServiceConnection=connectToEngine(highestRanked)) != null) {
      return true;
    }
  }
  Log.w(TAG,"Couldn't find working TTS engine");
  return false;
}
