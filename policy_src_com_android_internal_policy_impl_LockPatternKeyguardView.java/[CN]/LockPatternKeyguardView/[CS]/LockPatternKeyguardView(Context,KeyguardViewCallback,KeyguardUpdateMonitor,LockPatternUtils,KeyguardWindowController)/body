{
  super(context,callback);
  mHandler=new Handler(this);
  mConfiguration=context.getResources().getConfiguration();
  mEnableFallback=false;
  mRequiresSim=TextUtils.isEmpty(SystemProperties.get("keyguard.no_require_sim"));
  mUpdateMonitor=updateMonitor;
  mLockPatternUtils=lockPatternUtils;
  mWindowController=controller;
  mHasOverlay=false;
  mPluggedIn=mUpdateMonitor.isDevicePluggedIn();
  mScreenOn=((PowerManager)context.getSystemService(Context.POWER_SERVICE)).isScreenOn();
  mUpdateMonitor.registerInfoCallback(mInfoCallback);
  setFocusableInTouchMode(true);
  setDescendantFocusability(FOCUS_AFTER_DESCENDANTS);
  updateScreen(getInitialMode(),false);
  maybeEnableFallback(context);
}
