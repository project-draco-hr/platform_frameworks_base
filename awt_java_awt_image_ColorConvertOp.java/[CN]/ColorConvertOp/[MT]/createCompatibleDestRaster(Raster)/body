{
  int nComps=0;
  int nSpaces=conversionSequence.length;
  if (nSpaces < 2) {
    throw new IllegalArgumentException(Messages.getString("awt.261"));
  }
  Object lastCS=conversionSequence[nSpaces - 1];
  if (lastCS instanceof ColorSpace) {
    nComps=((ColorSpace)lastCS).getNumComponents();
  }
 else {
    nComps=((ICC_Profile)lastCS).getNumComponents();
  }
  int dstDataType=src.getDataBuffer().getDataType();
  if (dstDataType != DataBuffer.TYPE_BYTE && dstDataType != DataBuffer.TYPE_SHORT) {
    dstDataType=DataBuffer.TYPE_SHORT;
  }
  return Raster.createInterleavedRaster(dstDataType,src.getWidth(),src.getHeight(),nComps,new Point(src.getMinX(),src.getMinY()));
}
