{
  int energy=0;
  if (data.length != 0) {
    for (int i=0; i < data.length; i++) {
      int tmp;
      if (unsigned) {
        tmp=((int)data[i] & 0xFF) - 128;
      }
 else {
        tmp=(int)data[i];
      }
      energy+=tmp * tmp;
    }
    energy/=data.length;
  }
  return energy;
}
