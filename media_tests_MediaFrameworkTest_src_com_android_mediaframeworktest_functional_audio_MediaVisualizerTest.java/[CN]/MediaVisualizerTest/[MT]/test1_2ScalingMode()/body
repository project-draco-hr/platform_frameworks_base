{
  boolean result=false;
  String msg="test1_2ScalingMode()";
  getVisualizer(0);
  try {
    int res=mVisualizer.setScalingMode(Visualizer.SCALING_MODE_AS_PLAYED);
    assertEquals(msg + ": setting SCALING_MODE_AS_PLAYED failed",res,Visualizer.SUCCESS);
    int mode=mVisualizer.getScalingMode();
    assertEquals(msg + ": setting SCALING_MODE_AS_PLAYED didn't stick",mode,Visualizer.SCALING_MODE_AS_PLAYED);
    res=mVisualizer.setScalingMode(Visualizer.SCALING_MODE_NORMALIZED);
    assertEquals(msg + ": setting SCALING_MODE_NORMALIZED failed",res,Visualizer.SUCCESS);
    mode=mVisualizer.getScalingMode();
    assertEquals(msg + ": setting SCALING_MODE_NORMALIZED didn't stick",mode,Visualizer.SCALING_MODE_NORMALIZED);
    result=true;
  }
 catch (  IllegalStateException e) {
    msg=msg.concat("IllegalStateException");
    loge(msg,"set/get parameter() called in wrong state: " + e);
  }
 finally {
    releaseVisualizer();
  }
  assertTrue(msg,result);
}
