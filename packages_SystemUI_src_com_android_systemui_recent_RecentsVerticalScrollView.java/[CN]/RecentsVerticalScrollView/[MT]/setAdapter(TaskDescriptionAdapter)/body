{
  mAdapter=adapter;
  mAdapter.registerDataSetObserver(new DataSetObserver(){
    public void onChanged(){
      update();
    }
    public void onInvalidated(){
      update();
    }
  }
);
  DisplayMetrics dm=getResources().getDisplayMetrics();
  int childWidthMeasureSpec=MeasureSpec.makeMeasureSpec(dm.widthPixels,MeasureSpec.AT_MOST);
  int childheightMeasureSpec=MeasureSpec.makeMeasureSpec(dm.heightPixels,MeasureSpec.AT_MOST);
  View child=mAdapter.createView(mLinearLayout);
  child.measure(childWidthMeasureSpec,childheightMeasureSpec);
  mNumItemsInOneScreenful=(int)FloatMath.ceil(dm.heightPixels / (float)child.getMeasuredHeight());
  addToRecycledViews(child);
  for (int i=0; i < mNumItemsInOneScreenful - 1; i++) {
    addToRecycledViews(mAdapter.createView(mLinearLayout));
  }
}
