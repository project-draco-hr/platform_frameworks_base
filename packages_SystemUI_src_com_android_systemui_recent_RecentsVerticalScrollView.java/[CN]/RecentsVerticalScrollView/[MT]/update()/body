{
  mLinearLayout.removeAllViews();
  for (int i=0; i < mAdapter.getCount(); i++) {
    View old=null;
    if (i < mLinearLayout.getChildCount()) {
      old=mLinearLayout.getChildAt(i);
      old.setVisibility(View.VISIBLE);
    }
    final View view=mAdapter.getView(i,old,mLinearLayout);
    if (mPerformanceHelper != null) {
      mPerformanceHelper.addViewCallback(view);
    }
    if (old == null) {
      view.setOnClickListener(new OnClickListener(){
        public void onClick(        View v){
          mCallback.dismiss();
        }
      }
);
      view.setSoundEffectsEnabled(false);
      OnClickListener launchAppListener=new OnClickListener(){
        public void onClick(        View v){
          mCallback.handleOnClick(view);
        }
      }
;
      OnLongClickListener longClickListener=new OnLongClickListener(){
        public boolean onLongClick(        View v){
          final View anchorView=view.findViewById(R.id.app_description);
          final View thumbnailView=view.findViewById(R.id.app_thumbnail);
          mCallback.handleLongPress(view,anchorView,thumbnailView);
          return true;
        }
      }
;
      final View thumbnail=view.findViewById(R.id.app_thumbnail);
      thumbnail.setClickable(true);
      thumbnail.setOnClickListener(launchAppListener);
      thumbnail.setOnLongClickListener(longClickListener);
      final View appTitle=view.findViewById(R.id.app_label);
      appTitle.setClickable(true);
      appTitle.setOnClickListener(launchAppListener);
      appTitle.setOnLongClickListener(longClickListener);
      final View calloutLine=view.findViewById(R.id.recents_callout_line);
      calloutLine.setClickable(true);
      calloutLine.setOnClickListener(launchAppListener);
      calloutLine.setOnLongClickListener(longClickListener);
      mLinearLayout.addView(view);
    }
  }
  for (int i=mAdapter.getCount(); i < mLinearLayout.getChildCount(); i++) {
    mLinearLayout.getChildAt(i).setVisibility(View.GONE);
  }
  post(new Runnable(){
    public void run(){
      mLastScrollPosition=scrollPositionOfMostRecent();
      scrollTo(0,mLastScrollPosition);
    }
  }
);
}
