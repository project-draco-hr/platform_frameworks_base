{
  if (DEBUG) {
    Slog.d(TAG,"Scheduling task: " + task);
  }
  final int pid=Binder.getCallingPid();
  final int uid=Binder.getCallingUid();
  enforceValidJobRequest(uid,task);
  final boolean canPersist=canPersistJobs(pid,uid);
  long ident=Binder.clearCallingIdentity();
  try {
    return TaskManagerService.this.schedule(task,uid,canPersist);
  }
  finally {
    Binder.restoreCallingIdentity(ident);
  }
}
