{
  final PackageManager pm=getContext().getPackageManager();
  final ComponentName service=job.getService();
  try {
    ServiceInfo si=pm.getServiceInfo(service,0);
    if (si.applicationInfo.uid != uid) {
      throw new IllegalArgumentException("uid " + uid + " cannot schedule job in "+ service.getPackageName());
    }
    if (!TaskService.PERMISSION_BIND.equals(si.permission)) {
      throw new IllegalArgumentException("Scheduled service " + service + " does not require android.permission.BIND_TASK_SERVICE permission");
    }
  }
 catch (  NameNotFoundException e) {
    throw new IllegalArgumentException("No such service: " + service);
  }
}
