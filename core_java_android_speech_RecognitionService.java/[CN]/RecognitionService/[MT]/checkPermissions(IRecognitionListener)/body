{
  if (DBG)   Log.d(TAG,"checkPermissions");
  if (RecognitionService.this.checkCallingOrSelfPermission(android.Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {
    return true;
  }
  try {
    Log.e(TAG,"call for recognition service without RECORD_AUDIO permissions");
    listener.onError(SpeechRecognizer.ERROR_INSUFFICIENT_PERMISSIONS);
  }
 catch (  RemoteException re) {
    Log.e(TAG,"sending ERROR_INSUFFICIENT_PERMISSIONS message failed",re);
  }
  return false;
}
