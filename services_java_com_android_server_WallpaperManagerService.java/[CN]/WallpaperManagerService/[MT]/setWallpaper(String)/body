{
  if (DEBUG)   Log.v(TAG,"setWallpaper");
  checkPermission(android.Manifest.permission.SET_WALLPAPER);
synchronized (mLock) {
    final long ident=Binder.clearCallingIdentity();
    try {
      ParcelFileDescriptor pfd=updateWallpaperBitmapLocked(name);
      if (pfd != null) {
        bindWallpaperComponentLocked(mImageWallpaperComponent);
        saveSettingsLocked();
      }
      return pfd;
    }
  finally {
      Binder.restoreCallingIdentity(ident);
    }
  }
}
