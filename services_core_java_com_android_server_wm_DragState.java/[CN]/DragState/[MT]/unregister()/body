{
  if (DEBUG_DRAG)   Slog.d(TAG_WM,"unregistering drag input channel");
  if (mClientChannel == null) {
    Slog.e(TAG_WM,"Unregister of nonexistent drag input channel");
  }
 else {
    mService.mInputManager.unregisterInputChannel(mServerChannel);
    mInputEventReceiver.dispose();
    mInputEventReceiver=null;
    mClientChannel.dispose();
    mServerChannel.dispose();
    mClientChannel=null;
    mServerChannel=null;
    mDragWindowHandle=null;
    mDragApplicationHandle=null;
    if (DEBUG_ORIENTATION) {
      Slog.d(TAG_WM,"Resuming rotation after drag");
    }
    mService.resumeRotationLocked();
  }
}
