{
  final int rule=in.readInt();
  final int match_rule=rule & ~RULE_EXCLUSION_MASK;
  AudioAttributes attr=null;
  Integer intProp=null;
switch (match_rule) {
case RULE_MATCH_ATTRIBUTE_USAGE:
    int usage=in.readInt();
  attr=new AudioAttributes.Builder().setUsage(usage).build();
break;
case RULE_MATCH_ATTRIBUTE_CAPTURE_PRESET:
int preset=in.readInt();
attr=new AudioAttributes.Builder().setInternalCapturePreset(preset).build();
break;
case RULE_MATCH_UID:
intProp=new Integer(in.readInt());
break;
default :
in.readInt();
throw new IllegalArgumentException("Illegal rule value " + rule + " in parcel");
}
return addRuleInternal(attr,intProp,rule);
}
