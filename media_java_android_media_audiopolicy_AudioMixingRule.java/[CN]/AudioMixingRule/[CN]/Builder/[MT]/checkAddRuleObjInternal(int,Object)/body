{
  if (property == null) {
    throw new IllegalArgumentException("Illegal null Object argument");
  }
  if (!isValidRule(rule)) {
    throw new IllegalArgumentException("Illegal rule value " + rule);
  }
 else {
    if (mTargetMixType == AudioMix.MIX_TYPE_INVALID) {
      if (isPlayerRule(rule)) {
        mTargetMixType=AudioMix.MIX_TYPE_PLAYERS;
      }
 else {
        mTargetMixType=AudioMix.MIX_TYPE_RECORDERS;
      }
    }
 else     if (((mTargetMixType == AudioMix.MIX_TYPE_PLAYERS) && !isPlayerRule(rule)) || ((mTargetMixType == AudioMix.MIX_TYPE_RECORDERS) && isPlayerRule(rule))) {
      throw new IllegalArgumentException("Incompatible rule for mix");
    }
  }
  final int match_rule=rule & ~RULE_EXCLUSION_MASK;
  if (isAudioAttributeRule(match_rule)) {
    if (!(property instanceof AudioAttributes)) {
      throw new IllegalArgumentException("Invalid AudioAttributes argument");
    }
    return addRuleInternal((AudioAttributes)property,null,rule);
  }
 else {
    if (!(property instanceof Integer)) {
      throw new IllegalArgumentException("Invalid Integer argument");
    }
    return addRuleInternal(null,(Integer)property,rule);
  }
}
