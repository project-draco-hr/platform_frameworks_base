{
  if (TextUtils.isEmpty(getEntryId()) && mParams.isEmpty()) {
    return feedUrl;
  }
  if (!TextUtils.isEmpty(getEntryId())) {
    if (!mParams.isEmpty()) {
      throw new IllegalStateException("Cannot set both an entry ID " + "and other query paramters.");
    }
    return feedUrl + '/' + getEntryId();
  }
  StringBuilder sb=new StringBuilder();
  sb.append(feedUrl);
  Set<String> params=mParams.keySet();
  boolean first=true;
  if (feedUrl.contains("?")) {
    first=false;
  }
 else {
    sb.append('?');
  }
  for (  String param : params) {
    String value=mParams.get(param);
    if (value == null)     continue;
    if (first) {
      first=false;
    }
 else {
      sb.append('&');
    }
    sb.append(param);
    sb.append('=');
    String encodedValue=null;
    try {
      encodedValue=URLEncoder.encode(value,"UTF-8");
    }
 catch (    UnsupportedEncodingException uee) {
      Log.w("QueryParamsImpl","UTF-8 not supported -- should not happen.  " + "Using default encoding.",uee);
      encodedValue=URLEncoder.encode(value);
    }
    sb.append(encodedValue);
  }
  return sb.toString();
}
