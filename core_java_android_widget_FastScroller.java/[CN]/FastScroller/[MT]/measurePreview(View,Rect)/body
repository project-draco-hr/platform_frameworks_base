{
  final Rect margins=mTempMargins;
  margins.left=mPreviewImage.getPaddingLeft();
  margins.top=mPreviewImage.getPaddingTop();
  margins.right=mPreviewImage.getPaddingRight();
  margins.bottom=mPreviewImage.getPaddingBottom();
  if (mOverlayPosition == OVERLAY_AT_THUMB) {
    measureViewToSide(v,mThumbImage,margins,out);
  }
 else {
    measureFloating(v,margins,out);
  }
}
