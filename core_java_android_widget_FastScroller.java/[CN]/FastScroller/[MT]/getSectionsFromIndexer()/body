{
  Adapter adapter=mList.getAdapter();
  mSectionIndexer=null;
  if (adapter instanceof HeaderViewListAdapter) {
    mListOffset=((HeaderViewListAdapter)adapter).getHeadersCount();
    adapter=((HeaderViewListAdapter)adapter).getWrappedAdapter();
  }
  if (adapter instanceof ExpandableListConnector) {
    ExpandableListAdapter expAdapter=((ExpandableListConnector)adapter).getAdapter();
    if (expAdapter instanceof SectionIndexer) {
      mSectionIndexer=(SectionIndexer)expAdapter;
      mListAdapter=(BaseAdapter)adapter;
      mSections=mSectionIndexer.getSections();
    }
  }
 else {
    if (adapter instanceof SectionIndexer) {
      mListAdapter=(BaseAdapter)adapter;
      mSectionIndexer=(SectionIndexer)adapter;
      mSections=mSectionIndexer.getSections();
      if (mSections == null) {
        mSections=new String[]{" "};
      }
    }
 else {
      mListAdapter=(BaseAdapter)adapter;
      mSections=new String[]{" "};
    }
  }
}
