{
  final int marginLeft;
  final int marginTop;
  final int marginRight;
  if (margins == null) {
    marginLeft=0;
    marginTop=0;
    marginRight=0;
  }
 else {
    marginLeft=margins.left;
    marginTop=margins.top;
    marginRight=margins.right;
  }
  final View list=mList;
  final int listWidth=list.getWidth();
  final int adjMaxWidth=listWidth - marginLeft - marginRight;
  final int widthMeasureSpec=MeasureSpec.makeMeasureSpec(adjMaxWidth,MeasureSpec.AT_MOST);
  final int heightMeasureSpec=MeasureSpec.makeMeasureSpec(0,MeasureSpec.UNSPECIFIED);
  preview.measure(widthMeasureSpec,heightMeasureSpec);
  final int width=preview.getMeasuredWidth();
  final int top=list.getHeight() / 10 + marginTop;
  final int bottom=top + preview.getMeasuredHeight();
  final int left=(listWidth - width) / 2;
  final int right=left + width;
  out.set(left,top,right,bottom);
}
