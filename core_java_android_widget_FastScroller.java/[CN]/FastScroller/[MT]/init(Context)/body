{
  TypedArray ta=context.getTheme().obtainStyledAttributes(ATTRS);
  useThumbDrawable(context,ta.getDrawable(THUMB_DRAWABLE));
  mTrackDrawable=ta.getDrawable(TRACK_DRAWABLE);
  mOverlayDrawableLeft=ta.getDrawable(PREVIEW_BACKGROUND_LEFT);
  mOverlayDrawableRight=ta.getDrawable(PREVIEW_BACKGROUND_RIGHT);
  mOverlayPosition=ta.getInt(OVERLAY_POSITION,OVERLAY_FLOATING);
  mScrollCompleted=true;
  getSectionsFromIndexer();
  mOverlaySize=context.getResources().getDimensionPixelSize(com.android.internal.R.dimen.fastscroll_overlay_size);
  mOverlayPos=new RectF();
  mScrollFade=new ScrollFade();
  mPaint=new Paint();
  mPaint.setAntiAlias(true);
  mPaint.setTextAlign(Paint.Align.CENTER);
  mPaint.setTextSize(mOverlaySize / 2);
  ColorStateList textColor=ta.getColorStateList(PRIMARY_TEXT_COLOR);
  int textColorNormal=textColor.getDefaultColor();
  mPaint.setColor(textColorNormal);
  mPaint.setStyle(Paint.Style.FILL_AND_STROKE);
  if (mList.getWidth() > 0 && mList.getHeight() > 0) {
    onSizeChanged(mList.getWidth(),mList.getHeight(),0,0);
  }
  mState=STATE_NONE;
  refreshDrawableState();
  ta.recycle();
  setScrollbarPosition(mList.getVerticalScrollbarPosition());
}
