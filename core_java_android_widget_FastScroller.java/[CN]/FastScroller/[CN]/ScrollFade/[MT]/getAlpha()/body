{
  if (getState() != STATE_EXIT) {
    return ALPHA_MAX;
  }
  int alpha;
  long now=SystemClock.uptimeMillis();
  if (now > mStartTime + mFadeDuration) {
    alpha=0;
  }
 else {
    alpha=(int)(ALPHA_MAX - ((now - mStartTime) * ALPHA_MAX) / mFadeDuration);
  }
  return alpha;
}
