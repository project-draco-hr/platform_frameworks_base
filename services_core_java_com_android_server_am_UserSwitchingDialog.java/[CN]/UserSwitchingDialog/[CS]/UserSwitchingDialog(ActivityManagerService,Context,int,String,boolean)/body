{
  super(context);
  mService=service;
  mUserId=userId;
  setCancelable(false);
  Resources res=getContext().getResources();
  View view=LayoutInflater.from(getContext()).inflate(R.layout.user_switching_dialog,null);
  ((TextView)view.findViewById(R.id.message)).setText(res.getString(com.android.internal.R.string.user_switching_message,userName));
  setView(view);
  if (aboveSystem) {
    getWindow().setType(WindowManager.LayoutParams.TYPE_SYSTEM_ERROR);
  }
  WindowManager.LayoutParams attrs=getWindow().getAttributes();
  attrs.privateFlags=WindowManager.LayoutParams.PRIVATE_FLAG_SYSTEM_ERROR | WindowManager.LayoutParams.PRIVATE_FLAG_SHOW_FOR_ALL_USERS;
  getWindow().setAttributes(attrs);
}
