{
  outMetrics.densityDpi=outMetrics.noncompatDensityDpi=logicalDensityDpi;
  outMetrics.noncompatWidthPixels=outMetrics.widthPixels=width;
  outMetrics.noncompatHeightPixels=outMetrics.heightPixels=height;
  outMetrics.density=outMetrics.noncompatDensity=logicalDensityDpi * DisplayMetrics.DENSITY_DEFAULT_SCALE;
  outMetrics.scaledDensity=outMetrics.noncompatScaledDensity=outMetrics.density;
  outMetrics.xdpi=outMetrics.noncompatXdpi=physicalXDpi;
  outMetrics.ydpi=outMetrics.noncompatYdpi=physicalYDpi;
  if (!compatInfo.equals(CompatibilityInfo.DEFAULT_COMPATIBILITY_INFO)) {
    compatInfo.applyToDisplayMetrics(outMetrics);
  }
}
