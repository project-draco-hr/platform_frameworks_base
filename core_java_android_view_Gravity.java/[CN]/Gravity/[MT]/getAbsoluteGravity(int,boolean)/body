{
  int result=gravity;
  if ((result & RELATIVE_HORIZONTAL_DIRECTION) > 0) {
    if ((result & Gravity.START) == Gravity.START) {
      result&=~START;
      if (isRtl) {
        result|=RIGHT;
      }
 else {
        result|=LEFT;
      }
    }
 else     if ((result & Gravity.END) == Gravity.END) {
      result&=~END;
      if (isRtl) {
        result|=LEFT;
      }
 else {
        result|=RIGHT;
      }
    }
    result&=~RELATIVE_HORIZONTAL_DIRECTION;
  }
  return result;
}
