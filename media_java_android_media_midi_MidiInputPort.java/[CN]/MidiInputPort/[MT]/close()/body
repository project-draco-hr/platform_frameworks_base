{
synchronized (mGuard) {
    if (mIsClosed)     return;
    mGuard.close();
synchronized (mBuffer) {
      if (mParcelFileDescriptor != null) {
        mParcelFileDescriptor.close();
        mParcelFileDescriptor=null;
      }
      if (mOutputStream != null) {
        mOutputStream.close();
        mOutputStream=null;
      }
    }
    if (mDeviceServer != null) {
      try {
        mDeviceServer.closePort(mToken);
      }
 catch (      RemoteException e) {
        Log.e(TAG,"RemoteException in MidiInputPort.close()");
      }
    }
    mIsClosed=true;
  }
}
