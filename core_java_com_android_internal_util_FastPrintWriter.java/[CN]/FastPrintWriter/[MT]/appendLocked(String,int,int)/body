{
  if (length > BUFFER_LEN) {
    final int end=i + length;
    while (i < end) {
      int next=i + BUFFER_LEN;
      appendLocked(str,i,next < end ? BUFFER_LEN : (end - i));
      i=next;
    }
    return;
  }
  int pos=mPos;
  if ((pos + length) > BUFFER_LEN) {
    flushLocked();
    pos=mPos;
  }
  str.getChars(i,i + length,mText,pos);
  mPos=pos + length;
}
