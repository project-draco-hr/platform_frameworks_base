{
  final String[] parts=splitFileName(mimeType,displayName);
  final String name=parts[0];
  final String ext=parts[1];
  File file=buildFile(parent,name,ext);
  int n=0;
  while (file.exists()) {
    if (n++ >= 32) {
      throw new FileNotFoundException("Failed to create unique file");
    }
    file=buildFile(parent,name + " (" + n+ ")",ext);
  }
  return file;
}
