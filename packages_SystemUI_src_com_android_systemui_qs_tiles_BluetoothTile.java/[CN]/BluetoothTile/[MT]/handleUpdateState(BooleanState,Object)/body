{
  final boolean supported=mController.isBluetoothSupported();
  final boolean enabled=mController.isBluetoothEnabled();
  final boolean connected=mController.isBluetoothConnected();
  state.visible=supported;
  state.value=enabled;
  final String stateContentDescription;
  if (enabled) {
    if (connected) {
      state.iconId=R.drawable.ic_qs_bluetooth_connected;
      stateContentDescription=mContext.getString(R.string.accessibility_desc_connected);
    }
 else {
      state.iconId=R.drawable.ic_qs_bluetooth_on;
      stateContentDescription=mContext.getString(R.string.accessibility_desc_on);
    }
    state.label=mContext.getString(R.string.quick_settings_bluetooth_label);
  }
 else {
    state.iconId=R.drawable.ic_qs_bluetooth_off;
    state.label=mContext.getString(R.string.quick_settings_bluetooth_off_label);
    stateContentDescription=mContext.getString(R.string.accessibility_desc_off);
  }
  state.contentDescription=mContext.getString(R.string.accessibility_quick_settings_bluetooth,stateContentDescription);
}
