{
  if (mItems == null)   return;
  Item[] items=null;
  final Set<PairedDevice> devices=mController.getPairedDevices();
  if (devices != null) {
    items=new Item[devices.size()];
    int i=0;
    for (    PairedDevice device : devices) {
      final Item item=new Item();
      item.icon=R.drawable.ic_qs_bluetooth_on;
      item.line1=device.name;
      if (device.state == PairedDevice.STATE_CONNECTED) {
        item.icon=R.drawable.ic_qs_bluetooth_connected;
        item.line2=mContext.getString(R.string.quick_settings_connected);
        item.canDisconnect=true;
      }
 else       if (device.state == PairedDevice.STATE_CONNECTING) {
        item.icon=R.drawable.ic_qs_bluetooth_connecting;
        item.line2=mContext.getString(R.string.quick_settings_connecting);
      }
      item.tag=device;
      items[i++]=item;
    }
  }
  mItems.setItems(items);
}
