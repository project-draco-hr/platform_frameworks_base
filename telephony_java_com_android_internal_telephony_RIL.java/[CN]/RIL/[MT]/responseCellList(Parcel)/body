{
  int num, rssi;
  String location;
  ArrayList<NeighboringCellInfo> response;
  NeighboringCellInfo cell;
  num=p.readInt();
  response=new ArrayList<NeighboringCellInfo>();
  String radioString=SystemProperties.get(TelephonyProperties.PROPERTY_DATA_NETWORK_TYPE,"unknown");
  int radioType;
  if (radioString.equals("GPRS")) {
    radioType=NETWORK_TYPE_GPRS;
  }
 else   if (radioString.equals("EDGE")) {
    radioType=NETWORK_TYPE_EDGE;
  }
 else   if (radioString.equals("UMTS")) {
    radioType=NETWORK_TYPE_UMTS;
  }
 else   if (radioString.equals("HSDPA")) {
    radioType=NETWORK_TYPE_HSDPA;
  }
 else   if (radioString.equals("HSUPA")) {
    radioType=NETWORK_TYPE_HSUPA;
  }
 else   if (radioString.equals("HSPA")) {
    radioType=NETWORK_TYPE_HSPA;
  }
 else {
    radioType=NETWORK_TYPE_UNKNOWN;
  }
  if (radioType != NETWORK_TYPE_UNKNOWN) {
    for (int i=0; i < num; i++) {
      rssi=p.readInt();
      location=p.readString();
      cell=new NeighboringCellInfo(rssi,location,radioType);
      response.add(cell);
    }
  }
  return response;
}
