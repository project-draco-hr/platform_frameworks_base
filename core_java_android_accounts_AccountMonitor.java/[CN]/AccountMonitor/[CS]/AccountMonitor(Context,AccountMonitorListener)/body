{
  if (listener == null) {
    throw new IllegalArgumentException("listener is null");
  }
  mContext=context;
  mListener=listener;
  IntentFilter intentFilter=new IntentFilter();
  intentFilter.addAction(Constants.LOGIN_ACCOUNTS_CHANGED_ACTION);
  intentFilter.addAction(Intent.ACTION_DEVICE_STORAGE_OK);
  mContext.registerReceiver(this,intentFilter);
  HandlerThread thread=new HandlerThread("AccountMonitorHandlerThread");
  thread.start();
  mServiceLooper=thread.getLooper();
  mServiceHandler=new NotifierHandler(mServiceLooper);
  mServiceHandler.sendEmptyMessage(0);
}
