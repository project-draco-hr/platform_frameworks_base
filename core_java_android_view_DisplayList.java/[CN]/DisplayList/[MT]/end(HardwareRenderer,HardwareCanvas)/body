{
  if (!(endCanvas instanceof GLES20RecordingCanvas)) {
    throw new IllegalArgumentException("Passed an invalid canvas to end!");
  }
  GLES20RecordingCanvas canvas=(GLES20RecordingCanvas)endCanvas;
  canvas.onPostDraw();
  long displayListData=canvas.finishRecording();
  renderer.swapDisplayListData(mNativeDisplayList,displayListData);
  canvas.recycle();
  mValid=true;
}
