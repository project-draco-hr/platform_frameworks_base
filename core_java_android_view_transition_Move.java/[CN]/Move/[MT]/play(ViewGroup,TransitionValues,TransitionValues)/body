{
  if (startValues == null || endValues == null) {
    return null;
  }
  Map<String,Object> startParentVals=startValues.values;
  Map<String,Object> endParentVals=endValues.values;
  ViewGroup startParent=(ViewGroup)startParentVals.get(PROPNAME_PARENT);
  ViewGroup endParent=(ViewGroup)endParentVals.get(PROPNAME_PARENT);
  if (startParent == null || endParent == null) {
    return null;
  }
  final View view=endValues.view;
  boolean parentsEqual=(startParent == endParent) || (startParent.getId() == endParent.getId());
  if (!mReparent || parentsEqual) {
    Rect startBounds=(Rect)startValues.values.get(PROPNAME_BOUNDS);
    Rect endBounds=(Rect)endValues.values.get(PROPNAME_BOUNDS);
    int startLeft=startBounds.left;
    int endLeft=endBounds.left;
    int startTop=startBounds.top;
    int endTop=endBounds.top;
    int startRight=startBounds.right;
    int endRight=endBounds.right;
    int startBottom=startBounds.bottom;
    int endBottom=endBounds.bottom;
    int startWidth=startRight - startLeft;
    int startHeight=startBottom - startTop;
    int endWidth=endRight - endLeft;
    int endHeight=endBottom - endTop;
    int numChanges=0;
    if (startWidth != 0 && startHeight != 0 && endWidth != 0 && endHeight != 0) {
      if (startLeft != endLeft)       ++numChanges;
      if (startTop != endTop)       ++numChanges;
      if (startRight != endRight)       ++numChanges;
      if (startBottom != endBottom)       ++numChanges;
    }
    if (numChanges > 0) {
      if (!mResizeClip) {
        PropertyValuesHolder pvh[]=new PropertyValuesHolder[numChanges];
        int pvhIndex=0;
        if (startLeft != endLeft)         view.setLeft(startLeft);
        if (startTop != endTop)         view.setTop(startTop);
        if (startRight != endRight)         view.setRight(startRight);
        if (startBottom != endBottom)         view.setBottom(startBottom);
        if (startLeft != endLeft) {
          pvh[pvhIndex++]=PropertyValuesHolder.ofInt("left",startLeft,endLeft);
        }
        if (startTop != endTop) {
          pvh[pvhIndex++]=PropertyValuesHolder.ofInt("top",startTop,endTop);
        }
        if (startRight != endRight) {
          pvh[pvhIndex++]=PropertyValuesHolder.ofInt("right",startRight,endRight);
        }
        if (startBottom != endBottom) {
          pvh[pvhIndex++]=PropertyValuesHolder.ofInt("bottom",startBottom,endBottom);
        }
        ObjectAnimator anim=ObjectAnimator.ofPropertyValuesHolder(view,pvh);
        if (view.getParent() instanceof ViewGroup) {
          final ViewGroup parent=(ViewGroup)view.getParent();
          parent.suppressLayout(true);
          TransitionListener transitionListener=new TransitionListenerAdapter(){
            boolean mCanceled=false;
            @Override public void onTransitionCancel(            Transition transition){
              parent.suppressLayout(false);
              mCanceled=true;
            }
            @Override public void onTransitionEnd(            Transition transition){
              if (!mCanceled) {
                parent.suppressLayout(false);
              }
            }
            @Override public void onTransitionPause(            Transition transition){
              parent.suppressLayout(false);
            }
            @Override public void onTransitionResume(            Transition transition){
              parent.suppressLayout(true);
            }
          }
;
          addListener(transitionListener);
        }
        return anim;
      }
 else {
        if (startWidth != endWidth)         view.setRight(endLeft + Math.max(startWidth,endWidth));
        if (startHeight != endHeight)         view.setBottom(endTop + Math.max(startHeight,endHeight));
        if (startLeft != endLeft)         view.setTranslationX(startLeft - endLeft);
        if (startTop != endTop)         view.setTranslationY(startTop - endTop);
        float transXDelta=endLeft - startLeft;
        float transYDelta=endTop - startTop;
        int widthDelta=endWidth - startWidth;
        int heightDelta=endHeight - startHeight;
        numChanges=0;
        if (transXDelta != 0)         numChanges++;
        if (transYDelta != 0)         numChanges++;
        if (widthDelta != 0 || heightDelta != 0)         numChanges++;
        PropertyValuesHolder pvh[]=new PropertyValuesHolder[numChanges];
        int pvhIndex=0;
        if (transXDelta != 0) {
          pvh[pvhIndex++]=PropertyValuesHolder.ofFloat("translationX",view.getTranslationX(),0);
        }
        if (transYDelta != 0) {
          pvh[pvhIndex++]=PropertyValuesHolder.ofFloat("translationY",view.getTranslationY(),0);
        }
        if (widthDelta != 0 || heightDelta != 0) {
          Rect tempStartBounds=new Rect(0,0,startWidth,startHeight);
          Rect tempEndBounds=new Rect(0,0,endWidth,endHeight);
          pvh[pvhIndex++]=PropertyValuesHolder.ofObject("clipBounds",sRectEvaluator,tempStartBounds,tempEndBounds);
        }
        ObjectAnimator anim=ObjectAnimator.ofPropertyValuesHolder(view,pvh);
        if (view.getParent() instanceof ViewGroup) {
          final ViewGroup parent=(ViewGroup)view.getParent();
          parent.suppressLayout(true);
          TransitionListener transitionListener=new TransitionListenerAdapter(){
            boolean mCanceled=false;
            @Override public void onTransitionCancel(            Transition transition){
              parent.suppressLayout(false);
              mCanceled=true;
            }
            @Override public void onTransitionEnd(            Transition transition){
              if (!mCanceled) {
                parent.suppressLayout(false);
              }
            }
            @Override public void onTransitionPause(            Transition transition){
              parent.suppressLayout(false);
            }
            @Override public void onTransitionResume(            Transition transition){
              parent.suppressLayout(true);
            }
          }
;
          addListener(transitionListener);
        }
        anim.addListener(new AnimatorListenerAdapter(){
          @Override public void onAnimationEnd(          Animator animation){
            view.setClipBounds(null);
          }
        }
);
        return anim;
      }
    }
  }
 else {
    int startX=(Integer)startValues.values.get(PROPNAME_WINDOW_X);
    int startY=(Integer)startValues.values.get(PROPNAME_WINDOW_Y);
    int endX=(Integer)endValues.values.get(PROPNAME_WINDOW_X);
    int endY=(Integer)endValues.values.get(PROPNAME_WINDOW_Y);
    if (startX != endX || startY != endY) {
      sceneRoot.getLocationInWindow(tempLocation);
      Bitmap bitmap=Bitmap.createBitmap(view.getWidth(),view.getHeight(),Bitmap.Config.ARGB_8888);
      Canvas canvas=new Canvas(bitmap);
      view.draw(canvas);
      final BitmapDrawable drawable=new BitmapDrawable(bitmap);
      view.setVisibility(View.INVISIBLE);
      sceneRoot.getOverlay().add(drawable);
      Rect startBounds1=new Rect(startX - tempLocation[0],startY - tempLocation[1],startX - tempLocation[0] + view.getWidth(),startY - tempLocation[1] + view.getHeight());
      Rect endBounds1=new Rect(endX - tempLocation[0],endY - tempLocation[1],endX - tempLocation[0] + view.getWidth(),endY - tempLocation[1] + view.getHeight());
      ObjectAnimator anim=ObjectAnimator.ofObject(drawable,"bounds",sRectEvaluator,startBounds1,endBounds1);
      anim.addListener(new AnimatorListenerAdapter(){
        @Override public void onAnimationEnd(        Animator animation){
          sceneRoot.getOverlay().remove(drawable);
          view.setVisibility(View.VISIBLE);
        }
      }
);
      return anim;
    }
  }
  return null;
}
