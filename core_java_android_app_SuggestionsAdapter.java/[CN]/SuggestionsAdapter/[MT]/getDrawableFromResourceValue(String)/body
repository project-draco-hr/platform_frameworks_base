{
  if (drawableId == null || drawableId.length() == 0 || "0".equals(drawableId)) {
    return null;
  }
  Drawable.ConstantState cached=mOutsideDrawablesCache.get(drawableId);
  if (cached != null) {
    if (DBG)     Log.d(LOG_TAG,"Found icon in cache: " + drawableId);
    return cached.newDrawable(mProviderContext.getResources());
  }
  Drawable drawable=null;
  try {
    int resourceId=Integer.parseInt(drawableId);
    drawable=mProviderContext.getResources().getDrawable(resourceId);
  }
 catch (  NumberFormatException nfe) {
    try {
      Uri uri=Uri.parse(drawableId);
      String scheme=uri.getScheme();
      if (ContentResolver.SCHEME_ANDROID_RESOURCE.equals(scheme)) {
        OpenResourceIdResult r=mProviderContext.getContentResolver().getResourceId(uri);
        try {
          drawable=r.r.getDrawable(r.id);
        }
 catch (        Resources.NotFoundException ex) {
          throw new FileNotFoundException("Resource does not exist: " + uri);
        }
      }
 else {
        InputStream stream=mProviderContext.getContentResolver().openInputStream(uri);
        if (stream == null) {
          throw new FileNotFoundException("Failed to open " + uri);
        }
        try {
          drawable=Drawable.createFromStream(stream,null);
        }
  finally {
          try {
            stream.close();
          }
 catch (          IOException ex) {
            Log.e(LOG_TAG,"Error closing icon stream for " + uri,ex);
          }
        }
      }
    }
 catch (    FileNotFoundException fnfe) {
      Log.w(LOG_TAG,"Icon not found: " + drawableId + ", "+ fnfe.getMessage());
    }
  }
catch (  Resources.NotFoundException nfe) {
    Log.w(LOG_TAG,"Icon resource not found: " + drawableId);
  }
  if (drawable == null) {
    if (DBG)     Log.d(LOG_TAG,"Didn't find icon: " + drawableId);
  }
 else {
    if (DBG) {
      Log.d(LOG_TAG,"Found icon: " + drawableId);
    }
    mOutsideDrawablesCache.put(drawableId,drawable.getConstantState());
  }
  return drawable;
}
