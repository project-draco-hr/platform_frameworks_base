{
  Resources resources1=mResourcesManager.getResources(null,APP_ONE_RES_DIR,null,null,null,Display.DEFAULT_DISPLAY,null,CompatibilityInfo.DEFAULT_COMPATIBILITY_INFO,null);
  assertNotNull(resources1);
  Resources resources2=mResourcesManager.getResources(null,APP_TWO_RES_DIR,null,null,null,Display.DEFAULT_DISPLAY,null,CompatibilityInfo.DEFAULT_COMPATIBILITY_INFO,null);
  assertNotNull(resources2);
  Binder activity=new Binder();
  final Configuration overrideConfig=new Configuration();
  overrideConfig.orientation=Configuration.ORIENTATION_LANDSCAPE;
  Resources resources3=mResourcesManager.getResources(activity,APP_ONE_RES_DIR,null,null,null,Display.DEFAULT_DISPLAY,overrideConfig,CompatibilityInfo.DEFAULT_COMPATIBILITY_INFO,null);
  assertNotNull(resources3);
  assertNotSame(resources1,resources2);
  assertNotSame(resources1,resources3);
  assertNotSame(resources2,resources3);
  assertNotSame(resources1.getImpl(),resources2.getImpl());
  assertNotSame(resources1.getImpl(),resources3.getImpl());
  assertNotSame(resources2.getImpl(),resources3.getImpl());
  Configuration newConfig=new Configuration();
  newConfig.orientation=Configuration.ORIENTATION_LANDSCAPE;
  mResourcesManager.applyConfigurationToResourcesLocked(newConfig,null);
  final Configuration expectedConfig=new Configuration();
  expectedConfig.setLocales(LocaleList.getAdjustedDefault());
  expectedConfig.densityDpi=mDisplayMetrics.densityDpi;
  expectedConfig.orientation=Configuration.ORIENTATION_LANDSCAPE;
  assertEquals(expectedConfig,resources1.getConfiguration());
  assertEquals(expectedConfig,resources2.getConfiguration());
  assertEquals(expectedConfig,resources3.getConfiguration());
}
