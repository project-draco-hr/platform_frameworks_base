{
switch (type) {
case SURFACE_TYPE_HARDWARE:
case SURFACE_TYPE_GPU:
    type=SURFACE_TYPE_NORMAL;
  break;
}
switch (type) {
case SURFACE_TYPE_NORMAL:
case SURFACE_TYPE_PUSH_BUFFERS:
if (mRequestedType != type) {
  mRequestedType=type;
  onUpdateSurface();
}
break;
}
}
