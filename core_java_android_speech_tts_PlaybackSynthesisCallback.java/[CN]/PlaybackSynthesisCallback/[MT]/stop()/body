{
  if (DBG)   Log.d(TAG,"stop()");
  mLogger.onStopped();
synchronized (mStateLock) {
    if (mStopped) {
      Log.w(TAG,"stop() called twice");
      return;
    }
    if (mToken != null) {
      mAudioTrackHandler.stop(mToken);
      mToken=null;
    }
 else {
      mLogger.onWriteData();
    }
    mStopped=true;
  }
}
