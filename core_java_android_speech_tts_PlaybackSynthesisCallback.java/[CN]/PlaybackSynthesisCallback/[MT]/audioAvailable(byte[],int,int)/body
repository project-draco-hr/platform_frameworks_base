{
  if (DBG) {
    Log.d(TAG,"audioAvailable(byte[" + buffer.length + "],"+ offset+ ","+ length+ ")");
  }
  if (length > getMaxBufferSize() || length <= 0) {
    throw new IllegalArgumentException("buffer is too large or of zero length (" + +length + " bytes)");
  }
synchronized (mStateLock) {
    if (mToken == null || mStopped) {
      return TextToSpeech.ERROR;
    }
    final byte[] bufferCopy=new byte[length];
    System.arraycopy(buffer,offset,bufferCopy,0,length);
    mToken.addBuffer(bufferCopy);
    mAudioTrackHandler.enqueueSynthesisDataAvailable(mToken);
  }
  mLogger.onEngineDataReceived();
  return TextToSpeech.SUCCESS;
}
