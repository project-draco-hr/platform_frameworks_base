{
  Resources res=mContext.getResources();
  TaskStack stack=new TaskStack();
  mDummyStackView=new TaskStackView(mContext,stack);
  TaskStackViewLayoutAlgorithm algo=mDummyStackView.getStackAlgorithm();
  Rect taskStackBounds=new Rect(mTaskStackBounds);
  taskStackBounds.bottom-=mSystemInsets.bottom;
  algo.computeRects(mWindowRect.width(),mWindowRect.height(),taskStackBounds);
  Rect taskViewSize=algo.getUntransformedTaskViewSize();
  int taskBarHeight=res.getDimensionPixelSize(R.dimen.recents_task_bar_height);
  LayoutInflater inflater=LayoutInflater.from(mContext);
  mHeaderBar=(TaskViewHeader)inflater.inflate(R.layout.recents_task_view_header,null,false);
  mHeaderBar.measure(View.MeasureSpec.makeMeasureSpec(taskViewSize.width(),View.MeasureSpec.EXACTLY),View.MeasureSpec.makeMeasureSpec(taskBarHeight,View.MeasureSpec.EXACTLY));
  mHeaderBar.layout(0,0,taskViewSize.width(),taskBarHeight);
}
