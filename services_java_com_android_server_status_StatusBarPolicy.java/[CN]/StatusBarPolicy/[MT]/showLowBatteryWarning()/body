{
  closeLastBatteryView();
  CharSequence levelText=mContext.getString(com.android.internal.R.string.battery_low_percent_format,mBatteryLevel + 1);
  if (mBatteryLevelTextView != null) {
    mBatteryLevelTextView.setText(levelText);
  }
 else {
    View v=View.inflate(mContext,com.android.internal.R.layout.battery_low,null);
    mBatteryLevelTextView=(TextView)v.findViewById(com.android.internal.R.id.level_percent);
    mBatteryLevelTextView.setText(levelText);
    AlertDialog.Builder b=new AlertDialog.Builder(mContext);
    b.setCancelable(true);
    b.setTitle(com.android.internal.R.string.battery_low_title);
    b.setView(v);
    b.setIcon(android.R.drawable.ic_dialog_alert);
    b.setPositiveButton(android.R.string.ok,null);
    AlertDialog d=b.create();
    d.setOnDismissListener(mLowBatteryListener);
    d.getWindow().setType(WindowManager.LayoutParams.TYPE_SYSTEM_ALERT);
    d.show();
    mLowBatteryDialog=d;
  }
}
