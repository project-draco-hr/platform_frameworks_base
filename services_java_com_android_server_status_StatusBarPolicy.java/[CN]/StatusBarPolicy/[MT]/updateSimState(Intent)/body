{
  String stateExtra=intent.getStringExtra(SimCard.INTENT_KEY_SIM_STATE);
  if (SimCard.INTENT_VALUE_SIM_ABSENT.equals(stateExtra)) {
    mSimState=SimCard.State.ABSENT;
  }
 else   if (SimCard.INTENT_VALUE_SIM_READY.equals(stateExtra)) {
    mSimState=SimCard.State.READY;
  }
 else   if (SimCard.INTENT_VALUE_SIM_LOCKED.equals(stateExtra)) {
    final String lockedReason=intent.getStringExtra(SimCard.INTENT_KEY_LOCKED_REASON);
    if (SimCard.INTENT_VALUE_LOCKED_ON_PIN.equals(lockedReason)) {
      mSimState=SimCard.State.PIN_REQUIRED;
    }
 else     if (SimCard.INTENT_VALUE_LOCKED_ON_PUK.equals(lockedReason)) {
      mSimState=SimCard.State.PUK_REQUIRED;
    }
 else {
      mSimState=SimCard.State.NETWORK_LOCKED;
    }
  }
 else {
    mSimState=SimCard.State.UNKNOWN;
  }
  updateDataIcon();
}
