{
  if (!hasService()) {
    mService.setIconVisibility(mCdmaRoamingIndicatorIcon,false);
    return;
  }
  if (!isCdma()) {
    mService.setIconVisibility(mCdmaRoamingIndicatorIcon,false);
    return;
  }
  int[] iconList=sRoamingIndicatorImages_cdma;
  int iconIndex=state.getCdmaEriIconIndex();
  int iconMode=state.getCdmaEriIconMode();
  if (iconIndex == -1) {
    Slog.e(TAG,"getCdmaEriIconIndex returned null, skipping ERI icon update");
    return;
  }
  if (iconMode == -1) {
    Slog.e(TAG,"getCdmeEriIconMode returned null, skipping ERI icon update");
    return;
  }
  if (iconIndex == EriInfo.ROAMING_INDICATOR_OFF) {
    if (false)     Slog.v(TAG,"Cdma ROAMING_INDICATOR_OFF, removing ERI icon");
    mService.setIconVisibility(mCdmaRoamingIndicatorIcon,false);
    return;
  }
switch (iconMode) {
case EriInfo.ROAMING_ICON_MODE_NORMAL:
    mCdmaRoamingIndicatorIconData.iconId=iconList[iconIndex];
  mService.updateIcon(mCdmaRoamingIndicatorIcon,mCdmaRoamingIndicatorIconData,null);
mService.setIconVisibility(mCdmaRoamingIndicatorIcon,true);
break;
case EriInfo.ROAMING_ICON_MODE_FLASH:
mCdmaRoamingIndicatorIconData.iconId=com.android.internal.R.drawable.stat_sys_roaming_cdma_flash;
mService.updateIcon(mCdmaRoamingIndicatorIcon,mCdmaRoamingIndicatorIconData,null);
mService.setIconVisibility(mCdmaRoamingIndicatorIcon,true);
break;
}
mService.updateIcon(mPhoneIcon,mPhoneData,null);
}
