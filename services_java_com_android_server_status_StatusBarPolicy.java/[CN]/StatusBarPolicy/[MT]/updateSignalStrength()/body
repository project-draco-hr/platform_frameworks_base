{
  int asu=mSignalAsu;
  ServiceState ss=mServiceState;
  boolean hasService=true;
  if (ss != null) {
    int state=ss.getState();
switch (state) {
case ServiceState.STATE_OUT_OF_SERVICE:
case ServiceState.STATE_POWER_OFF:
      hasService=false;
    break;
}
}
 else {
hasService=false;
}
if (!hasService) {
if (Settings.System.getInt(mContext.getContentResolver(),Settings.System.AIRPLANE_MODE_ON,0) == 1) {
  mPhoneData.iconId=com.android.internal.R.drawable.stat_sys_signal_flightmode;
}
 else {
  mPhoneData.iconId=com.android.internal.R.drawable.stat_sys_signal_null;
}
mService.updateIcon(mPhoneIcon,mPhoneData,null);
return;
}
if (asu <= 0 || asu == 99) asu=0;
 else if (asu >= 16) asu=4;
 else if (asu >= 8) asu=3;
 else if (asu >= 4) asu=2;
 else asu=1;
int[] iconList;
if (mPhone.getPhoneType() == TelephonyManager.PHONE_TYPE_CDMA) {
switch (ss.getExtendedCdmaRoaming()) {
case ServiceState.REGISTRATION_STATE_ROAMING:
  iconList=this.sSignalImages_r_cdma;
break;
case ServiceState.REGISTRATION_STATE_ROAMING_AFFILIATE:
iconList=this.sSignalImages_ra_cdma;
break;
default :
iconList=this.sSignalImages_cdma;
break;
}
}
 else if (mPhone.isNetworkRoaming()) {
iconList=sSignalImages_r;
}
 else {
iconList=sSignalImages;
}
mPhoneData.iconId=iconList[asu];
mService.updateIcon(mPhoneIcon,mPhoneData,null);
}
