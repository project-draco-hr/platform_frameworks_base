{
  int iconLevel=-1;
  int evdoIconLevel=-1;
  int[] iconList;
  int[] evdoIconList;
  if (!hasService()) {
    if (Settings.System.getInt(mContext.getContentResolver(),Settings.System.AIRPLANE_MODE_ON,0) == 1) {
      mPhoneData.iconId=com.android.internal.R.drawable.stat_sys_signal_flightmode;
    }
 else {
      mPhoneData.iconId=com.android.internal.R.drawable.stat_sys_signal_null;
    }
    mService.updateIcon(mPhoneIcon,mPhoneData,null);
    mService.setIconVisibility(mPhoneEvdoIcon,false);
    return;
  }
  if (!isCdma()) {
    int asu=mSignalStrength.getGsmSignalStrength();
    if (asu <= 0 || asu == 99)     iconLevel=0;
 else     if (asu >= 16)     iconLevel=4;
 else     if (asu >= 8)     iconLevel=3;
 else     if (asu >= 4)     iconLevel=2;
 else     iconLevel=1;
    if (mPhone.isNetworkRoaming()) {
      iconList=sSignalImages_r;
    }
 else {
      iconList=sSignalImages;
    }
  }
 else {
    iconList=this.sSignalImages_cdma;
    int cdmaDbm=mSignalStrength.getCdmaDbm();
    int cdmaEcio=mSignalStrength.getCdmaEcio();
    int levelDbm=0;
    int levelEcio=0;
    if (cdmaDbm >= -75)     levelDbm=4;
 else     if (cdmaDbm >= -85)     levelDbm=3;
 else     if (cdmaDbm >= -95)     levelDbm=2;
 else     if (cdmaDbm >= -100)     levelDbm=1;
 else     levelDbm=0;
    if (cdmaEcio >= -90)     levelEcio=4;
 else     if (cdmaEcio >= -110)     levelEcio=3;
 else     if (cdmaEcio >= -130)     levelEcio=2;
 else     if (cdmaEcio >= -150)     levelEcio=1;
 else     levelEcio=0;
    iconLevel=(levelDbm < levelEcio) ? levelDbm : levelEcio;
  }
  if ((mServiceState.getRadioTechnology() == ServiceState.RADIO_TECHNOLOGY_EVDO_0) || (mServiceState.getRadioTechnology() == ServiceState.RADIO_TECHNOLOGY_EVDO_A)) {
    evdoIconList=this.sSignalImages_evdo;
    int evdoEcio=mSignalStrength.getEvdoEcio();
    int evdoSnr=mSignalStrength.getEvdoSnr();
    int levelEvdoEcio=0;
    int levelEvdoSnr=0;
    if (evdoEcio >= -650)     levelEvdoEcio=4;
 else     if (evdoEcio >= -750)     levelEvdoEcio=3;
 else     if (evdoEcio >= -900)     levelEvdoEcio=2;
 else     if (evdoEcio >= -1050)     levelEvdoEcio=1;
 else     levelEvdoEcio=0;
    if (evdoSnr > 7)     levelEvdoSnr=4;
 else     if (evdoSnr > 5)     levelEvdoSnr=3;
 else     if (evdoSnr > 3)     levelEvdoSnr=2;
 else     if (evdoSnr > 1)     levelEvdoSnr=1;
 else     levelEvdoSnr=0;
    evdoIconLevel=(levelEvdoEcio < levelEvdoSnr) ? levelEvdoEcio : levelEvdoSnr;
    mPhoneEvdoData.iconId=evdoIconList[evdoIconLevel];
    mService.updateIcon(mPhoneEvdoIcon,mPhoneEvdoData,null);
    mService.setIconVisibility(mPhoneEvdoIcon,true);
  }
 else {
    mService.setIconVisibility(mPhoneEvdoIcon,false);
  }
  mPhoneData.iconId=iconList[iconLevel];
  mService.updateIcon(mPhoneIcon,mPhoneData,null);
}
