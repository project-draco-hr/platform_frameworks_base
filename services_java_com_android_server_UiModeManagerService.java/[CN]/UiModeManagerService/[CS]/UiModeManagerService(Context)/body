{
  mContext=context;
  ServiceManager.addService(Context.UI_MODE_SERVICE,this);
  mAlarmManager=(AlarmManager)mContext.getSystemService(Context.ALARM_SERVICE);
  mLocationManager=(LocationManager)mContext.getSystemService(Context.LOCATION_SERVICE);
  mContext.registerReceiver(mTwilightUpdateReceiver,new IntentFilter(ACTION_UPDATE_NIGHT_MODE));
  mContext.registerReceiver(mDockModeReceiver,new IntentFilter(Intent.ACTION_DOCK_EVENT));
  mConfiguration.setToDefaults();
}
