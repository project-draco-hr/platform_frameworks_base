{
synchronized (mLock) {
switch (mode) {
case UiModeManager.MODE_NIGHT_NO:
case UiModeManager.MODE_NIGHT_YES:
case UiModeManager.MODE_NIGHT_AUTO:
      break;
default :
    throw new IllegalArgumentException("Unknown mode: " + mode);
}
if (!isDoingNightMode()) {
  return;
}
if (mNightMode != mode) {
  mNightMode=mode;
  updateLocked();
}
}
}
