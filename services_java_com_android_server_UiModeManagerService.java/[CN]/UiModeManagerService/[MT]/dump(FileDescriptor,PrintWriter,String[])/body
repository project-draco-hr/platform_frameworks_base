{
  if (mContext.checkCallingOrSelfPermission(android.Manifest.permission.DUMP) != PackageManager.PERMISSION_GRANTED) {
    pw.println("Permission Denial: can't dump uimode service from from pid=" + Binder.getCallingPid() + ", uid="+ Binder.getCallingUid());
    return;
  }
synchronized (mLock) {
    pw.println("Current UI Mode Service state:");
    pw.print("  mDockState=");
    pw.print(mDockState);
    pw.print(" mLastBroadcastState=");
    pw.println(mLastBroadcastState);
    pw.print("  mNightMode=");
    pw.print(mNightMode);
    pw.print(" mCarModeEnabled=");
    pw.print(mCarModeEnabled);
    pw.print(" mComputedNightMode=");
    pw.println(mComputedNightMode);
    pw.print("  mCurUiMode=0x");
    pw.print(Integer.toHexString(mCurUiMode));
    pw.print(" mSetUiMode=0x");
    pw.println(Integer.toHexString(mSetUiMode));
    pw.print("  mHoldingConfiguration=");
    pw.print(mHoldingConfiguration);
    pw.print(" mSystemReady=");
    pw.println(mSystemReady);
    pw.print("  mTwilightService.getCurrentState()=");
    pw.println(mTwilightService.getCurrentState());
  }
}
