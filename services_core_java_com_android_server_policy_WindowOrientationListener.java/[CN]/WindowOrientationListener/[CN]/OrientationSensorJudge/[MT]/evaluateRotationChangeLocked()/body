{
  unscheduleRotationEvaluationLocked();
  if (mDesiredRotation == mProposedRotation) {
    return;
  }
  final long now=SystemClock.elapsedRealtimeNanos();
  if (isDesiredRotationAcceptableLocked(now)) {
    mProposedRotation=mDesiredRotation;
    onProposedRotationChanged(mProposedRotation);
  }
 else {
    scheduleRotationEvaluationIfNecessaryLocked(now);
  }
}
