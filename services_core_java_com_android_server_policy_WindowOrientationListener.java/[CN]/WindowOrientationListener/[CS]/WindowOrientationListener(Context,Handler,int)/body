{
  mHandler=handler;
  mSensorManager=(SensorManager)context.getSystemService(Context.SENSOR_SERVICE);
  mRate=rate;
  mSensor=mSensorManager.getDefaultSensor(Sensor.TYPE_DEVICE_ORIENTATION);
  if (mSensor != null) {
    mOrientationJudge=new OrientationSensorJudge();
  }
  if (mOrientationJudge == null) {
    mSensor=mSensorManager.getDefaultSensor(USE_GRAVITY_SENSOR ? Sensor.TYPE_GRAVITY : Sensor.TYPE_ACCELEROMETER);
    if (mSensor != null) {
      mOrientationJudge=new AccelSensorJudge(context);
    }
  }
}
