{
  int enabled=Settings.Global.getInt(context.getContentResolver(),Settings.Global.SEND_ACTION_APP_ERROR,0);
  if (enabled == 0) {
    return null;
  }
  PackageManager pm=context.getPackageManager();
  String candidate=null;
  ComponentName result=null;
  try {
    candidate=pm.getInstallerPackageName(packageName);
  }
 catch (  IllegalArgumentException e) {
  }
  if (candidate != null) {
    result=getErrorReportReceiver(pm,packageName,candidate);
    if (result != null) {
      return result;
    }
  }
  if ((appFlags & ApplicationInfo.FLAG_SYSTEM) != 0) {
    candidate=SystemProperties.get(SYSTEM_APPS_ERROR_RECEIVER_PROPERTY);
    result=getErrorReportReceiver(pm,packageName,candidate);
    if (result != null) {
      return result;
    }
  }
  candidate=SystemProperties.get(DEFAULT_ERROR_RECEIVER_PROPERTY);
  return getErrorReportReceiver(pm,packageName,candidate);
}
