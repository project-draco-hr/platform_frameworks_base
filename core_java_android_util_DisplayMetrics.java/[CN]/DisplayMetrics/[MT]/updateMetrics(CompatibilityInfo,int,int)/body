{
  if (!compatibilityInfo.isConfiguredExpandable()) {
    if (screenLayout == Configuration.SCREENLAYOUT_LARGE) {
      compatibilityInfo.setExpandable(false);
      int defaultWidth;
      int defaultHeight;
switch (orientation) {
case Configuration.ORIENTATION_LANDSCAPE:
{
          defaultWidth=(int)(CompatibilityInfo.DEFAULT_PORTRAIT_HEIGHT * density + 0.5f);
          defaultHeight=(int)(CompatibilityInfo.DEFAULT_PORTRAIT_WIDTH * density + 0.5f);
          break;
        }
case Configuration.ORIENTATION_PORTRAIT:
case Configuration.ORIENTATION_SQUARE:
default :
{
        defaultWidth=(int)(CompatibilityInfo.DEFAULT_PORTRAIT_WIDTH * density + 0.5f);
        defaultHeight=(int)(CompatibilityInfo.DEFAULT_PORTRAIT_HEIGHT * density + 0.5f);
        break;
      }
case Configuration.ORIENTATION_UNDEFINED:
{
      return;
    }
}
if (defaultWidth < widthPixels) {
  widthPixels=defaultWidth;
}
if (defaultHeight < heightPixels) {
  heightPixels=defaultHeight;
}
}
 else {
compatibilityInfo.setExpandable(true);
}
}
if (compatibilityInfo.isScalingRequired()) {
float invertedRatio=compatibilityInfo.applicationInvertedScale;
density*=invertedRatio;
scaledDensity*=invertedRatio;
xdpi*=invertedRatio;
ydpi*=invertedRatio;
widthPixels=(int)(widthPixels * invertedRatio + 0.5f);
heightPixels=(int)(heightPixels * invertedRatio + 0.5f);
}
}
