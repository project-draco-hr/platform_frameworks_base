{
  if (c == null || !c.moveToFirst())   return;
  final String displayName=c.getString(ContactQuery.DISPLAY_NAME);
  final long contactId=c.getLong(ContactQuery._ID);
  final String lookupKey=c.getString(ContactQuery.LOOKUP_KEY);
  final String phoneticName=null;
  this.setDisplayName(displayName,null);
  final boolean starred=c.getInt(ContactQuery.STARRED) != 0;
  mStarredView.setChecked(starred);
  Bitmap photoBitmap=loadContactPhoto(c.getLong(ContactQuery.PHOTO_ID),null);
  if (photoBitmap == null) {
    photoBitmap=loadPlaceholderPhoto(null);
  }
  mPhotoView.setImageBitmap(photoBitmap);
  mPhotoView.assignContactUri(Contacts.getLookupUri(contactId,lookupKey));
  if (!c.isNull(ContactQuery.CONTACT_PRESENCE_STATUS)) {
    int presence=c.getInt(ContactQuery.CONTACT_PRESENCE_STATUS);
    mPresenceView.setImageResource(Presence.getPresenceIconResourceId(presence));
    mPresenceView.setVisibility(View.VISIBLE);
  }
 else {
    mPresenceView.setVisibility(View.GONE);
  }
  String status=c.getString(ContactQuery.CONTACT_STATUS);
  if (!TextUtils.isEmpty(status)) {
    mStatusView.setText(status);
    mStatusView.setVisibility(View.VISIBLE);
    if (!c.isNull(ContactQuery.CONTACT_STATUS_TIMESTAMP)) {
      long date=c.getLong(ContactQuery.CONTACT_STATUS_TIMESTAMP);
      int flags=DateUtils.FORMAT_ABBREV_RELATIVE;
      mStatusDateView.setText(DateUtils.getRelativeTimeSpanString(date,System.currentTimeMillis(),DateUtils.MINUTE_IN_MILLIS,flags));
      mStatusDateView.setVisibility(View.VISIBLE);
    }
 else {
      mStatusDateView.setVisibility(View.GONE);
    }
  }
 else {
    mStatusView.setVisibility(View.GONE);
    mStatusDateView.setVisibility(View.GONE);
  }
}
