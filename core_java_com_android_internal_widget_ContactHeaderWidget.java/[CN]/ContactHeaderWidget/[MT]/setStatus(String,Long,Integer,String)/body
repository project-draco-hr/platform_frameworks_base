{
  if (TextUtils.isEmpty(status)) {
    setSocialSnippet(null);
    return;
  }
  setSocialSnippet(status);
  final CharSequence timestampDisplayValue;
  if (statusTimestamp != null) {
    int flags=DateUtils.FORMAT_ABBREV_RELATIVE;
    timestampDisplayValue=DateUtils.getRelativeTimeSpanString(statusTimestamp.longValue(),System.currentTimeMillis(),DateUtils.MINUTE_IN_MILLIS,flags);
  }
 else {
    timestampDisplayValue=null;
  }
  String labelDisplayValue=null;
  if (statusLabel != null) {
    Resources resources;
    if (TextUtils.isEmpty(statusResPackage)) {
      resources=getResources();
    }
 else {
      PackageManager pm=getContext().getPackageManager();
      try {
        resources=pm.getResourcesForApplication(statusResPackage);
      }
 catch (      NameNotFoundException e) {
        Log.w(TAG,"Contact status update resource package not found: " + statusResPackage);
        resources=null;
      }
    }
    if (resources != null) {
      try {
        labelDisplayValue=resources.getString(statusLabel.intValue());
      }
 catch (      NotFoundException e) {
        Log.w(TAG,"Contact status update resource not found: " + statusResPackage + "@"+ statusLabel.intValue());
      }
    }
  }
  final CharSequence attribution;
  if (timestampDisplayValue != null && labelDisplayValue != null) {
    attribution=getContext().getString(R.string.contact_status_update_attribution_with_date,timestampDisplayValue,labelDisplayValue);
  }
 else   if (timestampDisplayValue == null && labelDisplayValue != null) {
    attribution=getContext().getString(R.string.contact_status_update_attribution,labelDisplayValue);
  }
 else   if (timestampDisplayValue != null) {
    attribution=timestampDisplayValue;
  }
 else {
    attribution=null;
  }
  setStatusAttribution(attribution);
}
