{
  try {
switch (token) {
case TOKEN_CONTACT_INFO:
{
        bindContactInfo(cursor);
        invalidate();
        break;
      }
case TOKEN_PHONE_LOOKUP:
{
      if (cursor != null && cursor.moveToFirst()) {
        long contactId=cursor.getLong(PHONE_LOOKUP_CONTACT_ID_COLUMN_INDEX);
        String lookupKey=cursor.getString(PHONE_LOOKUP_CONTACT_LOOKUP_KEY_COLUMN_INDEX);
        bindFromContactUri(Contacts.getLookupUri(contactId,lookupKey));
      }
 else {
        String phoneNumber=(String)cookie;
        setDisplayName(phoneNumber,null);
        mPhotoView.assignContactFromPhone(phoneNumber,true);
      }
      break;
    }
case TOKEN_EMAIL_LOOKUP:
{
    if (cursor != null && cursor.moveToFirst()) {
      long contactId=cursor.getLong(EMAIL_LOOKUP_CONTACT_ID_COLUMN_INDEX);
      String lookupKey=cursor.getString(EMAIL_LOOKUP_CONTACT_LOOKUP_KEY_COLUMN_INDEX);
      bindFromContactUri(Contacts.getLookupUri(contactId,lookupKey));
    }
 else {
      String emailAddress=(String)cookie;
      setDisplayName(emailAddress,null);
      mPhotoView.assignContactFromEmail(emailAddress,true);
    }
    break;
  }
}
}
  finally {
if (cursor != null) {
cursor.close();
}
}
}
