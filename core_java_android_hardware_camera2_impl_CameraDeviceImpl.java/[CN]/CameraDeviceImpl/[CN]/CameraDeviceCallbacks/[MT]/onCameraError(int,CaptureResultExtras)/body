{
  Runnable r=null;
  if (isClosed())   return;
synchronized (mLock) {
    mInError=true;
switch (errorCode) {
case ERROR_CAMERA_DISCONNECTED:
      r=mCallOnDisconnected;
    break;
default :
  Log.e(TAG,"Unknown error from camera device: " + errorCode);
case ERROR_CAMERA_DEVICE:
case ERROR_CAMERA_SERVICE:
r=new Runnable(){
  @Override public void run(){
    if (!CameraDeviceImpl.this.isClosed()) {
      mDeviceListener.onError(CameraDeviceImpl.this,errorCode);
    }
  }
}
;
break;
}
CameraDeviceImpl.this.mDeviceHandler.post(r);
}
if (DEBUG) {
Log.v(TAG,String.format("got error frame %d",resultExtras.getFrameNumber()));
}
mFrameNumberTracker.updateTracker(resultExtras.getFrameNumber(),true);
checkAndFireSequenceComplete();
}
