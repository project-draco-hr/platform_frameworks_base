{
  if (inputConfig != null) {
    StreamConfigurationMap configMap=mCharacteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);
    int[] inputFormats=configMap.getInputFormats();
    boolean validFormat=false;
    for (    int format : inputFormats) {
      if (format == inputConfig.getFormat()) {
        validFormat=true;
      }
    }
    if (validFormat == false) {
      throw new IllegalArgumentException("input format " + inputConfig.getFormat() + " is not valid");
    }
    boolean validSize=false;
    Size[] inputSizes=configMap.getInputSizes(inputConfig.getFormat());
    for (    Size s : inputSizes) {
      if (inputConfig.getWidth() == s.getWidth() && inputConfig.getHeight() == s.getHeight()) {
        validSize=true;
      }
    }
    if (validSize == false) {
      throw new IllegalArgumentException("input size " + inputConfig.getWidth() + "x"+ inputConfig.getHeight()+ " is not valid");
    }
  }
}
