{
  super.onResume();
  Intent intent=getIntent();
  Log.d(TAG,"intent: " + intent);
  UsbManager manager=UsbManager.getInstance();
  UsbAccessory[] accessories=manager.getAccessoryList();
  UsbAccessory accessory=(accessories == null ? null : accessories[0]);
  if (accessory != null) {
    mFileDescriptor=manager.openAccessory(accessory);
    if (mFileDescriptor != null) {
      FileDescriptor fd=mFileDescriptor.getFileDescriptor();
      mInputStream=new FileInputStream(fd);
      mOutputStream=new FileOutputStream(fd);
      Thread thread=new Thread(null,this,"AccessoryChat");
      thread.start();
    }
 else {
      Log.d(TAG,"openAccessory fail");
    }
  }
 else {
    Log.d(TAG,"mAccessory is null");
  }
}
