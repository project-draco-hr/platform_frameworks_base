{
  LinkedList<diff_match_patch.Diff> newDiffs=new LinkedList<diff_match_patch.Diff>();
  String[] parts;
  int lengthMinusOne;
  for (  diff_match_patch.Diff diff : diffs) {
    parts=diff.text.split("\n",-1);
    if (parts.length == 1) {
      newDiffs.add(diff);
      continue;
    }
    lengthMinusOne=parts.length - 1;
    for (int i=0; i < lengthMinusOne; i++) {
      newDiffs.add(new diff_match_patch.Diff(diff.operation,parts[i] + "\n"));
    }
    if (!parts[lengthMinusOne].isEmpty()) {
      newDiffs.add(new diff_match_patch.Diff(diff.operation,parts[lengthMinusOne]));
    }
  }
  return newDiffs;
}
