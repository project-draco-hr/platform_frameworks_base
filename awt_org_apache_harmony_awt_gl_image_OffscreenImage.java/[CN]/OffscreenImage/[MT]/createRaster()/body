{
  try {
    raster=cm.createCompatibleWritableRaster(width,height);
    isIntRGB=false;
    if (cm instanceof DirectColorModel) {
      DirectColorModel dcm=(DirectColorModel)cm;
      if (dcm.getTransferType() == DataBuffer.TYPE_INT && dcm.getRedMask() == 0xff0000 && dcm.getGreenMask() == 0xff00 && dcm.getBlueMask() == 0xff) {
        isIntRGB=true;
      }
    }
  }
 catch (  Exception e) {
    cm=ColorModel.getRGBdefault();
    raster=cm.createCompatibleWritableRaster(width,height);
    isIntRGB=true;
  }
}
