{
  mFullScreenMode=FULLSCREEN_SURFACECREATING;
  mCurrentBufferPercentage=0;
  mPlayer.setOnBufferingUpdateListener(mBufferingUpdateListener);
  mProxy=proxy;
  mVideoSurfaceView.getHolder().addCallback(mSHCallback);
  mVideoSurfaceView.getHolder().setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);
  mVideoSurfaceView.setFocusable(true);
  mVideoSurfaceView.setFocusableInTouchMode(true);
  mVideoSurfaceView.requestFocus();
  mLayout=new FrameLayout(mProxy.getContext());
  FrameLayout.LayoutParams layoutParams=new FrameLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT,Gravity.CENTER);
  mLayout.addView(getSurfaceView(),layoutParams);
  mLayout.setVisibility(View.VISIBLE);
  WebChromeClient client=webView.getWebChromeClient();
  client.onShowCustomView(mLayout,mCallback);
  if (webView.getViewManager() != null)   webView.getViewManager().hideAll();
  mProgressView=client.getVideoLoadingProgressView();
  if (mProgressView != null) {
    mLayout.addView(mProgressView,layoutParams);
    mProgressView.setVisibility(View.VISIBLE);
  }
}
