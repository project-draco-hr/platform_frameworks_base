{
  XmlUtils.beginDocument(parser,TAG_SHORTCODES);
  while (true) {
    XmlUtils.nextElement(parser);
    String element=parser.getName();
    if (element == null)     break;
    if (element.equals(TAG_SHORTCODE)) {
      String currentCountry=parser.getAttributeValue(null,ATTR_COUNTRY);
      if (country.equals(currentCountry)) {
        String pattern=parser.getAttributeValue(null,ATTR_PATTERN);
        String premium=parser.getAttributeValue(null,ATTR_PREMIUM);
        String free=parser.getAttributeValue(null,ATTR_FREE);
        String standard=parser.getAttributeValue(null,ATTR_STANDARD);
        return new ShortCodePatternMatcher(pattern,premium,free,standard);
      }
    }
 else {
      Log.e(TAG,"Error: skipping unknown XML tag " + element);
    }
  }
  return null;
}
