{
  long beginCheckPeriod=System.currentTimeMillis() - mCheckPeriod;
synchronized (mSmsStamp) {
    Iterator<Map.Entry<String,ArrayList<Long>>> iter=mSmsStamp.entrySet().iterator();
    while (iter.hasNext()) {
      Map.Entry<String,ArrayList<Long>> entry=iter.next();
      ArrayList<Long> oldList=entry.getValue();
      if (oldList.isEmpty() || oldList.get(oldList.size() - 1) < beginCheckPeriod) {
        iter.remove();
      }
    }
  }
}
