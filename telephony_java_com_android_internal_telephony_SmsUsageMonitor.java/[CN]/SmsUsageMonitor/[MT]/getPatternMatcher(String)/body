{
  int id=com.android.internal.R.xml.sms_short_codes;
  XmlResourceParser parser=mContext.getResources().getXml(id);
  try {
    XmlUtils.beginDocument(parser,TAG_SHORTCODES);
    while (true) {
      XmlUtils.nextElement(parser);
      String element=parser.getName();
      if (element == null)       break;
      if (element.equals(TAG_SHORTCODE)) {
        String currentCountry=parser.getAttributeValue(null,ATTR_COUNTRY);
        if (country.equals(currentCountry)) {
          String pattern=parser.getAttributeValue(null,ATTR_PATTERN);
          String premium=parser.getAttributeValue(null,ATTR_PREMIUM);
          String free=parser.getAttributeValue(null,ATTR_FREE);
          String standard=parser.getAttributeValue(null,ATTR_STANDARD);
          return new ShortCodePatternMatcher(pattern,premium,free,standard);
        }
      }
 else {
        Log.e(TAG,"Error: skipping unknown XML tag " + element);
      }
    }
  }
 catch (  XmlPullParserException e) {
    Log.e(TAG,"XML parser exception reading short code pattern resource",e);
  }
catch (  IOException e) {
    Log.e(TAG,"I/O exception reading short code pattern resource",e);
  }
 finally {
    parser.close();
  }
  return null;
}
