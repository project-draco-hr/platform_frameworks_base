{
switch (msg.what) {
case OBSERVE_SETTING:
    if (msg.obj != null && msg.obj instanceof String) {
      mCountryIso=(String)msg.obj;
      String settingName=getSettingNameForCountry(mCountryIso);
      ContentResolver resolver=mContext.getContentResolver();
      if (mSettingsObserver != null) {
        if (VDBG)         log("Unregistering old content observer");
        resolver.unregisterContentObserver(mSettingsObserver);
      }
      mSettingsObserver=new SettingsObserver(this,SECURE_SETTINGS_CHANGED);
      resolver.registerContentObserver(Settings.Secure.getUriFor(settingName),false,mSettingsObserver);
      if (VDBG)       log("Registered content observer for " + settingName);
    }
  break;
case SECURE_SETTINGS_CHANGED:
loadPatternsFromSettings(mCountryIso);
break;
}
}
