{
  if ((x < 0) || (y < 0) || ((long)x + (long)w > this.width)|| ((long)y + (long)h > this.height)) {
    throw new ArrayIndexOutOfBoundsException(Messages.getString("awt.63"));
  }
  int idx=0;
  for (int i=y; i < y + h; i++) {
    for (int j=x; j < x + w; j++) {
      setSample(x + j,y + i,b,iArray[idx++],data);
    }
  }
}
