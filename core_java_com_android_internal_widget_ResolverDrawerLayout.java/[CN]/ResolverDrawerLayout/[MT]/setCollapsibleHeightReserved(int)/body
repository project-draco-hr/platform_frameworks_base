{
  final int oldReserved=mCollapsibleHeightReserved;
  mCollapsibleHeightReserved=heightPixels;
  final int dReserved=mCollapsibleHeightReserved - oldReserved;
  if (dReserved != 0 && mIsDragging) {
    mLastTouchY-=dReserved;
  }
  final int oldCollapsibleHeight=mCollapsibleHeight;
  mCollapsibleHeight=Math.max(mCollapsibleHeight,getMaxCollapsedHeight());
  if (updateCollapseOffset(oldCollapsibleHeight,!isDragging())) {
    return;
  }
  invalidate();
}
