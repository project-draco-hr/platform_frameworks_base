{
  ByteArrayOutputStream resultStream=null;
  GZIPOutputStream zipper=null;
  try {
    resultStream=new ByteArrayOutputStream();
    zipper=new GZIPOutputStream(resultStream);
    zipper.write(data);
  }
 catch (  IOException e) {
    return null;
  }
 finally {
    try {
      if (zipper != null) {
        zipper.close();
      }
    }
 catch (    IOException e) {
      zipper=null;
      Slog.e(TAG,"Failed to close the stream.",e);
    }
    try {
      if (resultStream != null) {
        resultStream.close();
      }
    }
 catch (    IOException e) {
      resultStream=null;
      Slog.e(TAG,"Failed to close the stream.",e);
    }
  }
  return resultStream != null ? resultStream.toByteArray() : null;
}
