{
  if (mContext.checkCallingOrSelfPermission(android.Manifest.permission.READ_LOGS) != PackageManager.PERMISSION_GRANTED) {
    throw new SecurityException("READ_LOGS permission required");
  }
  try {
    init();
  }
 catch (  IOException e) {
    Log.e(TAG,"Can't init",e);
    return null;
  }
  FileList list=tag == null ? mAllFiles : mFilesByTag.get(tag);
  if (list == null)   return null;
  for (  EntryFile entry : list.contents.tailSet(new EntryFile(millis + 1))) {
    if (entry.tag == null)     continue;
    if ((entry.flags & DropBox.IS_EMPTY) != 0) {
      return new DropBox.Entry(entry.tag,entry.timestampMillis);
    }
    try {
      return new DropBox.Entry(entry.tag,entry.timestampMillis,entry.file,entry.flags);
    }
 catch (    IOException e) {
      Log.e(TAG,"Can't read: " + entry.file,e);
    }
  }
  return null;
}
