{
  Cursor cursor=null;
  String srcName=null;
  try {
    cursor=mClient.query(src,null,null,null,null);
    if (cursor.moveToFirst()) {
      srcName=getCursorString(cursor,Document.COLUMN_DISPLAY_NAME);
    }
  }
  finally {
    IoUtils.closeQuietly(cursor);
  }
  Uri dst=getDstFileUri(srcName);
  InputStream in0=null;
  InputStream in1=null;
  try {
    in0=new ParcelFileDescriptor.AutoCloseInputStream(mClient.openFile(src,"r"));
    in1=new ParcelFileDescriptor.AutoCloseInputStream(mClient.openFile(dst,"r"));
    byte[] buffer0=Streams.readFully(in0);
    byte[] buffer1=Streams.readFully(in1);
    MoreAsserts.assertEquals(buffer0,buffer1);
  }
  finally {
    IoUtils.closeQuietly(in0);
    IoUtils.closeQuietly(in1);
  }
}
