{
  mCurRotation=rotation;
  int delta=deltaRotation(rotation,mSnapshotRotation);
switch (delta) {
case Surface.ROTATION_0:
    mSnapshotInitialMatrix.reset();
  break;
case Surface.ROTATION_90:
mSnapshotInitialMatrix.setRotate(90,0,0);
mSnapshotInitialMatrix.postTranslate(mHeight,0);
break;
case Surface.ROTATION_180:
mSnapshotInitialMatrix.setRotate(180,0,0);
mSnapshotInitialMatrix.postTranslate(mWidth,mHeight);
break;
case Surface.ROTATION_270:
mSnapshotInitialMatrix.setRotate(270,0,0);
mSnapshotInitialMatrix.postTranslate(0,mWidth);
break;
}
if (DEBUG) Slog.v(TAG,"**** ROTATION: " + delta);
setSnapshotTransform(mSnapshotInitialMatrix,1.0f);
}
