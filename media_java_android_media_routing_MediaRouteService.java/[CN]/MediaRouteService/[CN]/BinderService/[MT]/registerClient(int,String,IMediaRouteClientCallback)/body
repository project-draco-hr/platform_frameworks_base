{
  mHandler.post(new Runnable(){
    @Override public void run(){
      ClientInfo client=new ClientInfo(clientUid,clientPackageName);
      if (DEBUG) {
        Log.d(TAG,"registerClient: client=" + client);
      }
      ClientSession session=onCreateClientSession(client);
      if (session == null) {
        Log.w(TAG,"Media route service refused to create session for client: " + "client=" + client);
        return;
      }
      ClientRecord record=new ClientRecord(callback,client,session);
      try {
        callback.asBinder().linkToDeath(record,0);
      }
 catch (      RemoteException ex) {
        Log.w(TAG,"Client died prematurely while creating session: " + "client=" + client);
        record.release();
        return;
      }
      mClientRecords.put(callback.asBinder(),record);
    }
  }
);
}
