{
  disconnect();
  mConnectionSeq=seq;
  mConnectionCallback=new ConnectionCallback(this);
  DestinationRecord destinationRecord=mDestinations.get(destinationId);
  if (destinationRecord == null) {
    Log.w(TAG,"Aborting connection to route since no matching destination " + "was found in the list of known destinations: " + "destinationId="+ destinationId);
    dispatchConnectionFailed(mConnectionCallback,MediaRouter.CONNECTION_ERROR_ABORTED,null,null);
    clearConnection();
    return;
  }
  RouteInfo route=destinationRecord.getRoute(routeId);
  if (route == null) {
    Log.w(TAG,"Aborting connection to route since no matching route " + "was found in the list of known routes: " + "destination=" + destinationRecord.destination + ", routeId="+ routeId);
    dispatchConnectionFailed(mConnectionCallback,MediaRouter.CONNECTION_ERROR_ABORTED,null,null);
    clearConnection();
    return;
  }
  mConnectionRequest=new ConnectionRequest(route);
  mConnectionRequest.setFlags(flags);
  mConnectionRequest.setExtras(extras);
  boolean started=mSession.onConnect(mConnectionRequest,mConnectionCallback);
  if (!started) {
    dispatchConnectionFailed(mConnectionCallback,MediaRouter.CONNECTION_ERROR_ABORTED,null,null);
    clearConnection();
  }
}
