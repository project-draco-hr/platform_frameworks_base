{
  if (getConnectedOutputPort(outputName) != null) {
    throw new RuntimeException("Attempting to connect already connected output port '" + outputName + "' of filter "+ this+ "'!");
  }
 else   if (targetFilter.getConnectedInputPort(inputName) != null) {
    throw new RuntimeException("Attempting to connect already connected input port '" + inputName + "' of filter "+ targetFilter+ "'!");
  }
  InputPort inputPort=targetFilter.newInputPort(inputName);
  OutputPort outputPort=newOutputPort(outputName);
  outputPort.setTarget(inputPort);
  targetFilter.onInputPortAttached(inputPort);
  onOutputPortAttached(outputPort);
  updatePortArrays();
}
