{
  if (outPort.getQueue() == null) {
    try {
      FrameQueue.Builder builder=new FrameQueue.Builder();
      InputPort inPort=outPort.getTarget();
      outPort.onOpen(builder);
      inPort.onOpen(builder);
      Filter targetFilter=inPort.getFilter();
      String queueName=mName + "[" + outPort.getName()+ "] -> "+ targetFilter.mName+ "["+ inPort.getName()+ "]";
      FrameQueue queue=builder.build(queueName);
      outPort.setQueue(queue);
      inPort.setQueue(queue);
    }
 catch (    RuntimeException e) {
      throw new RuntimeException("Could not open output port " + outPort + "!",e);
    }
  }
}
