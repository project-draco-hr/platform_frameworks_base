{
  Drawable drawable=imageView.getDrawable();
  int drawableWidth=drawable.getIntrinsicWidth();
  int drawableHeight=drawable.getIntrinsicHeight();
  ImageView.ScaleType scaleType=imageView.getScaleType();
  Matrix matrix;
  if (drawableWidth <= 0 || drawableHeight <= 0) {
    matrix=null;
  }
 else   if (scaleType == ImageView.ScaleType.FIT_XY) {
    matrix=new Matrix();
    float scaleX=imageView.getWidth();
    scaleX/=drawableWidth;
    float scaleY=imageView.getHeight();
    scaleY/=drawableHeight;
    matrix.setScale(scaleX,scaleY);
  }
 else {
    matrix=new Matrix(imageView.getImageMatrix());
  }
  return matrix;
}
