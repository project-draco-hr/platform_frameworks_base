{
  float pTaskRelative=taskProgress - stackScroll;
  float pBounded=Math.max(0,Math.min(pTaskRelative,1f));
  if (pTaskRelative > 1f) {
    transformOut.reset();
    transformOut.rect.set(mTaskRect);
    return transformOut;
  }
  if (pTaskRelative < 0f) {
    if (prevTransform != null && Float.compare(prevTransform.p,0f) <= 0) {
      transformOut.reset();
      transformOut.rect.set(mTaskRect);
      return transformOut;
    }
  }
  float scale=curveProgressToScale(pBounded);
  int scaleYOffset=(int)(((1f - scale) * mTaskRect.height()) / 2);
  int minZ=mContext.getResources().getDimensionPixelSize(R.dimen.recents_task_view_z_min);
  int maxZ=mContext.getResources().getDimensionPixelSize(R.dimen.recents_task_view_z_max);
  transformOut.scale=scale;
  transformOut.translationY=curveProgressToScreenY(pBounded) - mStackVisibleRect.top - scaleYOffset;
  transformOut.translationZ=Math.max(minZ,minZ + (pBounded * (maxZ - minZ)));
  transformOut.rect.set(mTaskRect);
  transformOut.rect.offset(0,transformOut.translationY);
  Utilities.scaleRectAboutCenter(transformOut.rect,transformOut.scale);
  transformOut.visible=true;
  transformOut.p=pTaskRelative;
  return transformOut;
}
