{
  RecentsConfiguration config=Recents.getConfiguration();
  Rect measuredRect=new Rect(0,0,getMeasuredWidth(),getMeasuredHeight());
  Rect searchBarSpaceBounds=new Rect();
  if (mSearchBar != null) {
    config.getSearchBarBounds(measuredRect,mSystemInsets.top,searchBarSpaceBounds);
    mSearchBar.layout(searchBarSpaceBounds.left,searchBarSpaceBounds.top,searchBarSpaceBounds.right,searchBarSpaceBounds.bottom);
  }
  if (mTaskStackView != null && mTaskStackView.getVisibility() != GONE) {
    mTaskStackView.layout(left,top,left + getMeasuredWidth(),top + getMeasuredHeight());
  }
  if (mDragView != null) {
    mDragView.layout(left,top,left + mDragView.getMeasuredWidth(),top + mDragView.getMeasuredHeight());
  }
  Rect stackRect=mTaskStackView.mLayoutAlgorithm.mCurrentStackRect;
  mHistoryButton.layout(stackRect.left,top + mSystemInsets.top,stackRect.left + mHistoryButton.getMeasuredWidth(),top + mSystemInsets.top + mHistoryButton.getMeasuredHeight());
  if (mAwaitingFirstLayout) {
    mAwaitingFirstLayout=false;
    RecentsActivityLaunchState launchState=Recents.getConfiguration().getLaunchState();
    if (launchState.launchedViaDragGesture) {
      setTranslationY(getMeasuredHeight());
    }
  }
}
