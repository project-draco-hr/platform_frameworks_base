{
  if (mHistoryView == null) {
    mHistoryView=(RecentsHistoryView)LayoutInflater.from(getContext()).inflate(R.layout.recents_history,this,false);
    addView(mHistoryView);
    mHistoryView.setSystemInsets(mSystemInsets);
    mHistoryView.setHeaderHeight(mHistoryButton.getMeasuredHeight());
    mHistoryButton.bringToFront();
  }
  Rect stackRect=mTaskStackView.mLayoutAlgorithm.mStackRect;
  if (mEmptyView.getVisibility() == View.VISIBLE) {
    int historyTransitionDuration=getResources().getInteger(R.integer.recents_history_transition_duration);
    mEmptyView.animate().alpha(0f).translationY(stackRect.bottom).setDuration(historyTransitionDuration).setInterpolator(mFastOutSlowInInterpolator).withEndAction(new Runnable(){
      @Override public void run(){
        mEmptyView.setVisibility(View.INVISIBLE);
      }
    }
).start();
  }
  mHistoryView.show(mStack,stackRect.height());
}
