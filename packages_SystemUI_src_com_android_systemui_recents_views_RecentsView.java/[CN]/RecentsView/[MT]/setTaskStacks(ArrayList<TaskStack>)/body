{
  int numStacks=stacks.size();
  int numTaskStacksToKeep=0;
  if (mConfig.launchedReuseTaskStackViews) {
    numTaskStacksToKeep=Math.min(mTaskStackViews.size(),numStacks);
  }
  for (int i=mTaskStackViews.size() - 1; i >= numTaskStacksToKeep; i--) {
    removeView(mTaskStackViews.remove(i));
  }
  for (int i=0; i < numTaskStacksToKeep; i++) {
    TaskStackView tsv=mTaskStackViews.get(i);
    tsv.reset();
    tsv.setStack(stacks.get(i));
  }
  mStacks=stacks;
  for (int i=mTaskStackViews.size(); i < numStacks; i++) {
    TaskStack stack=stacks.get(i);
    TaskStackView stackView=new TaskStackView(getContext(),stack);
    stackView.setCallbacks(this);
    addView(stackView);
    mTaskStackViews.add(stackView);
  }
  if (mConfig.debugModeEnabled) {
    for (int i=mTaskStackViews.size() - 1; i >= 0; i--) {
      TaskStackView stackView=mTaskStackViews.get(i);
      stackView.setDebugOverlay(mDebugOverlay);
    }
  }
  requestLayout();
}
