{
  RecentsConfiguration config=Recents.getConfiguration();
  int width=MeasureSpec.getSize(widthMeasureSpec);
  int height=MeasureSpec.getSize(heightMeasureSpec);
  Rect searchBarSpaceBounds=new Rect();
  if (mSearchBar != null) {
    config.getSearchBarBounds(new Rect(0,0,width,height),mSystemInsets.top,searchBarSpaceBounds);
    mSearchBar.measure(MeasureSpec.makeMeasureSpec(searchBarSpaceBounds.width(),MeasureSpec.EXACTLY),MeasureSpec.makeMeasureSpec(searchBarSpaceBounds.height(),MeasureSpec.EXACTLY));
  }
  Rect taskStackBounds=new Rect();
  config.getTaskStackBounds(new Rect(0,0,width,height),mSystemInsets.top,mSystemInsets.right,searchBarSpaceBounds,taskStackBounds);
  if (mTaskStackView != null && mTaskStackView.getVisibility() != GONE) {
    mTaskStackView.setTaskStackBounds(taskStackBounds,mSystemInsets);
    mTaskStackView.measure(widthMeasureSpec,heightMeasureSpec);
  }
  if (mDragView != null) {
    Rect taskRect=mTaskStackView.mLayoutAlgorithm.mTaskRect;
    mDragView.measure(MeasureSpec.makeMeasureSpec(taskRect.width(),MeasureSpec.AT_MOST),MeasureSpec.makeMeasureSpec(taskRect.height(),MeasureSpec.AT_MOST));
  }
  Rect stackRect=mTaskStackView.mLayoutAlgorithm.mCurrentStackRect;
  measureChild(mHistoryButton,MeasureSpec.makeMeasureSpec(stackRect.width(),MeasureSpec.EXACTLY),heightMeasureSpec);
  setMeasuredDimension(width,height);
}
