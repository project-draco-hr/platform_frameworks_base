{
  Task returnTask=null;
  boolean found=false;
  List<TaskStackView> stackViews=getTaskStackViews();
  int stackCount=stackViews.size();
  for (int i=stackCount - 1; i >= 0; --i) {
    TaskStack stack=stackViews.get(i).getStack();
    ArrayList<Task> taskList=stack.getTasks();
    for (int j=taskList.size() - 1; j >= 0; --j) {
      Task task=taskList.get(j);
      if (found)       return task;
      if (returnTask == null)       returnTask=task;
      if (task == taskToSearch)       found=true;
    }
  }
  return returnTask;
}
