{
  updateVisibleDockRegions(null,-1);
  if (event.dropTarget instanceof TaskStack.DockState) {
    TaskStack.DockState dockState=(TaskStack.DockState)event.dropTarget;
    TaskStackLayoutAlgorithm stackLayout=mTaskStackView.getStackAlgorithm();
    TaskStackViewScroller stackScroller=mTaskStackView.getScroller();
    TaskViewTransform tmpTransform=new TaskViewTransform();
    stackLayout.getStackTransform(event.task,stackScroller.getStackScroll(),tmpTransform,null);
    tmpTransform.scale=event.taskView.getScaleX();
    tmpTransform.rect.offset(event.taskView.getTranslationX(),event.taskView.getTranslationY());
    mTaskStackView.updateTaskViewToTransform(event.taskView,tmpTransform,new TaskViewAnimation(150,mFastOutLinearInInterpolator,new AnimatorListenerAdapter(){
      @Override public void onAnimationEnd(      Animator animation){
        mTaskStackView.getStack().removeTask(event.task);
      }
    }
));
    SystemServicesProxy ssp=Recents.getSystemServices();
    ssp.startTaskInDockedMode(event.task.key.id,dockState.createMode);
    launchTask(event.task,null,INVALID_STACK_ID);
    MetricsLogger.action(mContext,MetricsLogger.ACTION_WINDOW_DOCK_DRAG_DROP);
  }
}
