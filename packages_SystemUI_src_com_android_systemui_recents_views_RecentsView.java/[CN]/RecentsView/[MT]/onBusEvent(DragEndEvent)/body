{
  event.postAnimationTrigger.increment();
  event.postAnimationTrigger.addLastDecrementRunnable(new Runnable(){
    @Override public void run(){
      removeView(mDragView);
      mDragView=null;
      updateVisibleDockRegions(null,-1);
      if (event.dockState != TaskStack.DockState.NONE) {
        SystemServicesProxy ssp=Recents.getSystemServices();
        ssp.startTaskInDockedMode(event.task.key.id,event.dockState.createMode);
        launchTask(event.task,null,INVALID_STACK_ID);
      }
    }
  }
);
  if (event.dockState == TaskStack.DockState.NONE) {
    Rect taskBounds=mTaskStackView.getStackAlgorithm().getUntransformedTaskViewBounds();
    int left=taskBounds.left + (int)((1f - event.taskView.getScaleX()) * taskBounds.width()) / 2;
    int top=taskBounds.top + (int)((1f - event.taskView.getScaleY()) * taskBounds.height()) / 2;
    event.dragView.animate().scaleX(1f).scaleY(1f).translationX(left + event.taskView.getTranslationX()).translationY(top + event.taskView.getTranslationY()).setDuration(175).setInterpolator(mFastOutSlowInInterpolator).withEndAction(event.postAnimationTrigger.decrementAsRunnable()).start();
    updateVisibleDockRegions(null,-1);
  }
 else {
    event.postAnimationTrigger.decrement();
  }
}
