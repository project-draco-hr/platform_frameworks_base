{
  RecentsConfiguration config=Recents.getConfiguration();
  RecentsActivityLaunchState launchState=config.getLaunchState();
  if (mTaskStackView == null) {
    isResumingFromVisible=false;
    mTaskStackView=new TaskStackView(getContext());
    mTaskStackView.setSystemInsets(mSystemInsets);
    addView(mTaskStackView);
  }
  mAwaitingFirstLayout=!isResumingFromVisible;
  mLastTaskLaunchedWasFreeform=false;
  mTaskStackView.onReload(isResumingFromVisible);
  if (isResumingFromVisible) {
    animateBackgroundScrim(DEFAULT_SCRIM_ALPHA,DEFAULT_UPDATE_SCRIM_DURATION);
  }
 else {
    if (launchState.launchedWhileDocking || launchState.launchedFromApp || isTaskStackEmpty) {
      mBackgroundScrim.setAlpha((int)(DEFAULT_SCRIM_ALPHA * 255));
    }
 else {
      mBackgroundScrim.setAlpha(0);
    }
  }
}
