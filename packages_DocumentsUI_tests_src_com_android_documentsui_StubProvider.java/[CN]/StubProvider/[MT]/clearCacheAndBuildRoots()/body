{
  Log.d(TAG,"Resetting storage.");
  removeChildrenRecursively(getContext().getCacheDir());
  mStorage.clear();
  mPrefs=getContext().getSharedPreferences("com.android.documentsui.stubprovider.preferences",Context.MODE_PRIVATE);
  Collection<String> rootIds=mPrefs.getStringSet("roots",null);
  if (rootIds == null) {
    rootIds=Arrays.asList(new String[]{ROOT_0_ID,ROOT_1_ID});
  }
  mRoots.clear();
  for (  String rootId : rootIds) {
    final RootInfo rootInfo=new RootInfo(rootId,getSize(rootId));
    mRoots.put(rootId,rootInfo);
  }
}
