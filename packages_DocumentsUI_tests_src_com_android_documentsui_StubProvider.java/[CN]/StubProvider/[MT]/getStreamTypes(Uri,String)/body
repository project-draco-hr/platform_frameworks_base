{
  final StubDocument document=mStorage.get(DocumentsContract.getDocumentId(uri));
  if (document == null) {
    throw new IllegalArgumentException("The provided Uri is incorrect, or the file is gone.");
  }
  if ((document.flags & Document.FLAG_SUPPORTS_TYPED_DOCUMENT) == 0) {
    return null;
  }
  if (!"*/*".equals(mimeTypeFilter)) {
    throw new UnsupportedOperationException();
  }
  return document.streamTypes.toArray(new String[document.streamTypes.size()]);
}
