{
  final StubDocument document=mStorage.get(docId);
  if (document == null || !document.file.isFile())   throw new FileNotFoundException();
  if ("r".equals(mode)) {
    return ParcelFileDescriptor.open(document.file,ParcelFileDescriptor.MODE_READ_ONLY);
  }
  if ("w".equals(mode)) {
    return startWrite(document);
  }
  throw new FileNotFoundException();
}
