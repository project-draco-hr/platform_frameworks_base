{
  final File parentFile=mStorage.get(parentDocumentId);
  if (parentFile == null || !parentFile.isDirectory()) {
    throw new FileNotFoundException();
  }
  final File file=new File(parentFile,displayName);
  if (mimeType.equals(Document.MIME_TYPE_DIR)) {
    if (!file.mkdirs()) {
      throw new FileNotFoundException();
    }
  }
 else {
    try {
      if (!file.createNewFile()) {
        throw new FileNotFoundException();
      }
    }
 catch (    IOException e) {
      throw new FileNotFoundException();
    }
  }
  final String documentId=getDocumentIdForFile(file);
  mStorage.put(documentId,file);
  return documentId;
}
