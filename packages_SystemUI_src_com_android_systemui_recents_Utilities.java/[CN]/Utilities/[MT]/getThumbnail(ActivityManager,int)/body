{
  ActivityManager.TaskThumbnail taskThumbnail=activityManager.getTaskThumbnail(taskId);
  Bitmap thumbnail=taskThumbnail.mainThumbnail;
  final ParcelFileDescriptor descriptor=taskThumbnail.thumbnailFileDescriptor;
  if (thumbnail == null && descriptor != null) {
    thumbnail=BitmapFactory.decodeFileDescriptor(descriptor.getFileDescriptor());
  }
  if (descriptor != null) {
    try {
      descriptor.close();
    }
 catch (    IOException e) {
    }
  }
  return thumbnail;
}
