{
  super.onCreate(icicle);
  SeekBar seekBar;
  TextView textView;
  setContentView(R.layout.equalizertest);
  mSessionText=(EditText)findViewById(R.id.sessionEdit);
  mSessionText.setOnKeyListener(mSessionKeyListener);
  mSessionText.setText(Integer.toString(sSession));
  mReleaseButton=(ToggleButton)findViewById(R.id.eqReleaseButton);
  mOnOffButton=(ToggleButton)findViewById(R.id.equalizerOnOff);
  getEffect(sSession);
  if (mEqualizer != null) {
    mReleaseButton.setOnCheckedChangeListener(this);
    mOnOffButton.setOnCheckedChangeListener(this);
    short[] bandLevelRange=mEqualizer.getBandLevelRange();
    int centerFreq;
    int[] freqRange;
    centerFreq=mEqualizer.getCenterFreq((short)0);
    freqRange=mEqualizer.getBandFreqRange((short)0);
    displayFreq(R.id.eqParam1Center,centerFreq);
    displayFreq(R.id.eqParam1Min,freqRange[0]);
    displayFreq(R.id.eqParam1Max,freqRange[1]);
    seekBar=(SeekBar)findViewById(R.id.eqParam1SeekBar);
    textView=(TextView)findViewById(R.id.eqParam1Value);
    mParameters[0]=new BandLevelParam(mEqualizer,0,bandLevelRange[0],bandLevelRange[1],seekBar,textView);
    seekBar.setOnSeekBarChangeListener(mParameters[0]);
    centerFreq=mEqualizer.getCenterFreq((short)1);
    freqRange=mEqualizer.getBandFreqRange((short)1);
    displayFreq(R.id.eqParam2Center,centerFreq);
    displayFreq(R.id.eqParam2Min,freqRange[0]);
    displayFreq(R.id.eqParam2Max,freqRange[1]);
    seekBar=(SeekBar)findViewById(R.id.eqParam2SeekBar);
    textView=(TextView)findViewById(R.id.eqParam2Value);
    mParameters[1]=new BandLevelParam(mEqualizer,1,bandLevelRange[0],bandLevelRange[1],seekBar,textView);
    seekBar.setOnSeekBarChangeListener(mParameters[1]);
    centerFreq=mEqualizer.getCenterFreq((short)2);
    freqRange=mEqualizer.getBandFreqRange((short)2);
    displayFreq(R.id.eqParam3Center,centerFreq);
    displayFreq(R.id.eqParam3Min,freqRange[0]);
    displayFreq(R.id.eqParam3Max,freqRange[1]);
    seekBar=(SeekBar)findViewById(R.id.eqParam3SeekBar);
    textView=(TextView)findViewById(R.id.eqParam3Value);
    mParameters[2]=new BandLevelParam(mEqualizer,2,bandLevelRange[0],bandLevelRange[1],seekBar,textView);
    seekBar.setOnSeekBarChangeListener(mParameters[2]);
    centerFreq=mEqualizer.getCenterFreq((short)3);
    freqRange=mEqualizer.getBandFreqRange((short)3);
    displayFreq(R.id.eqParam4Center,centerFreq);
    displayFreq(R.id.eqParam4Min,freqRange[0]);
    displayFreq(R.id.eqParam4Max,freqRange[1]);
    seekBar=(SeekBar)findViewById(R.id.eqParam4SeekBar);
    textView=(TextView)findViewById(R.id.eqParam4Value);
    mParameters[3]=new BandLevelParam(mEqualizer,3,bandLevelRange[0],bandLevelRange[1],seekBar,textView);
    seekBar.setOnSeekBarChangeListener(mParameters[3]);
    centerFreq=mEqualizer.getCenterFreq((short)4);
    freqRange=mEqualizer.getBandFreqRange((short)4);
    displayFreq(R.id.eqParam5Center,centerFreq);
    displayFreq(R.id.eqParam5Min,freqRange[0]);
    displayFreq(R.id.eqParam5Max,freqRange[1]);
    seekBar=(SeekBar)findViewById(R.id.eqParam5SeekBar);
    textView=(TextView)findViewById(R.id.eqParam5Value);
    mParameters[4]=new BandLevelParam(mEqualizer,4,bandLevelRange[0],bandLevelRange[1],seekBar,textView);
    seekBar.setOnSeekBarChangeListener(mParameters[4]);
    short numPresets=mEqualizer.getNumberOfPresets();
    seekBar=(SeekBar)findViewById(R.id.eqParam6SeekBar);
    textView=(TextView)findViewById(R.id.eqParam6Value);
    mParameters[5]=new PresetParam(mEqualizer,(short)0,(short)(numPresets - 1),seekBar,textView);
    seekBar.setOnSeekBarChangeListener(mParameters[5]);
  }
}
