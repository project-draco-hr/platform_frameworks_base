{
  if (TextUtils.isEmpty(instanceName) || TextUtils.isEmpty(serviceType)) {
    throw new IllegalArgumentException("instance name or service type cannot be empty");
  }
  if (txtRecord == null) {
    txtRecord=new DnsSdTxtRecord();
  }
  ArrayList<String> queries=new ArrayList<String>();
  queries.add(createPtrServiceQuery(instanceName,serviceType));
  queries.add(createTxtServiceQuery(instanceName,serviceType,txtRecord));
  return new WifiP2pDnsSdServiceInfo(queries);
}
