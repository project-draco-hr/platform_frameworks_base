{
  MemoryUsageInstrumentation instrumentation=(MemoryUsageInstrumentation)getInstrumentation();
  Bundle args=instrumentation.getBundle();
  mAm=ActivityManagerNative.getDefault();
  createMappings();
  parseArgs(args);
  Bundle results=new Bundle();
  for (  String app : mNameToResultKey.keySet()) {
    String processName;
    try {
      processName=startApp(app);
      measureMemory(app,processName,results);
      closeApp();
    }
 catch (    NameNotFoundException e) {
      Log.i(TAG,"Application " + app + " not found");
    }
  }
  instrumentation.sendStatus(0,results);
}
