{
  List<Integer> pssData=new ArrayList<Integer>();
  int pss=0;
  int iteration=0;
  while (iteration < MAX_ITERATIONS) {
    sleep();
    pss=getPss(processName);
    Log.i(TAG,appName + "=" + pss);
    if (pss < 0) {
      reportError(appName,processName,results);
      return;
    }
    pssData.add(pss);
    if (iteration >= MIN_ITERATIONS && stabilized(pssData)) {
      results.putInt(nameToResultKey.get(appName),pss);
      return;
    }
    iteration++;
  }
  Log.w(TAG,appName + " memory usage did not stabilize");
  results.putInt(appName,average(pssData));
}
