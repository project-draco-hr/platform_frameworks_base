{
  if (mDebug)   Slog.v(TAG,"wakeUp(): fromSystem=" + fromSystem + ", mWaking="+ mWaking+ ", mFinished="+ mFinished);
  if (!mWaking && !mFinished) {
    mWaking=true;
    onWakeUp();
    if (!fromSystem && !mFinished) {
      if (mWindowToken == null) {
        Slog.w(TAG,"WakeUp was called before the dream was attached.");
      }
 else {
        try {
          mSandman.finishSelf(mWindowToken,false);
        }
 catch (        RemoteException ex) {
        }
      }
    }
  }
}
