{
  if (mWindow == null) {
    Slog.e(TAG,"detach() called when not attached");
    return;
  }
  try {
    onDreamingStopped();
  }
 catch (  Throwable t) {
    Slog.w(TAG,"Crashed in onDreamingStopped()",t);
  }
  if (mDebug)   Slog.v(TAG,"detach(): Removing window from window manager");
  try {
    mWindowManager.removeView(mWindow.getDecorView());
  }
 catch (  Throwable t) {
    Slog.w(TAG,"Crashed removing window view",t);
  }
  mWindow=null;
  mWindowToken=null;
}
