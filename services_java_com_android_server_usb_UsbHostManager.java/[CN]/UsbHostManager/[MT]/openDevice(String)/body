{
synchronized (mLock) {
    if (isBlackListed(deviceName)) {
      throw new SecurityException("USB device is on a restricted bus");
    }
    UsbDevice device=mDevices.get(deviceName);
    if (device == null) {
      throw new IllegalArgumentException("device " + deviceName + " does not exist or is restricted");
    }
    mSettingsManager.checkPermission(device);
    return nativeOpenDevice(deviceName);
  }
}
