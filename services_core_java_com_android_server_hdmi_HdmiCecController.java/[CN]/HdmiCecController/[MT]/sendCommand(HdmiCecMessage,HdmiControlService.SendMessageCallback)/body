{
  assertRunOnServiceThread();
  runOnIoThread(new Runnable(){
    @Override public void run(){
      byte[] body=buildBody(cecMessage.getOpcode(),cecMessage.getParams());
      final int error=nativeSendCecCommand(mNativePtr,cecMessage.getSource(),cecMessage.getDestination(),body);
      if (error != Constants.SEND_RESULT_SUCCESS) {
        Slog.w(TAG,"Failed to send " + cecMessage);
      }
      if (callback != null) {
        runOnServiceThread(new Runnable(){
          @Override public void run(){
            callback.onSendCompleted(error);
          }
        }
);
      }
    }
  }
);
}
