{
  assertRunOnServiceThread();
  runOnIoThread(new Runnable(){
    @Override public void run(){
      final ArrayList<Integer> allocated=new ArrayList<>();
      for (      Integer address : candidates) {
        if (sendPollMessage(sourceAddress,address,retryCount)) {
          allocated.add(address);
        }
      }
      mIoThreadLogger.debug("[P]:Allocated Address=" + allocated);
      if (callback != null) {
        runOnServiceThread(new Runnable(){
          @Override public void run(){
            callback.onPollingFinished(allocated);
          }
        }
);
      }
    }
  }
);
}
