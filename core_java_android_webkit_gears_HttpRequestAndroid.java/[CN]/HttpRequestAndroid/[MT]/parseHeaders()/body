{
  responseHeaders=new HashMap<String,String[]>();
  for (int i=0; ; ++i) {
    String key=connection.getHeaderFieldKey(i);
    String value=connection.getHeaderField(i);
    if (logEnabled)     log("header " + key + " -> "+ value);
    if (key == null && value == null) {
      break;
    }
 else     if (key == null) {
      responseLine=value;
    }
 else     if (value != null) {
      setResponseHeader(key,value);
    }
 else {
      return false;
    }
  }
  return true;
}
