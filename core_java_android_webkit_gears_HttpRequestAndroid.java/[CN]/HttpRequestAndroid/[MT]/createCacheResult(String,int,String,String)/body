{
  if (logEnabled)   log("Making cache entry for " + url);
  Headers cacheHeaders=new Headers();
  Iterator<Map.Entry<String,String[]>> it=responseHeaders.entrySet().iterator();
  while (it.hasNext()) {
    Map.Entry<String,String[]> entry=it.next();
    String keyValue=entry.getKey() + ": " + entry.getValue()[HEADERS_MAP_INDEX_VALUE];
    CharArrayBuffer buffer=new CharArrayBuffer(keyValue.length());
    buffer.append(keyValue);
    cacheHeaders.parseHeader(buffer);
  }
  cacheResult=CacheManager.createCacheFile(url,responseCode,cacheHeaders,mimeType,true);
  if (cacheResult != null) {
    if (logEnabled)     log("Saving into cache");
    cacheResult.setEncoding(encoding);
    cacheResultUrl=url;
    return true;
  }
 else {
    log("Couldn't create cacheResult");
    return false;
  }
}
