{
  final int len=text.length();
  if (margin > 0) {
    appendNewlines(text,margin);
    start(text,new Newline(margin));
  }
  String style=attributes.getValue("","style");
  if (style != null) {
    Matcher m=getTextAlignPattern().matcher(style);
    if (m.find()) {
      String alignment=m.group(1);
      if (alignment.equalsIgnoreCase("start")) {
        start(text,new Alignment(Layout.Alignment.ALIGN_NORMAL));
      }
 else       if (alignment.equalsIgnoreCase("center")) {
        start(text,new Alignment(Layout.Alignment.ALIGN_CENTER));
      }
 else       if (alignment.equalsIgnoreCase("end")) {
        start(text,new Alignment(Layout.Alignment.ALIGN_OPPOSITE));
      }
    }
  }
}
