{
  String style=attributes.getValue("","style");
  if (style != null) {
    final int len=text.length();
    Matcher m=getForegroundColorPattern().matcher(style);
    if (m.find()) {
      int c=Color.getHtmlColor(m.group(1));
      if (c != -1) {
        text.setSpan(new Foreground(c | 0xFF000000),len,len,Spanned.SPAN_INCLUSIVE_EXCLUSIVE);
      }
    }
    m=getBackgroundColorPattern().matcher(style);
    if (m.find()) {
      int c=Color.getHtmlColor(m.group(1));
      if (c != -1) {
        text.setSpan(new Background(c | 0xFF000000),len,len,Spanned.SPAN_INCLUSIVE_EXCLUSIVE);
      }
    }
    m=getTextDecorationPattern().matcher(style);
    if (m.find()) {
      String textDecoration=m.group(1);
      if (textDecoration.equalsIgnoreCase("line-through")) {
        text.setSpan(new Strikethrough(),len,len,Spanned.SPAN_INCLUSIVE_EXCLUSIVE);
      }
    }
  }
}
