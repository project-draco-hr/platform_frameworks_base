{
  if (CONSTRAIN_SWIPE && (!isValidSwipeDirection(amount) || !mCallback.canChildBeDismissed(mCurrView))) {
    float size=getSize(mCurrView);
    float maxScrollDistance=0.15f * size;
    if (Math.abs(amount) >= size) {
      amount=amount > 0 ? maxScrollDistance : -maxScrollDistance;
    }
 else {
      amount=maxScrollDistance * (float)Math.sin((amount / size) * (Math.PI / 2));
    }
  }
  setTranslation(mCurrView,amount);
  if (FADE_OUT_DURING_SWIPE && mCanCurrViewBeDimissed) {
    float alpha=getAlphaForOffset(mCurrView);
    mCurrView.setAlpha(alpha);
  }
}
