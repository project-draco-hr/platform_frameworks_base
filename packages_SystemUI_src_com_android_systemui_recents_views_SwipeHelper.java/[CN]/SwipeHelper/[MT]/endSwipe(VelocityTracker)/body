{
  velocityTracker.computeCurrentVelocity(1000);
  float velocity=getVelocity(velocityTracker);
  float perpendicularVelocity=getPerpendicularVelocity(velocityTracker);
  float escapeVelocity=SWIPE_ESCAPE_VELOCITY * mDensityScale;
  float translation=getTranslation(mCurrView);
  boolean childSwipedFarEnough=DISMISS_IF_SWIPED_FAR_ENOUGH && Math.abs(translation) > 0.6 * getSize(mCurrView);
  boolean childSwipedFastEnough=(Math.abs(velocity) > escapeVelocity) && (Math.abs(velocity) > Math.abs(perpendicularVelocity)) && (velocity > 0) == (translation > 0);
  boolean dismissChild=mCallback.canChildBeDismissed(mCurrView) && isValidSwipeDirection(translation) && (childSwipedFastEnough || childSwipedFarEnough);
  if (dismissChild) {
    dismissChild(mCurrView,childSwipedFastEnough ? velocity : 0f);
  }
 else {
    mCallback.onDragCancelled(mCurrView);
    snapChild(mCurrView,velocity);
  }
}
