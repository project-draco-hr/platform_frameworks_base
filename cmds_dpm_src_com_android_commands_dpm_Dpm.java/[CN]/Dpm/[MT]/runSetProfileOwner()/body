{
  ComponentName component=parseComponentName(nextArgRequired());
  int userId=parseInt(nextArgRequired());
  mDevicePolicyManager.setActiveAdmin(component,true,userId);
  try {
    if (!mDevicePolicyManager.setProfileOwner(component,"",userId)) {
      throw new RuntimeException("Can't set component " + component.toShortString() + " as profile owner for user "+ userId);
    }
  }
 catch (  Exception e) {
    mDevicePolicyManager.removeActiveAdmin(component,userId);
    throw e;
  }
  System.out.println("Active admin and profile owner set to " + component.toShortString() + " for user "+ userId);
}
