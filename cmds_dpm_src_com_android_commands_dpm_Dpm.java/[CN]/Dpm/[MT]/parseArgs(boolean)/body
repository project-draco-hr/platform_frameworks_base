{
  String opt;
  while ((opt=nextOption()) != null) {
    if ("--user".equals(opt)) {
      String arg=nextArgRequired();
      if ("current".equals(arg) || "cur".equals(arg)) {
        mUserId=UserHandle.USER_CURRENT;
      }
 else {
        mUserId=parseInt(arg);
      }
      if (mUserId == UserHandle.USER_CURRENT) {
        IActivityManager activityManager=ActivityManagerNative.getDefault();
        try {
          mUserId=activityManager.getCurrentUser().id;
        }
 catch (        RemoteException e) {
          e.rethrowAsRuntimeException();
        }
      }
    }
 else     if (canHaveName && "--name".equals(opt)) {
      mName=nextArgRequired();
    }
 else {
      throw new IllegalArgumentException("Unknown option: " + opt);
    }
  }
  mComponent=parseComponentName(nextArgRequired());
}
