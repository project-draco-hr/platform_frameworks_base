{
  Log.e(TAG,"SimpleRecordController setup()");
  if (mMediaRecorder == null) {
    mMediaRecorder=new MediaRecorder();
  }
  mMediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);
  mMediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);
  mMediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);
  mFileName=Environment.getExternalStorageDirectory().toString() + "/music/" + mFileNameBase+ "_"+ ++mFileCount+ ".amr";
  mLastRecordedFile=mFileName;
  Log.e(TAG,"recording to file: " + mLastRecordedFile);
  mMediaRecorder.setOutputFile(mFileName);
  try {
    mMediaRecorder.prepare();
  }
 catch (  Exception e) {
    Log.e(TAG,"Could not prepare MediaRecorder: ",e);
    mMediaRecorder.release();
    mMediaRecorder=null;
  }
}
