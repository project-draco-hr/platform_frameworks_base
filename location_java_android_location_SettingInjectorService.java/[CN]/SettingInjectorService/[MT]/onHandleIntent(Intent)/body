{
  Messenger messenger=intent.getParcelableExtra(MESSENGER_KEY);
  Status status;
  try {
    status=getStatus();
  }
 catch (  RuntimeException e) {
    Log.e(TAG,mName + ": error getting status",e);
    status=null;
  }
  Message message=Message.obtain();
  Bundle bundle=new Bundle();
  if (status != null) {
    bundle.putString(STATUS_KEY,status.summary);
    bundle.putString(SUMMARY_KEY,status.summary);
    bundle.putBoolean(ENABLED_KEY,status.enabled);
  }
  message.setData(bundle);
  if (Log.isLoggable(TAG,Log.DEBUG)) {
    Log.d(TAG,mName + ": received " + intent+ " and "+ status+ ", sending message: "+ message);
  }
  try {
    messenger.send(message);
  }
 catch (  RemoteException e) {
    Log.e(TAG,mName + ": sending status failed",e);
  }
}
