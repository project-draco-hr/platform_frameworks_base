{
  boolean videoRecordedResult=false;
  try {
    mCamera=Camera.open(CAMERA_ID);
    Camera.Parameters parameters=mCamera.getParameters();
    parameters.setPreviewSize(352,288);
    parameters.set("orientation","portrait");
    mCamera.setParameters(parameters);
    mCamera.unlock();
    mRecorder.setCamera(mCamera);
    Thread.sleep(1000);
    int codec=MediaRecorder.VideoEncoder.H263;
    int frameRate=MediaProfileReader.getMaxFrameRateForCodec(codec);
    recordVideo(frameRate,352,288,codec,MediaRecorder.OutputFormat.THREE_GPP,MediaNames.RECORDED_PORTRAIT_H263,true);
    mCamera.lock();
    mCamera.release();
    videoRecordedResult=validateVideo(MediaNames.RECORDED_PORTRAIT_H263,352,288);
  }
 catch (  Exception e) {
    Log.v(TAG,e.toString());
  }
  assertTrue("PortraitH263",videoRecordedResult);
}
