{
  MediaMetadataRetriever retriever=new MediaMetadataRetriever();
  retriever.setDataSource(filePath);
  String captureFps=retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_CAPTURE_FRAMERATE);
  if (captureFps == null) {
    Log.d(TAG,"METADATA_KEY_CAPTURE_FRAMERATE is missing");
    return false;
  }
  if (Math.abs(Float.parseFloat(captureFps) - captureRate) > 0.001) {
    Log.d(TAG,"METADATA_KEY_CAPTURE_FRAMERATE is incorrect: " + captureFps + "vs. "+ captureRate);
    return false;
  }
  return true;
}
