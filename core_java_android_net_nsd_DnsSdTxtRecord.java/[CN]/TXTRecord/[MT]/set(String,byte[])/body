{
  byte[] keyBytes;
  int valLen=(value != null) ? value.length : 0;
  try {
    keyBytes=key.getBytes("US-ASCII");
  }
 catch (  java.io.UnsupportedEncodingException uee) {
    throw new IllegalArgumentException();
  }
  for (int i=0; i < keyBytes.length; i++)   if (keyBytes[i] == '=')   throw new IllegalArgumentException();
  if (keyBytes.length + valLen >= 255)   throw new ArrayIndexOutOfBoundsException();
  int prevLoc=this.remove(key);
  if (prevLoc == -1)   prevLoc=this.size();
  this.insert(keyBytes,value,prevLoc);
}
