{
  int count=getChildCount();
  if (mSortedVerticalChildren.length != count)   mSortedVerticalChildren=new View[count];
  if (mSortedHorizontalChildren.length != count)   mSortedHorizontalChildren=new View[count];
  final DependencyGraph graph=mGraph;
  graph.clear();
  for (int i=0; i < count; i++) {
    final View child=getChildAt(i);
    graph.add(child);
  }
  if (DEBUG_GRAPH) {
    d(LOG_TAG,"=== Sorted vertical children");
    graph.log(getResources(),ABOVE,BELOW,ALIGN_BASELINE,ALIGN_TOP,ALIGN_BOTTOM);
    d(LOG_TAG,"=== Sorted horizontal children");
    graph.log(getResources(),LEFT_OF,RIGHT_OF,ALIGN_LEFT,ALIGN_RIGHT);
  }
  graph.getSortedViews(mSortedVerticalChildren,ABOVE,BELOW,ALIGN_BASELINE,ALIGN_TOP,ALIGN_BOTTOM);
  graph.getSortedViews(mSortedHorizontalChildren,LEFT_OF,RIGHT_OF,ALIGN_LEFT,ALIGN_RIGHT);
}
