{
  final int layoutDirection=getLayoutDirection();
  int[] rules=params.getRules(layoutDirection);
  if (params.mLeft == VALUE_NOT_SET && params.mRight != VALUE_NOT_SET) {
    params.mLeft=params.mRight - child.getMeasuredWidth();
  }
 else   if (params.mLeft != VALUE_NOT_SET && params.mRight == VALUE_NOT_SET) {
    params.mRight=params.mLeft + child.getMeasuredWidth();
  }
 else   if (params.mLeft == VALUE_NOT_SET && params.mRight == VALUE_NOT_SET) {
    if (rules[CENTER_IN_PARENT] != 0 || rules[CENTER_HORIZONTAL] != 0) {
      if (!wrapContent) {
        centerHorizontal(child,params,myWidth);
      }
 else {
        params.mLeft=mPaddingLeft + params.leftMargin;
        params.mRight=params.mLeft + child.getMeasuredWidth();
      }
      return true;
    }
 else {
      if (isLayoutRtl()) {
        params.mRight=myWidth - mPaddingRight - params.rightMargin;
        params.mLeft=params.mRight - child.getMeasuredWidth();
      }
 else {
        params.mLeft=mPaddingLeft + params.leftMargin;
        params.mRight=params.mLeft + child.getMeasuredWidth();
      }
    }
  }
  return rules[ALIGN_PARENT_END] != 0;
}
