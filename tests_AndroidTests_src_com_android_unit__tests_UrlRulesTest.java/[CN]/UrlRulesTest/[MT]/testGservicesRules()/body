{
  ContentResolver r=getContext().getContentResolver();
  Settings.Gservices.putString(r,"digest","testGservicesRules");
  Settings.Gservices.putString(r,"url:blank_test","");
  Settings.Gservices.putString(r,"url:test","http://foo.bar/ rewrite http://bar.foo/");
  UrlRules rules=UrlRules.getRules(r);
  assertTrue(rules.matchRule("http://bar.foo/") == Rule.DEFAULT);
  Rule rule=rules.matchRule("http://foo.bar/bat");
  assertEquals("test",rule.mName);
  assertEquals("http://foo.bar/",rule.mPrefix);
  assertEquals("http://bar.foo/",rule.mRewrite);
  assertFalse(rule.mBlock);
}
