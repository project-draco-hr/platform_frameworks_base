{
  if (rotation == 0)   return source;
  int w=source.getWidth();
  int h=source.getHeight();
  Matrix m=new Matrix();
  m.postRotate(rotation);
  Bitmap bitmap=Bitmap.createBitmap(source,0,0,w,h,m,true);
  if (recycle)   source.recycle();
  return bitmap;
}
