{
  final UsbDevice device=intent.getExtras().getParcelable(UsbManager.EXTRA_DEVICE);
switch (intent.getAction()) {
case UsbManager.ACTION_USB_DEVICE_ATTACHED:
    startService(context,MtpDocumentsService.ACTION_OPEN_DEVICE,device);
  break;
case UsbManager.ACTION_USB_DEVICE_DETACHED:
startService(context,MtpDocumentsService.ACTION_CLOSE_DEVICE,device);
break;
}
}
