{
  if (inputId == null) {
    throw new IllegalArgumentException("id cannot be null");
  }
  if (listener == null) {
    throw new IllegalArgumentException("listener cannot be null");
  }
  if (handler == null) {
    throw new IllegalArgumentException("handler cannot be null");
  }
synchronized (mTvInputListenerRecordsMap) {
    List<TvInputListenerRecord> records=mTvInputListenerRecordsMap.get(inputId);
    if (records == null) {
      records=new ArrayList<TvInputListenerRecord>();
      mTvInputListenerRecordsMap.put(inputId,records);
      try {
        mService.registerCallback(mClient,inputId,mUserId);
      }
 catch (      RemoteException e) {
        throw new RuntimeException(e);
      }
    }
    records.add(new TvInputListenerRecord(listener,handler));
  }
}
