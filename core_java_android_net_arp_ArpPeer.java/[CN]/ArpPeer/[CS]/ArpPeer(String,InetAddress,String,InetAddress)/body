{
  mInterfaceName=interfaceName;
  mMyAddr=myAddr;
  if (mac != null) {
    for (int i=0; i < MAC_ADDR_LENGTH; i++) {
      mMyMac[i]=(byte)Integer.parseInt(mac.substring(i * 3,(i * 3) + 2),16);
    }
  }
  if (myAddr instanceof Inet6Address || peer instanceof Inet6Address) {
    throw new IllegalArgumentException("IPv6 unsupported");
  }
  mPeer=peer;
  L2_BROADCAST=new byte[MAC_ADDR_LENGTH];
  Arrays.fill(L2_BROADCAST,(byte)0xFF);
  mSocket=new RawSocket(mInterfaceName,RawSocket.ETH_P_ARP);
}
