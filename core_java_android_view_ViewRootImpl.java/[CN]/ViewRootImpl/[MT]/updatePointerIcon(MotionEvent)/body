{
  final float x=event.getX();
  final float y=event.getY();
  if (mView == null) {
    Slog.d(mTag,"updatePointerIcon called after view was removed");
    return false;
  }
  if (x < 0 || x >= mView.getWidth() || y < 0 || y >= mView.getHeight()) {
    Slog.d(mTag,"updatePointerIcon called with position out of bounds");
    return false;
  }
  final PointerIcon pointerIcon=mView.getPointerIcon(event,x,y);
  final int pointerShape=(pointerIcon != null) ? pointerIcon.getStyle() : PointerIcon.STYLE_DEFAULT;
  if (mPointerIconShape != pointerShape) {
    mPointerIconShape=pointerShape;
    if (mPointerIconShape != PointerIcon.STYLE_CUSTOM) {
      mCustomPointerIcon=null;
      InputManager.getInstance().setPointerIconShape(pointerShape);
      return true;
    }
  }
  if (mPointerIconShape == PointerIcon.STYLE_CUSTOM && !pointerIcon.equals(mCustomPointerIcon)) {
    mCustomPointerIcon=pointerIcon;
    InputManager.getInstance().setCustomPointerIcon(mCustomPointerIcon);
  }
  return true;
}
