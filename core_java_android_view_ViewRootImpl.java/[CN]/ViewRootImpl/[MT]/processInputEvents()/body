{
  while (mCurrentInputEvent == null && mFirstPendingInputEvent != null) {
    QueuedInputEvent q=mFirstPendingInputEvent;
    mFirstPendingInputEvent=q.mNext;
    q.mNext=null;
    mCurrentInputEvent=q;
    deliverInputEvent(q);
  }
  if (mProcessInputEventsPending) {
    mProcessInputEventsPending=false;
    removeMessages(DO_PROCESS_INPUT_EVENTS);
  }
}
