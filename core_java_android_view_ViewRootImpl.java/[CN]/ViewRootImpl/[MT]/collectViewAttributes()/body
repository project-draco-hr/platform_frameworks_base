{
  final View.AttachInfo attachInfo=mAttachInfo;
  if (attachInfo.mRecomputeGlobalAttributes) {
    attachInfo.mRecomputeGlobalAttributes=false;
    boolean oldScreenOn=attachInfo.mKeepScreenOn;
    attachInfo.mKeepScreenOn=false;
    attachInfo.mSystemUiVisibility=0;
    attachInfo.mHasSystemUiListeners=false;
    mView.dispatchCollectViewAttributes(attachInfo,0);
    attachInfo.mSystemUiVisibility&=~attachInfo.mDisabledSystemUiVisibility;
    WindowManager.LayoutParams params=mWindowAttributes;
    if (attachInfo.mKeepScreenOn != oldScreenOn || attachInfo.mSystemUiVisibility != params.subtreeSystemUiVisibility || attachInfo.mHasSystemUiListeners != params.hasSystemUiListeners) {
      applyKeepScreenOnFlag(params);
      params.subtreeSystemUiVisibility=attachInfo.mSystemUiVisibility;
      params.hasSystemUiListeners=attachInfo.mHasSystemUiListeners;
      mView.dispatchWindowSystemUiVisiblityChanged(attachInfo.mSystemUiVisibility);
      return true;
    }
  }
  return false;
}
