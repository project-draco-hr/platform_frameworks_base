{
  final View.AttachInfo attachInfo=mAttachInfo;
  if (attachInfo.mRecomputeGlobalAttributes) {
    attachInfo.mRecomputeGlobalAttributes=false;
    boolean oldScreenOn=attachInfo.mKeepScreenOn;
    int oldVis=attachInfo.mSystemUiVisibility;
    boolean oldHasSystemUiListeners=attachInfo.mHasSystemUiListeners;
    attachInfo.mKeepScreenOn=false;
    attachInfo.mSystemUiVisibility=0;
    attachInfo.mHasSystemUiListeners=false;
    mView.dispatchCollectViewAttributes(attachInfo,0);
    attachInfo.mSystemUiVisibility&=~attachInfo.mDisabledSystemUiVisibility;
    if (attachInfo.mKeepScreenOn != oldScreenOn || attachInfo.mSystemUiVisibility != oldVis || attachInfo.mHasSystemUiListeners != oldHasSystemUiListeners) {
      WindowManager.LayoutParams params=mWindowAttributes;
      applyKeepScreenOnFlag(params);
      params.subtreeSystemUiVisibility=attachInfo.mSystemUiVisibility;
      params.hasSystemUiListeners=attachInfo.mHasSystemUiListeners;
      mView.dispatchWindowSystemUiVisiblityChanged(attachInfo.mSystemUiVisibility);
      return true;
    }
  }
  return false;
}
