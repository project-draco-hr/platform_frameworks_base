{
  if (ViewDebug.DEBUG_LATENCY) {
    q.mDeliverTimeNanos=System.nanoTime();
  }
  Trace.traceBegin(Trace.TRACE_TAG_VIEW,"deliverInputEvent");
  try {
    if (q.mEvent instanceof KeyEvent) {
      deliverKeyEvent(q);
    }
 else {
      final int source=q.mEvent.getSource();
      if ((source & InputDevice.SOURCE_CLASS_POINTER) != 0) {
        deliverPointerEvent(q);
      }
 else       if ((source & InputDevice.SOURCE_CLASS_TRACKBALL) != 0) {
        deliverTrackballEvent(q);
      }
 else {
        deliverGenericMotionEvent(q);
      }
    }
  }
  finally {
    Trace.traceEnd(Trace.TRACE_TAG_VIEW);
  }
}
