{
  if (mView == null) {
    return false;
  }
  final int eventType=event.getEventType();
switch (eventType) {
case AccessibilityEvent.TYPE_VIEW_ACCESSIBILITY_FOCUSED:
{
      final long sourceNodeId=event.getSourceNodeId();
      final int accessibilityViewId=AccessibilityNodeInfo.getAccessibilityViewId(sourceNodeId);
      View source=mView.findViewByAccessibilityId(accessibilityViewId);
      if (source != null) {
        AccessibilityNodeProvider provider=source.getAccessibilityNodeProvider();
        if (provider != null) {
          AccessibilityNodeInfo node=provider.createAccessibilityNodeInfo(AccessibilityNodeInfo.getVirtualDescendantId(sourceNodeId));
          setAccessibilityFocus(source,node);
        }
      }
    }
  break;
case AccessibilityEvent.TYPE_VIEW_ACCESSIBILITY_FOCUS_CLEARED:
{
  final long sourceNodeId=event.getSourceNodeId();
  final int accessibilityViewId=AccessibilityNodeInfo.getAccessibilityViewId(sourceNodeId);
  View source=mView.findViewByAccessibilityId(accessibilityViewId);
  if (source != null) {
    AccessibilityNodeProvider provider=source.getAccessibilityNodeProvider();
    if (provider != null) {
      setAccessibilityFocus(null,null);
    }
  }
}
break;
}
mAccessibilityManager.sendAccessibilityEvent(event);
return true;
}
