{
  if (mView == null || mStopped || mPausedForTransition) {
    return false;
  }
  final int eventType=event.getEventType();
switch (eventType) {
case AccessibilityEvent.TYPE_VIEW_ACCESSIBILITY_FOCUSED:
{
      final long sourceNodeId=event.getSourceNodeId();
      final int accessibilityViewId=AccessibilityNodeInfo.getAccessibilityViewId(sourceNodeId);
      View source=mView.findViewByAccessibilityId(accessibilityViewId);
      if (source != null) {
        AccessibilityNodeProvider provider=source.getAccessibilityNodeProvider();
        if (provider != null) {
          final int virtualNodeId=AccessibilityNodeInfo.getVirtualDescendantId(sourceNodeId);
          final AccessibilityNodeInfo node;
          if (virtualNodeId == AccessibilityNodeInfo.UNDEFINED_ITEM_ID) {
            node=provider.createAccessibilityNodeInfo(AccessibilityNodeProvider.HOST_VIEW_ID);
          }
 else {
            node=provider.createAccessibilityNodeInfo(virtualNodeId);
          }
          setAccessibilityFocus(source,node);
        }
      }
    }
  break;
case AccessibilityEvent.TYPE_VIEW_ACCESSIBILITY_FOCUS_CLEARED:
{
  final long sourceNodeId=event.getSourceNodeId();
  final int accessibilityViewId=AccessibilityNodeInfo.getAccessibilityViewId(sourceNodeId);
  View source=mView.findViewByAccessibilityId(accessibilityViewId);
  if (source != null) {
    AccessibilityNodeProvider provider=source.getAccessibilityNodeProvider();
    if (provider != null) {
      setAccessibilityFocus(null,null);
    }
  }
}
break;
case AccessibilityEvent.TYPE_WINDOW_CONTENT_CHANGED:
{
handleWindowContentChangedEvent(event);
}
break;
}
mAccessibilityManager.sendAccessibilityEvent(event);
return true;
}
