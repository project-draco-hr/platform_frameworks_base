{
  if (mAccessibilityFocusedVirtualView != null) {
    AccessibilityNodeInfo focusNode=mAccessibilityFocusedVirtualView;
    View focusHost=mAccessibilityFocusedHost;
    focusHost.clearAccessibilityFocusNoCallbacks();
    mAccessibilityFocusedHost=null;
    mAccessibilityFocusedVirtualView=null;
    AccessibilityNodeProvider provider=focusHost.getAccessibilityNodeProvider();
    if (provider != null) {
      focusNode.getBoundsInParent(mTempRect);
      focusHost.invalidate(mTempRect);
      final int virtualNodeId=AccessibilityNodeInfo.getVirtualDescendantId(focusNode.getSourceNodeId());
      provider.performAction(virtualNodeId,AccessibilityNodeInfo.ACTION_CLEAR_ACCESSIBILITY_FOCUS,null);
    }
  }
  if (mAccessibilityFocusedHost != null) {
    mAccessibilityFocusedHost.clearAccessibilityFocusNoCallbacks();
  }
  mAccessibilityFocusedHost=host;
  if (mAccessibilityFocusedHost != null) {
    AccessibilityNodeProvider provider=mAccessibilityFocusedHost.getAccessibilityNodeProvider();
    if (provider != null) {
      mAccessibilityFocusedVirtualView=provider.findAccessibilityFocus(View.NO_ID);
      return;
    }
  }
}
