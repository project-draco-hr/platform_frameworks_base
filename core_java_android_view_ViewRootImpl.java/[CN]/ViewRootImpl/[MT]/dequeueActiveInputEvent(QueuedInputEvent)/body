{
  QueuedInputEvent curr=mActiveInputEventHead;
  QueuedInputEvent prev=null;
  while (curr != null && curr != q) {
    prev=curr;
    curr=curr.mNext;
  }
  if (curr != null) {
    if (mActiveInputEventHead == curr) {
      mActiveInputEventHead=curr.mNext;
    }
 else {
      prev.mNext=curr.mNext;
    }
    if (mActiveInputEventTail == curr) {
      mActiveInputEventTail=prev;
    }
    curr.mNext=null;
    mActiveInputEventCount-=1;
    Trace.traceCounter(Trace.TRACE_TAG_INPUT,mActiveInputEventQueueLengthCounterName,mActiveInputEventCount);
  }
  return curr;
}
