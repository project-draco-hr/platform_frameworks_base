{
  QueuedInputEvent q=obtainQueuedInputEvent(event,receiver,flags);
  if (ViewDebug.DEBUG_LATENCY) {
    q.mReceiveTimeNanos=System.nanoTime();
    q.mDeliverTimeNanos=0;
    q.mDeliverPostImeTimeNanos=0;
  }
  QueuedInputEvent last=mFirstPendingInputEvent;
  if (last == null) {
    mFirstPendingInputEvent=q;
  }
 else {
    while (last.mNext != null) {
      last=last.mNext;
    }
    last.mNext=q;
  }
  if (processImmediately) {
    doProcessInputEvents();
  }
 else {
    scheduleProcessInputEvents();
  }
}
