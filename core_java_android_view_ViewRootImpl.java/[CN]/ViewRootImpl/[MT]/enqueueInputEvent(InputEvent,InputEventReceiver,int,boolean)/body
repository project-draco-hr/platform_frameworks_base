{
  QueuedInputEvent q=obtainQueuedInputEvent(event,receiver,flags);
  QueuedInputEvent last=mFirstPendingInputEvent;
  if (last == null) {
    mFirstPendingInputEvent=q;
  }
 else {
    while (last.mNext != null) {
      last=last.mNext;
    }
    last.mNext=q;
  }
  mPendingInputEventCount+=1;
  Trace.traceCounter(Trace.TRACE_TAG_INPUT,mPendingInputEventQueueLengthCounterName,mPendingInputEventCount);
  if (processImmediately) {
    doProcessInputEvents();
  }
 else {
    scheduleProcessInputEvents();
  }
}
