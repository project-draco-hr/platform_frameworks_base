{
  final MotionEvent event=(MotionEvent)q.mEvent;
  if (mInputEventConsistencyVerifier != null) {
    mInputEventConsistencyVerifier.onTrackballEvent(event,0);
  }
  if (mView != null && mAdded && (q.mFlags & QueuedInputEvent.FLAG_DELIVER_POST_IME) == 0) {
    if (LOCAL_LOGV)     Log.v(TAG,"Dispatching trackball " + event + " to "+ mView);
    if (mLastWasImTarget) {
      InputMethodManager imm=InputMethodManager.peekInstance();
      if (imm != null) {
        final int seq=event.getSequenceNumber();
        if (DEBUG_IMF)         Log.v(TAG,"Sending trackball event to IME: seq=" + seq + " event="+ event);
        int result=imm.dispatchTrackballEvent(mView.getContext(),seq,event,mInputMethodCallback);
        if (result != EVENT_NOT_HANDLED) {
          return result;
        }
      }
    }
  }
  return deliverTrackballEventPostIme(q);
}
