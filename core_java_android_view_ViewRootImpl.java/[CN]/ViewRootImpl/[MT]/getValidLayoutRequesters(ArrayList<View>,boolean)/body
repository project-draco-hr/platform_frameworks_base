{
  int numViewsRequestingLayout=layoutRequesters.size();
  ArrayList<View> validLayoutRequesters=null;
  for (int i=0; i < numViewsRequestingLayout; ++i) {
    View view=layoutRequesters.get(i);
    if (view != null && view.mAttachInfo != null && view.mParent != null && (secondLayoutRequests || (view.mPrivateFlags & View.PFLAG_FORCE_LAYOUT) == View.PFLAG_FORCE_LAYOUT)) {
      boolean gone=false;
      View parent=view;
      while (parent != null) {
        if ((parent.mViewFlags & View.VISIBILITY_MASK) == View.GONE) {
          gone=true;
          break;
        }
        if (parent.mParent instanceof View) {
          parent=(View)parent.mParent;
        }
 else {
          parent=null;
        }
      }
      if (!gone) {
        if (validLayoutRequesters == null) {
          validLayoutRequesters=new ArrayList<View>();
        }
        validLayoutRequesters.add(view);
      }
    }
  }
  if (!secondLayoutRequests) {
    for (int i=0; i < numViewsRequestingLayout; ++i) {
      View view=layoutRequesters.get(i);
      while (view != null && (view.mPrivateFlags & View.PFLAG_FORCE_LAYOUT) != 0) {
        view.mPrivateFlags&=~View.PFLAG_FORCE_LAYOUT;
        if (view.mParent instanceof View) {
          view=(View)view.mParent;
        }
 else {
          view=null;
        }
      }
    }
  }
  layoutRequesters.clear();
  return validLayoutRequesters;
}
