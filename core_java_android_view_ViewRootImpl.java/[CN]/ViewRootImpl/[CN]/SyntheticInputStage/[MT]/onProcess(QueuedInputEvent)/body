{
  q.mFlags|=QueuedInputEvent.FLAG_RESYNTHESIZED;
  if (q.mEvent instanceof MotionEvent) {
    final MotionEvent event=(MotionEvent)q.mEvent;
    final int source=event.getSource();
    if ((source & InputDevice.SOURCE_CLASS_TRACKBALL) != 0) {
      mTrackball.process(event);
      return FINISH_HANDLED;
    }
 else     if ((source & InputDevice.SOURCE_CLASS_JOYSTICK) != 0) {
      mJoystick.process(event);
      return FINISH_HANDLED;
    }
 else     if ((source & InputDevice.SOURCE_TOUCH_NAVIGATION) == InputDevice.SOURCE_TOUCH_NAVIGATION) {
      mTouchNavigation.process(event);
      return FINISH_HANDLED;
    }
  }
 else   if (q.mEvent instanceof KeyEvent) {
    if (mKeys.process((KeyEvent)q.mEvent)) {
      return FINISH_HANDLED;
    }
  }
  return FORWARD;
}
