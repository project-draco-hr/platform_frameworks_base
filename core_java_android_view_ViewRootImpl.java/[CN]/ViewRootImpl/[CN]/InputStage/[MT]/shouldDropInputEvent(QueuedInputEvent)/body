{
  if (mView == null || !mAdded) {
    Slog.w(mTag,"Dropping event due to root view being removed: " + q.mEvent);
    return true;
  }
 else   if ((!mAttachInfo.mHasWindowFocus && !q.mEvent.isFromSource(InputDevice.SOURCE_CLASS_POINTER)) || mStopped || (mIsAmbientMode && !q.mEvent.isFromSource(InputDevice.SOURCE_CLASS_BUTTON))|| (mPausedForTransition && !isBack(q.mEvent))) {
    if (isTerminalInputEvent(q.mEvent)) {
      q.mEvent.cancel();
      Slog.w(mTag,"Cancelling event due to no window focus: " + q.mEvent);
      return false;
    }
    Slog.w(mTag,"Dropping event due to no window focus: " + q.mEvent);
    return true;
  }
  return false;
}
