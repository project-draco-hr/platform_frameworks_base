{
  if ((q.mFlags & QueuedInputEvent.FLAG_FINISHED) != 0) {
    forward(q);
  }
 else   if (mView == null || !mAdded) {
    Slog.w(TAG,"Dropping event due to root view being removed: " + q.mEvent);
    finish(q,false);
  }
 else   if (!mAttachInfo.mHasWindowFocus && !q.mEvent.isFromSource(InputDevice.SOURCE_CLASS_POINTER) && !isTerminalInputEvent(q.mEvent)) {
    Slog.w(TAG,"Dropping event due to no window focus: " + q.mEvent);
    finish(q,false);
  }
 else {
    apply(q,onProcess(q));
  }
}
