{
  QueuedInputEvent q=(QueuedInputEvent)token;
  if (handled) {
    finish(q,true);
    return;
  }
  if (!mAttachInfo.mHasWindowFocus && !isTerminalInputEvent(q.mEvent)) {
    Slog.w(TAG,"Dropping event due to no window focus: " + q.mEvent);
    finish(q,false);
    return;
  }
  forward(q);
}
