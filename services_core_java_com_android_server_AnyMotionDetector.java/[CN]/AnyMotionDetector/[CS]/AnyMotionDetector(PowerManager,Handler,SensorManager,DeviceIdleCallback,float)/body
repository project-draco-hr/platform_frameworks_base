{
  if (DEBUG)   Slog.d(TAG,"AnyMotionDetector instantiated.");
  mWakeLock=pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,TAG);
  mWakeLock.setReferenceCounted(false);
  mHandler=handler;
  mSensorManager=sm;
  mAccelSensor=mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);
  mMeasurementInProgress=false;
  mState=STATE_INACTIVE;
  mCallback=callback;
  mThresholdAngle=thresholdAngle;
  mRunningStats=new RunningSignalStats();
  mNumSufficientSamples=(int)Math.ceil(((double)ORIENTATION_MEASUREMENT_DURATION_MILLIS / SAMPLING_INTERVAL_MILLIS));
  if (DEBUG)   Slog.d(TAG,"mNumSufficientSamples = " + mNumSufficientSamples);
}
