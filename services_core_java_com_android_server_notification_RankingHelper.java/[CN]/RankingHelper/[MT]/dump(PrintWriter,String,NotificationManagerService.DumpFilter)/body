{
  if (filter == null) {
    final int N=mSignalExtractors.length;
    pw.print(prefix);
    pw.print("mSignalExtractors.length = ");
    pw.println(N);
    for (int i=0; i < N; i++) {
      pw.print(prefix);
      pw.print("  ");
      pw.println(mSignalExtractors[i]);
    }
  }
  if (filter == null) {
    pw.print(prefix);
    pw.println("per-package config:");
  }
  final int N=mRecords.size();
  for (int i=0; i < N; i++) {
    final Record r=mRecords.valueAt(i);
    if (filter == null || filter.matches(r.pkg)) {
      pw.print(prefix);
      pw.print("  ");
      pw.print(r.pkg);
      pw.print(" (");
      pw.print(r.uid);
      pw.print(')');
      if (r.priority != DEFAULT_PRIORITY) {
        pw.print(" priority=");
        pw.print(Notification.priorityToString(r.priority));
      }
      if (r.peekable != DEFAULT_PEEKABLE) {
        pw.print(" peekable=");
        pw.print(r.peekable);
      }
      if (r.visibility != DEFAULT_VISIBILITY) {
        pw.print(" visibility=");
        pw.print(Notification.visibilityToString(r.visibility));
      }
      pw.println();
    }
  }
}
