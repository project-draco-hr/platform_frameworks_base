{
  Iterator<ShaderParam> allParamsIter=mSourceParams.values().iterator();
  int paramIndex=0;
  while (allParamsIter.hasNext()) {
    ShaderParam sp=allParamsIter.next();
    if (sp instanceof TextureParam) {
      TextureParam p=(TextureParam)sp;
      TextureBase tex=p.getTexture();
      if (tex != null) {
        mData.pf_textures[paramIndex++]=tex.getRsData();
      }
    }
  }
  ProgramFragment pf=mRenderState.mFragment.mProgram;
  mData.pf_num_textures=pf != null ? Math.min(pf.getTextureCount(),paramIndex) : 0;
  mField.set(mData,0,true);
}
