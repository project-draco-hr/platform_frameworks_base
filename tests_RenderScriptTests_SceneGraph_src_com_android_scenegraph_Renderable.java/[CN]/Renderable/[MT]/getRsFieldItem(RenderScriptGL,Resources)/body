{
  if (mRsFieldItem != null) {
    return;
  }
  VertexShader pv=mRenderState.mVertex;
  if (pv != null && pv.getObjectConstants() != null) {
    mVertexConstants=Allocation.createTyped(rs,pv.getObjectConstants());
  }
  FragmentShader pf=mRenderState.mFragment;
  if (pf != null && pf.getObjectConstants() != null) {
    mFragmentConstants=Allocation.createTyped(rs,pf.getObjectConstants());
  }
  linkConstants();
  ScriptField_ShaderParam_s pvParams=null, pfParams=null;
  int paramCount=mVertexParamList.size();
  if (paramCount != 0) {
    pvParams=new ScriptField_ShaderParam_s(rs,paramCount);
    for (int i=0; i < paramCount; i++) {
      pvParams.set(mVertexParamList.get(i).getRSData(rs),i,false);
    }
    pvParams.copyAll();
  }
  paramCount=mFragmentParamList.size();
  if (paramCount != 0) {
    pfParams=new ScriptField_ShaderParam_s(rs,paramCount);
    for (int i=0; i < paramCount; i++) {
      pfParams.set(mFragmentParamList.get(i).getRSData(rs),i,false);
    }
    pfParams.copyAll();
  }
  mRsFieldItem=new ScriptField_Renderable_s.Item();
  mRsFieldItem.mesh=mMesh;
  mRsFieldItem.meshIndex=mMeshIndex;
  mRsFieldItem.pv_const=mVertexConstants;
  mRsFieldItem.pv_constParams=pvParams != null ? pvParams.getAllocation() : null;
  mRsFieldItem.pf_const=mFragmentConstants;
  mRsFieldItem.pf_constParams=pfParams != null ? pfParams.getAllocation() : null;
  if (mTransform != null) {
    mRsFieldItem.transformMatrix=mTransform.getRSData(rs).getAllocation();
  }
  mRsFieldItem.name=SceneManager.getStringAsAllocation(rs,getName());
  mRsFieldItem.render_state=mRenderState.getRSData(rs).getAllocation();
  mRsFieldItem.bVolInitialized=0;
  mRsFieldItem.cullType=mCullType;
}
