{
  if (mRsFieldItem != null) {
    return;
  }
  VertexShader pv=mRenderState.mVertex;
  if (pv != null && pv.getObjectConstants() != null) {
    mVertexConstants=Allocation.createTyped(rs,pv.getObjectConstants());
  }
  FragmentShader pf=mRenderState.mFragment;
  if (pf != null && pf.getObjectConstants() != null) {
    mFragmentConstants=Allocation.createTyped(rs,pf.getObjectConstants());
  }
  ScriptField_ShaderParam_s pvParams=null;
  if (mVertexConstants != null) {
    Element vertexConst=mVertexConstants.getType().getElement();
    pvParams=ShaderParam.fillInParams(vertexConst,mSourceParams,mTransform);
  }
  ScriptField_ShaderParam_s pfParams=null;
  if (mFragmentConstants != null) {
    Element fragmentConst=mFragmentConstants.getType().getElement();
    pfParams=ShaderParam.fillInParams(fragmentConst,mSourceParams,mTransform);
  }
  mRsFieldItem=new ScriptField_Renderable_s.Item();
  mRsFieldItem.mesh=mMesh;
  mRsFieldItem.meshIndex=mMeshIndex;
  mRsFieldItem.pv_const=mVertexConstants;
  mRsFieldItem.pv_constParams=pvParams != null ? pvParams.getAllocation() : null;
  mRsFieldItem.pf_const=mFragmentConstants;
  mRsFieldItem.pf_constParams=pfParams != null ? pfParams.getAllocation() : null;
  if (mTransform != null) {
    mRsFieldItem.transformMatrix=mTransform.getRSData().getAllocation();
  }
  mRsFieldItem.name=SceneManager.getStringAsAllocation(rs,getName());
  mRsFieldItem.render_state=mRenderState.getRSData().getAllocation();
  mRsFieldItem.bVolInitialized=0;
  mRsFieldItem.cullType=mCullType;
}
