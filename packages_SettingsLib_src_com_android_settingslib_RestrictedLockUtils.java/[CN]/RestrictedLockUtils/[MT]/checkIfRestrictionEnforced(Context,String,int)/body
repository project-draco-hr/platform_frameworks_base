{
  DevicePolicyManager dpm=(DevicePolicyManager)context.getSystemService(Context.DEVICE_POLICY_SERVICE);
  if (dpm == null) {
    return null;
  }
  UserManager um=UserManager.get(context);
  int restrictionSource=um.getUserRestrictionSource(userRestriction,UserHandle.of(userId));
  if (restrictionSource == UserManager.RESTRICTION_NOT_SET || restrictionSource == UserManager.RESTRICTION_SOURCE_SYSTEM) {
    return null;
  }
  final boolean enforcedByProfileOwner=(restrictionSource & UserManager.RESTRICTION_SOURCE_PROFILE_OWNER) != 0;
  final boolean enforcedByDeviceOwner=(restrictionSource & UserManager.RESTRICTION_SOURCE_DEVICE_OWNER) != 0;
  if (enforcedByProfileOwner) {
    return getProfileOwner(context,userId);
  }
 else   if (enforcedByDeviceOwner) {
    final EnforcedAdmin deviceOwner=getDeviceOwner(context);
    return deviceOwner.userId == userId ? deviceOwner : EnforcedAdmin.MULTIPLE_ENFORCED_ADMIN;
  }
  return null;
}
