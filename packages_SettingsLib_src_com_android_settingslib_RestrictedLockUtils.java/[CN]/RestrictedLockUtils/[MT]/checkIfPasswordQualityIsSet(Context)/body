{
  final DevicePolicyManager dpm=(DevicePolicyManager)context.getSystemService(Context.DEVICE_POLICY_SERVICE);
  if (dpm == null) {
    return null;
  }
  boolean isDisabledByMultipleAdmins=false;
  ComponentName adminComponent=null;
  List<ComponentName> admins=dpm.getActiveAdmins();
  int quality;
  if (admins != null) {
    for (    ComponentName admin : admins) {
      quality=dpm.getPasswordQuality(admin);
      if (quality >= DevicePolicyManager.PASSWORD_QUALITY_UNSPECIFIED) {
        if (adminComponent == null) {
          adminComponent=admin;
        }
 else {
          isDisabledByMultipleAdmins=true;
          break;
        }
      }
    }
  }
  EnforcedAdmin enforcedAdmin=null;
  if (adminComponent != null) {
    if (!isDisabledByMultipleAdmins) {
      enforcedAdmin=new EnforcedAdmin(adminComponent,UserHandle.myUserId());
    }
 else {
      enforcedAdmin=new EnforcedAdmin();
    }
  }
  return enforcedAdmin;
}
