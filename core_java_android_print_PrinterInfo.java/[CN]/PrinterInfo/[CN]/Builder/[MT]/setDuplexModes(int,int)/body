{
  int currentModes=duplexModes;
  while (currentModes > 0) {
    final int currentMode=(1 << Integer.numberOfTrailingZeros(currentModes));
    currentModes&=~currentMode;
    PrintAttributes.enforceValidDuplexMode(currentMode);
  }
  if ((duplexModes & defaultDuplexMode) == 0) {
    throw new IllegalArgumentException("Default duplex mode not in duplex modes.");
  }
  PrintAttributes.enforceValidDuplexMode(defaultDuplexMode);
  mPrototype.mDuplexModes=duplexModes;
  mPrototype.mDefaults[PROPERTY_DUPLEX_MODE]=defaultDuplexMode;
  return this;
}
