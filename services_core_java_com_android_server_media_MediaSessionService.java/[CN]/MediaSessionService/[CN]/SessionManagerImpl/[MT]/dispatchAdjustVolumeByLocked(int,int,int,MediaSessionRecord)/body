{
  if (DEBUG) {
    String sessionInfo=session == null ? null : session.getSessionInfo().toString();
    Log.d(TAG,"Adjusting session " + sessionInfo + " by "+ delta+ ". flags="+ flags+ ", suggestedStream="+ suggestedStream);
  }
  if (session == null) {
    if ((flags & AudioManager.FLAG_ACTIVE_MEDIA_ONLY) != 0) {
      if (DEBUG) {
        Log.d(TAG,"No active session to adjust, skipping media only volume event");
        return;
      }
    }
    try {
      if (delta == 0) {
        mAudioService.adjustSuggestedStreamVolume(delta,suggestedStream,flags,getContext().getOpPackageName());
      }
 else {
        int direction=0;
        int steps=delta;
        if (delta > 0) {
          direction=1;
        }
 else         if (delta < 0) {
          direction=-1;
          steps=-delta;
        }
        for (int i=0; i < steps; i++) {
          mAudioService.adjustSuggestedStreamVolume(direction,suggestedStream,flags,getContext().getOpPackageName());
        }
      }
    }
 catch (    RemoteException e) {
      Log.e(TAG,"Error adjusting default volume.",e);
    }
  }
 else {
    session.adjustVolumeBy(delta,flags);
    if (session.getPlaybackType() == MediaSession.PLAYBACK_TYPE_REMOTE && mRvc != null) {
      try {
        mRvc.remoteVolumeChanged(session.getControllerBinder(),flags);
      }
 catch (      Exception e) {
        Log.wtf(TAG,"Error sending volume change to system UI.",e);
      }
    }
  }
}
