{
synchronized (mLock) {
    mPriorityStack.onSessionStateChange(record);
    if (record.isSystemPriority()) {
      if (record.isActive()) {
        if (mPrioritySession != null) {
          Log.w(TAG,"Replacing existing priority session with a new session");
        }
        mPrioritySession=record;
      }
 else {
        if (mPrioritySession == record) {
          mPrioritySession=null;
        }
      }
    }
  }
}
