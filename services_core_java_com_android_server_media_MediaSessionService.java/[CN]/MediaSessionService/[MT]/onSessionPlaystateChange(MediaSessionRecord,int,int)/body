{
  boolean updateSessions=false;
synchronized (mLock) {
    if (!mAllSessions.contains(record)) {
      Log.d(TAG,"Unknown session changed playback state. Ignoring.");
      return;
    }
    updateSessions=mPriorityStack.onPlaystateChange(record,oldState,newState);
  }
  if (updateSessions) {
    mHandler.post(MessageHandler.MSG_SESSIONS_CHANGED,record.getUserId(),0);
  }
}
