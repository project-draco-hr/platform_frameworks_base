{
synchronized (mLock) {
    int userId=ActivityManager.getCurrentUser();
    if (mCurrentUserId != userId) {
      final int oldUserId=mCurrentUserId;
      mCurrentUserId=userId;
      UserRecord oldUser=mUserRecords.get(oldUserId);
      if (oldUser != null) {
        oldUser.stopLocked();
      }
      UserRecord newUser=getOrCreateUser(userId);
      newUser.startLocked();
    }
  }
}
