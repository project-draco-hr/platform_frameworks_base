{
synchronized (mLock) {
    if (!mAllSessions.contains(session)) {
      Log.d(TAG,"Unknown session attempting to connect to route. Ignoring");
      return;
    }
    UserRecord user=mUserRecords.get(session.getUserId());
    if (user == null) {
      Log.wtf(TAG,"connectToRoute: User " + session.getUserId() + " does not exist.");
      return;
    }
    MediaRouteProviderProxy proxy=user.getProviderLocked(route.getProvider());
    if (proxy == null) {
      Log.w(TAG,"Provider for route " + route.getName() + " does not exist.");
      return;
    }
    RouteRequest request=new RouteRequest(session.getSessionInfo(),options,true);
    proxy.connectToRoute(session,route,request);
  }
}
