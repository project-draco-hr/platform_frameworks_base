{
  StatFs st=new StatFs("/data");
  long blks1=getFreeStorageBlks(st);
  File cacheDir=mContext.getCacheDir();
  assertNotNull(cacheDir);
  createTestFiles1(cacheDir,"testtmpdir",5);
  long blks2=getFreeStorageBlks(st);
  Log.i(TAG,"blk1=" + blks1 + ", blks2="+ blks2);
  long diff=(blks1 - blks2 - 2);
  if (!invokePMFreeApplicationCache(diff * st.getBlockSize())) {
    fail("Could not successfully invoke PackageManager free app cache API");
  }
  long blks3=getFreeStorageBlks(st);
  if (!((blks3 <= blks1) && (blks3 >= blks2))) {
    failStr("Expected " + (blks1 - blks2) + " number of blocks to be freed but freed only "+ (blks1 - blks3));
  }
}
