{
  super.resetState();
  if (DEBUG)   Log.v(TAG,"Resetting state");
  KeyguardUpdateMonitor monitor=KeyguardUpdateMonitor.getInstance(mContext);
  mSubId=monitor.getNextSubIdForState(IccCardConstants.State.PIN_REQUIRED);
  if (mSubId != SubscriptionManager.INVALID_SUBSCRIPTION_ID) {
    int count=TelephonyManager.getDefault().getSimCount();
    Resources rez=getResources();
    final String msg;
    int color=Color.WHITE;
    if (count < 2) {
      msg=rez.getString(R.string.kg_sim_pin_instructions);
    }
 else {
      SubscriptionInfo info=monitor.getSubscriptionInfoForSubId(mSubId);
      CharSequence displayName=info != null ? info.getDisplayName() : "";
      msg=rez.getString(R.string.kg_sim_pin_instructions_multi,displayName);
      if (info != null) {
        color=info.getIconTint();
      }
    }
    mSecurityMessageDisplay.setMessage(msg,true);
    mSimImageView.setImageTintList(ColorStateList.valueOf(color));
  }
}
