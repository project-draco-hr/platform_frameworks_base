{
  int[] values=android.telephony.gsm.SmsMessage.calculateLength(msgBody,use7bitOnly);
  assertEquals("msgCount",expectedValues[0],values[0]);
  assertEquals("codeUnitCount",expectedValues[1],values[1]);
  assertEquals("codeUnitsRemaining",expectedValues[2],values[2]);
  assertEquals("codeUnitSize",expectedValues[3],values[3]);
  int activePhone=TelephonyManager.getDefault().getPhoneType();
  if (TelephonyManager.PHONE_TYPE_GSM == activePhone) {
    values=android.telephony.SmsMessage.calculateLength(msgBody,use7bitOnly);
    assertEquals("msgCount",expectedValues[0],values[0]);
    assertEquals("codeUnitCount",expectedValues[1],values[1]);
    assertEquals("codeUnitsRemaining",expectedValues[2],values[2]);
    assertEquals("codeUnitSize",expectedValues[3],values[3]);
  }
  SmsMessageBase.TextEncodingDetails ted=com.android.internal.telephony.gsm.SmsMessage.calculateLength(msgBody,use7bitOnly);
  assertEquals("msgCount",expectedValues[0],ted.msgCount);
  assertEquals("codeUnitCount",expectedValues[1],ted.codeUnitCount);
  assertEquals("codeUnitsRemaining",expectedValues[2],ted.codeUnitsRemaining);
  assertEquals("codeUnitSize",expectedValues[3],ted.codeUnitSize);
  assertEquals("languageTable",expectedValues[4],ted.languageTable);
  assertEquals("languageShiftTable",expectedValues[5],ted.languageShiftTable);
}
