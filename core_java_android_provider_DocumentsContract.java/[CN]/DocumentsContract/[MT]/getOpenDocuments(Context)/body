{
  final int openedFlags=Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_PERSIST_GRANT_URI_PERMISSION;
  final Uri[] uris=context.getContentResolver().getIncomingUriPermissionGrants(openedFlags,openedFlags);
  final PackageManager pm=context.getPackageManager();
  final List<Uri> result=Lists.newArrayList();
  for (  Uri uri : uris) {
    final ProviderInfo info=pm.resolveContentProvider(uri.getAuthority(),PackageManager.GET_META_DATA);
    if (info.metaData.containsKey(META_DATA_DOCUMENT_PROVIDER)) {
      result.add(uri);
    }
  }
  return result.toArray(new Uri[result.size()]);
}
