{
  short data[][]=((ShortLookupTable)lut).getTable();
  int nLevels=data[0].length;
  int offset=lut.getOffset();
  int dataIncrement=data.length > 1 ? 1 : 0;
  for (int ch=0, dataIdx=0; ch < channels; dataIdx+=dataIncrement, ch++) {
    int channelOffset=channelsOrder == null ? ch : channelsOrder[ch];
    if ((channelOffset == channels - 1 && skipAlpha) || (dataIdx >= data.length)) {
      continue;
    }
    int channelBase=nLevels * channelOffset;
    System.arraycopy(levelInitializer,offset,levels,channelBase,nLevels);
    for (int from=0, to=channelBase; from < nLevels; from++, to++) {
      values[to]=data[dataIdx][from] & 0xFFFF;
    }
  }
}
