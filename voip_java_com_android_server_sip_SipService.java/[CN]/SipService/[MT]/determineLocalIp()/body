{
  try {
    DatagramSocket s=new DatagramSocket();
    s.connect(InetAddress.getByName("192.168.1.1"),80);
    return s.getLocalAddress().getHostAddress();
  }
 catch (  IOException e) {
    if (DEBUG)     Log.d(TAG,"determineLocalIp()",e);
    return null;
  }
}
