{
  if (DEBUG)   Log.d(TAG,"onRegistrationFailed(): " + session + ": "+ SipErrorCode.toString(errorCode)+ ": "+ message);
synchronized (SipService.this) {
    if (notCurrentSession(session))     return;
switch (errorCode) {
case SipErrorCode.INVALID_CREDENTIALS:
case SipErrorCode.SERVER_UNREACHABLE:
      if (DEBUG)       Log.d(TAG,"   pause auto-registration");
    stop();
  break;
default :
restartLater();
}
mErrorCode=errorCode;
mErrorMessage=message;
mProxy.onRegistrationFailed(session,errorCode,message);
mMyWakeLock.release(session);
}
}
