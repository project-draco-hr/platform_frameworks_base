{
  UserInfo profile=createProfileForUser("Managed 1",UserInfo.FLAG_MANAGED_PROFILE,UserHandle.USER_OWNER);
  assertNotNull(profile);
  assertTrue("creationTime must be set when the profile is created",profile.creationTime > 0);
  assertEquals(profile.creationTime,mUserManager.getUserCreationTime(profile.id));
  long ownerCreationTime=mUserManager.getUserInfo(UserHandle.USER_OWNER).creationTime;
  assertEquals(ownerCreationTime,mUserManager.getUserCreationTime(UserHandle.USER_OWNER));
  try {
    int noSuchUserId=100500;
    mUserManager.getUserCreationTime(noSuchUserId);
    fail("SecurityException should be thrown for nonexistent user");
  }
 catch (  Exception e) {
    assertTrue("SecurityException should be thrown for nonexistent user, but was: " + e,e instanceof SecurityException);
  }
  UserInfo user=createUser("User 1",0);
  try {
    mUserManager.getUserCreationTime(user.id);
    fail("SecurityException should be thrown for other user");
  }
 catch (  Exception e) {
    assertTrue("SecurityException should be thrown for other user, but was: " + e,e instanceof SecurityException);
  }
}
