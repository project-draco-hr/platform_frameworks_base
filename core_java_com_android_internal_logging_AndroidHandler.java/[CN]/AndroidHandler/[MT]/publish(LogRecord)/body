{
  try {
    int level=getAndroidLevel(record.getLevel());
    String tag=record.getLoggerName();
    if (!Log.isLoggable(tag,level)) {
      return;
    }
    String msg;
    try {
      msg=getFormatter().format(record);
    }
 catch (    RuntimeException e) {
      Log.e("AndroidHandler","Error formatting log record",e);
      msg=record.getMessage();
    }
    Log.println(level,tag,msg);
  }
 catch (  RuntimeException e) {
    Log.e("AndroidHandler","Error publishing log record",e);
  }
}
