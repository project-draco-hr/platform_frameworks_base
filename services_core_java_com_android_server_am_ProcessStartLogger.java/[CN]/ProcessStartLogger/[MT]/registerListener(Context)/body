{
  IntentFilter packageChangedFilter=new IntentFilter();
  packageChangedFilter.addAction(Intent.ACTION_PACKAGE_ADDED);
  packageChangedFilter.addAction(Intent.ACTION_PACKAGE_CHANGED);
  context.registerReceiver(new BroadcastReceiver(){
    @Override public void onReceive(    Context context,    Intent intent){
      if (intent.getBooleanExtra(Intent.EXTRA_REPLACING,false) || Intent.ACTION_PACKAGE_ADDED.equals(intent.getAction())) {
        int userHandle=intent.getIntExtra(Intent.EXTRA_USER_HANDLE,getSendingUserId());
        String packageName=intent.getData().getSchemeSpecificPart();
        try {
          ApplicationInfo info=AppGlobals.getPackageManager().getApplicationInfo(packageName,0,userHandle);
          invaildateCache(info.sourceDir);
        }
 catch (        RemoteException e) {
        }
      }
    }
  }
,packageChangedFilter);
}
