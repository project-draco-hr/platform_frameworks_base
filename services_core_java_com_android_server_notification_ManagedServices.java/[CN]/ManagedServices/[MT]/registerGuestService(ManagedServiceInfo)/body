{
  checkNotNull(guest.service);
  if (!checkType(guest.service)) {
    throw new IllegalArgumentException();
  }
  if (registerServiceImpl(guest) != null) {
    onServiceAdded(guest);
  }
}
