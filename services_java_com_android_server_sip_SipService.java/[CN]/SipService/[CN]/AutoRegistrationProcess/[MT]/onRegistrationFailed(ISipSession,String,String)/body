{
  SipErrorCode errorCode=Enum.valueOf(SipErrorCode.class,errorCodeString);
  if (DEBUG)   Log.d(TAG,"onRegistrationFailed(): " + session + ": "+ errorCode+ ": "+ message);
synchronized (SipService.this) {
    if (!isStopped() && (session != mSession))     return;
    mErrorCode=errorCode;
    mErrorMessage=message;
    mProxy.onRegistrationFailed(session,errorCode.toString(),message);
    if (errorCode == SipErrorCode.INVALID_CREDENTIALS) {
      if (DEBUG)       Log.d(TAG,"   pause auto-registration");
      stopButKeepStates();
    }
 else     if (!isStopped()) {
      onError();
    }
  }
}
