{
  Log.v(TAG,"setListener(): " + listener);
  mProxy.setListener(listener);
  if (mSession == null)   return;
  try {
    if ((mSession != null) && SipSessionState.REGISTERING.equals(mSession.getState())) {
      mProxy.onRegistering(mSession);
    }
 else     if (mRegistered) {
      int duration=(int)(mExpiryTime - SystemClock.elapsedRealtime());
      mProxy.onRegistrationDone(mSession,duration);
    }
  }
 catch (  Throwable t) {
    Log.w(TAG,"setListener(): " + t);
  }
}
