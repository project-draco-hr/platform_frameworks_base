{
  if (mIsDestroyed) {
    Log.w(LOG_TAG,"Not stopping dicovery - session destroyed");
    return;
  }
  if (!mStartedPrinterDiscoveryTokens.remove(observer.asBinder())) {
    return;
  }
  if (!mStartedPrinterDiscoveryTokens.isEmpty()) {
    return;
  }
  List<RemotePrintService> services=new ArrayList<RemotePrintService>(mActiveServices.values());
  mSessionHandler.obtainMessage(SessionHandler.MSG_DISPATCH_STOP_PRINTER_DISCOVERY,services).sendToTarget();
}
