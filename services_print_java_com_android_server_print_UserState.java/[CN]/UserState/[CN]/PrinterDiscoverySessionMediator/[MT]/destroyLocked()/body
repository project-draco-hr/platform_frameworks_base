{
  if (mIsDestroyed) {
    Log.w(LOG_TAG,"Not destroying - session destroyed");
    return;
  }
  mIsDestroyed=true;
  final int printerCount=mStateTrackedPrinters.size();
  for (int i=0; i < printerCount; i++) {
    PrinterId printerId=mStateTrackedPrinters.get(i);
    stopPrinterStateTracking(printerId);
  }
  final int observerCount=mStartedPrinterDiscoveryTokens.size();
  for (int i=0; i < observerCount; i++) {
    IBinder token=mStartedPrinterDiscoveryTokens.get(i);
    stopPrinterDiscoveryLocked(IPrinterDiscoveryObserver.Stub.asInterface(token));
  }
  List<RemotePrintService> services=new ArrayList<RemotePrintService>(mActiveServices.values());
  mSessionHandler.obtainMessage(SessionHandler.MSG_DISPATCH_DESTROY_PRINTER_DISCOVERY_SESSION,services).sendToTarget();
}
