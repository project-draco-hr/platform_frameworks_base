{
synchronized (mLock) {
    boolean isChanged=false;
    if (isEnabled) {
      isChanged=mDisabledServices.remove(serviceName);
    }
 else {
      final int numServices=mInstalledServices.size();
      for (int i=0; i < numServices; i++) {
        PrintServiceInfo service=mInstalledServices.get(i);
        if (service.getComponentName().equals(serviceName)) {
          mDisabledServices.add(serviceName);
          isChanged=true;
          break;
        }
      }
    }
    if (isChanged) {
      writeDisabledPrintServicesLocked(mDisabledServices);
      onConfigurationChangedLocked();
    }
  }
}
