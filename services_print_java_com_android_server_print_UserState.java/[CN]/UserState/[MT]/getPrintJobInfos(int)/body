{
  List<PrintJobInfo> cachedPrintJobs=mPrintJobForAppCache.getPrintJobs(appId);
  ArrayMap<PrintJobId,PrintJobInfo> result=new ArrayMap<PrintJobId,PrintJobInfo>();
  final int cachedPrintJobCount=cachedPrintJobs.size();
  for (int i=0; i < cachedPrintJobCount; i++) {
    PrintJobInfo cachedPrintJob=cachedPrintJobs.get(i);
    result.put(cachedPrintJob.getId(),cachedPrintJob);
    cachedPrintJob.setTag(null);
    cachedPrintJob.setAdvancedOptions(null);
  }
  List<PrintJobInfo> printJobs=mSpooler.getPrintJobInfos(null,PrintJobInfo.STATE_ANY,appId);
  if (printJobs != null) {
    final int printJobCount=printJobs.size();
    for (int i=0; i < printJobCount; i++) {
      PrintJobInfo printJob=printJobs.get(i);
      result.put(printJob.getId(),printJob);
      printJob.setTag(null);
      printJob.setAdvancedOptions(null);
    }
  }
  return new ArrayList<PrintJobInfo>(result.values());
}
