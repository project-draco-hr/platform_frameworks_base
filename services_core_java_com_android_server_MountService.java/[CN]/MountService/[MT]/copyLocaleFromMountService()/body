{
  String systemLocale;
  try {
    systemLocale=getField(StorageManager.SYSTEM_LOCALE_KEY);
  }
 catch (  RemoteException e) {
    return;
  }
  if (TextUtils.isEmpty(systemLocale)) {
    return;
  }
  Slog.d(TAG,"Got locale " + systemLocale + " from mount service");
  Locale locale=Locale.forLanguageTag(systemLocale);
  Configuration config=new Configuration();
  config.setLocale(locale);
  try {
    ActivityManagerNative.getDefault().updatePersistentConfiguration(config);
  }
 catch (  RemoteException e) {
    Slog.e(TAG,"Error setting system locale from mount service",e);
  }
  Slog.d(TAG,"Setting system properties to " + systemLocale + " from mount service");
  SystemProperties.set("persist.sys.locale",locale.toLanguageTag());
}
