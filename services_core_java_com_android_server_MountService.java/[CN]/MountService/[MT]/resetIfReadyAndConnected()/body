{
  Slog.d(TAG,"Thinking about reset, mSystemReady=" + mSystemReady + ", mDaemonConnected="+ mDaemonConnected);
  if (mSystemReady && mDaemonConnected) {
    mDisks.clear();
    mVolumes.clear();
    final VolumeInfo internal=new VolumeInfo(VolumeInfo.ID_PRIVATE_INTERNAL,VolumeInfo.TYPE_PRIVATE,null,0);
    internal.state=VolumeInfo.STATE_MOUNTED;
    internal.path=Environment.getDataDirectory().getAbsolutePath();
    mVolumes.put(internal.id,internal);
    try {
      mConnector.execute("volume","reset");
      for (      int userId : mStartedUsers) {
        mConnector.execute("volume","start_user",userId);
      }
    }
 catch (    NativeDaemonConnectorException e) {
      Slog.w(TAG,"Failed to reset vold",e);
    }
  }
}
