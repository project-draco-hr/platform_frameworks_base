{
  final boolean primaryPhysical=SystemProperties.getBoolean(PROP_PRIMARY_PHYSICAL,false);
  if (vol.type == Volume.TYPE_EMULATED && !primaryPhysical) {
    vol.flags|=Volume.FLAG_PRIMARY;
    vol.flags|=Volume.FLAG_VISIBLE;
    mHandler.obtainMessage(H_VOLUME_MOUNT,vol).sendToTarget();
  }
 else   if (vol.type == Volume.TYPE_PUBLIC) {
    if (primaryPhysical) {
      vol.flags|=Volume.FLAG_PRIMARY;
    }
    vol.flags|=Volume.FLAG_VISIBLE;
    vol.userId=UserHandle.USER_OWNER;
    mHandler.obtainMessage(H_VOLUME_MOUNT,vol).sendToTarget();
  }
 else {
    Slog.d(TAG,"Skipping automatic mounting of " + vol);
  }
}
