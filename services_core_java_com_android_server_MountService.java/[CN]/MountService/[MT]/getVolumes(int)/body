{
  if ((flags & StorageManager.FLAG_ALL_METADATA) != 0) {
    throw new UnsupportedOperationException();
  }
synchronized (mLock) {
    final VolumeInfo[] res=new VolumeInfo[mVolumes.size()];
    for (int i=0; i < mVolumes.size(); i++) {
      res[i]=mVolumes.valueAt(i);
    }
    return res;
  }
}
