{
  final boolean primaryPhysical=SystemProperties.getBoolean(StorageManager.PROP_PRIMARY_PHYSICAL,false);
  if (VolumeInfo.ID_EMULATED_INTERNAL.equals(vol.id) && !primaryPhysical) {
    vol.flags|=VolumeInfo.FLAG_PRIMARY;
    vol.flags|=VolumeInfo.FLAG_VISIBLE;
    mHandler.obtainMessage(H_VOLUME_MOUNT,vol).sendToTarget();
  }
 else   if (vol.type == VolumeInfo.TYPE_PUBLIC) {
    if (primaryPhysical) {
      vol.flags|=VolumeInfo.FLAG_PRIMARY;
    }
    vol.flags|=VolumeInfo.FLAG_VISIBLE;
    vol.userId=UserHandle.USER_OWNER;
    mHandler.obtainMessage(H_VOLUME_MOUNT,vol).sendToTarget();
  }
 else   if (vol.type == VolumeInfo.TYPE_PRIVATE) {
    mHandler.obtainMessage(H_VOLUME_MOUNT,vol).sendToTarget();
  }
 else {
    Slog.d(TAG,"Skipping automatic mounting of " + vol);
  }
}
