{
  if (Binder.getCallingUid() != Process.SYSTEM_UID) {
    throw new SecurityException("Only SYSTEM_UID can create user directories");
  }
  waitForReady();
  if (DEBUG_EVENTS) {
    Slog.i(TAG,"Creating new user dir");
  }
  try {
    NativeDaemonEvent event=mCryptConnector.execute("cryptfs","createnewuserdir",userHandle,path);
    if (!"0".equals(event.getMessage())) {
      String error="createnewuserdir sent unexpected message: " + event.getMessage();
      Slog.e(TAG,error);
      throw new RuntimeException(error);
    }
  }
 catch (  NativeDaemonConnectorException e) {
    Slog.e(TAG,"createnewuserdir threw exception",e);
    throw new RuntimeException("createnewuserdir threw exception",e);
  }
}
