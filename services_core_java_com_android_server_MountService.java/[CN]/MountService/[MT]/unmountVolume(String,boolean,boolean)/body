{
  validatePermission(android.Manifest.permission.MOUNT_UNMOUNT_FILESYSTEMS);
  waitForReady();
  String volState=getVolumeState(path);
  if (DEBUG_UNMOUNT) {
    Slog.i(TAG,"Unmounting " + path + " force = "+ force+ " removeEncryption = "+ removeEncryption);
  }
  if (Environment.MEDIA_UNMOUNTED.equals(volState) || Environment.MEDIA_REMOVED.equals(volState) || Environment.MEDIA_SHARED.equals(volState)|| Environment.MEDIA_UNMOUNTABLE.equals(volState)) {
    return;
  }
  UnmountCallBack ucb=new UnmountCallBack(path,force,removeEncryption);
  mHandler.sendMessage(mHandler.obtainMessage(H_UNMOUNT_PM_UPDATE,ucb));
}
