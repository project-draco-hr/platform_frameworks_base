{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.DUMP,TAG);
  final IndentingPrintWriter pw=new IndentingPrintWriter(writer,"  ",160);
synchronized (mObbMounts) {
    pw.println("mObbMounts:");
    pw.increaseIndent();
    final Iterator<Entry<IBinder,List<ObbState>>> binders=mObbMounts.entrySet().iterator();
    while (binders.hasNext()) {
      Entry<IBinder,List<ObbState>> e=binders.next();
      pw.println(e.getKey() + ":");
      pw.increaseIndent();
      final List<ObbState> obbStates=e.getValue();
      for (      final ObbState obbState : obbStates) {
        pw.println(obbState);
      }
      pw.decreaseIndent();
    }
    pw.decreaseIndent();
    pw.println();
    pw.println("mObbPathToStateMap:");
    pw.increaseIndent();
    final Iterator<Entry<String,ObbState>> maps=mObbPathToStateMap.entrySet().iterator();
    while (maps.hasNext()) {
      final Entry<String,ObbState> e=maps.next();
      pw.print(e.getKey());
      pw.print(" -> ");
      pw.println(e.getValue());
    }
    pw.decreaseIndent();
  }
synchronized (mLock) {
    pw.println();
    pw.println("Disks:");
    pw.increaseIndent();
    for (    Disk disk : mDisks.values()) {
      disk.dump(pw);
    }
    pw.decreaseIndent();
    pw.println();
    pw.println("Volumes:");
    pw.increaseIndent();
    for (    Volume vol : mVolumes.values()) {
      vol.dump(pw);
    }
    pw.decreaseIndent();
  }
  pw.println();
  pw.println("mConnection:");
  pw.increaseIndent();
  mConnector.dump(fd,pw,args);
  pw.decreaseIndent();
  SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
  pw.println();
  pw.print("Last maintenance: ");
  pw.println(sdf.format(new Date(mLastMaintenance)));
}
