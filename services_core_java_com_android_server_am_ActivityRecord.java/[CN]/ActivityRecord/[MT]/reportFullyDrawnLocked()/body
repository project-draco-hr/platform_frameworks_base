{
  final long curTime=SystemClock.uptimeMillis();
  if (displayStartTime != 0) {
    reportLaunchTimeLocked(curTime);
  }
  final ActivityStack stack=task.stack;
  if (fullyDrawnStartTime != 0 && stack != null) {
    final long thisTime=curTime - fullyDrawnStartTime;
    final long totalTime=stack.mFullyDrawnStartTime != 0 ? (curTime - stack.mFullyDrawnStartTime) : thisTime;
    if (SHOW_ACTIVITY_START_TIME) {
      Trace.asyncTraceEnd(Trace.TRACE_TAG_ACTIVITY_MANAGER,"drawing",0);
      EventLog.writeEvent(EventLogTags.AM_ACTIVITY_FULLY_DRAWN_TIME,userId,System.identityHashCode(this),shortComponentName,thisTime,totalTime);
      StringBuilder sb=service.mStringBuilder;
      sb.setLength(0);
      sb.append("Fully drawn ");
      sb.append(shortComponentName);
      sb.append(": ");
      TimeUtils.formatDuration(thisTime,sb);
      if (thisTime != totalTime) {
        sb.append(" (total ");
        TimeUtils.formatDuration(totalTime,sb);
        sb.append(")");
      }
      Log.i(TAG,sb.toString());
    }
    if (totalTime > 0) {
    }
    stack.mFullyDrawnStartTime=0;
  }
  fullyDrawnStartTime=0;
}
