{
  out.attribute(null,ATTR_ID,String.valueOf(createTime));
  out.attribute(null,ATTR_LAUNCHEDFROMUID,String.valueOf(launchedFromUid));
  if (launchedFromPackage != null) {
    out.attribute(null,ATTR_LAUNCHEDFROMPACKAGE,launchedFromPackage);
  }
  if (resolvedType != null) {
    out.attribute(null,ATTR_RESOLVEDTYPE,resolvedType);
  }
  out.attribute(null,ATTR_COMPONENTSPECIFIED,String.valueOf(componentSpecified));
  out.attribute(null,ATTR_USERID,String.valueOf(userId));
  if (taskDescription != null) {
    final String label=taskDescription.getLabel();
    if (label != null) {
      out.attribute(null,ATTR_TASKDESCRIPTIONLABEL,label);
    }
    final int colorPrimary=taskDescription.getPrimaryColor();
    if (colorPrimary != 0) {
      out.attribute(null,ATTR_TASKDESCRIPTIONCOLOR,Integer.toHexString(colorPrimary));
    }
    final Bitmap icon=taskDescription.getIcon();
    if (icon != null) {
      TaskPersister.saveImage(icon,String.valueOf(task.taskId) + ACTIVITY_ICON_SUFFIX + createTime);
    }
  }
  out.startTag(null,TAG_INTENT);
  intent.saveToXml(out);
  out.endTag(null,TAG_INTENT);
  if (isPersistable() && persistentState != null) {
    out.startTag(null,TAG_PERSISTABLEBUNDLE);
    persistentState.saveToXml(out);
    out.endTag(null,TAG_PERSISTABLEBUNDLE);
  }
}
