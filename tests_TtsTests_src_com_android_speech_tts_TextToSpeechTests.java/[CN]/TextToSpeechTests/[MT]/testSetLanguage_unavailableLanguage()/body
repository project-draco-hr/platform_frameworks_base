{
  IDelegate delegate=LittleMock.mock(IDelegate.class);
  MockableTextToSpeechService.setMocker(delegate);
  LittleMock.doReturn(TextToSpeech.LANG_NOT_SUPPORTED).when(delegate).onIsLanguageAvailable("fra","FRA","");
  LittleMock.doReturn(TextToSpeech.LANG_NOT_SUPPORTED).when(delegate).onLoadLanguage("fra","FRA","");
  mTts.setLanguage(Locale.FRANCE);
  blockingCallSpeak("le fou barre",delegate);
  ArgumentCaptor<SynthesisRequest> req2=LittleMock.createCaptor();
  LittleMock.verify(delegate,LittleMock.times(1)).onSynthesizeText(req2.capture(),LittleMock.<SynthesisCallback>anyObject());
  assertEquals("eng",req2.getValue().getLanguage());
  assertEquals("USA",req2.getValue().getCountry());
  assertEquals("",req2.getValue().getVariant());
}
