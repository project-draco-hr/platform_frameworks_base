{
  mSurfaceTexture=new SurfaceTexture(false);
  Size size=getSmallestSize(mCameraDevice.getId());
  mSurfaceTexture.setDefaultBufferSize(size.getWidth(),size.getHeight());
  mSurface=new Surface(mSurfaceTexture);
  ArrayList<Surface> outputs=new ArrayList<>(1);
  outputs.add(mSurface);
  mCameraDevice.createCaptureSession(outputs,mSessionListener,mHandler);
}
