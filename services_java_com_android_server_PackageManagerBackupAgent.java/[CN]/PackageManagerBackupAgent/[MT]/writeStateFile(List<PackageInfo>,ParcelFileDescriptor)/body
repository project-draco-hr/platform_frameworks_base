{
  FileOutputStream outstream=new FileOutputStream(stateFile.getFileDescriptor());
  DataOutputStream out=new DataOutputStream(outstream);
  try {
    byte[] metaNameBuf=GLOBAL_METADATA_KEY.getBytes();
    out.writeInt(metaNameBuf.length);
    out.write(metaNameBuf);
    for (    PackageInfo pkg : pkgs) {
      byte[] pkgNameBuf=pkg.packageName.getBytes();
      out.writeInt(pkgNameBuf.length);
      out.write(pkgNameBuf);
    }
  }
 catch (  IOException e) {
    Log.e(TAG,"Unable to write package manager state file!");
    return;
  }
}
