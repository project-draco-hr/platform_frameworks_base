{
  try {
    boolean done=false;
    while (!done && !isClosed) {
      int requestType=input.read();
switch (requestType) {
case 0x80:
        handleConnectRequest();
      break;
case 0x81:
    handleDisconnectRequest();
  done=true;
break;
case 0x03:
case 0x83:
handleGetRequest(requestType);
break;
case 0x02:
case 0x82:
handlePutRequest(requestType);
break;
case 0x85:
handleSetPathRequest();
break;
case -1:
done=true;
break;
default :
int length=input.read();
length=(length << 8) + input.read();
for (int i=3; i < length; i++) {
input.read();
}
sendResponse(ResponseCodes.OBEX_HTTP_NOT_IMPLEMENTED,null);
}
}
}
 catch (NullPointerException e) {
}
catch (Exception e) {
}
close();
}
