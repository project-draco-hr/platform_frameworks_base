{
  ServerOperation client=new ServerOperation(this,input,type,maxPacketLength,listener);
  try {
    int response=-1;
    if ((client.finalBitSet) && !client.isValidBody()) {
      response=validateResponseCode(listener.onDelete(client.requestHeaders,client.replyHeaders));
    }
 else {
      response=validateResponseCode(listener.onPut(client));
    }
    if (response != ResponseCodes.OBEX_HTTP_OK) {
      client.sendReply(response);
    }
 else     if (!client.isAborted) {
      while (!client.finalBitSet) {
        client.sendReply(OBEXConstants.OBEX_HTTP_CONTINUE);
      }
      client.sendReply(response);
    }
  }
 catch (  Exception e) {
    sendResponse(ResponseCodes.OBEX_HTTP_INTERNAL_ERROR,null);
  }
}
