{
  if (DEBUG) {
    Slog.d(TAG,"sendDeviceNotification(enabled:" + enabled + " c:"+ audioDevice.mCard+ " d:"+ audioDevice.mDevice+ ")");
  }
  Intent intent=new Intent(AudioManager.ACTION_USB_AUDIO_DEVICE_PLUG);
  intent.addFlags(Intent.FLAG_RECEIVER_REPLACE_PENDING);
  intent.addFlags(Intent.FLAG_RECEIVER_REGISTERED_ONLY);
  intent.putExtra("state",enabled ? 1 : 0);
  intent.putExtra("card",audioDevice.mCard);
  intent.putExtra("device",audioDevice.mDevice);
  intent.putExtra("hasPlayback",audioDevice.mHasPlayback);
  intent.putExtra("hasCapture",audioDevice.mHasCapture);
  intent.putExtra("hasMIDI",audioDevice.mHasMIDI);
  intent.putExtra("class",audioDevice.mDeviceClass);
  mContext.sendStickyBroadcastAsUser(intent,UserHandle.ALL);
}
