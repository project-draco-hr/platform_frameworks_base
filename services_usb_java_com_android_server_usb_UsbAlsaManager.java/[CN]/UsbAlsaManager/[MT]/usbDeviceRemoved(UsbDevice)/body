{
  if (DEBUG) {
    Slog.d(TAG,"deviceRemoved(): " + usbDevice);
  }
  UsbAudioDevice audioDevice=mAudioDevices.remove(usbDevice);
  if (audioDevice != null) {
    if (audioDevice.mHasPlayback || audioDevice.mHasPlayback) {
      notifyDeviceState(audioDevice,false);
    }
  }
  UsbMidiDevice usbMidiDevice=mMidiDevices.remove(usbDevice);
  if (usbMidiDevice != null) {
    IoUtils.closeQuietly(usbMidiDevice);
  }
  mSelectedAudioDevice=null;
  selectDefaultDevice();
}
