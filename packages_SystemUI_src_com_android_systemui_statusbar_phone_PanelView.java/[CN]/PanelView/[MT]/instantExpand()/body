{
  if (PhoneStatusBar.DEBUG_EMPTY_KEYGUARD) {
    Log.i(TAG,"Before instant expanding" + " mTracking=" + mTracking + " mExpanding="+ mExpanding);
  }
  mInstantExpanding=true;
  mUpdateFlingOnLayout=false;
  abortAnimations();
  cancelPeek();
  if (mTracking) {
    onTrackingStopped(true);
  }
  if (mExpanding) {
    notifyExpandingFinished();
  }
  setVisibility(VISIBLE);
  getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener(){
    @Override public void onGlobalLayout(){
      if (mStatusBar.getStatusBarWindow().getHeight() != mStatusBar.getStatusBarHeight()) {
        if (PhoneStatusBar.DEBUG_EMPTY_KEYGUARD) {
          Log.i(TAG,"Now instant expanding after layout" + " mTracking=" + mTracking + " mExpanding="+ mExpanding);
        }
        getViewTreeObserver().removeOnGlobalLayoutListener(this);
        setExpandedFraction(1f);
        mInstantExpanding=false;
      }
    }
  }
);
  requestLayout();
}
