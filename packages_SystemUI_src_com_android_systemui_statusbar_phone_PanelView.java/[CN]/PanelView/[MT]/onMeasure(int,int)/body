{
  super.onMeasure(widthMeasureSpec,heightMeasureSpec);
  if (DEBUG)   logf("onMeasure(%d, %d) -> (%d, %d)",widthMeasureSpec,heightMeasureSpec,getMeasuredWidth(),getMeasuredHeight());
  int newHeight=getMeasuredHeight();
  if (newHeight > mMaxPanelHeight) {
    mMaxPanelHeight=newHeight;
    if (!mTracking && mHeightAnimator == null && mExpandedHeight > 0 && mExpandedHeight != mMaxPanelHeight && mMaxPanelHeight > 0 && mPeekAnimator == null) {
      mExpandedHeight=mMaxPanelHeight;
    }
  }
}
