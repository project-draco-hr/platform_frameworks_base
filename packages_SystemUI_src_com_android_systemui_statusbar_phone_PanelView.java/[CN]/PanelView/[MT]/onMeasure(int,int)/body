{
  super.onMeasure(widthMeasureSpec,heightMeasureSpec);
  LOG("onMeasure(%d, %d) -> (%d, %d)",widthMeasureSpec,heightMeasureSpec,getMeasuredWidth(),getMeasuredHeight());
  mFullHeight=getMeasuredHeight();
  if (!mTracking && !mRubberbanding && !mTimeAnimator.isStarted()&& mExpandedHeight > 0 && mExpandedHeight != mFullHeight) {
    mExpandedHeight=mFullHeight;
  }
  heightMeasureSpec=MeasureSpec.makeMeasureSpec((int)mExpandedHeight,MeasureSpec.AT_MOST);
  setMeasuredDimension(widthMeasureSpec,heightMeasureSpec);
}
