{
  super.onMeasure(widthMeasureSpec,heightMeasureSpec);
  if (DEBUG)   logf("onMeasure(%d, %d) -> (%d, %d)",widthMeasureSpec,heightMeasureSpec,getMeasuredWidth(),getMeasuredHeight());
  int newHeight=getMeasuredHeight();
  if (newHeight != mMaxPanelHeight) {
    mMaxPanelHeight=newHeight;
  }
  heightMeasureSpec=MeasureSpec.makeMeasureSpec(getDesiredMeasureHeight(),MeasureSpec.AT_MOST);
  setMeasuredDimension(widthMeasureSpec,heightMeasureSpec);
}
