{
  float fh=getMaxPanelHeight();
  mExpandedHeight=Math.max(0,Math.min(fh,h));
  float overExpansion=h - fh;
  overExpansion=Math.max(0,overExpansion);
  if (overExpansion != mOverExpansion) {
    onOverExpansionChanged(overExpansion);
    mOverExpansion=overExpansion;
  }
  if (DEBUG) {
    logf("setExpansion: height=%.1f fh=%.1f tracking=%s",h,fh,mTracking ? "T" : "f");
  }
  onHeightUpdated(mExpandedHeight);
  mExpandedFraction=Math.min(1f,(fh == 0) ? 0 : mExpandedHeight / fh);
}
