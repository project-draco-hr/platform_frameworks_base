{
  Paint_Delegate delegate=sManager.getDelegate(native_object);
  if (delegate == null) {
    return 0.f;
  }
  if (delegate.mFonts.size() > 0) {
    float totalAdvance=0;
    for (int i=0; i < count; i++) {
      char c=text[i + index];
      boolean found=false;
      for (      FontInfo info : delegate.mFonts) {
        if (info.mFont.canDisplay(c)) {
          float adv=info.mMetrics.charWidth(c);
          totalAdvance+=adv;
          if (advances != null) {
            advances[i]=adv;
          }
          found=true;
          break;
        }
      }
      if (found == false) {
        if (advances != null) {
          advances[i]=0.f;
        }
      }
    }
    return totalAdvance;
  }
  return 0;
}
