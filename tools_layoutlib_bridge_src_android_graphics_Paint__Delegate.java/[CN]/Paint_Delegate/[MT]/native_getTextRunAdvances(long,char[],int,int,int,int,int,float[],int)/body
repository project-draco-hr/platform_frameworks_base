{
  if (advances != null)   for (int i=advancesIndex; i < advancesIndex + count; i++)   advances[i]=0;
  Paint_Delegate delegate=sManager.getDelegate(native_object);
  if (delegate == null || delegate.mFonts == null || delegate.mFonts.size() == 0) {
    return 0.f;
  }
  boolean isRtl=isRtl(flags);
  int limit=index + count;
  RectF bounds=new BidiRenderer(null,delegate,text).renderText(index,limit,isRtl,advances,advancesIndex,false,0,0);
  return bounds.right - bounds.left;
}
