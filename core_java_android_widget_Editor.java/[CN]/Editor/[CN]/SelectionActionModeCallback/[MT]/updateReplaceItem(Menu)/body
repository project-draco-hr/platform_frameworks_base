{
  boolean canReplace=mTextView.isSuggestionsEnabled() && shouldOfferToShowSuggestions();
  boolean replaceItemExists=menu.findItem(TextView.ID_REPLACE) != null;
  if (canReplace && !replaceItemExists) {
    menu.add(0,TextView.ID_REPLACE,0,com.android.internal.R.string.replace).setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS | MenuItem.SHOW_AS_ACTION_WITH_TEXT);
  }
 else   if (!canReplace && replaceItemExists) {
    menu.removeItem(TextView.ID_REPLACE);
  }
}
