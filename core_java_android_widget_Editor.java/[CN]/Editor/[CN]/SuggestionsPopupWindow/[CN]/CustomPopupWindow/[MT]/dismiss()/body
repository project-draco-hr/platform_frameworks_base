{
  if (!isShowing()) {
    return;
  }
  super.dismiss();
  getPositionListener().removeSubscriber(SuggestionsPopupWindow.this);
  ((Spannable)mTextView.getText()).removeSpan(mSuggestionRangeSpan);
  mTextView.setCursorVisible(mCursorWasVisibleBeforeSuggestions);
  if (hasInsertionController() && !extractedTextModeWillBeStarted()) {
    getInsertionController().show();
  }
}
