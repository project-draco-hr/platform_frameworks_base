{
  if (mIsDragging) {
    return;
  }
  final Layout layout=mTextView.getLayout();
  if (layout == null) {
    return;
  }
  final int offset=getCurrentCursorOffset();
  final boolean isRtlCharAtOffset=isAtRtlRun(layout,offset);
  final Drawable oldDrawable=mDrawable;
  mDrawable=isRtlCharAtOffset ? mDrawableRtl : mDrawableLtr;
  mHotspotX=getHotspotX(mDrawable,isRtlCharAtOffset);
  mHorizontalGravity=getHorizontalGravity(isRtlCharAtOffset);
  if (oldDrawable != mDrawable && isShowing()) {
    mPositionX=getCursorHorizontalPosition(layout,offset) - mHotspotX - getHorizontalOffset() + getCursorOffset();
    mPositionX+=mTextView.viewportToContentHorizontalOffset();
    mPositionHasChanged=true;
    updatePosition(mLastParentX,mLastParentY,false,false);
    postInvalidate();
  }
}
