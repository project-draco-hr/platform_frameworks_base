{
  Callback customCallback=getCustomCallback();
  if (customCallback != null) {
    customCallback.onDestroyActionMode(mode);
  }
  if (!mPreserveDetachedSelection) {
    Selection.setSelection((Spannable)mTextView.getText(),mTextView.getSelectionEnd());
    mTextView.setHasTransientState(false);
  }
  if (mSelectionModifierCursorController != null) {
    mSelectionModifierCursorController.hide();
    mSelectionModifierCursorController.resetTouchOffsets();
  }
  mTextActionMode=null;
}
