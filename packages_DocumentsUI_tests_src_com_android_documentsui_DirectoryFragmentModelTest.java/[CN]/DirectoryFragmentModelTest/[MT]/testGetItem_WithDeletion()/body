{
  delete(2,3);
  List<DocumentInfo> docs=getDocumentInfo(0,1,2);
  assertEquals("0",docs.get(0).documentId);
  assertEquals("1",docs.get(1).documentId);
  assertEquals("4",docs.get(2).documentId);
  TestDeletionListener testListener=new TestDeletionListener();
  model.finalizeDeletion(testListener);
  testListener.waitForDone();
  docs=getDocumentInfo(0,1,2);
  assertEquals("0",docs.get(0).documentId);
  assertEquals("1",docs.get(1).documentId);
  assertEquals("2",docs.get(2).documentId);
}
