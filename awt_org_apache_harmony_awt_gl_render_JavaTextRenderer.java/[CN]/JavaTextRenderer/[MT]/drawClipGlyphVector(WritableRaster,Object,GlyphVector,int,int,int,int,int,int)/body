{
  int xSrcSurf, ySrcSurf;
  int xDstSurf, yDstSurf;
  int clWidth, clHeight;
  for (int i=0; i < glyphVector.getNumGlyphs(); i++) {
    Glyph gl=((CommonGlyphVector)glyphVector).vector[i];
    if (gl.getPointWidth() == 0) {
      continue;
    }
    byte[] data=gl.getBitmap();
    if (data != null) {
      Point2D pos=glyphVector.getGlyphPosition(i);
      xSrcSurf=0;
      ySrcSurf=0;
      xDstSurf=x + (int)pos.getX() + (int)gl.getGlyphPointMetrics().getLSB();
      yDstSurf=y - gl.bmp_top + (int)pos.getY();
      int textWidth=gl.bmp_width;
      int textHeight=gl.getPointHeight();
      if ((xDstSurf > cMaxX) || (yDstSurf > cMaxY) || (xDstSurf + textWidth < cMinX)|| (yDstSurf + textHeight < cMinY)) {
      }
 else {
        if (xDstSurf >= cMinX) {
          clWidth=Math.min(textWidth,cMaxX - xDstSurf);
        }
 else {
          xSrcSurf+=cMinX - xDstSurf;
          clWidth=Math.min(cMaxX - cMinX,textWidth - (cMinX - xDstSurf));
          xDstSurf=cMinX;
        }
        if (yDstSurf >= cMinY) {
          clHeight=Math.min(textHeight,cMaxY - yDstSurf);
        }
 else {
          ySrcSurf+=cMinY - yDstSurf;
          clHeight=Math.min(cMaxY - cMinY,textHeight - (cMinY - yDstSurf));
          yDstSurf=cMinY;
        }
        for (int h=0; h < clHeight; h++) {
          for (int w=0; w < clWidth; w++) {
            byte currByte=data[(ySrcSurf + h) * gl.bmp_pitch + (xSrcSurf + w) / 8];
            boolean emptyByte=((currByte & (1 << (7 - ((xSrcSurf + w) % 8)))) != 0);
            if (emptyByte) {
              raster.setDataElements(xDstSurf + w,yDstSurf + h,color);
            }
 else {
            }
          }
        }
      }
    }
  }
}
