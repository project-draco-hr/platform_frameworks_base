{
  checkRequired("callback",callback);
  final Handler h=handler != null ? handler : new Handler();
  INotificationManager service=getService();
  try {
    service.requestNotificationPolicyToken(mContext.getOpPackageName(),new INotificationManagerCallback.Stub(){
      @Override public void onPolicyToken(      final Token token) throws RemoteException {
        h.post(new Runnable(){
          @Override public void run(){
            if (token != null) {
              callback.onTokenGranted(token);
            }
 else {
              callback.onTokenDenied();
            }
          }
        }
);
      }
    }
);
  }
 catch (  RemoteException e) {
  }
}
