{
  int[] idOut=new int[1];
  INotificationManager service=getService();
  String pkg=mContext.getPackageName();
  if (notification.sound != null) {
    notification.sound=notification.sound.getCanonicalUri();
    if (StrictMode.vmFileUriExposureEnabled()) {
      notification.sound.checkFileUriExposed("Notification.sound");
    }
  }
  if (localLOGV)   Log.v(TAG,pkg + ": notify(" + id+ ", "+ notification+ ")");
  Notification stripped=notification.clone();
  Builder.stripForDelivery(stripped);
  try {
    service.enqueueNotificationWithTag(pkg,mContext.getOpPackageName(),tag,id,stripped,idOut,user.getIdentifier());
    if (id != idOut[0]) {
      Log.w(TAG,"notify: id corrupted: sent " + id + ", got back "+ idOut[0]);
    }
  }
 catch (  RemoteException e) {
  }
}
