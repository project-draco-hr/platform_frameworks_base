{
  if (theme != null && state.canApplyTheme()) {
    mShapeState=new ShapeState(state);
    applyTheme(theme);
  }
 else {
    mShapeState=state;
  }
  mTintFilter=updateTintFilter(mTintFilter,mShapeState.mTint,mShapeState.mTintMode);
}
