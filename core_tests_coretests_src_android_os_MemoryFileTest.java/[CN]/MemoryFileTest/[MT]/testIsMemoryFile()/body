{
  MemoryFile file=new MemoryFile("MemoryFileTest",1000000);
  FileDescriptor fd=file.getFileDescriptor();
  assertNotNull(fd);
  assertTrue(fd.valid());
  assertTrue(MemoryFile.isMemoryFile(fd));
  file.close();
  assertFalse(MemoryFile.isMemoryFile(FileDescriptor.in));
  assertFalse(MemoryFile.isMemoryFile(FileDescriptor.out));
  assertFalse(MemoryFile.isMemoryFile(FileDescriptor.err));
  File tempFile=File.createTempFile("MemoryFileTest",".tmp",getContext().getFilesDir());
  assertNotNull(file);
  FileOutputStream out=null;
  try {
    out=new FileOutputStream(tempFile);
    FileDescriptor fileFd=out.getFD();
    assertNotNull(fileFd);
    assertFalse(MemoryFile.isMemoryFile(fileFd));
  }
  finally {
    if (out != null) {
      out.close();
    }
    tempFile.delete();
  }
}
