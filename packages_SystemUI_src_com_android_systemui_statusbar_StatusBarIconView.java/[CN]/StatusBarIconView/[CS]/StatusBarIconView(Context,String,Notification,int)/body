{
  super(context);
  final Resources res=context.getResources();
  mAlphaWhenOpaque=res.getFraction(R.dimen.status_bar_icon_drawing_alpha,1,1);
  mSlot=slot;
  mNumberPain=new Paint();
  mNumberPain.setTextAlign(Paint.Align.CENTER);
  mNumberPain.setColor(res.getColor(R.drawable.notification_number_text_color));
  mNumberPain.setAntiAlias(true);
  mNotification=notification;
  setContentDescription(notification);
  if (notification != null) {
    final int outerBounds=res.getDimensionPixelSize(R.dimen.status_bar_icon_size);
    final int imageBounds=res.getDimensionPixelSize(R.dimen.status_bar_icon_drawing_size);
    final float scale=(float)imageBounds / (float)outerBounds;
    setScaleX(scale);
    setScaleY(scale);
    setAlpha(getAlphaFor(mode));
  }
  setScaleType(ImageView.ScaleType.CENTER);
}
