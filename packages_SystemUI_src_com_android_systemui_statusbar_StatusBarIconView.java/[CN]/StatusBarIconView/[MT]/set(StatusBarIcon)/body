{
  error: {
    final boolean iconEquals=!mError && mIcon != null && streq(mIcon.iconPackage,icon.iconPackage) && mIcon.iconId == icon.iconId;
    final boolean levelEquals=!mError && iconEquals && mIcon.iconLevel == icon.iconLevel;
    final boolean visibilityEquals=!mError && mIcon != null && mIcon.visible == icon.visible;
    mError=false;
    if (!iconEquals) {
      Drawable drawable=getIcon(icon);
      if (drawable == null) {
        mError=true;
        Slog.w(PhoneStatusBarService.TAG,"No icon ID for slot " + mSlot);
        break error;
      }
      setImageDrawable(drawable);
    }
    if (!levelEquals) {
      setImageLevel(icon.iconLevel);
    }
    if (!visibilityEquals) {
      setVisibility(icon.visible ? VISIBLE : GONE);
    }
    mIcon=icon.clone();
  }
  if (mError) {
    setVisibility(GONE);
  }
}
