{
  final String str;
  final int tooBig=getContext().getResources().getInteger(android.R.integer.status_bar_notification_info_maxnum);
  if (mIcon.number > tooBig) {
    str=getContext().getResources().getString(android.R.string.status_bar_notification_info_overflow);
  }
 else {
    NumberFormat f=NumberFormat.getIntegerInstance();
    str=f.format(mIcon.number);
  }
  mNumberText=str;
  final int w=getWidth();
  final int h=getHeight();
  final Rect r=new Rect();
  mNumberPain.getTextBounds(str,0,str.length(),r);
  final int tw=r.right - r.left;
  final int th=r.bottom - r.top;
  mNumberBackground.getPadding(r);
  int dw=r.left + tw + r.right;
  if (dw < mNumberBackground.getMinimumWidth()) {
    dw=mNumberBackground.getMinimumWidth();
  }
  mNumberX=w - r.right - ((dw - r.right - r.left) / 2);
  int dh=r.top + th + r.bottom;
  if (dh < mNumberBackground.getMinimumWidth()) {
    dh=mNumberBackground.getMinimumWidth();
  }
  mNumberY=h - r.bottom - ((dh - r.top - th- r.bottom) / 2);
  mNumberBackground.setBounds(w - dw,h - dh,w,h);
}
