{
  if (!mFilterKeyEvents) {
    super.onInputEvent(event,policyFlags);
    return;
  }
  if ((policyFlags & WindowManagerPolicy.FLAG_PASS_TO_USER) == 0) {
    mKeyEventSequenceStarted=false;
    super.onInputEvent(event,policyFlags);
    return;
  }
  if (!mKeyEventSequenceStarted) {
    if (event.getAction() != KeyEvent.ACTION_DOWN) {
      super.onInputEvent(event,policyFlags);
      return;
    }
    mKeyEventSequenceStarted=true;
  }
  mAms.notifyKeyEvent(event,policyFlags);
}
