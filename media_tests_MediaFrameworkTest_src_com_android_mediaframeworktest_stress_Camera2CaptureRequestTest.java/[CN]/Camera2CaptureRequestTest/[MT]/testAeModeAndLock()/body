{
  for (int i=0; i < mCameraIds.length; i++) {
    try {
      openDevice(mCameraIds[i]);
      if (!mStaticInfo.isColorOutputSupported()) {
        Log.i(TAG,"Camera " + mCameraIds[i] + " does not support color outputs, skipping");
        continue;
      }
      Size maxPreviewSz=mOrderedPreviewSizes.get(0);
      updatePreviewSurface(maxPreviewSz);
      for (int repeat=0; repeat < getRepeatCount(); ++repeat) {
        Log.v(TAG,String.format("AE mode and lock: %d/%d",repeat + 1,getRepeatCount()));
        int[] aeModes=mStaticInfo.getAeAvailableModesChecked();
        for (        int mode : aeModes) {
          aeModeAndLockTestByMode(mode);
        }
        getResultPrinter().printStatus(getRepeatCount(),repeat + 1,mCameraIds[i]);
        Thread.sleep(getTestWaitIntervalMs());
      }
    }
  finally {
      closeDevice();
    }
  }
}
