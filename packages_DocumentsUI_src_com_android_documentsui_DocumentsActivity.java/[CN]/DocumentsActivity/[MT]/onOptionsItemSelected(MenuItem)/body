{
  if (mDrawerToggle.onOptionsItemSelected(item)) {
    return true;
  }
  final int id=item.getItemId();
  if (id == android.R.id.home) {
    onBackPressed();
    return true;
  }
 else   if (id == R.id.menu_create_dir) {
    CreateDirectoryFragment.show(getFragmentManager());
    return true;
  }
 else   if (id == R.id.menu_search) {
    return false;
  }
 else   if (id == R.id.menu_sort_name) {
    mState.sortOrder=State.SORT_ORDER_DISPLAY_NAME;
    updateDisplayState();
    return true;
  }
 else   if (id == R.id.menu_sort_date) {
    mState.sortOrder=State.SORT_ORDER_LAST_MODIFIED;
    updateDisplayState();
    return true;
  }
 else   if (id == R.id.menu_sort_size) {
    mState.sortOrder=State.SORT_ORDER_SIZE;
    updateDisplayState();
    return true;
  }
 else   if (id == R.id.menu_grid) {
    mState.mode=MODE_GRID;
    updateDisplayState();
    invalidateOptionsMenu();
    return true;
  }
 else   if (id == R.id.menu_list) {
    mState.mode=MODE_LIST;
    updateDisplayState();
    invalidateOptionsMenu();
    return true;
  }
 else   if (id == R.id.menu_settings) {
    startActivity(new Intent(this,SettingsActivity.class));
    return true;
  }
 else {
    return super.onOptionsItemSelected(item);
  }
}
