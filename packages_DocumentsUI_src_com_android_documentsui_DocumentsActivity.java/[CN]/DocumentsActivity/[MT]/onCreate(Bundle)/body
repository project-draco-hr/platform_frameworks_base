{
  super.onCreate(icicle);
  final String action=getIntent().getAction();
  if (Intent.ACTION_OPEN_DOCUMENT.equals(action)) {
    mMode=MODE_OPEN;
  }
 else   if (Intent.ACTION_CREATE_DOCUMENT.equals(action)) {
    mMode=MODE_CREATE;
  }
  setResult(Activity.RESULT_CANCELED);
  setContentView(R.layout.activity);
  getFragmentManager().addOnBackStackChangedListener(mStackListener);
  BackendFragment.show(getFragmentManager());
  updateActionBar();
  if (mMode == MODE_CREATE) {
    final String mimeType=getIntent().getType();
    final String title=getIntent().getStringExtra(Intent.EXTRA_TITLE);
    SaveFragment.show(getFragmentManager(),mimeType,title);
  }
}
