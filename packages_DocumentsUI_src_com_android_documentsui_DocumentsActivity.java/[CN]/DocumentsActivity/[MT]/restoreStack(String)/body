{
  Log.d(TAG,"restoreStack: " + rawStack);
  mStack.clear();
  if (rawStack == null)   return;
  try {
    final JSONArray stack=new JSONArray(rawStack);
    for (int i=0; i < stack.length(); i++) {
      final Uri uri=Uri.parse(stack.getString(i));
      final Document doc=Document.fromUri(getContentResolver(),uri);
      mStack.add(doc);
    }
  }
 catch (  JSONException e) {
    Log.w(TAG,"Failed to decode stack",e);
  }
  final Document cwd=getCurrentDirectory();
  if (cwd != null) {
    final String authority=cwd.uri.getAuthority();
    final String rootId=DocumentsContract.getRootId(cwd.uri);
    mCurrentRoot=sRoots.get(Pair.create(authority,rootId));
  }
}
