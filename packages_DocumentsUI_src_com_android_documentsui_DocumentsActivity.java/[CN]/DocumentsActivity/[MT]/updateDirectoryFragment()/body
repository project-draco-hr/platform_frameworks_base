{
  final FragmentManager fm=getFragmentManager();
  final Document cwd=getCurrentDirectory();
  if (cwd == null) {
    if (mAction == ACTION_CREATE) {
      RecentsCreateFragment.show(fm);
    }
 else {
      DirectoryFragment.showRecentsOpen(fm);
    }
  }
 else {
    if (mCurrentSearch != null) {
      DirectoryFragment.showSearch(fm,cwd.uri,mCurrentSearch);
    }
 else {
      DirectoryFragment.showNormal(fm,cwd.uri);
    }
  }
  updateActionBar();
  invalidateOptionsMenu();
  dumpStack();
}
