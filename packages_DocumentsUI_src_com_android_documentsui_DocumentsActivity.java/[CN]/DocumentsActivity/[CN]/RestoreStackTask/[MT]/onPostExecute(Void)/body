{
  if (isDestroyed())   return;
  mState.restored=true;
  boolean showDrawer=false;
  if (!mRestoredStack) {
    showDrawer=true;
  }
  if (MimePredicate.mimeMatches(MimePredicate.VISUAL_MIMES,mState.acceptMimes)) {
    showDrawer=false;
  }
  if (mExternal && mState.action == ACTION_GET_CONTENT) {
    showDrawer=true;
  }
  if (showDrawer) {
    setRootsDrawerOpen(true);
  }
  onCurrentDirectoryChanged(ANIM_NONE);
}
