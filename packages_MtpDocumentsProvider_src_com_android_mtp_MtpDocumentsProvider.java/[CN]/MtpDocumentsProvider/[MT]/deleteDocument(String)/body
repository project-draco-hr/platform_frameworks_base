{
  try {
    final Identifier identifier=mDatabase.createIdentifier(documentId);
    openDevice(identifier.mDeviceId);
    final Identifier parentIdentifier=mDatabase.getParentIdentifier(documentId);
    mMtpManager.deleteDocument(identifier.mDeviceId,identifier.mObjectHandle);
    mDatabase.deleteDocument(documentId);
    getDocumentLoader(parentIdentifier).cancelTask(parentIdentifier);
    notifyChildDocumentsChange(parentIdentifier.mDocumentId);
    if (parentIdentifier.mDocumentType == MtpDatabaseConstants.DOCUMENT_TYPE_STORAGE) {
      final Identifier deviceIdentifier=mDatabase.getParentIdentifier(parentIdentifier.mDocumentId);
      notifyChildDocumentsChange(deviceIdentifier.mDocumentId);
    }
  }
 catch (  IOException error) {
    Log.e(MtpDocumentsProvider.TAG,"deleteDocument",error);
    throw new FileNotFoundException(error.getMessage());
  }
}
