{
  sSingleton=this;
  mResources=getContext().getResources();
  mMtpManager=new MtpManager(getContext());
  mResolver=getContext().getContentResolver();
  mDeviceToolkits=new HashMap<Integer,DeviceToolkit>();
  mDatabase=new MtpDatabase(getContext(),MtpDatabaseConstants.FLAG_DATABASE_IN_FILE);
  mRootScanner=new RootScanner(mResolver,mResources,mMtpManager,mDatabase);
  mAppFuse=new AppFuse(TAG,new AppFuseCallback());
  mAppFuse.mount(getContext().getSystemService(StorageManager.class));
  resume();
  return true;
}
