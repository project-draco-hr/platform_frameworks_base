{
  super();
  mC=c;
  mP=p;
  mM=new Matrix();
  mM.reset();
  mM=mC.getMatrix();
  Rect r=mC.getClipBounds();
  int cl[]={-1,r.top,r.left,-2,r.top,r.right,-2,r.bottom,r.right,-2,r.bottom,r.left};
  mCurrClip=new Area(createShape(cl));
  if (ctx != null) {
    WindowManager wm=(WindowManager)ctx.getSystemService(Context.WINDOW_SERVICE);
    Display d=wm.getDefaultDisplay();
    displayWidth=d.getWidth();
    displayHeight=d.getHeight();
  }
  blitter=new AndroidJavaBlitter(c);
  cm=new DirectColorModel(32,0xff0000,0xff00,0xff,0xff000000);
  sm=new SinglePixelPackedSampleModel(DataBuffer.TYPE_INT,displayWidth,displayHeight,cm.getMasks());
  wr=Raster.createWritableRaster(sm,null);
  dstSurf=new ImageSurface(cm,wr);
}
