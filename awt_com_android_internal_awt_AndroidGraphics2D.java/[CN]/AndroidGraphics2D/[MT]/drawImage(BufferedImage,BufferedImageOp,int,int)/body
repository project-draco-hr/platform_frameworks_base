{
  if (bufImage == null) {
    return;
  }
  if (op == null) {
    drawImage(bufImage,x,y,null);
  }
 else   if (op instanceof AffineTransformOp) {
    AffineTransformOp atop=(AffineTransformOp)op;
    AffineTransform xform=atop.getTransform();
    Surface srcSurf=Surface.getImageSurface(bufImage);
    int w=srcSurf.getWidth();
    int h=srcSurf.getHeight();
    blitter.blit(0,0,srcSurf,x,y,dstSurf,w,h,(AffineTransform)transform.clone(),xform,composite,null,clip);
  }
 else {
    bufImage=op.filter(bufImage,null);
    Surface srcSurf=Surface.getImageSurface(bufImage);
    int w=srcSurf.getWidth();
    int h=srcSurf.getHeight();
    blitter.blit(0,0,srcSurf,x,y,dstSurf,w,h,(AffineTransform)transform.clone(),composite,null,clip);
  }
}
