{
  if (secondTapUp.getPointerCount() > 2) {
    return;
  }
  if (Build.IS_DEBUGGABLE) {
    if (mSendHoverEnterDelayed.isPending()) {
      throw new IllegalStateException("mSendHoverEnterDelayed must not be pending.");
    }
    if (mSendHoverExitDelayed.isPending()) {
      throw new IllegalStateException("mSendHoverExitDelayed must not be pending.");
    }
    if (!mPerformLongPressDelayed.isPending()) {
      throw new IllegalStateException("mPerformLongPressDelayed must not be pending.");
    }
  }
  mPerformLongPressDelayed.remove();
  sendAccessibilityEvent(AccessibilityEvent.TYPE_TOUCH_INTERACTION_END);
  int clickLocationX;
  int clickLocationY;
  final int pointerId=secondTapUp.getPointerId(secondTapUp.getActionIndex());
  final int pointerIndex=secondTapUp.findPointerIndex(pointerId);
  MotionEvent lastExploreEvent=mInjectedPointerTracker.getLastInjectedHoverEventForClick();
  if (lastExploreEvent == null) {
    Rect focusBounds=mTempRect;
    if (mAms.getAccessibilityFocusBoundsInActiveWindow(focusBounds)) {
      clickLocationX=focusBounds.centerX();
      clickLocationY=focusBounds.centerY();
    }
 else {
      return;
    }
  }
 else {
    final int lastExplorePointerIndex=lastExploreEvent.getActionIndex();
    clickLocationX=(int)lastExploreEvent.getX(lastExplorePointerIndex);
    clickLocationY=(int)lastExploreEvent.getY(lastExplorePointerIndex);
    Rect activeWindowBounds=mTempRect;
    if (mLastTouchedWindowId == mAms.getActiveWindowId()) {
      mAms.getActiveWindowBounds(activeWindowBounds);
      if (activeWindowBounds.contains(clickLocationX,clickLocationY)) {
        Rect focusBounds=mTempRect;
        if (mAms.getAccessibilityFocusBoundsInActiveWindow(focusBounds)) {
          if (!focusBounds.contains(clickLocationX,clickLocationY)) {
            clickLocationX=focusBounds.centerX();
            clickLocationY=focusBounds.centerY();
          }
        }
      }
    }
  }
  PointerProperties[] properties=new PointerProperties[1];
  properties[0]=new PointerProperties();
  secondTapUp.getPointerProperties(pointerIndex,properties[0]);
  PointerCoords[] coords=new PointerCoords[1];
  coords[0]=new PointerCoords();
  coords[0].x=clickLocationX;
  coords[0].y=clickLocationY;
  MotionEvent event=MotionEvent.obtain(secondTapUp.getDownTime(),secondTapUp.getEventTime(),MotionEvent.ACTION_DOWN,1,properties,coords,0,0,1.0f,1.0f,secondTapUp.getDeviceId(),0,secondTapUp.getSource(),secondTapUp.getFlags());
  sendActionDownAndUp(event,policyFlags);
  event.recycle();
}
