{
  if (imi == null)   return;
  if (DEBUG) {
    Log.d(TAG,"Update radio buttons by " + imi.getId() + ", "+ subtype);
  }
  for (  View radioView : mRadioViewAndImiMap.keySet()) {
    RadioButton subtypeRadioButton=(RadioButton)radioView.findViewById(R.id.item_radio);
    if (subtypeRadioButton == null) {
      Log.w(TAG,"RadioButton was not found in the selected subtype view");
      return;
    }
    Pair<InputMethodInfo,InputMethodSubtype> imiAndSubtype=mRadioViewAndImiMap.get(radioView);
    if (imiAndSubtype.first.getId().equals(imi.getId()) && (imiAndSubtype.second == null || imiAndSubtype.second.equals(subtype))) {
      subtypeRadioButton.setChecked(true);
    }
 else {
      subtypeRadioButton.setChecked(false);
    }
  }
}
