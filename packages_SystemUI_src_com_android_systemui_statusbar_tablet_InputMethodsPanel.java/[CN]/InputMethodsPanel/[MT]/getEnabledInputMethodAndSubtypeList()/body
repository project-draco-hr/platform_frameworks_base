{
  String newEnabledIMIs=Settings.Secure.getString(mContext.getContentResolver(),Settings.Secure.ENABLED_INPUT_METHODS);
  if (mEnabledInputMethodAndSubtypesCacheStr == null || !mEnabledInputMethodAndSubtypesCacheStr.equals(newEnabledIMIs)) {
    mEnabledInputMethodAndSubtypesCache.clear();
    final List<InputMethodInfo> imis=mImm.getEnabledInputMethodList();
    for (    InputMethodInfo imi : imis) {
      mEnabledInputMethodAndSubtypesCache.put(imi,mImm.getEnabledInputMethodSubtypeList(imi,true));
    }
    mEnabledInputMethodAndSubtypesCacheStr=newEnabledIMIs;
  }
  return mEnabledInputMethodAndSubtypesCache;
}
