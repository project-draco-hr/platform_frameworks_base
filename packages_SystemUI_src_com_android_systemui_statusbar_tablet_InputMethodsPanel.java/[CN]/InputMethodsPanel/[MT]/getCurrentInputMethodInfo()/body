{
  String curInputMethodId=Settings.Secure.getString(getContext().getContentResolver(),Settings.Secure.DEFAULT_INPUT_METHOD);
  Set<InputMethodInfo> cachedImiSet=mEnabledInputMethodAndSubtypesCache.keySet();
  for (  InputMethodInfo imi : cachedImiSet) {
    if (imi.getId().equals(curInputMethodId)) {
      return imi;
    }
  }
  cachedImiSet=getEnabledInputMethodAndSubtypeList().keySet();
  for (  InputMethodInfo imi : cachedImiSet) {
    if (imi.getId().equals(curInputMethodId)) {
      return imi;
    }
  }
  return null;
}
