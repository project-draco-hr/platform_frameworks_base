{
  mInputMethodMenuList.removeAllViews();
  mRadioViewAndImiMap.clear();
  mPackageManager=mContext.getPackageManager();
  Map<InputMethodInfo,List<InputMethodSubtype>> enabledIMIs=getEnabledInputMethodAndSubtypeList();
  Set<InputMethodInfo> cachedImiSet=enabledIMIs.keySet();
  for (  InputMethodInfo imi : cachedImiSet) {
    List<InputMethodSubtype> subtypes=enabledIMIs.get(imi);
    if (subtypes == null || subtypes.size() == 0) {
      mInputMethodMenuList.addView(createInputMethodItem(imi,null));
      continue;
    }
    for (    InputMethodSubtype subtype : subtypes) {
      mInputMethodMenuList.addView(createInputMethodItem(imi,subtype));
    }
  }
  updateRadioButtons();
}
