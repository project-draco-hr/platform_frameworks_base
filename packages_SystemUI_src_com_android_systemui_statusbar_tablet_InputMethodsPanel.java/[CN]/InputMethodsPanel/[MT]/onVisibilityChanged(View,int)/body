{
  super.onVisibilityChanged(changedView,visibility);
  if (changedView == this) {
    if (visibility == View.VISIBLE) {
      updateUiElements();
      if (mInputMethodSwitchButton != null) {
        mInputMethodSwitchButton.setIconImage(R.drawable.ic_sysbar_ime_pressed);
      }
    }
 else {
      if (mInputMethodSwitchButton != null) {
        mInputMethodSwitchButton.setIconImage(R.drawable.ic_sysbar_ime);
      }
    }
  }
}
