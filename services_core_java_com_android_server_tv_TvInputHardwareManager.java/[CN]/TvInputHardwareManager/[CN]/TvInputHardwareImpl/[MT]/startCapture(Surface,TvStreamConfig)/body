{
synchronized (mImplLock) {
    if (mReleased) {
      return false;
    }
    if (surface == null || config == null) {
      return false;
    }
    if (config.getType() != TvStreamConfig.STREAM_TYPE_BUFFER_PRODUCER) {
      return false;
    }
    int result=mHal.addOrUpdateStream(mInfo.getDeviceId(),surface,config);
    return result == TvInputHal.SUCCESS;
  }
}
