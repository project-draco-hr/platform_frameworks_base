{
synchronized (mImplLock) {
    if (audioType == AudioManager.DEVICE_NONE) {
      mAudioSink=findAudioSinkFromAudioPolicy();
    }
 else {
      AudioDevicePort audioSink=findAudioDevicePort(audioType,audioAddress);
      if (audioSink != null) {
        mAudioSink=audioSink;
      }
    }
    mDesiredSamplingRate=samplingRate;
    mDesiredChannelMask=channelMask;
    mDesiredFormat=format;
    if (mAudioPatch != null) {
      updateAudioPatchLocked();
    }
  }
}
