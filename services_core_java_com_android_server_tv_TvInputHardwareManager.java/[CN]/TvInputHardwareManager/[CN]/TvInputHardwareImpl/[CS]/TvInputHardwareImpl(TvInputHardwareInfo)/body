{
  mInfo=info;
  AudioDevicePort audioSource=null;
  AudioDevicePort audioSink=null;
  if (mInfo.getAudioType() != AudioManager.DEVICE_NONE) {
    ArrayList<AudioPort> devicePorts=new ArrayList<AudioPort>();
    if (mAudioManager.listAudioDevicePorts(devicePorts) == AudioManager.SUCCESS) {
      for (      AudioPort port : devicePorts) {
        AudioDevicePort devicePort=(AudioDevicePort)port;
        if (devicePort.type() == mInfo.getAudioType() && devicePort.address().equals(mInfo.getAudioAddress())) {
          audioSource=devicePort;
          break;
        }
      }
      int sinkDevices=mAudioManager.getDevicesForStream(AudioManager.STREAM_MUSIC);
      for (      AudioPort port : devicePorts) {
        AudioDevicePort devicePort=(AudioDevicePort)port;
        if (devicePort.type() == sinkDevices) {
          audioSink=devicePort;
          break;
        }
      }
    }
  }
  mAudioSource=audioSource;
  mAudioSink=audioSink;
}
