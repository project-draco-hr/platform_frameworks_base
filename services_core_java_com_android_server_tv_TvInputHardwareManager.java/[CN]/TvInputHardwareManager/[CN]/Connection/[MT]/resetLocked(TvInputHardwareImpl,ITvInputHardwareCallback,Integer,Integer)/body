{
  if (mHardware != null) {
    try {
      mCallback.onReleased();
    }
 catch (    RemoteException e) {
      Slog.e(TAG,"Connection::resetHardware: " + e);
    }
    mHardware.release();
  }
  mHardware=hardware;
  mCallback=callback;
  mCallingUid=callingUid;
  mResolvedUserId=resolvedUserId;
  if (mHardware != null && mCallback != null) {
    try {
      mCallback.onStreamConfigChanged(getConfigsLocked());
    }
 catch (    RemoteException e) {
      Slog.e(TAG,"Connection::resetHardware: " + e);
    }
  }
}
