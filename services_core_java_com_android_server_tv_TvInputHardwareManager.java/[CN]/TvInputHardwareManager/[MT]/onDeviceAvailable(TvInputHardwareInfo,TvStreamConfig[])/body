{
synchronized (mLock) {
    Connection connection=new Connection(info);
    connection.updateConfigsLocked(configs);
    mConnections.put(info.getDeviceId(),connection);
    buildHardwareListLocked();
    mHandler.obtainMessage(ListenerHandler.HARDWARE_DEVICE_ADDED,0,0,info).sendToTarget();
    if (info.getType() == TvInputHardwareInfo.TV_INPUT_TYPE_HDMI) {
      processPendingHdmiDeviceEventsLocked();
    }
  }
}
