{
  boolean changed=false;
  if (newState == null)   return changed;
  DataCallState.SetupResult result;
  LinkProperties linkProperties=new LinkProperties();
  result=newState.setLinkProperties(linkProperties,isOkToUseSystemPropertyDns(newState));
  if (result != DataCallState.SetupResult.SUCCESS) {
    log("updateLinkProperty failed : " + result);
    return changed;
  }
  if (mLinkProperties != null) {
    linkProperties.setHttpProxy(mLinkProperties.getHttpProxy());
    if (!mLinkProperties.equals(linkProperties)) {
      mLinkProperties=linkProperties;
      changed=true;
    }
  }
 else {
    mLinkProperties=linkProperties;
    changed=true;
  }
  return changed;
}
