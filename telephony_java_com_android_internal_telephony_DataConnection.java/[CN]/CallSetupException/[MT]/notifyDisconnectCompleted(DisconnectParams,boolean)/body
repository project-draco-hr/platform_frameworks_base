{
  if (VDBG)   log("NotifyDisconnectCompleted");
  ApnContext alreadySent=null;
  String reason=null;
  if (dp.onCompletedMsg != null) {
    Message msg=dp.onCompletedMsg;
    if (msg.obj instanceof ApnContext) {
      alreadySent=(ApnContext)msg.obj;
    }
    reason=dp.reason;
    if (VDBG) {
      log(String.format("msg=%s msg.obj=%s",msg.toString(),((msg.obj instanceof String) ? (String)msg.obj : "<no-reason>")));
    }
    AsyncResult.forMessage(msg);
    msg.sendToTarget();
  }
  if (sendAll) {
    for (    ApnContext a : mApnList) {
      if (a == alreadySent)       continue;
      if (reason != null)       a.setReason(reason);
      Message msg=mDataConnectionTracker.obtainMessage(DataConnectionTracker.EVENT_DISCONNECT_DONE,a);
      AsyncResult.forMessage(msg);
      msg.sendToTarget();
    }
  }
  if (DBG)   log("NotifyDisconnectCompleted DisconnectParams=" + dp);
}
