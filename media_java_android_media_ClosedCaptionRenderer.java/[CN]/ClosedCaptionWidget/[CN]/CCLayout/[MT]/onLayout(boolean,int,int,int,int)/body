{
  int viewPortWidth=r - l;
  int viewPortHeight=b - t;
  int safeWidth, safeHeight;
  if (viewPortWidth * 3 >= viewPortHeight * 4) {
    safeWidth=viewPortHeight * 4 / 3;
    safeHeight=viewPortHeight;
  }
 else {
    safeWidth=viewPortWidth;
    safeHeight=viewPortWidth * 3 / 4;
  }
  safeWidth*=SAFE_AREA_RATIO;
  safeHeight*=SAFE_AREA_RATIO;
  int left=(viewPortWidth - safeWidth) / 2;
  int top=(viewPortHeight - safeHeight) / 2;
  for (int i=0; i < MAX_ROWS; i++) {
    mLineBoxes[i].layout(left,top + safeHeight * i / MAX_ROWS,left + safeWidth,top + safeHeight * (i + 1) / MAX_ROWS);
  }
}
