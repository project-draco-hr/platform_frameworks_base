{
  super(context,attrs,defStyleAttr,defStyleRes);
  setLayerType(View.LAYER_TYPE_SOFTWARE,null);
  mManager=(CaptioningManager)context.getSystemService(Context.CAPTIONING_SERVICE);
  mCaptionStyle=DEFAULT_CAPTION_STYLE.applyStyle(mManager.getUserStyle());
  mClosedCaptionLayout=createCaptionLayout(context);
  mClosedCaptionLayout.setCaptionStyle(mCaptionStyle);
  mClosedCaptionLayout.setFontScale(mManager.getFontScale());
  addView((ViewGroup)mClosedCaptionLayout,LayoutParams.MATCH_PARENT,LayoutParams.MATCH_PARENT);
  requestLayout();
}
