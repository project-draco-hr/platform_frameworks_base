{
  WebViewProviderInfo wpi=new WebViewProviderInfo("package","",true,true,null);
  WebViewProviderInfo[] packages=new WebViewProviderInfo[]{wpi};
  setupWithPackages(packages);
  mTestSystemImpl.setPackageInfo(createPackageInfo(wpi.packageName,true,false,true));
  runWebViewBootPreparationOnMainSync();
  Mockito.verify(mTestSystemImpl,Mockito.never()).onWebViewProviderChanged(Matchers.anyObject());
  WebViewProviderResponse response=mWebViewUpdateServiceImpl.waitForAndGetProvider();
  assertEquals(WebViewFactory.LIBLOAD_FAILED_LISTING_WEBVIEW_PACKAGES,response.status);
  mTestSystemImpl.setPackageInfo(createPackageInfo(wpi.packageName,true,true,true));
  mWebViewUpdateServiceImpl.packageStateChanged(wpi.packageName,WebViewUpdateService.PACKAGE_ADDED_REPLACED,0);
  checkPreparationPhasesForPackage(wpi.packageName,1);
}
