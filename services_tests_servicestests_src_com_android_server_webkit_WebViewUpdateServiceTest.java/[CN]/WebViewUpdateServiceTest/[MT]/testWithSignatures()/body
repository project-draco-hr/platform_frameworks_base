{
  String validPackage="valid package";
  String invalidPackage="invalid package";
  Signature validSignature=new Signature("11");
  Signature invalidExpectedSignature=new Signature("22");
  Signature invalidPackageSignature=new Signature("33");
  WebViewProviderInfo[] packages=new WebViewProviderInfo[]{new WebViewProviderInfo(invalidPackage,"",true,false,new String[]{Base64.encodeToString(invalidExpectedSignature.toByteArray(),Base64.DEFAULT)}),new WebViewProviderInfo(validPackage,"",true,false,new String[]{Base64.encodeToString(validSignature.toByteArray(),Base64.DEFAULT)})};
  setupWithPackages(packages,true,1,false);
  mTestSystemImpl.setPackageInfo(createPackageInfo(invalidPackage,true,true,true,new Signature[]{invalidPackageSignature},0));
  mTestSystemImpl.setPackageInfo(createPackageInfo(validPackage,true,true,true,new Signature[]{validSignature},0));
  runWebViewBootPreparationOnMainSync();
  checkPreparationPhasesForPackage(validPackage,1);
  WebViewProviderInfo[] validPackages=mWebViewUpdateServiceImpl.getValidWebViewPackages();
  assertEquals(1,validPackages.length);
  assertEquals(validPackage,validPackages[0].packageName);
}
