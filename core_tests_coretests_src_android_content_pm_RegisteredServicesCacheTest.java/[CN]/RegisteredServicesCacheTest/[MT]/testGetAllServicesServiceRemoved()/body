{
  TestServicesCache cache=new TestServicesCache(mContext,mDataDir);
  cache.addServiceForQuerying(0,r1,new RegisteredServicesCache.ServiceInfo<>(t1,null,1));
  cache.addServiceForQuerying(0,r2,new RegisteredServicesCache.ServiceInfo<>(t2,null,2));
  assertEquals(2,cache.getAllServicesSize(0));
  assertEquals(2,cache.getPersistentServicesSize(0));
  cache=new TestServicesCache(mContext,mDataDir);
  assertEquals(2,cache.getPersistentServicesSize(0));
  cache.addServiceForQuerying(0,r1,new RegisteredServicesCache.ServiceInfo<>(t1,null,1));
  assertEquals(1,cache.getAllServicesSize(0));
  assertEquals(1,cache.getPersistentServicesSize(0));
}
