{
  if (!mDevice.equals(intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE))) {
    return;
  }
  if (BluetoothInputDevice.ACTION_INPUT_DEVICE_STATE_CHANGED.equals(intent.getAction())) {
    int state=intent.getIntExtra(BluetoothInputDevice.EXTRA_INPUT_DEVICE_STATE,-1);
    assertNotSame(-1,state);
switch (state) {
case BluetoothInputDevice.STATE_DISCONNECTED:
      setFiredFlag(STATE_DISCONNECTED_FLAG);
    break;
case BluetoothInputDevice.STATE_CONNECTING:
  setFiredFlag(STATE_CONNECTING_FLAG);
break;
case BluetoothInputDevice.STATE_CONNECTED:
setFiredFlag(STATE_CONNECTED_FLAG);
break;
case BluetoothInputDevice.STATE_DISCONNECTING:
setFiredFlag(STATE_DISCONNECTING_FLAG);
break;
}
}
}
