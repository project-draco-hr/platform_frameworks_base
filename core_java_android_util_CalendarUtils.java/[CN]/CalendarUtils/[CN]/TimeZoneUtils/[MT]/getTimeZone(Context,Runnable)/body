{
synchronized (mTZCallbacks) {
    if (mFirstTZRequest) {
      mTZQueryInProgress=true;
      mFirstTZRequest=false;
      SharedPreferences prefs=getSharedPreferences(context,mPrefsName);
      mUseHomeTZ=prefs.getBoolean(KEY_HOME_TZ_ENABLED,false);
      mHomeTZ=prefs.getString(KEY_HOME_TZ,Time.getCurrentTimezone());
      if (mHandler == null) {
        mHandler=new AsyncTZHandler(context.getContentResolver());
      }
      mHandler.startQuery(0,context,CalendarCache.URI,CalendarCache.POJECTION,null,null,null);
    }
    if (mTZQueryInProgress) {
      mTZCallbacks.add(callback);
    }
  }
  return mUseHomeTZ ? mHomeTZ : Time.getCurrentTimezone();
}
