{
  if (DBG)   log(getName() + "\n");
  EventLog.writeEvent(EVENTLOG_WIFI_STATE_CHANGED,getName());
  mFrameworkScanIntervalMs=Settings.Secure.getLong(mContext.getContentResolver(),Settings.Secure.WIFI_FRAMEWORK_SCAN_INTERVAL_MS,mDefaultFrameworkScanIntervalMs);
  if (mEnableBackgroundScan) {
    if (!mScanResultIsPending) {
      WifiNative.enableBackgroundScanCommand(true);
    }
  }
 else {
    setScanAlarm(true);
  }
}
