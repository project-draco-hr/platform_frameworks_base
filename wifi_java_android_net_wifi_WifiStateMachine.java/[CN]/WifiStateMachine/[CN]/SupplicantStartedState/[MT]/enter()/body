{
  if (DBG)   log(getName() + "\n");
  EventLog.writeEvent(EVENTLOG_WIFI_STATE_CHANGED,getName());
  mIsScanMode=false;
  mNetworkInfo.setIsAvailable(true);
  int defaultInterval=mContext.getResources().getInteger(com.android.internal.R.integer.config_wifi_supplicant_scan_interval);
  mSupplicantScanIntervalMs=Settings.Secure.getLong(mContext.getContentResolver(),Settings.Secure.WIFI_SUPPLICANT_SCAN_INTERVAL_MS,defaultInterval);
  mWifiNative.setScanInterval((int)mSupplicantScanIntervalMs / 1000);
}
