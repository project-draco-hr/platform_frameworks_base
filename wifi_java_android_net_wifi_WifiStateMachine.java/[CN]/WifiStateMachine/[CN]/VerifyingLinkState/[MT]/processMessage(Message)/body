{
switch (message.what) {
case WifiWatchdogStateMachine.POOR_LINK_DETECTED:
    break;
case WifiWatchdogStateMachine.GOOD_LINK_DETECTED:
  try {
    mNwService.enableIpv6(mInterfaceName);
  }
 catch (  RemoteException re) {
    loge("Failed to enable IPv6: " + re);
  }
catch (  IllegalStateException e) {
    loge("Failed to enable IPv6: " + e);
  }
setNetworkDetailedState(DetailedState.CONNECTED);
mWifiConfigStore.updateStatus(mLastNetworkId,DetailedState.CONNECTED);
sendNetworkStateChangeBroadcast(mLastBssid);
transitionTo(mConnectedState);
break;
default :
return NOT_HANDLED;
}
EventLog.writeEvent(EVENTLOG_WIFI_EVENT_HANDLED,message.what);
return HANDLED;
}
