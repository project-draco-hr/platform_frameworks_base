{
  Intent intent=new Intent(WifiManager.NETWORK_STATE_CHANGED_ACTION);
  intent.addFlags(Intent.FLAG_RECEIVER_REGISTERED_ONLY_BEFORE_BOOT);
  intent.putExtra(WifiManager.EXTRA_NETWORK_INFO,new NetworkInfo(mNetworkInfo));
  intent.putExtra(WifiManager.EXTRA_LINK_PROPERTIES,new LinkProperties(mLinkProperties));
  if (bssid != null)   intent.putExtra(WifiManager.EXTRA_BSSID,bssid);
  if (mNetworkInfo.getDetailedState() == DetailedState.VERIFYING_POOR_LINK || mNetworkInfo.getDetailedState() == DetailedState.CONNECTED) {
    intent.putExtra(WifiManager.EXTRA_WIFI_INFO,new WifiInfo(mWifiInfo));
  }
  mContext.sendStickyBroadcast(intent);
}
