{
  Intent intent=new Intent(WifiManager.NETWORK_STATE_CHANGED_ACTION);
  intent.addFlags(Intent.FLAG_RECEIVER_REGISTERED_ONLY_BEFORE_BOOT | Intent.FLAG_RECEIVER_REPLACE_PENDING);
  intent.putExtra(WifiManager.EXTRA_NETWORK_INFO,mNetworkInfo);
  intent.putExtra(WifiManager.EXTRA_LINK_PROPERTIES,new LinkProperties(mLinkProperties));
  if (bssid != null)   intent.putExtra(WifiManager.EXTRA_BSSID,bssid);
  if (mNetworkInfo.getState() == NetworkInfo.State.CONNECTED)   intent.putExtra(WifiManager.EXTRA_WIFI_INFO,new WifiInfo(mWifiInfo));
  mContext.sendStickyBroadcast(intent);
}
