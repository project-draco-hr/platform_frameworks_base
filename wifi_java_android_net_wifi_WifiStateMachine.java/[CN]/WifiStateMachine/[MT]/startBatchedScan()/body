{
  if (mDhcpActive) {
    if (DBG)     log("not starting Batched Scans due to DHCP");
    return;
  }
  retrieveBatchedScanData();
  mAlarmManager.cancel(mBatchedScanIntervalIntent);
  String scansExpected=mWifiNative.setBatchedScanSettings(mBatchedScanSettings);
  try {
    mExpectedBatchedScans=Integer.parseInt(scansExpected);
    setNextBatchedAlarm(mExpectedBatchedScans);
  }
 catch (  NumberFormatException e) {
    stopBatchedScan();
    loge("Exception parsing WifiNative.setBatchedScanSettings response " + e);
  }
}
