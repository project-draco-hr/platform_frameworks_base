{
  Log.d(TAG,"Reset connections and stopping DHCP");
  NetworkUtils.resetConnections(mInterfaceName);
  if (!NetworkUtils.stopDhcp(mInterfaceName)) {
    Log.e(TAG,"Could not stop DHCP");
  }
  NetworkUtils.disableInterface(mInterfaceName);
  mWifiInfo.setInetAddress(null);
  mWifiInfo.setBSSID(null);
  mWifiInfo.setSSID(null);
  mWifiInfo.setNetworkId(-1);
  mWifiInfo.setRssi(MIN_RSSI);
  mWifiInfo.setLinkSpeed(-1);
  setNetworkDetailedState(DetailedState.DISCONNECTED);
  sendNetworkStateChangeBroadcast(mLastBssid);
  mLinkProperties.clear();
  mLastBssid=null;
  mLastNetworkId=-1;
}
