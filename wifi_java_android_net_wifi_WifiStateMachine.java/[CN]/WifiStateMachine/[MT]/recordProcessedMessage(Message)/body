{
  if (getCurrentState() == mConnectedState || getCurrentState() == mDisconnectedState) {
switch (msg.what) {
case CMD_LOAD_DRIVER:
case CMD_START_SUPPLICANT:
case CMD_START_DRIVER:
case CMD_SET_SCAN_MODE:
case CMD_SET_HIGH_PERF_MODE:
case CMD_SET_SUSPEND_OPTIMIZATIONS:
case CMD_CLEAR_SUSPEND_OPTIMIZATIONS:
case CMD_ENABLE_BACKGROUND_SCAN:
case CMD_ENABLE_ALL_NETWORKS:
      return false;
  }
}
switch (msg.what) {
case CMD_START_SCAN:
case CMD_ENABLE_RSSI_POLL:
case CMD_RSSI_POLL:
case CMD_DELAYED_STOP_DRIVER:
case WifiMonitor.SCAN_RESULTS_EVENT:
case WifiWatchdogStateMachine.RSSI_FETCH:
  return false;
default :
return true;
}
}
