{
  int newRssi=WifiNative.getRssiCommand();
  if (newRssi != -1 && -200 < newRssi && newRssi < 256) {
    if (newRssi > 0)     newRssi-=256;
    mWifiInfo.setRssi(newRssi);
    int newSignalLevel=WifiManager.calculateSignalLevel(newRssi,4);
    if (newSignalLevel != mLastSignalLevel) {
      sendRssiChangeBroadcast(newRssi);
    }
    mLastSignalLevel=newSignalLevel;
  }
 else {
    mWifiInfo.setRssi(-200);
  }
  int newLinkSpeed=WifiNative.getLinkSpeedCommand();
  if (newLinkSpeed != -1) {
    mWifiInfo.setLinkSpeed(newLinkSpeed);
  }
}
