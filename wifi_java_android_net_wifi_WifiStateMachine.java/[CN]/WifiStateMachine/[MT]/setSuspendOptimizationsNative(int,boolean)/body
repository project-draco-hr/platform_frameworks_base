{
  if (DBG)   log("setSuspendOptimizationsNative: " + reason + " "+ enabled);
  if (enabled) {
    mSuspendOptNeedsDisabled&=~reason;
    if (mSuspendOptNeedsDisabled == 0 && mUserWantsSuspendOpt.get()) {
      mWifiNative.setSuspendOptimizations(true);
      if (DBG)       log("Enabled, mSuspendOptNeedsDisabled " + mSuspendOptNeedsDisabled);
    }
  }
 else {
    mSuspendOptNeedsDisabled|=reason;
    mWifiNative.setSuspendOptimizations(false);
    if (DBG)     log("Disabled, mSuspendOptNeedsDisabled " + mSuspendOptNeedsDisabled);
  }
}
