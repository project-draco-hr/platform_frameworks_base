{
  Log.e(TAG,"IP configuration failed");
  mWifiInfo.setInetAddress(null);
  if (++mReconnectCount > getMaxDhcpRetries()) {
    Log.e(TAG,"Failed " + mReconnectCount + " times, Disabling "+ mLastNetworkId);
    WifiConfigStore.disableNetwork(mLastNetworkId,WifiConfiguration.DISABLED_DHCP_FAILURE);
    mReconnectCount=0;
  }
  WifiNative.disconnectCommand();
  WifiNative.reconnectCommand();
}
