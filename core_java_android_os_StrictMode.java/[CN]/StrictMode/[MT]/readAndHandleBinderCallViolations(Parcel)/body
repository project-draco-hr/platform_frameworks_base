{
  Exception e=new LogStackTrace();
  StringWriter sw=new StringWriter();
  e.printStackTrace(new PrintWriter(sw));
  String ourStack=sw.toString();
  int policyMask=getThreadBlockingPolicy();
  int numViolations=p.readInt();
  for (int i=0; i < numViolations; ++i) {
    if (LOG_V)     Log.d(TAG,"strict mode violation stacks read from binder call.  i=" + i);
    ApplicationErrorReport.CrashInfo crashInfo=new ApplicationErrorReport.CrashInfo(p);
    crashInfo.stackTrace+="# via Binder call with stack:\n" + ourStack;
    crashInfo.durationMillis=-1;
    BlockGuard.Policy policy=BlockGuard.getThreadPolicy();
    if (policy instanceof AndroidBlockGuardPolicy) {
      ((AndroidBlockGuardPolicy)policy).handleViolation(crashInfo,policyMask);
    }
  }
}
