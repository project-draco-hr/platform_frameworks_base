{
  sVmPolicy=policy;
  sVmPolicyMask=policy.mask;
  setCloseGuardEnabled(vmClosableObjectLeaksEnabled());
  Looper looper=Looper.getMainLooper();
  if (looper != null) {
    MessageQueue mq=looper.mQueue;
synchronized (sProcessIdleHandler) {
      if (policy.classInstanceLimit.size() == 0) {
        mq.removeIdleHandler(sProcessIdleHandler);
      }
 else       if (!sIsIdlerRegistered) {
        mq.addIdleHandler(sProcessIdleHandler);
        sIsIdlerRegistered=true;
      }
    }
  }
}
