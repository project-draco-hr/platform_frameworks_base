{
  if (DEBUG) {
    Log.i(LOG_TAG,"onUpdateCanceled()");
  }
  setState(mProgressMessageController.cancel());
  ensurePreviewUiShown();
switch (mState) {
case STATE_PRINT_CONFIRMED:
{
      requestCreatePdfFileOrFinish();
    }
  break;
case STATE_CREATE_FILE_FAILED:
case STATE_PRINT_COMPLETED:
case STATE_PRINT_CANCELED:
{
  doFinish();
}
break;
}
}
