{
  if (getCurrentPrinter().getId().equals(printer.getId())) {
    mState=STATE_PRINTER_UNAVAILABLE;
    if (mPrintedDocument.isUpdating()) {
      mPrintedDocument.cancel();
    }
    ensureErrorUiShown(getString(R.string.print_error_printer_unavailable),PrintErrorFragment.ACTION_NONE);
    updateOptionsUi();
  }
}
