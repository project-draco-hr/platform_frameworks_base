{
  mSummaryContainer=findViewById(R.id.summary_content);
  mSummaryCopies=(TextView)findViewById(R.id.copies_count_summary);
  mSummaryPaperSize=(TextView)findViewById(R.id.paper_size_summary);
  mOptionsContent=(PrintContentView)findViewById(R.id.options_content);
  mOptionsContent.setOptionsStateChangeListener(this);
  mOptionsContent.setOpenOptionsController(this);
  OnItemSelectedListener itemSelectedListener=new MyOnItemSelectedListener();
  OnClickListener clickListener=new MyClickListener();
  mCopiesEditText=(EditText)findViewById(R.id.copies_edittext);
  mCopiesEditText.setOnFocusChangeListener(mSelectAllOnFocusListener);
  mCopiesEditText.setText(MIN_COPIES_STRING);
  mCopiesEditText.setSelection(mCopiesEditText.getText().length());
  mCopiesEditText.addTextChangedListener(new EditTextWatcher());
  mPrintersObserver=new PrintersObserver();
  mDestinationSpinnerAdapter.registerDataSetObserver(mPrintersObserver);
  mDestinationSpinner=(Spinner)findViewById(R.id.destination_spinner);
  mDestinationSpinner.setAdapter(mDestinationSpinnerAdapter);
  mDestinationSpinner.setOnItemSelectedListener(itemSelectedListener);
  mMediaSizeSpinnerAdapter=new ArrayAdapter<>(this,android.R.layout.simple_spinner_dropdown_item,android.R.id.text1);
  mMediaSizeSpinner=(Spinner)findViewById(R.id.paper_size_spinner);
  mMediaSizeSpinner.setAdapter(mMediaSizeSpinnerAdapter);
  mMediaSizeSpinner.setOnItemSelectedListener(itemSelectedListener);
  mColorModeSpinnerAdapter=new ArrayAdapter<>(this,android.R.layout.simple_spinner_dropdown_item,android.R.id.text1);
  mColorModeSpinner=(Spinner)findViewById(R.id.color_spinner);
  mColorModeSpinner.setAdapter(mColorModeSpinnerAdapter);
  mColorModeSpinner.setOnItemSelectedListener(itemSelectedListener);
  mDuplexModeSpinnerAdapter=new ArrayAdapter<>(this,android.R.layout.simple_spinner_dropdown_item,android.R.id.text1);
  mDuplexModeSpinner=(Spinner)findViewById(R.id.duplex_spinner);
  mDuplexModeSpinner.setAdapter(mDuplexModeSpinnerAdapter);
  mDuplexModeSpinner.setOnItemSelectedListener(itemSelectedListener);
  mOrientationSpinnerAdapter=new ArrayAdapter<>(this,android.R.layout.simple_spinner_dropdown_item,android.R.id.text1);
  String[] orientationLabels=getResources().getStringArray(R.array.orientation_labels);
  mOrientationSpinnerAdapter.add(new SpinnerItem<>(ORIENTATION_PORTRAIT,orientationLabels[0]));
  mOrientationSpinnerAdapter.add(new SpinnerItem<>(ORIENTATION_LANDSCAPE,orientationLabels[1]));
  mOrientationSpinner=(Spinner)findViewById(R.id.orientation_spinner);
  mOrientationSpinner.setAdapter(mOrientationSpinnerAdapter);
  mOrientationSpinner.setOnItemSelectedListener(itemSelectedListener);
  ArrayAdapter<SpinnerItem<Integer>> rangeOptionsSpinnerAdapter=new ArrayAdapter<>(this,android.R.layout.simple_spinner_dropdown_item,android.R.id.text1);
  mRangeOptionsSpinner=(Spinner)findViewById(R.id.range_options_spinner);
  mRangeOptionsSpinner.setAdapter(rangeOptionsSpinnerAdapter);
  mRangeOptionsSpinner.setOnItemSelectedListener(itemSelectedListener);
  updatePageRangeOptions(PrintDocumentInfo.PAGE_COUNT_UNKNOWN);
  mPageRangeTitle=(TextView)findViewById(R.id.page_range_title);
  mPageRangeEditText=(EditText)findViewById(R.id.page_range_edittext);
  mPageRangeEditText.setVisibility(View.INVISIBLE);
  mPageRangeTitle.setVisibility(View.INVISIBLE);
  mPageRangeEditText.setOnFocusChangeListener(mSelectAllOnFocusListener);
  mPageRangeEditText.addTextChangedListener(new RangeTextWatcher());
  mMoreOptionsButton=(Button)findViewById(R.id.more_options_button);
  mMoreOptionsButton.setOnClickListener(clickListener);
  mPrintButton=(ImageView)findViewById(R.id.print_button);
  mPrintButton.setOnClickListener(clickListener);
  mIsOptionsUiBound=true;
  if (!hasUserEverPrinted()) {
    mShowDestinationPrompt=true;
    mSummaryCopies.setEnabled(false);
    mSummaryPaperSize.setEnabled(false);
    mDestinationSpinner.setOnTouchListener(new View.OnTouchListener(){
      @Override public boolean onTouch(      View v,      MotionEvent event){
        mShowDestinationPrompt=false;
        mSummaryCopies.setEnabled(true);
        mSummaryPaperSize.setEnabled(true);
        updateOptionsUi();
        mDestinationSpinner.setOnTouchListener(null);
        mDestinationSpinnerAdapter.notifyDataSetChanged();
        return false;
      }
    }
);
  }
}
