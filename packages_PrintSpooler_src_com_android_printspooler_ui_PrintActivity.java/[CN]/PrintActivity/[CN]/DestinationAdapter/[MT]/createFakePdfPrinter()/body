{
  ArraySet<MediaSize> allMediaSizes=MediaSize.getAllPredefinedSizes();
  MediaSize defaultMediaSize=MediaSizeUtils.getDefault(PrintActivity.this);
  PrinterId printerId=new PrinterId(getComponentName(),"PDF printer");
  PrinterCapabilitiesInfo.Builder builder=new PrinterCapabilitiesInfo.Builder(printerId);
  final int mediaSizeCount=allMediaSizes.size();
  for (int i=0; i < mediaSizeCount; i++) {
    MediaSize mediaSize=allMediaSizes.valueAt(i);
    builder.addMediaSize(mediaSize,mediaSize.equals(defaultMediaSize));
  }
  builder.addResolution(new Resolution("PDF resolution","PDF resolution",300,300),true);
  builder.setColorModes(PrintAttributes.COLOR_MODE_COLOR | PrintAttributes.COLOR_MODE_MONOCHROME,PrintAttributes.COLOR_MODE_COLOR);
  return new PrinterInfo.Builder(printerId,getString(R.string.save_as_pdf),PrinterInfo.STATUS_IDLE).setCapabilities(builder.build()).build();
}
