{
  IIOMetadataNode cloned=new IIOMetadataNode(nodeName);
  cloned.setUserObject(getUserObject());
  if (deep) {
    IIOMetadataNode c=firstChild;
    while (c != null) {
      cloned.insertBefore(c.cloneNode(true),null);
      c=c.nextSibling;
    }
  }
  return cloned;
}
