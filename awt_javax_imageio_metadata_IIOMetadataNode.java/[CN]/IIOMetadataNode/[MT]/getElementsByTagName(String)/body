{
  ArrayList<IIOMetadataNode> nodes=new ArrayList<IIOMetadataNode>();
  Node pos=this;
  while (pos != null) {
    if (pos.getNodeName().equals(name)) {
      nodes.add((IIOMetadataNode)pos);
    }
    Node nextNode=pos.getFirstChild();
    while (nextNode == null) {
      if (pos == this) {
        break;
      }
      nextNode=pos.getNextSibling();
      if (nextNode == null) {
        pos=pos.getParentNode();
        if (pos == null || pos == this) {
          nextNode=null;
          break;
        }
      }
    }
    pos=nextNode;
  }
  return new IIOMetadataNodeList(nodes);
}
