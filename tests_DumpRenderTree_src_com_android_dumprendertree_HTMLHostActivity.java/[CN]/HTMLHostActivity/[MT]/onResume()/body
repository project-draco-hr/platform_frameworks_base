{
  super.onResume();
  if (mProcessStack == null || mProcessStack.isEmpty()) {
    mOutstandingLoads=0;
    dumpAsText=false;
    pageComplete=false;
    mWebView.getSettings().setLayoutAlgorithm(WebSettings.LayoutAlgorithm.NORMAL);
    mFinishedStack=new Stack();
    Intent intent=getIntent();
    if (intent.getData() != null) {
      File f=new File(intent.getData().toString());
      if (f.isDirectory()) {
        mProcessStack=new Vector();
        mProcessStack.add(new FileEntry(intent.getData().toString(),0));
        Log.v(LOGTAG,"Initial dir: " + intent.getData().toString());
        loadNextPage();
      }
 else {
        mCurrentFile=intent.getData().toString();
        mWebView.loadUrl("file://" + intent.getData().toString());
      }
    }
 else     mWebView.loadUrl("about:");
  }
}
