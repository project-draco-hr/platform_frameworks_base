{
  try {
    SurfaceHolder surfaceHolder=MediaFrameworkTest.mSurfaceView.getHolder();
    Parameters params=mCameraTestHelper.getCameraParameters();
    List<String> supportedWhiteBalance=params.getSupportedWhiteBalance();
    assertNotNull("No white balance modes supported",supportedWhiteBalance);
    for (int i=0; i < supportedWhiteBalance.size(); i++) {
      runOnLooper(new Runnable(){
        @Override public void run(){
          mCameraTestHelper.setupCameraTest();
        }
      }
);
      Log.v(TAG,"Setting white balance to: " + supportedWhiteBalance.get(i));
      params.setWhiteBalance(supportedWhiteBalance.get(i));
      mCameraTestHelper.setParameters(params);
      mCameraTestHelper.startCameraPreview(surfaceHolder);
      mCameraTestHelper.capturePhoto();
    }
    mCameraTestHelper.cleanupTestImages();
  }
 catch (  Exception e) {
    Log.e(TAG,e.toString());
    fail("Camera focus modes test Exception");
  }
}
