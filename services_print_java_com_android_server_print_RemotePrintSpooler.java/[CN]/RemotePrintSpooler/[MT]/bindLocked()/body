{
  if (mRemoteInstance != null) {
    return;
  }
  if (DEBUG) {
    Slog.i(LOG_TAG,"[user: " + mUserHandle.getIdentifier() + "] bindLocked() "+ (mIsLowPriority ? "low priority" : ""));
  }
  int flags;
  if (mIsLowPriority) {
    flags=Context.BIND_AUTO_CREATE;
  }
 else {
    flags=Context.BIND_AUTO_CREATE | Context.BIND_FOREGROUND_SERVICE;
  }
  mContext.bindServiceAsUser(mIntent,mServiceConnection,flags,mUserHandle);
  final long startMillis=SystemClock.uptimeMillis();
  while (true) {
    if (mRemoteInstance != null) {
      break;
    }
    final long elapsedMillis=SystemClock.uptimeMillis() - startMillis;
    final long remainingMillis=BIND_SPOOLER_SERVICE_TIMEOUT - elapsedMillis;
    if (remainingMillis <= 0) {
      throw new TimeoutException("Cannot get spooler!");
    }
    try {
      mLock.wait(remainingMillis);
    }
 catch (    InterruptedException ie) {
    }
  }
  mCanUnbind=true;
  mLock.notifyAll();
}
