{
  if (targetType == null) {
    throw new NullPointerException();
  }
  Class<?> editorClass=null;
  PropertyEditor editor=null;
  editorClass=registeredEditors.get(targetType);
  if (editorClass == null) {
    String editorClassName=targetType.getName() + "Editor";
    ClassLoader loader=targetType.getClassLoader();
    if (loader == null) {
      loader=Thread.currentThread().getContextClassLoader();
    }
    try {
      editorClass=Class.forName(editorClassName,true,loader);
    }
 catch (    ClassNotFoundException cnfe) {
      String shortEditorClassName=editorClassName.substring(editorClassName.lastIndexOf(".") + 1);
      if (targetType.isPrimitive()) {
        shortEditorClassName=shortEditorClassName.substring(0,1).toUpperCase() + shortEditorClassName.substring(1);
      }
      for (      String element : path) {
        editorClassName=element + "." + shortEditorClassName;
        try {
          editorClass=Class.forName(editorClassName,true,loader);
          break;
        }
 catch (        Exception e) {
        }
      }
    }
catch (    Exception e) {
    }
  }
  if (editorClass != null) {
    try {
      editor=(PropertyEditor)editorClass.newInstance();
    }
 catch (    Exception e) {
    }
  }
  return editor;
}
