{
  if (userId != getCurrentUserId()) {
    final long identity=Binder.clearCallingIdentity();
    try {
      UserInfo parent=mUserManager.getProfileParent(userId);
      if (parent != null) {
        return parent.getUserHandle().getIdentifier();
      }
 else {
        return BACKGROUND_USER_ID;
      }
    }
  finally {
      Binder.restoreCallingIdentity(identity);
    }
  }
  return userId;
}
