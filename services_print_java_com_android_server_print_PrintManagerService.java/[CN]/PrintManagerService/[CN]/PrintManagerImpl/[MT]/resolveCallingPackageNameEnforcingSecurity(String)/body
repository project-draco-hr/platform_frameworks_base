{
  String[] packages=mContext.getPackageManager().getPackagesForUid(Binder.getCallingUid());
  final int packageCount=packages.length;
  for (int i=0; i < packageCount; i++) {
    if (packageName.equals(packages[i])) {
      return packageName;
    }
  }
  throw new IllegalArgumentException("packageName has to belong to the caller");
}
