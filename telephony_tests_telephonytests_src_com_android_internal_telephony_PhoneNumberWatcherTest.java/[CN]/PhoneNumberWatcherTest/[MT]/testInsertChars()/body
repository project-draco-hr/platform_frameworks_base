{
  final String init="650-23";
  final String expected1="650-123";
  TextWatcher textWatcher=getTextWatcher();
  SpannableStringBuilder number=new SpannableStringBuilder(init);
  textWatcher.beforeTextChanged(number,3,0,1);
  number.insert(3,"1");
  Selection.setSelection(number,4);
  textWatcher.onTextChanged(number,3,0,1);
  textWatcher.afterTextChanged(number);
  assertEquals(expected1,number.toString());
  assertEquals(5,Selection.getSelectionEnd(number));
  final String expected2="(650) 145-6723";
  textWatcher.beforeTextChanged(number,5,0,4);
  number.insert(5,"4567");
  Selection.setSelection(number,9);
  textWatcher.onTextChanged(number,7,0,4);
  textWatcher.afterTextChanged(number);
  assertEquals(expected2,number.toString());
  assertEquals(12,Selection.getSelectionEnd(number));
}
