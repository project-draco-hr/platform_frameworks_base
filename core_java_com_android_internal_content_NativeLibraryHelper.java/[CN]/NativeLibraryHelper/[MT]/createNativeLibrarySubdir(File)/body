{
  if (!path.isDirectory()) {
    path.delete();
    if (!path.mkdir()) {
      throw new IOException("Cannot create " + path.getPath());
    }
    try {
      Os.chmod(path.getPath(),S_IRWXU | S_IRGRP | S_IXGRP| S_IROTH| S_IXOTH);
    }
 catch (    ErrnoException e) {
      throw new IOException("Cannot chmod native library directory " + path.getPath(),e);
    }
  }
 else   if (!SELinux.restorecon(path)) {
    throw new IOException("Cannot set SELinux context for " + path.getPath());
  }
}
