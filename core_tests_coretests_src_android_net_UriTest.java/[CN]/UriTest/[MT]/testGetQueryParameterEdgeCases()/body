{
  Uri uri;
  uri=Uri.parse("http://test/").buildUpon().appendQueryParameter("key","a b").appendQueryParameter("keya","c d").appendQueryParameter("bkey","e f").build();
  assertEquals("a b",uri.getQueryParameter("key"));
  uri=Uri.parse("http://test/").buildUpon().appendQueryParameter("akeyb","a b").appendQueryParameter("keya","c d").appendQueryParameter("key","e f").appendQueryParameter("bkey","g h").build();
  assertEquals("e f",uri.getQueryParameter("key"));
  uri=Uri.parse("http://test/").buildUpon().appendQueryParameter("akeyb","a b").appendQueryParameter("keya","c d").appendQueryParameter("key","y z").build();
  assertEquals("y z",uri.getQueryParameter("key"));
  uri=Uri.parse("http://test/").buildUpon().appendQueryParameter("akeyb","a b").appendQueryParameter("keya","c d").appendQueryParameter("bkey","e f").build();
  assertNull(uri.getQueryParameter("key"));
  uri=Uri.parse("http://test/?qq=foo");
  assertNull(uri.getQueryParameter("q"));
  assertNull(uri.getQueryParameter("oo"));
  uri=Uri.parse("http://www.google.com/?a%20b=foo&c%20d=");
  assertEquals("foo",uri.getQueryParameter("a b"));
  assertEquals("",uri.getQueryParameter("c d"));
  assertNull(uri.getQueryParameter("e f"));
  assertNull(uri.getQueryParameter("b"));
  assertNull(uri.getQueryParameter("c"));
  assertNull(uri.getQueryParameter(" d"));
  uri=Uri.parse("http://www.google.com/?a=&b=&&c=");
  assertEquals("",uri.getQueryParameter("a"));
  assertEquals("",uri.getQueryParameter("b"));
  assertEquals("",uri.getQueryParameter("c"));
}
