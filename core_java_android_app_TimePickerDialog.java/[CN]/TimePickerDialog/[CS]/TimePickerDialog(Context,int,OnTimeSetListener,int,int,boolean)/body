{
  super(context,theme);
  mCallback=callBack;
  mInitialHourOfDay=hourOfDay;
  mInitialMinute=minute;
  mIs24HourView=is24HourView;
  mDateFormat=DateFormat.getTimeFormat(context);
  mCalendar=Calendar.getInstance();
  updateTitle(mInitialHourOfDay,mInitialMinute);
  setButton(context.getText(R.string.date_time_set),this);
  setButton2(context.getText(R.string.cancel),(OnClickListener)null);
  setIcon(R.drawable.ic_dialog_time);
  LayoutInflater inflater=(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  View view=inflater.inflate(R.layout.time_picker_dialog,null);
  setView(view);
  mTimePicker=(TimePicker)view.findViewById(R.id.timePicker);
  mTimePicker.setCurrentHour(mInitialHourOfDay);
  mTimePicker.setCurrentMinute(mInitialMinute);
  mTimePicker.setIs24HourView(mIs24HourView);
  mTimePicker.setOnTimeChangedListener(this);
}
