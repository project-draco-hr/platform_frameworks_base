{
  if (!service.canReceiveEventsLocked()) {
    return false;
  }
  if (event.getWindowId() != WINDOW_ID_UNKNOWN && !event.isImportantForAccessibility() && (service.mFetchFlags & AccessibilityNodeInfo.FLAG_INCLUDE_NOT_IMPORTANT_VIEWS) == 0) {
    return false;
  }
  int eventType=event.getEventType();
  if ((service.mEventTypes & eventType) != eventType) {
    return false;
  }
  Set<String> packageNames=service.mPackageNames;
  String packageName=(event.getPackageName() != null) ? event.getPackageName().toString() : null;
  return (packageNames.isEmpty() || packageNames.contains(packageName));
}
