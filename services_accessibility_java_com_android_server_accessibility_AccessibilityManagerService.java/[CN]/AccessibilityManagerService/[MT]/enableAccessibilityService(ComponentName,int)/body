{
synchronized (mLock) {
    if (Binder.getCallingUid() != Process.SYSTEM_UID) {
      throw new SecurityException("only SYSTEM can call enableAccessibilityService.");
    }
    SettingsStringHelper settingsHelper=new SettingsStringHelper(Settings.Secure.ENABLED_ACCESSIBILITY_SERVICES,userId);
    settingsHelper.addService(componentName);
    settingsHelper.writeToSettings();
    UserState userState=getUserStateLocked(userId);
    if (userState.mEnabledServices.add(componentName)) {
      onUserStateChangedLocked(userState);
    }
  }
}
