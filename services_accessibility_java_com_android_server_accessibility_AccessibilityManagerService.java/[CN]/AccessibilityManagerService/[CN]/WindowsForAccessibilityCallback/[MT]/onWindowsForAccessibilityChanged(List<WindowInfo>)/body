{
synchronized (mLock) {
    List<WindowInfo> receivedWindows=(List<WindowInfo>)windows;
    List<AccessibilityWindowInfo> reportedWindows=new ArrayList<AccessibilityWindowInfo>();
    final int receivedWindowCount=receivedWindows.size();
    for (int i=0; i < receivedWindowCount; i++) {
      WindowInfo receivedWindow=receivedWindows.get(i);
      AccessibilityWindowInfo reportedWindow=populateReportedWindow(receivedWindow);
      if (reportedWindow != null) {
        reportedWindows.add(reportedWindow);
      }
    }
    if (DEBUG) {
      Slog.i(LOG_TAG,"Windows changed: " + reportedWindows);
    }
    mSecurityPolicy.updateWindowsLocked(reportedWindows);
  }
}
