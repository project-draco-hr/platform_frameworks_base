{
  final UserState userState;
synchronized (mLock) {
    userState=getUserStateLocked(userId);
  }
  sendStateToClients(clientState,userState.mClients);
}
