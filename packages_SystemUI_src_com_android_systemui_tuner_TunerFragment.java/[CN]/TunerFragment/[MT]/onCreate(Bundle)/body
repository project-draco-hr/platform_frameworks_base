{
  super.onCreate(savedInstanceState);
  addPreferencesFromResource(R.xml.tuner_prefs);
  getActivity().getActionBar().setDisplayHomeAsUpEnabled(true);
  setHasOptionsMenu(true);
  findPreference(KEY_QS_TUNER).setOnPreferenceClickListener(new OnPreferenceClickListener(){
    @Override public boolean onPreferenceClick(    Preference preference){
      FragmentTransaction ft=getFragmentManager().beginTransaction();
      ft.replace(android.R.id.content,new QsTuner(),"QsTuner");
      ft.addToBackStack(null);
      ft.commit();
      return true;
    }
  }
);
  findPreference(KEY_DEMO_MODE).setOnPreferenceClickListener(new OnPreferenceClickListener(){
    @Override public boolean onPreferenceClick(    Preference preference){
      FragmentTransaction ft=getFragmentManager().beginTransaction();
      ft.replace(android.R.id.content,new DemoModeFragment(),"DemoMode");
      ft.addToBackStack(null);
      ft.commit();
      return true;
    }
  }
);
  mBatteryPct=(SwitchPreference)findPreference(KEY_BATTERY_PCT);
}
