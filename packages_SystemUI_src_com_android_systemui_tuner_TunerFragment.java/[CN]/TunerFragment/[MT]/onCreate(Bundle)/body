{
  super.onCreate(savedInstanceState);
  addPreferencesFromResource(R.xml.tuner_prefs);
  getActivity().getActionBar().setDisplayHomeAsUpEnabled(true);
  setHasOptionsMenu(true);
  findPreference(KEY_DEMO_MODE).setOnPreferenceClickListener(new OnPreferenceClickListener(){
    @Override public boolean onPreferenceClick(    Preference preference){
      FragmentTransaction ft=getFragmentManager().beginTransaction();
      ft.replace(android.R.id.content,new DemoModeFragment(),"DemoMode");
      ft.addToBackStack(null);
      ft.commit();
      return true;
    }
  }
);
  mBatteryPct=(SwitchPreference)findPreference(KEY_BATTERY_PCT);
  if (Settings.Secure.getInt(getContext().getContentResolver(),SETTING_SEEN_TUNER_WARNING,0) == 0) {
    if (getFragmentManager().findFragmentByTag(WARNING_TAG) == null) {
      new TunerWarningFragment().show(getFragmentManager(),WARNING_TAG);
    }
  }
}
