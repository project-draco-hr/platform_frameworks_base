{
  final Context context=parent.getContext();
  if (convertView == null) {
    convertView=LayoutInflater.from(context).inflate(R.layout.item_root,parent,false);
  }
  final ImageView icon=(ImageView)convertView.findViewById(android.R.id.icon);
  final TextView title=(TextView)convertView.findViewById(android.R.id.title);
  final TextView summary=(TextView)convertView.findViewById(android.R.id.summary);
  final RootInfo root=getItem(position);
  icon.setImageDrawable(root.loadIcon(context));
  title.setText(root.title);
  final String summaryText;
  if (root.rootType == Root.ROOT_TYPE_DEVICE && root.availableBytes >= 0) {
    summaryText=context.getString(R.string.root_available_bytes,Formatter.formatFileSize(context,root.availableBytes));
  }
 else {
    summaryText=root.summary;
  }
  summary.setText(summaryText);
  summary.setVisibility(summaryText != null ? View.VISIBLE : View.GONE);
  return convertView;
}
