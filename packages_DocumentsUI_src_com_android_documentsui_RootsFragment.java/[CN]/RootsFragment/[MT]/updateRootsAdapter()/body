{
  final Context context=getActivity();
  final State state=((DocumentsActivity)context).getDisplayState();
  state.showAdvanced=SettingsActivity.getDisplayAdvancedDevices(context);
  final RootsCache roots=DocumentsApplication.getRootsCache(context);
  final List<RootInfo> matchingRoots=roots.getMatchingRoots(state);
  final Intent includeApps=getArguments().getParcelable(EXTRA_INCLUDE_APPS);
  mAdapter=new SectionedRootsAdapter(context,matchingRoots,includeApps);
  mList.setAdapter(mAdapter);
}
