{
  if (mIsGesturing) {
    return;
  }
  float x=event.getX();
  float y=event.getY();
  float dx=x - mX;
  float dy=y - mY;
  mTotalLength+=(float)Math.sqrt(dx * dx + dy * dy);
  mX=x;
  mY=y;
  if (mTotalLength > STROKE_LENGTH_THRESHOLD) {
    OrientedBoundingBox bbx=GestureUtils.computeOrientedBBX(overlay.getCurrentStroke());
    if (bbx.squareness > SQUARENESS_THRESHOLD) {
      mIsGesturing=true;
      overlay.setGestureColor(GestureOverlay.DEFAULT_GESTURE_COLOR);
      event=MotionEvent.obtain(event.getDownTime(),System.currentTimeMillis(),MotionEvent.ACTION_UP,x,y,event.getPressure(),event.getSize(),event.getMetaState(),event.getXPrecision(),event.getYPrecision(),event.getDeviceId(),event.getEdgeFlags());
    }
  }
  mModel.dispatchTouchEvent(event);
}
