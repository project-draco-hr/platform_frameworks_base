char[] buf
int cursor
int n
