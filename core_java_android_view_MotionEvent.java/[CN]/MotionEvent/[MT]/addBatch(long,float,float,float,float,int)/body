{
  float[] history=mHistory;
  long[] historyTimes=mHistoryTimes;
  int N;
  int avail;
  if (history == null) {
    mHistory=history=new float[8 * 4];
    mHistoryTimes=historyTimes=new long[8];
    mNumHistory=N=0;
    avail=8;
  }
 else {
    N=mNumHistory;
    avail=history.length / 4;
    if (N == avail) {
      avail+=8;
      float[] newHistory=new float[avail * 4];
      System.arraycopy(history,0,newHistory,0,N * 4);
      mHistory=history=newHistory;
      long[] newHistoryTimes=new long[avail];
      System.arraycopy(historyTimes,0,newHistoryTimes,0,N);
      mHistoryTimes=historyTimes=newHistoryTimes;
    }
  }
  historyTimes[N]=mEventTime;
  final int pos=N * 4;
  history[pos]=mX;
  history[pos + 1]=mY;
  history[pos + 2]=mPressure;
  history[pos + 3]=mSize;
  mNumHistory=N + 1;
  mEventTime=eventTime;
  mX=mRawX=x;
  mY=mRawY=y;
  mPressure=pressure;
  mSize=size;
  mMetaState|=metaState;
}
