{
  if (!cm.isCompatibleRaster(raster)) {
    throw new IllegalArgumentException(Messages.getString("awt.4D"));
  }
  if (raster.getMinX() != 0 || raster.getMinY() != 0) {
    throw new IllegalArgumentException(Messages.getString("awt.228"));
  }
  this.cm=cm;
  this.raster=raster;
  this.properties=properties;
  coerceData(isRasterPremultiplied);
  imageType=Surface.getType(cm,raster);
  imageSurf=createImageSurface(imageType);
}
