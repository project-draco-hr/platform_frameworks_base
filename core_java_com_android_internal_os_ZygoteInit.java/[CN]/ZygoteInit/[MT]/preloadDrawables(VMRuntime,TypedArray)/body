{
  int N=ar.length();
  for (int i=0; i < N; i++) {
    if (Debug.getGlobalAllocSize() > PRELOAD_GC_THRESHOLD) {
      if (false) {
        Log.v(TAG," GC at " + Debug.getGlobalAllocSize());
      }
      System.gc();
      runtime.runFinalizationSync();
      Debug.resetGlobalAllocSize();
    }
    int id=ar.getResourceId(i,0);
    if (false) {
      Log.v(TAG,"Preloading resource #" + Integer.toHexString(id));
    }
    if (id != 0) {
      if (mResources.getDrawable(id) == null) {
        throw new IllegalArgumentException("Unable to find preloaded drawable resource #0x" + Integer.toHexString(id) + " ("+ ar.getString(i)+ ")");
      }
    }
  }
  return N;
}
