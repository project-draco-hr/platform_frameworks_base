{
  final String imageItemFileName=INPUT_FILE_PATH + "IMG_640x480.jpg";
  final int imageItemRenderingMode=MediaItem.RENDERING_MODE_BLACK_BORDER;
  final MediaImageItem mediaImageItem=mVideoEditorHelper.createMediaItem(mVideoEditor,"mediaImageItem1",imageItemFileName,5000,imageItemRenderingMode);
  mVideoEditor.addMediaItem(mediaImageItem);
  final String audioFileName=INPUT_FILE_PATH + "AACLC_48KHz_256Kbps_s_1_17.3gp";
  final AudioTrack audioTrack=mVideoEditorHelper.createAudio(mVideoEditor,"audioTrack",audioFileName);
  mVideoEditor.addAudioTrack(audioTrack);
  assertNull("WaveForm data",audioTrack.getWaveformData());
  final int[] progressUpdate=new int[105];
  mVideoEditor.generatePreview(new MediaProcessingProgressListener(){
    int i=0;
    public void onProgress(    Object item,    int action,    int progress){
      progressUpdate[i++]=progress;
    }
  }
);
  final int[] progressWaveform=new int[105];
  audioTrack.extractAudioWaveform(new ExtractAudioWaveformProgressListener(){
    int i=0;
    public void onProgress(    int progress){
      Log.i("AudioWaveformData","progress=" + progress);
      progressWaveform[i++]=progress;
    }
  }
);
  assertTrue("Progress of WaveForm data",mVideoEditorHelper.checkProgressCBValues(progressWaveform));
  assertNotNull("WaveForm data",audioTrack.getWaveformData());
  assertTrue("WaveForm Frame Duration",(audioTrack.getWaveformData().getFrameDuration() > 0 ? true : false));
  assertTrue("WaveForm Frame Count",(audioTrack.getWaveformData().getFramesCount() > 0 ? true : false));
  assertTrue("WaveForm Gain",(audioTrack.getWaveformData().getFrameGains().length > 0 ? true : false));
}
