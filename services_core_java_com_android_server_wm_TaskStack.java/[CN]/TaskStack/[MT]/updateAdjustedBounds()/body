{
  boolean adjust=false;
  if (mMinimizeAmount != 0f) {
    adjust=adjustForMinimizedDockedStack(mMinimizeAmount);
  }
 else   if (mAdjustedForIme) {
    adjust=adjustForIME(mImeWin);
  }
  if (!adjust) {
    mTmpAdjustedBounds.setEmpty();
    mLastContentBounds.setEmpty();
  }
  setAdjustedBounds(mTmpAdjustedBounds);
  final boolean isFocusedStack=mService.getFocusedStackLocked() == this;
  if (mAdjustedForIme && adjust && !isFocusedStack) {
    final float alpha=mAdjustImeAmount * IME_ADJUST_DIM_AMOUNT;
    mService.setResizeDimLayer(true,mStackId,alpha);
  }
}
