{
  boolean adjust=false;
  if (mMinimizeAmount != 0f) {
    adjust=adjustForMinimizedDockedStack(mMinimizeAmount);
  }
 else   if (mAdjustedForIme) {
    adjust=adjustForIME(mImeWin);
  }
  if (!adjust) {
    mTmpAdjustedBounds.setEmpty();
  }
  setAdjustedBounds(mTmpAdjustedBounds);
  final boolean isImeTarget=(mService.getImeFocusStackLocked() == this);
  if (mAdjustedForIme && adjust && !isImeTarget) {
    final float alpha=Math.max(mAdjustImeAmount,mAdjustDividerAmount) * IME_ADJUST_DIM_AMOUNT;
    mService.setResizeDimLayer(true,mStackId,alpha);
  }
}
