{
  boolean oldFullscreen=mFullscreen;
  int rotation=Surface.ROTATION_0;
  if (mDisplayContent != null) {
    mDisplayContent.getLogicalDisplayRect(mTmpRect);
    rotation=mDisplayContent.getDisplayInfo().rotation;
    if (bounds == null) {
      bounds=mTmpRect;
      mFullscreen=true;
    }
 else {
      if (!bounds.intersect(mTmpRect)) {
        return false;
      }
      mFullscreen=mTmpRect.equals(bounds);
    }
  }
  if (bounds == null) {
    return false;
  }
  if (mBounds.equals(bounds) && oldFullscreen == mFullscreen && mRotation == rotation) {
    return false;
  }
  if (mDisplayContent != null) {
    mDisplayContent.mDimBehindController.updateDimLayer(this);
    mAnimationBackgroundSurface.setBounds(bounds);
  }
  mBounds.set(bounds);
  mRotation=rotation;
  return true;
}
