{
  super.onFinishInflate();
  mToolbar=(Toolbar)findViewById(com.android.internal.R.id.action_bar);
  TypedValue value=new TypedValue();
  mContext.getTheme().resolveAttribute(android.R.attr.homeAsUpIndicator,value,true);
  mToolbar.setNavigationIcon(getResources().getDrawable(value.resourceId,mContext.getTheme()));
  mToolbar.setNavigationOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      hide();
    }
  }
);
  mToolbar.setOnMenuItemClickListener(this);
  mToolbar.getMenu().add(Menu.NONE,MENU_SAVE,0,mContext.getString(R.string.save)).setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);
  mToolbar.getMenu().add(Menu.NONE,MENU_RESET,0,mContext.getString(com.android.internal.R.string.reset));
  mQsPanel=(CustomQSPanel)findViewById(R.id.quick_settings_panel);
  mDragButtons=(ViewGroup)findViewById(R.id.drag_buttons);
  setDragging(false);
  mInfoButton=(DropButton)findViewById(R.id.info_button);
  mInfoButton.setOnDropListener(this);
  mRemoveButton=(DropButton)findViewById(R.id.remove_button);
  mRemoveButton.setOnDropListener(this);
  mFab=(FloatingActionButton)findViewById(R.id.fab);
  mFab.setImageResource(R.drawable.ic_add);
  mFab.setOnClickListener(this);
}
