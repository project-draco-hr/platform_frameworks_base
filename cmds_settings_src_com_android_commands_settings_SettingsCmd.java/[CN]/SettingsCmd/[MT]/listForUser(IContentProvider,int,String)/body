{
  final Uri uri="system".equals(table) ? Settings.System.CONTENT_URI : "secure".equals(table) ? Settings.Secure.CONTENT_URI : "global".equals(table) ? Settings.Global.CONTENT_URI : null;
  final ArrayList<String> lines=new ArrayList<String>();
  if (uri == null) {
    return lines;
  }
  try {
    final Cursor cursor=provider.query(resolveCallingPackage(),uri,null,null,null,null,null);
    try {
      while (cursor != null && cursor.moveToNext()) {
        lines.add(cursor.getString(1) + "=" + cursor.getString(2));
      }
    }
  finally {
      if (cursor != null) {
        cursor.close();
      }
    }
    Collections.sort(lines);
  }
 catch (  RemoteException e) {
    System.err.println("List failed in " + table + " for user "+ userHandle);
  }
  return lines;
}
