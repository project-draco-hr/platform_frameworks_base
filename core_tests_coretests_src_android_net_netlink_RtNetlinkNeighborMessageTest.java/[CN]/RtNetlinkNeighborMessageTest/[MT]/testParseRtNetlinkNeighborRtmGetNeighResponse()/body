{
  final ByteBuffer byteBuffer=ByteBuffer.wrap(RTM_GETNEIGH_RESPONSE);
  byteBuffer.order(ByteOrder.LITTLE_ENDIAN);
  int messageCount=0;
  while (byteBuffer.remaining() > 0) {
    final NetlinkMessage msg=NetlinkMessage.parse(byteBuffer);
    assertNotNull(msg);
    assertTrue(msg instanceof RtNetlinkNeighborMessage);
    final RtNetlinkNeighborMessage neighMsg=(RtNetlinkNeighborMessage)msg;
    final StructNlMsgHdr hdr=neighMsg.getHeader();
    assertNotNull(hdr);
    assertEquals(NetlinkConstants.RTM_NEWNEIGH,hdr.nlmsg_type);
    assertEquals(StructNlMsgHdr.NLM_F_MULTI,hdr.nlmsg_flags);
    assertEquals(0,hdr.nlmsg_seq);
    assertEquals(11070,hdr.nlmsg_pid);
    messageCount++;
  }
  assertEquals(14,messageCount);
}
