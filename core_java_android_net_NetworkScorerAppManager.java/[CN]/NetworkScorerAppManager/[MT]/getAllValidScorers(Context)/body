{
  List<NetworkScorerAppData> scorers=new ArrayList<>();
  PackageManager pm=context.getPackageManager();
  List<ResolveInfo> receivers=pm.queryBroadcastReceivers(SCORE_INTENT,0,UserHandle.USER_OWNER);
  for (  ResolveInfo receiver : receivers) {
    final ActivityInfo receiverInfo=receiver.activityInfo;
    if (receiverInfo == null) {
      continue;
    }
    if (!permission.BROADCAST_SCORE_NETWORKS.equals(receiverInfo.permission)) {
      continue;
    }
    if (pm.checkPermission(permission.SCORE_NETWORKS,receiverInfo.packageName) != PackageManager.PERMISSION_GRANTED) {
      continue;
    }
    String configurationActivityClassName=null;
    Intent intent=new Intent(NetworkScoreManager.ACTION_CUSTOM_ENABLE);
    intent.setPackage(receiverInfo.packageName);
    List<ResolveInfo> configActivities=pm.queryIntentActivities(intent,0);
    if (!configActivities.isEmpty()) {
      ActivityInfo activityInfo=configActivities.get(0).activityInfo;
      if (activityInfo != null) {
        configurationActivityClassName=activityInfo.name;
      }
    }
    scorers.add(new NetworkScorerAppData(receiverInfo.packageName,receiverInfo.loadLabel(pm),configurationActivityClassName));
  }
  return scorers;
}
