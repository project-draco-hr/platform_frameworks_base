{
  if (!mSecure || isSslCheckRelaxed()) {
    if (mInsecureFactory == null) {
      if (mSecure) {
        Log.w(TAG,"*** BYPASSING SSL SECURITY CHECKS (socket.relaxsslcheck=yes) ***");
      }
 else {
        Log.w(TAG,"Bypassing SSL security checks at caller's request");
      }
      mInsecureFactory=makeSocketFactory(mKeyManagers,INSECURE_TRUST_MANAGER);
    }
    return mInsecureFactory;
  }
 else {
    if (mSecureFactory == null) {
      mSecureFactory=makeSocketFactory(mKeyManagers,mTrustManagers);
    }
    return mSecureFactory;
  }
}
