{
  int numChildren=viewGroup.getChildCount();
  for (int i=0; i < numChildren; i++) {
    View child=viewGroup.getChildAt(i);
    if (child.getSharedElementName() != null || (child.getVisibility() != View.VISIBLE)) {
      continue;
    }
    if (child instanceof ViewGroup && !((ViewGroup)child).isTransitionGroup()) {
      recurseExitNonSharedElements((ViewGroup)child);
    }
 else {
      child.setVisibility(View.INVISIBLE);
    }
  }
}
