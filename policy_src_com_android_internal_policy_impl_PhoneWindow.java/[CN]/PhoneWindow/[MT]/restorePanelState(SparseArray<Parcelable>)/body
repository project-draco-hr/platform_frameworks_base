{
  PanelFeatureState st;
  for (int curFeatureId=icicles.size() - 1; curFeatureId >= 0; curFeatureId--) {
    st=getPanelState(curFeatureId,false);
    if (st == null) {
      continue;
    }
    st.onRestoreInstanceState(icicles.get(curFeatureId));
    invalidatePanelMenu(curFeatureId);
  }
}
