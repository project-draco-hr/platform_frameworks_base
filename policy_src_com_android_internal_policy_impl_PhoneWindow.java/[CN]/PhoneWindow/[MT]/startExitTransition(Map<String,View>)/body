{
  if (mContentScene == null) {
    return null;
  }
  Transition transition=mTransitionManager.getExitTransition(mContentScene);
  if (transition == null) {
    return null;
  }
  final ArrayList<View> transitioningViews=new ArrayList<View>();
  mDecor.captureTransitioningViews(transitioningViews);
  transitioningViews.removeAll(sharedElements.values());
  Transition exitTransition=cloneAndSetTransitionTargets(transition,transitioningViews,true);
  Transition sharedElementTransition=cloneAndSetTransitionTargets(transition,transitioningViews,false);
  TransitionSet transitionSet=new TransitionSet();
  transitionSet.addTransition(exitTransition);
  transitionSet.addTransition(sharedElementTransition);
  ActivityOptions activityOptions=createExitActivityOptions(sharedElements,sharedElementTransition,exitTransition);
  TransitionManager.beginDelayedTransition(mDecor,transitionSet);
  setViewVisibility(transitioningViews,View.INVISIBLE);
  return activityOptions.toBundle();
}
