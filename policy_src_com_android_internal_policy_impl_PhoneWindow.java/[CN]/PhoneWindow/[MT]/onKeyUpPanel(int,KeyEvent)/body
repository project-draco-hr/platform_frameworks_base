{
  if (mPanelChordingKey != 0) {
    mPanelChordingKey=0;
    if (event.isCanceled() || (mDecor != null && mDecor.mActionMode != null)) {
      return;
    }
    boolean playSoundEffect=false;
    final PanelFeatureState st=getPanelState(featureId,true);
    if (featureId == FEATURE_OPTIONS_PANEL && mActionBar != null && mActionBar.isOverflowReserved() && !ViewConfiguration.get(getContext()).hasPermanentMenuKey()) {
      if (mActionBar.getVisibility() == View.VISIBLE) {
        if (!mActionBar.isOverflowMenuShowing()) {
          if (!isDestroyed() && preparePanel(st,event)) {
            playSoundEffect=mActionBar.showOverflowMenu();
          }
        }
 else {
          playSoundEffect=mActionBar.hideOverflowMenu();
        }
      }
    }
 else {
      if (st.isOpen || st.isHandled) {
        playSoundEffect=st.isOpen;
        closePanel(st,true);
      }
 else       if (st.isPrepared) {
        boolean show=true;
        if (st.refreshMenuContent) {
          st.isPrepared=false;
          show=preparePanel(st,event);
        }
        if (show) {
          EventLog.writeEvent(50001,0);
          openPanel(st,event);
          playSoundEffect=true;
        }
      }
    }
    if (playSoundEffect) {
      AudioManager audioManager=(AudioManager)getContext().getSystemService(Context.AUDIO_SERVICE);
      if (audioManager != null) {
        audioManager.playSoundEffect(AudioManager.FX_KEY_CLICK);
      }
 else {
        Log.w(TAG,"Couldn't get audio manager");
      }
    }
  }
}
