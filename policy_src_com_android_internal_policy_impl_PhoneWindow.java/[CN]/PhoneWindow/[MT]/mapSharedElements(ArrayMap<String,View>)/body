{
  ArrayList<String> sharedElementNames=mActivityOptions.getSharedElementNames();
  if (sharedElementNames != null) {
    mDecor.findSharedElements(sharedElements);
    if (mSharedElementsMap != null) {
      for (      Map.Entry<String,String> entry : mSharedElementsMap.entrySet()) {
        View sharedElement=sharedElements.remove(entry.getValue());
        if (sharedElement != null) {
          sharedElements.put(entry.getKey(),sharedElement);
        }
      }
    }
    sharedElements.keySet().retainAll(sharedElementNames);
  }
}
