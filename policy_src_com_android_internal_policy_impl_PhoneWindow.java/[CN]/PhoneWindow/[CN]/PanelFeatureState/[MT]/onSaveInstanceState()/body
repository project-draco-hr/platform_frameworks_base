{
  SavedState savedState=new SavedState();
  savedState.featureId=featureId;
  savedState.isOpen=isOpen;
  savedState.isInExpandedMode=isInExpandedMode;
  if (menu != null) {
    savedState.menuState=new Bundle();
    if (iconMenuPresenter != null) {
      iconMenuPresenter.saveHierarchyState(savedState.menuState);
    }
    if (expandedMenuPresenter != null) {
      expandedMenuPresenter.saveHierarchyState(savedState.menuState);
    }
  }
  return savedState;
}
