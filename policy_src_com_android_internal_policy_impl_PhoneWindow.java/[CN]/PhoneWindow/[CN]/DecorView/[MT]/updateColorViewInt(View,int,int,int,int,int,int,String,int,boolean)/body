{
  boolean show=height > 0 && (sysUiVis & systemUiHideFlag) == 0 && !hiddenByWindowFlag && (getAttributes().flags & translucentFlag) == 0 && (color & Color.BLACK) != 0 && (getAttributes().flags & FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS) != 0;
  if (view == null) {
    if (show) {
      view=new View(mContext);
      view.setBackgroundColor(color);
      view.setTransitionName(transitionName);
      view.setId(id);
      addView(view,new LayoutParams(LayoutParams.MATCH_PARENT,height,Gravity.START | verticalGravity));
    }
  }
 else {
    int vis=show ? VISIBLE : INVISIBLE;
    view.setVisibility(vis);
    if (show) {
      LayoutParams lp=(LayoutParams)view.getLayoutParams();
      if (lp.height != height) {
        lp.height=height;
        view.setLayoutParams(lp);
      }
      view.setBackgroundColor(color);
    }
  }
  return view;
}
