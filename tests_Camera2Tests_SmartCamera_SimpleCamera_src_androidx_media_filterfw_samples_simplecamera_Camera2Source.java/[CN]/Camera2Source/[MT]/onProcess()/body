{
  Log.v(TAG,"on Process");
  if (nextFrame()) {
    OutputPort outPort=getConnectedOutputPort("video");
    int[] dims=new int[]{mWidth,mHeight};
    FrameImage2D outputFrame=Frame.create(mOutputType,dims).asFrameImage2D();
    rgbConverter.forEach(mAllocationOut);
    mAllocationOut.copyTo(mBitmap);
    outputFrame.setBitmap(mBitmap);
    outPort.pushFrame(outputFrame);
    outputFrame.release();
    OutputPort orientationPort=getConnectedOutputPort("orientation");
    FrameValue orientationFrame=orientationPort.fetchAvailableFrame(null).asFrameValue();
    Integer orientation=mProperties.get(CameraCharacteristics.SENSOR_ORIENTATION);
    float temp;
    if (orientation != null) {
      temp=orientation.floatValue();
    }
 else {
      temp=90.0f;
    }
    orientationFrame.setValue(temp);
    orientationPort.pushFrame(orientationFrame);
  }
}
