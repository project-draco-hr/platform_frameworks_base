{
  sTasksDir=new File(systemDir,TASKS_DIRNAME);
  if (!sTasksDir.exists()) {
    if (DEBUG_PERSISTER)     Slog.d(TAG,"Creating tasks directory " + sTasksDir);
    if (!sTasksDir.mkdir()) {
      Slog.e(TAG,"Failure creating tasks directory " + sTasksDir);
    }
  }
  sImagesDir=new File(systemDir,IMAGES_DIRNAME);
  if (!sImagesDir.exists()) {
    if (DEBUG_PERSISTER)     Slog.d(TAG,"Creating images directory " + sTasksDir);
    if (!sImagesDir.mkdir()) {
      Slog.e(TAG,"Failure creating images directory " + sImagesDir);
    }
  }
  sRestoredTasksDir=new File(systemDir,RESTORED_TASKS_DIRNAME);
  mStackSupervisor=stackSupervisor;
  mService=stackSupervisor.mService;
  mRecentTasks=recentTasks;
  mLazyTaskWriterThread=new LazyTaskWriterThread("LazyTaskWriterThread");
}
