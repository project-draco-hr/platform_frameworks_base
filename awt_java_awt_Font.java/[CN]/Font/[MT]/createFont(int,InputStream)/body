{
  BufferedInputStream buffStream;
  int bRead=0;
  int size=8192;
  byte buf[]=new byte[size];
  if (fontFormat != TRUETYPE_FONT) {
    throw new IllegalArgumentException(Messages.getString("awt.9A"));
  }
  File fontFile=Toolkit.getDefaultToolkit().getGraphicsFactory().getFontManager().getTempFontFile();
  buffStream=new BufferedInputStream(fontStream,8192);
  FileOutputStream fOutStream=new FileOutputStream(fontFile);
  bRead=buffStream.read(buf,0,size);
  while (bRead != -1) {
    fOutStream.write(buf,0,bRead);
    bRead=buffStream.read(buf,0,size);
  }
  buffStream.close();
  fOutStream.close();
  Font font=null;
  font=Toolkit.getDefaultToolkit().getGraphicsFactory().embedFont(fontFile.getAbsolutePath());
  if (font == null) {
    throw new FontFormatException(Messages.getString("awt.9B"));
  }
  return font;
}
