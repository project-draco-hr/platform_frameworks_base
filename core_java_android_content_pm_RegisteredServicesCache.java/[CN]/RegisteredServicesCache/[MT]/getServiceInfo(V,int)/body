{
synchronized (mServicesLock) {
    final UserServices<V> user=findOrCreateUserLocked(userId);
    if (user.services == null) {
      generateServicesMap(userId);
    }
    return user.services.get(type);
  }
}
