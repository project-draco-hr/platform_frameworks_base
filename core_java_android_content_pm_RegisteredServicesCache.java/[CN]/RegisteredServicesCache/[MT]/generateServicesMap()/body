{
  Map<V,ServiceInfo<V>> services=Maps.newHashMap();
  PackageManager pm=mContext.getPackageManager();
  List<ResolveInfo> resolveInfos=pm.queryIntentServices(new Intent(mInterfaceName),PackageManager.GET_META_DATA);
  for (  ResolveInfo resolveInfo : resolveInfos) {
    try {
      ServiceInfo<V> info=parseServiceInfo(resolveInfo);
      if (info != null) {
        services.put(info.type,info);
      }
 else {
        Log.w(TAG,"Unable to load input method " + resolveInfo.toString());
      }
    }
 catch (    XmlPullParserException e) {
      Log.w(TAG,"Unable to load input method " + resolveInfo.toString(),e);
    }
catch (    IOException e) {
      Log.w(TAG,"Unable to load input method " + resolveInfo.toString(),e);
    }
  }
  return services;
}
