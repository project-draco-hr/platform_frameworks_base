{
  SystemProperties.set("persist.sys.dalvik.vm.lib.2",VMRuntime.getRuntime().vmLibrary());
  if (System.currentTimeMillis() < EARLIEST_SUPPORTED_TIME) {
    Slog.w(TAG,"System clock is before 1970; setting to 1970.");
    SystemClock.setCurrentTimeMillis(EARLIEST_SUPPORTED_TIME);
  }
  if (SamplingProfilerIntegration.isEnabled()) {
    SamplingProfilerIntegration.start();
    timer=new Timer();
    timer.schedule(new TimerTask(){
      @Override public void run(){
        SamplingProfilerIntegration.writeSnapshot("system_server",null);
      }
    }
,SNAPSHOT_INTERVAL,SNAPSHOT_INTERVAL);
  }
  dalvik.system.VMRuntime.getRuntime().clearGrowthLimit();
  VMRuntime.getRuntime().setTargetHeapUtilization(0.8f);
  Environment.setUserRequired(true);
  System.loadLibrary("android_servers");
  Slog.i(TAG,"Entered the Android system server!");
  nativeInit();
  ServerThread thr=new ServerThread();
  thr.initAndLoop();
}
