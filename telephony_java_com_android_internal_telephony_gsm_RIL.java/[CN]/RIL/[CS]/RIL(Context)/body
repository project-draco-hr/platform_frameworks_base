{
  super(context);
  PowerManager pm=(PowerManager)context.getSystemService(Context.POWER_SERVICE);
  mWakeLock=pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,LOG_TAG);
  mWakeLock.setReferenceCounted(false);
  mRequestMessagesPending=0;
  mContext=context;
  mSenderThread=new HandlerThread("RILSender");
  mSenderThread.start();
  Looper looper=mSenderThread.getLooper();
  mSender=new RILSender(looper);
  mReceiver=new RILReceiver();
  mReceiverThread=new Thread(mReceiver,"RILReceiver");
  mReceiverThread.start();
  IntentFilter filter=new IntentFilter();
  filter.addAction(Intent.ACTION_SCREEN_ON);
  filter.addAction(Intent.ACTION_SCREEN_OFF);
  context.registerReceiver(mIntentReceiver,filter);
}
