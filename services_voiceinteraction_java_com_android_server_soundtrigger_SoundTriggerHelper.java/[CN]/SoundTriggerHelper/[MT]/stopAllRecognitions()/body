{
synchronized (mLock) {
    if (mModuleProperties == null || mModule == null) {
      return;
    }
    if (mCurrentKeyphraseModelHandle != INVALID_VALUE) {
      mRequested=false;
      int status=updateRecognitionLocked(false);
      internalClearKeyphraseStateLocked();
    }
    for (    ModelData model : mGenericModelDataMap.values()) {
      if (model.modelStarted()) {
        int status=stopGenericRecognitionLocked(model,false);
        if (status != STATUS_OK) {
          Slog.w(TAG,"Error stopping generic model: " + model.getHandle());
        }
        model.clearState();
        model.clearCallback();
      }
    }
    internalClearGlobalStateLocked();
  }
}
