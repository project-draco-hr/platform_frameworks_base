{
synchronized (mLock) {
    MetricsLogger.count(mContext,"sth_unload_keyphrase_sound_model",1);
    if (mModule == null || mKeyphraseModelData == null || mKeyphraseModelData.getHandle() == INVALID_VALUE) {
      return STATUS_ERROR;
    }
    mKeyphraseModelData.setRequested(false);
    int status=updateRecognitionLocked(mKeyphraseModelData,isRecognitionAllowed(),false);
    if (status != SoundTrigger.STATUS_OK) {
      Slog.w(TAG,"Stop recognition failed for keyphrase ID:" + status);
    }
    status=mModule.unloadSoundModel(mKeyphraseModelData.getHandle());
    if (status != SoundTrigger.STATUS_OK) {
      Slog.w(TAG,"unloadKeyphraseSoundModel call failed with " + status);
    }
    mKeyphraseModelData.clearState();
    return status;
  }
}
