{
synchronized (mLock) {
    MetricsLogger.count(mContext,"sth_unload_keyphrase_sound_model",1);
    ModelData modelData=getKeyphraseModelDataLocked(keyphraseId);
    if (mModule == null || modelData == null || modelData.getHandle() == INVALID_VALUE || !modelData.isKeyphraseModel()) {
      return STATUS_ERROR;
    }
    modelData.setRequested(false);
    int status=updateRecognitionLocked(modelData,isRecognitionAllowed(),false);
    if (status != SoundTrigger.STATUS_OK) {
      Slog.w(TAG,"Stop recognition failed for keyphrase ID:" + status);
    }
    status=mModule.unloadSoundModel(modelData.getHandle());
    if (status != SoundTrigger.STATUS_OK) {
      Slog.w(TAG,"unloadKeyphraseSoundModel call failed with " + status);
    }
    removeKeyphraseModelLocked(keyphraseId);
    return status;
  }
}
