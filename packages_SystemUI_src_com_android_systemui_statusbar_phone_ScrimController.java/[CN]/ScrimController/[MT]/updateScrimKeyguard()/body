{
  if (mExpanding && mDarkenWhileDragging) {
    float behindFraction=Math.max(0,Math.min(mFraction,1));
    float fraction=1 - behindFraction;
    fraction=(float)Math.pow(fraction,0.8f);
    behindFraction=(float)Math.pow(behindFraction,0.8f);
    setScrimInFrontColor(fraction * SCRIM_IN_FRONT_ALPHA);
    setScrimBehindColor(behindFraction * mScrimBehindAlphaKeyguard);
  }
 else   if (mBouncerShowing) {
    setScrimInFrontColor(SCRIM_IN_FRONT_ALPHA);
    setScrimBehindColor(0f);
  }
 else {
    float fraction=Math.max(0,Math.min(mFraction,1));
    setScrimInFrontColor(0f);
    setScrimBehindColor(fraction * (mScrimBehindAlphaKeyguard - mScrimBehindAlphaUnlocking) + mScrimBehindAlphaUnlocking);
  }
}
