{
  AnimationHandler handler=AnimationHandler.getInstance();
  if (mLastFrameTime == 0) {
    handler.addOneShotCommitCallback(this);
    if (mStartDelay > 0) {
      startAnimation();
    }
    if (mSeekFraction < 0) {
      mStartTime=frameTime;
    }
 else {
      long seekTime=(long)(getScaledDuration() * mSeekFraction);
      mStartTime=frameTime - seekTime;
      mSeekFraction=-1;
    }
    mStartTimeCommitted=false;
  }
  mLastFrameTime=frameTime;
  if (mPaused) {
    mPauseTime=frameTime;
    handler.removeCallback(this);
    return;
  }
 else   if (mResumed) {
    mResumed=false;
    if (mPauseTime > 0) {
      mStartTime+=(frameTime - mPauseTime);
      mStartTimeCommitted=false;
    }
    handler.addOneShotCommitCallback(this);
  }
  final long currentTime=Math.max(frameTime,mStartTime);
  boolean finished=animateBasedOnTime(currentTime);
  if (finished) {
    endAnimation();
  }
}
