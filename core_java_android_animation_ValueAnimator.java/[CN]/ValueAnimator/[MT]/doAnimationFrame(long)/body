{
  mLastFrameTime=frameTime;
  AnimationHandler handler=AnimationHandler.getInstance();
  if (!mRunning) {
    handler.addOneShotCommitCallback(this);
    startAnimation();
    if (mSeekFraction < 0) {
      mStartTime=frameTime;
    }
 else {
      long seekTime=(long)(mDuration * mSeekFraction);
      mStartTime=frameTime - seekTime;
      mSeekFraction=-1;
    }
    mStartTimeCommitted=false;
  }
  if (mPaused) {
    if (mPauseTime < 0) {
      mPauseTime=frameTime;
    }
    return;
  }
 else   if (mResumed) {
    mResumed=false;
    if (mPauseTime > 0) {
      mStartTime+=(frameTime - mPauseTime);
      mStartTimeCommitted=false;
    }
    handler.addOneShotCommitCallback(this);
  }
  final long currentTime=Math.max(frameTime,mStartTime);
  boolean finished=animateBasedOnTime(currentTime);
  if (finished) {
    endAnimation();
  }
}
