{
  if (mRegistered) {
    mContext.unregisterReceiver(mReceiver);
  }
  mCurrentUserId=ActivityManager.getCurrentUser();
  final IntentFilter filter=new IntentFilter();
  filter.addAction(AlarmManager.ACTION_NEXT_ALARM_CLOCK_CHANGED);
  filter.addAction(ACTION_TRIGGER);
  filter.addAction(Intent.ACTION_TIME_CHANGED);
  filter.addAction(Intent.ACTION_TIMEZONE_CHANGED);
  filter.addAction(Intent.ACTION_BOOT_COMPLETED);
  mContext.registerReceiverAsUser(mReceiver,new UserHandle(mCurrentUserId),filter,null,null);
  mRegistered=true;
  evaluate();
}
