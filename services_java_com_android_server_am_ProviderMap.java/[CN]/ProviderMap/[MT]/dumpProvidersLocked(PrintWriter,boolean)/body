{
  boolean needSep=false;
  if (mGlobalByClass.size() > 0) {
    if (needSep)     pw.println(" ");
    pw.println("  Published content providers (by class):");
    dumpProvidersByClassLocked(pw,dumpAll,mGlobalByClass);
  }
  if (mProvidersByClassPerUser.size() > 1) {
    pw.println("");
    for (int i=0; i < mProvidersByClassPerUser.size(); i++) {
      HashMap<ComponentName,ContentProviderRecord> map=mProvidersByClassPerUser.valueAt(i);
      pw.println("  User " + mProvidersByClassPerUser.keyAt(i) + ":");
      dumpProvidersByClassLocked(pw,dumpAll,map);
      pw.println(" ");
    }
  }
 else   if (mProvidersByClassPerUser.size() == 1) {
    HashMap<ComponentName,ContentProviderRecord> map=mProvidersByClassPerUser.valueAt(0);
    dumpProvidersByClassLocked(pw,dumpAll,map);
  }
  needSep=true;
  if (dumpAll) {
    pw.println(" ");
    pw.println("  Authority to provider mappings:");
    dumpProvidersByNameLocked(pw,mGlobalByName);
    for (int i=0; i < mProvidersByNamePerUser.size(); i++) {
      if (i > 0) {
        pw.println("  User " + mProvidersByNamePerUser.keyAt(i) + ":");
      }
      dumpProvidersByNameLocked(pw,mProvidersByNamePerUser.valueAt(i));
    }
  }
}
