{
  SmsHeader header=new SmsHeader();
  header.m_data=data;
  int index=0;
  header.nbrOfHeaders=0;
  while (index < data.length) {
    int id=data[index++] & 0xff;
    int length=data[index++] & 0xff;
    byte[] elementData=new byte[length];
    System.arraycopy(data,index,elementData,0,length);
    header.add(new Element(id,elementData));
    index+=length;
    header.nbrOfHeaders++;
  }
  return header;
}
