{
  activity.setCallback(new TestShellCallback(){
    public void finished(){
synchronized (LoadTestsAutoTest.this) {
        LoadTestsAutoTest.this.notifyAll();
      }
    }
  }
);
  Intent intent=new Intent(Intent.ACTION_VIEW);
  intent.setClass(activity,TestShellActivity.class);
  intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);
  intent.putExtra(TestShellActivity.TEST_URL,url);
  intent.putExtra(TestShellActivity.TIMEOUT_IN_MILLIS,timeout);
  intent.putExtra(TestShellActivity.RESULT_FILE,LOAD_TEST_RESULT);
  activity.startActivity(intent);
synchronized (this) {
    try {
      this.wait();
    }
 catch (    InterruptedException e) {
    }
  }
}
