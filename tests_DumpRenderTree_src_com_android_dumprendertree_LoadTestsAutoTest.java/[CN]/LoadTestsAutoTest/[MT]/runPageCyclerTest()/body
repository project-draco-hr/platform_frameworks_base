{
  LayoutTestsAutoRunner runner=(LayoutTestsAutoRunner)getInstrumentation();
  if (runner.mTestPath == null) {
    Log.e(LOGTAG,"No test specified");
    return;
  }
  TestShellActivity activity=(TestShellActivity)getActivity();
  Log.v(LOGTAG,"About to run tests, calling gc first...");
  freeMem();
  runTestAndWaitUntilDone(activity,runner.mTestPath,runner.mTimeoutInMillis,runner.mGetDrawTime,runner.mSaveImagePath);
  activity.clearCache();
  try {
    Thread.sleep(5000);
  }
 catch (  InterruptedException e) {
  }
  dumpMemoryInfo();
  activity.finish();
}
