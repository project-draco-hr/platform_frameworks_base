{
  if (!mScaling) {
    if (mInitialScaleFactor < 0) {
      mInitialScaleFactor=detector.getScaleFactor();
    }
 else {
      final float deltaScale=detector.getScaleFactor() - mInitialScaleFactor;
      if (Math.abs(deltaScale) > SCALING_THRESHOLD) {
        mScaling=true;
        return true;
      }
    }
    return false;
  }
  final float newScale=mMagnificationController.getScale() * detector.getScaleFactor();
  final float normalizedNewScale=Math.min(Math.max(newScale,MIN_SCALE),MAX_SCALE);
  if (DEBUG_SCALING) {
    Slog.i(LOG_TAG,"normalizedNewScale: " + normalizedNewScale);
  }
  mMagnificationController.setScale(normalizedNewScale,detector.getFocusX(),detector.getFocusY(),false);
  return true;
}
