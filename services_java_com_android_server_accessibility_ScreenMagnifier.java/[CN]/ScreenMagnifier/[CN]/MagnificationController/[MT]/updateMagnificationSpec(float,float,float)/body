{
  Rect magnifiedFrame=mTempRect;
  mMagnifiedBounds.getBounds(magnifiedFrame);
  mCurrentMagnificationSpec.scale=scale;
  final int viewportWidth=magnifiedFrame.width();
  final float nonNormOffsetX=viewportWidth / 2 - magnifiedCenterX * scale;
  mCurrentMagnificationSpec.offsetX=Math.min(Math.max(nonNormOffsetX,getMinOffsetX()),0);
  final int viewportHeight=magnifiedFrame.height();
  final float nonNormOffsetY=viewportHeight / 2 - magnifiedCenterY * scale;
  mCurrentMagnificationSpec.offsetY=Math.min(Math.max(nonNormOffsetY,getMinOffsetY()),0);
}
