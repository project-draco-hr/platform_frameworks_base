{
  if (DEBUG_ROTATION) {
    Slog.i(LOG_TAG,"Rotation: " + rotationToString(rotation));
  }
  resetMagnificationIfNeeded();
  mViewport.setFrameShown(false,false);
  mViewport.rotationChanged();
  mViewport.recomputeBounds(false);
  if (mMagnificationController.isMagnifying()) {
    final long delay=(long)(2 * mLongAnimationDuration * mWindowAnimationScale);
    Message message=mHandler.obtainMessage(MESSAGE_SHOW_VIEWPORT_FRAME);
    mHandler.sendMessageDelayed(message,delay);
  }
}
