{
  Rect frame=mTempRect;
  frame.set(0,0,mDisplayProvider.getDisplayInfo().logicalWidth,mDisplayProvider.getDisplayInfo().logicalHeight);
  ArrayList<WindowInfo> infos=mTempWindowInfoList;
  infos.clear();
  try {
    mWindowManagerService.getVisibleWindowsForDisplay(mDisplayProvider.getDisplay().getDisplayId(),infos);
    final int windowCount=infos.size();
    for (int i=0; i < windowCount; i++) {
      WindowInfo info=infos.get(i);
      if (info.type == WindowManager.LayoutParams.TYPE_NAVIGATION_BAR || info.type == WindowManager.LayoutParams.TYPE_INPUT_METHOD || info.type == WindowManager.LayoutParams.TYPE_INPUT_METHOD_DIALOG) {
        subtract(frame,info.touchableRegion);
      }
      info.recycle();
    }
  }
 catch (  RemoteException re) {
  }
 finally {
    infos.clear();
  }
  resize(frame,animate);
}
