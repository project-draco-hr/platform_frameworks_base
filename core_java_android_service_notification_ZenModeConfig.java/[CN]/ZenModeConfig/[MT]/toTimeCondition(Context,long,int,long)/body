{
  final int num, summaryResId, line1ResId;
  if (minutes < 60) {
    num=minutes;
    summaryResId=R.plurals.zen_mode_duration_minutes_summary;
    line1ResId=R.plurals.zen_mode_duration_minutes;
  }
 else {
    num=Math.round(minutes / 60f);
    summaryResId=com.android.internal.R.plurals.zen_mode_duration_hours_summary;
    line1ResId=com.android.internal.R.plurals.zen_mode_duration_hours;
  }
  final String skeleton=DateFormat.is24HourFormat(context) ? "Hm" : "hma";
  final String pattern=DateFormat.getBestDateTimePattern(Locale.getDefault(),skeleton);
  final CharSequence formattedTime=DateFormat.format(pattern,time);
  final Resources res=context.getResources();
  final String summary=res.getQuantityString(summaryResId,num,num,formattedTime);
  final String line1=res.getQuantityString(line1ResId,num,num,formattedTime);
  final String line2=res.getString(R.string.zen_mode_until,formattedTime);
  final Uri id=toCountdownConditionId(time);
  return new Condition(id,summary,line1,line2,0,Condition.STATE_TRUE,Condition.FLAG_RELEVANT_NOW);
}
