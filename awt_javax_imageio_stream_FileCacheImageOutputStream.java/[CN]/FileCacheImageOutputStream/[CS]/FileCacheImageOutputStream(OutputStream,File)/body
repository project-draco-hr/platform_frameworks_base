{
  if (stream == null) {
    throw new IllegalArgumentException("stream == null!");
  }
  os=stream;
  if (cacheDir == null || cacheDir.isDirectory()) {
    file=File.createTempFile(IIO_TEMP_FILE_PREFIX,null,cacheDir);
    file.deleteOnExit();
  }
 else {
    throw new IllegalArgumentException("Not a directory!");
  }
  raf=new RandomAccessFile(file,"rw");
}
