{
  CallbackRegistry.NotifierCallback<Integer,CallbackRegistryTest,Integer> notifier=new CallbackRegistry.NotifierCallback<Integer,CallbackRegistryTest,Integer>(){
    @Override public void onNotifyCallback(    Integer callback,    CallbackRegistryTest sender,    int arg,    Integer arg2){
    }
  }
;
  registry=new CallbackRegistry<Integer,CallbackRegistryTest,Integer>(notifier);
  Integer callback=0;
  assertNotNull(registry.copyListeners());
  assertEquals(0,registry.copyListeners().size());
  registry.add(callback);
  ArrayList<Integer> callbacks=registry.copyListeners();
  assertEquals(1,callbacks.size());
  assertEquals(callback,callbacks.get(0));
  registry.add(callback);
  callbacks=registry.copyListeners();
  assertEquals(1,callbacks.size());
  assertEquals(callback,callbacks.get(0));
  Integer otherListener=1;
  registry.add(otherListener);
  callbacks=registry.copyListeners();
  assertEquals(2,callbacks.size());
  assertEquals(callback,callbacks.get(0));
  assertEquals(otherListener,callbacks.get(1));
  registry.remove(callback);
  registry.add(callback);
  callbacks=registry.copyListeners();
  assertEquals(2,callbacks.size());
  assertEquals(callback,callbacks.get(1));
  assertEquals(otherListener,callbacks.get(0));
}
