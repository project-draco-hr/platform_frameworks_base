{
  if (fraction <= 0f) {
    final Keyframe prevKeyframe=mKeyframes.get(0);
    final Keyframe nextKeyframe=mKeyframes.get(1);
    final TimeInterpolator interpolator=nextKeyframe.getInterpolator();
    if (interpolator != null) {
      fraction=interpolator.getInterpolation(fraction);
    }
    float intervalFraction=(fraction - prevKeyframe.getFraction()) / (nextKeyframe.getFraction() - prevKeyframe.getFraction());
    return evaluator.evaluate(intervalFraction,prevKeyframe.getValue(),nextKeyframe.getValue());
  }
 else   if (fraction >= 1f) {
    final Keyframe prevKeyframe=mKeyframes.get(mNumKeyframes - 2);
    final Keyframe nextKeyframe=mKeyframes.get(mNumKeyframes - 1);
    final TimeInterpolator interpolator=nextKeyframe.getInterpolator();
    if (interpolator != null) {
      fraction=interpolator.getInterpolation(fraction);
    }
    float intervalFraction=(fraction - prevKeyframe.getFraction()) / (nextKeyframe.getFraction() - prevKeyframe.getFraction());
    return evaluator.evaluate(intervalFraction,prevKeyframe.getValue(),nextKeyframe.getValue());
  }
  Keyframe prevKeyframe=mKeyframes.get(0);
  for (int i=1; i < mNumKeyframes; ++i) {
    Keyframe nextKeyframe=mKeyframes.get(i);
    if (fraction < nextKeyframe.getFraction()) {
      final TimeInterpolator interpolator=nextKeyframe.getInterpolator();
      if (interpolator != null) {
        fraction=interpolator.getInterpolation(fraction);
      }
      float intervalFraction=(fraction - prevKeyframe.getFraction()) / (nextKeyframe.getFraction() - prevKeyframe.getFraction());
      return evaluator.evaluate(intervalFraction,prevKeyframe.getValue(),nextKeyframe.getValue());
    }
    prevKeyframe=nextKeyframe;
  }
  return mKeyframes.get(mNumKeyframes - 1).getValue();
}
