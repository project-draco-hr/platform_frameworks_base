{
  String sourceFile=getCodePath();
  if (instructionSet == null) {
    throw new IllegalStateException("instructionSet == null");
  }
  final String dexCodeInstructionSet=getDexCodeInstructionSet(instructionSet);
  int retCode=mInstaller.rmdex(sourceFile,dexCodeInstructionSet);
  if (retCode < 0) {
    Slog.w(TAG,"Couldn't remove dex file for package: " + " at location " + sourceFile.toString() + ", retcode="+ retCode);
  }
  cleanUp();
}
