{
  String sourceDir=getCodePath();
  if (cleanUp()) {
    if (instructionSet == null) {
      throw new IllegalStateException("instructionSet == null");
    }
    final String dexCodeInstructionSet=getDexCodeInstructionSet(instructionSet);
    int retCode=mInstaller.rmdex(sourceDir,dexCodeInstructionSet);
    if (retCode < 0) {
      Slog.w(TAG,"Couldn't remove dex file for package: " + " at location " + sourceDir + ", retcode="+ retCode);
    }
  }
}
