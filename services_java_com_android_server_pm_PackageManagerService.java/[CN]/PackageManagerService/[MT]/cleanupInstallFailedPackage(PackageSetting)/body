{
  Slog.i(TAG,"Cleaning up incompletely installed app: " + ps.name);
  removeDataDirsLI(ps.name);
  if (ps.codePath != null) {
    if (!ps.codePath.delete()) {
      Slog.w(TAG,"Unable to remove old code file: " + ps.codePath);
    }
  }
  if (ps.resourcePath != null) {
    if (!ps.resourcePath.delete() && !ps.resourcePath.equals(ps.codePath)) {
      Slog.w(TAG,"Unable to remove old code file: " + ps.resourcePath);
    }
  }
  mSettings.removePackageLPw(ps.name);
}
