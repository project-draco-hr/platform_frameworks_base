{
synchronized (mPackages) {
    final PackageParser.Provider provider=mProviders.get(name);
    return provider != null && mSettings.isEnabledLPr(provider.info,flags,userId) && (!mSafeMode || (provider.info.applicationInfo.flags & ApplicationInfo.FLAG_SYSTEM) != 0) ? PackageParser.generateProviderInfo(provider,flags,userId) : null;
  }
}
