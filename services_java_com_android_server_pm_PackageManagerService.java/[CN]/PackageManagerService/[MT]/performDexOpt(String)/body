{
  enforceSystemOrRoot("Only the system can request dexopt be performed");
  PackageParser.Package p;
synchronized (mPackages) {
    p=mPackages.get(packageName);
    if (p == null) {
      return false;
    }
    p.mLastPackageUsageTimeInMills=System.currentTimeMillis();
    mPackageUsage.write();
    if (!p.mDexOptNeeded) {
      return false;
    }
  }
synchronized (mInstallLock) {
    return performDexOptLI(p,false,false,true) == DEX_OPT_PERFORMED;
  }
}
