{
  if (outInfo != null) {
    outInfo.uid=ps.appId;
  }
  removePackageDataLI(ps,outInfo,flags,writeSettings);
  if (deleteCodeAndResources) {
    int installFlags=isExternal(ps) ? PackageManager.INSTALL_EXTERNAL : 0;
    installFlags|=isForwardLocked(ps) ? PackageManager.INSTALL_FORWARD_LOCK : 0;
    outInfo.args=createInstallArgs(installFlags,ps.codePathString,ps.resourcePathString,ps.nativeLibraryPathString);
  }
  return true;
}
