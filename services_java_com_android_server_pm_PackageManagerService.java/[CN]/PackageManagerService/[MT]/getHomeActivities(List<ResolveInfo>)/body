{
  Intent intent=new Intent(Intent.ACTION_MAIN);
  intent.addCategory(Intent.CATEGORY_HOME);
  final int callingUserId=UserHandle.getCallingUserId();
  List<ResolveInfo> list=queryIntentActivities(intent,null,PackageManager.GET_META_DATA,callingUserId);
  ResolveInfo preferred=findPreferredActivity(intent,null,0,list,0,true,false,callingUserId);
  allHomeCandidates.clear();
  if (list != null) {
    for (    ResolveInfo ri : list) {
      allHomeCandidates.add(ri);
    }
  }
  return (preferred == null || preferred.activityInfo == null) ? null : new ComponentName(preferred.activityInfo.packageName,preferred.activityInfo.name);
}
