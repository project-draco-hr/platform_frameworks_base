{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.PACKAGE_VERIFICATION_AGENT,"Only package verification agents can extend verification timeouts");
  final PackageVerificationState state=mPendingVerification.get(id);
  final PackageVerificationResponse response=new PackageVerificationResponse(verificationCodeAtTimeout,Binder.getCallingUid());
  if ((millisecondsToDelay > PackageManager.MAXIMUM_VERIFICATION_TIMEOUT) || (millisecondsToDelay < 0)) {
    throw new IllegalArgumentException("millisecondsToDelay is out of bounds.");
  }
  if ((verificationCodeAtTimeout != PackageManager.VERIFICATION_ALLOW) || (verificationCodeAtTimeout != PackageManager.VERIFICATION_REJECT)) {
    throw new IllegalArgumentException("verificationCodeAtTimeout is unknown.");
  }
  if ((state != null) && !state.timeoutExtended()) {
    state.extendTimeout();
    final Message msg=mHandler.obtainMessage(PACKAGE_VERIFIED);
    msg.arg1=id;
    msg.obj=response;
    mHandler.sendMessageDelayed(msg,millisecondsToDelay);
  }
}
