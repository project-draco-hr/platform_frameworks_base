{
  View view=root.getView();
  Rect rect=new Rect();
  view.getBoundsOnScreen(rect);
  mX=rect.left - view.getLeft();
  mY=rect.top - view.getTop();
  mWidth=rect.width();
  mHeight=rect.height();
  mTitle=root.getTitle();
  mDisplayId=root.getDisplayId();
  mRoot=new ViewNode();
  ViewNodeBuilder builder=new ViewNodeBuilder(assist,mRoot,false);
  if ((root.getWindowFlags() & WindowManager.LayoutParams.FLAG_SECURE) != 0) {
    view.onProvideStructure(builder);
    builder.setAssistBlocked(true);
    return;
  }
  view.dispatchProvideStructure(builder);
}
