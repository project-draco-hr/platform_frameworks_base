{
  boolean fitsInDisplay=true;
  final int winOffsetY=screenLocationY - drawingLocationY;
  outParams.y+=winOffsetY;
  outParams.height=height;
  final int bottom=outParams.y + height;
  if (bottom > displayFrameBottom) {
    outParams.y-=bottom - displayFrameBottom;
  }
  if (outParams.y < displayFrameTop) {
    outParams.y=displayFrameTop;
    final int displayFrameHeight=displayFrameBottom - displayFrameTop;
    if (canResize && height > displayFrameHeight) {
      outParams.height=displayFrameHeight;
    }
 else {
      fitsInDisplay=false;
    }
  }
  outParams.y-=winOffsetY;
  return fitsInDisplay;
}
