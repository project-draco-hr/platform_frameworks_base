{
  final ViewGroup.LayoutParams layoutParams=mContentView.getLayoutParams();
  final int height;
  if (layoutParams != null && layoutParams.height == ViewGroup.LayoutParams.WRAP_CONTENT) {
    height=ViewGroup.LayoutParams.WRAP_CONTENT;
  }
 else {
    height=ViewGroup.LayoutParams.MATCH_PARENT;
  }
  final PopupBackgroundView backgroundView=new PopupBackgroundView(mContext);
  final PopupBackgroundView.LayoutParams listParams=new PopupBackgroundView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,height);
  backgroundView.addView(contentView,listParams);
  return backgroundView;
}
