{
  if (mContext != null) {
    p.packageName=mContext.getPackageName();
  }
  final View rootView=mContentView.getRootView();
  rootView.setFitsSystemWindows(mLayoutInsetDecor);
  setLayoutDirectionFromAnchor();
  mWindowManager.addView(rootView,p);
  if (mEnterTransition != null) {
    mEnterTransition.addTarget(mBackgroundView);
    mEnterTransition.addListener(new Transition.TransitionListenerAdapter(){
      @Override public void onTransitionEnd(      Transition transition){
        transition.removeListener(this);
        transition.removeTarget(mBackgroundView);
      }
    }
);
    mDecorView.getViewTreeObserver().addOnGlobalLayoutListener(new PostLayoutTransitionListener(mDecorView,mEnterTransition));
  }
}
