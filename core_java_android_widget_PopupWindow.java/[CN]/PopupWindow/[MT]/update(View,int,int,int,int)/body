{
  if (!isShowing() || mContentView == null) {
    return;
  }
  WeakReference<View> oldAnchor=mAnchor;
  if (oldAnchor == null || oldAnchor.get() != anchor || mAnchorXoff != xoff || mAnchorYoff != yoff) {
    registerForScrollChanged(anchor,xoff,yoff);
  }
  WindowManager.LayoutParams p=(WindowManager.LayoutParams)mPopupView.getLayoutParams();
  if (width == -1) {
    width=mPopupWidth;
  }
 else {
    mPopupWidth=width;
  }
  if (height == -1) {
    height=mPopupHeight;
  }
 else {
    mPopupHeight=height;
  }
  mAboveAnchor=findDropDownPosition(anchor,p,xoff,yoff);
  update(p.x,p.y,width,height);
}
