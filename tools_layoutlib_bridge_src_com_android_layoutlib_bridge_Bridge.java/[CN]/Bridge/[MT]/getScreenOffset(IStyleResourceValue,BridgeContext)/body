{
  int offset=0;
  IResourceValue value=context.findItemInStyle(currentTheme,"windowNoTitle");
  value=context.resolveResValue(value);
  if (value == null || value.getValue() == null || XmlUtils.convertValueToBoolean(value.getValue(),false) == false) {
    value=context.findItemInStyle(currentTheme,"windowTitleSize");
    value=context.resolveResValue(value);
    offset=DEFAULT_TITLE_BAR_HEIGHT;
    if (value != null) {
      TypedValue typedValue=ResourceHelper.getValue(value.getValue());
      if (typedValue != null) {
        offset=(int)typedValue.getDimension(context.getResources().mMetrics);
      }
    }
  }
  value=context.findItemInStyle(currentTheme,"windowFullscreen");
  value=context.resolveResValue(value);
  if (value == null || value.getValue() == null || XmlUtils.convertValueToBoolean(value.getValue(),false) == false) {
    offset+=DEFAULT_STATUS_BAR_HEIGHT;
  }
  return offset;
}
