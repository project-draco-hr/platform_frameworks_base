{
  Bundle extras=data.getExtras();
  int gadgetId=extras.getInt(GadgetManager.EXTRA_GADGET_ID);
  if (resultCode == RESULT_OK) {
    GadgetInfo gadget=mGadgetManager.getGadgetInfo(gadgetId);
    if (gadget.configure != null) {
      configureGadget(CONFIGURE_GADGET_REQUEST,gadgetId,gadget.configure);
    }
 else {
      addGadgetView(gadgetId,gadget);
    }
  }
 else {
    mHost.deleteGadgetId(gadgetId);
  }
}
