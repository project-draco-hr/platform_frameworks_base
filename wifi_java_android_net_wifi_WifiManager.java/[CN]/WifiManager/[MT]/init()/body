{
  mWifiServiceMessenger=getWifiServiceMessenger();
  if (mWifiServiceMessenger == null) {
    mAsyncChannel=null;
    return;
  }
  HandlerThread t=new HandlerThread("WifiManager");
  t.start();
  mHandler=new ServiceHandler(t.getLooper());
  mAsyncChannel.connect(mContext,mHandler,mWifiServiceMessenger);
  try {
    mConnected.await();
  }
 catch (  InterruptedException e) {
    Log.e(TAG,"interrupted wait at init");
  }
}
