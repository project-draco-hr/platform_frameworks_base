{
  final VCardComposer composer=new VCardComposer(new CustomMockContext(mExportTestResolver),mVCardType,mCharset);
  composer.addHandler(mLineVerifier);
  composer.addHandler(mVCardVerifierInternal);
  if (!composer.init(VCardComposer.CONTACTS_TEST_CONTENT_URI,null,null,null)) {
    mTestCase.fail("init() failed. Reason: " + composer.getErrorReason());
  }
  mTestCase.assertFalse(composer.isAfterLast());
  try {
    while (!composer.isAfterLast()) {
      try {
        final Method mockGetEntityIteratorMethod=getMockGetEntityIteratorMethod();
        mTestCase.assertNotNull(mockGetEntityIteratorMethod);
        mTestCase.assertTrue(composer.createOneEntry(mockGetEntityIteratorMethod));
      }
 catch (      Exception e) {
        e.printStackTrace();
        mTestCase.fail();
      }
    }
  }
  finally {
    composer.terminate();
  }
}
