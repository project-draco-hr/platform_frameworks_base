{
  String state=Environment.getExternalStorageState();
  if (!Environment.MEDIA_MOUNTED.equals(state) && !Environment.MEDIA_MOUNTED_READ_ONLY.equals(state)) {
    Log.d(LOGTAG,"ARG Can't access sd card!");
    getInstrumentation().sendStatus(1,null);
    return;
  }
  mActivity.setCallback(new ProfileCallback(){
    @Override public void profileCallback(    RunData data){
      Log.d(LOGTAG,"test completion callback");
      mStats.setData(data);
synchronized (mStats) {
        mStats.notify();
      }
    }
  }
);
  for (int i=0; i < MAX_ITERATIONS; i++)   if (!runIteration()) {
    getInstrumentation().sendStatus(1,null);
    return;
  }
  getInstrumentation().sendStatus(0,mStats.getBundle());
}
