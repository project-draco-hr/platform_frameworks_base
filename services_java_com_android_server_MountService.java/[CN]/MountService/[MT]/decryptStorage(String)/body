{
  if (password == null) {
    throw new IllegalArgumentException("password cannot be null");
  }
  waitForReady();
  if (DEBUG_EVENTS) {
    Slog.i(TAG,"decrypting storage...");
  }
  try {
    mConnector.doCommand(String.format("cryptfs checkpw %s",password));
  }
 catch (  NativeDaemonConnectorException e) {
    return e.getCode();
  }
  return 0;
}
