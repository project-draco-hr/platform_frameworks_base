{
  int rc=StorageResultCode.OperationSucceeded;
  if (DEBUG_EVENTS)   Log.i(TAG,"doMountVolume: Mouting " + path);
  try {
    mConnector.doCommand(String.format("volume mount %s",path));
  }
 catch (  NativeDaemonConnectorException e) {
    Intent in=null;
    int code=e.getCode();
    if (code == VoldResponseCode.OpFailedNoMedia) {
      rc=StorageResultCode.OperationFailedNoMedia;
    }
 else     if (code == VoldResponseCode.OpFailedMediaBlank) {
      if (DEBUG_EVENTS)       Log.i(TAG," updating volume state :: media nofs");
      updatePublicVolumeState(path,Environment.MEDIA_NOFS);
      in=new Intent(Intent.ACTION_MEDIA_NOFS,Uri.parse("file://" + path));
      rc=StorageResultCode.OperationFailedMediaBlank;
    }
 else     if (code == VoldResponseCode.OpFailedMediaCorrupt) {
      if (DEBUG_EVENTS)       Log.i(TAG,"updating volume state media corrupt");
      updatePublicVolumeState(path,Environment.MEDIA_UNMOUNTABLE);
      in=new Intent(Intent.ACTION_MEDIA_UNMOUNTABLE,Uri.parse("file://" + path));
      rc=StorageResultCode.OperationFailedMediaCorrupt;
    }
 else {
      rc=StorageResultCode.OperationFailedInternalError;
    }
    if (in != null) {
      mContext.sendBroadcast(in);
    }
  }
  return rc;
}
