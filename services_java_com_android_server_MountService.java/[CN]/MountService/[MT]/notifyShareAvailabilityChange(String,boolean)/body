{
  if (!method.equals("ums")) {
    Log.w(TAG,"Ignoring unsupported share method {" + method + "}");
    return;
  }
synchronized (mListeners) {
    for (int i=mListeners.size() - 1; i >= 0; i--) {
      MountServiceBinderListener bl=mListeners.get(i);
      try {
        bl.mListener.onShareAvailabilityChanged(method,avail);
      }
 catch (      RemoteException rex) {
        Log.e(TAG,"Listener dead");
        mListeners.remove(i);
      }
catch (      Exception ex) {
        Log.e(TAG,"Listener failed",ex);
      }
    }
  }
  Intent intent;
  if (avail) {
    intent=new Intent(Intent.ACTION_UMS_CONNECTED);
  }
 else {
    intent=new Intent(Intent.ACTION_UMS_DISCONNECTED);
  }
  mContext.sendBroadcast(intent);
}
