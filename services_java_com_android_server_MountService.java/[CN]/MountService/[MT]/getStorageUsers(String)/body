{
  validatePermission(android.Manifest.permission.MOUNT_UNMOUNT_FILESYSTEMS);
  waitForReady();
  try {
    final String[] r=NativeDaemonEvent.filterMessageList(mConnector.executeForList("storage","users",path),VoldResponseCode.StorageUsersListResult);
    int[] data=new int[r.length];
    for (int i=0; i < r.length; i++) {
      String[] tok=r[i].split(" ");
      try {
        data[i]=Integer.parseInt(tok[0]);
      }
 catch (      NumberFormatException nfe) {
        Slog.e(TAG,String.format("Error parsing pid %s",tok[0]));
        return new int[0];
      }
    }
    return data;
  }
 catch (  NativeDaemonConnectorException e) {
    Slog.e(TAG,"Failed to retrieve storage users list",e);
    return new int[0];
  }
}
