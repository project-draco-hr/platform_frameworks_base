{
synchronized (mObbMounts) {
    final List<ObbState> obbStates=mObbMounts.get(obbState.getBinder());
    if (obbStates != null) {
      obbStates.remove(obbState);
    }
    if (obbStates == null || obbStates.isEmpty()) {
      mObbMounts.remove(obbState.getBinder());
      obbState.cleanUp();
    }
    mObbPathToStateMap.remove(obbState.filename);
    final int uid=obbState.callerUid;
    final Integer uidUsage=mObbUidUsage.get(uid);
    if (uidUsage == null) {
      Slog.e(TAG,"Called removeObbState for UID that isn't in map: " + uid);
    }
 else {
      final int newUsage=uidUsage - 1;
      if (newUsage == 0) {
        mObbUidUsage.remove(uid);
      }
 else {
        mObbUidUsage.put(uid,newUsage);
      }
    }
  }
}
