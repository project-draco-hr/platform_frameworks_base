{
synchronized (mObbMounts) {
    final IBinder binder=obbState.getBinder();
    final List<ObbState> obbStates=mObbMounts.get(binder);
    if (obbStates != null) {
      if (obbStates.remove(obbState)) {
        obbState.unlink();
      }
      if (obbStates.isEmpty()) {
        mObbMounts.remove(binder);
      }
    }
    mObbPathToStateMap.remove(obbState.filename);
    final int uid=obbState.callerUid;
    final Integer uidUsage=mObbUidUsage.get(uid);
    if (uidUsage == null) {
      Slog.e(TAG,"Called removeObbState for UID that isn't in map: " + uid);
    }
 else {
      final int newUsage=uidUsage - 1;
      if (newUsage == 0) {
        mObbUidUsage.remove(uid);
      }
 else {
        mObbUidUsage.put(uid,newUsage);
      }
    }
  }
}
