{
  waitForReady();
  warnOnNotMounted();
  if (filename == null) {
    throw new IllegalArgumentException("filename cannot be null");
  }
 else   if (token == null) {
    throw new IllegalArgumentException("token cannot be null");
  }
  final ObbState obbState;
synchronized (mObbMounts) {
    if (isObbMounted(filename)) {
      throw new IllegalArgumentException("OBB file is already mounted");
    }
    final int callerUid=Binder.getCallingUid();
    obbState=new ObbState(filename,token,callerUid);
    addObbState(obbState);
  }
  try {
    token.asBinder().linkToDeath(obbState,0);
  }
 catch (  RemoteException rex) {
    Slog.e(TAG,"Failed to link to listener death");
  }
  MountObbAction action=new MountObbAction(obbState,key);
  mObbActionHandler.sendMessage(mObbActionHandler.obtainMessage(OBB_RUN_ACTION,action));
  if (DEBUG_OBB)   Slog.i(TAG,"Send to OBB handler: " + action.toString());
}
