{
  mContext=context;
  if ("simulator".equals(SystemProperties.get("ro.product.device"))) {
    updatePublicVolumeState("/sdcard",Environment.MEDIA_MOUNTED);
    return;
  }
  mPms=(PackageManagerService)ServiceManager.getService("package");
  mContext.registerReceiver(mBroadcastReceiver,new IntentFilter(Intent.ACTION_BOOT_COMPLETED),null,null);
  mListeners=new ArrayList<MountServiceBinderListener>();
  mConnector=new NativeDaemonConnector(this,"vold",10,"VoldConnector");
  mReady=false;
  Thread thread=new Thread(mConnector,NativeDaemonConnector.class.getName());
  thread.start();
}
