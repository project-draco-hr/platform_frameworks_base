{
  if (pinTimerMs < 0) {
    pinTimerMs=mUserManager.checkRestrictionsChallenge(null);
  }
  boolean enableInput;
  if (pinTimerMs >= 200) {
    if (pinTimerMs <= 60000) {
      final int seconds=(pinTimerMs + 200) / 1000;
      final String formatString=getResources().getQuantityString(R.plurals.restr_pin_countdown,seconds);
      mPinErrorMessage.setText(String.format(formatString,seconds));
    }
 else {
      mPinErrorMessage.setText(R.string.restr_pin_try_later);
    }
    enableInput=false;
    mPinErrorMessage.setVisibility(View.VISIBLE);
    mPinText.setText("");
    mPinText.postDelayed(mCountdownRunnable,Math.min(1000,pinTimerMs));
  }
 else {
    enableInput=true;
    mPinErrorMessage.setText(R.string.restr_pin_incorrect);
  }
  mPinText.setEnabled(enableInput);
  setPositiveButtonState(enableInput);
  return enableInput;
}
