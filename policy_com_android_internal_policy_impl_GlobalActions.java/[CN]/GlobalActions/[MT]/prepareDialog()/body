{
  final boolean silentModeOn=mAudioManager.getRingerMode() != AudioManager.RINGER_MODE_NORMAL;
  mSilentModeToggle.updateState(silentModeOn ? ToggleAction.State.On : ToggleAction.State.Off);
  mAirplaneModeOn.updateState(mAirplaneState);
  mAdapter.notifyDataSetChanged();
  if (mKeyguardShowing) {
    mDialog.getWindow().setType(WindowManager.LayoutParams.TYPE_KEYGUARD_DIALOG);
  }
 else {
    mDialog.getWindow().setType(WindowManager.LayoutParams.TYPE_SYSTEM_DIALOG);
  }
}
