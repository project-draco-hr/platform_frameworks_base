{
  View v=(convertView != null) ? convertView : inflater.inflate(R.layout.global_actions_item,parent,false);
  ImageView icon=(ImageView)v.findViewById(R.id.icon);
  TextView messageView=(TextView)v.findViewById(R.id.message);
  TextView statusView=(TextView)v.findViewById(R.id.status);
  messageView.setText(mMessageResId);
  boolean on=((mState == State.On) || (mState == State.TurningOn));
  icon.setImageDrawable(context.getResources().getDrawable((on ? mEnabledIconResId : mDisabledIconResid)));
  statusView.setText(on ? mEnabledStatusMessageResId : mDisabledStatusMessageResId);
  statusView.setVisibility(View.VISIBLE);
  final boolean enabled=isEnabled();
  messageView.setEnabled(enabled);
  statusView.setEnabled(enabled);
  icon.setEnabled(enabled);
  v.setEnabled(enabled);
  return v;
}
