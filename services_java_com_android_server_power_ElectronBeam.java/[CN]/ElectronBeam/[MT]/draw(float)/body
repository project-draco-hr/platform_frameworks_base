{
  if (DEBUG) {
    Slog.d(TAG,"drawFrame: level=" + level);
  }
  if (!attachEglContext()) {
    return false;
  }
  try {
    GLES10.glClearColor(0f,0f,0f,1f);
    GLES10.glClear(GLES10.GL_COLOR_BUFFER_BIT);
    if (level < HSTRETCH_DURATION) {
      drawHStretch(1.0f - (level / HSTRETCH_DURATION));
    }
 else {
      drawVStretch(1.0f - ((level - HSTRETCH_DURATION) / VSTRETCH_DURATION));
    }
    if (checkGlErrors("drawFrame")) {
      return false;
    }
    EGL14.eglSwapBuffers(mEglDisplay,mEglSurface);
  }
  finally {
    detachEglContext();
  }
  return showEglSurface();
}
