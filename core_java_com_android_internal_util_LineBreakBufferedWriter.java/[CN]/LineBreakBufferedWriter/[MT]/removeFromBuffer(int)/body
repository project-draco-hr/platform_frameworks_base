{
  int rest=bufferIndex - i;
  if (rest > 0) {
    System.arraycopy(buffer,bufferIndex - rest,buffer,0,rest);
    bufferIndex=rest;
  }
 else {
    bufferIndex=0;
  }
}
