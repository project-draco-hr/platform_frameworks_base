{
  if (mTransitioning || mDown)   return;
  mTransitioning=true;
  final View child=getChildAt(0);
  final View root=getRootView();
  final int startWidth=child.getWidth();
  final int startHeight=child.getHeight();
  final int finishWidth=root.getWidth();
  final int finishHeight=root.getHeight();
  final float scaleX=(float)finishWidth / startWidth;
  final float scaleY=(float)finishHeight / startHeight;
  final float scale=Math.round(Math.max(scaleX,scaleY) * 100) / 100f;
  final int[] loc=new int[2];
  root.getLocationInWindow(loc);
  final int finishCenter=loc[1] + finishHeight / 2;
  child.getLocationInWindow(loc);
  final int startCenter=loc[1] + startHeight / 2;
  if (DEBUG)   Log.d(TAG,String.format("Transitioning to camera. " + "(start=%sx%s, finish=%sx%s, scale=%s,%s, startCenter=%s, finishCenter=%s)",startWidth,startHeight,finishWidth,finishHeight,scaleX,scaleY,startCenter,finishCenter));
  enableWindowExitAnimation(false);
  animate().scaleX(scale).scaleY(scale).translationY(finishCenter - startCenter).setDuration(WIDGET_ANIMATION_DURATION).withEndAction(mTransitionToCameraEndAction).start();
  mCallbacks.onLaunchingCamera();
}
