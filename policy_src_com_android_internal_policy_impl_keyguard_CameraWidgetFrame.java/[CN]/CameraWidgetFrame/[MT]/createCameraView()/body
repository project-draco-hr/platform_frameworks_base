{
  View cameraView=null;
  Exception exception=null;
  try {
    String contextPackage=mContext.getString(R.string.kg_camera_widget_context_package);
    String layoutPackage=mContext.getString(R.string.kg_camera_widget_layout_package);
    String layoutName=mContext.getString(R.string.kg_camera_widget_layout_name);
    Context cameraContext=mContext.createPackageContext(contextPackage,Context.CONTEXT_RESTRICTED);
    LayoutInflater cameraInflater=(LayoutInflater)cameraContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    cameraInflater=cameraInflater.cloneInContext(cameraContext);
    int layoutId=cameraContext.getResources().getIdentifier(layoutName,"layout",layoutPackage);
    cameraView=cameraInflater.inflate(layoutId,null,false);
  }
 catch (  NameNotFoundException e) {
    exception=e;
  }
catch (  RuntimeException e) {
    exception=e;
  }
  if (exception != null) {
    Log.w(TAG,"Error creating camera widget view",exception);
  }
  if (cameraView == null) {
    cameraView=createCameraErrorView();
  }
 else {
    mCameraWidgetFound=true;
  }
  return cameraView;
}
