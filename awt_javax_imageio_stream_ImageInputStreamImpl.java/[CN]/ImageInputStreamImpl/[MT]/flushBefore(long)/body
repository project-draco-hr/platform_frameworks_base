{
  if (pos > getStreamPosition()) {
    throw new IndexOutOfBoundsException("Trying to flush outside of current position");
  }
  if (pos < flushedPos) {
    throw new IndexOutOfBoundsException("Trying to flush within already flushed portion");
  }
  flushedPos=pos;
}
