{
  PNGData chunks=new PNGData();
  boolean trucking=true;
  while (trucking) {
    try {
      int length=in.readInt();
      if (length < 0)       throw new IOException("Sorry, that file is too long.");
      byte[] typeBytes=new byte[4];
      in.readFully(typeBytes);
      byte[] data=new byte[length];
      in.readFully(data);
      long crc=in.readInt() & 0x00000000ffffffffL;
      if (verifyCRC(typeBytes,data,crc) == false)       throw new IOException("That file appears to be corrupted.");
      PNGChunk chunk=new PNGChunk(typeBytes,data);
      chunks.add(chunk);
    }
 catch (    EOFException eofe) {
      trucking=false;
    }
  }
  return chunks;
}
