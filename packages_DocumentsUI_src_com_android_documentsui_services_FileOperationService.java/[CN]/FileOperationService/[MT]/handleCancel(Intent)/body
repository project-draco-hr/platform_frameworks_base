{
  assert(intent.hasExtra(EXTRA_CANCEL));
  assert(intent.getStringExtra(EXTRA_JOB_ID) != null);
  String jobId=intent.getStringExtra(EXTRA_JOB_ID);
  if (DEBUG)   Log.d(TAG,"handleCancel: " + jobId);
synchronized (mRunning) {
    JobRecord record=mRunning.get(jobId);
    if (record != null) {
      record.job.cancel();
      if (record.future.getDelay(TimeUnit.MILLISECONDS) > 0) {
        record.future.cancel(false);
        onFinished(record.job);
      }
    }
  }
  mNotificationManager.cancel(jobId,NOTIFICATION_ID_PROGRESS);
}
