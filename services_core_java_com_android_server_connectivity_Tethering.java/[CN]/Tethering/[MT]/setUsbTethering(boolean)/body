{
  if (VDBG)   Log.d(TAG,"setUsbTethering(" + enable + ")");
  UsbManager usbManager=(UsbManager)mContext.getSystemService(Context.USB_SERVICE);
synchronized (mPublicSync) {
    if (enable) {
      if (mRndisEnabled) {
        tetherUsb(true);
      }
 else {
        mUsbTetherRequested=true;
        usbManager.setCurrentFunction(UsbManager.USB_FUNCTION_RNDIS);
      }
    }
 else {
      tetherUsb(false);
      if (mRndisEnabled) {
        usbManager.setCurrentFunction(null);
      }
      mUsbTetherRequested=false;
    }
  }
  return ConnectivityManager.TETHER_ERROR_NO_ERROR;
}
