{
  if (VDBG)   Log.d(TAG,"interfaceStatusChanged " + iface + ", "+ up);
  boolean found=false;
  boolean usb=false;
synchronized (mPublicSync) {
    if (isWifi(iface)) {
      found=true;
    }
 else     if (isUsb(iface)) {
      found=true;
      usb=true;
    }
 else     if (isBluetooth(iface)) {
      found=true;
    }
    if (found == false)     return;
    TetherInterfaceStateMachine sm=mIfaces.get(iface);
    if (up) {
      if (sm == null) {
        sm=new TetherInterfaceStateMachine(iface,mLooper,usb,mNMService,mStatsService,this);
        mIfaces.put(iface,sm);
        sm.start();
      }
    }
 else {
      if (isUsb(iface)) {
        if (VDBG)         Log.d(TAG,"ignore interface down for " + iface);
      }
 else       if (sm != null) {
        sm.sendMessage(TetherInterfaceStateMachine.CMD_INTERFACE_DOWN);
        mIfaces.remove(iface);
      }
    }
  }
}
