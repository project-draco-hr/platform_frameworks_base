{
  int user=mLockPatternUtils.getCurrentUser();
  boolean methodInsecure=!mLockPatternUtils.isSecure() || mKeyguardUpdateMonitor.getUserHasTrust(user);
  boolean trustManaged=mKeyguardUpdateMonitor.getUserTrustIsManaged(user);
  boolean changed=methodInsecure != mMethodInsecure || trustManaged != mTrustManaged;
  if (changed || updateAlways) {
    mMethodInsecure=methodInsecure;
    mTrustManaged=trustManaged;
    notifyListeners(mMethodInsecure);
  }
}
