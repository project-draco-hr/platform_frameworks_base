{
  enforceCallingPermission();
  String pkgName;
  if ((componentName == null) || ((pkgName=componentName.getPackageName()) == null)) {
    return;
  }
  writeStatsToFile(false,false);
synchronized (mStatsLock) {
    PkgUsageStatsExtended pus=(PkgUsageStatsExtended)mStats.getPackageStats(pkgName);
    if (pus != null) {
      pus.addFullyDrawnTime(componentName.getClassName(),millis);
    }
  }
}
