{
  if (mCurrentShowAnim != null) {
    mCurrentShowAnim.end();
  }
  mContainerView.setVisibility(View.VISIBLE);
  if (mCurWindowVisibility == View.VISIBLE && (mShowHideAnimationEnabled || fromSystem)) {
    mContainerView.setTranslationY(0);
    float startingY=-mContainerView.getHeight();
    if (fromSystem) {
      int topLeft[]={0,0};
      mContainerView.getLocationInWindow(topLeft);
      startingY-=topLeft[1];
    }
    mContainerView.setTranslationY(startingY);
    AnimatorSet anim=new AnimatorSet();
    ObjectAnimator a=ObjectAnimator.ofFloat(mContainerView,View.TRANSLATION_Y,0);
    a.addUpdateListener(mUpdateListener);
    AnimatorSet.Builder b=anim.play(a);
    if (mContentAnimations && mContentView != null) {
      b.with(ObjectAnimator.ofFloat(mContentView,View.TRANSLATION_Y,startingY,0));
    }
    if (mSplitView != null && mContextDisplayMode == CONTEXT_DISPLAY_SPLIT) {
      mSplitView.setTranslationY(mSplitView.getHeight());
      mSplitView.setVisibility(View.VISIBLE);
      b.with(ObjectAnimator.ofFloat(mSplitView,View.TRANSLATION_Y,0));
    }
    anim.setInterpolator(AnimationUtils.loadInterpolator(mContext,com.android.internal.R.interpolator.decelerate_cubic));
    anim.setDuration(250);
    anim.addListener(mShowListener);
    mCurrentShowAnim=anim;
    anim.start();
  }
 else {
    mContainerView.setAlpha(1);
    mContainerView.setTranslationY(0);
    if (mContentAnimations && mContentView != null) {
      mContentView.setTranslationY(0);
    }
    if (mSplitView != null && mContextDisplayMode == CONTEXT_DISPLAY_SPLIT) {
      mSplitView.setAlpha(1);
      mSplitView.setTranslationY(0);
      mSplitView.setVisibility(View.VISIBLE);
    }
    mShowListener.onAnimationEnd(null);
  }
  if (mOverlayLayout != null) {
    mOverlayLayout.requestFitSystemWindows();
  }
}
