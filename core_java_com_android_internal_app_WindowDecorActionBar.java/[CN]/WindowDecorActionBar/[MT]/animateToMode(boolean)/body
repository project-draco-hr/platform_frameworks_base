{
  if (toActionMode) {
    showForActionMode();
  }
 else {
    hideForActionMode();
  }
  if (shouldAnimateContextView()) {
    Animator fadeIn, fadeOut;
    if (toActionMode) {
      fadeOut=mDecorToolbar.setupAnimatorToVisibility(View.GONE,FADE_OUT_DURATION_MS);
      fadeIn=mContextView.setupAnimatorToVisibility(View.VISIBLE,FADE_IN_DURATION_MS);
    }
 else {
      fadeIn=mDecorToolbar.setupAnimatorToVisibility(View.VISIBLE,FADE_IN_DURATION_MS);
      fadeOut=mContextView.setupAnimatorToVisibility(View.GONE,FADE_OUT_DURATION_MS);
    }
    AnimatorSet set=new AnimatorSet();
    set.playSequentially(fadeOut,fadeIn);
    set.start();
  }
 else {
    if (toActionMode) {
      mDecorToolbar.setVisibility(View.GONE);
      mContextView.setVisibility(View.VISIBLE);
    }
 else {
      mDecorToolbar.setVisibility(View.VISIBLE);
      mContextView.setVisibility(View.GONE);
    }
  }
}
