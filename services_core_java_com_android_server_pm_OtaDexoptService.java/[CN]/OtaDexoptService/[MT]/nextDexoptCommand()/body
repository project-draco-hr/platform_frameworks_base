{
  if (mDexoptCommands == null) {
    throw new IllegalStateException("dexoptNextPackage() called before prepare()");
  }
  if (mDexoptCommands.isEmpty()) {
    return "(all done)";
  }
  String next=mDexoptCommands.remove(0);
  if (getAvailableSpace() > 0) {
    return next;
  }
 else {
    if (DEBUG_DEXOPT) {
      Log.w(TAG,"Not enough space for OTA dexopt, stopping with " + (mDexoptCommands.size() + 1) + " commands left.");
    }
    mDexoptCommands.clear();
    return "(no free space)";
  }
}
