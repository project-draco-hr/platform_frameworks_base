{
  XmlConfigSource source=new XmlConfigSource(getContext(),R.xml.multiple_configs);
  ApplicationConfig appConfig=new ApplicationConfig(source);
  assertTrue(appConfig.hasPerDomainConfigs());
  NetworkSecurityConfig config=appConfig.getConfigForHostname("android.com");
  NetworkSecurityConfig other=appConfig.getConfigForHostname("google.com");
  MoreAsserts.assertNotEqual(config,other);
  SSLContext context=TestUtils.getSSLContext(source);
  TestUtils.assertConnectionSucceeds(context,"android.com",443);
  TestUtils.assertConnectionSucceeds(context,"google.com",443);
  TestUtils.assertUrlConnectionSucceeds(context,"android.com",443);
}
