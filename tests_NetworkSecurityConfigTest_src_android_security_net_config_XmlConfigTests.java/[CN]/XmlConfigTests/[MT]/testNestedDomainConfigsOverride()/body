{
  XmlConfigSource source=new XmlConfigSource(getContext(),R.xml.nested_domains_override);
  ApplicationConfig appConfig=new ApplicationConfig(source);
  assertTrue(appConfig.hasPerDomainConfigs());
  NetworkSecurityConfig parent=appConfig.getConfigForHostname("android.com");
  NetworkSecurityConfig child=appConfig.getConfigForHostname("developer.android.com");
  MoreAsserts.assertNotEqual(parent,child);
  assertTrue(parent.isCleartextTrafficPermitted());
  assertFalse(child.isCleartextTrafficPermitted());
}
