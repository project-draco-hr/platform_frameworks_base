{
  Resources res=mStackView.getResources();
  TaskStackLayoutAlgorithm stackLayout=mStackView.getStackAlgorithm();
  TaskStackViewScroller stackScroller=mStackView.getScroller();
  int historyTransitionDuration=res.getInteger(R.integer.recents_history_transition_duration);
  List<TaskView> taskViews=mStackView.getTaskViews();
  int taskViewCount=taskViews.size();
  for (int i=taskViewCount - 1; i >= 0; i--) {
    TaskView tv=taskViews.get(i);
    Task task=tv.getTask();
    TaskViewAnimation taskAnimation=new TaskViewAnimation(historyTransitionDuration,PhoneStatusBar.ALPHA_OUT,postAnimationTrigger.decrementOnAnimationEnd());
    postAnimationTrigger.increment();
    stackLayout.getStackTransform(task,stackScroller.getStackScroll(),mTmpTransform,null);
    mTmpTransform.alpha=0f;
    mStackView.updateTaskViewToTransform(tv,mTmpTransform,taskAnimation);
  }
}
