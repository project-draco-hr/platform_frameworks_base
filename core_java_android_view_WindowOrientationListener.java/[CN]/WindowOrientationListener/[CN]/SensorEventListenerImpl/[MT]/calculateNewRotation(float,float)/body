{
  if (localLOGV)   Log.i(TAG,orientation + ", " + tiltAngle+ ", "+ mRotation);
  int thresholdRanges[][]=THRESHOLDS[mRotation];
  int row=-1;
  for (int i=0; i < thresholdRanges.length; i++) {
    if (orientation >= thresholdRanges[i][0] && orientation < thresholdRanges[i][1]) {
      row=i;
      break;
    }
  }
  if (row == -1)   return;
  int rotation=ROTATE_TO[mRotation][row];
  if (tiltAngle > MAX_TRANSITION_TILT[rotation]) {
    return;
  }
  if (localLOGV)   Log.i(TAG," new rotation = " + rotation);
  mRotation=rotation;
  mOrientationListener.onOrientationChanged(getCurrentRotation());
}
