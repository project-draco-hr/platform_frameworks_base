{
  final int currentRotation=mOrientationListener.mCurrentRotation;
  if (currentRotation >= 0) {
    if (rotation == currentRotation || rotation == (currentRotation + 1) % 4) {
      int lowerBound=rotation * 90 - 45 + ADJACENT_ORIENTATION_ANGLE_GAP / 2;
      if (rotation == 0) {
        if (orientationAngle >= 315 && orientationAngle < lowerBound + 360) {
          return false;
        }
      }
 else {
        if (orientationAngle < lowerBound) {
          return false;
        }
      }
    }
    if (rotation == currentRotation || rotation == (currentRotation + 3) % 4) {
      int upperBound=rotation * 90 + 45 - ADJACENT_ORIENTATION_ANGLE_GAP / 2;
      if (rotation == 0) {
        if (orientationAngle <= 45 && orientationAngle > upperBound) {
          return false;
        }
      }
 else {
        if (orientationAngle > upperBound) {
          return false;
        }
      }
    }
  }
  return true;
}
