{
  initStateMachine(ConnectivityManager.TETHERING_USB);
  doThrow(RemoteException.class).when(mNMService).tetherInterface(IFACE_NAME);
  dispatchCommand(TetherInterfaceStateMachine.CMD_TETHER_REQUESTED);
  InOrder usbTeardownOrder=inOrder(mNMService,mInterfaceConfiguration);
  usbTeardownOrder.verify(mInterfaceConfiguration).setInterfaceDown();
  usbTeardownOrder.verify(mNMService).setInterfaceConfig(IFACE_NAME,mInterfaceConfiguration);
  verify(mTetherHelper).notifyInterfaceTetheringReadiness(true,mTestedSm);
  verify(mTetherHelper).notifyInterfaceTetheringReadiness(false,mTestedSm);
  assertTrue("Expected to see an error reported",mTestedSm.isErrored());
}
