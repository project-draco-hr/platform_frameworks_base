{
  Location location=mReceivingLocationUpdates ? mLastLocationUpdate : null;
  if (location == null && !mFences.isEmpty()) {
    location=mLocationManager.getLastLocation();
  }
  if (location == null) {
    return null;
  }
  long now=SystemClock.elapsedRealtimeNanos();
  if (now - location.getElapsedRealtimeNanos() > MAX_AGE_NANOS) {
    return null;
  }
  return location;
}
