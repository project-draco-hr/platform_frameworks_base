{
  final long rotateBefore=currentTimeMillis - mRotateAgeMillis;
  final long deleteBefore=currentTimeMillis - mDeleteAgeMillis;
  final FileInfo info=new FileInfo(mPrefix);
  for (  String name : mBasePath.list()) {
    if (!info.parse(name))     continue;
    if (info.isActive()) {
      if (info.startMillis < rotateBefore) {
        info.endMillis=currentTimeMillis;
        final File file=new File(mBasePath,name);
        final File destFile=new File(mBasePath,info.build());
        file.renameTo(destFile);
      }
    }
 else     if (info.endMillis < deleteBefore) {
      final File file=new File(mBasePath,name);
      file.delete();
    }
  }
}
