{
  mBasePath=Preconditions.checkNotNull(basePath);
  mPrefix=Preconditions.checkNotNull(prefix);
  mRotateAgeMillis=rotateAgeMillis;
  mDeleteAgeMillis=deleteAgeMillis;
  mBasePath.mkdirs();
  for (  String name : mBasePath.list()) {
    if (!name.startsWith(mPrefix))     continue;
    if (name.endsWith(SUFFIX_BACKUP)) {
      if (LOGD)       Slog.d(TAG,"recovering " + name);
      final File backupFile=new File(mBasePath,name);
      final File file=new File(mBasePath,name.substring(0,name.length() - SUFFIX_BACKUP.length()));
      backupFile.renameTo(file);
    }
 else     if (name.endsWith(SUFFIX_NO_BACKUP)) {
      if (LOGD)       Slog.d(TAG,"recovering " + name);
      final File noBackupFile=new File(mBasePath,name);
      final File file=new File(mBasePath,name.substring(0,name.length() - SUFFIX_NO_BACKUP.length()));
      noBackupFile.delete();
      file.delete();
    }
  }
}
