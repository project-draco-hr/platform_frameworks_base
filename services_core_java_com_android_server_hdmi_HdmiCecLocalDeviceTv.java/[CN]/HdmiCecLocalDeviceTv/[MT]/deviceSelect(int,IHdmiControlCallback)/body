{
  assertRunOnServiceThread();
  ActiveSource active=getActiveSource();
  if (active.isValid() && targetAddress == active.logicalAddress) {
    invokeCallback(callback,HdmiControlManager.RESULT_SUCCESS);
    return;
  }
  if (targetAddress == Constants.ADDR_INTERNAL) {
    handleSelectInternalSource();
    setActiveSource(targetAddress,mService.getPhysicalAddress());
    setActivePath(mService.getPhysicalAddress());
    invokeCallback(callback,HdmiControlManager.RESULT_SUCCESS);
    return;
  }
  if (!mService.isControlEnabled()) {
    HdmiDeviceInfo info=getDeviceInfo(targetAddress);
    if (info != null) {
      setActiveSource(info);
    }
    invokeCallback(callback,HdmiControlManager.RESULT_INCORRECT_MODE);
    return;
  }
  HdmiDeviceInfo targetDevice=getDeviceInfo(targetAddress);
  if (targetDevice == null) {
    invokeCallback(callback,HdmiControlManager.RESULT_TARGET_NOT_AVAILABLE);
    return;
  }
  removeAction(DeviceSelectAction.class);
  addAndStartAction(new DeviceSelectAction(this,targetDevice,callback));
}
