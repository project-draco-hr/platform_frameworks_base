{
  assertRunOnServiceThread();
  if (getActivePortId() != HdmiConstants.INVALID_PORT_ID) {
    removeAction(RoutingControlAction.class);
    int newPath=mService.portIdToPath(getActivePortId());
    mService.sendCecCommand(HdmiCecMessageBuilder.buildRoutingChange(mAddress,getActivePath(),newPath));
    addAndStartAction(new RoutingControlAction(this,getActivePortId(),null));
  }
 else {
    int activePath=mService.getPhysicalAddress();
    setActivePath(activePath);
    mService.sendCecCommand(HdmiCecMessageBuilder.buildActiveSource(mAddress,activePath));
  }
}
