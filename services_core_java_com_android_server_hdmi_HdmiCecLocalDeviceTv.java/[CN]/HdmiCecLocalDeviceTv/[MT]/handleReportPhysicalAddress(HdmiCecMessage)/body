{
  assertRunOnServiceThread();
  int path=HdmiUtils.twoBytesToInt(message.getParams());
  int address=message.getSource();
  if (address == Constants.ADDR_UNREGISTERED) {
    int type=message.getParams()[2];
    if (type == HdmiCecDeviceInfo.DEVICE_PURE_CEC_SWITCH) {
      mCecSwitches.add(path);
      updateSafeDeviceInfoList();
      return true;
    }
 else     if (type == HdmiCecDeviceInfo.DEVICE_AUDIO_SYSTEM) {
      mCecSwitches.add(path);
    }
  }
  if (hasAction(DeviceDiscoveryAction.class)) {
    Slog.i(TAG,"Ignored while Device Discovery Action is in progress: " + message);
    return true;
  }
  if (!isInDeviceList(path,address)) {
    handleNewDeviceAtTheTailOfActivePath(path);
  }
  startNewDeviceAction(ActiveSource.of(address,path));
  return true;
}
