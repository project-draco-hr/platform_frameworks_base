{
  mEngineCapabilities=capabilities;
  if (!hasCapability(GPS_CAPABILITY_ON_DEMAND_TIME) && !mPeriodicTimeInjection) {
    mPeriodicTimeInjection=true;
    requestUtcTime();
  }
  mGpsMeasurementsProvider.onCapabilitiesUpdated((capabilities & GPS_CAPABILITY_MEASUREMENTS) == GPS_CAPABILITY_MEASUREMENTS);
  mGpsNavigationMessageProvider.onCapabilitiesUpdated((capabilities & GPS_CAPABILITY_NAV_MESSAGES) == GPS_CAPABILITY_NAV_MESSAGES);
}
