{
  reloadGpsProperties(mContext,mProperties);
  SubscriptionManager.from(mContext).addOnSubscriptionsChangedListener(mOnSubscriptionsChangedListener);
  IntentFilter intentFilter=new IntentFilter();
  intentFilter.addAction(Intents.DATA_SMS_RECEIVED_ACTION);
  intentFilter.addDataScheme("sms");
  intentFilter.addDataAuthority("localhost","7275");
  mContext.registerReceiver(mBroadcastReceiver,intentFilter,null,this);
  intentFilter=new IntentFilter();
  intentFilter.addAction(Intents.WAP_PUSH_RECEIVED_ACTION);
  try {
    intentFilter.addDataType("application/vnd.omaloc-supl-init");
  }
 catch (  IntentFilter.MalformedMimeTypeException e) {
    Log.w(TAG,"Malformed SUPL init mime type");
  }
  mContext.registerReceiver(mBroadcastReceiver,intentFilter,null,this);
  intentFilter=new IntentFilter();
  intentFilter.addAction(ALARM_WAKEUP);
  intentFilter.addAction(ALARM_TIMEOUT);
  intentFilter.addAction(ConnectivityManager.CONNECTIVITY_ACTION);
  intentFilter.addAction(PowerManager.ACTION_POWER_SAVE_MODE_CHANGED);
  intentFilter.addAction(Intent.ACTION_SCREEN_OFF);
  intentFilter.addAction(Intent.ACTION_SCREEN_ON);
  intentFilter.addAction(SIM_STATE_CHANGED);
  mContext.registerReceiver(mBroadcastReceiver,intentFilter,null,this);
  LocationManager locManager=(LocationManager)mContext.getSystemService(Context.LOCATION_SERVICE);
  long minTime=0;
  float minDistance=0;
  boolean oneShot=false;
  LocationRequest request=LocationRequest.createFromDeprecatedProvider(LocationManager.PASSIVE_PROVIDER,minTime,minDistance,oneShot);
  request.setHideFromAppOps(true);
  locManager.requestLocationUpdates(request,new NetworkLocationListener(),getLooper());
}
