{
  if (newName != mHeadsetName || newState != mHeadsetState) {
    boolean isUnplug=(newState == 0 && mHeadsetState == 1);
    mHeadsetName=newName;
    mHeadsetState=newState;
    mAudioRouteNeedsUpdate=true;
    sendIntent(isUnplug);
    if (isUnplug) {
      mWakeLock.acquire();
      mHandler.sendEmptyMessageDelayed(0,1000);
    }
 else {
      updateAudioRoute();
    }
  }
}
