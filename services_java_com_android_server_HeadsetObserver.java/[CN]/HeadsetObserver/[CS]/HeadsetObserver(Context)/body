{
  mContext=context;
  PowerManager pm=(PowerManager)context.getSystemService(Context.POWER_SERVICE);
  mWakeLock=pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,"HeadsetObserver");
  mWakeLock.setReferenceCounted(false);
  startObserving(HEADSET_UEVENT_MATCH);
  mHandleTTY=context.getResources().getBoolean(com.android.internal.R.bool.tty_mode_uses_headset_events);
  mTTYState=BIT_TTY_OFF;
  init();
}
