{
  final char NE=(char)ESCAPE_TABLE.length;
  final String[] escapes=ESCAPE_TABLE;
  int end=start + len;
  int lastPos=start;
  int pos;
  for (pos=start; pos < end; pos++) {
    char c=buf[pos];
    if (c >= NE)     continue;
    String escape=escapes[c];
    if (escape == null)     continue;
    if (lastPos < pos)     append(buf,lastPos,pos - lastPos);
    lastPos=pos;
    append(escape);
  }
  if (lastPos < pos)   append(buf,lastPos,pos - lastPos);
}
