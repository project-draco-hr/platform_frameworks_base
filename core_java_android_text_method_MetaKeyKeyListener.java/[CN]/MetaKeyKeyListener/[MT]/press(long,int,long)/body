{
  if ((state & (((long)what) << PRESSED_SHIFT)) != 0)   ;
 else   if ((state & (((long)what) << RELEASED_SHIFT)) != 0)   state=(state & ~mask) | what | (((long)what) << LOCKED_SHIFT);
 else   if ((state & (((long)what) << USED_SHIFT)) != 0)   ;
 else   if ((state & (((long)what) << LOCKED_SHIFT)) != 0)   state=state & ~mask;
 else   state=state | what | (((long)what) << PRESSED_SHIFT);
  return state;
}
