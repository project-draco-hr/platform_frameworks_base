{
switch (meta) {
case META_SHIFT_ON:
    if ((state & META_CAP_LOCKED) != 0)     return 2;
  if ((state & META_SHIFT_ON) != 0)   return 1;
return 0;
case META_ALT_ON:
if ((state & META_ALT_LOCKED) != 0) return 2;
if ((state & META_ALT_ON) != 0) return 1;
return 0;
case META_SYM_ON:
if ((state & META_SYM_LOCKED) != 0) return 2;
if ((state & META_SYM_ON) != 0) return 1;
return 0;
default :
return 0;
}
}
