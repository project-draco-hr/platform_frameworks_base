{
  if (VDBG)   Log.v(TAG,"publish(): config=" + publishConfig);
  if (publishConfig.mPublishType == PublishConfig.PUBLISH_TYPE_UNSOLICITED && publishConfig.mRxFilterLength != 0) {
    throw new IllegalArgumentException("Invalid publish config: UNSOLICITED " + "publishes (active) can't have an Rx filter");
  }
  if (publishConfig.mPublishType == PublishConfig.PUBLISH_TYPE_SOLICITED && publishConfig.mTxFilterLength != 0) {
    throw new IllegalArgumentException("Invalid publish config: SOLICITED " + "publishes (passive) can't have a Tx filter");
  }
  if (callback == null) {
    throw new IllegalArgumentException("Invalid callback - must not be null");
  }
  if (mClientId == -1) {
    Log.e(TAG,"publish(): called without an initial connect()!");
    throw new IllegalStateException("Calling publish() without a connect() first!");
  }
  try {
    mService.publish(mClientId,publishConfig,new WifiNanSessionCallbackProxy(mLooper,true,callback));
  }
 catch (  RemoteException e) {
    throw e.rethrowFromSystemServer();
  }
}
