{
  final UsbManager usbManager=getContext().getSystemService(UsbManager.class);
  while (true) {
    final HashMap<String,UsbDevice> devices=usbManager.getDeviceList();
    if (devices.size() == 0) {
      show("Wait for devices.");
      Thread.sleep(1000);
      continue;
    }
    final UsbDevice device=devices.values().iterator().next();
    final UsbDeviceConnection connection=usbManager.openDevice(device);
    for (int i=0; i < device.getInterfaceCount(); i++) {
      connection.claimInterface(device.getInterface(i),true);
      connection.releaseInterface(device.getInterface(i));
    }
    connection.close();
    return device;
  }
}
