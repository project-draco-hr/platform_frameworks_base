{
  final CancellationSignal signal=new CancellationSignal();
  final FutureTask<Boolean> future=new FutureTask<Boolean>(new Callable<Boolean>(){
    @Override public Boolean call() throws IOException {
      try {
        while (true) {
          mManager.readEvent(mUsbDevice.getDeviceId(),signal);
        }
      }
 catch (      OperationCanceledException exception) {
        return true;
      }
    }
  }
);
  final Thread thread=new Thread(future);
  thread.start();
  Thread.sleep(TIMEOUT_MS);
  signal.cancel();
  assertTrue(future.get(TIMEOUT_MS,TimeUnit.MILLISECONDS));
}
