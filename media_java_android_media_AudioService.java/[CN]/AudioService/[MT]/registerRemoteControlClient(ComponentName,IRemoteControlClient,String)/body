{
synchronized (mAudioFocusLock) {
synchronized (mRCStack) {
      Iterator<RemoteControlStackEntry> stackIterator=mRCStack.iterator();
      while (stackIterator.hasNext()) {
        RemoteControlStackEntry rcse=stackIterator.next();
        if (rcse.mReceiverComponent.equals(eventReceiver)) {
          if (rcse.mRcClientDeathHandler != null) {
            rcse.unlinkToRcClientDeath();
          }
          rcse.mRcClientRef=new SoftReference<IRemoteControlClient>(rcClient);
          rcse.mCallingPackageName=callingPackageName;
          rcse.mCallingUid=Binder.getCallingUid();
          if (rcClient == null) {
            break;
          }
          IBinder b=rcClient.asBinder();
          RcClientDeathHandler rcdh=new RcClientDeathHandler(b,rcse.mReceiverComponent);
          try {
            b.linkToDeath(rcdh,0);
          }
 catch (          RemoteException e) {
            Log.w(TAG,"registerRemoteControlClient() has a dead client " + b);
            rcse.mRcClientRef.clear();
          }
          rcse.mRcClientDeathHandler=rcdh;
          break;
        }
      }
      if (isCurrentRcController(eventReceiver)) {
        checkUpdateRemoteControlDisplay();
      }
    }
  }
}
