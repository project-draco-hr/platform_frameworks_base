{
  boolean isTopOfStackForClientToRemove=!mFocusStack.isEmpty() && mFocusStack.peek().mSourceRef.equals(cb);
  Iterator<FocusStackEntry> stackIterator=mFocusStack.iterator();
  while (stackIterator.hasNext()) {
    FocusStackEntry fse=(FocusStackEntry)stackIterator.next();
    if (fse.mSourceRef.equals(cb)) {
      Log.i(TAG," AudioFocus  abandonAudioFocus(): removing entry for " + fse.mClientId);
      stackIterator.remove();
    }
  }
  if (isTopOfStackForClientToRemove) {
    notifyTopOfAudioFocusStack();
synchronized (mRCStack) {
      checkUpdateRemoteControlDisplay_syncRcs(RC_INFO_ALL);
    }
  }
}
