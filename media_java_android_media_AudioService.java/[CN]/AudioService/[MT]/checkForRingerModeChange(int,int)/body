{
  boolean adjustVolumeIndex=true;
  int newRingerMode=mRingerMode;
  if (mRingerMode == AudioManager.RINGER_MODE_NORMAL && (oldIndex + 5) / 10 == 1 && direction == AudioManager.ADJUST_LOWER) {
    newRingerMode=AudioManager.RINGER_MODE_VIBRATE;
  }
 else   if (mRingerMode == AudioManager.RINGER_MODE_VIBRATE) {
    if (direction == AudioManager.ADJUST_RAISE) {
      newRingerMode=AudioManager.RINGER_MODE_NORMAL;
    }
 else     if (direction == AudioManager.ADJUST_LOWER) {
      newRingerMode=AudioManager.RINGER_MODE_SILENT;
    }
  }
 else   if (direction == AudioManager.ADJUST_RAISE && mRingerMode == AudioManager.RINGER_MODE_SILENT) {
    newRingerMode=AudioManager.RINGER_MODE_VIBRATE;
  }
  if (newRingerMode != mRingerMode) {
    setRingerMode(newRingerMode);
    adjustVolumeIndex=false;
  }
  return adjustVolumeIndex;
}
