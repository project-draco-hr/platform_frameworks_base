{
synchronized (mSafeMediaVolumeState) {
    if ((mSafeMediaVolumeState != SAFE_MEDIA_VOLUME_NOT_CONFIGURED) && (mSafeMediaVolumeState != SAFE_MEDIA_VOLUME_DISABLED)) {
      if (on && (mSafeMediaVolumeState == SAFE_MEDIA_VOLUME_INACTIVE)) {
        mSafeMediaVolumeState=SAFE_MEDIA_VOLUME_ACTIVE;
        enforceSafeMediaVolume();
      }
 else       if (!on && (mSafeMediaVolumeState == SAFE_MEDIA_VOLUME_ACTIVE)) {
        mSafeMediaVolumeState=SAFE_MEDIA_VOLUME_INACTIVE;
        mMusicActiveMs=0;
        sendMsg(mAudioHandler,MSG_CHECK_MUSIC_ACTIVE,SENDMSG_REPLACE,0,0,null,MUSIC_ACTIVE_POLL_PERIOD_MS);
      }
    }
  }
}
