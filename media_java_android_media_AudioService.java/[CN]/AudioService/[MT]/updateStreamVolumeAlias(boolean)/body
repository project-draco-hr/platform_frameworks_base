{
  int dtmfStreamAlias;
switch (mPlatformType) {
case PLATFORM_VOICE:
    mStreamVolumeAlias=STREAM_VOLUME_ALIAS_VOICE;
  dtmfStreamAlias=AudioSystem.STREAM_RING;
break;
case PLATFORM_TELEVISION:
mStreamVolumeAlias=STREAM_VOLUME_ALIAS_TELEVISION;
dtmfStreamAlias=AudioSystem.STREAM_MUSIC;
break;
default :
mStreamVolumeAlias=STREAM_VOLUME_ALIAS_DEFAULT;
dtmfStreamAlias=AudioSystem.STREAM_MUSIC;
}
if (isPlatformTelevision()) {
mRingerModeAffectedStreams=0;
}
 else {
if (isInCommunication()) {
dtmfStreamAlias=AudioSystem.STREAM_VOICE_CALL;
mRingerModeAffectedStreams&=~(1 << AudioSystem.STREAM_DTMF);
}
 else {
mRingerModeAffectedStreams|=(1 << AudioSystem.STREAM_DTMF);
}
}
mStreamVolumeAlias[AudioSystem.STREAM_DTMF]=dtmfStreamAlias;
if (updateVolumes) {
mStreamStates[AudioSystem.STREAM_DTMF].setAllIndexes(mStreamStates[dtmfStreamAlias]);
setRingerModeInt(getRingerModeInternal(),false);
sendMsg(mAudioHandler,MSG_SET_ALL_VOLUMES,SENDMSG_QUEUE,0,0,mStreamStates[AudioSystem.STREAM_DTMF],0);
}
}
