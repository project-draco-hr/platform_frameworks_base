{
  if (mUseFixedVolume) {
    return;
  }
  if (streamType == AudioManager.USE_DEFAULT_STREAM_TYPE) {
    streamType=getActiveStreamType(streamType);
  }
  int streamAlias=mStreamVolumeAlias[streamType];
  if (isStreamAffectedByMute(streamAlias)) {
    if (streamAlias == AudioSystem.STREAM_MUSIC) {
      setSystemAudioMute(state);
    }
    for (int stream=0; stream < mStreamStates.length; stream++) {
      if (streamAlias == mStreamVolumeAlias[stream]) {
        mStreamStates[stream].mute(cb,state);
        Intent intent=new Intent(AudioManager.STREAM_MUTE_CHANGED_ACTION);
        intent.putExtra(AudioManager.EXTRA_VOLUME_STREAM_TYPE,stream);
        intent.putExtra(AudioManager.EXTRA_STREAM_VOLUME_MUTED,state);
        sendBroadcastToAll(intent);
      }
    }
  }
}
