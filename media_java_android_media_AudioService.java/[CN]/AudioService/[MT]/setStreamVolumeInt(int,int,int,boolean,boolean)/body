{
  VolumeStreamState streamState=mStreamStates[streamType];
  if (streamState.muteCount() != 0) {
    if (index != 0) {
      streamState.setLastAudibleIndex(index,device);
      sendMsg(mAudioHandler,MSG_PERSIST_VOLUME,SENDMSG_REPLACE,PERSIST_LAST_AUDIBLE,device,streamState,PERSIST_DELAY);
    }
  }
 else {
    if (streamState.setIndex(index,device,lastAudible) || force) {
      sendMsg(mAudioHandler,MSG_SET_DEVICE_VOLUME,SENDMSG_NOOP,device,0,streamState,0);
    }
  }
}
