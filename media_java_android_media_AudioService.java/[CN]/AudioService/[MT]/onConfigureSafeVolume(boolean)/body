{
synchronized (mSafeMediaVolumeState) {
    int mcc=mContext.getResources().getConfiguration().mcc;
    if ((mMcc != mcc) || ((mMcc == 0) && force)) {
      mSafeMediaVolumeIndex=mContext.getResources().getInteger(com.android.internal.R.integer.config_safe_media_volume_index) * 10;
      boolean safeMediaVolumeEnabled=mContext.getResources().getBoolean(com.android.internal.R.bool.config_safe_media_volume_enabled);
      int persistedState;
      if (safeMediaVolumeEnabled) {
        persistedState=SAFE_MEDIA_VOLUME_ACTIVE;
        if (mSafeMediaVolumeState != SAFE_MEDIA_VOLUME_INACTIVE) {
          mSafeMediaVolumeState=SAFE_MEDIA_VOLUME_ACTIVE;
          enforceSafeMediaVolume();
        }
      }
 else {
        persistedState=SAFE_MEDIA_VOLUME_DISABLED;
        mSafeMediaVolumeState=SAFE_MEDIA_VOLUME_DISABLED;
      }
      mMcc=mcc;
      sendMsg(mAudioHandler,MSG_PERSIST_SAFE_VOLUME_STATE,SENDMSG_QUEUE,persistedState,0,null,0);
    }
  }
}
