{
  int numStreamTypes=AudioSystem.getNumStreamTypes();
  VolumeStreamState[] streams=mStreamStates=new VolumeStreamState[numStreamTypes];
  for (int i=0; i < numStreamTypes; i++) {
    streams[i]=new VolumeStreamState(System.VOLUME_SETTINGS[STREAM_VOLUME_ALIAS[i]],i);
  }
  for (int i=0; i < numStreamTypes; i++) {
    int device=getDeviceForStream(i);
    if (STREAM_VOLUME_ALIAS[i] != i) {
      int index=rescaleIndex(streams[i].getIndex(device,false),STREAM_VOLUME_ALIAS[i],i);
      streams[i].mIndex.put(device,streams[i].getValidIndex(index));
      streams[i].applyDeviceVolume(device);
      index=rescaleIndex(streams[i].getIndex(device,true),STREAM_VOLUME_ALIAS[i],i);
      streams[i].mLastAudibleIndex.put(device,streams[i].getValidIndex(index));
    }
  }
}
