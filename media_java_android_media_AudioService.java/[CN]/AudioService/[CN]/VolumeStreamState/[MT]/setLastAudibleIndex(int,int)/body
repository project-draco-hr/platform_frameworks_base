{
  boolean currentDevice=(device == getDeviceForStream(mStreamType));
  int numStreamTypes=AudioSystem.getNumStreamTypes();
  for (int streamType=numStreamTypes - 1; streamType >= 0; streamType--) {
    if (streamType != mStreamType && mStreamVolumeAlias[streamType] == mStreamType) {
      int scaledIndex=rescaleIndex(index,mStreamType,streamType);
      mStreamStates[streamType].setLastAudibleIndex(scaledIndex,device);
      if (currentDevice) {
        mStreamStates[streamType].setLastAudibleIndex(scaledIndex,getDeviceForStream(streamType));
      }
    }
  }
  mLastAudibleIndex.put(device,getValidIndex(index));
}
