{
synchronized (VolumeStreamState.class) {
    int srcStreamType=srcStream.getStreamType();
    int index=srcStream.getIndex(AudioSystem.DEVICE_OUT_DEFAULT);
    index=rescaleIndex(index,srcStreamType,mStreamType);
    Set set=mIndex.entrySet();
    Iterator i=set.iterator();
    while (i.hasNext()) {
      Map.Entry entry=(Map.Entry)i.next();
      entry.setValue(index);
    }
    set=srcStream.mIndex.entrySet();
    i=set.iterator();
    while (i.hasNext()) {
      Map.Entry entry=(Map.Entry)i.next();
      int device=((Integer)entry.getKey()).intValue();
      index=((Integer)entry.getValue()).intValue();
      index=rescaleIndex(index,srcStreamType,mStreamType);
      setIndex(index,device);
    }
  }
}
