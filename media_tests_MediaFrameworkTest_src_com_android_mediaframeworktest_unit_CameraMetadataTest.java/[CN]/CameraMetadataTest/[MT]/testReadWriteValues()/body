{
  final byte ANDROID_COLOR_CORRECTION_MODE_HIGH_QUALITY=2;
  byte[] valueResult;
  assertEquals(0,mMetadata.getEntryCount());
  assertEquals(true,mMetadata.isEmpty());
  assertEquals(null,mMetadata.readValues(ANDROID_COLOR_CORRECTION_MODE));
  mMetadata.writeValues(ANDROID_COLOR_CORRECTION_MODE,null);
  assertEquals(null,mMetadata.readValues(ANDROID_COLOR_CORRECTION_MODE));
  mMetadata.writeValues(ANDROID_COLOR_CORRECTION_MODE,new byte[]{});
  valueResult=mMetadata.readValues(ANDROID_COLOR_CORRECTION_MODE);
  assertNotNull(valueResult);
  assertEquals(0,valueResult.length);
  assertEquals(1,mMetadata.getEntryCount());
  assertEquals(false,mMetadata.isEmpty());
  mMetadata.writeValues(ANDROID_COLOR_CORRECTION_MODE,new byte[]{ANDROID_COLOR_CORRECTION_MODE_HIGH_QUALITY});
  valueResult=mMetadata.readValues(ANDROID_COLOR_CORRECTION_MODE);
  assertNotNull(valueResult);
  assertEquals(1,valueResult.length);
  assertEquals(ANDROID_COLOR_CORRECTION_MODE_HIGH_QUALITY,valueResult[0]);
  assertEquals(1,mMetadata.getEntryCount());
  assertEquals(false,mMetadata.isEmpty());
  final float[] colorCorrectionGains=new float[]{1.0f,2.0f,3.0f,4.0f};
  byte[] colorCorrectionGainsAsByteArray=new byte[colorCorrectionGains.length * 4];
  ByteBuffer colorCorrectionGainsByteBuffer=ByteBuffer.wrap(colorCorrectionGainsAsByteArray).order(ByteOrder.nativeOrder());
  for (  float f : colorCorrectionGains)   colorCorrectionGainsByteBuffer.putFloat(f);
  assertNull(mMetadata.readValues(ANDROID_COLOR_CORRECTION_GAINS));
  mMetadata.writeValues(ANDROID_COLOR_CORRECTION_GAINS,colorCorrectionGainsAsByteArray);
  assertArrayEquals(colorCorrectionGainsAsByteArray,mMetadata.readValues(ANDROID_COLOR_CORRECTION_GAINS));
  assertEquals(2,mMetadata.getEntryCount());
  assertEquals(false,mMetadata.isEmpty());
  mMetadata.writeValues(ANDROID_COLOR_CORRECTION_GAINS,null);
  assertNull(mMetadata.readValues(ANDROID_COLOR_CORRECTION_GAINS));
  assertEquals(1,mMetadata.getEntryCount());
}
