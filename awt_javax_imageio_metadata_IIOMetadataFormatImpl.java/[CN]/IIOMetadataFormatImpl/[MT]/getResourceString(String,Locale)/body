{
  if (locale == null) {
    locale=Locale.getDefault();
  }
  ClassLoader contextClassloader=AccessController.doPrivileged(new PrivilegedAction<ClassLoader>(){
    public ClassLoader run(){
      return Thread.currentThread().getContextClassLoader();
    }
  }
);
  ResourceBundle rb;
  try {
    rb=ResourceBundle.getBundle(resourceBaseName,locale,contextClassloader);
  }
 catch (  MissingResourceException e) {
    try {
      rb=ResourceBundle.getBundle(resourceBaseName,locale);
    }
 catch (    MissingResourceException e1) {
      return null;
    }
  }
  try {
    return rb.getString(key);
  }
 catch (  MissingResourceException e) {
    return null;
  }
catch (  ClassCastException e) {
    return null;
  }
}
