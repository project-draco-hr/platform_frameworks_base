{
  final String action=intent.getAction();
  if (AudioManager.VOLUME_CHANGED_ACTION.equals(action)) {
    int streamType=intent.getIntExtra(AudioManager.EXTRA_VOLUME_STREAM_TYPE,-1);
    int streamValue=intent.getIntExtra(AudioManager.EXTRA_VOLUME_STREAM_VALUE,-1);
    final boolean streamMatch=mNotificationOrRing ? isNotificationOrRing(streamType) : (streamType == mStreamType);
    if (mSeekBar != null && streamMatch && streamValue != -1) {
      final boolean muted=mAudioManager.isStreamMute(mStreamType) || streamValue == 0;
      mUiHandler.postUpdateSlider(streamValue,muted);
    }
  }
 else   if (AudioManager.INTERNAL_RINGER_MODE_CHANGED_ACTION.equals(action)) {
    if (mNotificationOrRing) {
      mRingerMode=mAudioManager.getRingerModeInternal();
    }
    if (mAffectedByRingerMode) {
      updateSlider();
    }
  }
}
