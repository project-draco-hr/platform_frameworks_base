{
  final ObbObserver observer=new ObbObserver();
  assertTrue("unmountObb call on test1.obb should succeed",sm.unmountObb(file.getPath(),false,observer));
  assertTrue("Unmount should have completed",observer.waitForCompletion());
  assertEquals(expectedState,observer.getState());
  if (expectedState == OnObbStateChangeListener.UNMOUNTED) {
    assertFalse("OBB should not be mounted",sm.isObbMounted(file.getPath()));
  }
}
