{
  int sampleTrackIndex=mMediaExtractor.getSampleTrackIndex();
  if (sampleTrackIndex >= 0) {
    if (sampleTrackIndex == mVideoTrackIndex) {
      mVideoTrackDecoder.feedInput(mMediaExtractor);
    }
 else     if (sampleTrackIndex == mAudioTrackIndex) {
      mAudioTrackDecoder.feedInput(mMediaExtractor);
    }
  }
 else   if (!mSignaledEndOfInput) {
    if (mVideoTrackDecoder != null) {
      mVideoTrackDecoder.signalEndOfInput();
    }
    if (mAudioTrackDecoder != null) {
      mAudioTrackDecoder.signalEndOfInput();
    }
    mSignaledEndOfInput=true;
  }
  if (mVideoTrackDecoder != null) {
    mVideoTrackDecoder.drainOutputBuffer();
  }
  if (mAudioTrackDecoder != null) {
    mAudioTrackDecoder.drainOutputBuffer();
  }
}
