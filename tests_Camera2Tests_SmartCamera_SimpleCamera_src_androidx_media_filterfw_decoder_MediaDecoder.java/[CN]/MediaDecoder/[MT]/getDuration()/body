{
  if (!mStarted) {
    throw new IllegalStateException("MediaDecoder has not been started");
  }
  MediaFormat mediaFormat=mMediaExtractor.getTrackFormat(mVideoTrackIndex != -1 ? mVideoTrackIndex : mAudioTrackIndex);
  return mediaFormat.getLong(MediaFormat.KEY_DURATION) * 1000;
}
