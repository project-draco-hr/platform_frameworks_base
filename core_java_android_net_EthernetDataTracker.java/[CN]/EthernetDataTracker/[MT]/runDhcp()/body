{
  Thread dhcpThread=new Thread(new Runnable(){
    public void run(){
      DhcpResults dhcpResults=new DhcpResults();
      mNetworkInfo.setDetailedState(DetailedState.OBTAINING_IPADDR,null,mHwAddr);
      if (!NetworkUtils.runDhcp(mIface,dhcpResults)) {
        Log.e(TAG,"DHCP request error:" + NetworkUtils.getDhcpError());
        mNetworkInfo.setDetailedState(DetailedState.DISCONNECTED,null,mHwAddr);
        return;
      }
      mLinkProperties=dhcpResults.linkProperties;
      mNetworkInfo.setIsAvailable(true);
      mNetworkInfo.setDetailedState(DetailedState.CONNECTED,null,mHwAddr);
      Message msg=mCsHandler.obtainMessage(EVENT_STATE_CHANGED,mNetworkInfo);
      msg.sendToTarget();
    }
  }
);
  dhcpThread.start();
}
