{
  mContext.enforceCallingOrSelfPermission(Manifest.permission.READ_SYNC_STATS,"no permission to read the sync stats");
  int userId=UserHandle.getCallingUserId();
  int callingUid=Binder.getCallingUid();
  long identityToken=clearCallingIdentity();
  try {
    SyncManager syncManager=getSyncManager();
    if (syncManager == null) {
      return false;
    }
    if (cname == null) {
      return syncManager.getSyncStorageEngine().isSyncActive(new SyncStorageEngine.EndPoint(account,authority,userId));
    }
 else     if (account == null && authority == null) {
      verifySignatureForPackage(callingUid,cname.getPackageName(),"isSyncActive");
      return syncManager.getSyncStorageEngine().isSyncActive(new SyncStorageEngine.EndPoint(cname,userId));
    }
  }
  finally {
    restoreCallingIdentity(identityToken);
  }
  return false;
}
