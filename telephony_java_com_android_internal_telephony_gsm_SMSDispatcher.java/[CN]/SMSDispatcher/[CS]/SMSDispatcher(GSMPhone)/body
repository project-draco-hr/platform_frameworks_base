{
  mPhone=phone;
  mContext=phone.getContext();
  mResolver=mContext.getContentResolver();
  mCm=phone.mCM;
  mSTracker=null;
  mCounter=new SmsCounter(DEFAULT_SMS_MAX_ALLOWED,DEFAULT_SMS_CHECK_PERIOD);
  mCm.setOnNewSMS(this,EVENT_NEW_SMS,null);
  mCm.setOnSmsStatus(this,EVENT_NEW_SMS_STATUS_REPORT,null);
  mCm.setOnSimSmsFull(this,EVENT_SIM_FULL,null);
  sConcatenatedRef=new Random().nextInt(256);
}
