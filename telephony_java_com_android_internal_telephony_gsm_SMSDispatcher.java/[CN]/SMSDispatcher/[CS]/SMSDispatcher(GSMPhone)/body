{
  mPhone=phone;
  mContext=phone.getContext();
  mResolver=mContext.getContentResolver();
  mCm=phone.mCM;
  mSTracker=null;
  int check_period=Settings.Gservices.getInt(mResolver,Settings.Gservices.SMS_OUTGOING_CEHCK_INTERVAL_MS,DEFAULT_SMS_CHECK_PERIOD);
  int max_count=Settings.Gservices.getInt(mResolver,Settings.Gservices.SMS_OUTGOING_CEHCK_MAX_COUNT,DEFAULT_SMS_MAX_COUNT);
  mCounter=new SmsCounter(max_count,check_period);
  mCm.setOnNewSMS(this,EVENT_NEW_SMS,null);
  mCm.setOnSmsStatus(this,EVENT_NEW_SMS_STATUS_REPORT,null);
  mCm.setOnSimSmsFull(this,EVENT_SIM_FULL,null);
  sConcatenatedRef=new Random().nextInt(256);
}
