{
  final Drawable d=getDrawable();
  if (d.getLevelFloat() == 0) {
    return PixelFormat.TRANSPARENT;
  }
  final int opacity=d.getOpacity();
  if (opacity == PixelFormat.OPAQUE && d.getLevelFloat() < MAX_LEVEL_FLOAT) {
    return PixelFormat.TRANSLUCENT;
  }
  return opacity;
}
