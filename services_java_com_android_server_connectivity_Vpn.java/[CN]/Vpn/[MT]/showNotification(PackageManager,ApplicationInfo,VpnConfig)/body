{
  NotificationManager nm=(NotificationManager)mContext.getSystemService(Context.NOTIFICATION_SERVICE);
  if (nm != null) {
    Drawable icon=app.loadIcon(pm);
    Bitmap bitmap=null;
    if (icon.getIntrinsicWidth() > 0 && icon.getIntrinsicHeight() > 0) {
      int width=mContext.getResources().getDimensionPixelSize(android.R.dimen.notification_large_icon_width);
      int height=mContext.getResources().getDimensionPixelSize(android.R.dimen.notification_large_icon_height);
      icon.setBounds(0,0,width,height);
      bitmap=Bitmap.createBitmap(width,height,Bitmap.Config.ARGB_8888);
      icon.draw(new Canvas(bitmap));
    }
    String label=app.loadLabel(pm).toString();
    String text=(config.sessionName == null) ? mContext.getString(R.string.vpn_text) : mContext.getString(R.string.vpn_text_long,config.sessionName);
    long identity=Binder.clearCallingIdentity();
    Notification notification=new Notification.Builder(mContext).setSmallIcon(R.drawable.vpn_connected).setLargeIcon(bitmap).setTicker(mContext.getString(R.string.vpn_ticker,label)).setContentTitle(mContext.getString(R.string.vpn_title,label)).setContentText(text).setContentIntent(VpnConfig.getIntentForNotification(mContext,config)).setDefaults(Notification.DEFAULT_ALL).setOngoing(true).getNotification();
    nm.notify(R.drawable.vpn_connected,notification);
    Binder.restoreCallingIdentity(identity);
  }
}
