{
  if (DBG) {
    Log.d(LOG_TAG,"got EVENT_APN_ENABLE_REQUEST with apnType = " + apnId + " and enable = "+ enabled);
    Log.d(LOG_TAG,"dataEnabled[apnId] = " + dataEnabled[apnId] + ", enabledCount = "+ enabledCount);
  }
  if (enabled == APN_ENABLED) {
    if (!dataEnabled[apnId]) {
      mRequestedApnType=apnIdToType(apnId);
      onEnableNewApn();
      dataEnabled[apnId]=true;
      enabledCount++;
    }
    onTrySetupData(null);
  }
 else {
    if (dataEnabled[apnId]) {
      dataEnabled[apnId]=false;
      enabledCount--;
      if (enabledCount == 0) {
        onCleanUpConnection(true,Phone.REASON_DATA_DISABLED);
      }
 else       if (dataEnabled[APN_DEFAULT_ID] == true) {
        mRequestedApnType=Phone.APN_TYPE_DEFAULT;
        onEnableNewApn();
      }
    }
  }
}
