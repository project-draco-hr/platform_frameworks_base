{
  if (DBG) {
    Log.d(LOG_TAG,"EVENT_APN_ENABLE_REQUEST " + apnId + ", "+ enabled);
    Log.d(LOG_TAG," dataEnabled = " + dataEnabled[apnId] + ", enabledCount = "+ enabledCount+ ", isApnTypeActive = "+ isApnTypeActive(apnIdToType(apnId)));
  }
  if (enabled == APN_ENABLED) {
    if (!dataEnabled[apnId]) {
      dataEnabled[apnId]=true;
      enabledCount++;
    }
    String type=apnIdToType(apnId);
    if (!isApnTypeActive(type)) {
      mRequestedApnType=type;
      onEnableNewApn();
    }
  }
 else {
    if (dataEnabled[apnId]) {
      dataEnabled[apnId]=false;
      enabledCount--;
      if (enabledCount == 0) {
        onCleanUpConnection(true,Phone.REASON_DATA_DISABLED);
      }
 else       if (dataEnabled[APN_DEFAULT_ID] == true && !isApnTypeActive(Phone.APN_TYPE_DEFAULT)) {
        mRequestedApnType=Phone.APN_TYPE_DEFAULT;
        onEnableNewApn();
      }
    }
  }
}
