{
  Intent result=defIntent;
  if (mReplacementExtras != null) {
    final Bundle replExtras=mReplacementExtras.getBundle(aInfo.packageName);
    if (replExtras != null) {
      result=new Intent(defIntent);
      result.putExtras(replExtras);
    }
  }
  if (aInfo.name.equals(IntentForwarderActivity.FORWARD_INTENT_TO_PARENT) || aInfo.name.equals(IntentForwarderActivity.FORWARD_INTENT_TO_MANAGED_PROFILE)) {
    result=Intent.createChooser(result,getIntent().getCharSequenceExtra(Intent.EXTRA_TITLE));
  }
  return result;
}
