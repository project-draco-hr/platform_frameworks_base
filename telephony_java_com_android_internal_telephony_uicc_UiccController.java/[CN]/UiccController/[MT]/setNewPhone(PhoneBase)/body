{
  if (phone == null) {
    throw new RuntimeException("Phone can't be null in UiccController");
  }
  if (DBG)   log("setNewPhone");
  if (mCurrentPhone != phone) {
    if (mIccCard != null) {
      if (DBG)       log("Disposing card since phone object changed");
      mIccCard.dispose();
      mIccCard=null;
    }
    sendMessage(obtainMessage(EVENT_ICC_STATUS_CHANGED));
    mCurrentPhone=phone;
    if (!mRegisteredWithCi) {
      mCi=mCurrentPhone.mCM;
      mCi.registerForIccStatusChanged(this,EVENT_ICC_STATUS_CHANGED,null);
      mCi.registerForOn(this,EVENT_ICC_STATUS_CHANGED,null);
      mRegisteredWithCi=true;
    }
  }
}
