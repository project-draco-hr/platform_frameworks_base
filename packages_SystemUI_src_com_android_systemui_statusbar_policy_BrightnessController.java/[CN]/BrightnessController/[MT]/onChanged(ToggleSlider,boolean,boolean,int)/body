{
  setMode(automatic ? Settings.System.SCREEN_BRIGHTNESS_MODE_AUTOMATIC : Settings.System.SCREEN_BRIGHTNESS_MODE_MANUAL);
  if (!automatic) {
    final int val=value + mMinimumBacklight;
    setBrightness(val);
    if (!tracking) {
      AsyncTask.execute(new Runnable(){
        public void run(){
          Settings.System.putInt(mContext.getContentResolver(),Settings.System.SCREEN_BRIGHTNESS,val);
        }
      }
);
    }
  }
  for (  BrightnessStateChangeCallback cb : mChangeCallbacks) {
    cb.onBrightnessLevelChanged();
  }
}
