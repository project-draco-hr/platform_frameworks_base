{
  super.onCreate(savedInstanceState);
  ActivityManager am=(ActivityManager)getSystemService(ACTIVITY_SERVICE);
  LinearLayout top=new LinearLayout(this);
  top.setOrientation(LinearLayout.VERTICAL);
  List<ActivityManager.RecentTaskInfo> recents=am.getRecentTasks(10,ActivityManager.RECENT_WITH_EXCLUDED);
  if (recents != null) {
    for (int i=0; i < recents.size(); i++) {
      ActivityManager.RecentTaskInfo r=recents.get(i);
      ActivityManager.TaskThumbnails tt=r != null ? am.getTaskThumbnails(r.persistentId) : null;
      TextView tv=new TextView(this);
      tv.setText(r.baseIntent.getComponent().flattenToShortString());
      top.addView(tv,new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT,LinearLayout.LayoutParams.WRAP_CONTENT));
      LinearLayout item=new LinearLayout(this);
      item.setOrientation(LinearLayout.HORIZONTAL);
      addThumbnail(item,tt != null ? tt.mainThumbnail : null);
      for (int j=0; j < tt.numSubThumbbails; j++) {
        addThumbnail(item,tt.getSubThumbnail(j));
      }
      top.addView(item,new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT,LinearLayout.LayoutParams.WRAP_CONTENT));
    }
  }
  setContentView(scrollWrap(top));
}
