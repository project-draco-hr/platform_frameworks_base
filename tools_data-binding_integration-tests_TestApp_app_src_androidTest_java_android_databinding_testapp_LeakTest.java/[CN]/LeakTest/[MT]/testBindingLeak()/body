{
  assertNotNull(mWeakReference.get());
  runTestOnUiThread(new Runnable(){
    @Override public void run(){
      getActivity().setContentView(new FrameLayout(getActivity()));
    }
  }
);
  WeakReference<Object> canary=new WeakReference<Object>(new Object());
  while (canary.get() != null) {
    byte[] b=new byte[1024 * 1024];
    System.gc();
  }
  assertNull(mWeakReference.get());
}
