{
  final Cursor cursor=(Cursor)mAdapter.getItem(position);
  final String guid=getCursorString(cursor,DocumentColumns.GUID);
  final String mimeType=getCursorString(cursor,DocumentColumns.MIME_TYPE);
  final Uri uri=getArguments().getParcelable(EXTRA_URI);
  final Uri childUri=DocumentsContract.buildDocumentUri(uri.getAuthority(),guid);
  if (DocumentsContract.MIME_TYPE_DIRECTORY.equals(mimeType)) {
    final Uri childContentsUri=DocumentsContract.buildContentsUri(childUri);
    final String displayName=cursor.getString(cursor.getColumnIndex(DocumentColumns.DISPLAY_NAME));
    DirectoryFragment.show(getFragmentManager(),childContentsUri,displayName);
  }
 else {
    ((DocumentsActivity)getActivity()).onDocumentPicked(childUri);
  }
}
