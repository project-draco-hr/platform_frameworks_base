{
  final int thumbSize;
  final LayoutManager layout;
switch (mode) {
case MODE_GRID:
    if (mGridLayout == null) {
      mGridLayout=new GridLayoutManager(getContext(),4);
    }
  thumbSize=getResources().getDimensionPixelSize(R.dimen.grid_width);
layout=mGridLayout;
break;
case MODE_LIST:
if (mListLayout == null) {
mListLayout=new LinearLayoutManager(getContext());
}
thumbSize=getResources().getDimensionPixelSize(R.dimen.icon_size);
layout=mListLayout;
break;
case MODE_UNKNOWN:
default :
throw new IllegalArgumentException("Unsupported layout mode: " + mode);
}
mRecView.setLayoutManager(layout);
mThumbSize=new Point(thumbSize,thumbSize);
}
