{
  final int mode=getMode();
  mListView.setVisibility(mode == MODE_LIST ? View.VISIBLE : View.GONE);
  mGridView.setVisibility(mode == MODE_GRID ? View.VISIBLE : View.GONE);
  if (mode == MODE_GRID) {
    mListView.setAdapter(null);
    mGridView.setAdapter(mAdapter);
    mGridView.setNumColumns(GridView.AUTO_FIT);
  }
 else {
    mGridView.setAdapter(null);
    mListView.setAdapter(mAdapter);
  }
}
