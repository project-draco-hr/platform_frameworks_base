{
  dispatchOnTrustManagedChanged(aggregateIsTrustManaged(userId),userId);
  boolean trusted=aggregateIsTrusted(userId);
  boolean changed;
synchronized (mUserIsTrusted) {
    changed=mUserIsTrusted.get(userId) != trusted;
    mUserIsTrusted.put(userId,trusted);
  }
  dispatchOnTrustChanged(trusted,userId,initiatedByUser);
  if (changed) {
    refreshDeviceLockedForUser(userId);
  }
}
