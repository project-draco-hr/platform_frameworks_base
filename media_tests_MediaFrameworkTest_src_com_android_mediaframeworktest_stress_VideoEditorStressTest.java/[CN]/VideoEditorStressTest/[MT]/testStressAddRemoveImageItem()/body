{
  final int renderingMode=MediaItem.RENDERING_MODE_BLACK_BORDER;
  final String ImageItemFileName1=INPUT_FILE_PATH + "IMG_1600x1200.jpg";
  final String ImageItemFileName2=INPUT_FILE_PATH + "IMG_640x480.jpg";
  final String ImageItemFileName3=INPUT_FILE_PATH + "IMG_320x240.jpg";
  final String ImageItemFileName4=INPUT_FILE_PATH + "IMG_176x144.jpg";
  final String[] loggingInfo=new String[1];
  int i=0;
  writeTestCaseHeader("testStressAddRemoveImageItem");
  getBeginMemory();
  for (i=0; i < 50; i++) {
    if (i % 4 == 0) {
      final MediaImageItem mediaItem1=new MediaImageItem(mVideoEditor,"m1" + i,ImageItemFileName1,5000,renderingMode);
      mVideoEditor.addMediaItem(mediaItem1);
    }
    if (i % 4 == 1) {
      final MediaImageItem mediaItem2=new MediaImageItem(mVideoEditor,"m2" + i,ImageItemFileName2,10000,renderingMode);
      mVideoEditor.addMediaItem(mediaItem2);
    }
    if (i % 4 == 2) {
      final MediaImageItem mediaItem3=new MediaImageItem(mVideoEditor,"m3" + i,ImageItemFileName3,15000,renderingMode);
      mVideoEditor.addMediaItem(mediaItem3);
    }
    if (i % 4 == 3) {
      final MediaImageItem mediaItem4=new MediaImageItem(mVideoEditor,"m4" + i,ImageItemFileName4,20000,renderingMode);
      mVideoEditor.addMediaItem(mediaItem4);
    }
    if (i % 10 == 0) {
      getAfterMemory_updateLog(loggingInfo,false,i);
    }
  }
  getAfterMemory_updateLog(loggingInfo,false,i);
  getBeginMemory();
  for (i=0; i < 50; i++) {
    if (i % 4 == 0) {
      mVideoEditor.removeMediaItem("m1" + i);
    }
    if (i % 4 == 1) {
      mVideoEditor.removeMediaItem("m2" + i);
    }
    if (i % 4 == 2) {
      mVideoEditor.removeMediaItem("m3" + i);
    }
    if (i % 4 == 3) {
      mVideoEditor.removeMediaItem("m4" + i);
    }
    if (i % 10 == 0) {
      getAfterMemory_updateLog(loggingInfo,true,i);
    }
  }
  getAfterMemory_updateLog(loggingInfo,true,i);
}
