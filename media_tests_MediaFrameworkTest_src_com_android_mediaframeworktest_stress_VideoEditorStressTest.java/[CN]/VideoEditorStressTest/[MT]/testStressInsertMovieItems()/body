{
  final int renderingMode=MediaItem.RENDERING_MODE_BLACK_BORDER;
  final String VideoItemFileName1=INPUT_FILE_PATH + "H264_BP_1080x720_30fps_800kbps_1_17.mp4";
  final String VideoItemFileName2=INPUT_FILE_PATH + "H264_BP_800x480_15fps_512kbps_1_17.mp4";
  final String VideoItemFileName3=INPUT_FILE_PATH + "MPEG4_SP_640x480_15fps_1200kbps_AACLC_48khz_64kbps_m_1_17.3gp";
  final String[] loggingInfo=new String[1];
  int i=0;
  writeTestCaseHeader("testStressInsertMoveItems");
  final MediaVideoItem mediaItem1=new MediaVideoItem(mVideoEditor,"m1",VideoItemFileName1,renderingMode);
  mVideoEditor.addMediaItem(mediaItem1);
  mediaItem1.setExtractBoundaries(0,10000);
  final MediaVideoItem mediaItem2=new MediaVideoItem(mVideoEditor,"m2",VideoItemFileName2,renderingMode);
  mVideoEditor.addMediaItem(mediaItem2);
  mediaItem2.setExtractBoundaries(0,15000);
  getBeginMemory();
  for (i=0; i < 50; i++) {
    final MediaVideoItem mediaItem3=new MediaVideoItem(mVideoEditor,"m3" + i,VideoItemFileName3,renderingMode);
    mediaItem3.setExtractBoundaries(0,15000);
    mVideoEditor.insertMediaItem(mediaItem3,"m1");
    mVideoEditor.moveMediaItem("m2","m3" + i);
    if (i % 10 == 0) {
      getAfterMemory_updateLog(loggingInfo,false,i);
    }
  }
  getAfterMemory_updateLog(loggingInfo,false,i);
  getBeginMemory();
  for (i=0; i < 50; i++) {
    mVideoEditor.removeMediaItem("m3" + i);
    if (i % 10 == 0) {
      getAfterMemory_updateLog(loggingInfo,true,i);
    }
  }
  mVideoEditor.removeMediaItem("m2");
  mVideoEditor.removeMediaItem("m1");
  getAfterMemory_updateLog(loggingInfo,true,i);
}
