{
  final String imageItemFileName=INPUT_FILE_PATH + "IMG_640x480.jpg";
  final int renderingMode=MediaItem.RENDERING_MODE_BLACK_BORDER;
  final String[] loggingInfo=new String[1];
  int i=0;
  final MediaImageItem mediaImageItem=new MediaImageItem(mVideoEditor,"m1",imageItemFileName,5000,renderingMode);
  writeTestCaseHeader("testStressThumbnailImageItem");
  getBeginMemory();
  for (i=0; i < 50; i++) {
    if (i % 4 == 0) {
      final Bitmap[] thumbNails=mediaImageItem.getThumbnailList(mediaImageItem.getWidth() / 2,mediaImageItem.getHeight() / 2,i,5000,2);
      for (int i1=0; i1 < thumbNails.length; i1++) {
        thumbNails[i1].recycle();
      }
    }
    if (i % 4 == 1) {
      final Bitmap[] thumbNails=mediaImageItem.getThumbnailList(mediaImageItem.getWidth() / 2,mediaImageItem.getHeight() * 3,i,5000,2);
      for (int i1=0; i1 < thumbNails.length; i1++) {
        thumbNails[i1].recycle();
      }
    }
    if (i % 4 == 2) {
      final Bitmap[] thumbNails=mediaImageItem.getThumbnailList(mediaImageItem.getWidth() * 2,mediaImageItem.getHeight() / 3,i,5000,2);
      for (int i1=0; i1 < thumbNails.length; i1++) {
        thumbNails[i1].recycle();
      }
    }
    if (i % 4 == 3) {
      final Bitmap[] thumbNails=mediaImageItem.getThumbnailList(mediaImageItem.getWidth(),mediaImageItem.getHeight(),i,5000,2);
      for (int i1=0; i1 < thumbNails.length; i1++) {
        thumbNails[i1].recycle();
      }
    }
    if (i % 10 == 0) {
      getAfterMemory_updateLog(loggingInfo,false,i);
    }
  }
  getAfterMemory_updateLog(loggingInfo,false,i);
}
