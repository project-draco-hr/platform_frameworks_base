{
  final int renderingMode=MediaItem.RENDERING_MODE_BLACK_BORDER;
  final String VideoItemFileName1=INPUT_FILE_PATH + "MPEG4_SP_640x480_15fps_512kbps_AACLC_48khz_132kbps_s_0_26.mp4";
  final String ImageItemFileName2=INPUT_FILE_PATH + "IMG_640x480.jpg";
  final String OverlayFile3=INPUT_FILE_PATH + "IMG_640x480_Overlay1.png";
  final String OverlayFile4=INPUT_FILE_PATH + "IMG_640x480_Overlay2.png";
  final String[] loggingInfo=new String[1];
  int i=0;
  final MediaVideoItem mediaItem1=new MediaVideoItem(mVideoEditor,"m1",VideoItemFileName1,renderingMode);
  mVideoEditor.addMediaItem(mediaItem1);
  final MediaImageItem mediaItem2=new MediaImageItem(mVideoEditor,"m2",ImageItemFileName2,10000,renderingMode);
  mVideoEditor.addMediaItem(mediaItem2);
  writeTestCaseHeader("testStressAddRemoveOverlay");
  getBeginMemory();
  for (i=0; i < 50; i++) {
    if (i % 3 == 0) {
      mediaItem1.setExtractBoundaries(0,10000);
      final Bitmap mBitmap=mVideoEditorHelper.getBitmap(OverlayFile3,640,480);
      final OverlayFrame overlayFrame=mVideoEditorHelper.createOverlay(mediaItem1,"overlay" + i,mBitmap,1000,5000);
      mediaItem1.addOverlay(overlayFrame);
      mediaItem1.removeOverlay("overlay" + i);
    }
    if (i % 3 == 1) {
      final Bitmap mBitmap=mVideoEditorHelper.getBitmap(OverlayFile4,640,480);
      final OverlayFrame overlayFrame=mVideoEditorHelper.createOverlay(mediaItem2,"overlay" + i,mBitmap,1000,5000);
      mediaItem2.addOverlay(overlayFrame);
      mediaItem2.removeOverlay("overlay" + i);
    }
    if (i % 3 == 2) {
      mediaItem1.setExtractBoundaries(0,10000);
      final Bitmap mBitmap=mVideoEditorHelper.getBitmap(OverlayFile4,640,480);
      final OverlayFrame overlayFrame=mVideoEditorHelper.createOverlay(mediaItem1,"overlay" + i,mBitmap,0,mediaItem1.getDuration());
      mediaItem1.addOverlay(overlayFrame);
      mediaItem1.removeOverlay("overlay" + i);
    }
    if (i % 10 == 0) {
      getAfterMemory_updateLog(loggingInfo,false,i);
    }
  }
  getAfterMemory_updateLog(loggingInfo,false,i);
}
