{
  if (!mStopped && mSurface != surface) {
    if ((mSurface != null) != (surface != null)) {
      sendDisplayDeviceEventLocked(this,DISPLAY_DEVICE_EVENT_CHANGED);
    }
    sendTraversalRequestLocked();
    mSurface=surface;
    mInfo=null;
    mPendingChanges|=PENDING_SURFACE_CHANGE;
  }
}
