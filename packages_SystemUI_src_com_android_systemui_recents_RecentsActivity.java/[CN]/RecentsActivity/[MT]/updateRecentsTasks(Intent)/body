{
  RecentsConfiguration config=RecentsConfiguration.getInstance();
  config.launchedWithThumbnailAnimation=launchIntent.getBooleanExtra(AlternateRecentsComponent.EXTRA_ANIMATING_WITH_THUMBNAIL,false);
  RecentsTaskLoader loader=RecentsTaskLoader.getInstance();
  SpaceNode root=loader.reload(this,Constants.Values.RecentsTaskLoader.PreloadFirstTasksCount);
  ArrayList<TaskStack> stacks=root.getStacks();
  if (!stacks.isEmpty()) {
    mRecentsView.setBSP(root);
  }
  if (stacks.size() == 1 && stacks.get(0).getTaskCount() == 0) {
    mEmptyView.setVisibility(View.VISIBLE);
    WindowManager.LayoutParams wlp=getWindow().getAttributes();
    wlp.dimAmount=Constants.Values.Window.DarkBackgroundDim;
    getWindow().setAttributes(wlp);
    getWindow().addFlags(WindowManager.LayoutParams.FLAG_DIM_BEHIND);
  }
 else {
    mEmptyView.setVisibility(View.GONE);
    WindowManager.LayoutParams wlp=getWindow().getAttributes();
    wlp.dimAmount=0f;
    getWindow().setAttributes(wlp);
    getWindow().addFlags(WindowManager.LayoutParams.FLAG_DIM_BEHIND);
  }
}
