{
  super.onStop();
  mIgnoreAltTabRelease=false;
  if (mHistoryView != null) {
    ReferenceCountedTrigger t=new ReferenceCountedTrigger(this);
    t.increment();
    EventBus.getDefault().send(new HideHistoryEvent(false,t));
    t.decrement();
  }
  SystemServicesProxy ssp=Recents.getSystemServices();
  EventBus.getDefault().send(new RecentsVisibilityChangedEvent(this,ssp,false));
  RecentsConfiguration config=Recents.getConfiguration();
  RecentsActivityLaunchState launchState=config.getLaunchState();
  launchState.launchedFromHome=false;
  launchState.launchedFromSearchHome=false;
  launchState.launchedFromAppWithThumbnail=false;
  launchState.launchedToTaskId=-1;
  launchState.launchedWithAltTab=false;
  launchState.launchedHasConfigurationChanged=false;
  launchState.launchedViaDragGesture=false;
  MetricsLogger.hidden(this,MetricsLogger.OVERVIEW_ACTIVITY);
}
