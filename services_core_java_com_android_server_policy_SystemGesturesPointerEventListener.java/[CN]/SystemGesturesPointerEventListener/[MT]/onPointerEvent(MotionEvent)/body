{
  if (mGestureDetector != null) {
    mGestureDetector.onTouchEvent(event);
  }
switch (event.getActionMasked()) {
case MotionEvent.ACTION_DOWN:
    mSwipeFireable=true;
  mDebugFireable=true;
mDownPointers=0;
captureDown(event,0);
if (mMouseHoveringAtEdge) {
mMouseHoveringAtEdge=false;
mCallbacks.onMouseLeaveFromEdge();
}
mCallbacks.onDown();
break;
case MotionEvent.ACTION_POINTER_DOWN:
captureDown(event,event.getActionIndex());
if (mDebugFireable) {
mDebugFireable=event.getPointerCount() < 5;
if (!mDebugFireable) {
if (DEBUG) Slog.d(TAG,"Firing debug");
mCallbacks.onDebug();
}
}
break;
case MotionEvent.ACTION_MOVE:
if (mSwipeFireable) {
final int swipe=detectSwipe(event);
mSwipeFireable=swipe == SWIPE_NONE;
if (swipe == SWIPE_FROM_TOP) {
if (DEBUG) Slog.d(TAG,"Firing onSwipeFromTop");
mCallbacks.onSwipeFromTop();
}
 else if (swipe == SWIPE_FROM_BOTTOM) {
if (DEBUG) Slog.d(TAG,"Firing onSwipeFromBottom");
mCallbacks.onSwipeFromBottom();
}
 else if (swipe == SWIPE_FROM_RIGHT) {
if (DEBUG) Slog.d(TAG,"Firing onSwipeFromRight");
mCallbacks.onSwipeFromRight();
}
}
break;
case MotionEvent.ACTION_HOVER_MOVE:
if (event.getPointerCount() == 1 && event.getToolType(0) == MotionEvent.TOOL_TYPE_MOUSE) {
if (!mMouseHoveringAtEdge && event.getY() == 0) {
mCallbacks.onMouseHoverAtTop();
mMouseHoveringAtEdge=true;
}
 else if (!mMouseHoveringAtEdge && event.getY() >= screenHeight - 1) {
mCallbacks.onMouseHoverAtBottom();
mMouseHoveringAtEdge=true;
}
 else if (mMouseHoveringAtEdge && (event.getY() > 0 && event.getY() < screenHeight - 1)) {
mCallbacks.onMouseLeaveFromEdge();
mMouseHoveringAtEdge=false;
}
}
break;
case MotionEvent.ACTION_UP:
case MotionEvent.ACTION_CANCEL:
mSwipeFireable=false;
mDebugFireable=false;
mCallbacks.onUpOrCancel();
break;
default :
if (DEBUG) Slog.d(TAG,"Ignoring " + event);
}
}
