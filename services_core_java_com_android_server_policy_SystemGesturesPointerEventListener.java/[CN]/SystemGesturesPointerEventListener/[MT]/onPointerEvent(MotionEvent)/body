{
  if (mGestureDetector != null) {
    mGestureDetector.onTouchEvent(event);
  }
switch (event.getActionMasked()) {
case MotionEvent.ACTION_DOWN:
    mSwipeFireable=true;
  mDebugFireable=true;
mDownPointers=0;
captureDown(event,0);
mCallbacks.onDown();
break;
case MotionEvent.ACTION_POINTER_DOWN:
captureDown(event,event.getActionIndex());
if (mDebugFireable) {
mDebugFireable=event.getPointerCount() < 5;
if (!mDebugFireable) {
if (DEBUG) Slog.d(TAG,"Firing debug");
mCallbacks.onDebug();
}
}
break;
case MotionEvent.ACTION_MOVE:
if (mSwipeFireable) {
final int swipe=detectSwipe(event);
mSwipeFireable=swipe == SWIPE_NONE;
if (swipe == SWIPE_FROM_TOP) {
if (DEBUG) Slog.d(TAG,"Firing onSwipeFromTop");
mCallbacks.onSwipeFromTop();
}
 else if (swipe == SWIPE_FROM_BOTTOM) {
if (DEBUG) Slog.d(TAG,"Firing onSwipeFromBottom");
mCallbacks.onSwipeFromBottom();
}
 else if (swipe == SWIPE_FROM_RIGHT) {
if (DEBUG) Slog.d(TAG,"Firing onSwipeFromRight");
mCallbacks.onSwipeFromRight();
}
}
break;
case MotionEvent.ACTION_UP:
case MotionEvent.ACTION_CANCEL:
mSwipeFireable=false;
mDebugFireable=false;
mCallbacks.onUpOrCancel();
break;
default :
if (DEBUG) Slog.d(TAG,"Ignoring " + event);
}
}
