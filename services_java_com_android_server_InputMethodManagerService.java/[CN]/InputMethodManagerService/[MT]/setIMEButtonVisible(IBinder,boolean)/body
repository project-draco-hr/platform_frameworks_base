{
  int uid=Binder.getCallingUid();
  long ident=Binder.clearCallingIdentity();
  try {
    if (token == null || mCurToken != token) {
      Slog.w(TAG,"Ignoring setIMEButtonVisible of uid " + uid + " token: "+ token);
      return;
    }
synchronized (mMethodMap) {
      mStatusBar.setIMEButtonVisible(visible);
    }
  }
  finally {
    Binder.restoreCallingIdentity(ident);
  }
}
