{
  if (mCurMethodId != null && !isSystemIme(mMethodMap.get(mCurMethodId))) {
    return;
  }
  InputMethodInfo defIm=null;
  for (  InputMethodInfo imi : mMethodList) {
    if (defIm == null) {
      if (isValidSystemDefaultIme(imi,context)) {
        defIm=imi;
        Slog.i(TAG,"Selected default: " + imi.getId());
      }
    }
  }
  if (defIm == null && mMethodList.size() > 0) {
    defIm=getMostApplicableDefaultIMELocked();
    Slog.i(TAG,"No default found, using " + defIm.getId());
  }
  if (defIm != null) {
    setSelectedInputMethodAndSubtypeLocked(defIm,NOT_A_SUBTYPE_ID,false);
  }
}
