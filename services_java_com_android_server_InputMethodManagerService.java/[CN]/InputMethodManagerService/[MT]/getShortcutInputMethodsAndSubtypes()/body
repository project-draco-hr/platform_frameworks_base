{
synchronized (mMethodMap) {
    if (mShortcutInputMethodsAndSubtypes.size() == 0) {
      Pair<InputMethodInfo,InputMethodSubtype> info=findLastResortApplicableShortcutInputMethodAndSubtypeLocked(SUBTYPE_MODE_VOICE);
      if (info != null) {
        addShortcutInputMethodAndSubtypes(info.first,info.second);
      }
    }
    ArrayList<Object> ret=new ArrayList<Object>();
    for (    InputMethodInfo imi : mShortcutInputMethodsAndSubtypes.keySet()) {
      ret.add(imi);
      for (      InputMethodSubtype subtype : mShortcutInputMethodsAndSubtypes.get(imi)) {
        ret.add(subtype);
      }
    }
    return ret;
  }
}
