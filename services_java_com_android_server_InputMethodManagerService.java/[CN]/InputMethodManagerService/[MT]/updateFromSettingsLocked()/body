{
  String id=mSettings.getSelectedInputMethod();
  if (TextUtils.isEmpty(id) && chooseNewDefaultIMELocked()) {
    id=mSettings.getSelectedInputMethod();
  }
  if (!TextUtils.isEmpty(id)) {
    try {
      setInputMethodLocked(id,mSettings.getSelectedInputMethodSubtypeId(id));
    }
 catch (    IllegalArgumentException e) {
      Slog.w(TAG,"Unknown input method from prefs: " + id,e);
      mCurMethodId=null;
      unbindCurrentMethodLocked(true,false);
    }
    mShortcutInputMethodsAndSubtypes.clear();
  }
 else {
    mCurMethodId=null;
    unbindCurrentMethodLocked(true,false);
  }
}
