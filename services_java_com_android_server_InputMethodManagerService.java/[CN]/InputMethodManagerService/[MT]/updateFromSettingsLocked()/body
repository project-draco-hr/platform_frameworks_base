{
  String id=Settings.Secure.getString(mContext.getContentResolver(),Settings.Secure.DEFAULT_INPUT_METHOD);
  if (TextUtils.isEmpty(id) && chooseNewDefaultIMELocked()) {
    id=Settings.Secure.getString(mContext.getContentResolver(),Settings.Secure.DEFAULT_INPUT_METHOD);
  }
  if (!TextUtils.isEmpty(id)) {
    try {
      setInputMethodLocked(id,getSelectedInputMethodSubtypeId(id));
    }
 catch (    IllegalArgumentException e) {
      Slog.w(TAG,"Unknown input method from prefs: " + id,e);
      mCurMethodId=null;
      unbindCurrentMethodLocked(true);
    }
  }
 else {
    mCurMethodId=null;
    unbindCurrentMethodLocked(true);
  }
}
