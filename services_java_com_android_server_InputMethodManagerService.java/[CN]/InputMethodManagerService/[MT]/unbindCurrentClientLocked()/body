{
  if (mCurClient != null) {
    if (DEBUG)     Slog.v(TAG,"unbindCurrentInputLocked: client = " + mCurClient.client.asBinder());
    if (mBoundToMethod) {
      mBoundToMethod=false;
      if (mCurMethod != null) {
        executeOrSendMessage(mCurMethod,mCaller.obtainMessageO(MSG_UNBIND_INPUT,mCurMethod));
      }
    }
    executeOrSendMessage(mCurClient.client,mCaller.obtainMessageIO(MSG_UNBIND_METHOD,mCurSeq,mCurClient.client));
    mCurClient.sessionRequested=false;
    try {
      mCurClient.client.setActive(false);
    }
 catch (    RemoteException e) {
      Slog.w(TAG,"Got RemoteException sending setActive(false) notification to pid " + mCurClient.pid + " uid "+ mCurClient.uid);
    }
    mCurClient=null;
    hideInputMethodMenuLocked();
  }
}
