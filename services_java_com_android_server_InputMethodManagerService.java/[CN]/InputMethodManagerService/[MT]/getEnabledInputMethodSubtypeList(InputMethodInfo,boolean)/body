{
  if (!calledFromValidUser()) {
    return Collections.emptyList();
  }
synchronized (mMethodMap) {
    if (imi == null && mCurMethodId != null) {
      imi=mMethodMap.get(mCurMethodId);
    }
    return mSettings.getEnabledInputMethodSubtypeListLocked(mContext,imi,allowsImplicitlySelectedSubtypes);
  }
}
