{
  final int uid=Binder.getCallingUid();
  final int userId=UserHandle.getUserId(uid);
  if (DEBUG) {
    Slog.d(TAG,"--- calledFromForegroundUserOrSystemProcess ? " + "calling uid = " + uid + " system uid = "+ Process.SYSTEM_UID+ " calling userId = "+ userId+ ", foreground user id = "+ mSettings.getCurrentUserId());
  }
  if (uid == Process.SYSTEM_UID || userId == mSettings.getCurrentUserId()) {
    return true;
  }
 else {
    Slog.w(TAG,"--- IPC called from background users. Ignore. \n" + getStackTrace());
    return false;
  }
}
