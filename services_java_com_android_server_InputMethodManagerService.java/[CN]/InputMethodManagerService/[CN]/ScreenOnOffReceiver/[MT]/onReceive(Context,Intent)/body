{
  if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {
    mScreenOn=true;
  }
 else   if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {
    mScreenOn=false;
  }
 else   if (intent.getAction().equals(Intent.ACTION_CLOSE_SYSTEM_DIALOGS)) {
    hideInputMethodMenu();
    return;
  }
 else {
    Slog.w(TAG,"Unexpected intent " + intent);
  }
  try {
    if (mCurClient != null && mCurClient.client != null) {
      mCurClient.client.setActive(mScreenOn);
    }
  }
 catch (  RemoteException e) {
    Slog.w(TAG,"Got RemoteException sending 'screen on/off' notification to pid " + mCurClient.pid + " uid "+ mCurClient.uid);
  }
}
