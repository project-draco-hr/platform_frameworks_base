{
  ArrayList<Pair<String,ArrayList<String>>> imsList=new ArrayList<Pair<String,ArrayList<String>>>();
  final String enabledInputMethodsStr=getEnabledInputMethodsStr();
  if (TextUtils.isEmpty(enabledInputMethodsStr)) {
    return imsList;
  }
  mInputMethodSplitter.setString(enabledInputMethodsStr);
  while (mInputMethodSplitter.hasNext()) {
    String nextImsStr=mInputMethodSplitter.next();
    mSubtypeSplitter.setString(nextImsStr);
    if (mSubtypeSplitter.hasNext()) {
      ArrayList<String> subtypeHashes=new ArrayList<String>();
      String imeId=mSubtypeSplitter.next();
      while (mSubtypeSplitter.hasNext()) {
        subtypeHashes.add(mSubtypeSplitter.next());
      }
      imsList.add(new Pair<String,ArrayList<String>>(imeId,subtypeHashes));
    }
  }
  return imsList;
}
