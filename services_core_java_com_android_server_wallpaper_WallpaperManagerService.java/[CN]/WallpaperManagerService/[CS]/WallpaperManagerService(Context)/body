{
  if (DEBUG)   Slog.v(TAG,"WallpaperService startup");
  mContext=context;
  mImageWallpaper=ComponentName.unflattenFromString(context.getResources().getString(R.string.image_wallpaper_component));
  mIWindowManager=IWindowManager.Stub.asInterface(ServiceManager.getService(Context.WINDOW_SERVICE));
  mIPackageManager=AppGlobals.getPackageManager();
  mAppOpsManager=(AppOpsManager)mContext.getSystemService(Context.APP_OPS_SERVICE);
  mMonitor=new MyPackageMonitor();
  mMonitor.register(context,null,UserHandle.ALL,true);
  getWallpaperDir(UserHandle.USER_SYSTEM).mkdirs();
  loadSettingsLocked(UserHandle.USER_SYSTEM,false);
}
