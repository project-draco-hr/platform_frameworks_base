{
  WallpaperData wallpaper=mWallpaperMap.get(userId);
  if (wallpaper == null) {
    return;
  }
  if (wallpaper.wallpaperFile.exists()) {
    wallpaper.wallpaperFile.delete();
    wallpaper.cropFile.delete();
  }
  final long ident=Binder.clearCallingIdentity();
  try {
    RuntimeException e=null;
    try {
      wallpaper.imageWallpaperPending=false;
      if (userId != mCurrentUserId)       return;
      if (bindWallpaperComponentLocked(defaultFailed ? mImageWallpaper : null,true,false,wallpaper,reply)) {
        return;
      }
    }
 catch (    IllegalArgumentException e1) {
      e=e1;
    }
    Slog.e(TAG,"Default wallpaper component not found!",e);
    clearWallpaperComponentLocked(wallpaper);
    if (reply != null) {
      try {
        reply.sendResult(null);
      }
 catch (      RemoteException e1) {
      }
    }
  }
  finally {
    Binder.restoreCallingIdentity(ident);
  }
}
