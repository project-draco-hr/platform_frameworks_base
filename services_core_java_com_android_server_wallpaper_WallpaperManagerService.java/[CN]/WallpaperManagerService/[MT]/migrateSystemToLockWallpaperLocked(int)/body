{
  WallpaperData sysWP=mWallpaperMap.get(userId);
  if (sysWP == null) {
    if (DEBUG) {
      Slog.i(TAG,"No system wallpaper?  Not tracking for lock-only");
    }
    return;
  }
  WallpaperData lockWP=new WallpaperData(userId,WALLPAPER_LOCK_ORIG,WALLPAPER_LOCK_CROP);
  lockWP.wallpaperId=sysWP.wallpaperId;
  lockWP.cropHint.set(sysWP.cropHint);
  lockWP.width=sysWP.width;
  lockWP.height=sysWP.height;
  lockWP.allowBackup=false;
  try {
    Os.rename(sysWP.wallpaperFile.getAbsolutePath(),lockWP.wallpaperFile.getAbsolutePath());
    Os.rename(sysWP.cropFile.getAbsolutePath(),lockWP.cropFile.getAbsolutePath());
  }
 catch (  ErrnoException e) {
    Slog.e(TAG,"Can't migrate system wallpaper: " + e.getMessage());
    lockWP.wallpaperFile.delete();
    lockWP.cropFile.delete();
    return;
  }
  mLockWallpaperMap.put(userId,lockWP);
}
