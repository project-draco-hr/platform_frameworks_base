{
  userId=ActivityManager.handleIncomingUser(Binder.getCallingPid(),Binder.getCallingUid(),userId,false,true,"getWallpaperIdForUser",null);
  if (which != FLAG_SYSTEM && which != FLAG_LOCK) {
    throw new IllegalArgumentException("Must specify exactly one kind of wallpaper");
  }
  final SparseArray<WallpaperData> map=(which == FLAG_LOCK) ? mLockWallpaperMap : mWallpaperMap;
synchronized (mLock) {
    WallpaperData wallpaper=map.get(userId);
    if (wallpaper != null) {
      return wallpaper.wallpaperId;
    }
  }
  return -1;
}
