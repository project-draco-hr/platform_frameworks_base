{
synchronized (mLock) {
    mService=null;
    mEngine=null;
    if (mWallpaper.connection == this) {
      Slog.w(TAG,"Wallpaper service gone: " + mWallpaper.wallpaperComponent);
      if (!mWallpaper.wallpaperUpdating && (mWallpaper.lastDiedTime + MIN_WALLPAPER_CRASH_TIME) > SystemClock.uptimeMillis() && mWallpaper.userId == mCurrentUserId) {
        Slog.w(TAG,"Reverting to built-in wallpaper!");
        clearWallpaperLocked(true,mWallpaper.userId,null);
      }
    }
  }
}
