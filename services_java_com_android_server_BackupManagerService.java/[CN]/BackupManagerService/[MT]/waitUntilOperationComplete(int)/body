{
  int finalState=OP_PENDING;
synchronized (mCurrentOpLock) {
    try {
      while ((finalState=mCurrentOperations.get(token,OP_TIMEOUT)) == OP_PENDING) {
        try {
          mCurrentOpLock.wait();
        }
 catch (        InterruptedException e) {
        }
      }
    }
 catch (    IndexOutOfBoundsException e) {
    }
  }
  mBackupHandler.removeMessages(MSG_TIMEOUT);
  if (MORE_DEBUG)   Slog.v(TAG,"operation " + Integer.toHexString(token) + " complete: finalState="+ finalState);
  return finalState == OP_ACKNOWLEDGED;
}
