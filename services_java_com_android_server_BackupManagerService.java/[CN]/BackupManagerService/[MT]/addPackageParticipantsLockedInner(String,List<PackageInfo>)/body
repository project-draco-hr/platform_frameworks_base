{
  if (MORE_DEBUG) {
    Slog.v(TAG,"Examining " + packageName + " for backup agent");
  }
  for (  PackageInfo pkg : targetPkgs) {
    if (packageName == null || pkg.packageName.equals(packageName)) {
      int uid=pkg.applicationInfo.uid;
      HashSet<ApplicationInfo> set=mBackupParticipants.get(uid);
      if (set == null) {
        set=new HashSet<ApplicationInfo>();
        mBackupParticipants.put(uid,set);
      }
      set.add(pkg.applicationInfo);
      if (MORE_DEBUG)       Slog.v(TAG,"Agent found; added");
      if (!mEverStoredApps.contains(pkg.packageName)) {
        if (DEBUG)         Slog.i(TAG,"New app " + pkg.packageName + " never backed up; scheduling");
        dataChangedImpl(pkg.packageName);
      }
    }
  }
}
