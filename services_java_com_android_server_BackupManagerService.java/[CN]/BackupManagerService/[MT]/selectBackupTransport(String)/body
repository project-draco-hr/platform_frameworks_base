{
  mContext.enforceCallingPermission("android.permission.BACKUP","selectBackupTransport");
synchronized (mTransports) {
    String prevTransport=null;
    if (mTransports.get(transport) != null) {
      prevTransport=mCurrentTransport;
      mCurrentTransport=transport;
      Settings.Secure.putString(mContext.getContentResolver(),BACKUP_TRANSPORT_SETTING,transport);
      Log.v(TAG,"selectBackupTransport() set " + mCurrentTransport + " returning "+ prevTransport);
    }
 else {
      Log.w(TAG,"Attempt to select unavailable transport " + transport);
    }
    return prevTransport;
  }
}
