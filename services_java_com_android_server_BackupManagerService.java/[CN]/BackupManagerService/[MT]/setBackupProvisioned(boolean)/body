{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.BACKUP,"setBackupProvisioned");
  boolean wasProvisioned=mProvisioned;
synchronized (this) {
    Settings.Secure.putInt(mContext.getContentResolver(),Settings.Secure.BACKUP_PROVISIONED,available ? 1 : 0);
    mProvisioned=available;
  }
synchronized (mQueueLock) {
    if (available && !wasProvisioned && mEnabled) {
      startBackupAlarmsLocked(FIRST_BACKUP_INTERVAL);
    }
 else     if (!available) {
      Log.w(TAG,"Backup service no longer provisioned");
      mAlarmManager.cancel(mRunBackupIntent);
    }
  }
}
