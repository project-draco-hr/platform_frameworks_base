{
  FileInputStream raw=new FileInputStream(inPipe.getFileDescriptor());
  DataInputStream in=new DataInputStream(raw);
  byte[] buffer=new byte[32 * 1024];
  int chunkTotal;
  while ((chunkTotal=in.readInt()) > 0) {
    while (chunkTotal > 0) {
      int toRead=(chunkTotal > buffer.length) ? buffer.length : chunkTotal;
      int nRead=in.read(buffer,0,toRead);
      out.write(buffer,0,nRead);
      chunkTotal-=nRead;
    }
  }
}
