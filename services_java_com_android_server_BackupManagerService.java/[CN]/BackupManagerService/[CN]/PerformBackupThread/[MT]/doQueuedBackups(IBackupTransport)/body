{
  for (  BackupRequest request : mQueue) {
    Log.d(TAG,"starting agent for " + request);
    IBackupAgent agent=null;
    int mode=(request.fullBackup) ? IApplicationThread.BACKUP_MODE_FULL : IApplicationThread.BACKUP_MODE_INCREMENTAL;
    try {
synchronized (mAgentConnectLock) {
        mConnecting=true;
        mConnectedAgent=null;
        if (mActivityManager.bindBackupAgent(request.appInfo,mode)) {
          Log.d(TAG,"awaiting agent for " + request);
          while (mConnecting && mConnectedAgent == null) {
            try {
              mAgentConnectLock.wait(10000);
            }
 catch (            InterruptedException e) {
              continue;
            }
          }
          if (mConnecting == true) {
            Log.w(TAG,"Timeout waiting for agent " + request);
            continue;
          }
          agent=mConnectedAgent;
        }
      }
    }
 catch (    RemoteException e) {
    }
catch (    SecurityException ex) {
      Log.d(TAG,"error in bind",ex);
    }
    if (agent != null) {
      processOneBackup(request,agent,transport);
    }
    try {
      mActivityManager.unbindBackupAgent(request.appInfo);
    }
 catch (    RemoteException e) {
    }
  }
}
