{
  super.panelExpansionChanged(panel,frac);
  if (DEBUG) {
    Log.v(TAG,"panelExpansionChanged: f=" + frac);
  }
  mScrimController.setPanelExpansion(frac);
  final int H=mBar.getStatusBarHeight();
  final float ph=panel.getExpandedHeight() + panel.getPaddingBottom();
  float alpha=1f;
  if (ph < 2 * H) {
    if (ph < H)     alpha=0f;
 else     alpha=(ph - H) / H;
    alpha=alpha * alpha;
  }
  if (panel.getAlpha() != alpha) {
    panel.setAlpha(alpha);
  }
  mBar.updateCarrierLabelVisibility(false);
  mBar.userActivity();
}
