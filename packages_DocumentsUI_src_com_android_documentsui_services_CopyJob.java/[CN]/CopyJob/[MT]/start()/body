{
  mStartTime=elapsedRealtime();
  srcClient=acquireUnstableProviderOrThrow(getContentResolver(),mSrcFiles.get(0).authority);
  dstClient=acquireUnstableProviderOrThrow(getContentResolver(),stack.peek().authority);
  mBatchSize=calculateSize(srcClient,mSrcFiles);
  DocumentInfo srcInfo;
  DocumentInfo dstInfo;
  for (int i=0; i < mSrcFiles.size() && !isCanceled(); ++i) {
    srcInfo=mSrcFiles.get(i);
    dstInfo=stack.peek();
    if (dstInfo.equals(srcInfo) || isDescendentOf(srcInfo,dstInfo)) {
      onFileFailed(srcInfo,"Skipping recursive operation on directory " + dstInfo.derivedUri + ".");
      continue;
    }
    if (DEBUG)     Log.d(TAG,"Copying " + srcInfo.displayName + " ("+ srcInfo.derivedUri+ ")"+ " to "+ dstInfo.displayName+ " ("+ dstInfo.derivedUri+ ")");
    processDocument(srcInfo,dstInfo);
  }
}
