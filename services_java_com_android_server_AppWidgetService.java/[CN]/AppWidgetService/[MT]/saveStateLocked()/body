{
  File temp=savedStateTempFile();
  File real=savedStateRealFile();
  if (!real.exists()) {
    try {
      real.createNewFile();
    }
 catch (    IOException e) {
    }
  }
  if (temp.exists()) {
    temp.delete();
  }
  if (!writeStateToFileLocked(temp)) {
    Log.w(TAG,"Failed to persist new settings");
    return;
  }
  real.delete();
  temp.renameTo(real);
}
