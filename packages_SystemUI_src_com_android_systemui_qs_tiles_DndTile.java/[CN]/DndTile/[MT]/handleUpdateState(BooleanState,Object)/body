{
  final int zen=arg instanceof Integer ? (Integer)arg : mController.getZen();
  state.value=zen != Global.ZEN_MODE_OFF;
  state.visible=mVisible;
switch (zen) {
case Global.ZEN_MODE_IMPORTANT_INTERRUPTIONS:
    state.icon=ResourceIcon.get(R.drawable.ic_qs_dnd_on);
  state.label=mContext.getString(R.string.quick_settings_dnd_priority_label);
state.contentDescription=mContext.getString(R.string.accessibility_quick_settings_dnd_priority_on);
break;
case Global.ZEN_MODE_NO_INTERRUPTIONS:
state.icon=ResourceIcon.get(R.drawable.ic_qs_dnd_on);
state.label=mContext.getString(R.string.quick_settings_dnd_none_label);
state.contentDescription=mContext.getString(R.string.accessibility_quick_settings_dnd_none_on);
break;
case Global.ZEN_MODE_ALARMS:
state.icon=ResourceIcon.get(R.drawable.ic_qs_dnd_on);
state.label=mContext.getString(R.string.quick_settings_dnd_alarms_label);
state.contentDescription=mContext.getString(R.string.accessibility_quick_settings_dnd_alarms_on);
break;
default :
state.icon=ResourceIcon.get(R.drawable.ic_qs_dnd_off);
state.label=mContext.getString(R.string.quick_settings_dnd_label);
state.contentDescription=mContext.getString(R.string.accessibility_quick_settings_dnd_off);
break;
}
if (mShowingDetail && !state.value) {
showDetail(false);
}
}
