{
  NotificationData list;
  ViewGroup parent;
  final boolean isOngoing=notification.isOngoing();
  if (isOngoing) {
    list=mOngoing;
    parent=mOngoingItems;
  }
 else {
    list=mLatest;
    parent=mLatestItems;
  }
  final View[] views=makeNotificationView(notification,parent);
  if (views == null) {
    handleNotificationError(key,notification,"Couldn't expand RemoteViews for: " + notification);
    return null;
  }
  final View row=views[0];
  final View content=views[1];
  final View expanded=views[2];
  final StatusBarIconView iconView=new StatusBarIconView(this,notification.pkg + "/0x" + Integer.toHexString(notification.id));
  final StatusBarIcon ic=new StatusBarIcon(notification.pkg,notification.notification.icon,notification.notification.iconLevel,notification.notification.number);
  if (!iconView.set(ic)) {
    handleNotificationError(key,notification,"Coulding create icon: " + ic);
    return null;
  }
  final int viewIndex=list.add(key,notification,row,content,expanded,iconView);
  parent.addView(row,viewIndex);
  final int iconIndex=chooseIconIndex(isOngoing,viewIndex);
  mNotificationIcons.addView(iconView,iconIndex);
  return iconView;
}
