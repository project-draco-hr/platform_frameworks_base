{
  super(context,attrs,defStyle);
  while (context instanceof ContextWrapper) {
    if (context instanceof Activity) {
      mActivity=(Activity)context;
      break;
    }
    context=((ContextWrapper)context).getBaseContext();
  }
  if (mActivity == null) {
    throw new IllegalStateException("The ActivityView's Context is not an Activity.");
  }
  mTextureView=new TextureView(context);
  mTextureView.setSurfaceTextureListener(new ActivityViewSurfaceTextureListener());
  addView(mTextureView);
  if (DEBUG)   Log.v(TAG,"ctor()");
}
