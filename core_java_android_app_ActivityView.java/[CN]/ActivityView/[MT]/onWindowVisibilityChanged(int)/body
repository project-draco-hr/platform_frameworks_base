{
  if (DEBUG)   Log.v(TAG,"onWindowVisibilityChanged(): visibility=" + visibility);
  super.onWindowVisibilityChanged(visibility);
switch (visibility) {
case View.VISIBLE:
    attachToSurfaceWhenReady();
  break;
case View.INVISIBLE:
break;
case View.GONE:
detach();
break;
}
}
