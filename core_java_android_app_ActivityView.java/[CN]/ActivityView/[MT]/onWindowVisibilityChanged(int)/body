{
  super.onWindowVisibilityChanged(visibility);
  if (visibility == View.VISIBLE) {
    attachToSurfaceWhenReady();
  }
 else {
    detach();
  }
}
