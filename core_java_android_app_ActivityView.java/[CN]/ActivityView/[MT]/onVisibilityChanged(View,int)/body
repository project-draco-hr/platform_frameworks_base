{
  super.onVisibilityChanged(changedView,visibility);
  if (mSurface != null && (visibility == View.GONE || mLastVisibility == View.GONE)) {
    Message msg=Message.obtain(mHandler,MSG_SET_SURFACE);
    msg.obj=(visibility == View.GONE) ? null : mSurface;
    msg.arg1=mWidth;
    msg.arg2=mHeight;
    mHandler.sendMessage(msg);
  }
  mLastVisibility=visibility;
}
