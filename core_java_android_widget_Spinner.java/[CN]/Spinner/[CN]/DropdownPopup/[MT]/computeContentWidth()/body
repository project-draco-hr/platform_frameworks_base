{
  final Drawable background=getBackground();
  int hOffset=0;
  if (background != null) {
    background.getPadding(mTempRect);
    hOffset=isLayoutRtl() ? mTempRect.right : -mTempRect.left;
  }
 else {
    mTempRect.left=mTempRect.right=0;
  }
  final int spinnerPaddingLeft=Spinner.this.getPaddingLeft();
  final int spinnerPaddingRight=Spinner.this.getPaddingRight();
  final int spinnerWidth=Spinner.this.getWidth();
  if (mDropDownWidth == WRAP_CONTENT) {
    int contentWidth=measureContentWidth((SpinnerAdapter)mAdapter,getBackground());
    final int contentWidthLimit=mContext.getResources().getDisplayMetrics().widthPixels - mTempRect.left - mTempRect.right;
    if (contentWidth > contentWidthLimit) {
      contentWidth=contentWidthLimit;
    }
    setContentWidth(Math.max(contentWidth,spinnerWidth - spinnerPaddingLeft - spinnerPaddingRight));
  }
 else   if (mDropDownWidth == MATCH_PARENT) {
    setContentWidth(spinnerWidth - spinnerPaddingLeft - spinnerPaddingRight);
  }
 else {
    setContentWidth(mDropDownWidth);
  }
  if (isLayoutRtl()) {
    hOffset+=spinnerWidth - spinnerPaddingRight - getWidth();
  }
 else {
    hOffset+=spinnerPaddingLeft;
  }
  setHorizontalOffset(hOffset);
}
