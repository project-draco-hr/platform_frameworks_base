{
  int childrenLeft=mSpinnerPadding.left;
  int childrenWidth=mRight - mLeft - mSpinnerPadding.left- mSpinnerPadding.right;
  if (mDataChanged) {
    handleDataChanged();
  }
  if (mItemCount == 0) {
    resetList();
    return;
  }
  if (mNextSelectedPosition >= 0) {
    setSelectedPositionInt(mNextSelectedPosition);
  }
  recycleAllViews();
  removeAllViewsInLayout();
  mFirstPosition=mSelectedPosition;
  if (mAdapter != null) {
    View sel=makeView(mSelectedPosition,true);
    int width=sel.getMeasuredWidth();
    int selectedOffset=childrenLeft;
    final int layoutDirection=getLayoutDirection();
    final int absoluteGravity=Gravity.getAbsoluteGravity(mGravity,layoutDirection);
switch (absoluteGravity & Gravity.HORIZONTAL_GRAVITY_MASK) {
case Gravity.CENTER_HORIZONTAL:
      selectedOffset=childrenLeft + (childrenWidth / 2) - (width / 2);
    break;
case Gravity.RIGHT:
  selectedOffset=childrenLeft + childrenWidth - width;
break;
}
sel.offsetLeftAndRight(selectedOffset);
}
mRecycler.clear();
invalidate();
checkSelectionChanged();
mDataChanged=false;
mNeedSync=false;
setNextSelectedPositionInt(mSelectedPosition);
}
