{
  boolean itemsWereUnpinned=false;
  for (int i=getChildCount() - 1; i >= 0; --i) {
    View view=getChildAt(i);
    AppButtonData appButtonData=(AppButtonData)view.getTag();
    if (appButtonData == null)     return;
    if (!appButtonData.pinned)     continue;
    if (!appButtonData.appInfo.getUser().equals(removedProfile))     continue;
    appButtonData.pinned=false;
    itemsWereUnpinned=true;
    if (appButtonData.isEmpty()) {
      removeViewAt(i);
    }
  }
  if (itemsWereUnpinned) {
    savePinnedApps();
  }
}
