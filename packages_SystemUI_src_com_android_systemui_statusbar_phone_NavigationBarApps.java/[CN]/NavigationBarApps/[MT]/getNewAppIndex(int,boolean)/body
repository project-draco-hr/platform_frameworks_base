{
  int i;
  if (isAppPinned) {
    for (i=indexHint; i > 0; --i) {
      View v=getChildAt(i - 1);
      AppButtonData targetButtonData=(AppButtonData)v.getTag();
      if (targetButtonData.pinned)       break;
    }
  }
 else {
    int childCount=getChildCount();
    for (i=indexHint; i < childCount; ++i) {
      View v=getChildAt(i);
      AppButtonData targetButtonData=(AppButtonData)v.getTag();
      if (!targetButtonData.pinned)       break;
    }
  }
  return i;
}
