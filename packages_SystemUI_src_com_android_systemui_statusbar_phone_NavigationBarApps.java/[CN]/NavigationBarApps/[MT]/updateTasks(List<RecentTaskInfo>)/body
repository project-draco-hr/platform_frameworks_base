{
  for (int i=getChildCount() - 1; i >= 0; --i) {
    View view=getChildAt(i);
    AppButtonData appButtonData=(AppButtonData)view.getTag();
    if (appButtonData == null)     return;
    appButtonData.clearTasks();
  }
  int size=tasks.size();
  for (int i=0; i != size; ++i) {
    RecentTaskInfo task=tasks.get(i);
    AppInfo taskAppInfo=taskToAppInfo(task);
    if (taskAppInfo == null)     continue;
    AppButtonData appButtonData=findAppButtonData(taskAppInfo);
    if (appButtonData == null) {
      appButtonData=new AppButtonData(taskAppInfo,false);
      addAppButton(appButtonData);
    }
    appButtonData.addTask(task);
  }
  for (int i=getChildCount() - 1; i >= 0; --i) {
    View view=getChildAt(i);
    AppButtonData appButtonData=(AppButtonData)view.getTag();
    if (appButtonData == null)     return;
    if (appButtonData.isEmpty()) {
      removeViewAt(i);
    }
  }
  if (DEBUG) {
    for (int i=getChildCount() - 1; i >= 0; --i) {
      View view=getChildAt(i);
      AppButtonData appButtonData=(AppButtonData)view.getTag();
      if (appButtonData == null)       return;
      new GetActivityIconTask(mPackageManager,(ImageView)view).execute(appButtonData);
    }
  }
}
