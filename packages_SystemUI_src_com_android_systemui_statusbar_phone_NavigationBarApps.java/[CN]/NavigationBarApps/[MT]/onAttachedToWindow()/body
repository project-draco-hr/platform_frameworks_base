{
  super.onAttachedToWindow();
  ViewGroup parent=(ViewGroup)getParent();
  LayoutTransition transition=new LayoutTransition();
  transition.disableTransitionType(LayoutTransition.APPEARING);
  transition.disableTransitionType(LayoutTransition.DISAPPEARING);
  transition.disableTransitionType(LayoutTransition.CHANGE_APPEARING);
  transition.disableTransitionType(LayoutTransition.CHANGE_DISAPPEARING);
  transition.enableTransitionType(LayoutTransition.CHANGING);
  parent.setLayoutTransition(transition);
  mCurrentUserSerialNumber=mUserManager.getSerialNumberForUser(new UserHandle(ActivityManager.getCurrentUser()));
  sAppsModel.setCurrentUser(mCurrentUserSerialNumber);
  recreateAppButtons();
  IntentFilter filter=new IntentFilter();
  filter.addAction(Intent.ACTION_USER_SWITCHED);
  mContext.registerReceiver(mBroadcastReceiver,filter);
}
