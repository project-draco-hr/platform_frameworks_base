{
  super.onAttachedToWindow();
  ViewGroup parent=(ViewGroup)getParent();
  LayoutTransition transition=new LayoutTransition();
  transition.disableTransitionType(LayoutTransition.APPEARING);
  transition.disableTransitionType(LayoutTransition.DISAPPEARING);
  transition.disableTransitionType(LayoutTransition.CHANGE_APPEARING);
  transition.disableTransitionType(LayoutTransition.CHANGE_DISAPPEARING);
  transition.enableTransitionType(LayoutTransition.CHANGING);
  parent.setLayoutTransition(transition);
  sAppsModel.setCurrentUser(ActivityManager.getCurrentUser());
  recreatePinnedAppButtons();
  updateRecentApps();
  IntentFilter filter=new IntentFilter();
  filter.addAction(Intent.ACTION_USER_SWITCHED);
  filter.addAction(Intent.ACTION_MANAGED_PROFILE_REMOVED);
  mContext.registerReceiver(mBroadcastReceiver,filter);
  mAppPackageMonitor.register(mContext,null,UserHandle.ALL,true);
}
