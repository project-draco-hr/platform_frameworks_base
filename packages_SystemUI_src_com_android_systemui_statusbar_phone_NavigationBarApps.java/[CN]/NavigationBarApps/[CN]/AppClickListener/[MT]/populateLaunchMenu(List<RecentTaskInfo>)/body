{
  Menu menu=mPopupMenu.getMenu();
  int taskCount=tasks.size();
  for (int i=0; i < taskCount; ++i) {
    final RecentTaskInfo taskInfo=tasks.get(i);
    MenuItem item=menu.add(getActivityForTask(taskInfo).flattenToShortString());
    item.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener(){
      @Override public boolean onMenuItemClick(      MenuItem item){
        activateTask(taskInfo.persistentId);
        return true;
      }
    }
);
  }
}
