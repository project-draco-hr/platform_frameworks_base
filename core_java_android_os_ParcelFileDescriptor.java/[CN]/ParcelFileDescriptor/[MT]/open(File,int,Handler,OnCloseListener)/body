{
  if (handler == null) {
    throw new IllegalArgumentException("Handler must not be null");
  }
  if (listener == null) {
    throw new IllegalArgumentException("Listener must not be null");
  }
  final FileDescriptor fd=openInternal(file,mode);
  if (fd == null)   return null;
  final FileDescriptor[] comm=createCommSocketPair();
  final ParcelFileDescriptor pfd=new ParcelFileDescriptor(fd,comm[0]);
  IoUtils.setBlocking(comm[1],true);
  final ListenerBridge bridge=new ListenerBridge(comm[1],handler.getLooper(),listener);
  bridge.start();
  return pfd;
}
