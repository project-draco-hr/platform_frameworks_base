{
  try {
    final int n=Libcore.os.read(comm,buf,0,buf.length);
    if (n == 0) {
      return new Status(Status.DEAD);
    }
 else {
      final int status=Memory.peekInt(buf,0,ByteOrder.BIG_ENDIAN);
      if (status == Status.ERROR) {
        final String msg=new String(buf,4,n - 4);
        return new Status(status,msg);
      }
      return new Status(status);
    }
  }
 catch (  ErrnoException e) {
    if (e.errno == OsConstants.EAGAIN) {
      return null;
    }
 else {
      Log.d(TAG,"Failed to read status; assuming dead: " + e);
      return new Status(Status.DEAD);
    }
  }
}
