{
  try {
    final FileDescriptor comm1=new FileDescriptor();
    final FileDescriptor comm2=new FileDescriptor();
    Libcore.os.socketpair(AF_UNIX,SOCK_STREAM,0,comm1,comm2);
    IoUtils.setBlocking(comm1,blocking);
    IoUtils.setBlocking(comm2,blocking);
    return new FileDescriptor[]{comm1,comm2};
  }
 catch (  ErrnoException e) {
    throw e.rethrowAsIOException();
  }
}
