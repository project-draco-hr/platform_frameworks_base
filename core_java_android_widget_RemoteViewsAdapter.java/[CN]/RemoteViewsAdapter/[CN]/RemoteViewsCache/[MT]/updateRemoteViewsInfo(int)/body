{
  if (mServiceConnection.isConnected()) {
    IRemoteViewsFactory factory=mServiceConnection.getRemoteViewsFactory();
    RemoteViews remoteView=null;
    long itemId=0;
    try {
      remoteView=factory.getViewAt(position);
      itemId=factory.getItemId(position);
    }
 catch (    RemoteException e) {
      e.printStackTrace();
    }
synchronized (mViewCache) {
      if (position < mViewCacheStartPosition || position > mViewCacheEndPosition)       return;
      final int positionIndex=position;
      final int cacheIndex=getCacheIndex(position);
      mViewCache[cacheIndex].set(remoteView,itemId);
      mMainQueue.post(new Runnable(){
        @Override public void run(){
synchronized (mViewCache) {
            if (containsAndIsValid(positionIndex)) {
              RemoteViewsIndexInfo indexInfo=mViewCache[cacheIndex];
              FrameLayout flipper=indexInfo.flipper;
              flipper.getChildAt(0).setVisibility(View.GONE);
              boolean addNewView=true;
              if (flipper.getChildCount() > 1) {
                View v=flipper.getChildAt(1);
                int typeId=((Integer)v.getTag()).intValue();
                if (typeId == indexInfo.typeId) {
                  indexInfo.view.reapply(mContext,v);
                  v.setVisibility(View.VISIBLE);
                  if (v.getAnimation() != null)                   v.buildDrawingCache();
                  addNewView=false;
                }
 else {
                  flipper.removeViewAt(1);
                }
              }
              if (addNewView) {
                View v=indexInfo.view.apply(mContext,flipper);
                v.setTag(new Integer(indexInfo.typeId));
                flipper.addView(v);
              }
            }
          }
        }
      }
);
    }
  }
}
