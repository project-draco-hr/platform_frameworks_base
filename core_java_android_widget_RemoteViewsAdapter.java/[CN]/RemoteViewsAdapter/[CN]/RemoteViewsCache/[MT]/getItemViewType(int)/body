{
synchronized (mViewCache) {
    if (containsAndIsValid(position)) {
      int viewId=mViewCache[getCacheIndex(position)].typeId;
      Map<Integer,Integer> typeMap=mViewCacheInfo.mTypeIdIndexMap;
      if (typeMap.containsKey(viewId)) {
        return typeMap.get(viewId);
      }
 else {
        int newIndex=typeMap.size() + 1;
        typeMap.put(viewId,newIndex);
        return newIndex;
      }
    }
  }
  return 0;
}
