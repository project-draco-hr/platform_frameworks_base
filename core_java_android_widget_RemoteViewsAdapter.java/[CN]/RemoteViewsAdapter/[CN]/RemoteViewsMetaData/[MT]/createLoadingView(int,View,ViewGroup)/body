{
  final Context context=parent.getContext();
  RemoteViewsFrameLayout layout=new RemoteViewsFrameLayout(context);
synchronized (mCache) {
    if (mUserLoadingView != null) {
      View loadingView=mUserLoadingView.apply(parent.getContext(),parent);
      loadingView.setTag(new Integer(0));
      layout.addView(loadingView);
    }
 else {
      if (mFirstViewHeight < 0) {
        View firstView=mFirstView.apply(parent.getContext(),parent);
        firstView.measure(MeasureSpec.makeMeasureSpec(0,MeasureSpec.UNSPECIFIED),MeasureSpec.makeMeasureSpec(0,MeasureSpec.UNSPECIFIED));
        mFirstViewHeight=firstView.getMeasuredHeight();
        mFirstView=null;
      }
      TextView textView=new TextView(parent.getContext());
      textView.setText(com.android.internal.R.string.loading);
      textView.setHeight(mFirstViewHeight);
      textView.setGravity(Gravity.CENTER_HORIZONTAL | Gravity.CENTER_VERTICAL);
      textView.setTextSize(18.0f);
      textView.setTextColor(Color.argb(96,255,255,255));
      textView.setShadowLayer(2.0f,0.0f,1.0f,Color.BLACK);
      textView.setTag(new Integer(0));
      layout.addView(textView);
    }
  }
  return layout;
}
