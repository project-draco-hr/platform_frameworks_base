{
  if (mIndexRemoteViews.size() >= mMaxCount) {
    mIndexRemoteViews.remove(getFarthestPositionFrom(position,visibleWindow));
  }
  int pruneFromPosition=(mLastRequestedIndex > -1) ? mLastRequestedIndex : position;
  while (getRemoteViewsBitmapMemoryUsage() >= sMaxMemoryLimitInBytes) {
    int trimIndex=getFarthestPositionFrom(pruneFromPosition,visibleWindow);
    if (trimIndex < 0) {
      break;
    }
    mIndexRemoteViews.remove(trimIndex);
  }
  final RemoteViewsIndexMetaData metaData=mIndexMetaData.get(position);
  if (metaData != null) {
    metaData.set(v,itemId);
  }
 else {
    mIndexMetaData.put(position,new RemoteViewsIndexMetaData(v,itemId));
  }
  mIndexRemoteViews.put(position,v);
}
