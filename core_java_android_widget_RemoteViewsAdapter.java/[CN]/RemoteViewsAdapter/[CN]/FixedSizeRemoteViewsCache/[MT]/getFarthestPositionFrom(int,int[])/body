{
  int maxDist=0;
  int maxDistIndex=-1;
  int maxDistNotVisible=0;
  int maxDistIndexNotVisible=-1;
  for (int i=mIndexRemoteViews.size() - 1; i >= 0; i--) {
    int index=mIndexRemoteViews.keyAt(i);
    int dist=Math.abs(index - pos);
    if (dist > maxDistNotVisible && Arrays.binarySearch(visibleWindow,index) < 0) {
      maxDistIndexNotVisible=index;
      maxDistNotVisible=dist;
    }
    if (dist >= maxDist) {
      maxDistIndex=index;
      maxDist=dist;
    }
  }
  if (maxDistIndexNotVisible > -1) {
    return maxDistIndexNotVisible;
  }
  return maxDistIndex;
}
