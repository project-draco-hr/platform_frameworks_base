{
synchronized (mCache) {
    RemoteViews rv=mCache.getRemoteViewsAt(position);
    boolean isInCache=(rv != null);
    boolean isConnected=mServiceConnection.isConnected();
    boolean hasNewItems=false;
    if (convertView != null && convertView instanceof RemoteViewsFrameLayout) {
      mRequestedViews.removeView((RemoteViewsFrameLayout)convertView);
    }
    if (!isInCache && !isConnected) {
      requestBindService();
    }
 else {
      hasNewItems=mCache.queuePositionsToBePreloadedFromRequestedPosition(position);
    }
    final RemoteViewsFrameLayout layout=(convertView instanceof RemoteViewsFrameLayout) ? (RemoteViewsFrameLayout)convertView : new RemoteViewsFrameLayout(parent.getContext(),mCache);
    if (isInCache) {
      layout.onRemoteViewsLoaded(rv,mRemoteViewsOnClickHandler);
      if (hasNewItems)       loadNextIndexInBackground();
    }
 else {
      layout.onRemoteViewsLoaded(mCache.getMetaData().mUserLoadingView,mRemoteViewsOnClickHandler);
      mRequestedViews.add(position,layout);
      mCache.queueRequestedPositionToLoad(position);
      loadNextIndexInBackground();
    }
    return layout;
  }
}
