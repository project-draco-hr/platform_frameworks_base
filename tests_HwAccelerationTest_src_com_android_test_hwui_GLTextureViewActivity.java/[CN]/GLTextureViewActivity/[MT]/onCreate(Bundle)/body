{
  super.onCreate(savedInstanceState);
  mTextureView=new TextureView(this);
  mTextureView.setSurfaceTextureListener(this);
  mTextureView.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      Bitmap b=mTextureView.getBitmap(800,800);
      BufferedOutputStream out=null;
      try {
        out=new BufferedOutputStream(new FileOutputStream("/sdcard/out.png"));
        b.compress(Bitmap.CompressFormat.PNG,100,out);
      }
 catch (      FileNotFoundException e) {
        e.printStackTrace();
      }
 finally {
        if (out != null)         try {
          out.close();
        }
 catch (        IOException e) {
          e.printStackTrace();
        }
      }
    }
  }
);
  setContentView(mTextureView,new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT,Gravity.CENTER));
}
