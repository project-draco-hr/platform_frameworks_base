{
  boolean ret;
  int serviceState=phone.getServiceState().getState();
  ret=(serviceState != ServiceState.STATE_POWER_OFF) && pendingMO == null && !ringingCall.isRinging() && (!foregroundCall.getState().isAlive() || (foregroundCall.getState() == CdmaCall.State.ACTIVE) || !backgroundCall.getState().isAlive());
  return ret;
}
