{
  Spanned spanned=Html.fromHtml("Hello <b>b<i>bi</b>i</i>");
  Object[] spans=spanned.getSpans(0,100,Object.class);
  assertEquals(Typeface.ITALIC,((StyleSpan)spans[0]).getStyle());
  assertEquals(7,spanned.getSpanStart(spans[0]));
  assertEquals(9,spanned.getSpanEnd(spans[0]));
  assertEquals(Typeface.BOLD,((StyleSpan)spans[1]).getStyle());
  assertEquals(6,spanned.getSpanStart(spans[1]));
  assertEquals(9,spanned.getSpanEnd(spans[1]));
  assertEquals(Typeface.ITALIC,((StyleSpan)spans[2]).getStyle());
  assertEquals(9,spanned.getSpanStart(spans[2]));
  assertEquals(10,spanned.getSpanEnd(spans[2]));
}
