{
  Object listener=getListener(message.arg2,false);
switch (message.what) {
case AsyncChannel.CMD_CHANNEL_DISCONNECTED:
    if (mChannelListener != null) {
      mChannelListener.onChannelDisconnected();
      mChannelListener=null;
    }
  break;
case REQUEST_ANQP_INFO_SUCCEEDED:
PasspointInfo pi=(PasspointInfo)message.obj;
anqpRequestFinish(pi);
if (listener != null) {
((ActionListener)listener).onSuccess();
}
break;
case REQUEST_ANQP_INFO_FAILED:
anqpRequestFinish((ScanResult)message.obj);
if (listener == null) getListener(message.arg2,true);
if (listener != null) {
((ActionListener)listener).onFailure(message.arg1);
}
break;
default :
Log.d(TAG,"Ignored " + message);
break;
}
}
