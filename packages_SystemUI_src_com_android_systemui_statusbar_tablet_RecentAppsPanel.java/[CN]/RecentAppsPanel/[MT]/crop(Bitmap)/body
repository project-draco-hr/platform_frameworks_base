{
  if (bitmap == null || bitmap.getWidth() >= bitmap.getHeight()) {
    return bitmap;
  }
  final int width=bitmap.getWidth();
  final int height=bitmap.getHeight();
  Bitmap outBitmap=Bitmap.createBitmap(height,width,bitmap.getConfig());
  Canvas canvas=new Canvas(outBitmap);
  Paint paint=new Paint();
  paint.setAntiAlias(true);
  paint.setFilterBitmap(true);
  canvas.drawBitmap(bitmap,new Rect(0,0,bitmap.getWidth(),bitmap.getHeight() - height * width / height),new Rect(0,0,outBitmap.getWidth(),outBitmap.getHeight()),paint);
  return outBitmap;
}
