{
  mRecentsContainer.removeAllViews();
  final float initialAlpha=0.0f;
  final int first=0;
  final boolean isPortrait=config.orientation == Configuration.ORIENTATION_PORTRAIT;
  final int taskCount=isPortrait ? DISPLAY_TASKS_PORTRAIT : DISPLAY_TASKS_LANDSCAPE;
  final int last=Math.min(mActivityDescriptions.size(),taskCount) - 1;
  ArrayList<Animator> anims=new ArrayList<Animator>(last + 1);
  DecelerateInterpolator interp=new DecelerateInterpolator();
  for (int i=last; i >= first; i--) {
    ActivityDescription activityDescription=mActivityDescriptions.get(i);
    View view=View.inflate(mContext,R.layout.status_bar_recent_item,null);
    ImageView appThumbnail=(ImageView)view.findViewById(R.id.app_thumbnail);
    ImageView appIcon=(ImageView)view.findViewById(R.id.app_icon);
    TextView appLabel=(TextView)view.findViewById(R.id.app_label);
    TextView appDesc=(TextView)view.findViewById(R.id.app_description);
    final Bitmap thumb=activityDescription.thumbnail;
    appThumbnail.setImageBitmap(crop(thumb));
    appIcon.setImageDrawable(activityDescription.icon);
    appLabel.setText(activityDescription.label);
    appDesc.setText(activityDescription.description);
    view.setOnClickListener(this);
    view.setTag(activityDescription);
    mRecentsContainer.addView(view);
    if (animate) {
      view.setAlpha(initialAlpha);
      ObjectAnimator anim=ObjectAnimator.ofFloat(view,"alpha",initialAlpha,1.0f);
      anim.setDuration(ALPHA_ANIMATION_DURATION);
      anim.setStartDelay((last - i) * STAGGER_ANIMATION_DELAY);
      anim.setInterpolator(interp);
      anims.add(anim);
    }
  }
  int views=mRecentsContainer.getChildCount();
  mRecentsContainer.setVisibility(views > 0 ? View.VISIBLE : View.GONE);
  mRecentsGlowView.setVisibility(views > 0 ? View.VISIBLE : View.GONE);
  if (animate && views > 0) {
    ObjectAnimator anim=ObjectAnimator.ofFloat(mRecentsGlowView,"alpha",initialAlpha,1.0f);
    anim.setDuration((last - first) * STAGGER_ANIMATION_DELAY);
    anim.setInterpolator(interp);
    anims.add(anim);
  }
  if (animate) {
    ObjectAnimator anim=ObjectAnimator.ofFloat(mBackgroundProtector,"alpha",initialAlpha,1.0f);
    anim.setDuration(last * STAGGER_ANIMATION_DELAY);
    anim.setInterpolator(interp);
    anims.add(anim);
  }
  if (anims.size() > 0) {
    mAnimationSet=new AnimatorSet();
    mAnimationSet.playTogether(anims);
    mAnimationSet.start();
  }
}
