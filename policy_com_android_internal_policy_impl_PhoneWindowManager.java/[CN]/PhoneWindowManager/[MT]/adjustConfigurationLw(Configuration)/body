{
  readLidState();
  mPowerManager.setKeyboardVisibility(mLidOpen);
  config.keyboardHidden=mLidOpen ? Configuration.KEYBOARDHIDDEN_NO : Configuration.KEYBOARDHIDDEN_YES;
  if (keyguardIsShowingTq()) {
    if (mLidOpen) {
      mKeyguardMediator.pokeWakelock();
    }
  }
 else {
    mPowerManager.userActivity(SystemClock.uptimeMillis(),false,LocalPowerManager.OTHER_EVENT);
  }
}
