{
  readLidState();
  final boolean lidOpen=!KEYBOARD_ALWAYS_HIDDEN && mLidOpen;
  mPowerManager.setKeyboardVisibility(lidOpen);
  config.hardKeyboardHidden=determineHiddenState(lidOpen,mLidKeyboardAccessibility,Configuration.HARDKEYBOARDHIDDEN_YES,Configuration.HARDKEYBOARDHIDDEN_NO);
  config.navigationHidden=determineHiddenState(lidOpen,mLidNavigationAccessibility,Configuration.NAVIGATIONHIDDEN_YES,Configuration.NAVIGATIONHIDDEN_NO);
  config.keyboardHidden=(config.hardKeyboardHidden == Configuration.HARDKEYBOARDHIDDEN_NO || mHasSoftInput) ? Configuration.KEYBOARDHIDDEN_NO : Configuration.KEYBOARDHIDDEN_YES;
}
