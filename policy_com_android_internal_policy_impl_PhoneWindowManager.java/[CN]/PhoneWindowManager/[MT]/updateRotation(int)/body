{
  mPowerManager.setKeyboardVisibility(mLidOpen);
  int rotation=Surface.ROTATION_0;
  if (mLidOpen) {
    rotation=mLidOpenRotation;
  }
 else   if (mUiMode == Configuration.UI_MODE_TYPE_CAR && mCarDockRotation >= 0) {
    rotation=mCarDockRotation;
  }
 else   if (mUiMode == Configuration.UI_MODE_TYPE_DESK && mDeskDockRotation >= 0) {
    rotation=mDeskDockRotation;
  }
  try {
    mWindowManager.setRotation(rotation,true,mFancyRotationAnimation | animFlags);
  }
 catch (  RemoteException e) {
  }
}
