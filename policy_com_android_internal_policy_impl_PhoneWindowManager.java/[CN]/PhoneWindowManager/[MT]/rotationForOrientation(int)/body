{
switch (orientation) {
case ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE:
    return Surface.ROTATION_90;
case ActivityInfo.SCREEN_ORIENTATION_PORTRAIT:
  return Surface.ROTATION_0;
}
if (mLidOpen) {
return Surface.ROTATION_90;
}
 else {
if (useSensorForOrientation()) {
  return mSensorRotation >= 0 ? mSensorRotation : Surface.ROTATION_0;
}
return Surface.ROTATION_0;
}
}
