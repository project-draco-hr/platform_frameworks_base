{
  if (input == null) {
    throw new IllegalArgumentException("input source cannot be NULL");
  }
  Iterator<ImageInputStreamSpi> it=registry.getServiceProviders(ImageInputStreamSpi.class,true);
  while (it.hasNext()) {
    ImageInputStreamSpi spi=it.next();
    if (spi.getInputClass().isInstance(input)) {
      return spi.createInputStreamInstance(input);
    }
  }
  return null;
}
