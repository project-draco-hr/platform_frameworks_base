{
  if (output == null) {
    throw new IllegalArgumentException("output cannot be NULL");
  }
  if (output.exists()) {
    output.delete();
  }
  ImageOutputStream ios=createImageOutputStream(output);
  boolean rt=write(im,formatName,ios);
  ios.close();
  return rt;
}
