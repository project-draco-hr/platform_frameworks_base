{
  String[] tokens=supplicantEvent.split(" ");
  if (tokens.length < 2 || !tokens[0].equals("P2P-GO-NEG-REQUEST")) {
    throw new IllegalArgumentException("Malformed supplicant event");
  }
  deviceAddress=tokens[1];
  wps=new WpsInfo();
  if (tokens.length > 2) {
    String[] nameVal=tokens[2].split("=");
    int devPasswdId;
    try {
      devPasswdId=Integer.parseInt(nameVal[1]);
    }
 catch (    NumberFormatException e) {
      devPasswdId=0;
    }
switch (devPasswdId) {
case 0x01:
      wps.setup=WpsInfo.DISPLAY;
    break;
case 0x04:
  wps.setup=WpsInfo.PBC;
break;
case 0x05:
wps.setup=WpsInfo.KEYPAD;
break;
default :
wps.setup=WpsInfo.PBC;
break;
}
}
}
