{
  mPackageManager.setComponentEnabledSetting(DISABLED_PROVIDER_COMPONENTNAME,COMPONENT_ENABLED_STATE_DEFAULT,PackageManager.DONT_KILL_APP);
  PackageInfo pi=mPackageManager.getPackageInfo(ENABLED_PACKAGENAME,0);
  String disabledProviderProcessName=getComponentProcessName(DISABLED_PROVIDER_NAME);
  List<ProviderInfo> providerInfoList=mPackageManager.queryContentProviders(disabledProviderProcessName,pi.applicationInfo.uid,0);
  assertNull(providerInfoList);
  List<ProviderInfo> providerInfoList2=mPackageManager.queryContentProviders(disabledProviderProcessName,pi.applicationInfo.uid,GET_DISABLED_COMPONENTS);
  assertNotNull(providerInfoList2);
  assertEquals(1,providerInfoList2.size());
  assertEquals(DISABLED_PROVIDER_CLASSNAME,providerInfoList2.get(0).name);
}
