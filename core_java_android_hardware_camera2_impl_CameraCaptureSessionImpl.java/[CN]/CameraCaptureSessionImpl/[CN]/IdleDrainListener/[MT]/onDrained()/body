{
  if (VERBOSE)   Log.v(TAG,mIdString + "onIdleDrained");
synchronized (mDeviceImpl.mInterfaceLock) {
synchronized (CameraCaptureSessionImpl.this) {
      if (VERBOSE)       Log.v(TAG,mIdString + "Session drain complete, skip unconfigure: " + mSkipUnconfigure);
      if (mSkipUnconfigure) {
        mStateCallback.onClosed(CameraCaptureSessionImpl.this);
        return;
      }
      mUnconfigureDrainer.taskStarted();
      try {
        mDeviceImpl.configureStreamsChecked(null,null);
      }
 catch (      CameraAccessException e) {
        Log.e(TAG,mIdString + "Exception while configuring outputs: ",e);
      }
catch (      IllegalStateException e) {
        if (VERBOSE)         Log.v(TAG,mIdString + "Camera was already closed or busy, skipping unconfigure");
        mUnconfigureDrainer.taskFinished();
      }
      mUnconfigureDrainer.beginDrain();
    }
  }
}
