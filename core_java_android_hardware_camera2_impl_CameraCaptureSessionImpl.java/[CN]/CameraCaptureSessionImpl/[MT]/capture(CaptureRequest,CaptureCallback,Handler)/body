{
  if (request == null) {
    throw new IllegalArgumentException("request must not be null");
  }
 else   if (request.isReprocess() && !isReprocessable()) {
    throw new IllegalArgumentException("this capture session cannot handle reprocess " + "requests");
  }
 else   if (request.isReprocess() && request.getReprocessableSessionId() != mId) {
    throw new IllegalArgumentException("capture request was created for another session");
  }
  checkNotClosed();
  handler=checkHandler(handler,callback);
  if (DEBUG) {
    Log.v(TAG,mIdString + "capture - request " + request+ ", callback "+ callback+ " handler "+ handler);
  }
  return addPendingSequence(mDeviceImpl.capture(request,createCaptureCallbackProxy(handler,callback),mDeviceHandler));
}
