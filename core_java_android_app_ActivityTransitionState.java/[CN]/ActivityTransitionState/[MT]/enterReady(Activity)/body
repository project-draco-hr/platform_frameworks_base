{
  if (mEnterActivityOptions == null) {
    return;
  }
  mHasExited=false;
  ArrayList<String> sharedElementNames=mEnterActivityOptions.getSharedElementNames();
  ResultReceiver resultReceiver=mEnterActivityOptions.getResultReceiver();
  if (mEnterActivityOptions.isReturning()) {
    restoreExitedViews();
    activity.getWindow().getDecorView().setVisibility(View.VISIBLE);
    mEnterTransitionCoordinator=new EnterTransitionCoordinator(activity,resultReceiver,sharedElementNames,mExitingFrom,mExitingTo);
  }
 else {
    mEnterTransitionCoordinator=new EnterTransitionCoordinator(activity,resultReceiver,sharedElementNames,null,null);
    mEnteringNames=sharedElementNames;
    mEnteringFrom=mEnterTransitionCoordinator.getAcceptedNames();
    mEnteringTo=mEnterTransitionCoordinator.getMappedNames();
  }
  mExitingFrom=null;
  mExitingTo=null;
  mEnterActivityOptions=null;
}
