{
  if (!activity.getWindow().hasFeature(Window.FEATURE_ACTIVITY_TRANSITIONS)) {
    return;
  }
  ActivityOptions activityOptions=new ActivityOptions(options);
  mEnterTransitionCoordinator=null;
  if (activityOptions.getAnimationType() == ActivityOptions.ANIM_SCENE_TRANSITION) {
    int key=activityOptions.getExitCoordinatorKey();
    int index=mExitTransitionCoordinators.indexOfKey(key);
    if (index >= 0) {
      mCalledExitCoordinator=mExitTransitionCoordinators.valueAt(index).get();
      mExitTransitionCoordinators.removeAt(index);
      if (mCalledExitCoordinator != null) {
        mExitingFrom=mCalledExitCoordinator.getAcceptedNames();
        mExitingTo=mCalledExitCoordinator.getMappedNames();
        mExitingToView=mCalledExitCoordinator.copyMappedViews();
        mCalledExitCoordinator.startExit();
      }
    }
  }
}
