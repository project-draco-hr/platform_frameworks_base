{
  if (Environment.isExternalStorageEmulated()) {
    return;
  }
  int iFlags=0;
  int iApk=R.raw.install_loc_sdcard;
  int rFlags=0;
  int rApk=R.raw.install_loc_unspecified;
  InstallParams ip=installFromRawResource("install.apk",iApk,iFlags,false,false,-1,PackageInfo.INSTALL_LOCATION_PREFER_EXTERNAL);
  int replaceFlags=rFlags | PackageManager.INSTALL_REPLACE_EXISTING;
  try {
    InstallParams rp=installFromRawResource("install.apk",rApk,replaceFlags,false,false,-1,PackageInfo.INSTALL_LOCATION_PREFER_EXTERNAL);
    assertInstall(rp.pkg,replaceFlags,ip.pkg.installLocation);
  }
 catch (  Exception e) {
    failStr("Failed with exception : " + e);
  }
 finally {
    cleanUpInstall(ip);
  }
}
