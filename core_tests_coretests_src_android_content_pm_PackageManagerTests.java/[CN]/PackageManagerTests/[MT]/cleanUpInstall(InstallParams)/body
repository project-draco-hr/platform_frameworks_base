{
  if (ip == null) {
    return;
  }
  Runtime.getRuntime().gc();
  final String packageName=ip.pkg.packageName;
  Log.i(TAG,"Deleting package : " + packageName);
  ApplicationInfo info=null;
  try {
    info=getPm().getApplicationInfo(packageName,PackageManager.GET_UNINSTALLED_PACKAGES);
  }
 catch (  NameNotFoundException ignored) {
  }
  DeleteObserver observer=new DeleteObserver(packageName);
  getPm().deletePackage(packageName,observer,0);
  observer.waitForCompletion(MAX_WAIT_TIME);
  try {
    if (info != null) {
      assertUninstalled(info);
    }
  }
  finally {
    File outFile=new File(ip.pkg.mScanPath);
    if (outFile != null && outFile.exists()) {
      outFile.delete();
    }
  }
}
