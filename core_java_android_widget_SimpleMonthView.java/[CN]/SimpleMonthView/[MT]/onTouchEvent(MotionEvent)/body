{
  final int x=(int)(event.getX() + 0.5f);
  final int y=(int)(event.getY() + 0.5f);
  final int action=event.getAction();
switch (action) {
case MotionEvent.ACTION_DOWN:
case MotionEvent.ACTION_MOVE:
    final int touchedItem=getDayAtLocation(x,y);
  mIsTouchHighlighted=true;
if (mHighlightedDay != touchedItem) {
  mHighlightedDay=touchedItem;
  mPreviouslyHighlightedDay=touchedItem;
  invalidate();
}
if (action == MotionEvent.ACTION_DOWN && touchedItem < 0) {
return false;
}
break;
case MotionEvent.ACTION_UP:
final int clickedDay=getDayAtLocation(x,y);
onDayClicked(clickedDay);
case MotionEvent.ACTION_CANCEL:
mHighlightedDay=-1;
mIsTouchHighlighted=false;
invalidate();
break;
}
return true;
}
