{
  final TextPaint p=mDayPaint;
  final int headerHeight=mMonthHeight + mDayOfWeekHeight;
  final int rowHeight=mDayHeight;
  final int colWidth=mPaddedWidth / DAYS_IN_WEEK;
  final float halfLineHeight=(p.ascent() + p.descent()) / 2f;
  int rowCenter=headerHeight + rowHeight / 2;
  for (int day=1, col=findDayOffset(); day <= mDaysInMonth; day++) {
    final int colCenter=colWidth * col + colWidth / 2;
    int stateMask=0;
    if (day >= mEnabledDayStart && day <= mEnabledDayEnd) {
      stateMask|=StateSet.VIEW_STATE_ENABLED;
    }
    final boolean isDayActivated=mActivatedDay == day;
    if (isDayActivated) {
      stateMask|=StateSet.VIEW_STATE_ACTIVATED;
      canvas.drawCircle(colCenter,rowCenter,mDaySelectorRadius,mDaySelectorPaint);
    }
 else     if (mTouchedItem == day) {
      stateMask|=StateSet.VIEW_STATE_PRESSED;
      canvas.drawCircle(colCenter,rowCenter,mDaySelectorRadius,mDayHighlightPaint);
    }
    final boolean isDayToday=mToday == day;
    final int dayTextColor;
    if (isDayToday && !isDayActivated) {
      dayTextColor=mDaySelectorPaint.getColor();
    }
 else {
      final int[] stateSet=StateSet.get(stateMask);
      dayTextColor=mDayTextColor.getColorForState(stateSet,0);
    }
    p.setColor(dayTextColor);
    canvas.drawText(Integer.toString(day),colCenter,rowCenter - halfLineHeight,p);
    col++;
    if (col == DAYS_IN_WEEK) {
      col=0;
      rowCenter+=rowHeight;
    }
  }
}
