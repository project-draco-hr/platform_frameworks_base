{
  final TypedArray ta=mContext.obtainStyledAttributes(null,R.styleable.TextAppearance,0,resId);
  final String fontFamily=ta.getString(R.styleable.TextAppearance_fontFamily);
  if (fontFamily != null) {
    p.setTypeface(Typeface.create(fontFamily,0));
  }
  p.setTextSize(ta.getDimensionPixelSize(R.styleable.TextAppearance_textSize,(int)p.getTextSize()));
  final ColorStateList textColor=ta.getColorStateList(R.styleable.TextAppearance_textColor);
  if (textColor != null) {
    final int enabledColor=textColor.getColorForState(ENABLED_STATE_SET,0);
    p.setColor(enabledColor);
  }
  ta.recycle();
  return textColor;
}
