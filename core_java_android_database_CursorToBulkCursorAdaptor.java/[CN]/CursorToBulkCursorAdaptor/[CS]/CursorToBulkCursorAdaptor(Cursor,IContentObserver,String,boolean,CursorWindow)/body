{
  try {
    mCursor=(CrossProcessCursor)cursor;
    if (mCursor instanceof AbstractWindowedCursor) {
      AbstractWindowedCursor windowedCursor=(AbstractWindowedCursor)cursor;
      if (windowedCursor.hasWindow()) {
        if (Log.isLoggable(TAG,Log.VERBOSE) || Config.LOGV) {
          Log.v(TAG,"Cross process cursor has a local window before setWindow in " + providerName,new RuntimeException());
        }
      }
      windowedCursor.setWindow(window);
    }
 else {
      mWindow=window;
      mCursor.fillWindow(0,window);
    }
  }
 catch (  ClassCastException e) {
    throw new UnsupportedOperationException("Only CrossProcessCursor cursors are supported across process for now",e);
  }
  mProviderName=providerName;
  mReadOnly=!allowWrite;
  createAndRegisterObserverProxy(observer);
}
