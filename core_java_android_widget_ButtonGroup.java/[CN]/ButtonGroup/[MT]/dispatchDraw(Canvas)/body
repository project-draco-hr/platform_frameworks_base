{
  final boolean begin=(mShowDividers & SHOW_DIVIDER_BEGINNING) == SHOW_DIVIDER_BEGINNING;
  final boolean middle=(mShowDividers & SHOW_DIVIDER_MIDDLE) == SHOW_DIVIDER_MIDDLE;
  final boolean end=(mShowDividers & SHOW_DIVIDER_END) == SHOW_DIVIDER_END;
  final boolean vertical=getOrientation() == VERTICAL;
  final Rect bounds=mTempRect;
  bounds.left=mPaddingLeft;
  bounds.right=mRight - mLeft - mPaddingRight;
  bounds.top=mPaddingTop;
  bounds.bottom=mBottom - mTop - mPaddingBottom;
  if (begin) {
    if (vertical) {
      bounds.bottom=bounds.top + mDividerHeight;
    }
 else {
      bounds.right=bounds.left + mDividerWidth;
    }
    mDivider.setBounds(bounds);
    mDivider.draw(canvas);
  }
  final int childCount=getChildCount();
  int i=0;
  while (i < childCount) {
    final View child=getChildAt(i);
    i++;
    if ((middle && i < childCount && child.getVisibility() != GONE) || end) {
      if (vertical) {
        bounds.top=child.getBottom();
        bounds.bottom=bounds.top + mDividerHeight;
      }
 else {
        bounds.left=child.getRight();
        bounds.right=bounds.left + mDividerWidth;
      }
      mDivider.setBounds(bounds);
      mDivider.draw(canvas);
    }
  }
  super.dispatchDraw(canvas);
}
