{
  int count=5;
  long interval=1000;
  try {
    while (count-- > 0 && detector.getQueryThread() == null) {
      Thread.sleep(interval);
    }
  }
 catch (  InterruptedException e) {
  }
  Thread thread=detector.getQueryThread();
  assertTrue(thread != null);
  return thread;
}
