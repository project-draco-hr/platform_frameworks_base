{
  if (dngOutput == null || pixels == null) {
    throw new NullPointerException("Null argument to writeImage");
  }
  int format=pixels.getFormat();
  if (format != ImageFormat.RAW_SENSOR) {
    throw new IllegalArgumentException("Unsupported image format " + format);
  }
  Image.Plane[] planes=pixels.getPlanes();
  nativeWriteImage(dngOutput,pixels.getWidth(),pixels.getHeight(),planes[0].getBuffer(),planes[0].getRowStride(),planes[0].getPixelStride());
}
