{
  mContext=Preconditions.checkNotNull(context);
  mCallback=Preconditions.checkNotNull(callback);
  mMenu=new MenuBuilder(context).setDefaultShowAsAction(MenuItem.SHOW_AS_ACTION_IF_ROOM);
  setType(ActionMode.TYPE_FLOATING);
  mContentRect=new Rect();
  mContentRectOnWindow=new Rect();
  mPreviousContentRectOnWindow=new Rect();
  mViewPosition=new int[2];
  mPreviousViewPosition=new int[2];
  mRootViewPosition=new int[2];
  mViewRect=new Rect();
  mPreviousViewRect=new Rect();
  mScreenRect=new Rect();
  mOriginatingView=Preconditions.checkNotNull(originatingView);
  mOriginatingView.getLocationInWindow(mViewPosition);
  mBottomAllowance=context.getResources().getDimensionPixelSize(R.dimen.content_rect_bottom_clip_allowance);
}
