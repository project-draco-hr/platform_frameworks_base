{
  mContext=Preconditions.checkNotNull(context);
  mCallback=Preconditions.checkNotNull(callback);
  mMenu=new MenuBuilder(context).setDefaultShowAsAction(MenuItem.SHOW_AS_ACTION_IF_ROOM);
  setType(ActionMode.TYPE_FLOATING);
  mContentRect=new Rect();
  mContentRectOnScreen=new Rect();
  mPreviousContentRectOnScreen=new Rect();
  mViewPositionOnScreen=new int[2];
  mPreviousViewPositionOnScreen=new int[2];
  mRootViewPositionOnScreen=new int[2];
  mViewRectOnScreen=new Rect();
  mPreviousViewRectOnScreen=new Rect();
  mScreenRect=new Rect();
  mOriginatingView=Preconditions.checkNotNull(originatingView);
  mOriginatingView.getLocationOnScreen(mViewPositionOnScreen);
  mBottomAllowance=context.getResources().getDimensionPixelSize(R.dimen.content_rect_bottom_clip_allowance);
}
