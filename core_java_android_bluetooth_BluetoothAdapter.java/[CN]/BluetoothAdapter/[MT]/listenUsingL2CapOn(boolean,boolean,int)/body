{
  BluetoothServerSocket socket;
  if (fixedChannel) {
    channel|=BluetoothSocket.PORT_MASK_FIXED_CHAN;
  }
  socket=new BluetoothServerSocket(BluetoothSocket.TYPE_L2CAP,secure,secure,channel);
  int errno=socket.mSocket.bindListen();
  if (errno != 0) {
    throw new IOException("Error: " + errno);
  }
  return socket;
}
