{
  mInterfaceName=ifName;
  int ifIndex=-1;
  try {
    NetworkInterface netIf=NetworkInterface.getByName(ifName);
    mInterfaceIndex=netIf.getIndex();
  }
 catch (  SocketException|NullPointerException e) {
    throw new IllegalArgumentException("invalid interface '" + ifName + "': ",e);
  }
  mWakeLock=((PowerManager)context.getSystemService(Context.POWER_SERVICE)).newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,TAG + "." + mInterfaceName);
  mCallback=callback;
  mNetlinkSocketObserver=new NetlinkSocketObserver();
  mObserverThread=new Thread(mNetlinkSocketObserver);
  mObserverThread.start();
}
