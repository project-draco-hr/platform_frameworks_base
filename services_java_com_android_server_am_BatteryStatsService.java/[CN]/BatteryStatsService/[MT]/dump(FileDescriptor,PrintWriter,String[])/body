{
  boolean isCheckin=false;
  if (args != null) {
    for (    String arg : args) {
      if ("--checkin".equals(arg)) {
        isCheckin=true;
      }
 else       if ("--reset".equals(arg)) {
synchronized (mStats) {
          mStats.resetAllStatsLocked();
          pw.println("Battery stats reset.");
        }
      }
    }
  }
  if (isCheckin) {
    List<ApplicationInfo> apps=mContext.getPackageManager().getInstalledApplications(0);
synchronized (mStats) {
      mStats.dumpCheckinLocked(pw,args,apps);
    }
  }
 else {
synchronized (mStats) {
      mStats.dumpLocked(pw);
    }
  }
}
