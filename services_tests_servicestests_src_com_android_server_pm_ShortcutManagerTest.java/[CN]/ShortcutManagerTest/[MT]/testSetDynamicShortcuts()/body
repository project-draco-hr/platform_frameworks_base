{
  final Icon icon1=Icon.createWithResource(mContext,R.drawable.icon1);
  final Icon icon2=Icon.createWithBitmap(BitmapFactory.decodeResource(mContext.getResources(),R.drawable.icon2));
  final ShortcutInfo si1=makeShortcut("shortcut1","Title 1",makeComponent(ShortcutActivity.class),icon1,makeIntent(Intent.ACTION_ASSIST,ShortcutActivity2.class,"key1","val1","nest",makeBundle("key",123)),10);
  final ShortcutInfo si2=makeShortcut("shortcut2","Title 2",null,icon2,makeIntent(Intent.ACTION_ASSIST,ShortcutActivity3.class),12);
  final ShortcutInfo si3=makeShortcut("shortcut3");
  assertTrue(mManager.setDynamicShortcuts(Arrays.asList(si1,si2)));
  assertEquals(2,mManager.getDynamicShortcuts().size());
  assertEquals(2,mManager.getRemainingCallCount());
  assertTrue(mManager.setDynamicShortcuts(Arrays.asList(si1)));
  assertEquals(1,mManager.getDynamicShortcuts().size());
  assertEquals(1,mManager.getRemainingCallCount());
  assertTrue(mManager.setDynamicShortcuts(Arrays.asList()));
  assertEquals(0,mManager.getDynamicShortcuts().size());
  assertEquals(0,mManager.getRemainingCallCount());
  dumpsysOnLogcat();
  mInjectedCurrentTimeLillis++;
  mService.resetThrottlingInner();
  dumpsysOnLogcat();
  assertTrue(mManager.setDynamicShortcuts(Arrays.asList(si2,si3)));
  assertEquals(2,mManager.getDynamicShortcuts().size());
}
