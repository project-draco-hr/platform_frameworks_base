{
  mService.updateConfigurationLocked(ConfigConstants.KEY_RESET_INTERVAL_SEC + "=123," + ConfigConstants.KEY_MAX_SHORTCUTS+ "=4,"+ ConfigConstants.KEY_MAX_UPDATES_PER_INTERVAL+ "=5,"+ ConfigConstants.KEY_MAX_ICON_DIMENSION_DP+ "=100,"+ ConfigConstants.KEY_MAX_ICON_DIMENSION_DP_LOWRAM+ "=50,"+ ConfigConstants.KEY_ICON_FORMAT+ "=WEBP,"+ ConfigConstants.KEY_ICON_QUALITY+ "=75");
  assertEquals(123000,mService.getResetIntervalForTest());
  assertEquals(4,mService.getMaxDynamicShortcutsForTest());
  assertEquals(5,mService.getMaxUpdatesPerIntervalForTest());
  assertEquals(100,mService.getMaxIconDimensionForTest());
  assertEquals(CompressFormat.WEBP,mService.getIconPersistFormatForTest());
  assertEquals(75,mService.getIconPersistQualityForTest());
  mInjectedIsLowRamDevice=true;
  mService.updateConfigurationLocked(ConfigConstants.KEY_MAX_ICON_DIMENSION_DP + "=100," + ConfigConstants.KEY_MAX_ICON_DIMENSION_DP_LOWRAM+ "=50,"+ ConfigConstants.KEY_ICON_FORMAT+ "=JPEG");
  assertEquals(ShortcutService.DEFAULT_RESET_INTERVAL_SEC * 1000,mService.getResetIntervalForTest());
  assertEquals(ShortcutService.DEFAULT_MAX_SHORTCUTS_PER_APP,mService.getMaxDynamicShortcutsForTest());
  assertEquals(ShortcutService.DEFAULT_MAX_UPDATES_PER_INTERVAL,mService.getMaxUpdatesPerIntervalForTest());
  assertEquals(50,mService.getMaxIconDimensionForTest());
  assertEquals(CompressFormat.JPEG,mService.getIconPersistFormatForTest());
  assertEquals(ShortcutService.DEFAULT_ICON_PERSIST_QUALITY,mService.getIconPersistQualityForTest());
}
