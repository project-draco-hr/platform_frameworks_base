{
  final ShortcutInfo si1=makeShortcut("shortcut1");
  assertTrue(mManager.setDynamicShortcuts(Arrays.asList(si1)));
  assertEquals(2,mManager.getRemainingCallCount());
  mInjectedCurrentTimeLillis++;
  assertTrue(mManager.setDynamicShortcuts(Arrays.asList(si1)));
  assertEquals(1,mManager.getRemainingCallCount());
  mInjectedCurrentTimeLillis++;
  assertTrue(mManager.setDynamicShortcuts(Arrays.asList(si1)));
  assertEquals(0,mManager.getRemainingCallCount());
  mInjectedCurrentTimeLillis++;
  assertFalse(mManager.setDynamicShortcuts(Arrays.asList(si1)));
  assertEquals(0,mManager.getRemainingCallCount());
  mInjectedCurrentTimeLillis=START_TIME + INTERVAL - 1;
  assertFalse(mManager.setDynamicShortcuts(Arrays.asList(si1)));
  assertEquals(0,mManager.getRemainingCallCount());
  mInjectedCurrentTimeLillis++;
  assertTrue(mManager.setDynamicShortcuts(Arrays.asList(si1)));
  assertEquals(2,mManager.getRemainingCallCount());
  mInjectedCurrentTimeLillis++;
  assertTrue(mManager.setDynamicShortcuts(Arrays.asList(si1)));
  assertEquals(1,mManager.getRemainingCallCount());
  mInjectedCurrentTimeLillis++;
  assertTrue(mManager.setDynamicShortcuts(Arrays.asList(si1)));
  assertEquals(0,mManager.getRemainingCallCount());
  mInjectedCurrentTimeLillis++;
  assertFalse(mManager.setDynamicShortcuts(Arrays.asList(si1)));
  assertEquals(0,mManager.getRemainingCallCount());
  mInjectedCurrentTimeLillis=START_TIME + 4 * INTERVAL;
  assertTrue(mManager.setDynamicShortcuts(Arrays.asList(si1)));
  assertEquals(2,mManager.getRemainingCallCount());
  mInjectedCurrentTimeLillis=START_TIME + 8 * INTERVAL;
  assertEquals(3,mManager.getRemainingCallCount());
}
