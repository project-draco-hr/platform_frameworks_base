{
  setCaller(CALLING_PACKAGE_1,USER_0);
  assertTrue(mManager.addDynamicShortcut(makeShortcut("s1")));
  assertNotNull(mService.getPackageInfoForTest(CALLING_PACKAGE_1,USER_0));
  assertEquals(1,mService.getPackageInfoForTest(CALLING_PACKAGE_1,USER_0).getVersionCode());
  addPackage(CALLING_PACKAGE_1,CALLING_UID_1,123);
  mService.mPackageMonitor.onReceive(getTestContext(),genPackageUpdateIntent("abc",USER_0));
  assertEquals(1,mService.getPackageInfoForTest(CALLING_PACKAGE_1,USER_0).getVersionCode());
  mService.mPackageMonitor.onReceive(getTestContext(),genPackageUpdateIntent("abc",USER_10));
  assertEquals(1,mService.getPackageInfoForTest(CALLING_PACKAGE_1,USER_0).getVersionCode());
  mService.mPackageMonitor.onReceive(getTestContext(),genPackageUpdateIntent(CALLING_PACKAGE_1,USER_0));
  assertEquals(123,mService.getPackageInfoForTest(CALLING_PACKAGE_1,USER_0).getVersionCode());
}
