{
  Preconditions.checkState((keysAndValues.length % 2) == 0);
  if (keysAndValues.length == 0) {
    return null;
  }
  final Bundle ret=new Bundle();
  for (int i=keysAndValues.length - 2; i >= 0; i-=2) {
    final String key=keysAndValues[i].toString();
    final Object value=keysAndValues[i + 1];
    if (value == null) {
      ret.putString(key,null);
    }
 else     if (value instanceof Integer) {
      ret.putInt(key,(Integer)value);
    }
 else     if (value instanceof String) {
      ret.putString(key,(String)value);
    }
 else     if (value instanceof Bundle) {
      ret.putBundle(key,(Bundle)value);
    }
 else {
      fail("Type not supported yet: " + value.getClass().getName());
    }
  }
  return ret;
}
