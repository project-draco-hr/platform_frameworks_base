{
  if (a == null)   return null;
  if (!copyNeeded(flags,a.owner,enabledState,a.metaData) && userId == 0) {
    return a.info;
  }
  ActivityInfo ai=new ActivityInfo(a.info);
  ai.metaData=a.metaData;
  ai.applicationInfo=generateApplicationInfo(a.owner,flags,stopped,enabledState,userId);
  return ai;
}
