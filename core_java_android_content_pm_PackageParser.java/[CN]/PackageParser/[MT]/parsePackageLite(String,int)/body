{
  XmlResourceParser parser=null;
  AssetManager assmgr=null;
  try {
    assmgr=new AssetManager();
    assmgr.setConfiguration(0,0,null,0,0,0,0,0,0,0,0,0,0,0,0,0,Build.VERSION.RESOURCES_SDK_INT);
    int cookie=assmgr.addAssetPath(packageFilePath);
    parser=assmgr.openXmlResourceParser(cookie,"AndroidManifest.xml");
  }
 catch (  Exception e) {
    if (assmgr != null)     assmgr.close();
    Log.w(TAG,"Unable to read AndroidManifest.xml of " + packageFilePath,e);
    return null;
  }
  AttributeSet attrs=parser;
  String errors[]=new String[1];
  PackageLite packageLite=null;
  try {
    packageLite=parsePackageLite(parser,attrs,flags,errors);
  }
 catch (  IOException e) {
    Log.w(TAG,packageFilePath,e);
  }
catch (  XmlPullParserException e) {
    Log.w(TAG,packageFilePath,e);
  }
 finally {
    if (parser != null)     parser.close();
    if (assmgr != null)     assmgr.close();
  }
  if (packageLite == null) {
    Log.e(TAG,"parsePackageLite error: " + errors[0]);
    return null;
  }
  return packageLite;
}
