{
  if (mInputStream != null && mOutputStream != null) {
    return true;
  }
  int card=mDeviceInfo.getAlsaCard();
  int device=mDeviceInfo.getAlsaDevice();
  if (card == -1 || device == -1) {
    Log.e(TAG,"Not a USB device!");
    return false;
  }
  long identity=Binder.clearCallingIdentity();
  File file=new File("/dev/snd/midiC" + card + "D"+ device);
  try {
    mInputStream=new FileInputStream(file);
    mOutputStream=new FileOutputStream(file);
  }
 catch (  Exception e) {
    Log.e(TAG,"could not open " + file);
    return false;
  }
 finally {
    Binder.restoreCallingIdentity(identity);
  }
  return true;
}
