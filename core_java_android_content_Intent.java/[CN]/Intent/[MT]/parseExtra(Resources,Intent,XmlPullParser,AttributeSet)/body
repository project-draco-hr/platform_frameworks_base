{
  TypedArray sa=resources.obtainAttributes(attrs,com.android.internal.R.styleable.IntentExtra);
  String name=sa.getString(com.android.internal.R.styleable.IntentExtra_name);
  if (name == null) {
    sa.recycle();
    throw new RuntimeException("<extra> requires an android:name attribute at " + parser.getPositionDescription());
  }
  TypedValue v=sa.peekValue(com.android.internal.R.styleable.IntentExtra_value);
  if (v != null) {
    if (v.type == TypedValue.TYPE_STRING) {
      CharSequence cs=v.coerceToString();
      intent.putExtra(name,cs != null ? cs.toString() : null);
    }
 else     if (v.type == TypedValue.TYPE_INT_BOOLEAN) {
      intent.putExtra(name,v.data != 0);
    }
 else     if (v.type >= TypedValue.TYPE_FIRST_INT && v.type <= TypedValue.TYPE_LAST_INT) {
      intent.putExtra(name,v.data);
    }
 else     if (v.type == TypedValue.TYPE_FLOAT) {
      intent.putExtra(name,v.getFloat());
    }
 else {
      sa.recycle();
      throw new RuntimeException("<extra> only supports string, integer, float, color, and boolean at " + parser.getPositionDescription());
    }
  }
 else {
    sa.recycle();
    throw new RuntimeException("<extra> requires an android:value or android:resource attribute at " + parser.getPositionDescription());
  }
  sa.recycle();
  XmlUtils.skipCurrentTag(parser);
}
