{
  boolean hasHeld=false;
  for (int i=0; i < calls.length; i++) {
    CallInfo c=calls[i];
    if (c != null && c.state == CallInfo.State.HOLDING) {
      hasHeld=true;
      break;
    }
  }
  for (int i=0; i < calls.length; i++) {
    CallInfo c=calls[i];
    if (c != null) {
      if (c.state == CallInfo.State.ACTIVE) {
        c.state=CallInfo.State.HOLDING;
      }
 else       if (c.state == CallInfo.State.HOLDING) {
        c.state=CallInfo.State.ACTIVE;
      }
 else       if (!hasHeld && c.isRinging()) {
        c.state=CallInfo.State.ACTIVE;
      }
    }
  }
  return true;
}
