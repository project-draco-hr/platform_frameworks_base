{
  final boolean hasKernelSupport=new File("/proc/net/xt_qtaguid/ctrl").exists();
  final boolean shouldEnable=Settings.Secure.getInt(mContext.getContentResolver(),NETSTATS_ENABLED,1) != 0;
  if (hasKernelSupport && shouldEnable) {
    Slog.d(TAG,"enabling bandwidth control");
    try {
      mConnector.execute("bandwidth","enable");
      mBandwidthControlEnabled=true;
    }
 catch (    NativeDaemonConnectorException e) {
      Log.wtf(TAG,"problem enabling bandwidth controls",e);
    }
  }
 else {
    Slog.d(TAG,"not enabling bandwidth control");
  }
  SystemProperties.set(PROP_QTAGUID_ENABLED,mBandwidthControlEnabled ? "1" : "0");
}
