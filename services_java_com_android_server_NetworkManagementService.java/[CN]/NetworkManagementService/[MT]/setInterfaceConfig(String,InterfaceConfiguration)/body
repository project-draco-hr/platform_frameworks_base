{
  mContext.enforceCallingOrSelfPermission(CHANGE_NETWORK_STATE,TAG);
  LinkAddress linkAddr=cfg.getLinkAddress();
  if (linkAddr == null || linkAddr.getAddress() == null) {
    throw new IllegalStateException("Null LinkAddress given");
  }
  String cmd=String.format("interface setcfg %s %s %d %s",iface,linkAddr.getAddress().getHostAddress(),linkAddr.getNetworkPrefixLength(),cfg.getFlags());
  try {
    mConnector.doCommand(cmd);
  }
 catch (  NativeDaemonConnectorException e) {
    throw new IllegalStateException("Unable to communicate with native daemon to interface setcfg - " + e);
  }
}
