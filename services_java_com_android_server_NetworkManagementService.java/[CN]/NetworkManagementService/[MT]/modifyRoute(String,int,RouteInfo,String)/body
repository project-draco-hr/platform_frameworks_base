{
  ArrayList<String> rsp;
  StringBuilder cmd;
switch (action) {
case ADD:
{
      cmd=new StringBuilder("interface route add " + interfaceName + " "+ type);
      break;
    }
case REMOVE:
{
    cmd=new StringBuilder("interface route remove " + interfaceName + " "+ type);
    break;
  }
default :
throw new IllegalStateException("Unknown action type " + action);
}
LinkAddress la=route.getDestination();
cmd.append(' ');
cmd.append(la.getAddress().getHostAddress());
cmd.append(' ');
cmd.append(la.getNetworkPrefixLength());
cmd.append(' ');
if (route.getGateway() == null) {
if (la.getAddress() instanceof Inet4Address) {
cmd.append("0.0.0.0");
}
 else {
cmd.append("::0");
}
}
 else {
cmd.append(route.getGateway().getHostAddress());
}
try {
rsp=mConnector.doCommand(cmd.toString());
}
 catch (NativeDaemonConnectorException e) {
throw e.rethrowAsParcelableException();
}
if (DBG) {
for (String line : rsp) {
Log.v(TAG,"add route response is " + line);
}
}
}
