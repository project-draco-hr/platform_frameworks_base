{
  mContext.enforceCallingOrSelfPermission(CHANGE_NETWORK_STATE,TAG);
  mContext.enforceCallingOrSelfPermission(CHANGE_WIFI_STATE,TAG);
  try {
    mConnector.doCommand("softap stopap");
    mConnector.doCommand("softap stop " + wlanIface);
    wifiFirmwareReload(wlanIface,"STA");
  }
 catch (  NativeDaemonConnectorException e) {
    throw new IllegalStateException("Error communicating to native daemon to stop soft AP",e);
  }
}
