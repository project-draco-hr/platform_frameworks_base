{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.ACCESS_NETWORK_STATE,"NetworkManagementService");
  try {
    String rsp=mConnector.doCommand(String.format("interface read%scounter %s",(rx ? "rx" : "tx"),iface)).get(0);
    String[] tok=rsp.split(" ");
    int code;
    try {
      code=Integer.parseInt(tok[0]);
    }
 catch (    NumberFormatException nfe) {
      Slog.e(TAG,String.format("Error parsing code %s",tok[0]));
      return -1;
    }
    if ((rx && code != NetdResponseCode.InterfaceRxCounterResult) || (!rx && code != NetdResponseCode.InterfaceTxCounterResult)) {
      Slog.e(TAG,String.format("Unexpected response code %d",code));
      return -1;
    }
    return Long.parseLong(tok[1]);
  }
 catch (  Exception e) {
    Slog.e(TAG,String.format("Failed to read interface %s counters",(rx ? "rx" : "tx")),e);
  }
  return -1;
}
