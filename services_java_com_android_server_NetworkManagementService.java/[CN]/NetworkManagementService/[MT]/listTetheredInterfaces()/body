{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.ACCESS_NETWORK_STATE,"NetworkManagementService");
  ArrayList<String> rsp=mConnector.doCommand("tether interface list");
  String[] rdata=new String[rsp.size()];
  int idx=0;
  for (  String line : rsp) {
    String[] tok=line.split(" ");
    int code=Integer.parseInt(tok[0]);
    if (code == NetdResponseCode.TetherInterfaceListResult) {
      if (tok.length != 2) {
        throw new IllegalStateException(String.format("Malformatted list entry '%s'",line));
      }
      rdata[idx++]=tok[1];
    }
 else     if (code == NativeDaemonConnector.ResponseCode.CommandOkay) {
      return rdata;
    }
 else {
      throw new IllegalStateException(String.format("Unexpected response code %d",code));
    }
  }
  throw new IllegalStateException("Got an empty response");
}
