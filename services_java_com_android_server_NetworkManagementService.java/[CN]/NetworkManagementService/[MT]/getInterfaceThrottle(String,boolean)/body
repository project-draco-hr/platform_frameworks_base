{
  mContext.enforceCallingOrSelfPermission(ACCESS_NETWORK_STATE,TAG);
  try {
    String rsp;
    try {
      rsp=mConnector.doCommand(String.format("interface getthrottle %s %s",iface,(rx ? "rx" : "tx"))).get(0);
    }
 catch (    NativeDaemonConnectorException e) {
      Slog.e(TAG,"Error communicating with native daemon to getthrottle",e);
      return -1;
    }
    String[] tok=rsp.split(" ");
    if (tok.length < 2) {
      Slog.e(TAG,"Malformed response to getthrottle command");
      return -1;
    }
    int code;
    try {
      code=Integer.parseInt(tok[0]);
    }
 catch (    NumberFormatException nfe) {
      Slog.e(TAG,String.format("Error parsing code %s",tok[0]));
      return -1;
    }
    if ((rx && code != NetdResponseCode.InterfaceRxThrottleResult) || (!rx && code != NetdResponseCode.InterfaceTxThrottleResult)) {
      Slog.e(TAG,String.format("Unexpected response code %d",code));
      return -1;
    }
    return Integer.parseInt(tok[1]);
  }
 catch (  Exception e) {
    Slog.e(TAG,String.format("Failed to read interface %s throttle value",(rx ? "rx" : "tx")),e);
  }
  return -1;
}
