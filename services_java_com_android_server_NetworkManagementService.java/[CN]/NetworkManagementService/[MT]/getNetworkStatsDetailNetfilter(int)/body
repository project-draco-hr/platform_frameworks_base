{
  final NetworkStats stats=new NetworkStats(SystemClock.elapsedRealtime(),24);
  final NetworkStats.Entry entry=new NetworkStats.Entry();
  final ArrayList<String> keys=Lists.newArrayList();
  final ArrayList<String> values=Lists.newArrayList();
  final HashMap<String,String> parsed=Maps.newHashMap();
  BufferedReader reader=null;
  try {
    reader=new BufferedReader(new FileReader(mStatsXtUid));
    String line=reader.readLine();
    splitLine(line,keys);
    while ((line=reader.readLine()) != null) {
      splitLine(line,values);
      parseLine(keys,values,parsed);
      try {
        entry.iface=parsed.get(KEY_IFACE);
        entry.tag=NetworkManagementSocketTagger.kernelToTag(parsed.get(KEY_TAG_HEX));
        entry.uid=Integer.parseInt(parsed.get(KEY_UID));
        entry.rxBytes=Long.parseLong(parsed.get(KEY_RX));
        entry.txBytes=Long.parseLong(parsed.get(KEY_TX));
        if (limitUid == UID_ALL || limitUid == entry.uid) {
          stats.addValues(entry);
        }
      }
 catch (      NumberFormatException e) {
        Slog.w(TAG,"problem parsing stats row '" + line + "': "+ e);
      }
    }
  }
 catch (  IOException e) {
    Slog.w(TAG,"problem parsing stats: " + e);
  }
 finally {
    IoUtils.closeQuietly(reader);
  }
  return stats;
}
