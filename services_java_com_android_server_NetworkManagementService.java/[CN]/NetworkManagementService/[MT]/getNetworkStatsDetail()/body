{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.ACCESS_NETWORK_STATE,"NetworkManagementService");
  final String[] knownUids=PATH_PROC_UID_STAT.list();
  final NetworkStats.Builder stats=new NetworkStats.Builder(SystemClock.elapsedRealtime(),knownUids.length);
  for (  String uid : knownUids) {
    final int uidInt=Integer.parseInt(uid);
    collectNetworkStatsDetail(stats,uidInt);
  }
  return stats.build();
}
