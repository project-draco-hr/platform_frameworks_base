{
  ArrayList<String> rsp;
  StringBuilder cmd;
switch (action) {
case ADD:
{
      cmd=new StringBuilder("interface route add " + interfaceName);
      break;
    }
case REMOVE:
{
    cmd=new StringBuilder("interface route remove " + interfaceName);
    break;
  }
default :
throw new IllegalStateException("Unknown action type " + action);
}
LinkAddress la=route.getDestination();
cmd.append(' ');
cmd.append(la.getAddress().getHostAddress());
cmd.append(' ');
cmd.append(la.getNetworkPrefixLength());
cmd.append(' ');
if (route.getGateway() == null) {
if (la.getAddress() instanceof Inet4Address) {
cmd.append("0.0.0.0");
}
 else {
cmd.append("::0");
}
}
 else {
cmd.append(route.getGateway().getHostAddress());
}
try {
rsp=mConnector.doCommand(cmd.toString());
}
 catch (NativeDaemonConnectorException e) {
throw new IllegalStateException("Unable to communicate with native dameon to add routes - " + e);
}
for (String line : rsp) {
Log.v(TAG,"add route response is " + line);
}
}
