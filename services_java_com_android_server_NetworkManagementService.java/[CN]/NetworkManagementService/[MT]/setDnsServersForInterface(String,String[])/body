{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.CHANGE_NETWORK_STATE,"NetworkManagementService");
  try {
    String cmd="resolver setifdns " + iface;
    for (    String s : servers) {
      if (s != null && !"0.0.0.0".equals(s) && !"::".equals(s) && !"0:0:0:0:0:0:0:0".equals(s)) {
        cmd+=" " + InetAddress.getByName(s).getHostAddress();
      }
    }
    mConnector.doCommand(cmd);
  }
 catch (  UnknownHostException e) {
    throw new IllegalStateException("failed to resolve dns address.",e);
  }
catch (  NativeDaemonConnectorException e) {
    throw new IllegalStateException("Error communicating with native deamon to set dns for interface",e);
  }
}
