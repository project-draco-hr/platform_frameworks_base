{
  MediaMetadataRetriever retriever=new MediaMetadataRetriever();
  retriever.setMode(MediaMetadataRetriever.MODE_GET_METADATA_ONLY);
  for (int i=0, n=MediaNames.METADATA_RETRIEVAL_TEST_FILES.length; i < n; ++i) {
    try {
      retriever.setDataSource(MediaNames.METADATA_RETRIEVAL_TEST_FILES[i]);
      extractAllSupportedMetadataValues(retriever);
    }
 catch (    Exception e) {
      throw new Exception("Fails to setDataSource for file " + MediaNames.METADATA_RETRIEVAL_TEST_FILES[i],e);
    }
    Thread.yield();
  }
  retriever.release();
}
