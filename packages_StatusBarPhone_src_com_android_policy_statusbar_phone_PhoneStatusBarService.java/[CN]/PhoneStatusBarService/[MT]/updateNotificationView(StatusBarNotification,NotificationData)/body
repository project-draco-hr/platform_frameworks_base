{
  NotificationData n=notification.data;
  if (oldData != null && n != null && n.when == oldData.when && n.ongoingEvent == oldData.ongoingEvent && n.contentView != null && oldData.contentView != null && n.contentView.getPackage() != null && oldData.contentView.getPackage() != null && oldData.contentView.getPackage().equals(n.contentView.getPackage()) && oldData.contentView.getLayoutId() == n.contentView.getLayoutId() && notification.view != null) {
    mNotificationData.update(notification);
    try {
      n.contentView.reapply(this,notification.contentView);
      ViewGroup content=(ViewGroup)notification.view.findViewById(com.android.internal.R.id.content);
      PendingIntent contentIntent=n.contentIntent;
      if (contentIntent != null) {
        content.setOnClickListener(new Launcher(contentIntent,n.pkg,n.tag,n.id));
      }
    }
 catch (    RuntimeException e) {
      Slog.w(TAG,"couldn't reapply views for package " + n.contentView.getPackage(),e);
      removeNotificationView(notification);
    }
  }
 else {
    mNotificationData.update(notification);
    removeNotificationView(notification);
    addNotificationView(notification);
  }
  setAreThereNotifications();
}
