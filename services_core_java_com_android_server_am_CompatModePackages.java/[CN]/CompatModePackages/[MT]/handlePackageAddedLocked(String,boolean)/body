{
  ApplicationInfo ai=null;
  try {
    ai=AppGlobals.getPackageManager().getApplicationInfo(packageName,0,0);
  }
 catch (  RemoteException e) {
  }
  if (ai == null) {
    return;
  }
  CompatibilityInfo ci=compatibilityInfoForPackageLocked(ai);
  final boolean mayCompat=!ci.alwaysSupportsScreen() && !ci.neverSupportsScreen();
  if (updated) {
    if (!mayCompat && mPackages.containsKey(packageName)) {
      mPackages.remove(packageName);
      scheduleWrite();
    }
  }
}
