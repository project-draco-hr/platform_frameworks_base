{
  int curFlags=getPackageFlags(packageName);
  int newFlags=ask ? (curFlags & ~COMPAT_FLAG_DONT_ASK) : (curFlags | COMPAT_FLAG_DONT_ASK);
  if (curFlags != newFlags) {
    if (newFlags != 0) {
      mPackages.put(packageName,newFlags);
    }
 else {
      mPackages.remove(packageName);
    }
    mHandler.removeMessages(MSG_WRITE);
    Message msg=mHandler.obtainMessage(MSG_WRITE);
    mHandler.sendMessageDelayed(msg,10000);
  }
}
