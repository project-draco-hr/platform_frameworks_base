{
  mMtpManager.addValidDevice(0);
  mProvider.openDevice(0);
  mMtpManager.setObjectInfo(0,new MtpObjectInfo.Builder().setObjectHandle(2).setStorageId(1).setFormat(MtpConstants.FORMAT_EXIF_JPEG).setName("image.jpg").setDateModified(1422716400000L).setCompressedSize(1024 * 1024 * 5).setThumbCompressedSize(1024 * 50).build());
  final Cursor cursor=mProvider.queryDocument("0_1_2",null);
  assertEquals(1,cursor.getCount());
  cursor.moveToNext();
  assertEquals("0_1_2",cursor.getString(0));
  assertEquals("image/jpeg",cursor.getString(1));
  assertEquals("image.jpg",cursor.getString(2));
  assertEquals(1422716400000L,cursor.getLong(3));
  assertEquals(DocumentsContract.Document.FLAG_SUPPORTS_DELETE | DocumentsContract.Document.FLAG_SUPPORTS_WRITE | DocumentsContract.Document.FLAG_SUPPORTS_THUMBNAIL,cursor.getInt(4));
  assertEquals(1024 * 1024 * 5,cursor.getInt(5));
}
