{
  final ContentResolver resolver=new ContentResolver();
  final MtpDocumentsProvider provider=new MtpDocumentsProvider();
  provider.onCreateForTesting(new MtpManagerMock(getContext()),resolver);
  provider.openDevice(MtpManagerMock.SUCCESS_DEVICE_ID);
  assertEquals(1,resolver.changeCount);
  provider.closeDevice(MtpManagerMock.SUCCESS_DEVICE_ID);
  assertEquals(2,resolver.changeCount);
  provider.openDevice(MtpManagerMock.FAILURE_DEVICE_ID);
  assertEquals(2,resolver.changeCount);
  provider.closeDevice(MtpManagerMock.FAILURE_DEVICE_ID);
  assertEquals(2,resolver.changeCount);
}
