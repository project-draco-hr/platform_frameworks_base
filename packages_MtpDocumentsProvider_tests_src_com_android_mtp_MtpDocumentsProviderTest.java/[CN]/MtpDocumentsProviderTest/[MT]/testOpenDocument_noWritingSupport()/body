{
  setupProvider(MtpDatabaseConstants.FLAG_DATABASE_IN_MEMORY);
  mMtpManager.addValidDevice(new MtpDeviceRecord(0,"Device A",null,false,new MtpRoot[]{new MtpRoot(0,1,"Storage A",1024,2048,"")},new int[0],null));
  mMtpManager.setObjectHandles(0,1,MtpManager.OBJECT_HANDLE_ROOT_CHILDREN,new int[]{100});
  mMtpManager.setObjectInfo(0,new MtpObjectInfo.Builder().setObjectHandle(100).setName("note.txt").build());
  mProvider.resumeRootScanner();
  mResolver.waitForNotification(ROOTS_URI,1);
  try (final Cursor cursor=mProvider.queryChildDocuments("1",strings(Document.COLUMN_DOCUMENT_ID),null)){
    assertEquals(1,cursor.getCount());
    cursor.moveToNext();
    assertEquals("3",cursor.getString(0));
  }
   try {
    mProvider.openDocument("3","w",null);
    fail();
  }
 catch (  UnsupportedOperationException exception) {
  }
}
