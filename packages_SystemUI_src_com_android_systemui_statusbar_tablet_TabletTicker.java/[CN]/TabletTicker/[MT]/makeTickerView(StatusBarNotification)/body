{
  final Notification n=notification.notification;
  LayoutInflater inflater=(LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  ViewGroup group;
  int layoutId;
  int iconId;
  if (n.largeIcon != null) {
    iconId=R.id.right_icon;
  }
 else {
    iconId=R.id.left_icon;
  }
  if (n.tickerView != null) {
    group=(ViewGroup)inflater.inflate(R.layout.ticker,null,false);
    View expanded=null;
    Exception exception=null;
    try {
      expanded=n.tickerView.apply(mContext,group);
    }
 catch (    RuntimeException e) {
      exception=e;
    }
    if (expanded == null) {
      final String ident=notification.pkg + "/0x" + Integer.toHexString(notification.id);
      Slog.e(TAG,"couldn't inflate view for notification " + ident,exception);
      return null;
    }
    LinearLayout.LayoutParams lp=new LinearLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT,1.0f);
    lp.gravity=Gravity.BOTTOM;
    group.addView(expanded,lp);
  }
 else   if (n.tickerText != null) {
    group=(ViewGroup)inflater.inflate(R.layout.ticker_compat,mParent,false);
    final Drawable icon=StatusBarIconView.getIcon(mContext,new StatusBarIcon(notification.pkg,n.icon,n.iconLevel,0));
    ImageView iv=(ImageView)group.findViewById(iconId);
    iv.setImageDrawable(icon);
    iv.setVisibility(View.VISIBLE);
    TextView tv=(TextView)group.findViewById(R.id.text);
    tv.setText(n.tickerText);
  }
 else {
    throw new RuntimeException("tickerView==null && tickerText==null");
  }
  ImageView largeIcon=(ImageView)group.findViewById(R.id.large_icon);
  if (n.largeIcon != null) {
    largeIcon.setImageBitmap(n.largeIcon);
    largeIcon.setVisibility(View.VISIBLE);
  }
  return group;
}
