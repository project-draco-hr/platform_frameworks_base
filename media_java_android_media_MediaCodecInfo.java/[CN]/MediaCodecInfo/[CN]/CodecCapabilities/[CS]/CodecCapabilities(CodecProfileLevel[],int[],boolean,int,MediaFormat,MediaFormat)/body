{
  final Map<String,Object> map=info.getMap();
  profileLevels=profLevs;
  colorFormats=colFmts;
  mFlagsVerified=flags;
  mDefaultFormat=defaultFormat;
  mCapabilitiesInfo=info;
  mMime=mDefaultFormat.getString(MediaFormat.KEY_MIME);
  if (mMime.toLowerCase().startsWith("audio/")) {
    mAudioCaps=AudioCapabilities.create(info,this);
  }
 else   if (mMime.toLowerCase().startsWith("video/")) {
    mVideoCaps=VideoCapabilities.create(info,this);
  }
  if (encoder) {
    mEncoderCaps=EncoderCapabilities.create(info,this);
  }
  for (  Feature feat : getValidFeatures()) {
    Integer yesNo=(Integer)map.get(MediaFormat.KEY_FEATURE_ + feat.mName);
    if (yesNo == null) {
      continue;
    }
 else     if (yesNo > 0) {
      mFlagsRequired|=feat.mValue;
    }
 else {
      mFlagsSupported|=feat.mValue;
    }
  }
}
