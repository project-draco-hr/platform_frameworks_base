{
  final Map<String,Object> map=format.getMap();
  Integer width=(Integer)map.get(MediaFormat.KEY_WIDTH);
  Integer height=(Integer)map.get(MediaFormat.KEY_HEIGHT);
  Number rate=(Number)map.get(MediaFormat.KEY_FRAME_RATE);
  if (!supports(width,height,rate)) {
    return false;
  }
  if (!CodecCapabilities.supportsBitrate(mBitrateRange,format)) {
    return false;
  }
  return true;
}
