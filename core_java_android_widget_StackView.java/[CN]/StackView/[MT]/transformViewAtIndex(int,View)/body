{
  float maxPerpectiveShift=mMeasuredHeight * PERSPECTIVE_SHIFT_FACTOR;
  if (index == mNumActiveViews - 1)   index--;
  float r=(index * 1.0f) / (mNumActiveViews - 2);
  float scale=1 - PERSPECTIVE_SCALE_FACTOR * (1 - r);
  PropertyValuesHolder scaleX=PropertyValuesHolder.ofFloat("scaleX",scale);
  PropertyValuesHolder scaleY=PropertyValuesHolder.ofFloat("scaleY",scale);
  r=(float)Math.pow(r,2);
  int stackDirection=(mStackMode == ITEMS_SLIDE_UP) ? 1 : -1;
  float perspectiveTranslation=-stackDirection * r * maxPerpectiveShift;
  float scaleShiftCorrection=stackDirection * (1 - scale) * (mMeasuredHeight * (1 - PERSPECTIVE_SHIFT_FACTOR) / 2.0f);
  float transY=perspectiveTranslation + scaleShiftCorrection;
  PropertyValuesHolder translationY=PropertyValuesHolder.ofFloat("translationY",transY);
  ObjectAnimator pa=ObjectAnimator.ofPropertyValuesHolder(view,scaleX,scaleY,translationY);
  pa.setDuration(100);
  pa.start();
}
