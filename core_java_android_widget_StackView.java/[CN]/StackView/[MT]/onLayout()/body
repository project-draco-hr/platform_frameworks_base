{
  if (!mFirstLayoutHappened) {
    mSlideAmount=Math.round(SLIDE_UP_RATIO * getMeasuredHeight());
    mSwipeThreshold=Math.round(SWIPE_THRESHOLD_RATIO * mSlideAmount);
    mFirstLayoutHappened=true;
    post(new Runnable(){
      public void run(){
        updateChildTransforms();
      }
    }
);
  }
  if (Float.compare(mPerspectiveShiftY,mNewPerspectiveShiftY) != 0 || Float.compare(mPerspectiveShiftX,mNewPerspectiveShiftX) != 0) {
    mPerspectiveShiftY=mNewPerspectiveShiftY;
    mPerspectiveShiftX=mNewPerspectiveShiftX;
    post(new Runnable(){
      public void run(){
        updateChildTransforms();
      }
    }
);
  }
}
