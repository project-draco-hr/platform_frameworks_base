{
  if ((int)Math.abs(deltaY) > mTouchSlop && mSwipeGestureType == GESTURE_NONE) {
    int swipeGestureType=deltaY < 0 ? GESTURE_SLIDE_UP : GESTURE_SLIDE_DOWN;
    cancelLongPress();
    requestDisallowInterceptTouchEvent(true);
    int activeIndex=swipeGestureType == GESTURE_SLIDE_DOWN ? mNumActiveViews - 1 : mNumActiveViews - 2;
    if (mAdapter == null)     return;
    if (mCurrentWindowStartUnbounded + activeIndex == 0) {
      mStackSlider.setMode(StackSlider.BEGINNING_OF_STACK_MODE);
    }
 else     if (mCurrentWindowStartUnbounded + activeIndex == mAdapter.getCount()) {
      activeIndex--;
      mStackSlider.setMode(StackSlider.END_OF_STACK_MODE);
    }
 else {
      mStackSlider.setMode(StackSlider.NORMAL_MODE);
    }
    View v=getViewAtRelativeIndex(activeIndex);
    if (v == null)     return;
    mHighlight.setImageBitmap(createOutline(v));
    mHighlight.bringToFront();
    v.bringToFront();
    mStackSlider.setView(v);
    if (swipeGestureType == GESTURE_SLIDE_DOWN)     v.setVisibility(VISIBLE);
    mSwipeGestureType=swipeGestureType;
  }
}
