{
  if ((int)Math.abs(deltaY) > mTouchSlop && mSwipeGestureType == GESTURE_NONE) {
    int swipeGestureType=deltaY < 0 ? GESTURE_SLIDE_UP : GESTURE_SLIDE_DOWN;
    cancelLongPress();
    requestDisallowInterceptTouchEvent(true);
    if (mAdapter == null)     return;
    int activeIndex;
    if (mStackMode == ITEMS_SLIDE_UP) {
      activeIndex=(swipeGestureType == GESTURE_SLIDE_DOWN) ? 0 : 1;
    }
 else {
      activeIndex=(swipeGestureType == GESTURE_SLIDE_DOWN) ? 1 : 0;
    }
    int stackMode;
    if (mLoopViews) {
      stackMode=StackSlider.NORMAL_MODE;
    }
 else     if (mCurrentWindowStartUnbounded + activeIndex == -1) {
      activeIndex++;
      stackMode=StackSlider.BEGINNING_OF_STACK_MODE;
    }
 else     if (mCurrentWindowStartUnbounded + activeIndex == mAdapter.getCount() - 1) {
      stackMode=StackSlider.END_OF_STACK_MODE;
    }
 else {
      stackMode=StackSlider.NORMAL_MODE;
    }
    mTransitionIsSetup=stackMode == StackSlider.NORMAL_MODE;
    View v=getViewAtRelativeIndex(activeIndex);
    if (v == null)     return;
    setupStackSlider(v,stackMode);
    mSwipeGestureType=swipeGestureType;
  }
}
