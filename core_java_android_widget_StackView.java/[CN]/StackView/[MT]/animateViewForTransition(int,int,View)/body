{
  if (fromIndex == -1 && toIndex == 0) {
    if (view.getAlpha() == 1) {
      view.setAlpha(0);
    }
    view.setVisibility(VISIBLE);
    PropertyAnimator fadeIn=new PropertyAnimator(DEFAULT_ANIMATION_DURATION,view,"alpha",view.getAlpha(),1.0f);
    fadeIn.start();
  }
 else   if (fromIndex == mNumActiveViews - 1 && toIndex == mNumActiveViews - 2) {
    view.setVisibility(VISIBLE);
    LayoutParams lp=(LayoutParams)view.getLayoutParams();
    int largestDuration=Math.round((lp.verticalOffset * 1.0f / -mViewHeight) * DEFAULT_ANIMATION_DURATION);
    int duration=largestDuration;
    if (mYVelocity != 0) {
      duration=1000 * (0 - lp.verticalOffset) / Math.abs(mYVelocity);
    }
    duration=Math.min(duration,largestDuration);
    duration=Math.max(duration,MINIMUM_ANIMATION_DURATION);
    StackSlider animationSlider=new StackSlider(mStackSlider);
    PropertyAnimator slideInY=new PropertyAnimator(duration,animationSlider,"YProgress",mStackSlider.getYProgress(),0);
    slideInY.setInterpolator(new LinearInterpolator());
    slideInY.start();
    PropertyAnimator slideInX=new PropertyAnimator(duration,animationSlider,"XProgress",mStackSlider.getXProgress(),0);
    slideInX.setInterpolator(new LinearInterpolator());
    slideInX.start();
  }
 else   if (fromIndex == mNumActiveViews - 2 && toIndex == mNumActiveViews - 1) {
    LayoutParams lp=(LayoutParams)view.getLayoutParams();
    int largestDuration=Math.round(mStackSlider.getYProgress() * DEFAULT_ANIMATION_DURATION);
    int duration=largestDuration;
    if (mYVelocity != 0) {
      duration=1000 * (lp.verticalOffset + mViewHeight) / Math.abs(mYVelocity);
    }
    duration=Math.min(duration,largestDuration);
    duration=Math.max(duration,MINIMUM_ANIMATION_DURATION);
    StackSlider animationSlider=new StackSlider(mStackSlider);
    PropertyAnimator slideOutY=new PropertyAnimator(duration,animationSlider,"YProgress",mStackSlider.getYProgress(),1);
    slideOutY.setInterpolator(new LinearInterpolator());
    slideOutY.start();
    PropertyAnimator slideOutX=new PropertyAnimator(duration,animationSlider,"XProgress",mStackSlider.getXProgress(),0);
    slideOutX.setInterpolator(new LinearInterpolator());
    slideOutX.start();
  }
 else   if (fromIndex == -1 && toIndex == mNumActiveViews - 1) {
    view.setAlpha(0.0f);
    view.setVisibility(INVISIBLE);
    LayoutParams lp=(LayoutParams)view.getLayoutParams();
    lp.setVerticalOffset(-mViewHeight);
  }
 else   if (toIndex == -1) {
    PropertyAnimator fadeOut=new PropertyAnimator(DEFAULT_ANIMATION_DURATION,view,"alpha",view.getAlpha(),0);
    fadeOut.start();
  }
}
