{
  View p=v;
  if (!(v.getParent() != null && v.getParent() instanceof View))   return;
  View gp=(View)v.getParent();
  boolean firstPass=true;
  parentRect.set(0,0,0,0);
  int depth=0;
  while (gp.getParent() != null && gp.getParent() instanceof View && !parentRect.contains(r)) {
    if (!firstPass) {
      r.offset(p.getLeft() - gp.getScrollX(),p.getTop() - gp.getScrollY());
      depth++;
    }
    firstPass=false;
    p=(View)p.getParent();
    gp=(View)p.getParent();
    parentRect.set(p.getLeft() - gp.getScrollX(),p.getTop() - gp.getScrollY(),p.getRight() - gp.getScrollX(),p.getBottom() - gp.getScrollY());
  }
  if (depth > mAncestorHeight) {
    mAncestorContainingAllChildren=(ViewGroup)p;
    mAncestorHeight=depth;
    disableParentalClipping();
  }
  p.invalidate(r.left,r.top,r.right,r.bottom);
}
