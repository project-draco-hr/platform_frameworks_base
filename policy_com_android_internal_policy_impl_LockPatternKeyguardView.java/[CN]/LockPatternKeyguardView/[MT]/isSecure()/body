{
  UnlockMode unlockMode=getUnlockMode();
  if (unlockMode == UnlockMode.Pattern) {
    return mLockPatternUtils.isLockPatternEnabled();
  }
 else   if (unlockMode == UnlockMode.SimPin) {
    return mUpdateMonitor.getSimState() == IccCard.State.PIN_REQUIRED || mUpdateMonitor.getSimState() == IccCard.State.PUK_REQUIRED;
  }
 else   if (unlockMode == UnlockMode.Account) {
    return true;
  }
 else {
    throw new IllegalStateException("unknown unlock mode " + unlockMode);
  }
}
