{
  final IccCard.State simState=mUpdateMonitor.getSimState();
  if (stuckOnLockScreenBecauseSimMissing() || (simState == IccCard.State.PUK_REQUIRED)) {
    return Mode.LockScreen;
  }
 else   if (isSecure() && mLockPatternUtils.getPasswordMode() == LockPatternUtils.MODE_PATTERN) {
    return Mode.UnlockScreen;
  }
 else {
    return Mode.LockScreen;
  }
}
