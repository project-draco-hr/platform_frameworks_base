{
  Account[] accounts=AccountManager.get(context).getAccounts();
  mEnableFallback=false;
  for (  Account account : accounts) {
    try {
      AccountManager.get(context).confirmCredentials(account,null,null,null,null).getResult();
      mEnableFallback=true;
      break;
    }
 catch (    OperationCanceledException e) {
      Log.w(TAG,"couldn't talk to AccountManager",e);
    }
catch (    AuthenticatorException e) {
      if (e.getCause() instanceof UnsupportedOperationException) {
        continue;
      }
 else {
        Log.w(TAG,"couldn't talk to AccountManager",e);
      }
    }
catch (    IOException e) {
      Log.w(TAG,"couldn't talk to AccountManager",e);
    }
  }
  if (mUnlockScreen == null) {
    Log.w(TAG,"no unlock screen when trying to enable fallback");
  }
 else   if (mUnlockScreen instanceof PatternUnlockScreen) {
    ((PatternUnlockScreen)mUnlockScreen).setEnableFallback(mEnableFallback);
  }
}
