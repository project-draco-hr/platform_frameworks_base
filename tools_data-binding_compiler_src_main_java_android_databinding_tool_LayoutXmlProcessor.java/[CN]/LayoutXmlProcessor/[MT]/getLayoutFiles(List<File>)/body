{
  List<File> result=new ArrayList<File>();
  for (  File resource : Iterables.filter(resources,fileExists)) {
    if (resource.isDirectory()) {
      for (      File layoutFolder : resource.listFiles(layoutFolderFilter)) {
        for (        File xmlFile : layoutFolder.listFiles(xmlFileFilter)) {
          result.add(xmlFile);
        }
      }
    }
 else     if (xmlFileFilter.accept(resource.getParentFile(),resource.getName())) {
      result.add(resource);
    }
  }
  return result;
}
