{
  final int N=DisplayController.CUSTOM_INDEX + (mCustomEnabled ? 1 : 0);
  String[] values=new String[N];
  CharSequence[] names=new CharSequence[N];
  CharSequence[] totalNames=DisplayController.getColorTitles(getContext());
  String[] entries=DisplayController.getColorTransforms(getContext());
  entries[DisplayController.CUSTOM_INDEX]=mCustomValues != null ? mCustomValues : "";
  for (int i=0; i < N; i++) {
    values[i]=entries[i];
    names[i]=totalNames[i];
  }
  mSelectPreference.setEntries(names);
  mSelectPreference.setEntryValues(values);
  int index=0;
  if (mState == DisplayController.COLOR_STATE_AUTO) {
    index=DisplayController.AUTO_INDEX;
  }
 else   if (mCustomValues != null && Objects.equals(mCurrentValue,mCustomValues)) {
    index=DisplayController.CUSTOM_INDEX;
  }
 else   if (Objects.equals(mCurrentValue,entries[1])) {
    index=1;
  }
  mSelectPreference.setValueIndex(index);
  mSelectPreference.setSummary("%s");
  return;
}
