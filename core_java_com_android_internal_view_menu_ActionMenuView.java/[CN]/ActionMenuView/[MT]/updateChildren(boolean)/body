{
  final boolean reserveOverflow=mReserveOverflow;
  removeAllViews();
  final ArrayList<MenuItemImpl> itemsToShow=mMenu.getActionItems(reserveOverflow);
  final int itemCount=itemsToShow.size();
  for (int i=0; i < itemCount; i++) {
    final MenuItemImpl itemData=itemsToShow.get(i);
    final View actionView=itemData.getActionView();
    if (actionView != null) {
      addView(actionView);
    }
 else {
      addItemView((ActionMenuItemView)itemData.getItemView(MenuBuilder.TYPE_ACTION_BUTTON,this));
    }
  }
  if (reserveOverflow) {
    if (mMenu.getNonActionItems(true).size() > 0) {
      OverflowMenuButton button=new OverflowMenuButton(mContext);
      addView(button);
      mOverflowButton=button;
    }
 else {
      mOverflowButton=null;
    }
  }
}
