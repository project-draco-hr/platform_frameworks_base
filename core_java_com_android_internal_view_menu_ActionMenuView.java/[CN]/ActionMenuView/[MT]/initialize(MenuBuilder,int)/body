{
  int width=mWidthLimit;
  if (mReserveOverflow) {
    if (mOverflowButton == null) {
      OverflowMenuButton button=new OverflowMenuButton(mContext);
      mOverflowButton=button;
    }
    final int spec=MeasureSpec.makeMeasureSpec(0,MeasureSpec.UNSPECIFIED);
    mOverflowButton.measure(spec,spec);
    width-=mOverflowButton.getMeasuredWidth();
  }
  menu.setActionWidthLimit(width);
  menu.setMaxActionItems(mMaxItems);
  final boolean cleared=mMenu != menu;
  mMenu=menu;
  updateChildren(cleared);
}
