{
  if (mMaxFooterHeight <= 0)   return;
  if (mFooterAnimator != null) {
    mFooterAnimator.removeAllListeners();
    mFooterAnimator.cancel();
  }
  int finalHeight=visible ? mMaxFooterHeight : 0;
  if (duration > 0) {
    mFooterAnimator=ObjectAnimator.ofInt(this,"footerHeight",finalHeight);
    mFooterAnimator.setDuration(duration);
    mFooterAnimator.setInterpolator(mConfig.fastOutSlowInInterpolator);
    mFooterAnimator.start();
  }
 else {
    setFooterHeight(finalHeight);
  }
}
