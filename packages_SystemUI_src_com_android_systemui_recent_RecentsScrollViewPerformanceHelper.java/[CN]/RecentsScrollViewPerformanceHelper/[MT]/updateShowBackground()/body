{
  if (!mAttachedToWindow) {
    return;
  }
  if (mSoftwareRendered && OPTIMIZE_SW_RENDERED_RECENTS) {
    LayoutTransition transition=mLinearLayout.getLayoutTransition();
    int linearLayoutSize=mIsVertical ? mLinearLayout.getHeight() : mLinearLayout.getWidth();
    int scrollViewSize=mIsVertical ? mScrollView.getHeight() : mScrollView.getWidth();
    boolean show=!mScrollView.isHardwareAccelerated() && (linearLayoutSize > scrollViewSize) && !(transition != null && transition.isRunning())&& mCallback.isRecentsVisible();
    if (!mFirstTime && show == mShowBackground)     return;
    mShowBackground=show;
    mFirstTime=false;
    mCallback.handleShowBackground(!show);
    for (int i=0; i < mLinearLayout.getChildCount(); i++) {
      View v=mLinearLayout.getChildAt(i);
      if (show) {
        v.setBackgroundDrawable(mBackgroundDrawable.newDrawable());
        v.setDrawingCacheEnabled(true);
        v.buildDrawingCache();
      }
 else {
        v.setDrawingCacheEnabled(false);
        v.destroyDrawingCache();
        v.setBackgroundDrawable(null);
      }
    }
  }
}
