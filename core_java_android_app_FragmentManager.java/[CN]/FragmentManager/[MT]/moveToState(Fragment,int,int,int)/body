{
  if (!f.mAdded && newState > Fragment.CREATED) {
    newState=Fragment.CREATED;
  }
  if (f.mState < newState) {
switch (f.mState) {
case Fragment.INITIALIZING:
      if (DEBUG)       Log.v(TAG,"moveto CREATED: " + f);
    f.mActivity=mActivity;
  f.mCalled=false;
f.onAttach(mActivity);
if (!f.mCalled) {
throw new SuperNotCalledException("Fragment " + f + " did not call through to super.onAttach()");
}
if (!f.mRetaining) {
f.mCalled=false;
f.onCreate(f.mSavedFragmentState);
if (!f.mCalled) {
throw new SuperNotCalledException("Fragment " + f + " did not call through to super.onCreate()");
}
}
f.mRetaining=false;
if (f.mFromLayout) {
f.mView=f.onCreateView(mActivity.getLayoutInflater(),null,f.mSavedFragmentState);
if (f.mView != null) {
f.mView.setSaveFromParentEnabled(false);
f.restoreViewState();
if (f.mHidden) f.mView.setVisibility(View.GONE);
}
}
case Fragment.CREATED:
if (newState > Fragment.CREATED) {
if (DEBUG) Log.v(TAG,"moveto CONTENT: " + f);
if (!f.mFromLayout) {
ViewGroup container=null;
if (f.mContainerId != 0) {
container=(ViewGroup)mActivity.findViewById(f.mContainerId);
if (container == null) {
throw new IllegalArgumentException("New view found for id 0x" + Integer.toHexString(f.mContainerId) + " for fragment "+ f);
}
}
f.mContainer=container;
f.mView=f.onCreateView(mActivity.getLayoutInflater(),container,f.mSavedFragmentState);
if (f.mView != null) {
f.mView.setSaveFromParentEnabled(false);
if (container != null) {
Animation anim=loadAnimation(f,transit,true,transitionStyle);
if (anim != null) {
f.mView.setAnimation(anim);
}
container.addView(f.mView);
f.restoreViewState();
}
if (f.mHidden) f.mView.setVisibility(View.GONE);
}
}
f.mCalled=false;
f.onReady(f.mSavedFragmentState);
if (!f.mCalled) {
throw new SuperNotCalledException("Fragment " + f + " did not call through to super.onReady()");
}
f.mSavedFragmentState=null;
}
case Fragment.CONTENT:
if (newState > Fragment.CONTENT) {
if (DEBUG) Log.v(TAG,"moveto STARTED: " + f);
f.mCalled=false;
f.onStart();
if (!f.mCalled) {
throw new SuperNotCalledException("Fragment " + f + " did not call through to super.onStart()");
}
}
case Fragment.STARTED:
if (newState > Fragment.STARTED) {
if (DEBUG) Log.v(TAG,"moveto RESUMED: " + f);
f.mCalled=false;
f.onResume();
if (!f.mCalled) {
throw new SuperNotCalledException("Fragment " + f + " did not call through to super.onResume()");
}
}
}
}
 else if (f.mState > newState) {
switch (f.mState) {
case Fragment.RESUMED:
if (newState < Fragment.RESUMED) {
if (DEBUG) Log.v(TAG,"movefrom RESUMED: " + f);
f.mCalled=false;
f.onPause();
if (!f.mCalled) {
throw new SuperNotCalledException("Fragment " + f + " did not call through to super.onPause()");
}
}
case Fragment.STARTED:
if (newState < Fragment.STARTED) {
if (DEBUG) Log.v(TAG,"movefrom STARTED: " + f);
f.mCalled=false;
f.onStop();
if (!f.mCalled) {
throw new SuperNotCalledException("Fragment " + f + " did not call through to super.onStop()");
}
}
case Fragment.CONTENT:
if (newState < Fragment.CONTENT) {
if (DEBUG) Log.v(TAG,"movefrom CONTENT: " + f);
if (f.mView != null) {
f.mCalled=false;
f.onDestroyView();
if (!f.mCalled) {
throw new SuperNotCalledException("Fragment " + f + " did not call through to super.onDestroyedView()");
}
if (!mActivity.isFinishing() && f.mSavedFragmentState == null) {
saveFragmentViewState(f);
}
if (f.mContainer != null) {
if (mCurState > Fragment.INITIALIZING) {
Animation anim=loadAnimation(f,transit,false,transitionStyle);
if (anim != null) {
f.mView.setAnimation(anim);
}
}
f.mContainer.removeView(f.mView);
}
}
f.mContainer=null;
f.mView=null;
}
case Fragment.CREATED:
if (newState < Fragment.CREATED) {
if (DEBUG) Log.v(TAG,"movefrom CREATED: " + f);
if (!f.mRetaining) {
f.mCalled=false;
f.onDestroy();
if (!f.mCalled) {
throw new SuperNotCalledException("Fragment " + f + " did not call through to super.onDestroy()");
}
}
f.mCalled=false;
f.onDetach();
if (!f.mCalled) {
throw new SuperNotCalledException("Fragment " + f + " did not call through to super.onDetach()");
}
f.mActivity=null;
}
}
}
f.mState=newState;
}
