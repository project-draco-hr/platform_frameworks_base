{
  if (mActivity == null && newState != Fragment.INITIALIZING) {
    throw new IllegalStateException("No activity");
  }
  if (!always && mCurState == newState) {
    return;
  }
  mCurState=newState;
  if (mFragments != null) {
    for (int i=0; i < mFragments.size(); i++) {
      Fragment f=mFragments.get(i);
      moveToState(f,newState);
    }
  }
}
