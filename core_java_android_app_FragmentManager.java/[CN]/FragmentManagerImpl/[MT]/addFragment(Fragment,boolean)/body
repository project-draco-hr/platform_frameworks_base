{
  if (mAdded == null) {
    mAdded=new ArrayList<Fragment>();
  }
  mAdded.add(fragment);
  makeActive(fragment);
  if (DEBUG)   Log.v(TAG,"add: " + fragment);
  fragment.mAdded=true;
  if (fragment.mHasMenu) {
    mNeedMenuInvalidate=true;
  }
  if (moveToStateNow) {
    moveToState(fragment,mCurState,0,0);
  }
}
