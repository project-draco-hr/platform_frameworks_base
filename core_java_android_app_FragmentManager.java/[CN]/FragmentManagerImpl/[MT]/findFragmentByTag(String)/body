{
  if (mAdded != null && tag != null) {
    for (int i=mAdded.size() - 1; i >= 0; i--) {
      Fragment f=mAdded.get(i);
      if (f != null && tag.equals(f.mTag)) {
        return f;
      }
    }
  }
  if (mActive != null && tag != null) {
    for (int i=mActive.size() - 1; i >= 0; i--) {
      Fragment f=mActive.get(i);
      if (f != null && tag.equals(f.mTag)) {
        return f;
      }
    }
  }
  return null;
}
