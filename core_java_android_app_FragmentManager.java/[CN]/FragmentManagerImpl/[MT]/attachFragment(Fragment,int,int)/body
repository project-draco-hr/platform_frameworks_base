{
  if (DEBUG)   Log.v(TAG,"attach: " + fragment);
  if (fragment.mDetached) {
    fragment.mDetached=false;
    if (!fragment.mAdded) {
      mAdded.add(fragment);
      fragment.mAdded=true;
      fragment.mRemoving=false;
      if (fragment.mHasMenu) {
        mNeedMenuInvalidate=true;
      }
      moveToState(fragment,mCurState,transition,transitionStyle);
    }
  }
}
