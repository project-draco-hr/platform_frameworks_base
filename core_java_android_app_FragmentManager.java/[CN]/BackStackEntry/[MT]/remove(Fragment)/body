{
  if (fragment.mActivity == null) {
    throw new IllegalStateException("Fragment not added: " + fragment);
  }
  if (mAdded != null) {
    mAdded.remove(fragment);
  }
  if (mRemoved == null) {
    mRemoved=new ArrayList<Fragment>();
  }
  mRemoved.add(fragment);
  return this;
}
