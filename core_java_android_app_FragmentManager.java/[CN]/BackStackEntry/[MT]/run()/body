{
  if (mRemoved != null) {
    for (int i=mRemoved.size() - 1; i >= 0; i--) {
      Fragment f=mRemoved.get(i);
      if (mAddToBackStack) {
        f.mBackStackNesting++;
      }
      mManager.removeFragment(f,mTransition,mTransitionStyle);
    }
  }
  if (mAdded != null) {
    for (int i=mAdded.size() - 1; i >= 0; i--) {
      Fragment f=mAdded.get(i);
      if (mAddToBackStack) {
        f.mBackStackNesting++;
      }
      mManager.addFragment(f,false);
    }
  }
  mManager.moveToState(mManager.mCurState,mTransition,mTransitionStyle,true);
  if (mAddToBackStack) {
    mManager.addBackStackState(this);
  }
}
