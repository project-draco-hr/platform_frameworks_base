{
  Rect currentFrameBounds=new Rect();
  Rect currentBackBounds=new Rect();
  Rect newBounds=new Rect();
  int[] surfaceOrigin=new int[2];
  RenderNode nodeFrame=null;
  RenderNode nodeBack=null;
  try {
    Thread.sleep(200);
  }
 catch (  InterruptedException e) {
  }
  if (mTargetBack != null) {
    nodeBack=RenderNode.create("FakeBackdrop",null);
    nodeBack.setClipToBounds(true);
    mRenderer.addRenderNode(nodeBack,true);
  }
  if (mTargetFrame != null) {
    nodeFrame=RenderNode.create("FakeFrame",null);
    nodeFrame.setClipToBounds(true);
    mRenderer.addRenderNode(nodeFrame,false);
  }
  while (mRunning) {
    surfaceOrigin[0]=0;
    surfaceOrigin[1]=0;
    mContent.getLocationInSurface(surfaceOrigin);
    mRenderer.setContentDrawBounds(surfaceOrigin[0],surfaceOrigin[1],surfaceOrigin[0] + mContent.getWidth(),surfaceOrigin[1] + mContent.getHeight());
    if (nodeFrame != null) {
      surfaceOrigin[0]=0;
      surfaceOrigin[1]=0;
      mTargetFrame.getLocationInSurface(surfaceOrigin);
      newBounds.set(surfaceOrigin[0],surfaceOrigin[1],surfaceOrigin[0] + mTargetFrame.getWidth(),surfaceOrigin[1] + mTargetFrame.getHeight());
      if (!currentFrameBounds.equals(newBounds)) {
        currentFrameBounds.set(newBounds);
        nodeFrame.setLeftTopRightBottom(currentFrameBounds.left,currentFrameBounds.top,currentFrameBounds.right,currentFrameBounds.bottom);
      }
      DisplayListCanvas canvas=nodeFrame.start(currentFrameBounds.width(),currentFrameBounds.height());
      mFrameContent.draw(canvas);
      nodeFrame.end(canvas);
    }
    if (nodeBack != null) {
      surfaceOrigin[0]=0;
      surfaceOrigin[1]=0;
      mTargetBack.getLocationInSurface(surfaceOrigin);
      newBounds.set(surfaceOrigin[0],surfaceOrigin[1],surfaceOrigin[0] + mTargetBack.getWidth(),surfaceOrigin[1] + mTargetBack.getHeight());
      if (!currentBackBounds.equals(newBounds)) {
        currentBackBounds.set(newBounds);
        nodeBack.setLeftTopRightBottom(currentBackBounds.left,currentBackBounds.top,currentBackBounds.right,currentBackBounds.bottom);
      }
      DisplayListCanvas canvas=nodeBack.start(currentBackBounds.width(),currentBackBounds.height());
      mBackContent.draw(canvas);
      nodeBack.end(canvas);
    }
    if (nodeFrame != null) {
      mRenderer.drawRenderNode(nodeFrame);
    }
    if (nodeBack != null) {
      mRenderer.drawRenderNode(nodeBack);
    }
    try {
      Thread.sleep(5);
    }
 catch (    InterruptedException e) {
    }
  }
  if (nodeFrame != null) {
    mRenderer.removeRenderNode(nodeFrame);
  }
  if (nodeBack != null) {
    mRenderer.removeRenderNode(nodeBack);
  }
}
