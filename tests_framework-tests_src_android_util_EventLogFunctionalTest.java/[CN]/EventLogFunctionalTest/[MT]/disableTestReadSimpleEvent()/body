{
  long when=System.currentTimeMillis();
  EventLog.writeEvent(2718,12345);
  Log.i(TAG,"Wrote simple event at T=" + when);
  ArrayList<EventLog.Event> list=new ArrayList<EventLog.Event>();
  EventLog.readEvents(new int[]{2718},list);
  boolean found=false;
  for (  EventLog.Event event : list) {
    assertEquals(event.getTag(),2718);
    long eventTime=event.getTimeNanos() / 1000000;
    Log.i(TAG,"  Found event T=" + eventTime);
    if (eventTime > when - 100 && eventTime < when + 1000) {
      assertEquals(event.getProcessId(),Process.myPid());
      assertEquals(event.getThreadId(),Process.myTid());
      assertEquals(event.getData(),12345);
      assertFalse(found);
      found=true;
    }
  }
  assertTrue(found);
}
