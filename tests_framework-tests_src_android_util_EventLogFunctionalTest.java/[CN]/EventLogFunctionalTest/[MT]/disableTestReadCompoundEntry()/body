{
  long when=System.currentTimeMillis();
  EventLog.writeEvent(2719,new EventLog.List(1l,new EventLog.List("2","three","4"),5));
  Log.i(TAG,"Wrote compound event at T=" + when);
  ArrayList<EventLog.Event> list=new ArrayList<EventLog.Event>();
  EventLog.readEvents(new int[]{2719},list);
  boolean found=false;
  for (  EventLog.Event event : list) {
    long eventTime=event.getTimeNanos() / 1000000;
    Log.i(TAG,"  Found event T=" + eventTime);
    if (eventTime > when - 100 && eventTime < when + 1000) {
      EventLog.List data=(EventLog.List)event.getData();
      assertEquals(data.getNumItems(),3);
      EventLog.List nested=(EventLog.List)data.getItem(1);
      assertEquals(nested.getNumItems(),3);
      assertEquals(data.getItem(0),1l);
      assertEquals(nested.getItem(0),"2");
      assertEquals(nested.getItem(1),"three");
      assertEquals(nested.getItem(2),"4");
      assertEquals(data.getItem(2),5);
      assertFalse(found);
      found=true;
    }
  }
  assertTrue(found);
}
