{
  long when=System.currentTimeMillis();
  EventLog.writeEvent(2719,1l,"2",3);
  Log.i(TAG,"Wrote compound event at T=" + when);
  ArrayList<EventLog.Event> list=new ArrayList<EventLog.Event>();
  EventLog.readEvents(new int[]{2719},list);
  boolean found=false;
  for (  EventLog.Event event : list) {
    long eventTime=event.getTimeNanos() / 1000000;
    Log.i(TAG,"  Found event T=" + eventTime);
    if (eventTime > when - 100 && eventTime < when + 1000) {
      Object[] data=(Object[])event.getData();
      assertEquals(data.length,3);
      assertEquals(data[0],1l);
      assertEquals(data[1],"2");
      assertEquals(data[2],3);
      assertFalse(found);
      found=true;
    }
  }
  assertTrue(found);
}
