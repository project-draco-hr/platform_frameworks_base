{
  quickPeek();
  if (value == null) {
    throw new IllegalStateException("Expected a long but was " + peek());
  }
  long result;
  try {
    result=Long.parseLong(value);
  }
 catch (  NumberFormatException ignored) {
    double asDouble=Double.parseDouble(value);
    result=(long)asDouble;
    if ((double)result != asDouble) {
      throw new NumberFormatException(value);
    }
  }
  if (result >= 1L && value.startsWith("0")) {
    throw new NumberFormatException("JSON forbids octal prefixes: " + value);
  }
  advance();
  return result;
}
