{
  if (firstElement) {
switch (nextNonWhitespace()) {
case ']':
      pop();
    hasToken=true;
  return token=JsonToken.END_ARRAY;
case ',':
case ';':
hasToken=true;
return token=JsonToken.NULL;
default :
replaceTop(JsonScope.NONEMPTY_ARRAY);
pos--;
}
}
 else {
switch (nextNonWhitespace()) {
case ']':
pop();
hasToken=true;
return token=JsonToken.END_ARRAY;
case ',':
case ';':
break;
default :
throw syntaxError("Unterminated array");
}
}
return nextValue();
}
