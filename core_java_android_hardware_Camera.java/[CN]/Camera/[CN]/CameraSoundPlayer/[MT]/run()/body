{
  String soundFilePath;
switch (mSoundId) {
case Sound.SHUTTER_CLICK:
    soundFilePath=mShutterSound;
  break;
case Sound.FOCUS_COMPLETE:
soundFilePath=mFocusSound;
break;
case Sound.START_VIDEO_RECORDING:
soundFilePath=mVideoStartSound;
break;
case Sound.STOP_VIDEO_RECORDING:
soundFilePath=mVideoStopSound;
break;
default :
Log.e(TAG,"Unknown sound " + mSoundId + " requested.");
return;
}
mPlayer=new MediaPlayer();
try {
mPlayer.setAudioStreamType(mAudioStreamType);
mPlayer.setDataSource(soundFilePath);
mPlayer.setLooping(false);
mPlayer.prepare();
}
 catch (IOException e) {
Log.e(TAG,"Error setting up sound " + mSoundId,e);
return;
}
while (true) {
try {
synchronized (this) {
while (true) {
if (mExit) {
return;
}
 else if (mPlayCount <= 0) {
wait();
}
 else {
mPlayCount--;
break;
}
}
}
mPlayer.start();
}
 catch (Exception e) {
Log.e(TAG,"Error playing sound " + mSoundId,e);
}
}
}
