{
switch (resultCode) {
case MSG_SET_REMOTE_RECEIVER:
    mResultReceiver=resultData.getParcelable(KEY_REMOTE_RECEIVER);
  if (mIsCanceled) {
    mResultReceiver.send(MSG_CANCEL,null);
    mResultReceiver=null;
  }
 else {
    if (mHandler != null) {
      mHandler.removeMessages(MSG_CANCEL);
    }
    notifyComplete();
  }
break;
case MSG_HIDE_SHARED_ELEMENTS:
if (!mIsCanceled) {
hideSharedElements();
}
break;
case MSG_START_EXIT_TRANSITION:
startExit();
break;
case MSG_ACTIVITY_STOPPED:
setViewVisibility(mTransitioningViews,View.VISIBLE);
setViewVisibility(mSharedElements,View.VISIBLE);
mIsHidden=true;
break;
case MSG_SHARED_ELEMENT_DESTINATION:
mExitSharedElementBundle=resultData;
sharedElementExitBack();
break;
}
}
