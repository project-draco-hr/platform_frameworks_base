{
  if (!mIsHidden) {
    setViewVisibility(mSharedElements,View.INVISIBLE);
  }
  if (mSharedElementSnapshots != null) {
    ViewGroupOverlay overlay=getDecor().getOverlay();
    for (int i=0; i < mSharedElementSnapshots.size(); i++) {
      overlay.remove(mSharedElementSnapshots.get(i));
    }
    mSharedElementSnapshots=null;
  }
  finishIfNecessary();
}
