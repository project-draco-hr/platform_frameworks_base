{
  Transition viewsTransition=null;
  if (mTransitioningViews != null && !mTransitioningViews.isEmpty()) {
    viewsTransition=configureTransition(getViewsTransition(),true);
  }
  if (viewsTransition == null) {
    viewsTransitionComplete();
  }
 else {
    final ArrayList<View> transitioningViews=mTransitioningViews;
    viewsTransition.addListener(new ContinueTransitionListener(){
      @Override public void onTransitionEnd(      Transition transition){
        transition.removeListener(this);
        viewsTransitionComplete();
        if (mIsHidden && transitioningViews != null) {
          showViews(transitioningViews,true);
          setTransitioningViewsVisiblity(View.VISIBLE,true);
        }
        if (mSharedElementBundle != null) {
          delayCancel();
        }
        super.onTransitionEnd(transition);
      }
    }
);
  }
  return viewsTransition;
}
