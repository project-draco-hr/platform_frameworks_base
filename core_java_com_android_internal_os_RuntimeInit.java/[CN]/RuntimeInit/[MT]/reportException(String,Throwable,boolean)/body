{
  if (!initialized) {
    return;
  }
  int reenter=sInReportException.getAndIncrement();
  if (reenter != 0) {
    sInReportException.decrementAndGet();
    Log.e(TAG,"Crash logging skipped, already logging another crash");
    return;
  }
  try {
    byte[] crashData=marshallException(tag,t);
    ICheckinService checkin=ICheckinService.Stub.asInterface(ServiceManager.getService("checkin"));
    if (checkin == null) {
      Log.e(TAG,"Crash logging skipped, no checkin service");
    }
 else     if (sync) {
      checkin.reportCrashSync(crashData);
    }
 else {
      checkin.reportCrashAsync(crashData);
    }
  }
 catch (  Throwable t2) {
    Log.e(TAG,"Crash logging failed: " + t2);
  }
 finally {
    sInReportException.decrementAndGet();
  }
}
