{
  Log.d(TAG,"Received result for frameId " + frameId);
  CaptureListenerHolder holder;
synchronized (mLock) {
    holder=CameraDevice.this.mCaptureListenerMap.get(frameId);
    if (holder != null && !holder.isRepeating()) {
      CameraDevice.this.mCaptureListenerMap.remove(frameId);
    }
  }
  if (holder == null) {
    Log.e(TAG,"Result had no listener holder associated with it, dropping result");
    return;
  }
  CaptureResult resultAsCapture=new CaptureResult();
  resultAsCapture.swap(result);
  if (holder.getListener() != null) {
    holder.getListener().onCaptureComplete(CameraDevice.this,holder.getRequest(),resultAsCapture);
  }
}
