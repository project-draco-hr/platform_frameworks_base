{
  final float snapBackThreshold=getSpaceForGear(animView);
  final float translation=getTranslation(animView);
  final boolean fromLeft=translation > 0;
  final float absTrans=Math.abs(translation);
  final float notiThreshold=getSize(mTranslatingParentView) * 0.4f;
  boolean pastGear=(fromLeft && translation >= snapBackThreshold * 0.4f && translation <= notiThreshold) || (!fromLeft && absTrans >= snapBackThreshold * 0.4f && absTrans <= notiThreshold);
  if (pastGear && !isPinnedHeadsUp(animView) && (animView instanceof ExpandableNotificationRow)) {
    final float target=fromLeft ? snapBackThreshold : -snapBackThreshold;
    mGearExposedView=mTranslatingParentView;
    if (mGearDisplayedListener != null) {
      mGearDisplayedListener.onGearDisplayed((ExpandableNotificationRow)animView);
    }
    super.snapChild(animView,target,velocity);
  }
 else {
    super.snapChild(animView,0,velocity);
  }
}
