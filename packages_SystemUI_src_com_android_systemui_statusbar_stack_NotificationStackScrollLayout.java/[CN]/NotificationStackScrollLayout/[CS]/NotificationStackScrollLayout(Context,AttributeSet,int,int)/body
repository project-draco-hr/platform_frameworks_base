{
  super(context,attrs,defStyleAttr,defStyleRes);
  mBgColor=context.getColor(R.color.notification_shade_background_color);
  int minHeight=getResources().getDimensionPixelSize(R.dimen.notification_min_height);
  int maxHeight=getResources().getDimensionPixelSize(R.dimen.notification_max_height);
  mExpandHelper=new ExpandHelper(getContext(),this,minHeight,maxHeight);
  mExpandHelper.setEventSource(this);
  mExpandHelper.setScrollAdapter(this);
  mSwipeHelper=new SwipeHelper(SwipeHelper.X,this,getContext());
  mSwipeHelper.setLongPressListener(mLongPressListener);
  mStackScrollAlgorithm=new StackScrollAlgorithm(context);
  initView(context);
  setWillNotDraw(false);
  if (DEBUG) {
    mDebugPaint=new Paint();
    mDebugPaint.setColor(0xffff0000);
    mDebugPaint.setStrokeWidth(2);
    mDebugPaint.setStyle(Paint.Style.STROKE);
  }
  mFalsingManager=FalsingManager.getInstance(context);
  mBackgroundPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC));
}
