{
  float centerX=getWidth() / 2.0f;
  for (int i=0; i < getChildCount(); i++) {
    View child=getChildAt(i);
    if (child.getVisibility() == GONE) {
      continue;
    }
    float width=child.getMeasuredWidth();
    float height=child.getMeasuredHeight();
    child.layout((int)(centerX - width / 2.0f),0,(int)(centerX + width / 2.0f),(int)height);
  }
  setMaxLayoutHeight(getHeight());
  updateContentHeight();
  clampScrollPosition();
  if (mRequestViewResizeAnimationOnLayout) {
    requestAnimationOnViewResize();
    mRequestViewResizeAnimationOnLayout=false;
  }
  requestChildrenUpdate();
  mStackScrollAlgorithm.notifyChildrenSizesChanged(this);
}
