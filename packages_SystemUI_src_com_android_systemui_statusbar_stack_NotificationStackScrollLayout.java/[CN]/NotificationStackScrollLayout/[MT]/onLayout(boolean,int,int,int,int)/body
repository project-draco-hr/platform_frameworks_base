{
  float centerX=getWidth() / 2.0f;
  for (int i=0; i < getChildCount(); i++) {
    View child=getChildAt(i);
    float width=child.getMeasuredWidth();
    float height=child.getMeasuredHeight();
    int oldWidth=child.getWidth();
    int oldHeight=child.getHeight();
    child.layout((int)(centerX - width / 2.0f),0,(int)(centerX + width / 2.0f),(int)height);
    updateChildOutline(child,width,height,oldWidth,oldHeight);
  }
  setMaxLayoutHeight(getHeight() - mEmptyMarginBottom);
  updateScrollPositionIfNecessary();
  updateChildren();
  updateContentHeight();
}
