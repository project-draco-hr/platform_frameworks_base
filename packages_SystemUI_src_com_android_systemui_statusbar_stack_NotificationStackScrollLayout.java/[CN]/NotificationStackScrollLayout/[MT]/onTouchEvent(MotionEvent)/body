{
  boolean isCancelOrUp=ev.getActionMasked() == MotionEvent.ACTION_CANCEL || ev.getActionMasked() == MotionEvent.ACTION_UP;
  if (mDelegateToScrollView) {
    if (isCancelOrUp) {
      mDelegateToScrollView=false;
    }
    transformTouchEvent(ev,this,mScrollView);
    return mScrollView.onTouchEvent(ev);
  }
  boolean expandWantsIt=false;
  if (!mSwipingInProgress && !mOnlyScrollingInThisMotion) {
    if (isCancelOrUp) {
      mExpandHelper.onlyObserveMovements(false);
    }
    boolean wasExpandingBefore=mExpandingNotification;
    expandWantsIt=mExpandHelper.onTouchEvent(ev);
    if (mExpandedInThisMotion && !mExpandingNotification && wasExpandingBefore) {
      dispatchDownEventToScroller(ev);
    }
  }
  boolean scrollerWantsIt=false;
  if (!mSwipingInProgress && !mExpandingNotification) {
    scrollerWantsIt=onScrollTouch(ev);
  }
  boolean horizontalSwipeWantsIt=false;
  if (!mIsBeingDragged && !mExpandingNotification && !mExpandedInThisMotion&& !mOnlyScrollingInThisMotion) {
    horizontalSwipeWantsIt=mSwipeHelper.onTouchEvent(ev);
  }
  return horizontalSwipeWantsIt || scrollerWantsIt || expandWantsIt|| super.onTouchEvent(ev);
}
