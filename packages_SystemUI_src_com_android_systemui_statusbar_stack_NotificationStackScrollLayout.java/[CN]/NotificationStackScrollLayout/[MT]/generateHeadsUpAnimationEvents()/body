{
  for (  Pair<ExpandableNotificationRow,Boolean> eventPair : mHeadsUpChangeAnimations) {
    ExpandableNotificationRow row=eventPair.first;
    boolean isHeadsUp=eventPair.second;
    int type=AnimationEvent.ANIMATION_TYPE_HEADS_UP_OTHER;
    boolean onBottom=false;
    boolean pinnedAndClosed=row.isPinned() && !mIsExpanded;
    if (!mIsExpanded && !isHeadsUp) {
      type=AnimationEvent.ANIMATION_TYPE_HEADS_UP_DISAPPEAR;
    }
 else     if (isHeadsUp && (mAddedHeadsUpChildren.contains(row) || pinnedAndClosed)) {
      if (pinnedAndClosed || shouldHunAppearFromBottom(row)) {
        type=AnimationEvent.ANIMATION_TYPE_HEADS_UP_APPEAR;
      }
 else {
        type=AnimationEvent.ANIMATION_TYPE_ADD;
      }
      onBottom=!pinnedAndClosed;
    }
    AnimationEvent event=new AnimationEvent(row,type);
    event.headsUpFromBottom=onBottom;
    mAnimationEvents.add(event);
  }
  mHeadsUpChangeAnimations.clear();
  mAddedHeadsUpChildren.clear();
}
