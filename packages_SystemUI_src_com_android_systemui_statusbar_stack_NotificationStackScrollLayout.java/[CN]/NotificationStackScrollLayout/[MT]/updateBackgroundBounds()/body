{
  ActivatableNotificationView firstView=getFirstViewWithBackground();
  int top=0;
  if (firstView != null) {
    int finalTranslationY=(int)StackStateAnimator.getFinalTranslationY(firstView);
    if (mBackgroundBounds.top == finalTranslationY) {
      top=finalTranslationY;
    }
 else {
      top=(int)firstView.getTranslationY();
    }
  }
  ActivatableNotificationView lastView=getLastViewWithBackground();
  int bottom=0;
  if (lastView != null) {
    int finalTranslationY=(int)StackStateAnimator.getFinalTranslationY(lastView);
    int finalHeight=StackStateAnimator.getFinalActualHeight(lastView);
    int finalBottom=finalTranslationY + finalHeight;
    finalBottom=Math.min(finalBottom,getHeight());
    if (mBackgroundBounds.bottom == finalBottom) {
      bottom=finalBottom;
    }
 else {
      bottom=(int)(lastView.getTranslationY() + lastView.getActualHeight());
      bottom=Math.min(bottom,getHeight());
    }
  }
  mBackgroundBounds.top=top;
  mBackgroundBounds.bottom=bottom;
  mBackgroundBounds.left=(int)getX();
  mBackgroundBounds.right=(int)(getX() + getWidth());
  if (mCurrentBounds == null) {
    mCurrentBounds=new Rect(mBackgroundBounds);
  }
}
