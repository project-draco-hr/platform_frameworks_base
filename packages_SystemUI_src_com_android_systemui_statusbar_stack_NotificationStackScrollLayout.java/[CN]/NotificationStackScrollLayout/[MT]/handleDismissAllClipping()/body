{
  final int count=getChildCount();
  boolean previousChildWillBeDismissed=false;
  for (int i=0; i < count; i++) {
    ExpandableView child=(ExpandableView)getChildAt(i);
    if (child.getVisibility() == GONE) {
      continue;
    }
    if (mDismissAllInProgress && previousChildWillBeDismissed) {
      child.setMinClipTopAmount(child.getClipTopAmount());
    }
 else {
      child.setMinClipTopAmount(0);
    }
    previousChildWillBeDismissed=canChildBeDismissed(child);
  }
}
