{
  mAmbientState.setDark(dark);
  if (animate && mAnimationsEnabled) {
    mDarkNeedsAnimation=true;
    mDarkAnimationOriginIndex=findDarkAnimationOriginIndex(touchWakeUpScreenLocation);
    mNeedsAnimation=true;
  }
  requestChildrenUpdate();
  if (dark) {
    setWillNotDraw(!DEBUG);
    mScrimController.setExcludedBackgroundArea(null);
  }
 else {
    updateBackground();
    setWillNotDraw(false);
  }
}
