{
  if (mNeedsAnimation) {
    generateChildHierarchyEvents();
    mNeedsAnimation=false;
  }
  if (!mAnimationEvents.isEmpty()) {
    mStateAnimator.startAnimationForEvents(mAnimationEvents,mCurrentStackScrollState);
  }
 else {
    applyCurrentState();
  }
}
