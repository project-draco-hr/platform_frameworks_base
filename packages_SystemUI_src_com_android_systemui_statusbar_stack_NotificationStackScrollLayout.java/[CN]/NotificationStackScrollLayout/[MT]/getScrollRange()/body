{
  int scrollRange=0;
  ExpandableView firstChild=(ExpandableView)getFirstChildNotGone();
  if (firstChild != null) {
    int contentHeight=getContentHeight();
    int firstChildMaxExpandHeight=getMaxExpandHeight(firstChild);
    scrollRange=Math.max(0,contentHeight - mMaxLayoutHeight + mBottomStackPeekSize + mBottomStackSlowDownHeight);
    if (scrollRange > 0) {
      View lastChild=getLastChildNotGone();
      scrollRange=Math.max(scrollRange,firstChildMaxExpandHeight - mCollapsedSize);
    }
  }
  return scrollRange;
}
