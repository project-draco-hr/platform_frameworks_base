{
  int emptyMargin=mMaxLayoutHeight - mContentHeight;
  if (needsHeightAdaption()) {
    emptyMargin=emptyMargin - mBottomStackSlowDownHeight - mBottomStackPeekSize;
  }
 else {
    emptyMargin=emptyMargin - mBottomStackPeekSize;
  }
  return Math.max(emptyMargin,0);
}
