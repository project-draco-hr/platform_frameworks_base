{
  super(context,attrs);
  mHidden=false;
  mDisplay=((WindowManager)context.getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
  mBarService=IStatusBarService.Stub.asInterface(ServiceManager.getService(Context.STATUS_BAR_SERVICE));
  final Resources res=mContext.getResources();
  mBarSize=res.getDimensionPixelSize(R.dimen.navigation_bar_size);
  mVertical=false;
  mShowMenu=false;
  mDelegateHelper=new DelegateViewHelper(this);
  getIcons(res);
  final int[] gradientColors=new int[]{res.getColor(R.color.navigation_bar_background_transparent_start),res.getColor(R.color.navigation_bar_background_transparent_end)};
  mTransparent=new GradientDrawable(Orientation.BOTTOM_TOP,gradientColors);
  mTransparentVertical=new GradientDrawable(Orientation.RIGHT_LEFT,gradientColors);
  mBarTransitions=new BarTransitions(context,this,mTransparent);
}
