{
  resetProperties();
  sendBugreportStarted(1000);
  waitForScreenshotButtonEnabled(true);
  DetailsUi detailsUi=new DetailsUi(mUiBot,PID);
  String actualName=detailsUi.nameField.getText().toString();
  assertEquals("Wrong value on field 'name'",NAME,actualName);
  detailsUi.nameField.setText(NEW_NAME);
  detailsUi.focusAwayFromName();
  assertPropertyValue(NAME_PROPERTY,NEW_NAME);
  detailsUi.clickCancel();
  assertPropertyValue(NAME_PROPERTY,NAME);
  detailsUi.reOpen();
  detailsUi.nameField.setText("/etc/passwd");
  detailsUi.clickOk();
  assertPropertyValue(NAME_PROPERTY,"_etc_passwd");
  detailsUi.reOpen();
  detailsUi.nameField.setText(NEW_NAME);
  detailsUi.titleField.setText(TITLE);
  detailsUi.descField.setText(mDescription);
  detailsUi.clickOk();
  assertPropertyValue(NAME_PROPERTY,NEW_NAME);
  assertProgressNotification(NEW_NAME,"0.00%");
  Bundle extras=sendBugreportFinishedAndGetSharedIntent(PID,mPlainTextPath,mScreenshotPath);
  assertActionSendMultiple(extras,BUGREPORT_CONTENT,SCREENSHOT_CONTENT,PID,TITLE,NEW_NAME,TITLE,mDescription,1,RENAMED_SCREENSHOTS);
  assertServiceNotRunning();
}
