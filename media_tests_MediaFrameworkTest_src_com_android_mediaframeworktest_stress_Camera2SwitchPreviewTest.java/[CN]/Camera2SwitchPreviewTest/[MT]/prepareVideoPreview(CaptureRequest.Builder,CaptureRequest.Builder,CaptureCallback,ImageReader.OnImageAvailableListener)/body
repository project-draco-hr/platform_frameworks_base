{
  List<Surface> outputSurfaces=new ArrayList<Surface>();
  outputSurfaces.add(mPreviewSurface);
  outputSurfaces.add(mRecordingSurface);
  mSessionListener=new BlockingSessionCallback();
  mSession=configureCameraSession(mCamera,outputSurfaces,mSessionListener,mHandler);
  previewRequest.addTarget(mPreviewSurface);
  recordingRequest.addTarget(mPreviewSurface);
  recordingRequest.addTarget(mRecordingSurface);
  mSession.setRepeatingRequest(previewRequest.build(),null,mHandler);
}
