{
  final String mappingModeKey=getRootDocumentsMappingStateKey(deviceId);
switch (mMappingMode.get(mappingModeKey)) {
case MAP_BY_MTP_IDENTIFIER:
    mDatabase.stopAddingDocuments(SELECTION_ROOT_DOCUMENTS,Integer.toString(deviceId),COLUMN_STORAGE_ID);
  break;
case MAP_BY_NAME:
mDatabase.stopAddingDocuments(SELECTION_ROOT_DOCUMENTS,Integer.toString(deviceId),Document.COLUMN_DISPLAY_NAME);
break;
default :
throw new Error("Unexpected mapping state.");
}
mMappingMode.remove(mappingModeKey);
}
