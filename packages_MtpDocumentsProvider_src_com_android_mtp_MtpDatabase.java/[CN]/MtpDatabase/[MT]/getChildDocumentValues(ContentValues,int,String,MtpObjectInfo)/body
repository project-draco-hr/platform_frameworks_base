{
  values.clear();
  final String mimeType=info.getFormat() == MtpConstants.FORMAT_ASSOCIATION ? DocumentsContract.Document.MIME_TYPE_DIR : MediaFile.getMimeTypeForFormatCode(info.getFormat());
  int flag=0;
  if (info.getProtectionStatus() == 0) {
    flag|=Document.FLAG_SUPPORTS_DELETE | Document.FLAG_SUPPORTS_WRITE;
    if (mimeType == Document.MIME_TYPE_DIR) {
      flag|=Document.FLAG_DIR_SUPPORTS_CREATE;
    }
  }
  if (info.getThumbCompressedSize() > 0) {
    flag|=Document.FLAG_SUPPORTS_THUMBNAIL;
  }
  values.put(COLUMN_DEVICE_ID,deviceId);
  values.put(COLUMN_STORAGE_ID,info.getStorageId());
  values.put(COLUMN_OBJECT_HANDLE,info.getObjectHandle());
  values.put(COLUMN_PARENT_DOCUMENT_ID,parentId);
  values.put(COLUMN_ROW_STATE,ROW_STATE_VALID);
  values.put(Document.COLUMN_MIME_TYPE,mimeType);
  values.put(Document.COLUMN_DISPLAY_NAME,info.getName());
  values.putNull(Document.COLUMN_SUMMARY);
  values.put(Document.COLUMN_LAST_MODIFIED,info.getDateModified() != 0 ? info.getDateModified() : null);
  values.putNull(Document.COLUMN_ICON);
  values.put(Document.COLUMN_FLAGS,flag);
  values.put(Document.COLUMN_SIZE,info.getCompressedSize());
}
