{
  final boolean heuristic;
  final String mapColumn;
switch (mMappingMode.get(getChildDocumentsMappingStateKey(parentId))) {
case MAP_BY_MTP_IDENTIFIER:
    heuristic=false;
  mapColumn=COLUMN_OBJECT_HANDLE;
break;
case MAP_BY_NAME:
heuristic=true;
mapColumn=Document.COLUMN_DISPLAY_NAME;
break;
default :
throw new Error("Unexpected map mode.");
}
final ContentValues[] valuesList=new ContentValues[documents.length];
for (int i=0; i < documents.length; i++) {
valuesList[i]=new ContentValues();
getChildDocumentValues(valuesList[i],deviceId,parentId,documents[i]);
}
mDatabase.putDocuments(valuesList,SELECTION_CHILD_DOCUMENTS,parentId,heuristic,mapColumn);
}
