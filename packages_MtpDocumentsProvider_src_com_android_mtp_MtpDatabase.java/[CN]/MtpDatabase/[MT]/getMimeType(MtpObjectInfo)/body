{
  if (info.getFormat() == MtpConstants.FORMAT_ASSOCIATION) {
    return DocumentsContract.Document.MIME_TYPE_DIR;
  }
  final String formatCodeMimeType=MediaFile.getMimeTypeForFormatCode(info.getFormat());
  if (formatCodeMimeType != null) {
    return formatCodeMimeType;
  }
  return MediaFile.getMimeTypeForFile(info.getName());
}
