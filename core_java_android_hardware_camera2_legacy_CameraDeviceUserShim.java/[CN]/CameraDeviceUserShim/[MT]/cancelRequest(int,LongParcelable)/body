{
  if (DEBUG) {
    Log.d(TAG,"cancelRequest called.");
  }
  if (mLegacyDevice.isClosed()) {
    Log.e(TAG,"Cannot cancel request, device has been closed.");
    return CameraBinderDecorator.ENODEV;
  }
synchronized (mConfigureLock) {
    if (mConfiguring) {
      Log.e(TAG,"Cannot cancel request, configuration change in progress.");
      return CameraBinderDecorator.INVALID_OPERATION;
    }
  }
  long lastFrame=mLegacyDevice.cancelRequest(requestId);
  lastFrameNumber.setNumber(lastFrame);
  return CameraBinderDecorator.NO_ERROR;
}
