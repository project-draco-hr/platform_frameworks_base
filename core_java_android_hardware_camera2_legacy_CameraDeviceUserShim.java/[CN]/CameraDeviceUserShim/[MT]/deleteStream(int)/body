{
  if (DEBUG) {
    Log.d(TAG,"deleteStream called.");
  }
  if (mLegacyDevice.isClosed()) {
    Log.e(TAG,"Cannot delete stream, device has been closed.");
    return -ENODEV;
  }
synchronized (mConfigureLock) {
    if (!mConfiguring) {
      Log.e(TAG,"Cannot delete stream, beginConfigure hasn't been called yet.");
      return CameraBinderDecorator.INVALID_OPERATION;
    }
    int index=mSurfaces.indexOfKey(streamId);
    if (index < 0) {
      Log.e(TAG,"Cannot delete stream, stream id " + streamId + " doesn't exist.");
      return CameraBinderDecorator.BAD_VALUE;
    }
    mSurfaces.removeAt(index);
  }
  return CameraBinderDecorator.NO_ERROR;
}
