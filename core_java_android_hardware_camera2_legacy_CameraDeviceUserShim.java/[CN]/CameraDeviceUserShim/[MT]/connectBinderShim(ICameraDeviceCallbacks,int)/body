{
  if (DEBUG) {
    Log.d(TAG,"Opening shim Camera device");
  }
  Camera legacyCamera=Camera.openUninitialized();
  int initErrors=legacyCamera.cameraInit(cameraId);
  if (Camera.checkInitErrors(initErrors)) {
    throw new CameraRuntimeException(CameraAccessException.CAMERA_DISCONNECTED);
  }
  LegacyCameraDevice device=new LegacyCameraDevice(cameraId,legacyCamera,callbacks);
  return new CameraDeviceUserShim(cameraId,device);
}
