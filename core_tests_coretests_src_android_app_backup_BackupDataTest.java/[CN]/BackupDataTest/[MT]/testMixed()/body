{
  mFile=new File(mDirectory,"backup_mixed_test.dat");
  openForWriting();
  BackupDataOutput bdo=new BackupDataOutput(mDataFile.getFileDescriptor());
  int i=0;
  deleteEntity(bdo,KEYS[i]);
  i++;
  writeEntity(bdo,KEYS[i],DATA[i].getBytes());
  i++;
  writeEntity(bdo,KEYS[i],DATA[i].getBytes());
  i++;
  deleteEntity(bdo,KEYS[i]);
  i++;
  mDataFile.close();
  openForReading();
  BackupDataInput bdi=new BackupDataInput(mDataFile.getFileDescriptor());
  int out=0;
  assertTrue(bdi.readNextHeader());
  readAndVerifyDeletedEntity(bdi,KEYS[out]);
  out++;
  assertTrue(bdi.readNextHeader());
  readAndVerifyEntity(bdi,KEYS[out],DATA[out].getBytes());
  out++;
  assertTrue(bdi.readNextHeader());
  readAndVerifyEntity(bdi,KEYS[out],DATA[out].getBytes());
  out++;
  assertTrue(bdi.readNextHeader());
  readAndVerifyDeletedEntity(bdi,KEYS[out]);
  out++;
  assertFalse("four items in this stream",bdi.readNextHeader());
}
