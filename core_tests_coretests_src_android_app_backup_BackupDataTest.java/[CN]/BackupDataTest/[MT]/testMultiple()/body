{
  mFile=new File(mDirectory,"backup_multiple_test.dat");
  openForWriting();
  BackupDataOutput bdo=new BackupDataOutput(mDataFile.getFileDescriptor());
  for (int i=0; i < KEYS.length; i++) {
    writeEntity(bdo,KEYS[i],DATA[i].getBytes());
  }
  mDataFile.close();
  openForReading();
  BackupDataInput bdi=new BackupDataInput(mDataFile.getFileDescriptor());
  int count=0;
  while (bdi.readNextHeader()) {
    readAndVerifyEntity(bdi,KEYS[count],DATA[count].getBytes());
    count++;
  }
  assertEquals("four entities in this stream",KEYS.length,count);
}
