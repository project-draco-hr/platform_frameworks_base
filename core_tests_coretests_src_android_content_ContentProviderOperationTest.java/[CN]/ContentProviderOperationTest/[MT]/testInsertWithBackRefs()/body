{
  ContentProviderResult[] previousResults=new ContentProviderResult[4];
  previousResults[0]=new ContentProviderResult(100);
  previousResults[1]=new ContentProviderResult(101);
  previousResults[2]=new ContentProviderResult(102);
  previousResults[3]=new ContentProviderResult(103);
  ContentProviderOperation op1=ContentProviderOperation.newInsert(sTestUri1).withValues(sTestValues1).withValueBackReference("a1",3).withValueBackReference("a2",1).build();
  ContentProviderResult result=op1.apply(new TestContentProvider(){
    public Uri insert(    Uri uri,    ContentValues values){
      assertEquals(sTestUri1.toString(),uri.toString());
      ContentValues expected=new ContentValues(sTestValues1);
      expected.put("a1",103);
      expected.put("a2",101);
      assertEquals(expected.toString(),values.toString());
      return uri.buildUpon().appendPath("19").build();
    }
  }
,previousResults,previousResults.length);
  assertEquals(sTestUri1.buildUpon().appendPath("19").toString(),result.uri.toString());
}
