{
  if (sSingleton == null) {
    final Resources res=context.getResources();
    final ContentResolver resolver=context.getContentResolver();
    final String defaultServer=res.getString(com.android.internal.R.string.config_ntpServer);
    final long defaultTimeout=res.getInteger(com.android.internal.R.integer.config_ntpTimeout);
    final String secureServer=Settings.Secure.getString(resolver,Settings.Secure.NTP_SERVER);
    final long timeout=Settings.Secure.getLong(resolver,Settings.Secure.NTP_TIMEOUT,defaultTimeout);
    final String server=secureServer != null ? secureServer : defaultServer;
    sSingleton=new NtpTrustedTime(server,timeout);
  }
  return sSingleton;
}
