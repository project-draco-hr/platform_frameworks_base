{
  doGestureDetection(motionEvent);
  final int action=motionEvent.getAction();
switch (action & MotionEvent.ACTION_MASK) {
case MotionEvent.ACTION_DOWN:
{
      final int x=(int)motionEvent.getX();
      final int y=(int)motionEvent.getY();
synchronized (this) {
        if (!mTouchExcludeRegion.contains(x,y)) {
          mService.mH.obtainMessage(H.TAP_OUTSIDE_TASK,x,y,mDisplayContent).sendToTarget();
        }
      }
      break;
    }
case MotionEvent.ACTION_MOVE:
{
    if (motionEvent.getPointerCount() != 2) {
      stopTwoFingerScroll();
    }
    break;
  }
case MotionEvent.ACTION_HOVER_MOVE:
{
  final int x=(int)motionEvent.getX();
  final int y=(int)motionEvent.getY();
  final Task task=mDisplayContent.findTaskForControlPoint(x,y);
  InputDevice inputDevice=motionEvent.getDevice();
  if (task == null || inputDevice == null) {
    mPointerIconShape=STYLE_NOT_SPECIFIED;
    break;
  }
  task.getDimBounds(mTmpRect);
  if (!mTmpRect.isEmpty() && !mTmpRect.contains(x,y)) {
    int iconShape=STYLE_DEFAULT;
    if (x < mTmpRect.left) {
      iconShape=(y < mTmpRect.top) ? STYLE_TOP_LEFT_DIAGONAL_DOUBLE_ARROW : (y > mTmpRect.bottom) ? STYLE_TOP_RIGHT_DIAGONAL_DOUBLE_ARROW : STYLE_HORIZONTAL_DOUBLE_ARROW;
    }
 else     if (x > mTmpRect.right) {
      iconShape=(y < mTmpRect.top) ? STYLE_TOP_RIGHT_DIAGONAL_DOUBLE_ARROW : (y > mTmpRect.bottom) ? STYLE_TOP_LEFT_DIAGONAL_DOUBLE_ARROW : STYLE_HORIZONTAL_DOUBLE_ARROW;
    }
 else     if (y < mTmpRect.top || y > mTmpRect.bottom) {
      iconShape=STYLE_VERTICAL_DOUBLE_ARROW;
    }
    if (mPointerIconShape != iconShape) {
      mPointerIconShape=iconShape;
      inputDevice.setPointerShape(iconShape);
    }
  }
 else {
    mPointerIconShape=STYLE_NOT_SPECIFIED;
  }
}
break;
case MotionEvent.ACTION_HOVER_EXIT:
mPointerIconShape=STYLE_NOT_SPECIFIED;
InputDevice inputDevice=motionEvent.getDevice();
if (inputDevice != null) {
inputDevice.setPointerShape(STYLE_DEFAULT);
}
break;
case MotionEvent.ACTION_UP:
case MotionEvent.ACTION_POINTER_UP:
{
stopTwoFingerScroll();
break;
}
}
}
