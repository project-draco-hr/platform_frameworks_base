{
synchronized (mConnection) {
    if (mUnbinding)     return;
    mUnbinding=true;
    if (mIsConnected) {
      if (sendStop) {
        if (DBG)         Log.d(TAG,"Sending stop request.");
        Intent i=new Intent(IBluetooth.class.getName());
        i.putExtra(EXTRA_ACTION,ACTION_SERVICE_STATE_CHANGED);
        i.putExtra(BluetoothAdapter.EXTRA_STATE,BluetoothAdapter.STATE_OFF);
        mContext.startService(i);
      }
      if (DBG)       Log.d(TAG,"Sending unbind request.");
      mContext.unbindService(mConnection);
      mHandler.sendMessage(mHandler.obtainMessage(MESSAGE_BLUETOOTH_SERVICE_DISCONNECTED));
    }
  }
}
