{
  mContext=context;
  mBluetooth=null;
  mBinding=false;
  mUnbinding=false;
  mAddress=null;
  mName=null;
  mContentResolver=context.getContentResolver();
  mCallbacks=new ArrayList<IBluetoothManagerCallback>();
  mStateChangeCallbacks=new ArrayList<IBluetoothStateChangeCallback>();
  mContext.registerReceiver(mReceiver,mFilter);
  int airplaneModeOn=Settings.System.getInt(mContentResolver,Settings.System.AIRPLANE_MODE_ON,0);
  int bluetoothOn=Settings.Secure.getInt(mContentResolver,Settings.Secure.BLUETOOTH_ON,0);
  if (DBG)   Log.d(TAG,"airplane mode: " + airplaneModeOn + " bluetoothOn: "+ bluetoothOn);
  loadStoredNameAndAddress();
  if (airplaneModeOn == 0 && bluetoothOn != 0) {
    if (DBG)     Log.d(TAG,"Autoenabling Bluetooth.");
    enable();
  }
 else   if (ALWAYS_SYNC_NAME_ADDRESS || !isNameAndAddressSet()) {
    if (DBG)     Log.d(TAG,"Retrieving name and address...");
    getNameAndAddress();
  }
}
