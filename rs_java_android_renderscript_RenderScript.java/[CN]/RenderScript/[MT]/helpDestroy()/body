{
  boolean shouldDestroy=false;
synchronized (this) {
    if (!mDestroyed) {
      shouldDestroy=true;
      mDestroyed=true;
    }
  }
  if (shouldDestroy) {
    nContextFinish();
    nContextDeinitToClient(mContext);
    mMessageThread.mRun=false;
    try {
      mMessageThread.join();
    }
 catch (    InterruptedException e) {
    }
    nContextDestroy();
    nDeviceDestroy(mDev);
    mDev=0;
  }
}
