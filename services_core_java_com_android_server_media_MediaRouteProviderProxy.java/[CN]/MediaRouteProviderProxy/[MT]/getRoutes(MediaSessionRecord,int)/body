{
  if (mBinder == null) {
    Log.wtf(TAG,"Attempted to call getRoutes without a binder connection");
    return;
  }
  List<RouteRequest> requests=record.getRouteRequests();
  final String sessionId=record.getSessionInfo().getId();
  try {
    mBinder.getAvailableRoutes(requests,new ResultReceiver(mHandler){
      @Override protected void onReceiveResult(      int resultCode,      Bundle resultData){
        if (resultCode != RouteProviderService.RESULT_SUCCESS) {
          return;
        }
        ArrayList<RouteInfo> routes=resultData.getParcelableArrayList(RouteProviderService.KEY_ROUTES);
        ArrayList<RouteInfo> sysRoutes=new ArrayList<RouteInfo>();
        for (int i=0; i < routes.size(); i++) {
          RouteInfo route=routes.get(i);
          RouteInfo.Builder bob=new RouteInfo.Builder(route);
          bob.setProviderId(mId);
          sysRoutes.add(bob.build());
        }
        if (mRouteListener != null) {
          mRouteListener.onRoutesUpdated(sessionId,sysRoutes,requestId);
        }
      }
    }
);
  }
 catch (  RemoteException e) {
    Log.d(TAG,"Error in getRoutes",e);
  }
}
