{
  mSortedAndFiltered.clear();
synchronized (mEntries) {
    final int N=mEntries.size();
    for (int i=0; i < N; i++) {
      Entry entry=mEntries.valueAt(i);
      StatusBarNotification sbn=entry.notification;
      if (shouldFilterOut(sbn)) {
        continue;
      }
      mSortedAndFiltered.add(entry);
    }
  }
  Collections.sort(mSortedAndFiltered,mRankingComparator);
}
