{
  boolean cached=false;
  if (updatedNotification != null) {
    final Notification.Builder updatedNotificationBuilder=Notification.Builder.recoverBuilder(ctx,updatedNotification);
    final RemoteViews newContentView=updatedNotificationBuilder.makeContentView();
    if (!compareRemoteViews(cachedContentView,newContentView)) {
      cachedContentView=newContentView;
      cached|=true;
    }
    final RemoteViews newBigContentView=updatedNotificationBuilder.makeBigContentView();
    if (!compareRemoteViews(cachedBigContentView,newBigContentView)) {
      cachedBigContentView=newBigContentView;
      cached|=true;
    }
    final RemoteViews newHeadsUpContentView=updatedNotificationBuilder.makeHeadsUpContentView();
    if (!compareRemoteViews(cachedHeadsUpContentView,newBigContentView)) {
      cachedHeadsUpContentView=newHeadsUpContentView;
      cached|=true;
    }
    final Notification updatedPublicNotification=updatedNotification.publicVersion;
    final RemoteViews newPubContentView=(updatedPublicNotification != null) ? Notification.Builder.recoverBuilder(ctx,updatedPublicNotification).makeContentView() : null;
    if (!compareRemoteViews(cachedPublicContentView,newPubContentView)) {
      cachedPublicContentView=newPubContentView;
      cached|=true;
    }
  }
 else {
    final Notification.Builder builder=Notification.Builder.recoverBuilder(ctx,notification.getNotification());
    cachedContentView=builder.makeContentView();
    cachedBigContentView=builder.makeBigContentView();
    cachedHeadsUpContentView=builder.makeHeadsUpContentView();
    final Notification publicNotification=notification.getNotification().publicVersion;
    if (publicNotification != null) {
      final Notification.Builder publicBuilder=Notification.Builder.recoverBuilder(ctx,publicNotification);
      cachedPublicContentView=publicBuilder.makeContentView();
    }
    cached=true;
  }
  return cached;
}
