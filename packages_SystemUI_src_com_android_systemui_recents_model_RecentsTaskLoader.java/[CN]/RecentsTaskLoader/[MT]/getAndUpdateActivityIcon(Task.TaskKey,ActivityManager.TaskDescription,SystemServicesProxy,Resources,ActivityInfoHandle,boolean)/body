{
  Drawable icon=mApplicationIconCache.getAndInvalidateIfModified(taskKey);
  if (icon != null) {
    return icon;
  }
  if (td != null && td.getIcon() != null) {
    icon=ssp.getBadgedIcon(new BitmapDrawable(res,td.getIcon()),taskKey.userId);
    mApplicationIconCache.put(taskKey,icon);
    return icon;
  }
  if (preloadTask) {
    if (infoHandle.info == null) {
      infoHandle.info=ssp.getActivityInfo(taskKey.baseIntent.getComponent(),taskKey.userId);
    }
    if (infoHandle.info != null) {
      icon=ssp.getActivityIcon(infoHandle.info,taskKey.userId);
      if (icon != null) {
        mApplicationIconCache.put(taskKey,icon);
        return icon;
      }
    }
  }
  return null;
}
