{
  Drawable icon=mApplicationIconCache.getAndInvalidateIfModified(taskKey);
  if (icon != null) {
    return icon;
  }
  if (loadIfNotCached) {
    icon=mLoader.getTaskDescriptionIcon(taskKey,td.getInMemoryIcon(),td.getIconFilename(),ssp,res);
    if (icon != null) {
      mApplicationIconCache.put(taskKey,icon);
      return icon;
    }
    ActivityInfo activityInfo=getAndUpdateActivityInfo(taskKey,ssp);
    if (activityInfo != null) {
      icon=ssp.getActivityIcon(activityInfo,taskKey.userId);
      if (icon != null) {
        mApplicationIconCache.put(taskKey,icon);
        return icon;
      }
    }
  }
  return null;
}
