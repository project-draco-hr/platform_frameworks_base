{
  SystemServicesProxy ssp=Recents.getSystemServices();
  Drawable icon=mIconCache.getAndInvalidateIfModified(taskKey);
  if (icon != null) {
    return icon;
  }
  if (loadIfNotCached) {
    icon=ssp.getBadgedTaskDescriptionIcon(td,taskKey.userId,res);
    if (icon != null) {
      mIconCache.put(taskKey,icon);
      return icon;
    }
    ActivityInfo activityInfo=getAndUpdateActivityInfo(taskKey);
    if (activityInfo != null) {
      icon=ssp.getBadgedActivityIcon(activityInfo,taskKey.userId);
      if (icon != null) {
        mIconCache.put(taskKey,icon);
        return icon;
      }
    }
  }
  return null;
}
