{
  int maxMemory=(int)Runtime.getRuntime().maxMemory();
  mMaxThumbnailCacheSize=maxMemory / 6;
  mMaxIconCacheSize=mMaxThumbnailCacheSize / 5;
  int iconCacheSize=Constants.DebugFlags.App.DisableBackgroundCache ? 1 : mMaxIconCacheSize;
  int thumbnailCacheSize=Constants.DebugFlags.App.DisableBackgroundCache ? 1 : mMaxThumbnailCacheSize;
  Bitmap icon=Bitmap.createBitmap(1,1,Bitmap.Config.ARGB_8888);
  icon.eraseColor(0x00000000);
  mDefaultThumbnail=Bitmap.createBitmap(1,1,Bitmap.Config.ARGB_8888);
  mDefaultThumbnail.setHasAlpha(false);
  mDefaultThumbnail.eraseColor(0xFFffffff);
  mLoadingThumbnail=Bitmap.createBitmap(1,1,Bitmap.Config.ARGB_8888);
  mLoadingThumbnail.setHasAlpha(false);
  mLoadingThumbnail.eraseColor(0xFFffffff);
  mDefaultApplicationIcon=new BitmapDrawable(context.getResources(),icon);
  mSystemServicesProxy=new SystemServicesProxy(context);
  mPackageMonitor=new RecentsPackageMonitor();
  mLoadQueue=new TaskResourceLoadQueue();
  mApplicationIconCache=new DrawableLruCache(iconCacheSize);
  mThumbnailCache=new BitmapLruCache(thumbnailCacheSize);
  mActivityLabelCache=new StringLruCache(100);
  mLoader=new TaskResourceLoader(mLoadQueue,mApplicationIconCache,mThumbnailCache,mDefaultThumbnail,mDefaultApplicationIcon);
}
