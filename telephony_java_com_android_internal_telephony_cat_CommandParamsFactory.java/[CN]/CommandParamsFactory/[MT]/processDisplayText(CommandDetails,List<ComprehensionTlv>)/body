{
  StkLog.d(this,"process DisplayText");
  TextMessage textMsg=new TextMessage();
  IconId iconId=null;
  ComprehensionTlv ctlv=searchForTag(ComprehensionTlvTag.TEXT_STRING,ctlvs);
  if (ctlv != null) {
    textMsg.text=ValueParser.retrieveTextString(ctlv);
  }
  if (textMsg.text == null) {
    throw new ResultException(ResultCode.CMD_DATA_NOT_UNDERSTOOD);
  }
  ctlv=searchForTag(ComprehensionTlvTag.IMMEDIATE_RESPONSE,ctlvs);
  if (ctlv != null) {
    textMsg.responseNeeded=false;
  }
  ctlv=searchForTag(ComprehensionTlvTag.ICON_ID,ctlvs);
  if (ctlv != null) {
    iconId=ValueParser.retrieveIconId(ctlv);
    textMsg.iconSelfExplanatory=iconId.selfExplanatory;
  }
  ctlv=searchForTag(ComprehensionTlvTag.DURATION,ctlvs);
  if (ctlv != null) {
    textMsg.duration=ValueParser.retrieveDuration(ctlv);
  }
  textMsg.isHighPriority=(cmdDet.commandQualifier & 0x01) != 0;
  textMsg.userClear=(cmdDet.commandQualifier & 0x80) != 0;
  mCmdParams=new DisplayTextParams(cmdDet,textMsg);
  if (iconId != null) {
    mIconLoadState=LOAD_SINGLE_ICON;
    mIconLoader.loadIcon(iconId.recordNumber,this.obtainMessage(MSG_ID_LOAD_ICON_DONE));
    return true;
  }
  return false;
}
