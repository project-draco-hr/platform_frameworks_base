{
synchronized (mSyncObject) {
    mCommandDone=false;
  }
  Message msg=Message.obtain();
  msg.what=WebViewCore.EventHub.MESSAGE_RELAY;
  Message echo=mHandler.obtainMessage(CMD_MESSAGE_RELAY_ECHO);
  msg.obj=echo;
  mWebView.getWebViewCore().sendMessage(msg);
synchronized (mSyncObject) {
    long end=System.currentTimeMillis() + timeout;
    while (!mCommandDone && (System.currentTimeMillis() <= end)) {
      try {
        mSyncObject.wait(timeout);
      }
 catch (      InterruptedException e) {
        throw new RuntimeException(e);
      }
    }
  }
}
