{
  final IPrintDocumentAdapterObserver observer;
synchronized (mLock) {
    if (activity == mActivity) {
      mDestroyed=true;
      observer=mObserver;
      clearLocked();
    }
 else {
      observer=null;
      activity=null;
    }
  }
  if (observer != null) {
    activity.getApplication().unregisterActivityLifecycleCallbacks(PrintDocumentAdapterDelegate.this);
    try {
      observer.onDestroy();
    }
 catch (    RemoteException re) {
      Log.e(LOG_TAG,"Error announcing destroyed state",re);
    }
  }
}
