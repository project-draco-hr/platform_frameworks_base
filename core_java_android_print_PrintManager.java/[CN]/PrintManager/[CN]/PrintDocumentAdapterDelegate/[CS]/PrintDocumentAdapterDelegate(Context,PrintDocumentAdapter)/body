{
  if (!(context instanceof Activity)) {
    throw new IllegalStateException("Can print only from an activity");
  }
  mActivity=(Activity)context;
  mDocumentAdapter=documentAdapter;
  mHandler=new MyHandler(mActivity.getMainLooper());
  mActivity.getApplication().registerActivityLifecycleCallbacks(this);
}
