{
  if (!mEnableNotif)   return;
  final long token=Binder.clearCallingIdentity();
  try {
    mStatusIntent=VpnConfig.getIntentForStatusPanel(mContext);
    NotificationManager nm=(NotificationManager)mContext.getSystemService(Context.NOTIFICATION_SERVICE);
    if (nm != null) {
      String title=(label == null) ? mContext.getString(R.string.vpn_title) : mContext.getString(R.string.vpn_title_long,label);
      String text=(mConfig.session == null) ? mContext.getString(R.string.vpn_text) : mContext.getString(R.string.vpn_text_long,mConfig.session);
      Notification notification=new Notification.Builder(mContext).setSmallIcon(R.drawable.vpn_connected).setLargeIcon(icon).setContentTitle(title).setContentText(text).setContentIntent(mStatusIntent).setDefaults(0).setOngoing(true).build();
      nm.notifyAsUser(null,R.drawable.vpn_connected,notification,new UserHandle(user));
    }
  }
  finally {
    Binder.restoreCallingIdentity(token);
  }
}
