{
  if (mLastSentPrinters == null || mLastSentPrinters.isEmpty()) {
    mLastSentPrinters=null;
    return;
  }
  List<PrinterInfo> addedPrinters=null;
  List<PrinterInfo> updatedPrinters=null;
  List<PrinterId> removedPrinterIds=null;
  for (  PrinterInfo printer : mPrinters.values()) {
    PrinterInfo sentPrinter=mLastSentPrinters.get(printer.getId());
    if (sentPrinter != null) {
      if (!sentPrinter.equals(printer)) {
        if (updatedPrinters == null) {
          updatedPrinters=new ArrayList<PrinterInfo>();
        }
        updatedPrinters.add(printer);
      }
    }
 else {
      if (addedPrinters == null) {
        addedPrinters=new ArrayList<PrinterInfo>();
      }
      addedPrinters.add(printer);
    }
  }
  if (addedPrinters != null) {
    sendAddedPrinters(mObserver,addedPrinters);
  }
  if (updatedPrinters != null) {
    sendUpdatedPrinters(mObserver,updatedPrinters);
  }
  for (  PrinterInfo sentPrinter : mLastSentPrinters.values()) {
    if (!mPrinters.containsKey(sentPrinter.getId())) {
      if (removedPrinterIds == null) {
        removedPrinterIds=new ArrayList<PrinterId>();
      }
      removedPrinterIds.add(sentPrinter.getId());
    }
  }
  if (removedPrinterIds != null) {
    sendRemovedPrinters(mObserver,removedPrinterIds);
  }
  mLastSentPrinters=null;
}
