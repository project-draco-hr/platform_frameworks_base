{
  try {
    RequestWrapper wrapped;
    if (request instanceof HttpEntityEnclosingRequest) {
      wrapped=new EntityEnclosingRequestWrapper((HttpEntityEnclosingRequest)request);
    }
 else {
      wrapped=new RequestWrapper(request);
    }
    wrapped.resetHeaders();
    return wrapped;
  }
 catch (  ProtocolException e) {
    throw new ClientProtocolException(e);
  }
}
