{
  super.onCreate(icicle);
  mRoots=DocumentsApplication.getRootsCache(this);
  setResult(Activity.RESULT_CANCELED);
  setContentView(R.layout.activity);
  final Context context=this;
  final Resources res=getResources();
  final WindowManager.LayoutParams a=getWindow().getAttributes();
  final Point size=new Point();
  getWindowManager().getDefaultDisplay().getSize(size);
  getWindow().setAttributes(a);
  mDirectoryContainer=(DirectoryContainerView)findViewById(R.id.container_directory);
  if (icicle != null) {
    mState=icicle.getParcelable(EXTRA_STATE);
  }
 else {
    buildDefaultState();
  }
  mToolbar=(Toolbar)findViewById(R.id.toolbar);
  mToolbar.setTitleTextAppearance(context,android.R.style.TextAppearance_DeviceDefault_Widget_ActionBar_Title);
  mToolbarStack=(Spinner)findViewById(R.id.stack);
  mToolbarStack.setOnItemSelectedListener(mStackListener);
  mRootsToolbar=(Toolbar)findViewById(R.id.roots_toolbar);
  if (mRootsToolbar != null) {
    mRootsToolbar.setTitleTextAppearance(context,android.R.style.TextAppearance_DeviceDefault_Widget_ActionBar_Title);
  }
  setActionBar(mToolbar);
  RootsFragment.show(getFragmentManager(),null);
  if (!mState.restored) {
    new RestoreStackTask().execute();
  }
 else {
    onCurrentDirectoryChanged(ANIM_NONE);
  }
}
