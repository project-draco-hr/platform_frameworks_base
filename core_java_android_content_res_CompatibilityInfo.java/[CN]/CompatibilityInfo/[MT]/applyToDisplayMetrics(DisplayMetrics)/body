{
  if (!supportsScreen()) {
    CompatibilityInfo.updateCompatibleScreenFrame(inoutDm,null,inoutDm);
  }
 else {
    inoutDm.widthPixels=inoutDm.unscaledWidthPixels;
    inoutDm.heightPixels=inoutDm.unscaledHeightPixels;
  }
  if (isScalingRequired()) {
    float invertedRatio=applicationInvertedScale;
    inoutDm.density*=invertedRatio;
    inoutDm.densityDpi=(int)((inoutDm.density * DisplayMetrics.DENSITY_DEFAULT) + .5f);
    inoutDm.scaledDensity*=invertedRatio;
    inoutDm.xdpi*=invertedRatio;
    inoutDm.ydpi*=invertedRatio;
    inoutDm.widthPixels=(int)(inoutDm.widthPixels * invertedRatio + 0.5f);
    inoutDm.heightPixels=(int)(inoutDm.heightPixels * invertedRatio + 0.5f);
  }
}
