{
  if (!supportsScreen()) {
    inoutConfig.screenLayout=(inoutConfig.screenLayout & ~Configuration.SCREENLAYOUT_SIZE_MASK) | Configuration.SCREENLAYOUT_SIZE_NORMAL;
    inoutConfig.screenWidthDp=inoutConfig.compatScreenWidthDp;
    inoutConfig.screenHeightDp=inoutConfig.compatScreenHeightDp;
    inoutConfig.smallestScreenWidthDp=inoutConfig.compatSmallestScreenWidthDp;
  }
  inoutConfig.densityDpi=displayDensity;
  if (isScalingRequired()) {
    float invertedRatio=applicationInvertedScale;
    inoutConfig.densityDpi=(int)((inoutConfig.densityDpi * invertedRatio) + .5f);
  }
}
