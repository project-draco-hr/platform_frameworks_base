{
  mExpandable=mConfiguredExpandable=appInfo.expandable;
  float packageDensityScale=-1.0f;
  if (appInfo.supportsDensities != null) {
    int minDiff=Integer.MAX_VALUE;
    for (    int density : appInfo.supportsDensities) {
      if (density == ApplicationInfo.ANY_DENSITY) {
        packageDensityScale=1.0f;
        break;
      }
      int tmpDiff=Math.abs(DisplayMetrics.DEVICE_DENSITY - density);
      if (tmpDiff == 0) {
        packageDensityScale=1.0f;
        break;
      }
      if (tmpDiff < minDiff && packageDensityScale < 1.0f) {
        packageDensityScale=DisplayMetrics.DEVICE_DENSITY / (float)density;
        minDiff=tmpDiff;
      }
    }
  }
  if (packageDensityScale > 0.0f) {
    mApplicationScale=packageDensityScale;
  }
 else {
    mApplicationScale=DisplayMetrics.DEVICE_DENSITY / (float)DisplayMetrics.DEFAULT_DENSITY;
  }
  mApplicationInvertedScale=1.0f / mApplicationScale;
  mScalingRequired=mApplicationScale != 1.0f;
}
