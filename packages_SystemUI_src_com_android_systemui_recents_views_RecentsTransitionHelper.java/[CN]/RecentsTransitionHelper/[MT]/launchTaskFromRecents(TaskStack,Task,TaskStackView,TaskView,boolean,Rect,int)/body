{
  final ActivityOptions opts=ActivityOptions.makeBasic();
  if (bounds != null) {
    opts.setLaunchBounds(bounds.isEmpty() ? null : bounds);
  }
  final ActivityOptions.OnAnimationStartedListener animStartedListener;
  final IAppTransitionAnimationSpecsFuture transitionFuture;
  if (taskView != null) {
    transitionFuture=getAppTransitionFuture(task,stackView,destinationStack);
    animStartedListener=new ActivityOptions.OnAnimationStartedListener(){
      @Override public void onAnimationStarted(){
        EventBus.getDefault().send(new CancelEnterRecentsWindowAnimationEvent(task));
        EventBus.getDefault().send(new ExitRecentsWindowFirstAnimationFrameEvent());
        if (screenPinningRequested) {
          mHandler.postDelayed(mStartScreenPinningRunnable,350);
        }
      }
    }
;
  }
 else {
    transitionFuture=null;
    animStartedListener=new ActivityOptions.OnAnimationStartedListener(){
      @Override public void onAnimationStarted(){
        EventBus.getDefault().send(new CancelEnterRecentsWindowAnimationEvent(task));
        EventBus.getDefault().send(new ExitRecentsWindowFirstAnimationFrameEvent());
      }
    }
;
  }
  if (taskView == null) {
    startTaskActivity(stack,task,taskView,opts,transitionFuture,animStartedListener);
  }
 else {
    LaunchTaskStartedEvent launchStartedEvent=new LaunchTaskStartedEvent(taskView,screenPinningRequested);
    if (task.group != null && !task.group.isFrontMostTask(task)) {
      launchStartedEvent.addPostAnimationCallback(new Runnable(){
        @Override public void run(){
          startTaskActivity(stack,task,taskView,opts,transitionFuture,animStartedListener);
        }
      }
);
      EventBus.getDefault().send(launchStartedEvent);
    }
 else {
      EventBus.getDefault().send(launchStartedEvent);
      startTaskActivity(stack,task,taskView,opts,transitionFuture,animStartedListener);
    }
  }
}
