{
synchronized (SipPhone.class) {
    if (ringingCall.getState() == Call.State.INCOMING) {
      Log.v(LOG_TAG,"acceptCall");
      setMute(false);
      foregroundCall.switchWith(ringingCall);
      foregroundCall.acceptCall();
    }
 else     if (ringingCall.getState() == Call.State.WAITING) {
      setMute(false);
      switchHoldingAndActive();
      foregroundCall.switchWith(ringingCall);
      foregroundCall.acceptCall();
    }
 else {
      throw new CallStateException("phone not ringing");
    }
    updatePhoneState();
  }
}
