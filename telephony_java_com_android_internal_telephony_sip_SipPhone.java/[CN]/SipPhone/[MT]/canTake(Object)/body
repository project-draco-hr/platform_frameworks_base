{
synchronized (SipPhone.class) {
    if (!(incomingCall instanceof SipAudioCall))     return false;
    if (ringingCall.getState().isAlive())     return false;
    if (foregroundCall.getState().isAlive() && backgroundCall.getState().isAlive()) {
      return false;
    }
    try {
      SipAudioCall sipAudioCall=(SipAudioCall)incomingCall;
      Log.d(LOG_TAG,"+++ taking call from: " + sipAudioCall.getPeerProfile().getUriString());
      String localUri=sipAudioCall.getLocalProfile().getUriString();
      if (localUri.equals(mProfile.getUriString())) {
        boolean makeCallWait=foregroundCall.getState().isAlive();
        ringingCall.initIncomingCall(sipAudioCall,makeCallWait);
        if (sipAudioCall.getState() != SipSession.State.INCOMING_CALL) {
          Log.d(LOG_TAG,"    call cancelled !!");
          ringingCall.reset();
        }
        return true;
      }
    }
 catch (    Exception e) {
      ringingCall.reset();
    }
    return false;
  }
}
