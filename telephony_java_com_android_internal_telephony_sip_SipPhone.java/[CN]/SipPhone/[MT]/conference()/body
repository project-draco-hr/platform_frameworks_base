{
synchronized (SipPhone.class) {
    if ((foregroundCall.getState() != SipCall.State.ACTIVE) || (foregroundCall.getState() != SipCall.State.ACTIVE)) {
      throw new CallStateException("wrong state to merge calls: fg=" + foregroundCall.getState() + ", bg="+ backgroundCall.getState());
    }
    foregroundCall.merge(backgroundCall);
  }
}
