{
  final StatusBarNotification sbn=r.sbn;
  TrimCache trimCache=new TrimCache(sbn);
  for (  final ManagedServiceInfo info : NotificationRanker.this.mServices) {
    boolean sbnVisible=isVisibleToListener(sbn,info);
    if (!sbnVisible) {
      continue;
    }
    final int importance=r.getImportance();
    final boolean fromUser=r.isImportanceFromUser();
    final StatusBarNotification sbnToPost=trimCache.ForListener(info);
    mHandler.post(new Runnable(){
      @Override public void run(){
        notifyEnqueued(info,sbnToPost,importance,fromUser);
      }
    }
);
  }
}
