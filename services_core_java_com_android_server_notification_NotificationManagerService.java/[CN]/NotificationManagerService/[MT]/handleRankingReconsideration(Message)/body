{
  if (!(message.obj instanceof RankingReconsideration))   return;
  RankingReconsideration recon=(RankingReconsideration)message.obj;
  recon.run();
  boolean orderChanged;
synchronized (mNotificationList) {
    final NotificationRecord record=mNotificationsByKey.get(recon.getKey());
    if (record == null) {
      return;
    }
    int before=findNotificationRecordIndexLocked(record);
    recon.applyChangesLocked(record);
    Collections.sort(mNotificationList,mRankingComparator);
    int after=findNotificationRecordIndexLocked(record);
    orderChanged=before != after;
  }
  if (orderChanged) {
    scheduleSendRankingUpdate();
  }
}
