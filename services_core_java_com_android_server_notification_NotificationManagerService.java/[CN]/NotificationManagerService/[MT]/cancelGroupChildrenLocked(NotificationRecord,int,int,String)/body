{
  Notification n=r.getNotification();
  if (!n.isGroupSummary()) {
    return;
  }
  String pkg=r.sbn.getPackageName();
  int userId=r.getUserId();
  if (pkg == null) {
    if (DBG)     Log.e(TAG,"No package for group summary: " + r.getKey());
    return;
  }
  final int N=mNotificationList.size();
  for (int i=N - 1; i >= 0; i--) {
    NotificationRecord childR=mNotificationList.get(i);
    StatusBarNotification childSbn=childR.sbn;
    if (childR.getNotification().isGroupChild() && childR.getGroupKey().equals(r.getGroupKey())) {
      EventLogTags.writeNotificationCancel(callingUid,callingPid,pkg,childSbn.getId(),childSbn.getTag(),userId,0,0,REASON_GROUP_SUMMARY_CANCELED,listenerName);
      mNotificationList.remove(i);
      cancelNotificationLocked(childR,false,REASON_GROUP_SUMMARY_CANCELED);
    }
  }
}
