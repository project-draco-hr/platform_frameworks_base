{
  super.onFinishInflate();
  mTitleView=(TextView)findViewById(R.id.notification_title);
  mTextView=(TextView)findViewById(R.id.notification_text);
  mInvertHelper=new ViewInvertHelper(this,NotificationPanelView.DOZE_ANIMATION_DURATION);
  mTransformationHelper=new ViewTransformationHelper();
  mTransformationHelper.setCustomTransformation(new ViewTransformationHelper.CustomTransformation(){
    @Override public boolean transformTo(    TransformState ownState,    TransformableView notification,    Runnable endRunnable){
      TransformState otherState=notification.getCurrentState(TRANSFORMING_VIEW_TITLE);
      CrossFadeHelper.fadeOut(mTextView,endRunnable);
      if (otherState != null) {
        ownState.animateViewVerticalTo(otherState,endRunnable);
        otherState.recycle();
      }
      return true;
    }
    @Override public boolean transformFrom(    TransformState ownState,    TransformableView notification){
      TransformState otherState=notification.getCurrentState(TRANSFORMING_VIEW_TITLE);
      CrossFadeHelper.fadeIn(mTextView);
      if (otherState != null) {
        ownState.animateViewVerticalFrom(otherState);
        otherState.recycle();
      }
      return true;
    }
  }
,TRANSFORMING_VIEW_TEXT);
  mTransformationHelper.addTransformedView(TRANSFORMING_VIEW_TITLE,mTitleView);
  mTransformationHelper.addTransformedView(TRANSFORMING_VIEW_TEXT,mTextView);
}
