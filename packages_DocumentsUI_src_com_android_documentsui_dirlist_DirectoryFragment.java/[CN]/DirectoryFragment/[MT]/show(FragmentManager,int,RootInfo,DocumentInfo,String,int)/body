{
  final Bundle args=new Bundle();
  args.putInt(EXTRA_TYPE,type);
  args.putParcelable(EXTRA_ROOT,root);
  args.putParcelable(EXTRA_DOC,doc);
  args.putString(EXTRA_QUERY,query);
  final FragmentTransaction ft=fm.beginTransaction();
switch (anim) {
case ANIM_SIDE:
    args.putBoolean(EXTRA_IGNORE_STATE,true);
  break;
case ANIM_ENTER:
args.putBoolean(EXTRA_IGNORE_STATE,true);
ft.setCustomAnimations(R.animator.dir_enter,R.animator.dir_frozen);
break;
case ANIM_LEAVE:
ft.setCustomAnimations(R.animator.dir_frozen,R.animator.dir_leave);
break;
}
final DirectoryFragment fragment=new DirectoryFragment();
fragment.setArguments(args);
ft.replace(R.id.container_directory,fragment);
ft.commitAllowingStateLoss();
}
