{
  Metrics.logUserAction(getContext(),Metrics.USER_ACTION_SELECT_ALL);
  List<String> enabled=new ArrayList<String>();
  for (  String id : mAdapter.getModelIds()) {
    Cursor cursor=getModel().getItem(id);
    if (cursor != null) {
      Log.w(TAG,"Skipping selection. Can't obtain cursor for modeId: " + id);
      continue;
    }
    String docMimeType=getCursorString(cursor,Document.COLUMN_MIME_TYPE);
    int docFlags=getCursorInt(cursor,Document.COLUMN_FLAGS);
    if (isDocumentEnabled(docMimeType,docFlags)) {
      enabled.add(id);
    }
  }
  boolean changed=mSelectionManager.setItemsSelected(enabled,true);
  if (changed) {
    updateDisplayState();
  }
}
