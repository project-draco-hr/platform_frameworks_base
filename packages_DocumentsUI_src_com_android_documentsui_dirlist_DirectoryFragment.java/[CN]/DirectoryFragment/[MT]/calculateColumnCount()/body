{
  int cellWidth=getResources().getDimensionPixelSize(R.dimen.grid_width);
  int cellMargin=2 * getResources().getDimensionPixelSize(R.dimen.grid_item_margin);
  int viewPadding=mRecView.getPaddingLeft() + mRecView.getPaddingRight();
  checkState(mRecView.getWidth() > 0);
  int columnCount=Math.max(1,(mRecView.getWidth() - viewPadding) / (cellWidth + cellMargin));
  return columnCount;
}
