{
  final Bundle args=new Bundle();
  args.putInt(Shared.EXTRA_TYPE,type);
  args.putParcelable(Shared.EXTRA_ROOT,root);
  args.putParcelable(Shared.EXTRA_DOC,doc);
  args.putString(Shared.EXTRA_QUERY,query);
  args.putParcelable(Shared.EXTRA_SELECTION,new Selection());
  final FragmentTransaction ft=fm.beginTransaction();
switch (anim) {
case ANIM_SIDE:
    args.putBoolean(Shared.EXTRA_IGNORE_STATE,true);
  break;
case ANIM_ENTER:
args.putBoolean(Shared.EXTRA_IGNORE_STATE,true);
ft.setCustomAnimations(R.animator.dir_enter,R.animator.fade_out);
break;
case ANIM_LEAVE:
ft.setCustomAnimations(R.animator.fade_in,R.animator.dir_leave);
break;
}
final DirectoryFragment fragment=new DirectoryFragment();
fragment.setArguments(args);
ft.replace(getFragmentId(),fragment);
ft.commitAllowingStateLoss();
}
