{
  final Cursor cursor=mModel.getItem(modelId);
  if (cursor == null) {
    Log.w(TAG,"Model returned null cursor for document: " + modelId + ". Ignoring state changed event.");
    return;
  }
  final String mimeType=getCursorString(cursor,Document.COLUMN_MIME_TYPE);
  if (MimePredicate.isDirectoryType(mimeType)) {
    mDirectoryCount+=selected ? 1 : -1;
  }
  final int docFlags=getCursorInt(cursor,Document.COLUMN_FLAGS);
  if ((docFlags & Document.FLAG_PARTIAL) != 0) {
    mPartialCount+=selected ? 1 : -1;
  }
  if ((docFlags & Document.FLAG_SUPPORTS_DELETE) == 0) {
    mNoDeleteCount+=selected ? 1 : -1;
  }
  if ((docFlags & Document.FLAG_SUPPORTS_RENAME) == 0) {
    mNoRenameCount+=selected ? 1 : -1;
  }
}
