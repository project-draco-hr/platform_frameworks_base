{
  int inID=0;
  int outID=0;
  if (b.mIn != null) {
    inID=b.mIn.mID;
  }
  if (b.mOut != null) {
    outID=b.mOut.mID;
  }
  rs.nProgramVertexBegin(inID,outID);
  if (b.mShader != null) {
    rs.nProgramVertexSetShader(b.mShader);
  }
 else {
    for (int ct=0; ct < b.mLightCount; ct++) {
      rs.nProgramVertexAddLight(b.mLights[ct].mID);
    }
    rs.nProgramVertexSetTextureMatrixEnable(b.mTextureMatrixEnable);
  }
  int id=rs.nProgramVertexCreate();
  return new ProgramVertex(id,rs);
}
