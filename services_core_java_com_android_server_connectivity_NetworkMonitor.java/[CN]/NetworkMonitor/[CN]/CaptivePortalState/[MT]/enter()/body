{
  Intent intent=new Intent(Intent.ACTION_SEND);
  intent.putExtra(Intent.EXTRA_TEXT,String.valueOf(mNetworkAgentInfo.network.netId));
  intent.setType("text/plain");
  intent.setComponent(new ComponentName("com.android.captiveportallogin","com.android.captiveportallogin.CaptivePortalLoginActivity"));
  intent.setFlags(Intent.FLAG_ACTIVITY_BROUGHT_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);
  mCaptivePortalLoggedInBroadcastReceiver=new CaptivePortalLoggedInBroadcastReceiver(++mCaptivePortalLoggedInToken);
  IntentFilter filter=new IntentFilter(ACTION_CAPTIVE_PORTAL_LOGGED_IN);
  mContext.registerReceiver(mCaptivePortalLoggedInBroadcastReceiver,filter);
  mContext.startActivityAsUser(intent,UserHandle.CURRENT);
}
