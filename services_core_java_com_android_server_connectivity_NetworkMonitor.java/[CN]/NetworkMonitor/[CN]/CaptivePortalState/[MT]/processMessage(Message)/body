{
  if (DBG)   log(getName() + message.toString());
switch (message.what) {
case CMD_CAPTIVE_PORTAL_LOGGED_IN:
    if (message.arg1 != mCaptivePortalLoggedInToken)     break;
  if (message.arg2 == 0) {
    transitionTo(mOfflineState);
  }
 else {
    transitionTo(mValidatedState);
  }
break;
default :
return NOT_HANDLED;
}
return HANDLED;
}
