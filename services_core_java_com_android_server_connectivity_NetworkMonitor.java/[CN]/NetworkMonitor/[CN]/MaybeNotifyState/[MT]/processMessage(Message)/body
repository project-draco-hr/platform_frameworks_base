{
switch (message.what) {
case CMD_LAUNCH_CAPTIVE_PORTAL_APP:
    final Intent intent=new Intent(ConnectivityManager.ACTION_CAPTIVE_PORTAL_SIGN_IN);
  intent.putExtra(ConnectivityManager.EXTRA_NETWORK,mNetworkAgentInfo.network);
intent.putExtra(ConnectivityManager.EXTRA_CAPTIVE_PORTAL_TOKEN,mCaptivePortalLoggedInResponseToken);
intent.setFlags(Intent.FLAG_ACTIVITY_BROUGHT_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);
mContext.startActivityAsUser(intent,UserHandle.CURRENT);
return HANDLED;
default :
return NOT_HANDLED;
}
}
