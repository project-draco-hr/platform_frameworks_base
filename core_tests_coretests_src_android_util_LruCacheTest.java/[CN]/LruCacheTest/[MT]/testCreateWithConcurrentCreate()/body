{
  final List<String> log=new ArrayList<String>();
  LruCache<String,Integer> cache=new LruCache<String,Integer>(3){
    int callCount=0;
    @Override protected Integer create(    String key){
      if (callCount++ == 0) {
        assertEquals(2,get(key).intValue());
        return 1;
      }
 else {
        return 2;
      }
    }
    @Override protected void entryRemoved(    boolean evicted,    String key,    Integer oldValue,    Integer newValue){
      log.add(key + "=" + oldValue+ ">"+ newValue);
    }
  }
;
  assertEquals(2,cache.get("a").intValue());
  assertEquals(Arrays.asList("a=1>2"),log);
}
