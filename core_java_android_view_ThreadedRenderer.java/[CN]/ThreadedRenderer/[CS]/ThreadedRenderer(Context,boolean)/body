{
  final TypedArray a=context.obtainStyledAttributes(null,R.styleable.Lighting,R.attr.lightingStyle,0);
  mLightY=a.getDimension(R.styleable.Lighting_lightY,0);
  mLightZ=a.getDimension(R.styleable.Lighting_lightZ,0);
  mLightRadius=a.getDimension(R.styleable.Lighting_lightRadius,0);
  mAmbientShadowAlpha=Math.round(255 * a.getFloat(R.styleable.Lighting_ambientShadowAlpha,0));
  mSpotShadowAlpha=Math.round(255 * a.getFloat(R.styleable.Lighting_spotShadowAlpha,0));
  a.recycle();
  long rootNodePtr=nCreateRootRenderNode();
  mRootNode=RenderNode.adopt(rootNodePtr);
  mRootNode.setClipToBounds(false);
  mNativeProxy=nCreateProxy(translucent,rootNodePtr);
  AtlasInitializer.sInstance.init(context,mNativeProxy);
  mChoreographer=Choreographer.getInstance();
  nSetFrameInterval(mNativeProxy,mChoreographer.getFrameIntervalNanos());
  loadSystemProperties();
}
