{
  Log.d("Atlas","Validating map...");
  HashSet<Long> preloadedPointers=new HashSet<Long>();
  final Resources resources=context.getResources();
  final LongSparseArray<Drawable.ConstantState> drawables=resources.getPreloadedDrawables();
  final int count=drawables.size();
  for (int i=0; i < count; i++) {
    final Bitmap bitmap=drawables.valueAt(i).getBitmap();
    if (bitmap != null && bitmap.getConfig() == Bitmap.Config.ARGB_8888) {
      preloadedPointers.add(bitmap.mNativeBitmap);
    }
  }
  for (int i=0; i < map.length; i+=4) {
    if (!preloadedPointers.contains(map[i])) {
      Log.w("Atlas",String.format("Pointer 0x%X, not in getPreloadedDrawables?",map[i]));
      map[i]=0;
    }
  }
}
