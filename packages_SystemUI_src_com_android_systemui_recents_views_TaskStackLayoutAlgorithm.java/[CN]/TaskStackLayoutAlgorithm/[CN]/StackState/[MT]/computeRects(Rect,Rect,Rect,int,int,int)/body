{
  int availableHeight=taskStackBounds.height() - topMargin - stackBottomOffset;
  int ffPaddedHeight=(int)(availableHeight * freeformHeightPct);
  int ffHeight=Math.max(0,ffPaddedHeight - freeformGap);
  freeformRectOut.set(taskStackBounds.left,taskStackBounds.top + topMargin,taskStackBounds.right,taskStackBounds.top + topMargin + ffHeight);
  stackRectOut.set(taskStackBounds.left,taskStackBounds.top,taskStackBounds.right,taskStackBounds.bottom);
  if (ffPaddedHeight > 0) {
    stackRectOut.top+=ffPaddedHeight;
  }
 else {
    stackRectOut.top+=topMargin;
  }
}
