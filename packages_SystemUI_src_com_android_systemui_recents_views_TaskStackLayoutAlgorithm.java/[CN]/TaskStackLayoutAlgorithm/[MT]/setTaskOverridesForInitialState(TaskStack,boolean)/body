{
  RecentsActivityLaunchState launchState=Recents.getConfiguration().getLaunchState();
  mTaskIndexOverrideMap.clear();
  boolean scrollToFront=launchState.launchedFromHome || launchState.launchedViaDockGesture;
  if (getInitialFocusState() == STATE_UNFOCUSED && mNumStackTasks > 1) {
    if (ignoreScrollToFront || (!launchState.launchedWithAltTab && !scrollToFront)) {
      float[] initialNormX=null;
      float minBottomTaskNormX=getNormalizedXFromUnfocusedY(mSystemInsets.bottom + mInitialBottomOffset,FROM_BOTTOM);
      float maxBottomTaskNormX=getNormalizedXFromUnfocusedY(mFocusedTopPeekHeight + mTaskRect.height() - mMinMargin,FROM_TOP);
      if (mNumStackTasks <= 2) {
        initialNormX=new float[]{Math.min(maxBottomTaskNormX,minBottomTaskNormX),getNormalizedXFromUnfocusedY(mFocusedTopPeekHeight,FROM_TOP)};
      }
 else {
        initialNormX=new float[]{minBottomTaskNormX,getNormalizedXFromUnfocusedY(mInitialTopOffset,FROM_TOP)};
      }
      mUnfocusedRange.offset(0f);
      List<Task> tasks=stack.getStackTasks();
      int taskCount=tasks.size();
      for (int i=taskCount - 1; i >= 0; i--) {
        int indexFromFront=taskCount - i - 1;
        if (indexFromFront >= initialNormX.length) {
          break;
        }
        float newTaskProgress=mInitialScrollP + mUnfocusedRange.getAbsoluteX(initialNormX[indexFromFront]);
        mTaskIndexOverrideMap.put(tasks.get(i).key.id,newTaskProgress);
      }
    }
  }
}
