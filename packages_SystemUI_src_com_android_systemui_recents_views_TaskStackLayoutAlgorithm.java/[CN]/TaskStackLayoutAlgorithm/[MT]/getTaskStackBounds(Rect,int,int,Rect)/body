{
  RecentsConfiguration config=Recents.getConfiguration();
  if (config.hasTransposedNavBar) {
    taskStackBounds.set(windowRect.left,windowRect.top + topInset,windowRect.right - rightInset,windowRect.bottom);
  }
 else {
    taskStackBounds.set(windowRect.left,windowRect.top + topInset,windowRect.right - rightInset,windowRect.bottom);
  }
  Rect displayRect=Recents.getSystemServices().getDisplayRect();
  int sideMargin=getScaleForExtent(windowRect,displayRect,mBaseSideMargin,mMinMargin,WIDTH);
  int targetStackWidth=Math.min(taskStackBounds.width() - 2 * sideMargin,Math.min(displayRect.width(),displayRect.height()));
  taskStackBounds.inset((taskStackBounds.width() - targetStackWidth) / 2,0);
}
