{
  if (mFreeformLayoutAlgorithm.isTransformAvailable(task,stackScroll,this)) {
    mFreeformLayoutAlgorithm.getTransform(task,stackScroll,transformOut,this);
    if (transformOut.visible) {
      getFreeformWorkspaceBounds(stackScroll,mTmpTransform);
      transformOut.translationY+=mTmpTransform.translationY;
      transformOut.translationZ=mMaxTranslationZ;
      transformOut.rect.set(mTaskRect);
      transformOut.rect.offset(0,transformOut.translationY);
      Utilities.scaleRectAboutCenter(transformOut.rect,transformOut.scale);
      transformOut.p=0;
    }
    return transformOut;
  }
 else {
    if (task == null || !mTaskProgressMap.containsKey(task.key)) {
      transformOut.reset();
      return transformOut;
    }
    return getStackTransform(mTaskProgressMap.get(task.key),stackScroll,transformOut,prevTransform);
  }
}
