{
  String pkg;
  ArrayList<String> allPkgs=new ArrayList<String>();
  while ((pkg=nextArg()) != null) {
    allPkgs.add(pkg);
  }
  if (allPkgs.size() > 0) {
    try {
      BackupObserver observer=new BackupObserver();
      int err=mBmgr.requestBackup(allPkgs.toArray(new String[allPkgs.size()]),observer);
      if (err == 0) {
        observer.waitForCompletion();
      }
 else {
        System.err.println("Unable to run backup");
      }
    }
 catch (    RemoteException e) {
      System.err.println(e.toString());
      System.err.println(BMGR_NOT_RUNNING_ERR);
    }
  }
}
