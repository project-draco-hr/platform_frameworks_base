{
  try {
    StringBuilder stringBuilder=new StringBuilder();
    outputBuilder=stringBuilder;
    outputFormatter=new Formatter(stringBuilder,locale);
    formatInternal(pattern,wallTime,zoneInfo);
    String result=stringBuilder.toString();
    if (localeData.zeroDigit != '0') {
      result=localizeDigits(result);
    }
    return result;
  }
  finally {
    outputBuilder=null;
    outputFormatter=null;
  }
}
