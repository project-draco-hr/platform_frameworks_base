{
  int iFlags=0;
  int rFlags=PackageManager.INSTALL_EXTERNAL;
  InstallParams ip=sampleInstallFromRawResource(iFlags,false);
  GenericReceiver receiver=new ReplaceReceiver(ip.pkg.packageName);
  int replaceFlags=rFlags | PackageManager.INSTALL_REPLACE_EXISTING;
  try {
    assertEquals(invokeInstallPackage(ip.packageURI,replaceFlags,ip.pkg.packageName,receiver),true);
    assertInstall(ip.pkg,rFlags,ip.pkg.installLocation);
  }
 catch (  Exception e) {
    failStr("Failed with exception : " + e);
  }
 finally {
    cleanUpInstall(ip);
  }
}
