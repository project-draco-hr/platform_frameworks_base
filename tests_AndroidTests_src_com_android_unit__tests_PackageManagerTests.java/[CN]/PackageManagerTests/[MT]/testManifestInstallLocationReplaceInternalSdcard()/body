{
  int iFlags=0;
  int iApk=R.raw.install_loc_unspecified;
  int rFlags=0;
  int rApk=R.raw.install_loc_sdcard;
  InstallParams ip=installFromRawResource("install.apk",iApk,iFlags,false,false,-1,PackageInfo.INSTALL_LOCATION_AUTO);
  GenericReceiver receiver=new ReplaceReceiver(ip.pkg.packageName);
  int replaceFlags=rFlags | PackageManager.INSTALL_REPLACE_EXISTING;
  try {
    InstallParams rp=installFromRawResource("install.apk",rApk,replaceFlags,false,false,-1,PackageInfo.INSTALL_LOCATION_PREFER_EXTERNAL);
    assertInstall(rp.pkg,replaceFlags,rp.pkg.installLocation);
  }
 catch (  Exception e) {
    failStr("Failed with exception : " + e);
  }
 finally {
    cleanUpInstall(ip);
  }
}
