{
  if (mBatteryLow) {
    if (mBatteryCharging) {
      mBatteryLight.setColor(BATTERY_LOW_ARGB);
    }
 else {
      mBatteryLight.setFlashing(BATTERY_LOW_ARGB,LightsService.LIGHT_FLASH_TIMED,BATTERY_BLINK_ON,BATTERY_BLINK_OFF);
    }
  }
 else   if (mBatteryCharging) {
    if (mBatteryFull) {
      mBatteryLight.setColor(BATTERY_FULL_ARGB);
    }
 else {
      mBatteryLight.setColor(BATTERY_MEDIUM_ARGB);
    }
  }
 else {
    mBatteryLight.turnOff();
  }
  if (mLedNotification == null) {
    int n=mLights.size();
    if (n > 0) {
      mLedNotification=mLights.get(n - 1);
    }
  }
  if (mLedNotification == null || mScreenOn || mInCall) {
    mNotificationLight.turnOff();
  }
 else {
    int ledARGB=mLedNotification.notification.ledARGB;
    int ledOnMS=mLedNotification.notification.ledOnMS;
    int ledOffMS=mLedNotification.notification.ledOffMS;
    if ((mLedNotification.notification.defaults & Notification.DEFAULT_LIGHTS) != 0) {
      ledARGB=mDefaultNotificationColor;
      ledOnMS=mDefaultNotificationLedOn;
      ledOffMS=mDefaultNotificationLedOff;
    }
    if (mNotificationPulseEnabled) {
      mNotificationLight.setFlashing(ledARGB,LightsService.LIGHT_FLASH_TIMED,ledOnMS,ledOffMS);
    }
 else {
      mNotificationLight.pulse(ledARGB,ledOnMS);
    }
  }
}
