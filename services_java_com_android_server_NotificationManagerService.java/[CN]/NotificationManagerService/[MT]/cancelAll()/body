{
synchronized (mNotificationList) {
    final int N=mNotificationList.size();
    for (int i=N - 1; i >= 0; i--) {
      NotificationRecord r=mNotificationList.get(i);
      if ((r.notification.flags & (Notification.FLAG_ONGOING_EVENT | Notification.FLAG_NO_CLEAR)) == 0) {
        if (r.notification.deleteIntent != null) {
          try {
            r.notification.deleteIntent.send();
          }
 catch (          PendingIntent.CanceledException ex) {
            Slog.w(TAG,"canceled PendingIntent for " + r.pkg,ex);
          }
        }
        mNotificationList.remove(i);
        cancelNotificationLocked(r);
      }
    }
    updateLightsLocked();
  }
}
