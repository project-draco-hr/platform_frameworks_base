{
  if (sendDelete) {
    if (r.notification.deleteIntent != null) {
      try {
        r.notification.deleteIntent.send();
      }
 catch (      PendingIntent.CanceledException ex) {
        Slog.w(TAG,"canceled PendingIntent for " + r.pkg,ex);
      }
    }
  }
  if (r.notification.icon != 0) {
    long identity=Binder.clearCallingIdentity();
    try {
      mStatusBar.removeNotification(r.statusBarKey);
    }
  finally {
      Binder.restoreCallingIdentity(identity);
    }
    r.statusBarKey=null;
  }
  if (mSoundNotification == r) {
    mSoundNotification=null;
    long identity=Binder.clearCallingIdentity();
    try {
      mSound.stop();
    }
  finally {
      Binder.restoreCallingIdentity(identity);
    }
  }
  if (mVibrateNotification == r) {
    mVibrateNotification=null;
    long identity=Binder.clearCallingIdentity();
    try {
      mVibrator.cancel();
    }
  finally {
      Binder.restoreCallingIdentity(identity);
    }
  }
  mLights.remove(r);
  if (mLedNotification == r) {
    mLedNotification=null;
  }
}
