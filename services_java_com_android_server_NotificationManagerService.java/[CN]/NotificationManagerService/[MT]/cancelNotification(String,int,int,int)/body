{
  EventLog.writeEvent(EVENT_LOG_CANCEL,pkg,id,mustHaveFlags);
synchronized (mNotificationList) {
    NotificationRecord r=null;
    int index=indexOfNotificationLocked(pkg,id);
    if (index >= 0) {
      r=mNotificationList.get(index);
      if ((r.notification.flags & mustHaveFlags) != mustHaveFlags) {
        return;
      }
      if ((r.notification.flags & mustNotHaveFlags) != 0) {
        return;
      }
      mNotificationList.remove(index);
      cancelNotificationLocked(r);
      updateLightsLocked();
    }
  }
}
