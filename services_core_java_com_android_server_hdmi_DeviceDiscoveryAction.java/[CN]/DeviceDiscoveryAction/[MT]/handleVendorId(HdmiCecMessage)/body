{
  Preconditions.checkState(mProcessedDeviceCount < mDevices.size());
  DeviceInfo current=mDevices.get(mProcessedDeviceCount);
  if (current.mLogicalAddress != cmd.getSource()) {
    Slog.w(TAG,"Unmatched address[expected:" + current.mLogicalAddress + ", actual:"+ cmd.getSource());
    return;
  }
  byte[] params=cmd.getParams();
  if (params.length == 3) {
    int vendorId=((params[0] & 0xFF) << 16) | ((params[1] & 0xFF) << 8) | (params[2] & 0xFF);
    current.mVendorId=vendorId;
  }
 else {
    Slog.w(TAG,"Invalid vendor id: " + cmd.toString());
  }
  increaseProcessedDeviceCount();
  checkAndProceedStage();
}
