{
  mDevices.clear();
  mState=STATE_WAITING_FOR_DEVICE_POLLING;
  mService.pollDevices(new DevicePollingCallback(){
    @Override public void onPollingFinished(    List<Integer> ackedAddress){
      if (ackedAddress.isEmpty()) {
        Slog.v(TAG,"No device is detected.");
        finish();
        return;
      }
      Slog.v(TAG,"Device detected: " + ackedAddress);
      allocateDevices(ackedAddress);
      startPhysicalAddressStage();
    }
  }
,DEVICE_POLLING_RETRY);
  return true;
}
