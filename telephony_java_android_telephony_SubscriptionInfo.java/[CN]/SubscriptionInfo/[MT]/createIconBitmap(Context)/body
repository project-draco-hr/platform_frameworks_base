{
  int width=mIconBitmap.getWidth();
  int height=mIconBitmap.getHeight();
  DisplayMetrics metrics=context.getResources().getDisplayMetrics();
  Bitmap workingBitmap=Bitmap.createBitmap(metrics,width,height,mIconBitmap.getConfig());
  Canvas canvas=new Canvas(workingBitmap);
  Paint paint=new Paint();
  paint.setColorFilter(new PorterDuffColorFilter(mIconTint,PorterDuff.Mode.SRC_ATOP));
  canvas.drawBitmap(mIconBitmap,0,0,paint);
  paint.setColorFilter(null);
  paint.setAntiAlias(true);
  paint.setTypeface(Typeface.create("sans-serif",Typeface.NORMAL));
  paint.setColor(Color.WHITE);
  paint.setTextSize(TEXT_SIZE * metrics.density);
  final String index=String.format("%d",mSimSlotIndex + 1);
  final Rect textBound=new Rect();
  paint.getTextBounds(index,0,1,textBound);
  final float xOffset=(width / 2.f) - textBound.centerX();
  final float yOffset=(height / 2.f) - textBound.centerY();
  canvas.drawText(index,xOffset,yOffset,paint);
  return workingBitmap;
}
