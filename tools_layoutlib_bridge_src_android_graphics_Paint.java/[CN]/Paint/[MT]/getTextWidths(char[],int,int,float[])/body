{
  if (mMetrics != null) {
    if ((index | count) < 0 || index + count > text.length || count > widths.length) {
      throw new ArrayIndexOutOfBoundsException();
    }
    for (int i=0; i < count; i++) {
      widths[i]=mMetrics.charWidth(text[i + index]);
    }
    return count;
  }
  return 0;
}
