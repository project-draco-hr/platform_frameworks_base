{
  final TypedArray a=r.obtainAttributes(attrs,R.styleable.InsetDrawable);
  super.inflateWithAttributes(r,parser,a,R.styleable.InsetDrawable_visible);
  mInsetState.mDrawable=null;
  updateStateFromTypedArray(a);
  if (mInsetState.mDrawable == null) {
    int type;
    while ((type=parser.next()) == XmlPullParser.TEXT) {
    }
    if (type != XmlPullParser.START_TAG) {
      throw new XmlPullParserException(parser.getPositionDescription() + ": <inset> tag requires a 'drawable' attribute or " + "child tag defining a drawable");
    }
    final Drawable dr=Drawable.createFromXmlInner(r,parser,attrs,theme);
    mInsetState.mDrawable=dr;
    dr.setCallback(this);
  }
  verifyRequiredAttributes(a);
  a.recycle();
}
