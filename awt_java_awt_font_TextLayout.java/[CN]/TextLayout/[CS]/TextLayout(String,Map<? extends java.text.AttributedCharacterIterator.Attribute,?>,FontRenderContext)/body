{
  if (string == null) {
    throw new IllegalArgumentException(Messages.getString("awt.01","string"));
  }
  if (attributes == null) {
    throw new IllegalArgumentException(Messages.getString("awt.01","attributes"));
  }
  if (string.length() == 0) {
    throw new IllegalArgumentException(Messages.getString("awt.02","string"));
  }
  AttributedString as=new AttributedString(string);
  as.addAttributes(attributes,0,string.length());
  this.breaker=new TextRunBreaker(as.getIterator(),frc);
  caretManager=new CaretManager(breaker);
}
