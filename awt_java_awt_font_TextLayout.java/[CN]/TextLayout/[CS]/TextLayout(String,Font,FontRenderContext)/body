{
  if (string == null) {
    throw new IllegalArgumentException(Messages.getString("awt.01","string"));
  }
  if (font == null) {
    throw new IllegalArgumentException(Messages.getString("awt.01","font"));
  }
  if (string.length() == 0) {
    throw new IllegalArgumentException(Messages.getString("awt.02","string"));
  }
  AttributedString as=new AttributedString(string);
  as.addAttribute(TextAttribute.FONT,font);
  this.breaker=new TextRunBreaker(as.getIterator(),frc);
  caretManager=new CaretManager(breaker);
}
