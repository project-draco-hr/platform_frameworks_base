{
  assertRunOnServiceThread();
  HdmiPortInfo[] cecPortInfo=null;
  if (mCecController != null) {
    cecPortInfo=mCecController.getPortInfos();
  }
  if (cecPortInfo == null) {
    return;
  }
  for (  HdmiPortInfo info : cecPortInfo) {
    mPortIdMap.put(info.getAddress(),info.getId());
    mPortInfoMap.put(info.getId(),info);
  }
  HdmiPortInfo[] mhlPortInfo=new HdmiPortInfo[0];
  if (mMhlController != null) {
  }
  ArraySet<Integer> mhlSupportedPorts=new ArraySet<Integer>(mhlPortInfo.length);
  for (  HdmiPortInfo info : mhlPortInfo) {
    if (info.isMhlSupported()) {
      mhlSupportedPorts.add(info.getId());
    }
  }
  ArrayList<HdmiPortInfo> result=new ArrayList<>(cecPortInfo.length);
  for (  HdmiPortInfo info : cecPortInfo) {
    if (mhlSupportedPorts.contains(info.getId())) {
      result.add(new HdmiPortInfo(info.getId(),info.getType(),info.getAddress(),info.isCecSupported(),true,info.isArcSupported()));
    }
 else {
      result.add(info);
    }
  }
  mPortInfo=Collections.unmodifiableList(result);
}
