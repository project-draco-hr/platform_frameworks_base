{
  assertRunOnServiceThread();
  if (!enabled) {
    invokeVendorCommandListenersOnControlStateChanged(false,HdmiControlManager.CONTROL_STATE_CHANGED_REASON_SETTING);
  }
  int value=toInt(enabled);
  mCecController.setOption(OPTION_CEC_ENABLE,value);
  mMhlController.setOption(OPTION_MHL_ENABLE,value);
synchronized (mLock) {
    mHdmiControlEnabled=enabled;
  }
  if (enabled) {
    initializeCec(INITIATED_BY_ENABLE_CEC);
  }
 else {
    disableDevices(new PendingActionClearedCallback(){
      @Override public void onCleared(      HdmiCecLocalDevice device){
        assertRunOnServiceThread();
        clearLocalDevices();
      }
    }
);
  }
}
