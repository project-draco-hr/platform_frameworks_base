{
  assertRunOnServiceThread();
  HdmiMhlLocalDevice device=mMhlController.getLocalDevice(portId);
  if (device != null) {
    device.setCapabilityRegister(adopterId,deviceId);
    invokeDeviceEventListeners(device.getInfo(),DEVICE_EVENT_ADD_DEVICE);
    updateSafeMhlInput();
  }
 else {
    Slog.w(TAG,"No mhl device exists for capability register change event[portId:" + portId + ", adopterId:"+ adopterId+ ", deviceId:"+ deviceId+ "]");
  }
}
