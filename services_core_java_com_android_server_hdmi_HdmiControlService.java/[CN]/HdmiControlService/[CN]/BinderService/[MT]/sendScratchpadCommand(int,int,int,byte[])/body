{
  enforceAccessPermission();
  runOnServiceThread(new Runnable(){
    @Override public void run(){
      if (mMhlController == null) {
        Slog.w(TAG,"No Mhl controller available.");
        return;
      }
      if (!isControlEnabled()) {
        Slog.w(TAG,"Hdmi control is disabled.");
        return;
      }
      HdmiMhlLocalDevice device=mMhlController.getLocalDevice(portId);
      if (device == null) {
        Slog.w(TAG,"Invalid port id:" + portId);
        return;
      }
      mMhlController.sendScratchpadCommand(portId,offset,length,data);
    }
  }
);
}
