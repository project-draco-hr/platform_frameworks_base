{
  String value=initialValues.getAsString(Settings.Secure.VALUE);
  String newProviders=null;
  if (value != null && value.length() > 1) {
    char prefix=value.charAt(0);
    if (prefix == '+' || prefix == '-') {
      value=value.substring(1);
      String providers="";
      String[] columns={Settings.Secure.VALUE};
      String where=Settings.Secure.NAME + "=\'" + Settings.Secure.LOCATION_PROVIDERS_ALLOWED+ "\'";
      Cursor cursor=query(url,columns,where,null,null);
      if (cursor != null && cursor.getCount() == 1) {
        try {
          cursor.moveToFirst();
          providers=cursor.getString(0);
        }
  finally {
          cursor.close();
        }
      }
      int index=providers.indexOf(value);
      int end=index + value.length();
      if (index > 0 && providers.charAt(index - 1) != ',')       index=-1;
      if (end < providers.length() && providers.charAt(end) != ',')       index=-1;
      if (prefix == '+' && index < 0) {
        if (providers.length() == 0) {
          newProviders=value;
        }
 else {
          newProviders=providers + ',' + value;
        }
      }
 else       if (prefix == '-' && index >= 0) {
        if (index > 0) {
          index--;
        }
 else         if (end < providers.length()) {
          end++;
        }
        newProviders=providers.substring(0,index);
        if (end < providers.length()) {
          newProviders+=providers.substring(end);
        }
      }
 else {
        return false;
      }
      if (newProviders != null) {
        initialValues.put(Settings.Secure.VALUE,newProviders);
      }
    }
  }
  return true;
}
