{
  enforceWritePermission(Manifest.permission.WRITE_SECURE_SETTINGS);
  final int callingUserId=resolveCallingUserIdEnforcingPermissionsLocked(requestingUserId);
  if (isGlobalOrSecureSettingRestrictedForUser(name,callingUserId,value)) {
    return false;
  }
  final int owningUserId=resolveOwningUserIdForSecureSettingLocked(callingUserId,name);
  if (owningUserId != callingUserId) {
    return false;
  }
  if (Settings.Secure.LOCATION_PROVIDERS_ALLOWED.equals(name)) {
    return updateLocationProvidersAllowedLocked(value,owningUserId,forceNotify);
  }
synchronized (mLock) {
switch (operation) {
case MUTATION_OPERATION_INSERT:
{
        return mSettingsRegistry.insertSettingLocked(SETTINGS_TYPE_SECURE,owningUserId,name,value,getCallingPackage(),forceNotify);
      }
case MUTATION_OPERATION_DELETE:
{
      return mSettingsRegistry.deleteSettingLocked(SETTINGS_TYPE_SECURE,owningUserId,name,forceNotify);
    }
case MUTATION_OPERATION_UPDATE:
{
    return mSettingsRegistry.updateSettingLocked(SETTINGS_TYPE_SECURE,owningUserId,name,value,getCallingPackage(),forceNotify);
  }
}
}
return false;
}
