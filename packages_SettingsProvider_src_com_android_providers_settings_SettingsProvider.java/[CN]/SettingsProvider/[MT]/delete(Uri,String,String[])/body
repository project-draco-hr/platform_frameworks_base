{
  int callingUser=UserHandle.getCallingUserId();
  if (LOCAL_LOGV)   Slog.v(TAG,"delete() for user " + callingUser);
  SqlArguments args=new SqlArguments(url,where,whereArgs);
  if (TABLE_FAVORITES.equals(args.table)) {
    return 0;
  }
 else   if (TABLE_OLD_FAVORITES.equals(args.table)) {
    args.table=TABLE_FAVORITES;
  }
 else   if (TABLE_GLOBAL.equals(args.table)) {
    callingUser=UserHandle.USER_OWNER;
  }
  checkWritePermissions(args);
  final AtomicInteger mutationCount=sKnownMutationsInFlight.get(callingUser);
  mutationCount.incrementAndGet();
  DatabaseHelper dbH=getOrEstablishDatabase(callingUser);
  SQLiteDatabase db=dbH.getWritableDatabase();
  int count=db.delete(args.table,args.where,args.args);
  mutationCount.decrementAndGet();
  if (count > 0) {
    invalidateCache(callingUser,args.table);
    sendNotify(url,callingUser);
  }
  startAsyncCachePopulation(callingUser);
  if (LOCAL_LOGV)   Log.v(TAG,args.table + ": " + count+ " row(s) deleted");
  return count;
}
