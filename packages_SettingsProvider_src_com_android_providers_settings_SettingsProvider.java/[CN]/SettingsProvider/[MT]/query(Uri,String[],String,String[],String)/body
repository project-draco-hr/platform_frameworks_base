{
  if (DEBUG) {
    Slog.v(LOG_TAG,"query() for user: " + UserHandle.getCallingUserId());
  }
  Arguments args=new Arguments(uri,where,whereArgs,true);
  String[] normalizedProjection=normalizeProjection(projection);
  if (REMOVED_LEGACY_TABLES.contains(args.table)) {
    return new MatrixCursor(normalizedProjection,0);
  }
synchronized (mLock) {
switch (args.table) {
case TABLE_GLOBAL:
{
        if (args.name != null) {
          Setting setting=getGlobalSettingLocked(args.name);
          return packageSettingForQuery(setting,normalizedProjection);
        }
 else {
          return getAllGlobalSettingsLocked(projection);
        }
      }
case TABLE_SECURE:
{
      final int userId=UserHandle.getCallingUserId();
      if (args.name != null) {
        Setting setting=getSecureSettingLocked(args.name,userId);
        return packageSettingForQuery(setting,normalizedProjection);
      }
 else {
        return getAllSecureSettingsLocked(userId,projection);
      }
    }
case TABLE_SYSTEM:
{
    final int userId=UserHandle.getCallingUserId();
    if (args.name != null) {
      Setting setting=getSystemSettingLocked(args.name,userId);
      return packageSettingForQuery(setting,normalizedProjection);
    }
 else {
      return getAllSystemSettingsLocked(userId,projection);
    }
  }
default :
{
  throw new IllegalArgumentException("Invalid Uri path:" + uri);
}
}
}
}
