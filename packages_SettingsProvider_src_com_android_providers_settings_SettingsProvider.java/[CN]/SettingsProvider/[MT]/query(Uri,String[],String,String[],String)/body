{
  if (DEBUG) {
    Slog.v(LOG_TAG,"query() for user: " + UserHandle.getCallingUserId());
  }
  Arguments args=new Arguments(uri,where,whereArgs,true);
  String[] normalizedProjection=normalizeProjection(projection);
  if (REMOVED_LEGACY_TABLES.contains(args.table)) {
    return new MatrixCursor(normalizedProjection,0);
  }
switch (args.table) {
case TABLE_GLOBAL:
{
      if (args.name != null) {
        Setting setting=getGlobalSetting(args.name);
        return packageSettingForQuery(setting,normalizedProjection);
      }
 else {
        return getAllGlobalSettings(projection);
      }
    }
case TABLE_SECURE:
{
    final int userId=UserHandle.getCallingUserId();
    if (args.name != null) {
      Setting setting=getSecureSetting(args.name,userId);
      return packageSettingForQuery(setting,normalizedProjection);
    }
 else {
      return getAllSecureSettings(userId,projection);
    }
  }
case TABLE_SYSTEM:
{
  final int userId=UserHandle.getCallingUserId();
  if (args.name != null) {
    Setting setting=getSystemSetting(args.name,userId);
    return packageSettingForQuery(setting,normalizedProjection);
  }
 else {
    return getAllSystemSettings(userId,projection);
  }
}
default :
{
throw new IllegalArgumentException("Invalid Uri path:" + uri);
}
}
}
