{
  if (tableUri.getPathSegments().size() != 1) {
    throw new IllegalArgumentException("Invalid URI: " + tableUri);
  }
  String table=tableUri.getPathSegments().get(0);
  if ("gservices".equals(table) || "system".equals(table) || "secure".equals(table)) {
    String name=values.getAsString(Settings.NameValueTable.NAME);
    return Uri.withAppendedPath(tableUri,name);
  }
 else {
    return ContentUris.withAppendedId(tableUri,rowId);
  }
}
