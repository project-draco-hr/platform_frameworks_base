{
  File dir=new File(mRootDirPath,dirPath);
  if (!dir.exists()) {
    return new ListItem[0];
  }
  List<ListItem> subDirs=new ArrayList<ListItem>();
  List<ListItem> subFiles=new ArrayList<ListItem>();
  for (  File item : dir.listFiles()) {
    if (item.isDirectory() && FileFilter.isTestDir(item.getName())) {
      subDirs.add(new ListItem(mFileFilter.getRelativePath(item),true));
    }
 else     if (FileFilter.isTestFile(item.getName())) {
      subFiles.add(new ListItem(mFileFilter.getRelativePath(item),false));
    }
  }
  Collections.sort(subDirs);
  Collections.sort(subFiles);
  subDirs.addAll(subFiles);
  return subDirs.toArray(new ListItem[subDirs.size()]);
}
