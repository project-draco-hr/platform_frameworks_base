{
  if (mSrmEnabled && (headerId == ObexHelper.OBEX_OPCODE_GET || headerId == ObexHelper.OBEX_OPCODE_GET_FINAL || headerId == ObexHelper.OBEX_OPCODE_PUT)) {
    try {
      mSrmWaitingForRemote=false;
      Byte srmp=(Byte)requestHeader.getHeader(HeaderSet.SINGLE_RESPONSE_MODE_PARAMETER);
      if (srmp != null && srmp == ObexHelper.OBEX_SRMP_WAIT) {
        mSrmWaitingForRemote=true;
        requestHeader.setHeader(HeaderSet.SINGLE_RESPONSE_MODE_PARAMETER,null);
      }
    }
 catch (    IOException e) {
      if (V) {
        Log.w(TAG,"Exception while extracting header",e);
      }
    }
  }
}
