{
  mWebViewUpdatedReceiver=new BroadcastReceiver(){
    @Override public void onReceive(    Context context,    Intent intent){
      if (intent.getAction().equals(Intent.ACTION_PACKAGE_REMOVED) && intent.getExtras().getBoolean(Intent.EXTRA_REPLACING)) {
        return;
      }
      for (      String packageName : WebViewFactory.getWebViewPackageNames()) {
        String webviewPackage="package:" + packageName;
        if (webviewPackage.equals(intent.getDataString())) {
          String usedPackageName=WebViewFactory.findPreferredWebViewPackage().packageName;
          if (packageName.equals(usedPackageName) || packageName.equals(oldWebViewPackageName)) {
            onWebViewUpdateInstalled();
            oldWebViewPackageName=usedPackageName;
          }
          return;
        }
      }
    }
  }
;
  IntentFilter filter=new IntentFilter();
  filter.addAction(Intent.ACTION_PACKAGE_ADDED);
  filter.addAction(Intent.ACTION_PACKAGE_REMOVED);
  filter.addDataScheme("package");
  getContext().registerReceiver(mWebViewUpdatedReceiver,filter);
  publishBinderService("webviewupdate",new BinderService());
}
