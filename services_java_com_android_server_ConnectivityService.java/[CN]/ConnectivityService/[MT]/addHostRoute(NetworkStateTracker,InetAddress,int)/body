{
  LinkProperties lp=nt.getLinkProperties();
  if ((lp == null) || (hostAddress == null))   return false;
  String interfaceName=lp.getInterfaceName();
  if (DBG) {
    log("Requested host route to " + hostAddress + "("+ interfaceName+ "), cycleCount="+ cycleCount);
  }
  if (interfaceName == null) {
    if (DBG)     loge("addHostRoute failed due to null interface name");
    return false;
  }
  RouteInfo bestRoute=RouteInfo.selectBestRoute(lp.getRoutes(),hostAddress);
  InetAddress gatewayAddress=null;
  if (bestRoute != null) {
    gatewayAddress=bestRoute.getGateway();
    if (hostAddress.equals(gatewayAddress))     gatewayAddress=null;
  }
  if (gatewayAddress != null) {
    if (cycleCount > MAX_HOSTROUTE_CYCLE_COUNT) {
      loge("Error adding hostroute - too much recursion");
      return false;
    }
    if (!addHostRoute(nt,gatewayAddress,cycleCount + 1))     return false;
  }
  RouteInfo route=RouteInfo.makeHostRoute(hostAddress,gatewayAddress);
  try {
    mNetd.addRoute(interfaceName,route);
    return true;
  }
 catch (  Exception ex) {
    return false;
  }
}
