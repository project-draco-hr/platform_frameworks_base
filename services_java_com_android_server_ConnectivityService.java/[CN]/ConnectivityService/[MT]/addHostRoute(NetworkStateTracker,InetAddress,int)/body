{
  if (nt.getNetworkInfo().getType() == ConnectivityManager.TYPE_WIFI) {
    return false;
  }
  LinkProperties lp=nt.getLinkProperties();
  if ((lp == null) || (hostAddress == null))   return false;
  String interfaceName=lp.getInterfaceName();
  if (DBG) {
    log("Requested host route to " + hostAddress + "("+ interfaceName+ "), cycleCount="+ cycleCount);
  }
  if (interfaceName == null) {
    if (DBG)     loge("addHostRoute failed due to null interface name");
    return false;
  }
  RouteInfo bestRoute=RouteInfo.selectBestRoute(lp.getRoutes(),hostAddress);
  InetAddress gateway=null;
  if (bestRoute != null) {
    gateway=bestRoute.getGateway();
    if (hostAddress.equals(gateway))     gateway=null;
  }
  if (gateway != null) {
    if (cycleCount > MAX_HOSTROUTE_CYCLE_COUNT) {
      loge("Error adding hostroute - too much recursion");
      return false;
    }
    if (!addHostRoute(nt,gateway,cycleCount + 1))     return false;
  }
  return NetworkUtils.addHostRoute(interfaceName,hostAddress,gateway);
}
