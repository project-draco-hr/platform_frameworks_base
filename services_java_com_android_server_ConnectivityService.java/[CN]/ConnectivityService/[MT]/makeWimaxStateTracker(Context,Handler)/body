{
  DexClassLoader wimaxClassLoader;
  Class wimaxStateTrackerClass=null;
  Class wimaxServiceClass=null;
  Class wimaxManagerClass;
  String wimaxJarLocation;
  String wimaxLibLocation;
  String wimaxManagerClassName;
  String wimaxServiceClassName;
  String wimaxStateTrackerClassName;
  NetworkStateTracker wimaxStateTracker=null;
  boolean isWimaxEnabled=context.getResources().getBoolean(com.android.internal.R.bool.config_wimaxEnabled);
  if (isWimaxEnabled) {
    try {
      wimaxJarLocation=context.getResources().getString(com.android.internal.R.string.config_wimaxServiceJarLocation);
      wimaxLibLocation=context.getResources().getString(com.android.internal.R.string.config_wimaxNativeLibLocation);
      wimaxManagerClassName=context.getResources().getString(com.android.internal.R.string.config_wimaxManagerClassname);
      wimaxServiceClassName=context.getResources().getString(com.android.internal.R.string.config_wimaxServiceClassname);
      wimaxStateTrackerClassName=context.getResources().getString(com.android.internal.R.string.config_wimaxStateTrackerClassname);
      if (DBG)       log("wimaxJarLocation: " + wimaxJarLocation);
      wimaxClassLoader=new DexClassLoader(wimaxJarLocation,new ContextWrapper(context).getCacheDir().getAbsolutePath(),wimaxLibLocation,ClassLoader.getSystemClassLoader());
      try {
        wimaxManagerClass=wimaxClassLoader.loadClass(wimaxManagerClassName);
        wimaxStateTrackerClass=wimaxClassLoader.loadClass(wimaxStateTrackerClassName);
        wimaxServiceClass=wimaxClassLoader.loadClass(wimaxServiceClassName);
      }
 catch (      ClassNotFoundException ex) {
        loge("Exception finding Wimax classes: " + ex.toString());
        return null;
      }
    }
 catch (    Resources.NotFoundException ex) {
      loge("Wimax Resources does not exist!!! ");
      return null;
    }
    try {
      if (DBG)       log("Starting Wimax Service... ");
      Constructor wmxStTrkrConst=wimaxStateTrackerClass.getConstructor(new Class[]{Context.class,Handler.class});
      wimaxStateTracker=(NetworkStateTracker)wmxStTrkrConst.newInstance(context,trackerHandler);
      Constructor wmxSrvConst=wimaxServiceClass.getDeclaredConstructor(new Class[]{Context.class,wimaxStateTrackerClass});
      wmxSrvConst.setAccessible(true);
      IBinder svcInvoker=(IBinder)wmxSrvConst.newInstance(context,wimaxStateTracker);
      wmxSrvConst.setAccessible(false);
      ServiceManager.addService(WimaxManagerConstants.WIMAX_SERVICE,svcInvoker);
    }
 catch (    Exception ex) {
      loge("Exception creating Wimax classes: " + ex.toString());
      return null;
    }
  }
 else {
    loge("Wimax is not enabled or not added to the network attributes!!! ");
    return null;
  }
  return wimaxStateTracker;
}
