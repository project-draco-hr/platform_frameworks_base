{
  mNetTrackers[info.getType()].setTeardownRequested(false);
  String reason=info.getReason();
  String extraInfo=info.getExtraInfo();
  String reasonText;
  if (reason == null) {
    reasonText=".";
  }
 else {
    reasonText=" (" + reason + ").";
  }
  loge("Attempt to connect to " + info.getTypeName() + " failed"+ reasonText);
  Intent intent=new Intent(ConnectivityManager.CONNECTIVITY_ACTION);
  intent.putExtra(ConnectivityManager.EXTRA_NETWORK_INFO,info);
  if (getActiveNetworkInfo() == null) {
    intent.putExtra(ConnectivityManager.EXTRA_NO_CONNECTIVITY,true);
  }
  if (reason != null) {
    intent.putExtra(ConnectivityManager.EXTRA_REASON,reason);
  }
  if (extraInfo != null) {
    intent.putExtra(ConnectivityManager.EXTRA_EXTRA_INFO,extraInfo);
  }
  if (info.isFailover()) {
    intent.putExtra(ConnectivityManager.EXTRA_IS_FAILOVER,true);
    info.setFailover(false);
  }
  if (mNetAttributes[info.getType()].isDefault()) {
    tryFailover(info.getType());
    if (mActiveDefaultNetwork != -1) {
      NetworkInfo switchTo=mNetTrackers[mActiveDefaultNetwork].getNetworkInfo();
      intent.putExtra(ConnectivityManager.EXTRA_OTHER_NETWORK_INFO,switchTo);
    }
 else {
      mDefaultInetConditionPublished=0;
      intent.putExtra(ConnectivityManager.EXTRA_NO_CONNECTIVITY,true);
    }
  }
  intent.putExtra(ConnectivityManager.EXTRA_INET_CONDITION,mDefaultInetConditionPublished);
  sendStickyBroadcast(intent);
  if (mActiveDefaultNetwork != -1) {
    sendConnectedBroadcast(mNetTrackers[mActiveDefaultNetwork].getNetworkInfo());
  }
}
