{
  mTeardownRequested[info.getType()]=false;
  if (getActiveNetworkInfo() == null) {
    String reason=info.getReason();
    String extraInfo=info.getExtraInfo();
    if (DBG) {
      String reasonText;
      if (reason == null) {
        reasonText=".";
      }
 else {
        reasonText=" (" + reason + ").";
      }
      Log.v(TAG,"Attempt to connect to " + info.getTypeName() + " failed"+ reasonText);
    }
    Intent intent=new Intent(ConnectivityManager.CONNECTIVITY_ACTION);
    intent.putExtra(ConnectivityManager.EXTRA_NETWORK_INFO,info);
    intent.putExtra(ConnectivityManager.EXTRA_NO_CONNECTIVITY,true);
    if (reason != null) {
      intent.putExtra(ConnectivityManager.EXTRA_REASON,reason);
    }
    if (extraInfo != null) {
      intent.putExtra(ConnectivityManager.EXTRA_EXTRA_INFO,extraInfo);
    }
    if (info.isFailover()) {
      intent.putExtra(ConnectivityManager.EXTRA_IS_FAILOVER,true);
      info.setFailover(false);
    }
    mContext.sendStickyBroadcast(intent);
  }
}
