{
  log("Sampling interval elapsed, updating statistics ..");
  Map<String,SamplingDataTracker.SamplingSnapshot> mapIfaceToSample=new HashMap<String,SamplingDataTracker.SamplingSnapshot>();
  for (  NetworkStateTracker tracker : mNetTrackers) {
    if (tracker != null) {
      String ifaceName=tracker.getNetworkInterfaceName();
      if (ifaceName != null) {
        mapIfaceToSample.put(ifaceName,null);
      }
    }
  }
  SamplingDataTracker.getSamplingSnapshots(mapIfaceToSample);
  for (  NetworkStateTracker tracker : mNetTrackers) {
    if (tracker != null) {
      String ifaceName=tracker.getNetworkInterfaceName();
      SamplingDataTracker.SamplingSnapshot ss=mapIfaceToSample.get(ifaceName);
      if (ss != null) {
        tracker.stopSampling(ss);
        tracker.startSampling(ss);
      }
    }
  }
  log("Done.");
  int samplingIntervalInSeconds=Settings.Global.getInt(mContext.getContentResolver(),Settings.Global.CONNECTIVITY_SAMPLING_INTERVAL_IN_SECONDS,DEFAULT_SAMPLING_INTERVAL_IN_SECONDS);
  if (DBG)   log("Setting timer for " + String.valueOf(samplingIntervalInSeconds) + "seconds");
  setAlarm(samplingIntervalInSeconds * 1000,mSampleIntervalElapsedIntent);
}
