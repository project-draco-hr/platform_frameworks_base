{
  enforceAccessPermission();
  final int uid=Binder.getCallingUid();
  final NetworkInfo[] result=new NetworkInfo[mNetworksDefined];
  int i=0;
synchronized (mUidRules) {
    for (    NetworkStateTracker tracker : mNetTrackers) {
      if (tracker != null) {
        NetworkInfo info=tracker.getNetworkInfo();
        if (isNetworkBlockedLocked(info,uid)) {
          info=new NetworkInfo(info);
          info.setDetailedState(DetailedState.BLOCKED,null,null);
        }
        result[i++]=info;
      }
    }
  }
  return result;
}
