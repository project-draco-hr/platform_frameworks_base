{
  NetworkStateTracker newNet=null;
  if (mNetAttributes[prevNetType].isDefault()) {
    if (mActiveDefaultNetwork == prevNetType) {
      mActiveDefaultNetwork=-1;
    }
    int newType=-1;
    int newPriority=-1;
    boolean noMobileData=!getMobileDataEnabled();
    for (int checkType=0; checkType <= ConnectivityManager.MAX_NETWORK_TYPE; checkType++) {
      if (checkType == prevNetType)       continue;
      if (mNetAttributes[checkType] == null)       continue;
      if (mNetAttributes[checkType].isDefault() == false)       continue;
      if (mNetAttributes[checkType].mRadio == ConnectivityManager.TYPE_MOBILE && noMobileData) {
        Slog.e(TAG,"not failing over to mobile type " + checkType + " because Mobile Data Disabled");
        continue;
      }
      NetworkStateTracker tracker=mNetTrackers[checkType];
      NetworkInfo info=tracker.getNetworkInfo();
      if (!info.isConnectedOrConnecting() || tracker.isTeardownRequested()) {
        info.setFailover(true);
        tracker.reconnect();
      }
      if (DBG)       Slog.d(TAG,"Attempting to switch to " + info.getTypeName());
      if (checkType == mNetworkPreference) {
        newType=checkType;
      }
      if (mNetAttributes[checkType].mPriority > newPriority && newType != mNetworkPreference) {
        newType=checkType;
        newPriority=mNetAttributes[checkType].mPriority;
      }
    }
  }
  return newNet;
}
