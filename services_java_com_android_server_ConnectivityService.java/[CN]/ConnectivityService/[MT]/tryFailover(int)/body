{
  NetworkStateTracker newNet=null;
  if (mNetAttributes[prevNetType].isDefault()) {
    if (mActiveDefaultNetwork == prevNetType) {
      mActiveDefaultNetwork=-1;
    }
    int newType=-1;
    int newPriority=-1;
    for (int checkType=0; checkType <= ConnectivityManager.MAX_NETWORK_TYPE; checkType++) {
      if (checkType == prevNetType)       continue;
      if (mNetAttributes[checkType] == null)       continue;
      if (!mNetAttributes[checkType].isDefault())       continue;
      if (!mNetTrackers[checkType].isAvailable())       continue;
      NetworkStateTracker tracker=mNetTrackers[checkType];
      NetworkInfo info=tracker.getNetworkInfo();
      if (!info.isConnectedOrConnecting() || tracker.isTeardownRequested()) {
        info.setFailover(true);
        tracker.reconnect();
      }
      if (DBG)       log("Attempting to switch to " + info.getTypeName());
      if (checkType == mNetworkPreference) {
        newType=checkType;
      }
      if (mNetAttributes[checkType].mPriority > newPriority && newType != mNetworkPreference) {
        newType=checkType;
        newPriority=mNetAttributes[newType].mPriority;
      }
    }
  }
  return newNet;
}
