{
  if (proxy != null && TextUtils.isEmpty(proxy.getHost()) && TextUtils.isEmpty(proxy.getPacFileUrl())) {
    proxy=null;
  }
synchronized (mProxyLock) {
    if (mDefaultProxy != null && mDefaultProxy.equals(proxy))     return;
    if (mDefaultProxy == proxy)     return;
    mDefaultProxy=proxy;
    if (mGlobalProxy != null)     return;
    if (!mDefaultProxyDisabled) {
      sendProxyBroadcast(proxy);
    }
  }
}
