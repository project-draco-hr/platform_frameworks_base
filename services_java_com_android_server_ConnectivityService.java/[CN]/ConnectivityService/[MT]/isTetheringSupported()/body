{
  enforceTetherAccessPermission();
  int defaultVal=(SystemProperties.get("ro.tether.denied").equals("true") ? 0 : 1);
  boolean tetherEnabledInSettings=(Settings.Secure.getInt(mContext.getContentResolver(),Settings.Secure.TETHER_SUPPORTED,defaultVal) != 0);
  int[] upstreamConnTypes=mTethering.getUpstreamIfaceTypes();
  for (  int i : upstreamConnTypes) {
    if (i == ConnectivityManager.TYPE_MOBILE_DUN)     return false;
  }
  return tetherEnabledInSettings && mTetheringConfigValid;
}
