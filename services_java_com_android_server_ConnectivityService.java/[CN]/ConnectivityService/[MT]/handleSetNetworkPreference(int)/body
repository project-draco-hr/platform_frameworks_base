{
  if (ConnectivityManager.isNetworkTypeValid(preference) && mNetAttributes[preference] != null && mNetAttributes[preference].isDefault()) {
    if (mNetworkPreference != preference) {
      final ContentResolver cr=mContext.getContentResolver();
      Settings.Secure.putInt(cr,Settings.Secure.NETWORK_PREFERENCE,preference);
synchronized (this) {
        mNetworkPreference=preference;
      }
      enforcePreference();
    }
  }
}
