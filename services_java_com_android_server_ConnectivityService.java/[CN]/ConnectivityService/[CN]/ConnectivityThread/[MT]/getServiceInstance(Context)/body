{
  ConnectivityThread thread=new ConnectivityThread(context);
  thread.start();
synchronized (thread) {
    while (sServiceInstance == null) {
      try {
        thread.wait();
      }
 catch (      InterruptedException ignore) {
        Log.e(TAG,"Unexpected InterruptedException while waiting" + " for ConnectivityService thread");
      }
    }
  }
  return sServiceInstance;
}
