{
synchronized (mLock) {
    final IWindow addedWindowToken=windowToken;
    final IAccessibilityInteractionConnection addedConnection=connection;
    final int windowId=sNextWindowId++;
    AccessibilityConnectionWrapper wrapper=new AccessibilityConnectionWrapper(windowId,connection);
    wrapper.linkToDeath();
    mWindowIdToWindowTokenMap.put(windowId,addedWindowToken.asBinder());
    mWindowIdToInteractionConnectionWrapperMap.put(windowId,wrapper);
    if (DEBUG) {
      Slog.i(LOG_TAG,"Adding interaction connection to windowId: " + windowId);
    }
    return windowId;
  }
}
