{
synchronized (mLock) {
    final IWindow addedWindowToken=windowToken;
    final IAccessibilityInteractionConnection addedConnection=connection;
    final int windowId=sNextWindowId++;
    addedConnection.asBinder().linkToDeath(new DeathRecipient(){
      public void binderDied(){
synchronized (mLock) {
          addedConnection.asBinder().unlinkToDeath(this,0);
          removeAccessibilityInteractionConnection(addedWindowToken);
        }
      }
    }
,0);
    mWindowIdToWindowTokenMap.put(windowId,addedWindowToken.asBinder());
    mWindowIdToInteractionConnectionMap.put(windowId,connection);
    if (DEBUG) {
      Slog.i(LOG_TAG,"Adding interaction connection to windowId: " + windowId);
    }
    return windowId;
  }
}
