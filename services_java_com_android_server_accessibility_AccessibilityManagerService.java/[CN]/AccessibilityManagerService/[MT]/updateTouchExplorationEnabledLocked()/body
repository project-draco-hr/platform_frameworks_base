{
  if (mIsAccessibilityEnabled && mIsTouchExplorationRequested) {
    final boolean hasSpeakingServicesEnabled=!getEnabledAccessibilityServiceList(AccessibilityServiceInfo.FEEDBACK_SPOKEN).isEmpty();
    if (!mIsTouchExplorationEnabled) {
      if (!hasSpeakingServicesEnabled) {
        return;
      }
      if (mInputFilter == null) {
        mInputFilter=new AccessibilityInputFilter(mContext);
      }
      mWindowManagerService.setInputFilter(mInputFilter);
      mIsTouchExplorationEnabled=true;
      sendTouchExplorationEnabledToClientsLocked();
      return;
    }
 else     if (hasSpeakingServicesEnabled) {
      return;
    }
  }
  if (mIsTouchExplorationEnabled) {
    mWindowManagerService.setInputFilter(null);
    mIsTouchExplorationEnabled=false;
    sendTouchExplorationEnabledToClientsLocked();
  }
}
