{
  if (!service.mRequestEnhancedWebAccessibility) {
    return;
  }
  UserState userState=getUserStateLocked(service.mUserId);
  if (userState.mIsEnhancedWebAccessibilityEnabled) {
    final int serviceCount=userState.mServices.size();
    for (int i=0; i < serviceCount; i++) {
      Service other=userState.mServices.get(i);
      if (other != service && other.mRequestEnhancedWebAccessibility) {
        return;
      }
    }
    Settings.Secure.putIntForUser(mContext.getContentResolver(),Settings.Secure.ACCESSIBILITY_SCRIPT_INJECTION,0,userState.mUserId);
  }
}
