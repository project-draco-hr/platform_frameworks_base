{
  SparseArray<List<AccessibilityServiceInfo>> feedbackTypeToEnabledServicesMap=mFeedbackTypeToEnabledServicesMap;
  List<AccessibilityServiceInfo> enabledServices=new ArrayList<AccessibilityServiceInfo>();
synchronized (mLock) {
    while (feedbackType != 0) {
      final int feedbackTypeBit=(1 << Integer.numberOfTrailingZeros(feedbackType));
      feedbackType&=~feedbackTypeBit;
      List<AccessibilityServiceInfo> perFeedbackType=feedbackTypeToEnabledServicesMap.get(feedbackTypeBit);
      if (perFeedbackType != null) {
        enabledServices.addAll(perFeedbackType);
      }
    }
  }
  return enabledServices;
}
