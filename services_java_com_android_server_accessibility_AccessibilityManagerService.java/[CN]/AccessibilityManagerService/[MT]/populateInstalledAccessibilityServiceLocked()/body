{
  mInstalledServices.clear();
  List<ResolveInfo> installedServices=mPackageManager.queryIntentServices(new Intent(AccessibilityService.SERVICE_INTERFACE),PackageManager.GET_SERVICES | PackageManager.GET_META_DATA);
  for (int i=0, count=installedServices.size(); i < count; i++) {
    ResolveInfo resolveInfo=installedServices.get(i);
    ServiceInfo serviceInfo=resolveInfo.serviceInfo;
    if (serviceInfo.applicationInfo.targetSdkVersion >= Build.VERSION_CODES.JELLY_BEAN && !android.Manifest.permission.BIND_ACCESSIBILITY_SERVICE.equals(serviceInfo.permission)) {
      Slog.w(LOG_TAG,"Skipping accessibilty service " + new ComponentName(serviceInfo.packageName,serviceInfo.name).flattenToShortString() + ": it does not require the permission "+ android.Manifest.permission.BIND_ACCESSIBILITY_SERVICE);
      continue;
    }
    AccessibilityServiceInfo accessibilityServiceInfo;
    try {
      accessibilityServiceInfo=new AccessibilityServiceInfo(resolveInfo,mContext);
      mInstalledServices.add(accessibilityServiceInfo);
    }
 catch (    XmlPullParserException xppe) {
      Slog.e(LOG_TAG,"Error while initializing AccessibilityServiceInfo",xppe);
    }
catch (    IOException ioe) {
      Slog.e(LOG_TAG,"Error while initializing AccessibilityServiceInfo",ioe);
    }
  }
}
