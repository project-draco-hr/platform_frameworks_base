{
  if (mIsEnabled) {
    final boolean hasSpokenFeedbackServices=!getEnabledAccessibilityServiceList(AccessibilityServiceInfo.FEEDBACK_SPOKEN).isEmpty();
    if (hasSpokenFeedbackServices) {
      if (mHasInputFilter) {
        return;
      }
      if (mInputFilter == null) {
        mInputFilter=new AccessibilityInputFilter(mContext);
      }
      mWindowManagerService.setInputFilter(mInputFilter);
      mHasInputFilter=true;
      return;
    }
  }
  if (mHasInputFilter) {
    mWindowManagerService.setInputFilter(null);
    mHasInputFilter=false;
  }
}
