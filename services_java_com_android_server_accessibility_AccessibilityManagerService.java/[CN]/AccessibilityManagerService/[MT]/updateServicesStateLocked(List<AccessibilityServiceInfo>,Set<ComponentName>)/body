{
  Map<ComponentName,Service> componentNameToServiceMap=mComponentNameToServiceMap;
  boolean isEnabled=mIsEnabled;
  for (int i=0, count=installedServices.size(); i < count; i++) {
    AccessibilityServiceInfo installedService=installedServices.get(i);
    ComponentName componentName=ComponentName.unflattenFromString(installedService.getId());
    Service service=componentNameToServiceMap.get(componentName);
    if (isEnabled) {
      if (enabledServices.contains(componentName)) {
        if (service == null) {
          service=new Service(installedService);
        }
        service.bind();
      }
 else       if (!enabledServices.contains(componentName)) {
        if (service != null) {
          service.unbind();
        }
      }
    }
 else {
      if (service != null) {
        service.unbind();
      }
    }
  }
}
