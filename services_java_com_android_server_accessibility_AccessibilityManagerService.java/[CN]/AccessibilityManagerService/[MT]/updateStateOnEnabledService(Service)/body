{
  int feedbackType=service.mFeedbackType;
  List<ServiceInfo> enabledServices=mFeedbackTypeToEnabledServicesMap.get(feedbackType);
  if (enabledServices == null) {
    enabledServices=new ArrayList<ServiceInfo>();
    mFeedbackTypeToEnabledServicesMap.put(feedbackType,enabledServices);
  }
  enabledServices.add(service.mServiceInfo);
  if (enabledServices.size() > 0 && service.mFeedbackType == AccessibilityServiceInfo.FEEDBACK_SPOKEN) {
    updateClientsLocked();
    updateInputFilterLocked();
  }
}
