{
  int feedbackType=service.mFeedbackType;
  List<AccessibilityServiceInfo> enabledServices=mFeedbackTypeToEnabledServicesMap.get(feedbackType);
  if (enabledServices == null) {
    enabledServices=new ArrayList<AccessibilityServiceInfo>();
    mFeedbackTypeToEnabledServicesMap.put(feedbackType,enabledServices);
  }
  enabledServices.add(service.mAccessibilityServiceInfo);
  if (enabledServices.size() > 0 && service.mFeedbackType == AccessibilityServiceInfo.FEEDBACK_SPOKEN) {
    updateClientsLocked();
    setInputFilterEnabledLocked(true);
  }
}
