{
  if (!service.canReceiveEvents()) {
    return;
  }
  UserState userState=getUserStateLocked(service.mUserId);
  if (userState.mIsTouchExplorationEnabled) {
    final int serviceCount=userState.mServices.size();
    for (int i=0; i < serviceCount; i++) {
      Service other=userState.mServices.get(i);
      if (other != service && other.mRequestTouchExplorationMode) {
        return;
      }
    }
    Settings.Secure.putIntForUser(mContext.getContentResolver(),Settings.Secure.TOUCH_EXPLORATION_ENABLED,0,userState.mUserId);
  }
}
