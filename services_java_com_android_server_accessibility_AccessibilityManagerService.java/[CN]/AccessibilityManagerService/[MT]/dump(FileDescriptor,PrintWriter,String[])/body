{
  mSecurityPolicy.enforceCallingPermission(Manifest.permission.DUMP,FUNCTION_DUMP);
synchronized (mLock) {
    pw.println("ACCESSIBILITY MANAGER (dumpsys accessibility)");
    pw.println();
    pw.println("Ui automation service: bound=" + (mUiAutomationService != null));
    pw.println();
    if (mUiAutomationService != null) {
      mUiAutomationService.dump(fd,pw,args);
      pw.println();
    }
    final int userCount=mUserStates.size();
    for (int i=0; i < userCount; i++) {
      UserState userState=mUserStates.valueAt(i);
      pw.append("User state[attributes:{id=" + userState.mUserId);
      pw.append(", currentUser=" + (userState.mUserId == mCurrentUserId));
      pw.append(", accessibilityEnabled=" + userState.mIsAccessibilityEnabled);
      pw.append(", touchExplorationEnabled=" + userState.mIsTouchExplorationEnabled);
      pw.append(", displayMagnificationEnabled=" + userState.mIsDisplayMagnificationEnabled);
      pw.append("}");
      pw.println();
      pw.append("           services:{");
      final int serviceCount=userState.mServices.size();
      for (int j=0; j < serviceCount; j++) {
        if (j > 0) {
          pw.append(", ");
          pw.println();
          pw.append("                     ");
        }
        Service service=userState.mServices.get(j);
        service.dump(fd,pw,args);
      }
      pw.println("}]");
      pw.println();
    }
  }
}
