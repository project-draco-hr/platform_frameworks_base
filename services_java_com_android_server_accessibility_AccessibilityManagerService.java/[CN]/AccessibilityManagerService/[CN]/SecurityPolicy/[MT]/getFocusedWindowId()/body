{
  final long identity=Binder.clearCallingIdentity();
  try {
    IBinder token=mWindowManager.getFocusedWindowToken();
    if (token != null) {
      SparseArray<IBinder> windows=mWindowIdToWindowTokenMap;
      final int windowCount=windows.size();
      for (int i=0; i < windowCount; i++) {
        if (windows.valueAt(i) == token) {
          return windows.keyAt(i);
        }
      }
    }
  }
 catch (  RemoteException re) {
  }
 finally {
    Binder.restoreCallingIdentity(identity);
  }
  return -1;
}
