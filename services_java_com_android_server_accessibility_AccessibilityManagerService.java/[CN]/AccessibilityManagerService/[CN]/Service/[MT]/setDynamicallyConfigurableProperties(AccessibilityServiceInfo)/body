{
  mEventTypes=info.eventTypes;
  mFeedbackType=info.feedbackType;
  String[] packageNames=info.packageNames;
  if (packageNames != null) {
    mPackageNames.addAll(Arrays.asList(packageNames));
  }
  mNotificationTimeout=info.notificationTimeout;
  mIsDefault=(info.flags & DEFAULT) != 0;
  if (mIsAutomation || info.getResolveInfo().serviceInfo.applicationInfo.targetSdkVersion >= Build.VERSION_CODES.JELLY_BEAN) {
    mFetchFlags|=(info.flags & AccessibilityServiceInfo.FLAG_INCLUDE_NOT_IMPORTANT_VIEWS) != 0 ? AccessibilityNodeInfo.FLAG_INCLUDE_NOT_IMPORTANT_VIEWS : 0;
  }
  mFetchFlags|=(info.flags & AccessibilityServiceInfo.FLAG_REPORT_VIEW_IDS) != 0 ? AccessibilityNodeInfo.FLAG_REPORT_VIEW_IDS : 0;
  if (mResolveInfo != null) {
    String packageName=mResolveInfo.serviceInfo.packageName;
    if (mContext.getPackageManager().checkPermission(android.Manifest.permission.CAN_REQUEST_TOUCH_EXPLORATION_MODE,packageName) == PackageManager.PERMISSION_GRANTED) {
      mRequestTouchExplorationMode=(info.flags & AccessibilityServiceInfo.FLAG_REQUEST_TOUCH_EXPLORATION_MODE) != 0;
    }
    if (mContext.getPackageManager().checkPermission(android.Manifest.permission.CAN_REQUEST_ENHANCED_WEB_ACCESSIBILITY,packageName) == PackageManager.PERMISSION_GRANTED) {
      mRequestEnhancedWebAccessibility=(info.flags & AccessibilityServiceInfo.FLAG_REQUEST_ENHANCED_WEB_ACCESSIBILITY) != 0;
    }
  }
synchronized (mLock) {
    if (canReceiveEventsLocked()) {
      if (mRequestTouchExplorationMode) {
        tryEnableTouchExplorationLocked(this);
      }
 else {
        tryDisableTouchExplorationLocked(this);
      }
      if (mRequestEnhancedWebAccessibility) {
        tryEnableEnhancedWebAccessibilityLocked(this);
      }
 else {
        tryDisableEnhancedWebAccessibilityLocked(this);
      }
    }
  }
}
