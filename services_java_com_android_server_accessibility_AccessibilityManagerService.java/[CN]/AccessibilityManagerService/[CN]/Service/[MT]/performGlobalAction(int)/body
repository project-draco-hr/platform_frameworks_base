{
synchronized (mLock) {
    final int resolvedUserId=mSecurityPolicy.resolveCallingUserIdEnforcingPermissionsLocked(UserHandle.getCallingUserId());
    if (resolvedUserId != mCurrentUserId) {
      return false;
    }
  }
  final long identity=Binder.clearCallingIdentity();
  try {
switch (action) {
case AccessibilityService.GLOBAL_ACTION_BACK:
{
        sendDownAndUpKeyEvents(KeyEvent.KEYCODE_BACK);
      }
    return true;
case AccessibilityService.GLOBAL_ACTION_HOME:
{
    sendDownAndUpKeyEvents(KeyEvent.KEYCODE_HOME);
  }
return true;
case AccessibilityService.GLOBAL_ACTION_RECENTS:
{
openRecents();
}
return true;
case AccessibilityService.GLOBAL_ACTION_NOTIFICATIONS:
{
expandStatusBar();
}
return true;
}
return false;
}
  finally {
Binder.restoreCallingIdentity(identity);
}
}
