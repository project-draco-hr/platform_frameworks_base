{
  Service service=getDefaultGestureHandlingHelperService();
switch (gestureId) {
case AccessibilityService.GESTURE_SWIPE_DOWN_AND_LEFT:
{
      service.performGlobalAction(AccessibilityService.GLOBAL_ACTION_BACK);
    }
  return;
case AccessibilityService.GESTURE_SWIPE_DOWN_AND_RIGHT:
{
  service.performGlobalAction(AccessibilityService.GLOBAL_ACTION_HOME);
}
return;
case AccessibilityService.GESTURE_SWIPE_UP_AND_LEFT:
{
service.performGlobalAction(AccessibilityService.GLOBAL_ACTION_RECENTS);
}
return;
case AccessibilityService.GESTURE_SWIPE_UP_AND_RIGHT:
{
service.performGlobalAction(AccessibilityService.GLOBAL_ACTION_NOTIFICATIONS);
}
return;
}
AccessibilityInteractionClient client=AccessibilityInteractionClient.getInstance();
AccessibilityNodeInfo root=client.getRootInActiveWindow(service.mId);
if (root == null) {
return;
}
AccessibilityNodeInfo current=root.findFocus(AccessibilityNodeInfo.FOCUS_ACCESSIBILITY);
if (current == null) {
current=root;
}
AccessibilityNodeInfo next=null;
switch (gestureId) {
case AccessibilityService.GESTURE_SWIPE_UP:
{
next=current.focusSearch(View.ACCESSIBILITY_FOCUS_OUT);
}
break;
case AccessibilityService.GESTURE_SWIPE_DOWN:
{
next=current.focusSearch(View.ACCESSIBILITY_FOCUS_IN);
}
break;
case AccessibilityService.GESTURE_SWIPE_LEFT:
{
next=current.focusSearch(View.ACCESSIBILITY_FOCUS_BACKWARD);
}
break;
case AccessibilityService.GESTURE_SWIPE_RIGHT:
{
next=current.focusSearch(View.ACCESSIBILITY_FOCUS_FORWARD);
}
break;
case AccessibilityService.GESTURE_SWIPE_UP_AND_DOWN:
{
next=current.focusSearch(View.ACCESSIBILITY_FOCUS_UP);
}
break;
case AccessibilityService.GESTURE_SWIPE_DOWN_AND_UP:
{
next=current.focusSearch(View.ACCESSIBILITY_FOCUS_DOWN);
}
break;
case AccessibilityService.GESTURE_SWIPE_LEFT_AND_RIGHT:
{
next=current.focusSearch(View.ACCESSIBILITY_FOCUS_LEFT);
}
break;
case AccessibilityService.GESTURE_SWIPE_RIGHT_AND_LEFT:
{
next=current.focusSearch(View.ACCESSIBILITY_FOCUS_RIGHT);
}
break;
}
if (next != null && !next.equals(current)) {
next.performAction(AccessibilityNodeInfo.ACTION_ACCESSIBILITY_FOCUS);
}
}
