{
  if (!hasActiveProfile()) {
    state.visible=false;
    state.value=false;
    return;
  }
  final boolean userInitialized;
  if (arg instanceof UserBoolean) {
    state.value=((UserBoolean)arg).value;
    userInitialized=((UserBoolean)arg).userInitiated;
  }
 else {
    state.value=isWorkModeEnabled();
    userInitialized=false;
  }
  state.visible=true;
  final AnimationIcon icon;
  state.label=mContext.getString(R.string.quick_settings_work_mode_label);
  if (state.value) {
    icon=mEnable;
    state.contentDescription=mContext.getString(R.string.accessibility_quick_settings_work_mode_on);
  }
 else {
    icon=mDisable;
    state.contentDescription=mContext.getString(R.string.accessibility_quick_settings_work_mode_off);
  }
  icon.setAllowAnimation(userInitialized);
  state.icon=icon;
}
