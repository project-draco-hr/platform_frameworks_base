{
  if (mAdapter != null) {
    if (mPreviousView != null) {
      mPreviousView.clearAnimation();
      removeViewInLayout(mPreviousView);
    }
    if (mCurrentView != null) {
      mCurrentView.clearAnimation();
    }
    mPreviousView=mCurrentView;
    mCurrentView=mAdapter.getView(childIndex,null,this);
    if (mPreviousView != mCurrentView) {
      addViewInLayout(mCurrentView,0,makeLayoutParams(),true);
      mCurrentView.bringToFront();
    }
    if (mPreviousView != null && mPreviousView != mCurrentView) {
      if (animate && mOutAnimation != null) {
        mPreviousView.startAnimation(mOutAnimation);
      }
      mPreviousView.setVisibility(View.GONE);
    }
    if (mCurrentView != null && animate && mInAnimation != null) {
      mCurrentView.startAnimation(mInAnimation);
    }
    mFirstTime=false;
    if (!onLayout) {
      requestLayout();
      invalidate();
    }
 else {
      mMainQueue.post(new Runnable(){
        @Override public void run(){
          mCurrentView.requestLayout();
          mCurrentView.invalidate();
        }
      }
);
    }
  }
}
