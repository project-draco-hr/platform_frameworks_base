{
  if (mIsRaw) {
    if (mHasThumbnail) {
      try (RandomAccessFile file=new RandomAccessFile(mFilename,"r")){
        if (file.length() < mThumbnailLength + mThumbnailOffset) {
          throw new IOException("Corrupted image.");
        }
        file.seek(mThumbnailOffset);
        byte[] buffer=new byte[mThumbnailLength];
        file.readFully(buffer);
        return buffer;
      }
 catch (      IOException e) {
      }
    }
    return null;
  }
synchronized (sLock) {
    return getThumbnailNative(mFilename);
  }
}
