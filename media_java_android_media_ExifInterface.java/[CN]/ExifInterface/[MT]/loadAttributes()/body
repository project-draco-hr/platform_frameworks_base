{
  HashMap map=getRawAttributesNative(mFilename);
  mIsRaw=map != null;
  if (mIsRaw) {
    for (    Object o : map.entrySet()) {
      Map.Entry entry=(Map.Entry)o;
      String attrName=(String)entry.getKey();
      String attrValue=(String)entry.getValue();
switch (attrName) {
case TAG_HAS_THUMBNAIL:
        mHasThumbnail=attrValue.equalsIgnoreCase("true");
      break;
case TAG_THUMBNAIL_OFFSET:
    mThumbnailOffset=Integer.parseInt(attrValue);
  break;
case TAG_THUMBNAIL_LENGTH:
mThumbnailLength=Integer.parseInt(attrValue);
break;
default :
mAttributes.put(attrName,attrValue);
break;
}
}
return;
}
String attrStr;
synchronized (sLock) {
attrStr=getAttributesNative(mFilename);
}
int ptr=attrStr.indexOf(' ');
int count=Integer.parseInt(attrStr.substring(0,ptr));
++ptr;
for (int i=0; i < count; i++) {
int equalPos=attrStr.indexOf('=',ptr);
String attrName=attrStr.substring(ptr,equalPos);
ptr=equalPos + 1;
int lenPos=attrStr.indexOf(' ',ptr);
int attrLen=Integer.parseInt(attrStr.substring(ptr,lenPos));
ptr=lenPos + 1;
String attrValue=attrStr.substring(ptr,ptr + attrLen);
ptr+=attrLen;
if (attrName.equals(TAG_HAS_THUMBNAIL)) {
mHasThumbnail=attrValue.equalsIgnoreCase("true");
}
 else {
mAttributes.put(attrName,attrValue);
}
}
}
