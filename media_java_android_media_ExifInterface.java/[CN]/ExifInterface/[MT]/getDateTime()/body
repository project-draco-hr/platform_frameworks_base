{
  String dateTimeString=getAttribute(TAG_DATETIME);
  if (dateTimeString == null || !sNonZeroTimePattern.matcher(dateTimeString).matches())   return -1;
  ParsePosition pos=new ParsePosition(0);
  try {
    Date datetime=sFormatter.parse(dateTimeString,pos);
    if (datetime == null)     return -1;
    long msecs=datetime.getTime();
    String subSecs=getAttribute(TAG_SUBSEC_TIME);
    if (subSecs != null) {
      try {
        long sub=Long.parseLong(subSecs);
        while (sub > 1000) {
          sub/=10;
        }
        msecs+=sub;
      }
 catch (      NumberFormatException e) {
      }
    }
    return msecs;
  }
 catch (  IllegalArgumentException e) {
    return -1;
  }
}
