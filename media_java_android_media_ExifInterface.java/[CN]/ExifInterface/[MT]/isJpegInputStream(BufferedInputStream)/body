{
  in.mark(JPEG_SIGNATURE_SIZE);
  byte[] signatureBytes=new byte[JPEG_SIGNATURE_SIZE];
  if (in.read(signatureBytes) != JPEG_SIGNATURE_SIZE) {
    throw new EOFException();
  }
  boolean isJpeg=Arrays.equals(JPEG_SIGNATURE,signatureBytes);
  in.reset();
  return isJpeg;
}
