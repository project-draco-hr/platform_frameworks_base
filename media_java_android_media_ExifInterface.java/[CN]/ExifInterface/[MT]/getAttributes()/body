{
  if (mCachedAttributes != null) {
    return mCachedAttributes;
  }
  mCachedAttributes=new HashMap<String,String>();
  String attrStr=getAttributesNative(mFilename);
  int ptr=attrStr.indexOf(' ');
  int count=Integer.parseInt(attrStr.substring(0,ptr));
  ++ptr;
  for (int i=0; i < count; i++) {
    int equalPos=attrStr.indexOf('=',ptr);
    String attrName=attrStr.substring(ptr,equalPos);
    ptr=equalPos + 1;
    int lenPos=attrStr.indexOf(' ',ptr);
    int attrLen=Integer.parseInt(attrStr.substring(ptr,lenPos));
    ptr=lenPos + 1;
    String attrValue=attrStr.substring(ptr,ptr + attrLen);
    ptr+=attrLen;
    if (attrName.equals("hasThumbnail")) {
      mHasThumbnail=attrValue.equalsIgnoreCase("true");
    }
 else {
      mCachedAttributes.put(attrName,attrValue);
    }
  }
  return mCachedAttributes;
}
