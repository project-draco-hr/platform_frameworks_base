{
  if (!visible && !mDisabledNotificationShown) {
    return;
  }
  Resources r=Resources.getSystem();
  NotificationManager notificationManager=(NotificationManager)mContext.getSystemService(Context.NOTIFICATION_SERVICE);
  if (visible) {
    CharSequence title=r.getText(R.string.wifi_watchdog_network_disabled);
    String msg=mConnectionInfo.getSSID() + r.getText(R.string.wifi_watchdog_network_disabled_detailed);
    Notification wifiDisabledWarning=new Notification.Builder(mContext).setSmallIcon(R.drawable.stat_sys_warning).setDefaults(Notification.DEFAULT_ALL).setTicker(title).setContentTitle(title).setContentText(msg).setContentIntent(PendingIntent.getActivity(mContext,0,new Intent(WifiManager.ACTION_PICK_WIFI_NETWORK).setFlags(Intent.FLAG_ACTIVITY_NEW_TASK),0)).setWhen(System.currentTimeMillis()).setAutoCancel(true).getNotification();
    notificationManager.notify(DISABLED_NETWORK_NOTIFICATION_ID,1,wifiDisabledWarning);
  }
 else {
    notificationManager.cancel(DISABLED_NETWORK_NOTIFICATION_ID,1);
  }
  mDisabledNotificationShown=visible;
}
