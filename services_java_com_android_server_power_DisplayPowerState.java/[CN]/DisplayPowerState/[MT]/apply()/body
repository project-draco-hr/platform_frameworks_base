{
  if (mDirty != 0) {
    if ((mDirty & DIRTY_SCREEN_ON) != 0 && !mScreenOn) {
      PowerManagerService.nativeSetScreenState(false);
    }
    if ((mDirty & DIRTY_ELECTRON_BEAM) != 0) {
      mElectronBeam.draw(mElectronBeamLevel);
    }
    if ((mDirty & (DIRTY_BRIGHTNESS | DIRTY_SCREEN_ON | DIRTY_ELECTRON_BEAM)) != 0) {
      mScreenBrightnessModulator.setBrightness(mScreenOn ? (int)(mScreenBrightness * mElectronBeamLevel) : 0);
    }
    if ((mDirty & DIRTY_SCREEN_ON) != 0 && mScreenOn) {
      PowerManagerService.nativeSetScreenState(true);
    }
    mDirty=0;
    if (mCleanListener != null) {
      mCleanListener.run();
    }
  }
}
