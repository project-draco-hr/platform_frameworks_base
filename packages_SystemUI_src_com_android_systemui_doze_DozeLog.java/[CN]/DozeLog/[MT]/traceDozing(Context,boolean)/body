{
  if (!ENABLED)   return;
  sPulsing=false;
synchronized (DozeLog.class) {
    if (dozing && sMessages == null) {
      sTimes=new long[SIZE];
      sMessages=new String[SIZE];
      sSince=System.currentTimeMillis();
      sPickupPulseNearVibrationStats=new SummaryStats();
      sPickupPulseNotNearVibrationStats=new SummaryStats();
      sNotificationPulseStats=new SummaryStats();
      sScreenOnPulsingStats=new SummaryStats();
      sScreenOnNotPulsingStats=new SummaryStats();
      sEmergencyCallStats=new SummaryStats();
      log("init");
      KeyguardUpdateMonitor.getInstance(context).registerCallback(new KeyguardUpdateMonitorCallback(){
        @Override public void onEmergencyCallAction(){
          traceEmergencyCall();
        }
        @Override public void onKeyguardBouncerChanged(        boolean bouncer){
          traceKeyguardBouncerChanged(bouncer);
        }
        @Override public void onScreenTurnedOn(){
          traceScreenOn();
        }
        @Override public void onScreenTurnedOff(        int why){
          traceScreenOff(why);
        }
        @Override public void onKeyguardVisibilityChanged(        boolean showing){
          traceKeyguard(showing);
        }
      }
);
    }
  }
  log("dozing " + dozing);
}
