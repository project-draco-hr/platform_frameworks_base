{
  if (LOGV)   Slog.v(TAG,"ensureActiveMobilePolicyLocked()");
  final String subscriberId=getActiveSubscriberId();
  if (subscriberId == null) {
    if (LOGV)     Slog.v(TAG,"no active mobile network, ignoring policy check");
    return;
  }
  boolean mobileDefined=false;
  for (  NetworkPolicy policy : mNetworkPolicy) {
    if (isNetworkTemplateMobile(policy.networkTemplate) && Objects.equal(subscriberId,policy.subscriberId)) {
      mobileDefined=true;
    }
  }
  if (!mobileDefined) {
    Slog.i(TAG,"no policy for active mobile network; generating default policy");
    final Time time=new Time(Time.TIMEZONE_UTC);
    time.setToNow();
    final int cycleDay=time.monthDay;
    mNetworkPolicy.add(new NetworkPolicy(TEMPLATE_MOBILE_ALL,subscriberId,cycleDay,4 * GB_IN_BYTES,LIMIT_DISABLED));
  }
}
