{
  mContext.enforceCallingOrSelfPermission(MANAGE_APP_TOKENS,"requires MANAGE_APP_TOKENS permission");
  SparseBooleanArray pidForeground=mUidPidForeground.get(uid);
  if (pidForeground == null) {
    pidForeground=new SparseBooleanArray(2);
    mUidPidForeground.put(uid,pidForeground);
  }
  pidForeground.put(pid,foreground);
  computeUidForeground(uid);
}
