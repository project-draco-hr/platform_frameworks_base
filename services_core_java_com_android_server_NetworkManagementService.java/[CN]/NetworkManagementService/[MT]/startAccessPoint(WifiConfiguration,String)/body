{
  mContext.enforceCallingOrSelfPermission(CONNECTIVITY_INTERNAL,TAG);
  Object[] args;
  String logMsg="startAccessPoint Error setting up softap";
  try {
    if (wifiConfig == null) {
      args=new Object[]{"set",wlanIface};
    }
 else {
      args=new Object[]{"set",wlanIface,wifiConfig.SSID,"broadcast",Integer.toString(wifiConfig.apChannel),getSecurityType(wifiConfig),new SensitiveArg(wifiConfig.preSharedKey)};
    }
    executeOrLogWithMessage(SOFT_AP_COMMAND,args,NetdResponseCode.SoftapStatusResult,SOFT_AP_COMMAND_SUCCESS,logMsg);
    logMsg="startAccessPoint Error starting softap";
    args=new Object[]{"startap"};
    executeOrLogWithMessage(SOFT_AP_COMMAND,args,NetdResponseCode.SoftapStatusResult,SOFT_AP_COMMAND_SUCCESS,logMsg);
  }
 catch (  NativeDaemonConnectorException e) {
    throw e.rethrowAsParcelableException();
  }
}
