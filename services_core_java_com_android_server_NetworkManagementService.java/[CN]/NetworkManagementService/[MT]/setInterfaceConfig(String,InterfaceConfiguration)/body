{
  mContext.enforceCallingOrSelfPermission(CONNECTIVITY_INTERNAL,TAG);
  LinkAddress linkAddr=cfg.getLinkAddress();
  if (linkAddr == null || linkAddr.getAddress() == null) {
    throw new IllegalStateException("Null LinkAddress given");
  }
  final Command cmd=new Command("interface","setcfg",iface,linkAddr.getAddress().getHostAddress(),linkAddr.getPrefixLength());
  for (  String flag : cfg.getFlags()) {
    cmd.appendArg(flag);
  }
  try {
    mConnector.execute(cmd);
  }
 catch (  NativeDaemonConnectorException e) {
    throw e.rethrowAsParcelableException();
  }
}
