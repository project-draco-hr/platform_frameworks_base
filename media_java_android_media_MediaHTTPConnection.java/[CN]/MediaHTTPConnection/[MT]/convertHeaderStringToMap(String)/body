{
  HashMap<String,String> map=new HashMap<String,String>();
  String[] pairs=headers.split("\r\n");
  for (  String pair : pairs) {
    int colonPos=pair.indexOf(":");
    if (colonPos >= 0) {
      String key=pair.substring(0,colonPos);
      String val=pair.substring(colonPos + 1);
      if (!filterOutInternalHeaders(key,val)) {
        map.put(key,val);
      }
    }
  }
  return map;
}
