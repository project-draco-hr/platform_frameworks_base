{
  mSettings.setCurrentUserId(userId);
  updateCurrentProfileIds();
  unbindServiceLocked();
  buildSpellCheckerMapLocked(mContext,mSpellCheckerList,mSpellCheckerMap,mSettings);
  SpellCheckerInfo sci=getCurrentSpellChecker(null);
  if (sci == null) {
    sci=findAvailSpellCheckerLocked(null);
    if (sci != null) {
      setCurrentSpellCheckerLocked(sci.getId());
    }
  }
}
