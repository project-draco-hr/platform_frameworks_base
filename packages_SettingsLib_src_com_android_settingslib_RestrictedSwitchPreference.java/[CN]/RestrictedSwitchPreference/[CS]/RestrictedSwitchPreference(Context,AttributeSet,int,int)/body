{
  super(context,attrs,defStyleAttr,defStyleRes);
  setWidgetLayoutResource(R.layout.restricted_switch_widget);
  mHelper=new RestrictedPreferenceHelper(context,this,attrs);
  if (attrs != null) {
    final TypedArray attributes=context.obtainStyledAttributes(attrs,R.styleable.RestrictedPreference);
    final TypedValue useAdditionalSummary=attributes.peekValue(R.styleable.RestrictedPreference_useAdditionalSummary);
    if (useAdditionalSummary != null) {
      mUseAdditionalSummary=(useAdditionalSummary.type == TypedValue.TYPE_INT_BOOLEAN && useAdditionalSummary.data != 0);
    }
  }
  if (mUseAdditionalSummary) {
    setLayoutResource(R.layout.restricted_switch_preference);
    useAdminDisabledSummary(false);
  }
}
