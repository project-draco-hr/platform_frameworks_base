{
  int layer=mHighestApplicationLayer + 1;
  while (!mDockedWindows.isEmpty()) {
    layer=assignAndIncreaseLayerIfNeeded(mDockedWindows.remove(),layer);
  }
  layer++;
  layer=assignAndIncreaseLayerIfNeeded(mDockDivider,layer);
  if (mDockDivider != null && mService.mInputMethodWindow != null) {
    layer=assignAndIncreaseLayerIfNeeded(mService.mInputMethodWindow,layer);
  }
  while (!mReplacingWindows.isEmpty()) {
    layer=assignAndIncreaseLayerIfNeeded(mReplacingWindows.remove(),layer);
  }
  while (!mPinnedWindows.isEmpty()) {
    layer=assignAndIncreaseLayerIfNeeded(mPinnedWindows.remove(),layer);
  }
}
