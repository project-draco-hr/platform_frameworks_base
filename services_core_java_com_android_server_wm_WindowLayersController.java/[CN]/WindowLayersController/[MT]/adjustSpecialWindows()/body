{
  int layer=mHighestApplicationLayer + 1;
  layer=assignAndIncreaseLayerIfNeeded(mDockedWindow,layer);
  layer=assignAndIncreaseLayerIfNeeded(mDockDivider,layer);
  layer=assignAndIncreaseLayerIfNeeded(mReplacingWindow,layer);
  layer=assignAndIncreaseLayerIfNeeded(mPinnedWindow,layer);
  final WindowState inputMethodTarget=mService.mInputMethodTarget;
  layer=Math.max(layer,inputMethodTarget != null ? inputMethodTarget.mWinAnimator.mAnimLayer + 1 : 0);
  layer=assignAndIncreaseLayerIfNeeded(mImeWindow,layer);
}
