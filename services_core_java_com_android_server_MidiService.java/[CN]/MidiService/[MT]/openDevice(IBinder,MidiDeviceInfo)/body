{
  Device device=mDevicesByInfo.get(deviceInfo);
  if (device == null) {
    Log.e(TAG,"device not found in openDevice: " + deviceInfo);
    return null;
  }
  if (!device.isUidAllowed(Binder.getCallingUid())) {
    throw new SecurityException("Attempt to open private device with wrong UID");
  }
  return device.getDeviceServer();
}
