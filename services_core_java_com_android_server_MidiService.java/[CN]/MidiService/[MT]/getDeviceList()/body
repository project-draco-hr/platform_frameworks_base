{
  ArrayList<MidiDeviceInfo> deviceInfos=new ArrayList<MidiDeviceInfo>();
  int uid=Binder.getCallingUid();
synchronized (mDevicesByInfo) {
    for (    Device device : mDevicesByInfo.values()) {
      if (device.isUidAllowed(uid)) {
        deviceInfos.add(device.getDeviceInfo());
      }
    }
  }
  return deviceInfos.toArray(EMPTY_DEVICE_INFO_ARRAY);
}
