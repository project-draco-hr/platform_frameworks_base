{
  mContext=context;
  mPackageManager=context.getPackageManager();
  mPackageMonitor.register(context,null,true);
  Intent intent=new Intent(MidiDeviceService.SERVICE_INTERFACE);
  List<ResolveInfo> resolveInfos=mPackageManager.queryIntentServices(intent,PackageManager.GET_META_DATA);
  if (resolveInfos != null) {
    int count=resolveInfos.size();
    for (int i=0; i < count; i++) {
      ServiceInfo serviceInfo=resolveInfos.get(i).serviceInfo;
      if (serviceInfo != null) {
        addPackageDeviceServer(serviceInfo);
      }
    }
  }
}
