{
  final DisplayInfo info=mDisplayContent.getDisplayInfo();
  final int dw=info.logicalWidth;
  final int dh=info.logicalHeight;
  if (mDimSurface == null) {
    Slog.e(TAG,"show: no Surface");
    return;
  }
  if (!mDimShown) {
    if (WindowManagerService.SHOW_TRANSACTIONS)     Slog.i(WindowManagerService.TAG,"  DIM " + mDimSurface + ": SHOW pos=(0,0) ("+ dw+ "x"+ dh+ " layer="+ layer+ ")");
    mDimShown=true;
    try {
      mLastDimWidth=dw;
      mLastDimHeight=dh;
      mDimSurface.setPosition(0,0);
      mDimSurface.setSize(dw,dh);
      mDimSurface.setLayer(layer);
      mDimSurface.show();
    }
 catch (    RuntimeException e) {
      Slog.w(WindowManagerService.TAG,"Failure showing dim surface",e);
    }
  }
 else   if (mLastDimWidth != dw || mLastDimHeight != dh || mDimColor != color || mLayer != layer) {
    if (WindowManagerService.SHOW_TRANSACTIONS)     Slog.i(WindowManagerService.TAG,"  DIM " + mDimSurface + ": pos=(0,0) ("+ dw+ "x"+ dh+ " layer="+ layer+ ")");
    mLastDimWidth=dw;
    mLastDimHeight=dh;
    mLayer=layer;
    mDimColor=color;
    mDimSurface.setSize(dw,dh);
    mDimSurface.setLayer(layer);
    mDimSurface.setAlpha(((color >> 24) & 0xff) / 255.0f);
  }
}
