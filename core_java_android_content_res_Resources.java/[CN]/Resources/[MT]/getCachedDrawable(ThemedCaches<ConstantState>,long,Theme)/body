{
synchronized (mAccessLock) {
    final LongSparseArray<WeakReference<ConstantState>> unthemed=caches.getUnthemed(false);
    if (unthemed != null) {
      final Drawable unthemedDrawable=getCachedDrawableLocked(unthemed,key);
      if (unthemedDrawable != null) {
        return unthemedDrawable;
      }
    }
    final boolean themeCannotCache=theme != null && !theme.canCacheDrawables();
    if (themeCannotCache) {
      return null;
    }
    final int themeKey=theme != null ? theme.mThemeResId : 0;
    final LongSparseArray<WeakReference<ConstantState>> themedCache=caches.get(themeKey);
    if (themedCache != null) {
      final Drawable themedDrawable=getCachedDrawableLocked(themedCache,key);
      if (themedDrawable != null) {
        return themedDrawable;
      }
    }
    return null;
  }
}
