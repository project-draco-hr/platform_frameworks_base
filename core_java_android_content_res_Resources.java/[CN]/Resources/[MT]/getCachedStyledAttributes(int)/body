{
synchronized (mTmpValue) {
    TypedArray attrs=mCachedStyledAttributes;
    if (attrs != null) {
      mCachedStyledAttributes=null;
      if (DEBUG_ATTRIBUTES_CACHE) {
        mLastRetrievedAttrs=new RuntimeException("here");
        mLastRetrievedAttrs.fillInStackTrace();
      }
      attrs.mLength=len;
      int fullLen=len * AssetManager.STYLE_NUM_ENTRIES;
      if (attrs.mData.length >= fullLen) {
        return attrs;
      }
      attrs.mData=new int[fullLen];
      attrs.mIndices=new int[1 + len];
      return attrs;
    }
    if (DEBUG_ATTRIBUTES_CACHE) {
      RuntimeException here=new RuntimeException("here");
      here.fillInStackTrace();
      if (mLastRetrievedAttrs != null) {
        Log.i(TAG,"Allocated new TypedArray of " + len + " in "+ this,here);
        Log.i(TAG,"Last retrieved attributes here",mLastRetrievedAttrs);
      }
      mLastRetrievedAttrs=here;
    }
    return new TypedArray(this,new int[len * AssetManager.STYLE_NUM_ENTRIES],new int[1 + len],len);
  }
}
