{
  if (phase == PHASE_THIRD_PARTY_APPS_CAN_START) {
    mTelephonyManager=mContext.getSystemService(TelephonyManager.class);
    mVoiceCapable=mTelephonyManager.isVoiceCapable();
    if (!mVoiceCapable) {
      updateEmergencyAffordanceNeeded();
      return;
    }
    mSubscriptionManager=SubscriptionManager.from(mContext);
    HandlerThread thread=new HandlerThread(TAG);
    thread.start();
    mHandler=new MyHandler(thread.getLooper());
    mHandler.obtainMessage(INITIALIZE_STATE).sendToTarget();
    startScanning();
    IntentFilter filter=new IntentFilter(Intent.ACTION_AIRPLANE_MODE_CHANGED);
    mContext.registerReceiver(mAirplaneModeReceiver,filter);
    mSubscriptionManager.addOnSubscriptionsChangedListener(mSubscriptionChangedListener);
  }
}
