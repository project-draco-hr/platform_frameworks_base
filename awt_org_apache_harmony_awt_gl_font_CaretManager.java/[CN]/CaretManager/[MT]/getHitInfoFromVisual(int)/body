{
  final boolean first=visual == 0;
  if (!(first || visual == breaker.getCharCount())) {
    int logical=breaker.getLogicalFromVisual(visual);
    return (breaker.getLevel(logical) & 0x1) == 0x0 ? TextHitInfo.leading(logical) : TextHitInfo.trailing(logical);
  }
 else   if (first) {
    return breaker.isLTR() ? TextHitInfo.trailing(-1) : TextHitInfo.leading(breaker.getCharCount());
  }
 else {
    return breaker.isLTR() ? TextHitInfo.leading(breaker.getCharCount()) : TextHitInfo.trailing(-1);
  }
}
