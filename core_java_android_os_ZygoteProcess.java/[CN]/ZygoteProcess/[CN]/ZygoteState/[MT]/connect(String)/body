{
  DataInputStream zygoteInputStream=null;
  BufferedWriter zygoteWriter=null;
  final LocalSocket zygoteSocket=new LocalSocket();
  try {
    zygoteSocket.connect(new LocalSocketAddress(socketAddress,LocalSocketAddress.Namespace.RESERVED));
    zygoteInputStream=new DataInputStream(zygoteSocket.getInputStream());
    zygoteWriter=new BufferedWriter(new OutputStreamWriter(zygoteSocket.getOutputStream()),256);
  }
 catch (  IOException ex) {
    try {
      zygoteSocket.close();
    }
 catch (    IOException ignore) {
    }
    throw ex;
  }
  String abiListString=getAbiList(zygoteWriter,zygoteInputStream);
  Log.i("Zygote","Process: zygote socket " + socketAddress + " opened, supported ABIS: "+ abiListString);
  return new ZygoteState(zygoteSocket,zygoteInputStream,zygoteWriter,Arrays.asList(abiListString.split(",")));
}
