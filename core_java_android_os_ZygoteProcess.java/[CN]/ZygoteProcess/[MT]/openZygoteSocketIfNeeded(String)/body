{
  Preconditions.checkState(Thread.holdsLock(mLock),"ZygoteProcess lock not held");
  if (primaryZygoteState == null || primaryZygoteState.isClosed()) {
    try {
      primaryZygoteState=ZygoteState.connect(mSocket);
    }
 catch (    IOException ioe) {
      throw new ZygoteStartFailedEx("Error connecting to primary zygote",ioe);
    }
  }
  if (primaryZygoteState.matches(abi)) {
    return primaryZygoteState;
  }
  if (secondaryZygoteState == null || secondaryZygoteState.isClosed()) {
    try {
      secondaryZygoteState=ZygoteState.connect(mSecondarySocket);
    }
 catch (    IOException ioe) {
      throw new ZygoteStartFailedEx("Error connecting to secondary zygote",ioe);
    }
  }
  if (secondaryZygoteState.matches(abi)) {
    return secondaryZygoteState;
  }
  throw new ZygoteStartFailedEx("Unsupported zygote ABI: " + abi);
}
