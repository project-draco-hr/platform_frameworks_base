{
  ComponentName componentName=new ComponentName(resolveInfo.serviceInfo.packageName,resolveInfo.serviceInfo.name);
  String id;
  int type;
  boolean isHardwareInput=false;
  boolean isConnectedToHdmiSwitch=false;
  if (hdmiDeviceInfo != null) {
    id=generateInputIdForHdmiDevice(componentName,hdmiDeviceInfo);
    type=TYPE_HDMI;
    isHardwareInput=true;
    isConnectedToHdmiSwitch=(hdmiDeviceInfo.getPhysicalAddress() & 0x0FFF) != 0;
    tunerCount=0;
  }
 else   if (tvInputHardwareInfo != null) {
    id=generateInputIdForHardware(componentName,tvInputHardwareInfo);
    type=sHardwareTypeToTvInputType.get(tvInputHardwareInfo.getType(),TYPE_TUNER);
    isHardwareInput=true;
    tunerCount=0;
  }
 else {
    id=generateInputIdForComponentName(componentName);
    type=TYPE_TUNER;
  }
  TvInputInfo info=new TvInputInfo(resolveInfo,id,parentId,type,isHardwareInput,isConnectedToHdmiSwitch,tunerCount,canRecord);
  return parseServiceMetadata(context,resolveInfo,type,info);
}
