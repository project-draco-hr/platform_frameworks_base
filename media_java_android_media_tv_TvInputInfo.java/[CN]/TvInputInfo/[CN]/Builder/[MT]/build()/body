{
  ComponentName componentName=new ComponentName(mResolveInfo.serviceInfo.packageName,mResolveInfo.serviceInfo.name);
  String id;
  int type;
  boolean isHardwareInput=false;
  boolean isConnectedToHdmiSwitch=false;
  if (mHdmiDeviceInfo != null) {
    id=generateInputId(componentName,mHdmiDeviceInfo);
    type=TYPE_HDMI;
    isHardwareInput=true;
    isConnectedToHdmiSwitch=(mHdmiDeviceInfo.getPhysicalAddress() & 0x0FFF) != 0;
    mTunerCount=0;
  }
 else   if (mTvInputHardwareInfo != null) {
    id=generateInputId(componentName,mTvInputHardwareInfo);
    type=sHardwareTypeToTvInputType.get(mTvInputHardwareInfo.getType(),TYPE_TUNER);
    isHardwareInput=true;
    mTunerCount=0;
  }
 else {
    id=generateInputId(componentName);
    type=TYPE_TUNER;
  }
  TvInputInfo info=new TvInputInfo(mResolveInfo,id,mParentId,type,isHardwareInput,isConnectedToHdmiSwitch,mTunerCount,mCanRecord);
  return parseServiceMetadata(type,info);
}
