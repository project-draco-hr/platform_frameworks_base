{
  ComponentName componentName=new ComponentName(mResolveInfo.serviceInfo.packageName,mResolveInfo.serviceInfo.name);
  String id;
  int type;
  boolean isHardwareInput=false;
  boolean isConnectedToHdmiSwitch=false;
  if (mHdmiDeviceInfo != null) {
    id=generateInputId(componentName,mHdmiDeviceInfo);
    type=TYPE_HDMI;
    isHardwareInput=true;
    isConnectedToHdmiSwitch=(mHdmiDeviceInfo.getPhysicalAddress() & 0x0FFF) != 0;
  }
 else   if (mTvInputHardwareInfo != null) {
    id=generateInputId(componentName,mTvInputHardwareInfo);
    type=sHardwareTypeToTvInputType.get(mTvInputHardwareInfo.getType(),TYPE_TUNER);
    isHardwareInput=true;
  }
 else {
    id=generateInputId(componentName);
    type=TYPE_TUNER;
  }
  parseServiceMetadata(type);
  return new TvInputInfo(mResolveInfo,id,type,isHardwareInput,mLabel,mLabelResId,mIcon,mIconStandby,mIconDisconnected,mSetupActivity,mSettingsActivity,mCanRecord == null ? false : mCanRecord,mTunerCount == null ? 0 : mTunerCount,mHdmiDeviceInfo,isConnectedToHdmiSwitch,mParentId,mExtras);
}
