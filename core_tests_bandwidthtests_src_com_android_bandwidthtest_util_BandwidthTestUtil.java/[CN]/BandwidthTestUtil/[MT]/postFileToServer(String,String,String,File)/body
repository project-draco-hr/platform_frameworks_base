{
  try {
    HttpClient httpClient=new DefaultHttpClient();
    HttpPost postRequest=new HttpPost(postUrl);
    Part[] parts={new StringPart("device_id",deviceId),new StringPart("timestamp",timestamp),new FilePart("file",file)};
    MultipartEntity reqEntity=new MultipartEntity(parts,postRequest.getParams());
    postRequest.setEntity(reqEntity);
    HttpResponse res=httpClient.execute(postRequest);
    res.getEntity().getContent().close();
  }
 catch (  IOException e) {
    Log.e(LOG_TAG,"Could not upload file with error: " + e);
    return false;
  }
  return true;
}
