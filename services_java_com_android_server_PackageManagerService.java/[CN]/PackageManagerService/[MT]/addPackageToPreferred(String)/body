{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.SET_PREFERRED_APPLICATIONS,null);
synchronized (mPackages) {
    PackageParser.Package p=mPackages.get(packageName);
    if (p == null) {
      return;
    }
    PackageSetting ps=(PackageSetting)p.mExtras;
    if (ps != null) {
      mSettings.mPreferredPackages.remove(ps);
      mSettings.mPreferredPackages.add(0,ps);
      updatePreferredIndicesLP();
      mSettings.writeLP();
    }
  }
}
