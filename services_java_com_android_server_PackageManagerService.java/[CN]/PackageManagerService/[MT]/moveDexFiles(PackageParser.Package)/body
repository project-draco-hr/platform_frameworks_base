{
  int retCode;
  if ((newPackage.applicationInfo.flags & ApplicationInfo.FLAG_HAS_CODE) != 0) {
    retCode=mInstaller.movedex(newPackage.mScanPath,newPackage.mPath);
    if (retCode != 0) {
      Slog.e(TAG,"Couldn't rename dex file: " + newPackage.mPath);
      return PackageManager.INSTALL_FAILED_INSUFFICIENT_STORAGE;
    }
  }
  return PackageManager.INSTALL_SUCCEEDED;
}
