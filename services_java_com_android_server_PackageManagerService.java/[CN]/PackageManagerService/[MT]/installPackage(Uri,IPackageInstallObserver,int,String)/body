{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.INSTALL_PACKAGES,null);
  mHandler.post(new Runnable(){
    public void run(){
      mHandler.removeCallbacks(this);
      PackageInstalledInfo res=new PackageInstalledInfo();
      res.returnCode=PackageManager.INSTALL_SUCCEEDED;
      res.uid=-1;
      res.pkg=null;
      res.removedInfo=new PackageRemovedInfo();
      File tmpPackageFile=copyTempInstallFile(packageURI,res);
      if (tmpPackageFile != null) {
synchronized (mInstallLock) {
          installPackageLI(packageURI,flags,true,installerPackageName,tmpPackageFile,res);
        }
      }
      if (observer != null) {
        try {
          observer.packageInstalled(res.name,res.returnCode);
        }
 catch (        RemoteException e) {
          Log.i(TAG,"Observer no longer exists.");
        }
      }
      if (res.returnCode == PackageManager.INSTALL_SUCCEEDED) {
        res.removedInfo.sendBroadcast(false,true);
        Bundle extras=new Bundle(1);
        extras.putInt(Intent.EXTRA_UID,res.uid);
        final boolean update=res.removedInfo.removedPackage != null;
        if (update) {
          extras.putBoolean(Intent.EXTRA_REPLACING,true);
        }
        sendPackageBroadcast(Intent.ACTION_PACKAGE_ADDED,res.pkg.applicationInfo.packageName,extras);
        if (update) {
          sendPackageBroadcast(Intent.ACTION_PACKAGE_REPLACED,res.pkg.applicationInfo.packageName,extras);
        }
      }
      Runtime.getRuntime().gc();
    }
  }
);
}
