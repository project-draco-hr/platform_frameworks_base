{
  ApplicationInfo applicationInfo=p.applicationInfo;
  if (applicationInfo == null) {
    Log.w(TAG,"Package " + p.packageName + " has no applicationInfo.");
    return false;
  }
  if (outInfo != null) {
    outInfo.uid=applicationInfo.uid;
  }
  removePackageDataLI(p,outInfo,flags);
  if (deleteCodeAndResources) {
    deletePackageResourcesLI(applicationInfo.packageName,applicationInfo.sourceDir,applicationInfo.publicSourceDir);
  }
  return true;
}
