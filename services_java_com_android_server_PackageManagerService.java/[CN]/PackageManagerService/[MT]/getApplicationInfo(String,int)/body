{
synchronized (mPackages) {
    PackageParser.Package p=mPackages.get(packageName);
    if (Config.LOGV)     Log.v(TAG,"getApplicationInfo " + packageName + ": "+ p);
    if (p != null) {
      ApplicationInfo appInfo=PackageParser.generateApplicationInfo(p,flags);
      if (!mCompatibilityModeEnabled) {
        appInfo.disableCompatibilityMode();
      }
      return appInfo;
    }
    if ("android".equals(packageName) || "system".equals(packageName)) {
      return mAndroidApplication;
    }
    if ((flags & PackageManager.GET_UNINSTALLED_PACKAGES) != 0) {
      return generateApplicationInfoFromSettingsLP(packageName,flags);
    }
  }
  return null;
}
