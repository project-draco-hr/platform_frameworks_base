{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.SET_PREFERRED_APPLICATIONS,null);
synchronized (mPackages) {
    Log.i(TAG,"Adding preferred activity " + activity + ":");
    filter.dump(new LogPrinter(Log.INFO,TAG),"  ");
    mSettings.mPreferredActivities.addFilter(new PreferredActivity(filter,match,set,activity));
    mSettings.writeLP();
  }
}
