{
synchronized (mPackages) {
    int uid=Binder.getCallingUid();
    PackageParser.Package pkg=mPackages.get(packageName);
    if (pkg.applicationInfo.uid != uid) {
      mContext.enforceCallingOrSelfPermission(android.Manifest.permission.SET_PREFERRED_APPLICATIONS,null);
    }
    if (clearPackagePreferredActivitiesLP(packageName)) {
      mSettings.writeLP();
    }
  }
}
