{
  File libraryDir=new File(Environment.getRootDirectory(),"etc/permissions");
  if (!libraryDir.exists() || !libraryDir.isDirectory()) {
    Log.w(TAG,"No directory " + libraryDir + ", skipping");
    return;
  }
  if (!libraryDir.canRead()) {
    Log.w(TAG,"Directory " + libraryDir + " cannot be read");
    return;
  }
  for (  File f : libraryDir.listFiles()) {
    if (f.getPath().endsWith("etc/permissions/platform.xml")) {
      continue;
    }
    if (!f.getPath().endsWith(".xml")) {
      Log.i(TAG,"Non-xml file " + f + " in "+ libraryDir+ " directory, ignoring");
      continue;
    }
    if (!f.canRead()) {
      Log.w(TAG,"Permissions library file " + f + " cannot be read");
      continue;
    }
    readPermissionsFromXml(f);
  }
  final File permFile=new File(Environment.getRootDirectory(),"etc/permissions/platform.xml");
  readPermissionsFromXml(permFile);
}
