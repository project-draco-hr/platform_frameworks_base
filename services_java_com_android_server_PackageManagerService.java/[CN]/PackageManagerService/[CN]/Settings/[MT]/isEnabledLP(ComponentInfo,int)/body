{
  final PackageSetting packageSettings=mPackages.get(componentInfo.packageName);
  if (Config.LOGV) {
    Log.v(TAG,"isEnabledLock - packageName = " + componentInfo.packageName + " componentName = "+ componentInfo.name);
    Log.v(TAG,"enabledComponents: " + Arrays.toString(packageSettings.enabledComponents.toArray()));
    Log.v(TAG,"disabledComponents: " + Arrays.toString(packageSettings.disabledComponents.toArray()));
  }
  return ((flags & PackageManager.GET_DISABLED_COMPONENTS) != 0) || ((componentInfo.enabled && ((packageSettings.enabled == COMPONENT_ENABLED_STATE_ENABLED) || (componentInfo.applicationInfo.enabled && packageSettings.enabled != COMPONENT_ENABLED_STATE_DISABLED)) && !packageSettings.disabledComponents.contains(componentInfo.name)) || packageSettings.enabledComponents.contains(componentInfo.name));
}
