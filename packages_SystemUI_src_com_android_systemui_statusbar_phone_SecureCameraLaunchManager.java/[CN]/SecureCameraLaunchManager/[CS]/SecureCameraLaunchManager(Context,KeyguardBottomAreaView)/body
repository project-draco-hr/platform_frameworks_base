{
  mContext=context;
  mHandler=new Handler();
  mLockPatternUtils=new LockPatternUtils(context);
  mKeyguardBottomArea=keyguardBottomArea;
  mCameraManager=(CameraManager)context.getSystemService(Context.CAMERA_SERVICE);
  mCameraAvailabilityListener=new CameraAvailabilityListener();
  mCameraAvailabilityMap=new HashMap<String,Boolean>();
  mWaitingToLaunchSecureCamera=false;
  mLaunchCameraRunnable=new Runnable(){
    @Override public void run(){
      if (mWaitingToLaunchSecureCamera) {
        Log.w(TAG,"Timeout waiting for camera availability");
        mKeyguardBottomArea.launchCamera();
        mWaitingToLaunchSecureCamera=false;
      }
    }
  }
;
}
