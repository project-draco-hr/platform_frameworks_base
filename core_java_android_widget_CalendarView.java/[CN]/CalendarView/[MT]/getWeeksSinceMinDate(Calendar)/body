{
  if (date.before(mMinDate)) {
    throw new IllegalArgumentException("fromDate: " + mMinDate.getTime() + " does not precede toDate: "+ date.getTime());
  }
  int fromDateDayOfWeek=mMinDate.get(Calendar.DAY_OF_WEEK);
  long diff=(fromDateDayOfWeek - mFirstDayOfWeek) * MILLIS_IN_DAY;
  long refDay=mMinDate.getTimeInMillis() - diff;
  return (int)((date.getTimeInMillis() - refDay) / MILLIS_IN_WEEK);
}
