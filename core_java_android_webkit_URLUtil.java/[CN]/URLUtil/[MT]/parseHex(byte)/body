{
  if (b >= '0' && b <= '9')   return (b - '0');
  if (b >= 'A' && b <= 'F')   return (b - 'A' + 10);
  if (b >= 'a' && b <= 'f')   return (b - 'a' + 10);
  throw new IllegalArgumentException("Invalid hex char '" + b + "'");
}
