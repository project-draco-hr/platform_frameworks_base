{
  final int year=mCurrentDate.get(Calendar.YEAR);
  final int month=mCurrentDate.get(Calendar.MONTH);
  final int day=mCurrentDate.get(Calendar.DAY_OF_MONTH);
  int listPosition=-1;
  int listPositionOffset=-1;
  if (mCurrentView == MONTH_AND_DAY_VIEW) {
    listPosition=mDayPickerView.getMostVisiblePosition();
  }
 else   if (mCurrentView == YEAR_VIEW) {
    listPosition=mYearPickerView.getFirstVisiblePosition();
    listPositionOffset=mYearPickerView.getFirstPositionOffset();
  }
  return new SavedState(superState,year,month,day,mMinDate.getTimeInMillis(),mMaxDate.getTimeInMillis(),mCurrentView,listPosition,listPositionOffset);
}
