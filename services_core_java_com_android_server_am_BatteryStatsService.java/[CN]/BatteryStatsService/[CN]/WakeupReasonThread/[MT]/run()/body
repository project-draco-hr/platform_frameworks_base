{
  Process.setThreadPriority(Process.THREAD_PRIORITY_FOREGROUND);
  mDecoder=StandardCharsets.UTF_8.newDecoder().onMalformedInput(CodingErrorAction.REPLACE).onUnmappableCharacter(CodingErrorAction.REPLACE).replaceWith("?");
  mUtf8Buffer=ByteBuffer.allocateDirect(MAX_REASON_SIZE);
  mUtf16Buffer=CharBuffer.allocate(MAX_REASON_SIZE);
  try {
    String reason;
    while ((reason=waitWakeup()) != null) {
synchronized (mStats) {
        mStats.noteWakeupReasonLocked(reason);
      }
    }
  }
 catch (  RuntimeException e) {
    Slog.e(TAG,"Failure reading wakeup reasons",e);
  }
}
