{
  enforceCallingPermission();
synchronized (mStats) {
    if (mStats.isOnBattery()) {
      final String type=(powerState == DataConnectionRealTimeInfo.DC_POWER_STATE_HIGH || powerState == DataConnectionRealTimeInfo.DC_POWER_STATE_MEDIUM) ? "active" : "inactive";
      mHandler.scheduleWifiSync("wifi-data: " + type);
    }
    mStats.noteWifiRadioPowerState(powerState,tsNanos);
  }
}
