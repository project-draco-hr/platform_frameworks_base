{
  if (accessory == null)   return;
synchronized (mLock) {
    ArrayList<AccessoryFilter> filterList=mAccessoryPermissionMap.get(Binder.getCallingUid());
    if (filterList != null) {
      int count=filterList.size();
      for (int i=0; i < count; i++) {
        AccessoryFilter filter=filterList.get(i);
        if (filter.equals(accessory)) {
          return;
        }
      }
    }
  }
  throw new SecurityException("User has not given permission to accessory " + accessory);
}
