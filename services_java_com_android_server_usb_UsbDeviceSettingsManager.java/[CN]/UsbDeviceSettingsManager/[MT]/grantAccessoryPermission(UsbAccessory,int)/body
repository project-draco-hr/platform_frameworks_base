{
synchronized (mLock) {
    ArrayList<AccessoryFilter> filterList=mAccessoryPermissionMap.get(uid);
    if (filterList == null) {
      filterList=new ArrayList<AccessoryFilter>();
      mAccessoryPermissionMap.put(uid,filterList);
    }
 else {
      int count=filterList.size();
      for (int i=0; i < count; i++) {
        if (filterList.get(i).equals(accessory))         return;
      }
    }
    filterList.add(new AccessoryFilter(accessory));
    writeSettingsLocked();
  }
}
