{
  int count=0;
  for (int i=0; i < mResourceData.length; i++) {
    ResourceValue data=mResourceData[i];
    if (data != null) {
      if (RenderResources.REFERENCE_NULL.equals(data.getValue())) {
        mResourceData[i]=null;
      }
 else {
        count++;
      }
    }
  }
  mIndices=new int[count + 1];
  mIndices[0]=count;
  int index=1;
  for (int i=0; i < mResourceData.length; i++) {
    if (mResourceData[i] != null) {
      mIndices[index++]=i;
    }
  }
}
