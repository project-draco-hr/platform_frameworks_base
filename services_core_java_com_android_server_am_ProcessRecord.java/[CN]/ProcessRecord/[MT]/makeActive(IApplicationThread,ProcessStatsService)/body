{
  if (thread == null) {
    final ProcessStats.ProcessState origBase=baseProcessTracker;
    if (origBase != null) {
      origBase.setState(ProcessStats.STATE_NOTHING,tracker.getMemFactorLocked(),SystemClock.uptimeMillis(),pkgList);
      origBase.makeInactive();
    }
    baseProcessTracker=tracker.getProcessStateLocked(info.packageName,info.uid,info.versionCode,processName);
    baseProcessTracker.makeActive();
    for (int i=0; i < pkgList.size(); i++) {
      ProcessStats.ProcessState ps=pkgList.valueAt(i);
      if (ps != null && ps != origBase) {
        ps.makeInactive();
      }
      ps=tracker.getProcessStateLocked(pkgList.keyAt(i),info.uid,info.versionCode,processName);
      if (ps != baseProcessTracker) {
        ps.makeActive();
      }
      pkgList.setValueAt(i,ps);
    }
  }
  thread=_thread;
}
