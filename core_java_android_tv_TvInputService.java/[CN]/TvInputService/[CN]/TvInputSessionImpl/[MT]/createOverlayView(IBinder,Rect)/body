{
  if (mOverlayView != null) {
    mWindowManager.removeView(mOverlayView);
    mOverlayView=null;
  }
  if (DEBUG) {
    Log.d(TAG,"create overlay view(" + frame + ")");
  }
  mWindowToken=windowToken;
  mOverlayFrame=frame;
  if (!mOverlayViewEnabled) {
    return;
  }
  mOverlayView=onCreateOverlayView();
  if (mOverlayView == null) {
    return;
  }
  int type=WindowManager.LayoutParams.TYPE_APPLICATION_MEDIA_OVERLAY;
  int flag=WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE | WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN | WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE;
  mWindowParams=new WindowManager.LayoutParams(frame.right - frame.left,frame.bottom - frame.top,frame.left,frame.top,type,flag,PixelFormat.TRANSPARENT);
  mWindowParams.privateFlags|=WindowManager.LayoutParams.PRIVATE_FLAG_NO_MOVE_ANIMATION;
  mWindowParams.gravity=Gravity.START | Gravity.TOP;
  mWindowParams.token=windowToken;
  mWindowManager.addView(mOverlayView,mWindowParams);
}
