{
  if (getOverallState() == State.CONNECTED) {
    startNetStatPoll();
    notifyDataConnection(Phone.REASON_GPRS_ATTACHED);
  }
 else {
    ApnContext defaultApnContext=mApnContexts.get(Phone.APN_TYPE_DEFAULT);
    if (defaultApnContext != null) {
      if (defaultApnContext.getState() == State.FAILED) {
        cleanUpConnection(false,defaultApnContext);
        if (defaultApnContext.getDataConnection() != null) {
          defaultApnContext.getDataConnection().resetRetryCount();
        }
      }
      trySetupData(Phone.REASON_GPRS_ATTACHED,Phone.APN_TYPE_DEFAULT);
    }
  }
}
