{
  ArrayList<DataCallState> dataCallStates;
  dataCallStates=(ArrayList<DataCallState>)(ar.result);
  if (ar.exception != null) {
    return;
  }
  if (mState == State.CONNECTED) {
    if (!dataCallStatesHasCID(dataCallStates,mCidActive)) {
      log("PDP connection has dropped. Reconnecting");
      GsmCellLocation loc=((GsmCellLocation)mPhone.getCellLocation());
      EventLog.writeEvent(EventLogTags.PDP_NETWORK_DROP,loc != null ? loc.getCid() : -1,TelephonyManager.getDefault().getNetworkType());
      cleanUpConnection(true,null);
      return;
    }
 else     if (!dataCallStatesHasActiveCID(dataCallStates,mCidActive)) {
      if (!explicitPoll) {
        mPhone.mCM.getPDPContextList(this.obtainMessage(EVENT_GET_PDP_LIST_COMPLETE));
      }
 else {
        log("PDP connection has dropped (active=false case). " + " Reconnecting");
        GsmCellLocation loc=((GsmCellLocation)mPhone.getCellLocation());
        EventLog.writeEvent(EventLogTags.PDP_NETWORK_DROP,loc != null ? loc.getCid() : -1,TelephonyManager.getDefault().getNetworkType());
        cleanUpConnection(true,null);
      }
    }
  }
}
