{
  if (mDataStallAlarmTag != tag) {
    if (DBG) {
      log("onDataStallAlarm: ignore, tag=" + tag + " expecting "+ mDataStallAlarmTag);
    }
    return;
  }
  updateDataStallInfo();
  int hangWatchdogTrigger=Settings.Secure.getInt(mResolver,Settings.Secure.PDP_WATCHDOG_TRIGGER_PACKET_COUNT,NUMBER_SENT_PACKETS_OF_HANG);
  boolean suspectedStall=DATA_STALL_NOT_SUSPECTED;
  if (mSentSinceLastRecv >= hangWatchdogTrigger) {
    if (DBG) {
      log("onDataStallAlarm: tag=" + tag + " do recovery action="+ getRecoveryAction());
    }
    suspectedStall=DATA_STALL_SUSPECTED;
    sendMessage(obtainMessage(EVENT_DO_RECOVERY));
  }
 else {
    if (VDBG) {
      log("onDataStallAlarm: tag=" + tag + " Sent "+ String.valueOf(mSentSinceLastRecv)+ " pkts since last received, < watchdogTrigger="+ hangWatchdogTrigger);
    }
  }
  startDataStallAlarm(suspectedStall);
}
