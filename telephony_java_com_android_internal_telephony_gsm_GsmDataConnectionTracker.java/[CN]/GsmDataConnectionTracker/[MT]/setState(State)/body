{
  if (DBG)   log("setState: " + s);
  if (state != s) {
    EventLog.writeEvent(EventLogTags.GSM_DATA_STATE_CHANGE,state.toString(),s.toString());
    state=s;
  }
  if (state == State.FAILED) {
    if (waitingApns != null)     waitingApns.clear();
  }
}
