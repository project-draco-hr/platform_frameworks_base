{
  if (state == State.CONNECTED) {
    int maxPdpReset=Settings.Gservices.getInt(mResolver,Settings.Gservices.PDP_WATCHDOG_MAX_PDP_RESET_FAIL_COUNT,DEFAULT_MAX_PDP_RESET_FAIL);
    if (mPdpResetCount < maxPdpReset) {
      mPdpResetCount++;
      EventLog.writeEvent(TelephonyEventLog.EVENT_LOG_PDP_RESET,sentSinceLastRecv);
      cleanUpConnection(true,Phone.REASON_PDP_RESET);
    }
 else {
      mPdpResetCount=0;
      EventLog.writeEvent(TelephonyEventLog.EVENT_LOG_REREGISTER_NETWORK,sentSinceLastRecv);
      ((GSMPhone)phone).mSST.reRegisterNetwork(null);
    }
  }
}
