{
  if (isConnected()) {
    if (!mPhone.getServiceStateTracker().isConcurrentVoiceAndDataAllowed()) {
      startNetStatPoll();
      notifyDataConnection(Phone.REASON_VOICE_CALL_ENDED);
    }
 else {
      resetPollStats();
    }
  }
 else {
    ApnContext defaultApnContext=mApnContexts.get(Phone.APN_TYPE_DEFAULT);
    defaultApnContext.getDataConnection().resetRetryCount();
    mReregisterOnReconnectFailure=false;
    trySetupData(Phone.REASON_VOICE_CALL_ENDED,Phone.APN_TYPE_DEFAULT);
  }
}
