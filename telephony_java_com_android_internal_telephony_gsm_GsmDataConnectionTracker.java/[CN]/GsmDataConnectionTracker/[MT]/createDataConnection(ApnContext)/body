{
  String apnType=apnContext.getApnType();
  log("createDataConnection(" + apnType + ") E");
  RetryManager rm=new RetryManager();
  if (apnType.equals(Phone.APN_TYPE_DEFAULT)) {
    if (!rm.configure(SystemProperties.get("ro.gsm.data_retry_config"))) {
      if (!rm.configure(DEFAULT_DATA_RETRY_CONFIG)) {
        log("Could not configure using DEFAULT_DATA_RETRY_CONFIG=" + DEFAULT_DATA_RETRY_CONFIG);
        rm.configure(20,2000,1000);
      }
    }
  }
 else {
    if (!rm.configure(SystemProperties.get("ro.gsm.2nd_data_retry_config"))) {
      if (!rm.configure(SECONDARY_DATA_RETRY_CONFIG)) {
        log("Could note configure using SECONDARY_DATA_RETRY_CONFIG=" + SECONDARY_DATA_RETRY_CONFIG);
        rm.configure("max_retries=3, 333, 333, 333");
      }
    }
  }
  int id=mUniqueIdGenerator.getAndIncrement();
  GsmDataConnection conn=GsmDataConnection.makeDataConnection(mPhone,id,rm);
  conn.resetRetryCount();
  mDataConnections.put(id,conn);
  apnContext.setDataConnection(conn);
  log("createDataConnection(" + apnType + ") X id="+ id);
  return conn;
}
