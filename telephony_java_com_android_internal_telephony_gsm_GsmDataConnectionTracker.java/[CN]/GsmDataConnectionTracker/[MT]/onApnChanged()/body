{
  boolean isConnected;
  isConnected=(mState != State.IDLE && mState != State.FAILED);
  mGsmPhone.updateCurrentCarrierInProvider();
  createAllApnList();
  if (mState != State.DISCONNECTING) {
    cleanUpConnection(isConnected,Phone.REASON_APN_CHANGED);
    if (!isConnected) {
      mRetryMgr.resetRetryCount();
      mReregisterOnReconnectFailure=false;
      trySetupData(Phone.REASON_APN_CHANGED);
    }
  }
}
