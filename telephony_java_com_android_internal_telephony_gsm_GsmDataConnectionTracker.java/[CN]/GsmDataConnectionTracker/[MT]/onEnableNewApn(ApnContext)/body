{
  log("onEnableNewApn with ApnContext E");
  if (apnContext.getApnType().equals(Phone.APN_TYPE_DEFAULT)) {
    log("onEnableNewApn default type");
    ApnContext defaultApnContext=mApnContexts.get(Phone.APN_TYPE_DEFAULT);
    mRetryMgr=defaultApnContext.getDataConnection().getRetryMgr();
    mRetryMgr.resetRetryCount();
  }
 else   if (mApnToDataConnectionId.get(apnContext.getApnType()) == null) {
    log("onEnableNewApn ApnType=" + apnContext.getApnType() + " missing, make a new connection");
    int id=createDataConnection(apnContext.getApnType());
    mRetryMgr=mDataConnections.get(id).getRetryMgr();
    mRetryMgr.resetRetryCount();
  }
 else {
    log("oneEnableNewApn connection already exists, nothing to setup");
  }
  if (DBG)   log("onEnableNewApn setup data");
  if (apnContext.getState() == State.FAILED) {
    if (DBG)     log("previous state is FAILED, reset to IDLE");
    apnContext.setState(State.IDLE);
  }
  trySetupData(apnContext);
  log("onEnableNewApn with ApnContext X");
}
