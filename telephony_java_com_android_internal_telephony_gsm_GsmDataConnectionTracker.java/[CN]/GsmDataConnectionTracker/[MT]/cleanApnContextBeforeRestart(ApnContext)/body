{
  if (apnContext == null)   return true;
  if (apnContext.getReconnectIntent() != null) {
    AlarmManager am=(AlarmManager)mPhone.getContext().getSystemService(Context.ALARM_SERVICE);
    am.cancel(apnContext.getReconnectIntent());
    apnContext.setReconnectIntent(null);
  }
  if (apnContext.getState() == State.IDLE || apnContext.getState() == State.DISCONNECTING) {
    if (DBG)     log("cleanUpConnection: state= " + apnContext.getState());
    return true;
  }
  if (apnContext.getState() == State.FAILED) {
    apnContext.setState(State.IDLE);
    return true;
  }
  return false;
}
