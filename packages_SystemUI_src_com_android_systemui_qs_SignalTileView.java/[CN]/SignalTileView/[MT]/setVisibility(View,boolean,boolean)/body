{
  final float newAlpha=shown && visible ? 1 : 0;
  if (view.getAlpha() == newAlpha)   return;
  if (shown) {
    view.animate().setDuration(visible ? SHORT_DURATION : DEFAULT_DURATION).alpha(newAlpha).start();
  }
 else {
    view.setAlpha(newAlpha);
  }
}
