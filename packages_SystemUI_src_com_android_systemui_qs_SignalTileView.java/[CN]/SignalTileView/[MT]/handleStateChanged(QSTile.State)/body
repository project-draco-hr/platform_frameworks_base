{
  super.handleStateChanged(state);
  final SignalState s=(SignalState)state;
  mSignal.setImageDrawable(null);
  mSignal.setImageResource(s.iconId);
  mSignal.setColorFilter(s.filter ? FILTER : null);
  if (s.overlayIconId > 0) {
    mOverlay.setVisibility(VISIBLE);
    mOverlay.setImageDrawable(null);
    mOverlay.setImageResource(s.overlayIconId);
    mOverlay.setColorFilter(s.filter ? FILTER : null);
  }
 else {
    mOverlay.setVisibility(GONE);
  }
  final boolean shown=isShown();
  setVisibility(mIn,shown,s.activityIn);
  setVisibility(mOut,shown,s.activityOut);
}
