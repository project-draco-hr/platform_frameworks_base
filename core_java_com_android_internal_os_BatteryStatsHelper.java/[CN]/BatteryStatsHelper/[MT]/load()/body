{
  if (mBatteryInfo == null) {
    return;
  }
  try {
    byte[] data=mBatteryInfo.getStatistics();
    Parcel parcel=Parcel.obtain();
    parcel.unmarshall(data,0,data.length);
    parcel.setDataPosition(0);
    BatteryStatsImpl stats=com.android.internal.os.BatteryStatsImpl.CREATOR.createFromParcel(parcel);
    stats.distributeWorkLocked(BatteryStats.STATS_SINCE_CHARGED);
    mStats=stats;
  }
 catch (  RemoteException e) {
    Log.e(TAG,"RemoteException:",e);
  }
  if (mCollectBatteryBroadcast) {
    mBatteryBroadcast=mContext.registerReceiver(null,new IntentFilter(Intent.ACTION_BATTERY_CHANGED));
  }
}
