{
  log("testGetAs E");
  MsgHeader mh=new MsgHeader();
  mh.setCmd(12345);
  mh.setToken(9876);
  mh.setStatus(7654);
  mh.setLengthData(4321);
  byte[] data=mh.toByteArray();
  MsgHeader mhResult=Msg.getAs(MsgHeader.class,data);
  assertTrue(String.format("expected cmd == 12345 was %d",mhResult.getCmd()),mhResult.getCmd() == 12345);
  assertTrue(String.format("expected token == 9876 was %d",mhResult.getToken()),mhResult.getToken() == 9876);
  assertTrue(String.format("expected status == 7654 was %d",mhResult.getStatus()),mhResult.getStatus() == 7654);
  assertTrue(String.format("expected lengthData == 4321 was %d",mhResult.getLengthData()),mhResult.getLengthData() == 4321);
  Msg msg=Msg.obtain();
  msg.setData(ByteBuffer.wrap(data));
  mhResult=msg.getDataAs(MsgHeader.class);
  assertTrue(String.format("expected cmd == 12345 was %d",mhResult.getCmd()),mhResult.getCmd() == 12345);
  assertTrue(String.format("expected token == 9876 was %d",mhResult.getToken()),mhResult.getToken() == 9876);
  assertTrue(String.format("expected status == 7654 was %d",mhResult.getStatus()),mhResult.getStatus() == 7654);
  assertTrue(String.format("expected lengthData == 4321 was %d",mhResult.getLengthData()),mhResult.getLengthData() == 4321);
  log("testGetAs X");
}
