{
  if (!isAudioPlaybackModeSupported(audioMode)) {
    final String msg="Audio playback mode " + audioMode + " is not supported";
    throw new IllegalArgumentException(msg);
  }
  int status=AudioTrack.SUCCESS;
  if (mAudioTrack != null) {
    int playbackSampleRate=(int)(rate * mNativeSampleRateInHz + 0.5);
    rate=playbackSampleRate / (float)mNativeSampleRateInHz;
    try {
      if (rate == 0.0) {
        mAudioTrack.pause();
      }
 else {
        status=mAudioTrack.setPlaybackRate(playbackSampleRate);
        mAudioTrack.play();
      }
    }
 catch (    IllegalStateException e) {
      throw e;
    }
  }
  if (status != AudioTrack.SUCCESS) {
    throw new IllegalArgumentException("Fail to set playback rate in audio track");
  }
synchronized (mAudioLock) {
    mPlaybackRate=rate;
  }
  if (mPlaybackRate != 0.0 && mAudioThread != null) {
    postRenderAudio(0);
  }
  native_setPlaybackRate(mPlaybackRate);
}
