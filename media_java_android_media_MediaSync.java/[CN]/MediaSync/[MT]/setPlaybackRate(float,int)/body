{
  PlaybackParams rateParams=new PlaybackParams();
  rateParams.allowDefaults();
switch (audioMode) {
case PLAYBACK_RATE_AUDIO_MODE_DEFAULT:
    rateParams.setSpeed(rate).setPitch(1.0f);
  break;
case PLAYBACK_RATE_AUDIO_MODE_STRETCH:
rateParams.setSpeed(rate).setPitch(1.0f).setAudioFallbackMode(rateParams.AUDIO_FALLBACK_MODE_FAIL);
break;
case PLAYBACK_RATE_AUDIO_MODE_RESAMPLE:
rateParams.setSpeed(rate).setPitch(rate);
break;
default :
{
final String msg="Audio playback mode " + audioMode + " is not supported";
throw new IllegalArgumentException(msg);
}
}
setPlaybackParams(rateParams);
}
