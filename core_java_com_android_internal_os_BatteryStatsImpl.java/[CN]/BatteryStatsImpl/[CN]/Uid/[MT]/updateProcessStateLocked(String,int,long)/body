{
  int procState;
  if (state <= ActivityManager.PROCESS_STATE_IMPORTANT_FOREGROUND) {
    procState=PROCESS_STATE_FOREGROUND;
  }
 else   if (state <= ActivityManager.PROCESS_STATE_RECEIVER) {
    procState=PROCESS_STATE_ACTIVE;
  }
 else {
    procState=PROCESS_STATE_RUNNING;
  }
  updateRealProcessStateLocked(procName,procState,elapsedRealtimeMs);
}
