{
  Proc proc=getProcessStatsLocked(procName);
  if (proc.mProcessState != procState) {
    boolean changed;
    if (procState < proc.mProcessState) {
      changed=mProcessState > procState;
    }
 else {
      changed=mProcessState == proc.mProcessState;
    }
    proc.mProcessState=procState;
    if (changed) {
      int uidProcState=PROCESS_STATE_NONE;
      for (int ip=mProcessStats.size() - 1; ip >= 0; ip--) {
        proc=mProcessStats.valueAt(ip);
        if (proc.mProcessState < uidProcState) {
          uidProcState=proc.mProcessState;
        }
      }
      updateUidProcessStateLocked(uidProcState,elapsedRealtimeMs);
    }
  }
}
