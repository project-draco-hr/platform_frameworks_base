{
  long realtime=SystemClock.elapsedRealtime() * 1000;
  long heldTime=stats.getBatteryUptimeLocked(realtime) - mUpdateTime;
  if (heldTime > 0) {
    mTotalTime+=(heldTime * 1000) / mCount;
  }
  mUpdateTime=stats.getBatteryUptimeLocked(realtime);
}
