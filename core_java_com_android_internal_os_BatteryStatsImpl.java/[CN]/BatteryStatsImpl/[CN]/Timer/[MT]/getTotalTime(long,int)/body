{
  long val;
  if (which == STATS_LAST) {
    val=mLastTotalTime;
  }
 else {
    val=computeRunTimeLocked(now);
    if (which == STATS_UNPLUGGED) {
      val-=mUnpluggedTotalTime;
    }
 else     if (which != STATS_TOTAL) {
      val-=mLoadedTotalTime;
    }
  }
  return val;
}
