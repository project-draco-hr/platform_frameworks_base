{
  final long uSecUptime=SystemClock.uptimeMillis() * 1000;
  final long uSecRealtime=SystemClock.elapsedRealtime() * 1000;
  final long batteryUptime=getBatteryUptimeLocked(uSecUptime);
  final long batteryRealtime=getBatteryRealtimeLocked(uSecRealtime);
  out.writeInt(MAGIC);
  out.writeInt(mStartCount);
  out.writeLong(mBatteryUptime);
  out.writeLong(mBatteryLastUptime);
  out.writeLong(mBatteryRealtime);
  out.writeLong(mBatteryLastRealtime);
  mScreenOnTimer.writeToParcel(out,batteryRealtime);
  mPhoneOnTimer.writeToParcel(out,batteryRealtime);
  out.writeLong(mUptime);
  out.writeLong(mUptimeStart);
  out.writeLong(mLastUptime);
  out.writeLong(mRealtime);
  out.writeLong(mRealtimeStart);
  out.writeLong(mLastRealtime);
  out.writeInt(mOnBattery ? 1 : 0);
  out.writeLong(batteryUptime);
  out.writeLong(mTrackBatteryUptimeStart);
  out.writeLong(batteryRealtime);
  out.writeLong(mTrackBatteryRealtimeStart);
  out.writeLong(mUnpluggedBatteryUptime);
  out.writeLong(mUnpluggedBatteryRealtime);
  out.writeLong(mLastWriteTime);
  int size=mUidStats.size();
  out.writeInt(size);
  for (int i=0; i < size; i++) {
    out.writeInt(mUidStats.keyAt(i));
    Uid uid=mUidStats.valueAt(i);
    uid.writeToParcelLocked(out,batteryRealtime);
  }
}
