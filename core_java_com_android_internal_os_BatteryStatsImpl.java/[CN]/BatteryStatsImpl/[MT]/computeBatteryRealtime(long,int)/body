{
switch (which) {
case STATS_SINCE_CHARGED:
    return mBatteryRealtime + getBatteryRealtimeLocked(curTime);
case STATS_LAST:
  return mBatteryLastRealtime;
case STATS_CURRENT:
return getBatteryRealtimeLocked(curTime);
case STATS_SINCE_UNPLUGGED:
return getBatteryRealtimeLocked(curTime) - mUnpluggedBatteryRealtime;
}
return 0;
}
