{
  uid=mapUid(uid);
  if (!mActiveEvents.updateState(HistoryItem.EVENT_PROC_FINISH,name,uid,0)) {
    return;
  }
  if (!mRecordAllHistory) {
    return;
  }
  final long elapsedRealtime=mClocks.elapsedRealtime();
  final long uptime=mClocks.uptimeMillis();
  addHistoryEventLocked(elapsedRealtime,uptime,HistoryItem.EVENT_PROC_FINISH,name,uid);
}
