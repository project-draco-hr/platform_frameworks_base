{
  if (!mScreenOn) {
    Log.w(TAG,"updateScreenOnTime without mScreenOn, ignored");
    return;
  }
  long now=SystemClock.elapsedRealtime();
  long elapsed=now - mLastScreenOnTimeMillis;
  if (mOnBattery) {
    mBatteryScreenOnTimeMillis+=elapsed;
  }
 else {
    mPluggedScreenOnTimeMillis+=elapsed;
  }
  if (screenOn) {
    mLastScreenOnTimeMillis=now;
  }
}
