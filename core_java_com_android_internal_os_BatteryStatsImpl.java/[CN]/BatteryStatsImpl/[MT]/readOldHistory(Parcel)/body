{
  mHistory=mHistoryEnd=mHistoryCache=null;
  long time;
  while (in.dataAvail() > 0 && (time=in.readLong()) >= 0) {
    HistoryItem rec=new HistoryItem(time,in);
    addHistoryRecordLocked(rec);
  }
}
