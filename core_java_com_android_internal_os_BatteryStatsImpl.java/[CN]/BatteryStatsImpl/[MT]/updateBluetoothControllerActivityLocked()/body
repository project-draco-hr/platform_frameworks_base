{
  BluetoothAdapter adapter=BluetoothAdapter.getDefaultAdapter();
  if (adapter == null) {
    return;
  }
  BluetoothActivityEnergyInfo info=adapter.getControllerActivityEnergyInfo(BluetoothAdapter.ACTIVITY_ENERGY_INFO_REFRESHED);
  if (info == null || !info.isValid() || !mOnBatteryInternal) {
    return;
  }
  mBluetoothActivityCounters[CONTROLLER_RX_TIME].addCountLocked(info.getControllerRxTimeMillis());
  mBluetoothActivityCounters[CONTROLLER_TX_TIME].addCountLocked(info.getControllerTxTimeMillis());
  mBluetoothActivityCounters[CONTROLLER_IDLE_TIME].addCountLocked(info.getControllerIdleTimeMillis());
  mBluetoothActivityCounters[CONTROLLER_ENERGY].addCountLocked(info.getControllerEnergyUsed());
}
