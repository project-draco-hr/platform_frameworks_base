{
  BatteryHistoryRecord rec=mHistoryCache;
  if (rec != null) {
    mHistoryCache=rec.next;
  }
 else {
    rec=new BatteryHistoryRecord();
  }
  rec.time=curTime;
  rec.batteryLevel=mHistoryCur.batteryLevel;
  rec.states=mHistoryCur.states;
  addHistoryRecord(rec);
}
