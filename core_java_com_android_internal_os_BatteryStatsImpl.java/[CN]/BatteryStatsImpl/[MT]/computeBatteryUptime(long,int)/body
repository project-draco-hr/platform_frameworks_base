{
switch (which) {
case STATS_TOTAL:
    return mBatteryUptime + getBatteryUptime(curTime);
case STATS_LAST:
  return mBatteryLastUptime;
case STATS_CURRENT:
return getBatteryUptime(curTime);
case STATS_UNPLUGGED:
return getBatteryUptimeLocked(curTime) - mUnpluggedBatteryUptime;
}
return 0;
}
