{
  long uptime=getBatteryUptime(curTime);
switch (which) {
case STATS_TOTAL:
    return mBatteryUptime + uptime;
case STATS_LAST:
  return mBatteryLastUptime;
case STATS_CURRENT:
return uptime;
case STATS_UNPLUGGED:
return getBatteryUptimeLocked(curTime) - mUnpluggedBatteryUptime;
}
return 0;
}
