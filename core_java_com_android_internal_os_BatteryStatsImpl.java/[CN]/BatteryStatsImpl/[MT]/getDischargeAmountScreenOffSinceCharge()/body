{
synchronized (this) {
    int val=mDischargeAmountScreenOffSinceCharge;
    if (mOnBattery && !mScreenOn && mDischargeCurrentLevel < mDischargeScreenOffUnplugLevel) {
      val+=mDischargeScreenOffUnplugLevel - mDischargeCurrentLevel;
    }
    return val;
  }
}
