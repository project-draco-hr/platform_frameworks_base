{
  if (DEBUG_HISTORY)   Slog.i(TAG,"********** CLEARING HISTORY!");
  if (USE_OLD_HISTORY) {
    if (mHistory != null) {
      mHistoryEnd.next=mHistoryCache;
      mHistoryCache=mHistory;
      mHistory=mHistoryLastEnd=mHistoryEnd=null;
    }
    mNumHistoryItems=0;
  }
  mHistoryBaseTime=0;
  mLastHistoryElapsedRealtime=0;
  mTrackRunningHistoryElapsedRealtime=0;
  mTrackRunningHistoryUptime=0;
  mHistoryBuffer.setDataSize(0);
  mHistoryBuffer.setDataPosition(0);
  mHistoryBuffer.setDataCapacity(MAX_HISTORY_BUFFER / 2);
  mHistoryLastLastWritten.clear();
  mHistoryLastWritten.clear();
  mHistoryTagPool.clear();
  mNextHistoryTagIdx=0;
  mNumHistoryTagChars=0;
  mHistoryBufferLastPos=-1;
  mHistoryOverflow=false;
  mLastRecordedClockTime=0;
  mLastRecordedClockRealtime=0;
}
