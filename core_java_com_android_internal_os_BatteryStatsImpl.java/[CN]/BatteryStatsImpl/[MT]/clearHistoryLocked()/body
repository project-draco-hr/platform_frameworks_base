{
  if (DEBUG_HISTORY)   Slog.i(TAG,"********** CLEARING HISTORY!");
  if (mHistory != null) {
    mHistoryEnd.next=mHistoryCache;
    mHistoryCache=mHistory;
    mHistory=mHistoryLastEnd=mHistoryEnd=null;
  }
  mNumHistoryItems=0;
  mHistoryBaseTime=0;
  mLastHistoryTime=0;
  mHistoryBuffer.setDataSize(0);
  mHistoryBuffer.setDataPosition(0);
  mHistoryBuffer.setDataCapacity(MAX_HISTORY_BUFFER / 2);
  mHistoryLastLastWritten.cmd=HistoryItem.CMD_NULL;
  mHistoryLastWritten.cmd=HistoryItem.CMD_NULL;
  mHistoryBufferLastPos=-1;
  mHistoryOverflow=false;
}
