{
  mHistory=mHistoryEnd=mHistoryCache=null;
  long time;
  while ((time=in.readLong()) >= 0) {
    BatteryHistoryRecord rec=new BatteryHistoryRecord(time,in);
    addHistoryRecord(rec);
  }
}
