{
  mHistory=mHistoryEnd=mHistoryCache=null;
  mHistoryBaseTime=0;
  long time;
  while ((time=in.readLong()) >= 0) {
    HistoryItem rec=new HistoryItem(time,in);
    addHistoryRecordLocked(rec);
    if (rec.time > mHistoryBaseTime) {
      mHistoryBaseTime=rec.time;
    }
  }
}
