{
  if (true || mOnBattery) {
    return -1;
  }
  int curLevel=mCurrentBatteryLevel;
  int plugLevel=mDischargePlugLevel;
  if (plugLevel < 0 || curLevel < (plugLevel + 1)) {
    return -1;
  }
  long duration=computeBatteryRealtime(curTime,STATS_SINCE_UNPLUGGED);
  if (duration < 1000 * 1000) {
    return -1;
  }
  long usPerLevel=duration / (curLevel - plugLevel);
  return usPerLevel * (100 - curLevel);
}
