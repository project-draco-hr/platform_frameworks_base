{
  Message callback=mHandler.obtainMessage(MSG_WEBKIT_DATA);
  if (mRequestedWebKitData)   throw new AssertionError("Requested webkit data twice: " + mWebView.getUrl());
  mRequestedWebKitData=true;
  Log.v(LOGTAG,"message sent to WebView to dump text.");
switch (mDumpDataType) {
case DUMP_AS_TEXT:
    callback.arg1=mDumpTopFrameAsText ? 1 : 0;
  callback.arg2=mDumpChildFramesAsText ? 1 : 0;
setDumpTimeout(DUMP_TIMEOUT_MS);
mWebView.documentAsText(callback);
break;
case EXT_REPR:
mWebView.externalRepresentation(callback);
setDumpTimeout(DUMP_TIMEOUT_MS);
break;
default :
finished();
break;
}
}
