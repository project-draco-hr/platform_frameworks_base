{
  try {
    if (mArchiveHelper.isArchivedDocument(docId)) {
      return mArchiveHelper.isChildDocument(parentDocId,docId);
    }
    if (mArchiveHelper.isArchivedDocument(parentDocId)) {
      return false;
    }
    final File parent=getFileForDocId(parentDocId).getCanonicalFile();
    final File doc=getFileForDocId(docId).getCanonicalFile();
    return FileUtils.contains(parent,doc);
  }
 catch (  IOException e) {
    throw new IllegalArgumentException("Failed to determine if " + docId + " is child of "+ parentDocId+ ": "+ e);
  }
}
