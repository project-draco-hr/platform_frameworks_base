{
  final File file=mFiles.get(id);
  if (file.isDirectory()) {
    return DocumentsContract.MIME_TYPE_DIRECTORY;
  }
  final int lastDot=file.getName().lastIndexOf('.');
  if (lastDot >= 0) {
    final String extension=file.getName().substring(lastDot + 1);
    final String mime=MimeTypeMap.getSingleton().getMimeTypeFromExtension(extension);
    if (mime != null) {
      return mime;
    }
  }
  return "application/octet-stream";
}
