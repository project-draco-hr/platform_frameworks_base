{
  final File file=mFiles.get(id);
  int flags=0;
  if (file.isDirectory() && file.canWrite()) {
    flags|=DocumentsContract.FLAG_SUPPORTS_CREATE;
  }
  if (file.canWrite()) {
    flags|=DocumentsContract.FLAG_SUPPORTS_RENAME;
  }
  final String mimeType=getTypeLocked(id);
  if (mimeType.startsWith("image/")) {
    flags|=DocumentsContract.FLAG_SUPPORTS_THUMBNAIL;
  }
  cursor.addRow(new Object[]{id,file.getName(),file.length(),id,mimeType,file.lastModified(),flags});
}
