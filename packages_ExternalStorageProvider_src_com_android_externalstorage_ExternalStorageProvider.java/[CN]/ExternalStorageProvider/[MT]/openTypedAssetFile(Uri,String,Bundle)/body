{
  if (opts == null || !opts.containsKey(DocumentsContract.EXTRA_THUMBNAIL_SIZE)) {
    return super.openTypedAssetFile(uri,mimeTypeFilter,opts);
  }
switch (sMatcher.match(uri)) {
case URI_DOCS_ID:
{
      final Root root=mRoots.get(DocumentsContract.getRootId(uri));
      final String docId=DocumentsContract.getDocId(uri);
      final File file=docIdToFile(root,docId);
      final ParcelFileDescriptor pfd=ParcelFileDescriptor.open(file,ParcelFileDescriptor.MODE_READ_ONLY);
      try {
        final ExifInterface exif=new ExifInterface(file.getAbsolutePath());
        final long[] thumb=exif.getThumbnailRange();
        if (thumb != null) {
          return new AssetFileDescriptor(pfd,thumb[0],thumb[1]);
        }
      }
 catch (      IOException e) {
      }
      return new AssetFileDescriptor(pfd,0,AssetFileDescriptor.UNKNOWN_LENGTH);
    }
default :
{
    throw new UnsupportedOperationException("Unsupported Uri " + uri);
  }
}
}
