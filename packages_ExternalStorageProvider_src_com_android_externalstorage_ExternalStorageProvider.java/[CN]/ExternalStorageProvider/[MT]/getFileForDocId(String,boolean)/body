{
  final int splitIndex=docId.indexOf(':',1);
  final String tag=docId.substring(0,splitIndex);
  final String path=docId.substring(splitIndex + 1);
  RootInfo root;
synchronized (mRootsLock) {
    root=mRoots.get(tag);
  }
  if (root == null) {
    throw new FileNotFoundException("No root for " + tag);
  }
  File target=visible ? root.visiblePath : root.path;
  if (target == null) {
    return null;
  }
  if (!target.exists()) {
    target.mkdirs();
  }
  target=new File(target,path);
  if (!target.exists()) {
    throw new FileNotFoundException("Missing file for " + docId + " at "+ target);
  }
  return target;
}
