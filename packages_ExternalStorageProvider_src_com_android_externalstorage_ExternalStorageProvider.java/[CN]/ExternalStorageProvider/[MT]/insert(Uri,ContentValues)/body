{
switch (sMatcher.match(uri)) {
case URI_DOCS_ID:
{
      final Root root=mRoots.get(uri.getPathSegments().get(1));
      final String docId=uri.getPathSegments().get(3);
      final File parent=docIdToFile(root,docId);
      final String mimeType=values.getAsString(DocumentColumns.MIME_TYPE);
      final String name=validateDisplayName(values.getAsString(DocumentColumns.DISPLAY_NAME),mimeType);
      final File file=new File(parent,name);
      if (DocumentsContract.MIME_TYPE_DIRECTORY.equals(mimeType)) {
        if (!file.mkdir()) {
          return null;
        }
      }
 else {
        try {
          if (!file.createNewFile()) {
            return null;
          }
        }
 catch (        IOException e) {
          Log.w(TAG,"Failed to create file",e);
          return null;
        }
      }
      final String newDocId=fileToDocId(root,file);
      return DocumentsContract.buildDocumentUri(AUTHORITY,root.name,newDocId);
    }
default :
{
    throw new UnsupportedOperationException("Unsupported Uri " + uri);
  }
}
}
