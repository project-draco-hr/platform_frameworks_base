{
  uid=UserHandle.getUid(userId,UserHandle.getAppId(uid));
  if ("android".equals(packageName)) {
    dataDir=Environment.getDataSystemDirectory().getAbsolutePath();
    return;
  }
  deviceEncryptedDataDir=Environment.getDataUserDeviceEncryptedPackageDirectory(volumeUuid,userId,packageName).getAbsolutePath();
  credentialEncryptedDataDir=Environment.getDataUserCredentialEncryptedPackageDirectory(volumeUuid,userId,packageName).getAbsolutePath();
  if ((privateFlags & PRIVATE_FLAG_FORCE_DEVICE_ENCRYPTED) != 0 && StorageManager.isFileBasedEncryptionEnabled()) {
    dataDir=deviceEncryptedDataDir;
  }
 else {
    dataDir=credentialEncryptedDataDir;
  }
}
