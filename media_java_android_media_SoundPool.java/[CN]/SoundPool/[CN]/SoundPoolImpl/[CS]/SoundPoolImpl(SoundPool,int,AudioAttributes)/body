{
  if (native_setup(new WeakReference(this),maxStreams,attr) != 0) {
    throw new RuntimeException("Native setup failed");
  }
  mLock=new Object();
  mProxy=proxy;
  mAttributes=attr;
  IBinder b=ServiceManager.getService(Context.APP_OPS_SERVICE);
  mAppOps=IAppOpsService.Stub.asInterface(b);
}
