{
  final int state=(mStartedState != STATE_NOTHING || mBoundState != STATE_NOTHING || mExecState != STATE_NOTHING) ? memFactor : STATE_NOTHING;
  if (mRunState != state) {
    if (mRunState != STATE_NOTHING) {
      mDurations.addDuration(SERVICE_RUN + (mRunState * SERVICE_COUNT),now - mRunStartTime);
    }
 else     if (state != STATE_NOTHING) {
      mRunCount++;
    }
    mRunState=state;
    mRunStartTime=now;
  }
}
