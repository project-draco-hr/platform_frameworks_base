{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.main);
  mInspectButton=(Button)findViewById(R.id.inspect);
  mVelocitySpinner=(Spinner)findViewById(R.id.velocity);
  mUrl=(EditText)findViewById(R.id.url);
  mWeb=(ProfiledWebView)findViewById(R.id.web);
  mCallback=new ProfileCallback(){
    @SuppressWarnings("unchecked") @Override public void profileCallback(    TileData[][] data){
      new StoreFileTask().execute(new Pair<String,TileData[][]>(TEMP_FILENAME,data));
    }
  }
;
  mInspectButton.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      startActivity(new Intent(ProfileActivity.this,PlaybackActivity.class));
    }
  }
);
  ArrayAdapter<CharSequence> adapter=ArrayAdapter.createFromResource(this,R.array.velocity_array,android.R.layout.simple_spinner_item);
  adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
  mVelocitySpinner.setAdapter(adapter);
  mVelocitySpinner.setOnItemSelectedListener(new VelocitySelectedListener());
  mVelocitySpinner.setSelection(3);
  WebSettings settings=mWeb.getSettings();
  settings.setJavaScriptEnabled(true);
  settings.setSupportZoom(true);
  settings.setEnableSmoothTransition(true);
  settings.setBuiltInZoomControls(true);
  settings.setLoadWithOverviewMode(true);
  mWeb.setWebViewClient(new LoggingWebViewClient());
  mUrl.setOnEditorActionListener(new OnEditorActionListener(){
    public boolean onEditorAction(    TextView v,    int actionId,    KeyEvent event){
      String url=mUrl.getText().toString();
      mUrl.setBackgroundResource(R.color.unfinished_url);
      mWeb.loadUrl(url);
      mWeb.requestFocus();
      return true;
    }
  }
);
}
