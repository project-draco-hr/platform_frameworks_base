{
  final boolean oldForeground=oldUidState <= mCurForegroundState;
  final boolean newForeground=newUidState <= mCurForegroundState;
  if (oldForeground != newForeground) {
    updateRulesForUidLocked(uid);
  }
}
