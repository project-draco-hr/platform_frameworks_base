{
  mContext.enforceCallingOrSelfPermission(MANAGE_NETWORK_POLICY,TAG);
  final long token=Binder.clearCallingIdentity();
  try {
    maybeRefreshTrustedTime();
synchronized (mRulesLock) {
      if (restrictBackground == mRestrictBackground) {
        Slog.w(TAG,"setRestrictBackground: already " + restrictBackground);
        return;
      }
      setRestrictBackgroundLocked(restrictBackground);
    }
  }
  finally {
    Binder.restoreCallingIdentity(token);
  }
  mHandler.obtainMessage(MSG_RESTRICT_BACKGROUND_CHANGED,restrictBackground ? 1 : 0,0).sendToTarget();
}
