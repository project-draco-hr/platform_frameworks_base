{
  try {
    int size=uidRules.size();
    int[] uids=new int[size];
    int[] rules=new int[size];
    for (int index=size - 1; index >= 0; --index) {
      uids[index]=uidRules.keyAt(index);
      rules[index]=uidRules.valueAt(index);
    }
    mNetworkManager.setFirewallUidRules(chain,uids,rules);
  }
 catch (  IllegalStateException e) {
    Log.wtf(TAG,"problem setting firewall uid rules",e);
  }
catch (  RemoteException e) {
  }
}
