{
  if (LOGV)   Slog.v(TAG,"removePoliciesForUserLocked()");
  int[] uids=new int[0];
  for (int i=0; i < mUidPolicy.size(); i++) {
    final int uid=mUidPolicy.keyAt(i);
    if (UserHandle.getUserId(uid) == userId) {
      uids=appendInt(uids,uid);
    }
  }
  if (uids.length > 0) {
    for (    int uid : uids) {
      mUidPolicy.delete(uid);
      updateRulesForUidLocked(uid);
    }
    writePolicyLocked();
  }
}
