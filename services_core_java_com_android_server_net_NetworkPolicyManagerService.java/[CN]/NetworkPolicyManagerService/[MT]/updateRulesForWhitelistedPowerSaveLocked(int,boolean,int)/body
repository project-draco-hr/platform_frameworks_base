{
  if (enabled) {
    int appId=UserHandle.getAppId(uid);
    if (mPowerSaveTempWhitelistAppIds.get(appId) || mPowerSaveWhitelistAppIds.get(appId) || isProcStateAllowedWhileIdleOrPowerSaveMode(mUidState.get(uid))) {
      setUidFirewallRule(chain,uid,FIREWALL_RULE_ALLOW);
    }
 else {
      setUidFirewallRule(chain,uid,FIREWALL_RULE_DEFAULT);
    }
  }
}
