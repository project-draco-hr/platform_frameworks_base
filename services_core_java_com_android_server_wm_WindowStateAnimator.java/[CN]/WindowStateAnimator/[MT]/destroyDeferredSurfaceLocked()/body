{
  try {
    if (mPendingDestroySurface != null) {
      if (SHOW_TRANSACTIONS || SHOW_SURFACE_ALLOC) {
        WindowManagerService.logSurface(mWin,"DESTROY PENDING",true);
      }
      mPendingDestroySurface.destroyInTransaction();
      if (!mDestroyPreservedSurfaceUponRedraw) {
        mWallpaperControllerLocked.hideWallpapers(mWin);
      }
    }
  }
 catch (  RuntimeException e) {
    Slog.w(TAG,"Exception thrown when destroying Window " + this + " surface "+ mPendingDestroySurface+ " session "+ mSession+ ": "+ e.toString());
  }
  mSurfaceDestroyDeferred=false;
  mPendingDestroySurface=null;
}
