{
  final LayoutParams attrs=mWin.getAttrs();
  final int left=shownPosition.x - attrs.surfaceInsets.left;
  final int top=shownPosition.y - attrs.surfaceInsets.top;
  if (mSurfaceX != left || mSurfaceY != top) {
    if (mAnimating) {
      return;
    }
    mSurfaceX=left;
    mSurfaceY=top;
    if (SHOW_LIGHT_TRANSACTIONS)     Slog.i(TAG,">>> OPEN TRANSACTION setWallpaperOffset");
    SurfaceControl.openTransaction();
    try {
      if (WindowManagerService.SHOW_TRANSACTIONS)       WindowManagerService.logSurface(mWin,"POS " + left + ", "+ top,null);
      mSurfaceControl.setPosition(mWin.mFrame.left + left,mWin.mFrame.top + top);
      updateSurfaceWindowCrop(false);
    }
 catch (    RuntimeException e) {
      Slog.w(TAG,"Error positioning surface of " + mWin + " pos=("+ left+ ","+ top+ ")",e);
    }
 finally {
      SurfaceControl.closeTransaction();
      if (SHOW_LIGHT_TRANSACTIONS)       Slog.i(TAG,"<<< CLOSE TRANSACTION setWallpaperOffset");
    }
  }
}
