{
  if (mContractedChild == null) {
    return;
  }
  int visibleView=calculateVisibleView();
  if (visibleView != mVisibleView || force) {
    if (animate && mExpandedChild != null) {
      runSwitchAnimation(visibleView);
    }
 else {
      updateViewVisibilities(visibleView);
    }
    mVisibleView=visibleView;
  }
}
