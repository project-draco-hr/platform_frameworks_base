{
  boolean noExpandedChild=mExpandedChild == null;
  if (mIsHeadsUp) {
    if (mContentHeight <= mHeadsUpHeight || noExpandedChild) {
      return HEADSUP;
    }
 else {
      return EXPANDED;
    }
  }
 else {
    if (mContentHeight <= mSmallHeight || noExpandedChild) {
      return CONTRACTED;
    }
 else {
      return EXPANDED;
    }
  }
}
