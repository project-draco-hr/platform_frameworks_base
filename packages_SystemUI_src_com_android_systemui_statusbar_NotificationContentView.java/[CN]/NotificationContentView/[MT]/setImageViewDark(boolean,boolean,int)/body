{
  final ImageView v=(ImageView)mContractedChild.findViewById(imageViewId);
  if (v == null)   return;
  final Drawable d=v.getBackground();
  if (dark) {
    v.setLayerType(LAYER_TYPE_HARDWARE,INVERT_PAINT);
    if (d != null) {
      v.setTag(R.id.doze_saved_filter_tag,d.getColorFilter() != null ? d.getColorFilter() : NO_COLOR_FILTER);
      d.setColorFilter(getResources().getColor(R.color.doze_small_icon_background_color),PorterDuff.Mode.SRC_ATOP);
      v.setImageAlpha(getResources().getInteger(R.integer.doze_small_icon_alpha));
    }
  }
 else {
    v.setLayerType(LAYER_TYPE_NONE,null);
    if (d != null) {
      final ColorFilter filter=(ColorFilter)v.getTag(R.id.doze_saved_filter_tag);
      if (filter != null) {
        d.setColorFilter(filter == NO_COLOR_FILTER ? null : filter);
        v.setTag(R.id.doze_saved_filter_tag,null);
      }
      v.setImageAlpha(0xff);
    }
  }
}
