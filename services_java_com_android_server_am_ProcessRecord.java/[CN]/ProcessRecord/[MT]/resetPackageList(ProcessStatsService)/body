{
  long now=SystemClock.uptimeMillis();
  baseProcessTracker.setState(ProcessStats.STATE_NOTHING,tracker.getMemFactorLocked(),now,pkgList);
  final int N=pkgList.size();
  if (N != 1) {
    for (int i=0; i < N; i++) {
      ProcessStats.ProcessState ps=pkgList.valueAt(i);
      if (ps != null && ps != baseProcessTracker) {
        ps.makeInactive();
      }
    }
    pkgList.clear();
    ProcessStats.ProcessState ps=tracker.getProcessStateLocked(info.packageName,info.uid,processName);
    pkgList.put(info.packageName,ps);
    if (thread != null && ps != baseProcessTracker) {
      ps.makeActive();
    }
  }
}
