{
  if (thread != null) {
    thread=null;
    final ProcessStats.ProcessState origBase=baseProcessTracker;
    if (origBase != null) {
      origBase.setState(ProcessStats.STATE_NOTHING,tracker.getMemFactorLocked(),SystemClock.uptimeMillis(),pkgList);
      origBase.makeInactive();
    }
    baseProcessTracker=null;
    for (int i=0; i < pkgList.size(); i++) {
      ProcessStats.ProcessState ps=pkgList.valueAt(i);
      if (ps != null && ps != origBase) {
        ps.makeInactive();
      }
      pkgList.setValueAt(i,null);
    }
  }
}
