{
  String value=values.getAsString(Checkin.Events.VALUE);
  if (value != null && value.length() > EVENT_SIZE) {
    value=value.substring(0,EVENT_SIZE - 3) + "...";
    values.put(Checkin.Events.VALUE,value);
  }
  if (!values.containsKey(Checkin.Events.DATE)) {
    values.put(Checkin.Events.DATE,System.currentTimeMillis());
  }
  SQLiteDatabase db=mOpenHelper.getWritableDatabase();
  db.execSQL("DELETE FROM " + Checkin.Events.TABLE_NAME + " WHERE "+ Checkin.Events._ID+ " IN (SELECT "+ Checkin.Events._ID+ " FROM "+ Checkin.Events.TABLE_NAME+ " ORDER BY "+ Checkin.Events.DATE+ " DESC LIMIT -1 OFFSET "+ (EVENT_LIMIT - 1)+ ")");
  return db.insert(Checkin.Events.TABLE_NAME,null,values);
}
