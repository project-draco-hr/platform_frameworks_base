{
  boolean handled=false;
  try {
    if (event instanceof MotionEvent && (event.getSource() & InputDevice.SOURCE_CLASS_POINTER) != 0) {
      final MotionEvent motionEvent=(MotionEvent)event;
      if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {
        boolean changed=false;
synchronized (mWindowManagerFuncs.getWindowManagerLock()) {
          int newVal=mResettingSystemUiFlags | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_LOW_PROFILE| View.SYSTEM_UI_FLAG_FULLSCREEN;
          if (mResettingSystemUiFlags != newVal) {
            mResettingSystemUiFlags=newVal;
            changed=true;
          }
          newVal=mForceClearedSystemUiFlags | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;
          if (mForceClearedSystemUiFlags != newVal) {
            mForceClearedSystemUiFlags=newVal;
            changed=true;
            mHandler.postDelayed(mClearHideNavigationFlag,1000);
          }
        }
        if (changed) {
          mWindowManagerFuncs.reevaluateStatusBarVisibility();
        }
      }
    }
  }
  finally {
    finishInputEvent(event,handled);
  }
}
