{
  Intent intent;
  if (mUiMode == Configuration.UI_MODE_TYPE_CAR) {
    intent=mCarDockIntent;
  }
 else   if (mUiMode == Configuration.UI_MODE_TYPE_DESK) {
    intent=mDeskDockIntent;
  }
 else {
    return null;
  }
  ActivityInfo ai=intent.resolveActivityInfo(mContext.getPackageManager(),PackageManager.GET_META_DATA);
  if (ai == null) {
    return null;
  }
  if (ai.metaData != null && ai.metaData.getBoolean(Intent.METADATA_DOCK_HOME)) {
    intent=new Intent(intent);
    intent.setClassName(ai.packageName,ai.name);
    return intent;
  }
  return null;
}
