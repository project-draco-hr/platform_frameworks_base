{
  Intent intent=null;
  if (mUiMode == Configuration.UI_MODE_TYPE_CAR) {
    if (ENABLE_CAR_DOCK_HOME_CAPTURE) {
      intent=mCarDockIntent;
    }
  }
 else   if (mUiMode == Configuration.UI_MODE_TYPE_DESK) {
    if (ENABLE_DESK_DOCK_HOME_CAPTURE) {
      intent=mDeskDockIntent;
    }
  }
  if (intent == null) {
    return null;
  }
  ActivityInfo ai=intent.resolveActivityInfo(mContext.getPackageManager(),PackageManager.GET_META_DATA);
  if (ai == null) {
    return null;
  }
  if (ai.metaData != null && ai.metaData.getBoolean(Intent.METADATA_DOCK_HOME)) {
    intent=new Intent(intent);
    intent.setClassName(ai.packageName,ai.name);
    return intent;
  }
  return null;
}
