{
  readLidState();
  mPowerManager.setKeyboardVisibility(mLidOpen == LID_OPEN);
  config.hardKeyboardHidden=determineHiddenState(mLidKeyboardAccessibility,Configuration.HARDKEYBOARDHIDDEN_YES,Configuration.HARDKEYBOARDHIDDEN_NO);
  config.navigationHidden=determineHiddenState(mLidNavigationAccessibility,Configuration.NAVIGATIONHIDDEN_YES,Configuration.NAVIGATIONHIDDEN_NO);
  config.keyboardHidden=(config.hardKeyboardHidden == Configuration.HARDKEYBOARDHIDDEN_NO || mHasSoftInput) ? Configuration.KEYBOARDHIDDEN_NO : Configuration.KEYBOARDHIDDEN_YES;
}
