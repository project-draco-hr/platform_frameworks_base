{
  mLidOpen=lidOpen;
  boolean awakeNow=mKeyguardMediator.doLidChangeTq(mLidOpen);
  updateRotation(Surface.FLAGS_ORIENTATION_ANIMATION_DISABLE);
  if (awakeNow) {
    mKeyguardMediator.pokeWakelock();
  }
 else   if (keyguardIsShowingTq()) {
    if (mLidOpen) {
      mKeyguardMediator.onWakeKeyWhenKeyguardShowingTq(KeyEvent.KEYCODE_POWER);
    }
  }
 else {
    if (mLidOpen) {
      mPowerManager.userActivity(SystemClock.uptimeMillis(),false,LocalPowerManager.BUTTON_EVENT);
    }
 else {
      mPowerManager.userActivity(SystemClock.uptimeMillis(),false,LocalPowerManager.OTHER_EVENT);
    }
  }
}
