{
  if (mKeyguardMediator == null)   return;
  mLidOpen=lidOpen ? LID_OPEN : LID_CLOSED;
  boolean awakeNow=mKeyguardMediator.doLidChangeTq(lidOpen);
  updateRotation(Surface.FLAGS_ORIENTATION_ANIMATION_DISABLE);
  if (awakeNow) {
    mKeyguardMediator.pokeWakelock();
  }
 else   if (keyguardIsShowingTq()) {
    if (lidOpen) {
      mKeyguardMediator.onWakeKeyWhenKeyguardShowingTq(KeyEvent.KEYCODE_POWER);
    }
  }
 else {
    if (lidOpen) {
      mPowerManager.userActivity(SystemClock.uptimeMillis(),false,LocalPowerManager.BUTTON_EVENT);
    }
 else {
      mPowerManager.userActivity(SystemClock.uptimeMillis(),false,LocalPowerManager.OTHER_EVENT);
    }
  }
}
