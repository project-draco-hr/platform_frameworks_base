{
  if (KEYBOARD_ALWAYS_HIDDEN) {
    return hiddenValue;
  }
  if (mLidOpen == LID_ABSENT) {
    return visibleValue;
  }
switch (mode) {
case 1:
    return mLidOpen == LID_OPEN ? visibleValue : hiddenValue;
case 2:
  return mLidOpen == LID_OPEN ? hiddenValue : visibleValue;
}
return visibleValue;
}
