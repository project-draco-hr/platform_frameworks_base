{
  int shortSize;
  if (width > height) {
    shortSize=height;
    mLandscapeRotation=Surface.ROTATION_0;
    mSeascapeRotation=Surface.ROTATION_180;
    if (mContext.getResources().getBoolean(com.android.internal.R.bool.config_reverseDefaultRotation)) {
      mPortraitRotation=Surface.ROTATION_90;
      mUpsideDownRotation=Surface.ROTATION_270;
    }
 else {
      mPortraitRotation=Surface.ROTATION_270;
      mUpsideDownRotation=Surface.ROTATION_90;
    }
  }
 else {
    shortSize=width;
    mPortraitRotation=Surface.ROTATION_0;
    mUpsideDownRotation=Surface.ROTATION_180;
    if (mContext.getResources().getBoolean(com.android.internal.R.bool.config_reverseDefaultRotation)) {
      mLandscapeRotation=Surface.ROTATION_270;
      mSeascapeRotation=Surface.ROTATION_90;
    }
 else {
      mLandscapeRotation=Surface.ROTATION_90;
      mSeascapeRotation=Surface.ROTATION_270;
    }
  }
  int shortSizeDp=shortSize * DisplayMetrics.DENSITY_DEFAULT / DisplayMetrics.DENSITY_DEVICE;
  mStatusBarCanHide=shortSizeDp < 600;
  mStatusBarHeight=mContext.getResources().getDimensionPixelSize(mStatusBarCanHide ? com.android.internal.R.dimen.status_bar_height : com.android.internal.R.dimen.system_bar_height);
  mHasNavigationBar=mContext.getResources().getBoolean(com.android.internal.R.bool.config_showNavigationBar);
  String navBarOverride=SystemProperties.get("qemu.hw.mainkeys");
  if (!"".equals(navBarOverride)) {
    if (navBarOverride.equals("1"))     mHasNavigationBar=true;
 else     if (navBarOverride.equals("0"))     mHasNavigationBar=false;
  }
  mNavigationBarHeight=mHasNavigationBar ? mContext.getResources().getDimensionPixelSize(com.android.internal.R.dimen.navigation_bar_height) : 0;
  mNavigationBarWidth=mHasNavigationBar ? mContext.getResources().getDimensionPixelSize(com.android.internal.R.dimen.navigation_bar_width) : 0;
  if ("portrait".equals(SystemProperties.get("persist.demo.hdmirotation"))) {
    mHdmiRotation=mPortraitRotation;
  }
 else {
    mHdmiRotation=mLandscapeRotation;
  }
}
