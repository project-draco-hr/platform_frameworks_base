{
  if (DEBUG_WAKEUP)   Slog.d(TAG,"finishScreenTurningOn: mAwakeEarly=" + mAwakeEarly + " mKeyguardDrawComplete="+ mKeyguardDrawComplete+ " mWindowManagerDrawComplete="+ mWindowManagerDrawComplete);
  boolean awake;
synchronized (mLock) {
    if ((mAwakeEarly && !mKeyguardDrawComplete) || !mWindowManagerDrawComplete) {
      return;
    }
    if (mAwakeEarly) {
      mAwakeFully=true;
    }
    awake=mAwakeFully;
  }
  if (DEBUG_WAKEUP)   Slog.i(TAG,"Finished screen turning on...");
  if (mScreenOnListener != null) {
    mScreenOnListener.onScreenOn();
    mScreenOnListener=null;
  }
  if (awake) {
    setKeyguardDrawnFirstTime();
    if (mBootMessageNeedsHiding) {
      handleHideBootMessage();
      mBootMessageNeedsHiding=false;
    }
  }
}
