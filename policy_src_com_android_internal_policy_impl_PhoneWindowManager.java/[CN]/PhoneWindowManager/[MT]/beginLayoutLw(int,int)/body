{
  mUnrestrictedScreenLeft=mUnrestrictedScreenTop=0;
  mUnrestrictedScreenWidth=displayWidth;
  mUnrestrictedScreenHeight=displayHeight;
  mRestrictedScreenLeft=mRestrictedScreenTop=0;
  mRestrictedScreenWidth=displayWidth;
  mRestrictedScreenHeight=displayHeight;
  mDockLeft=mContentLeft=mCurLeft=0;
  mDockTop=mContentTop=mCurTop=0;
  mDockRight=mContentRight=mCurRight=displayWidth;
  mDockBottom=mContentBottom=mCurBottom=displayHeight;
  mDockLayer=0x10000000;
  final Rect pf=mTmpParentFrame;
  final Rect df=mTmpDisplayFrame;
  final Rect vf=mTmpVisibleFrame;
  pf.left=df.left=vf.left=mDockLeft;
  pf.top=df.top=vf.top=mDockTop;
  pf.right=df.right=vf.right=mDockRight;
  pf.bottom=df.bottom=vf.bottom=mDockBottom;
  if (mStatusBar != null) {
    Rect navr=null;
    if (mNavigationBar != null) {
      mNavigationBar.computeFrameLw(pf,df,vf,vf);
      if (mNavigationBar.isVisibleLw()) {
        navr=mNavigationBar.getFrameLw();
        if (navr.top == 0) {
          if (mDockLeft == navr.left) {
            mDockLeft=navr.right;
          }
 else           if (mDockRight == navr.right) {
            mDockRight=navr.left;
          }
        }
 else {
          if (mDockBottom == navr.bottom) {
            mDockBottom=navr.top;
          }
        }
      }
    }
    if (DEBUG_LAYOUT)     Log.i(TAG,"mNavigationBar frame: " + navr);
    pf.left=df.left=vf.left=mDockLeft;
    pf.top=df.top=vf.top=mDockTop;
    pf.right=df.right=vf.right=mDockRight;
    pf.bottom=df.bottom=vf.bottom=mDockBottom;
    mStatusBar.computeFrameLw(pf,df,vf,vf);
    if (mStatusBar.isVisibleLw()) {
      final Rect r=mStatusBar.getFrameLw();
      if (mStatusBarCanHide) {
        if (mDockTop == r.top)         mDockTop=r.bottom;
 else         if (mDockBottom == r.bottom)         mDockBottom=r.top;
        mContentTop=mCurTop=mDockTop;
        mContentBottom=mCurBottom=mDockBottom;
        mContentLeft=mCurLeft=mDockLeft;
        mContentRight=mCurRight=mDockRight;
        if (DEBUG_LAYOUT)         Log.v(TAG,"Status bar: " + String.format("dock=[%d,%d][%d,%d] content=[%d,%d][%d,%d] cur=[%d,%d][%d,%d]",mDockLeft,mDockTop,mDockRight,mDockBottom,mContentLeft,mContentTop,mContentRight,mContentBottom,mCurLeft,mCurTop,mCurRight,mCurBottom));
      }
 else {
        if (mRestrictedScreenTop == r.top) {
          mRestrictedScreenTop=r.bottom;
          mRestrictedScreenHeight-=(r.bottom - r.top);
        }
 else         if ((mRestrictedScreenHeight - mRestrictedScreenTop) == r.bottom) {
          mRestrictedScreenHeight-=(r.bottom - r.top);
        }
        if (navr != null) {
          if (navr.top == 0) {
            if (mRestrictedScreenLeft == navr.left) {
              mRestrictedScreenLeft=navr.right;
              mRestrictedScreenWidth-=(navr.right - navr.left);
            }
 else             if ((mRestrictedScreenLeft + mRestrictedScreenWidth) == navr.right) {
              mRestrictedScreenWidth-=(navr.right - navr.left);
            }
          }
 else {
            if ((mRestrictedScreenHeight - mRestrictedScreenTop) == r.bottom) {
              mRestrictedScreenHeight-=(navr.bottom - navr.top);
            }
          }
        }
        mContentTop=mCurTop=mDockTop=mRestrictedScreenTop;
        mContentBottom=mCurBottom=mDockBottom=mRestrictedScreenTop + mRestrictedScreenHeight;
        if (DEBUG_LAYOUT)         Log.v(TAG,"Status bar: restricted screen area: (" + mRestrictedScreenLeft + ","+ mRestrictedScreenTop+ ","+ (mRestrictedScreenLeft + mRestrictedScreenWidth)+ ","+ (mRestrictedScreenTop + mRestrictedScreenHeight)+ ")");
      }
    }
  }
}
