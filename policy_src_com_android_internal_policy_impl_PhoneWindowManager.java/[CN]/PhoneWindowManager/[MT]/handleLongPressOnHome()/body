{
  if (mLongPressOnHomeBehavior < 0) {
    mLongPressOnHomeBehavior=mContext.getResources().getInteger(R.integer.config_longPressOnHomeBehavior);
    if (mLongPressOnHomeBehavior < LONG_PRESS_HOME_NOTHING || mLongPressOnHomeBehavior > LONG_PRESS_HOME_RECENT_SYSTEM_UI) {
      mLongPressOnHomeBehavior=LONG_PRESS_HOME_NOTHING;
    }
    if (hasNavigationBar()) {
      mLongPressOnHomeBehavior=LONG_PRESS_HOME_VOICE_SEARCH;
    }
  }
  if (mLongPressOnHomeBehavior != LONG_PRESS_HOME_NOTHING) {
    performHapticFeedbackLw(null,HapticFeedbackConstants.LONG_PRESS,false);
    sendCloseSystemWindows(SYSTEM_DIALOG_REASON_RECENT_APPS);
    mHomePressed=false;
  }
  if (mLongPressOnHomeBehavior == LONG_PRESS_HOME_RECENT_DIALOG) {
    showOrHideRecentAppsDialog(RECENT_APPS_BEHAVIOR_SHOW_OR_DISMISS);
  }
 else   if (mLongPressOnHomeBehavior == LONG_PRESS_HOME_RECENT_SYSTEM_UI) {
    try {
      mStatusBarService.toggleRecentApps();
    }
 catch (    RemoteException e) {
      Slog.e(TAG,"RemoteException when showing recent apps",e);
    }
  }
 else   if (mLongPressOnHomeBehavior == LONG_PRESS_HOME_VOICE_SEARCH) {
    Intent intent=new Intent(RecognizerIntent.ACTION_WEB_SEARCH);
    try {
      intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);
      mContext.startActivity(intent);
    }
 catch (    ActivityNotFoundException e) {
      Log.e(TAG,"Unable to launch. tag=" + TAG + " intent="+ intent,e);
    }
catch (    SecurityException e) {
      Log.e(TAG,"PhoneWindowManager does not have the permission to launch " + "tag=" + TAG + " intent="+ intent,e);
    }
  }
}
