{
  mHandler.post(new Runnable(){
    @Override public void run(){
      if (mBootMsgDialog == null) {
        mBootMsgDialog=new ProgressDialog(mContext);
        mBootMsgDialog.setTitle(R.string.android_upgrading_title);
        mBootMsgDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);
        mBootMsgDialog.setIndeterminate(true);
        mBootMsgDialog.getWindow().setType(WindowManager.LayoutParams.TYPE_SECURE_SYSTEM_OVERLAY);
        mBootMsgDialog.getWindow().addFlags(WindowManager.LayoutParams.FLAG_DIM_BEHIND | WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN);
        mBootMsgDialog.getWindow().setDimAmount(1);
        mBootMsgDialog.setCancelable(false);
        mBootMsgDialog.show();
      }
      mBootMsgDialog.setMessage(msg);
    }
  }
);
}
