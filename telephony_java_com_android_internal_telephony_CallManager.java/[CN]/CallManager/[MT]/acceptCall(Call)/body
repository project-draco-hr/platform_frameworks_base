{
  Phone ringingPhone=ringingCall.getPhone();
  if (VDBG) {
    Log.d(LOG_TAG,"CallManager.acceptCall " + this);
  }
  if (hasActiveFgCall()) {
    Phone activePhone=getActiveFgCall().getPhone();
    boolean hasBgCall=!(activePhone.getBackgroundCall().isIdle());
    boolean sameChannel=(activePhone == ringingPhone);
    if (DBG) {
      Log.d(LOG_TAG,"hasBgCall: " + hasBgCall + "sameChannel:"+ sameChannel);
    }
    if (sameChannel && hasBgCall) {
      getActiveFgCall().hangup();
    }
 else     if (!sameChannel && !hasBgCall) {
      activePhone.switchHoldingAndActive();
    }
 else     if (!sameChannel && hasBgCall) {
      getActiveFgCall().hangup();
    }
  }
  ringingPhone.acceptCall();
}
