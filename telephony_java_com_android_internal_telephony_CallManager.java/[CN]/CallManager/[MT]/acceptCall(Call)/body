{
  Phone ringingPhone=ringingCall.getPhone();
  if (hasActiveFgCall()) {
    Phone activePhone=getActiveFgCall().getPhone();
    boolean hasBgCall=activePhone.getBackgroundCall().isIdle();
    boolean sameChannel=(activePhone == ringingPhone);
    if (sameChannel && hasBgCall) {
      getActiveFgCall().hangup();
    }
 else     if (!sameChannel && !hasBgCall) {
      activePhone.switchHoldingAndActive();
    }
 else     if (!sameChannel && hasBgCall) {
      getActiveFgCall().hangup();
    }
  }
  ringingPhone.acceptCall();
}
