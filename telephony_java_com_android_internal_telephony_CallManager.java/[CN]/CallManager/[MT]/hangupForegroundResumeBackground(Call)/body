{
  Phone foregroundPhone=null;
  Phone backgroundPhone=null;
  if (hasActiveFgCall()) {
    foregroundPhone=getFgPhone();
    if (heldCall != null) {
      backgroundPhone=heldCall.getPhone();
      if (foregroundPhone == backgroundPhone) {
        getActiveFgCall().hangup();
      }
 else {
        getActiveFgCall().hangup();
        switchHoldingAndActive(heldCall);
      }
    }
  }
}
