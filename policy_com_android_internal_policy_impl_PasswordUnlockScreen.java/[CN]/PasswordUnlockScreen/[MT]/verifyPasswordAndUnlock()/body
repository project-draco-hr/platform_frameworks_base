{
  String entry=mPasswordEntry.getText().toString();
  if (mLockPatternUtils.checkPassword(entry)) {
    mCallback.keyguardDone(true);
    mCallback.reportSuccessfulUnlockAttempt();
  }
 else   if (entry.length() > MINIMUM_PASSWORD_LENGTH_BEFORE_REPORT) {
    mCallback.reportFailedUnlockAttempt();
    if (0 == (mUpdateMonitor.getFailedAttempts() % LockPatternUtils.FAILED_ATTEMPTS_BEFORE_TIMEOUT)) {
      long deadline=mLockPatternUtils.setLockoutAttemptDeadline();
      handleAttemptLockout(deadline);
    }
    mTitle.setText(R.string.lockscreen_password_wrong);
  }
 else   if (entry.length() > 0) {
    mTitle.setText(R.string.lockscreen_password_wrong);
  }
  mPasswordEntry.setText("");
}
