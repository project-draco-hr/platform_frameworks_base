{
  super(context);
  mUpdateMonitor=updateMonitor;
  mCallback=callback;
  mCreatedWithKeyboardOpen=mUpdateMonitor.isKeyboardOpen();
  LayoutInflater layoutInflater=LayoutInflater.from(context);
  if (mCreatedWithKeyboardOpen) {
    layoutInflater.inflate(R.layout.keyguard_screen_password_landscape,this,true);
  }
 else {
    layoutInflater.inflate(R.layout.keyguard_screen_password_portrait,this,true);
    new TouchInput();
  }
  mPasswordTextView=(TextView)findViewById(R.id.pinDisplay);
  mBackSpaceButton=findViewById(R.id.backspace);
  mBackSpaceButton.setOnClickListener(this);
  mCancelButton=(Button)findViewById(R.id.cancel);
  if (mCancelButton != null) {
    mCancelButton.setText("");
  }
  mEmergencyCallButton=(TextView)findViewById(R.id.emergencyCall);
  mOkButton=(TextView)findViewById(R.id.ok);
  mPasswordTextView.setFocusable(false);
  mEmergencyCallButton.setOnClickListener(this);
  mOkButton.setOnClickListener(this);
  mUpdateMonitor.registerConfigurationChangeCallback(this);
  mLockPatternUtils=lockPatternUtils;
  mCarrier=(TextView)findViewById(R.id.carrier);
  mCarrier.setText(LockScreen.getCarrierString(mUpdateMonitor.getTelephonyPlmn(),mUpdateMonitor.getTelephonySpn()));
  updateMonitor.registerInfoCallback(this);
  updateMonitor.registerConfigurationChangeCallback(this);
  setFocusableInTouchMode(true);
}
