{
  if (state != mState) {
    mState=state;
    if (DEBUG)     Slog.d(mTag,"mState: " + StatusBarManager.windowStateToString(state));
    mHandler.post(new Runnable(){
      @Override public void run(){
        try {
          IStatusBarService statusbar=getStatusBarService();
          if (statusbar != null) {
            statusbar.setWindowState(mStatusBarManagerId,state);
          }
        }
 catch (        RemoteException e) {
          if (DEBUG)           Slog.w(mTag,"Error posting window state",e);
          mStatusBarService=null;
        }
      }
    }
);
    return true;
  }
  return false;
}
