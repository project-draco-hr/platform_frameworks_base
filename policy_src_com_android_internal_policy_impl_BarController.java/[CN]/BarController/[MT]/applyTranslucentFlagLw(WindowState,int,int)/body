{
  if (mWin != null) {
    if (win != null && (win.getAttrs().privateFlags & WindowManager.LayoutParams.PRIVATE_FLAG_INHERIT_TRANSLUCENT_DECOR) == 0) {
      if ((PolicyControl.getWindowFlags(win,null) & mTranslucentWmFlag) != 0) {
        vis|=mTranslucentFlag;
      }
 else {
        vis&=~mTranslucentFlag;
      }
    }
 else {
      vis=(vis & ~mTranslucentFlag) | (oldVis & mTranslucentFlag);
    }
  }
  return vis;
}
