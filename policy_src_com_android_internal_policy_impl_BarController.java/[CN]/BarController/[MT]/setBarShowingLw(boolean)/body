{
  if (mWin == null)   return false;
  if (show && mTransientBarState == TRANSIENT_BAR_HIDING) {
    mPendingShow=true;
    return false;
  }
  final boolean oldVis=mWin.isVisibleLw();
  final boolean oldAnim=mWin.isAnimatingLw();
  final boolean rt=show ? mWin.showLw(true) : mWin.hideLw(true);
  final int state=computeState(oldVis,oldAnim,mWin.isVisibleLw(),mWin.isAnimatingLw());
  if (state > -1) {
    updateState(state);
  }
  return rt;
}
