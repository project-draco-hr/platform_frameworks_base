{
  super.setChecked(checked);
  if (isAttachedToWindow() && isLaidOut()) {
    animateThumbToCheckedState(checked);
  }
 else {
    cancelPositionAnimator();
    setThumbPosition(checked ? 1 : 0);
  }
}
