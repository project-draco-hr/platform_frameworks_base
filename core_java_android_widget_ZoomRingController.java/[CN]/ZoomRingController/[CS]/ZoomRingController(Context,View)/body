{
  mContext=context;
  mWindowManager=(WindowManager)context.getSystemService(Context.WINDOW_SERVICE);
  mOwnerView=ownerView;
  mZoomRing=new ZoomRing(context);
  mZoomRing.setLayoutParams(new FrameLayout.LayoutParams(FrameLayout.LayoutParams.WRAP_CONTENT,FrameLayout.LayoutParams.WRAP_CONTENT,Gravity.CENTER));
  mZoomRing.setCallback(this);
  createPanningArrows();
  mContainer=new FrameLayout(context);
  mContainer.setMeasureAllChildren(true);
  mContainer.setOnTouchListener(this);
  mContainer.addView(mZoomRing);
  mContainer.addView(mPanningArrows);
  mContainer.measure(View.MeasureSpec.UNSPECIFIED,View.MeasureSpec.UNSPECIFIED);
  mContainerLayoutParams=new LayoutParams();
  mContainerLayoutParams.gravity=Gravity.LEFT | Gravity.TOP;
  mContainerLayoutParams.flags=LayoutParams.FLAG_NOT_TOUCH_MODAL | LayoutParams.FLAG_NOT_FOCUSABLE | LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH| LayoutParams.FLAG_LAYOUT_NO_LIMITS;
  mContainerLayoutParams.height=LayoutParams.WRAP_CONTENT;
  mContainerLayoutParams.width=LayoutParams.WRAP_CONTENT;
  mContainerLayoutParams.type=LayoutParams.TYPE_APPLICATION_PANEL;
  mContainerLayoutParams.format=PixelFormat.TRANSLUCENT;
  mContainerLayoutParams.windowAnimations=com.android.internal.R.style.Animation_Dialog;
  mScroller=new Scroller(context,new DecelerateInterpolator());
  mViewConfig=ViewConfiguration.get(context);
}
