{
  if (mStopping) {
    mHorizontalStrength*=STOP_SLOWDOWN;
    mVerticalStrength*=STOP_SLOWDOWN;
  }
  if (mHorizontalStrength == 0 && mVerticalStrength == 0) {
    return;
  }
  boolean firstRun=mPreviousCallbackTime == 0;
  long curTime=SystemClock.elapsedRealtime();
  int panAmount=getPanAmount(mPreviousCallbackTime,curTime);
  mPreviousCallbackTime=curTime;
  if (firstRun) {
    mStartTime=curTime;
    mVelocity=mStartVelocity;
  }
 else {
    int panX=panAmount * mHorizontalStrength / 100;
    int panY=panAmount * mVerticalStrength / 100;
    if (mCallback != null) {
      mCallback.onPan(panX,panY);
    }
  }
  mUiHandler.postDelayed(this,RUN_DELAY);
}
