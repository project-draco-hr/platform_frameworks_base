{
  final boolean visible=isShown() && mWindowVis && getWidth() > 0 && getHeight() > 0;
  final int[] loc=mLoc;
  getLocationInWindow(loc);
  final int l=loc[0];
  final int r=l + getWidth();
  final int t=loc[1];
  final int b=t + getHeight();
  View top=this;
  while (top.getParent() instanceof View) {
    top=(View)top.getParent();
  }
  if (visible) {
    info.setTouchableInsets(ViewTreeObserver.InternalInsetsInfo.TOUCHABLE_INSETS_REGION);
    info.touchableRegion.set(0,0,top.getWidth(),top.getHeight());
    info.touchableRegion.op(l,t,r,b,Region.Op.DIFFERENCE);
  }
 else {
    info.setTouchableInsets(ViewTreeObserver.InternalInsetsInfo.TOUCHABLE_INSETS_FRAME);
  }
}
