{
  Header[] headers;
  headers=request.getHeaders(Headers.CONTENT_ENCODING);
  if (headers != null) {
    for (    Header header : headers) {
      if ("gzip".equalsIgnoreCase(header.getValue())) {
        return true;
      }
    }
  }
  headers=request.getHeaders(Headers.CONTENT_TYPE);
  if (headers != null) {
    for (    Header header : headers) {
      for (      String contentType : textContentTypes) {
        if (header.getValue().startsWith(contentType)) {
          return false;
        }
      }
    }
  }
  return true;
}
