{
  if (appUid < 0) {
    loge("Invalid app in onAppRemoved: " + appUid);
    return;
  }
  Map<Integer,Boolean> apps=new HashMap<Integer,Boolean>();
  Boolean permission=null;
  String[] packages=mPackageManager.getPackagesForUid(appUid);
  if (packages != null && packages.length > 0) {
    for (    String name : packages) {
      permission=highestPermissionForUid(permission,name);
      if (permission == SYSTEM) {
        return;
      }
    }
  }
  if (permission == mApps.get(appUid)) {
    return;
  }
 else   if (permission != null) {
    mApps.put(appUid,permission);
    apps.put(appUid,permission);
    update(mUsers,apps,true);
  }
 else {
    mApps.remove(appUid);
    apps.put(appUid,NETWORK);
    update(mUsers,apps,false);
  }
}
