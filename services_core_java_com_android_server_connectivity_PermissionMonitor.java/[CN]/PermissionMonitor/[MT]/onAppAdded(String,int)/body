{
  if (TextUtils.isEmpty(appName) || appUid < 0) {
    loge("Invalid app in onAppAdded: " + appName + " | "+ appUid);
    return;
  }
  try {
    PackageInfo app=mPackageManager.getPackageInfo(appName,GET_PERMISSIONS);
    boolean isNetwork=hasNetworkPermission(app);
    boolean isSystem=hasSystemPermission(app);
    if (isNetwork || isSystem) {
      Boolean permission=mApps.get(appUid);
      if (permission == null || permission == NETWORK) {
        mApps.put(appUid,isSystem);
        Map<Integer,Boolean> apps=new HashMap<Integer,Boolean>();
        apps.put(appUid,isSystem);
        update(mUsers,apps,true);
      }
    }
  }
 catch (  NameNotFoundException e) {
    loge("NameNotFoundException in onAppAdded: " + e);
  }
}
