{
  Uri uriGlobalProxy=Settings.Secure.getUriFor(Settings.Secure.HTTP_PROXY);
  Uri uriGlobalExclList=Settings.Secure.getUriFor(Settings.Secure.HTTP_PROXY_EXCLUSION_LIST);
  sProxyInfoLock.readLock().unlock();
  sProxyInfoLock.writeLock().lock();
  try {
    sGlobalProxyChangedObserver=new SettingsObserver(ctx);
  }
  finally {
    sProxyInfoLock.readLock().lock();
    sProxyInfoLock.writeLock().unlock();
  }
  ctx.getContentResolver().registerContentObserver(uriGlobalProxy,false,sGlobalProxyChangedObserver);
  ctx.getContentResolver().registerContentObserver(uriGlobalExclList,false,sGlobalProxyChangedObserver);
}
