{
  int action=event.getActionMasked();
  Drawable background=getBackground();
switch (action) {
case MotionEvent.ACTION_DOWN:
    mDownX=event.getX();
  mDownY=event.getY();
if (!mActivated) {
  background.setHotspot(0,event.getX(),event.getY());
  mHotspotActive=true;
}
break;
case MotionEvent.ACTION_MOVE:
if (!isWithinTouchSlop(event)) {
makeInactive();
return false;
}
break;
case MotionEvent.ACTION_UP:
if (isWithinTouchSlop(event)) {
if (!mActivated) {
mActivated=true;
postDelayed(mTapTimeoutRunnable,DOUBLETAP_TIMEOUT_MS);
}
 else {
performClick();
makeInactive();
}
}
 else {
makeInactive();
}
break;
case MotionEvent.ACTION_CANCEL:
makeInactive();
break;
default :
break;
}
return true;
}
