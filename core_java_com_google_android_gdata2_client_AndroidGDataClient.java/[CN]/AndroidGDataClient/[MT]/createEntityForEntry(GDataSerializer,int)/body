{
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  try {
    entry.serialize(baos,format);
  }
 catch (  IOException ioe) {
    Log.e(TAG,"Unable to serialize entry.",ioe);
    throw ioe;
  }
catch (  ParseException pe) {
    Log.e(TAG,"Unable to serialize entry.",pe);
    throw new IOException("Unable to serialize entry: " + pe.getMessage());
  }
  byte[] entryBytes=baos.toByteArray();
  if (entryBytes != null && Log.isLoggable(TAG,Log.DEBUG)) {
    try {
      Log.d(TAG,"Serialized entry: " + new String(entryBytes,"UTF-8"));
    }
 catch (    UnsupportedEncodingException uee) {
      throw new IllegalStateException("UTF-8 should be supported!",uee);
    }
  }
  AbstractHttpEntity entity=AndroidHttpClient.getCompressedEntity(entryBytes,mResolver);
  entity.setContentType(entry.getContentType());
  return entity;
}
