{
  if (mWifiManager.isWifiEnabled()) {
    int curNetworkId=mWifiManager.getConnectionInfo().getNetworkId();
    mWifiManager.removeNetwork(curNetworkId);
    mWifiManager.saveConfiguration();
    List<WifiConfiguration> netConfList=mWifiManager.getConfiguredNetworks();
    if (netConfList != null) {
      Log.v(LOG_TAG,"remove configured network ids");
      for (int i=0; i < netConfList.size(); i++) {
        WifiConfiguration conf=new WifiConfiguration();
        conf=netConfList.get(i);
        mWifiManager.removeNetwork(conf.networkId);
      }
    }
    mWifiManager.saveConfiguration();
    if (!mWifiManager.setWifiEnabled(false)) {
      return false;
    }
    try {
      Thread.sleep(5 * 1000);
    }
 catch (    InterruptedException e) {
    }
  }
  return true;
}
