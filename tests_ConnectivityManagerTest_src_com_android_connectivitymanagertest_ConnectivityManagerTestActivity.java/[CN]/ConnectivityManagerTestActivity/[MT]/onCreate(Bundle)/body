{
  super.onCreate(savedInstanceState);
  Log.v(LOG_TAG,"onCreate, inst=" + Integer.toHexString(hashCode()));
  LinearLayout contentView=new LinearLayout(this);
  contentView.setOrientation(LinearLayout.VERTICAL);
  setContentView(contentView);
  setTitle("ConnectivityManagerTestActivity");
  mConnectivityReceiver=new ConnectivityReceiver();
  registerReceiver(mConnectivityReceiver,new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION));
  mWifiReceiver=new WifiReceiver();
  registerReceiver(mWifiReceiver,new IntentFilter(WifiManager.SCAN_RESULTS_AVAILABLE_ACTION));
  mCM=(ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);
  mWifiManager=(WifiManager)getSystemService(Context.WIFI_SERVICE);
  initializeNetworkStates();
  if (mWifiManager.isWifiEnabled()) {
    Log.v(LOG_TAG,"Clear Wifi before we start the test.");
    clearWifi();
  }
}
