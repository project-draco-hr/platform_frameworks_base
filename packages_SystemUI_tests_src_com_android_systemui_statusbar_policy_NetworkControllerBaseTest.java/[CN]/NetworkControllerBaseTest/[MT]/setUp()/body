{
  super.setUp();
  System.setProperty("dexmaker.dexcache",mContext.getCacheDir().getPath());
  Thread.currentThread().setContextClassLoader(getClass().getClassLoader());
  mMockWm=mock(WifiManager.class);
  mMockTm=mock(TelephonyManager.class);
  mMockCm=mock(ConnectivityManager.class);
  when(mMockCm.isNetworkSupported(ConnectivityManager.TYPE_MOBILE)).thenReturn(true);
  mSignalStrength=mock(SignalStrength.class);
  mServiceState=mock(ServiceState.class);
  mSignalCluster=mock(SignalCluster.class);
  mNetworkSignalChangedCallback=mock(NetworkSignalChangedCallback.class);
  mNetworkController=new NetworkControllerImpl(mContext,mMockCm,mMockTm,mMockWm);
  setupNetworkController();
}
