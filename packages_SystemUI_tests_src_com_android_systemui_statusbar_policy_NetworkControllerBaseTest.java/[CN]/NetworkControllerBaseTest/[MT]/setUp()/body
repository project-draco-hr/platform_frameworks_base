{
  super.setUp();
  System.setProperty("dexmaker.dexcache",mContext.getCacheDir().getPath());
  Thread.currentThread().setContextClassLoader(getClass().getClassLoader());
  mMockCM=mock(ConnectivityManager.class);
  when(mMockCM.isNetworkSupported(ConnectivityManager.TYPE_MOBILE)).thenReturn(true);
  mNetworkController=new FakeNetworkControllerImpl(mContext);
  mPhoneStateListener=mNetworkController.mPhoneStateListener;
  mSignalStrength=mock(SignalStrength.class);
  mServiceState=mock(ServiceState.class);
  mSignalCluster=mock(SignalCluster.class);
  mNetworkController.addSignalCluster(mSignalCluster);
}
