{
  Constructor[] constructors=testCaseClass.getConstructors();
  if (constructors.length == 0) {
    return instantiateTest(testCaseClass.getSuperclass(),testName);
  }
 else {
    for (    Constructor constructor : constructors) {
      Class[] params=constructor.getParameterTypes();
      if (noargsConstructor(params)) {
        TestCase test=((Constructor<? extends TestCase>)constructor).newInstance();
        test.setName(testName);
        return test;
      }
 else       if (singleStringConstructor(params)) {
        return ((Constructor<? extends TestCase>)constructor).newInstance(testName);
      }
    }
  }
  throw new RuntimeException("Unable to locate a constructor for " + testCaseClass.getName());
}
