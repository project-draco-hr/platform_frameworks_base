{
  Looper.prepare();
  Assert.assertNull(sWebCoreHandler);
synchronized (WebViewCore.class) {
    sWebCoreHandler=new Handler(){
      @Override public void handleMessage(      Message msg){
switch (msg.what) {
case INITIALIZE:
          WebViewCore core=(WebViewCore)msg.obj;
        core.initialize();
      break;
case REDUCE_PRIORITY:
    Process.setThreadPriority(Process.THREAD_PRIORITY_DEFAULT + 3 * Process.THREAD_PRIORITY_LESS_FAVORABLE);
  break;
case RESUME_PRIORITY:
Process.setThreadPriority(Process.THREAD_PRIORITY_DEFAULT);
break;
}
}
}
;
WebViewCore.class.notify();
}
Looper.loop();
}
