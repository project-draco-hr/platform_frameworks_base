{
  mDrawIsScheduled=false;
  DrawData draw=new DrawData();
  if (DebugFlags.WEB_VIEW_CORE)   Log.v(LOGTAG,"webkitDraw start");
  draw.mBaseLayer=nativeRecordContent(draw.mInvalRegion,draw.mWidthHeight);
  if (draw.mBaseLayer == 0) {
    if (DebugFlags.WEB_VIEW_CORE)     Log.v(LOGTAG,"webkitDraw abort");
    return;
  }
  if (mWebView != null) {
    draw.mFocusSizeChanged=nativeFocusBoundsChanged();
    draw.mViewPoint=new Point(mCurrentViewWidth,mCurrentViewHeight);
    if (mSettings.getUseWideViewPort()) {
      draw.mMinPrefWidth=Math.max(mViewportWidth == -1 ? WebView.DEFAULT_VIEWPORT_WIDTH : (mViewportWidth == 0 ? mCurrentViewWidth : mViewportWidth),nativeGetContentMinPrefWidth());
    }
    if (mInitialViewState != null) {
      draw.mViewState=mInitialViewState;
      if (mViewportWidth == -1 && mSettings.getUseFixedViewport() && mSettings.getUseWideViewPort()) {
        mViewportWidth=Math.min(mSettings.getMaxFixedViewportWidth(),draw.mMinPrefWidth);
        draw.mViewState.mViewportWidth=mViewportWidth;
      }
      mInitialViewState=null;
    }
    if (DebugFlags.WEB_VIEW_CORE)     Log.v(LOGTAG,"webkitDraw NEW_PICTURE_MSG_ID");
    Message.obtain(mWebView.mPrivateHandler,WebView.NEW_PICTURE_MSG_ID,draw).sendToTarget();
    if (mWebkitScrollX != 0 || mWebkitScrollY != 0) {
      Message.obtain(mWebView.mPrivateHandler,WebView.SYNC_SCROLL_TO_MSG_ID,mWebkitScrollX,mWebkitScrollY).sendToTarget();
      mWebkitScrollX=mWebkitScrollY=0;
    }
  }
}
