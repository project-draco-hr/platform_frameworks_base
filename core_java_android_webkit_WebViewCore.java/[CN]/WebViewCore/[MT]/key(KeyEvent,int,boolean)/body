{
  if (DebugFlags.WEB_VIEW_CORE) {
    Log.v(LOGTAG,"CORE key at " + System.currentTimeMillis() + ", "+ evt);
  }
  mChromeCanFocusDirection=canTakeFocusDirection;
  int keyCode=evt.getKeyCode();
  int unicodeChar=evt.getUnicodeChar();
  if (keyCode == KeyEvent.KEYCODE_UNKNOWN && evt.getCharacters() != null && evt.getCharacters().length() > 0) {
    unicodeChar=evt.getCharacters().codePointAt(0);
  }
  boolean handled=nativeKey(mNativeClass,keyCode,unicodeChar,evt.getRepeatCount(),evt.isShiftPressed(),evt.isAltPressed(),evt.isSymPressed(),isDown);
  mChromeCanFocusDirection=0;
  if (!handled && keyCode != KeyEvent.KEYCODE_ENTER) {
    if (keyCode >= KeyEvent.KEYCODE_DPAD_UP && keyCode <= KeyEvent.KEYCODE_DPAD_RIGHT) {
      if (canTakeFocusDirection != 0 && isDown) {
        Message m=mWebViewClassic.mPrivateHandler.obtainMessage(WebViewClassic.TAKE_FOCUS);
        m.arg1=canTakeFocusDirection;
        m.sendToTarget();
      }
      return;
    }
    mCallbackProxy.onUnhandledKeyEvent(evt);
  }
}
