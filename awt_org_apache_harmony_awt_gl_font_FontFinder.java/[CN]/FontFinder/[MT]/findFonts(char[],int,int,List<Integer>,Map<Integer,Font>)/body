{
  Font prevFont=null;
  Font currFont;
  for (int i=runStart; i < runLimit; i++) {
    currFont=findFontForChar(text[i]);
    if (currFont != prevFont) {
      prevFont=currFont;
      Integer idx=new Integer(i);
      fonts.put(idx,currFont);
      if (i != runStart) {
        runStarts.add(idx);
      }
    }
  }
}
