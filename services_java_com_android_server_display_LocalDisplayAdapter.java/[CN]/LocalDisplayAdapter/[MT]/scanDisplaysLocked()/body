{
  for (  int builtInDisplayId : BUILT_IN_DISPLAY_IDS_TO_SCAN) {
    IBinder displayToken=Surface.getBuiltInDisplay(builtInDisplayId);
    if (displayToken != null && Surface.getDisplayInfo(displayToken,mTempPhys)) {
      LocalDisplayDevice device=mDevices.get(builtInDisplayId);
      if (device == null) {
        device=new LocalDisplayDevice(displayToken,builtInDisplayId,mTempPhys);
        mDevices.put(builtInDisplayId,device);
        sendDisplayDeviceEventLocked(device,DISPLAY_DEVICE_EVENT_ADDED);
      }
 else       if (device.updatePhysicalDisplayInfoLocked(mTempPhys)) {
        sendDisplayDeviceEventLocked(device,DISPLAY_DEVICE_EVENT_CHANGED);
      }
    }
 else {
      LocalDisplayDevice device=mDevices.get(builtInDisplayId);
      if (device != null) {
        mDevices.remove(builtInDisplayId);
        sendDisplayDeviceEventLocked(device,DISPLAY_DEVICE_EVENT_REMOVED);
      }
    }
  }
}
