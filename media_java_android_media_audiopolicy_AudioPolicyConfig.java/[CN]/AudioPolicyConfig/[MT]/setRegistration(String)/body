{
  final boolean currentRegNull=(mRegistrationId == null) || mRegistrationId.isEmpty();
  final boolean newRegNull=(regId == null) || regId.isEmpty();
  if (!currentRegNull && !newRegNull && !mRegistrationId.equals(regId)) {
    Log.e(TAG,"Invalid registration transition from " + mRegistrationId + " to "+ regId);
    return;
  }
  mRegistrationId=regId == null ? "" : regId;
  int mixIndex=0;
  for (  AudioMix mix : mMixes) {
    if (!mRegistrationId.isEmpty()) {
      mix.setRegistration(mRegistrationId + "mix" + mixTypeId(mix.getMixType())+ ":"+ mixIndex++);
    }
 else {
      mix.setRegistration("");
    }
  }
}
