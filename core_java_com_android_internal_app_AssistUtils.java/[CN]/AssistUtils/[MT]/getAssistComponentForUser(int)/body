{
  final String setting=Settings.Secure.getStringForUser(mContext.getContentResolver(),Settings.Secure.ASSISTANT,userId);
  if (setting != null) {
    return ComponentName.unflattenFromString(setting);
  }
  if (activeServiceSupportsAssistGesture()) {
    return getActiveServiceComponentName();
  }
  Intent intent=((SearchManager)mContext.getSystemService(Context.SEARCH_SERVICE)).getAssistIntent(mContext,false,userId);
  if (intent != null) {
    return intent.getComponent();
  }
  return null;
}
