{
  final PrintServiceCallbacks service=mock(PrintServiceCallbacks.class);
  doCallRealMethod().when(service).setService(any(PrintService.class));
  when(service.getService()).thenCallRealMethod();
  if (onCreatePrinterDiscoverySessionCallbacks != null) {
    doAnswer(onCreatePrinterDiscoverySessionCallbacks).when(service).onCreatePrinterDiscoverySessionCallbacks();
  }
  if (onPrintJobQueued != null) {
    doAnswer(onPrintJobQueued).when(service).onPrintJobQueued(any(PrintJob.class));
  }
  if (onRequestCancelPrintJob != null) {
    doAnswer(onRequestCancelPrintJob).when(service).onRequestCancelPrintJob(any(PrintJob.class));
  }
  return service;
}
