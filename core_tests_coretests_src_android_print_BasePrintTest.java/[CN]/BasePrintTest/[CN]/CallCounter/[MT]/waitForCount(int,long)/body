{
synchronized (mLock) {
    final long startTimeMillis=SystemClock.uptimeMillis();
    while (mCallCount < count) {
      try {
        final long elapsedTimeMillis=SystemClock.uptimeMillis() - startTimeMillis;
        final long remainingTimeMillis=timeoutMillis - elapsedTimeMillis;
        if (remainingTimeMillis <= 0) {
          throw new TimeoutException();
        }
        mLock.wait(timeoutMillis);
      }
 catch (      InterruptedException ie) {
      }
    }
  }
}
