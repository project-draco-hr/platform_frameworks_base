{
  try (BufferedReader reader=new BufferedReader(new FileReader(sProcFile))){
    TextUtils.SimpleStringSplitter splitter=new TextUtils.SimpleStringSplitter(' ');
    String line;
    while ((line=reader.readLine()) != null) {
      splitter.setString(line);
      final String uidStr=splitter.next();
      final int uid=Integer.parseInt(uidStr.substring(0,uidStr.length() - 1),10);
      final long userTimeUs=Long.parseLong(splitter.next(),10);
      final long systemTimeUs=Long.parseLong(splitter.next(),10);
      if (callback != null) {
        int index=mLastUserTimeUs.indexOfKey(uid);
        if (index < 0) {
          callback.onUidCpuTime(uid,userTimeUs,systemTimeUs);
        }
 else {
          callback.onUidCpuTime(uid,userTimeUs - mLastUserTimeUs.valueAt(index),systemTimeUs - mLastSystemTimeUs.valueAt(index));
        }
      }
      mLastUserTimeUs.put(uid,userTimeUs);
      mLastSystemTimeUs.put(uid,systemTimeUs);
    }
  }
 catch (  IOException e) {
    Slog.e(TAG,"Failed to read uid_cputime",e);
  }
}
