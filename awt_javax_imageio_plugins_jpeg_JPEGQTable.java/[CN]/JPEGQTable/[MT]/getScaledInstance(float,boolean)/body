{
  int table[]=new int[SIZE];
  int maxValue=forceBaseline ? BASELINE_MAX : MAX;
  for (int i=0; i < theTable.length; i++) {
    int rounded=Math.round(theTable[i] * scaleFactor);
    if (rounded < 1) {
      rounded=1;
    }
    if (rounded > maxValue) {
      rounded=maxValue;
    }
    table[i]=rounded;
  }
  return new JPEGQTable(table);
}
