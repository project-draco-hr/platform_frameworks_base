{
  mContext=context;
  mConfig=config;
  mReceiverHandler=new Handler(bgLooper);
  mCallbackHandler=callbackHandler;
  mDataSaverController=new DataSaverController(context);
  mSubscriptionManager=subManager;
  mSubDefaults=defaultsHandler;
  mConnectivityManager=connectivityManager;
  mHasMobileDataFeature=mConnectivityManager.isNetworkSupported(ConnectivityManager.TYPE_MOBILE);
  mPhone=telephonyManager;
  mWifiManager=wifiManager;
  mLocale=mContext.getResources().getConfiguration().locale;
  mAccessPoints=accessPointController;
  mDataUsageController=dataUsageController;
  mDataUsageController.setNetworkController(this);
  mDataUsageController.setCallback(new DataUsageController.Callback(){
    @Override public void onMobileDataEnabled(    boolean enabled){
      mCallbackHandler.setMobileDataEnabled(enabled);
    }
  }
);
  mWifiSignalController=new WifiSignalController(mContext,mHasMobileDataFeature,mCallbackHandler,this);
  mEthernetSignalController=new EthernetSignalController(mContext,mCallbackHandler,this);
  updateAirplaneMode(true);
}
