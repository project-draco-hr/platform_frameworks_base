{
  mContext=context;
  mConnectivityManager=connectivityManager;
  mHasMobileDataFeature=mConnectivityManager.isNetworkSupported(ConnectivityManager.TYPE_MOBILE);
  mPhone=(TelephonyManager)mContext.getSystemService(Context.TELEPHONY_SERVICE);
  mWifiManager=wifiManager;
  mLocale=mContext.getResources().getConfiguration().locale;
  mAccessPoints=accessPointController;
  mMobileDataController=mobileDataController;
  mMobileDataController.setNetworkController(this);
  mMobileDataController.setCallback(new MobileDataControllerImpl.Callback(){
    @Override public void onMobileDataEnabled(    boolean enabled){
      notifyMobileDataEnabled(enabled);
    }
  }
);
  mWifiSignalController=new WifiSignalController(mContext,mHasMobileDataFeature,mSignalsChangedCallbacks,mSignalClusters,this);
  mMobileSignalController=new MobileSignalController(mContext,config,mHasMobileDataFeature,mPhone,mSignalsChangedCallbacks,mSignalClusters,this);
  updateAirplaneMode(true);
  mAccessPoints.setNetworkController(this);
}
