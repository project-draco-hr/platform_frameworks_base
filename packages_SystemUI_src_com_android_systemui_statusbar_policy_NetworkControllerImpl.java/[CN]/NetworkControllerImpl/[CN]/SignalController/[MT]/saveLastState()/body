{
  if (RECORD_HISTORY) {
    recordLast();
  }
  mCurrentState.time=System.currentTimeMillis();
  mLastState.copyFrom(mCurrentState);
}
