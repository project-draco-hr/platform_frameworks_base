{
  int iconId;
  boolean visible=true;
  if (!isCdma()) {
    if (mSimState == IccCardConstants.State.READY || mSimState == IccCardConstants.State.UNKNOWN) {
      mNoSim=false;
      if (hasService() && mDataState == TelephonyManager.DATA_CONNECTED) {
switch (mDataActivity) {
case TelephonyManager.DATA_ACTIVITY_IN:
          iconId=mDataIconList[1];
        break;
case TelephonyManager.DATA_ACTIVITY_OUT:
      iconId=mDataIconList[2];
    break;
case TelephonyManager.DATA_ACTIVITY_INOUT:
  iconId=mDataIconList[3];
break;
default :
iconId=mDataIconList[0];
break;
}
mDataDirectionIconId=iconId;
}
 else {
iconId=0;
visible=false;
}
}
 else {
iconId=R.drawable.stat_sys_no_sim;
mNoSim=true;
visible=false;
}
}
 else {
if (hasService() && mDataState == TelephonyManager.DATA_CONNECTED) {
switch (mDataActivity) {
case TelephonyManager.DATA_ACTIVITY_IN:
iconId=mDataIconList[1];
break;
case TelephonyManager.DATA_ACTIVITY_OUT:
iconId=mDataIconList[2];
break;
case TelephonyManager.DATA_ACTIVITY_INOUT:
iconId=mDataIconList[3];
break;
case TelephonyManager.DATA_ACTIVITY_DORMANT:
default :
iconId=mDataIconList[0];
break;
}
}
 else {
iconId=0;
visible=false;
}
}
mDataDirectionIconId=iconId;
mDataConnected=visible;
}
