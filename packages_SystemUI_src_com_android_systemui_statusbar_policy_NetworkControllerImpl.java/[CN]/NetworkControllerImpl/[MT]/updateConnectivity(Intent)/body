{
  final NetworkInfo info=mConnectivityManager.getActiveNetworkInfo();
  mConnected=info != null && info.isConnected();
  if (mConnected) {
    mConnectedNetworkType=info.getType();
    mConnectedNetworkTypeName=info.getTypeName();
  }
 else {
    mConnectedNetworkType=ConnectivityManager.TYPE_NONE;
    mConnectedNetworkTypeName=null;
  }
  int connectionStatus=intent.getIntExtra(ConnectivityManager.EXTRA_INET_CONDITION,0);
  if (CHATTY) {
    Log.d(TAG,"updateConnectivity: networkInfo=" + info);
    Log.d(TAG,"updateConnectivity: connectionStatus=" + connectionStatus);
  }
  mInetCondition=connectionStatus > INET_CONDITION_THRESHOLD;
  if (info != null && info.getType() == ConnectivityManager.TYPE_BLUETOOTH) {
    mBluetoothTethered=info.isConnected();
  }
 else {
    mBluetoothTethered=false;
  }
  for (  MobileSignalController mobileSignalController : mMobileSignalControllers.values()) {
    mobileSignalController.setInetCondition(mInetCondition ? 1 : 0,inetConditionForNetwork(mobileSignalController.getNetworkType(),mInetCondition));
  }
  mWifiSignalController.setInetCondition(inetConditionForNetwork(mWifiSignalController.getNetworkType(),mInetCondition));
}
