{
  mVelocityTracker.addMovement(event);
  int x=(int)event.getX();
  int y=(int)event.getY();
  int xDiff=Math.abs(x - mTouchDownX);
  int yDiff=Math.abs(y - mTouchDownY);
  if (!mDockWindowTouchSlopExceeded) {
    boolean touchSlopExceeded=!mIsVertical ? yDiff > mTouchSlop && yDiff > xDiff : xDiff > mTouchSlop && xDiff > yDiff;
    if (touchSlopExceeded && mDivider.getView().getWindowManagerProxy().getDockSide() == DOCKED_INVALID) {
      mDragMode=calculateDragMode();
      mRecentsComponent.dockTopTask(mDragMode == DRAG_MODE_RECENTS);
      if (mDragMode == DRAG_MODE_DIVIDER) {
        mDivider.getView().startDragging();
      }
      mDockWindowTouchSlopExceeded=true;
      return true;
    }
  }
 else {
    if (mDragMode == DRAG_MODE_DIVIDER) {
      mDivider.getView().resizeStack(!mIsVertical ? (int)event.getRawY() : (int)event.getRawX());
    }
 else     if (mDragMode == DRAG_MODE_RECENTS) {
      mRecentsComponent.onDraggingInRecents(event.getRawY());
    }
  }
  return false;
}
