{
  if (mKeys == null) {
    mKeys=new int[INITIAL_SIZE];
  }
  if (mCoordinates == null) {
    mCoordinates=new float[INITIAL_SIZE * 4];
  }
  if (mFlagsArray == null) {
    mFlagsArray=new int[INITIAL_SIZE];
  }
  final int requiredIndexArraySize=mCount + 1;
  if (mKeys.length <= requiredIndexArraySize) {
    final int[] newArray=new int[requiredIndexArraySize * 2];
    System.arraycopy(mKeys,0,newArray,0,mCount);
    mKeys=newArray;
  }
  final int requiredCoordinatesArraySize=(mCount + 1) * 4;
  if (mCoordinates.length <= requiredCoordinatesArraySize) {
    final float[] newArray=new float[requiredCoordinatesArraySize * 2];
    System.arraycopy(mCoordinates,0,newArray,0,mCount * 4);
    mCoordinates=newArray;
  }
  final int requiredFlagsArraySize=requiredIndexArraySize;
  if (mFlagsArray.length <= requiredFlagsArraySize) {
    final int[] newArray=new int[requiredFlagsArraySize * 2];
    System.arraycopy(mFlagsArray,0,newArray,0,mCount);
    mFlagsArray=newArray;
  }
}
