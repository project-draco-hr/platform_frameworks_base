{
  if (MidiManager.BLUETOOTH_MIDI_SERVICE_INTENT.equals(intent.getAction())) {
    BluetoothDevice bluetoothDevice=(BluetoothDevice)intent.getParcelableExtra("device");
    if (bluetoothDevice == null) {
      Log.e(TAG,"no BluetoothDevice in onBind intent");
      return null;
    }
    BluetoothMidiDevice device;
synchronized (mDeviceServerMap) {
      device=mDeviceServerMap.get(bluetoothDevice);
      if (device == null) {
        device=new BluetoothMidiDevice(this,bluetoothDevice,this);
        mDeviceServerMap.put(bluetoothDevice,device);
      }
    }
    return device.getBinder();
  }
  return null;
}
