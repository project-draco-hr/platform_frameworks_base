{
  if (listener == null) {
    throw new IllegalArgumentException("listener must not be null");
  }
synchronized (mInputDevicesLock) {
    int callingPid=Binder.getCallingPid();
    if (mInputDevicesChangedListeners.get(callingPid) != null) {
      throw new SecurityException("The calling process has already " + "registered an InputDevicesChangedListener.");
    }
    InputDevicesChangedListenerRecord record=new InputDevicesChangedListenerRecord(callingPid,listener);
    try {
      IBinder binder=listener.asBinder();
      binder.linkToDeath(record,0);
    }
 catch (    RemoteException ex) {
      throw new RuntimeException(ex);
    }
    mInputDevicesChangedListeners.put(callingPid,record);
  }
}
