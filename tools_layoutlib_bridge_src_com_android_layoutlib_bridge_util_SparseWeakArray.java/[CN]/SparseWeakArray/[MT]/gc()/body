{
  int n=mSize;
  int o=0;
  int[] keys=mKeys;
  WeakReference<?>[] values=mValues;
  for (int i=0; i < n; i++) {
    WeakReference<?> val=values[i];
    if (val != DELETED && val.get() != null) {
      if (i != o) {
        keys[o]=keys[i];
        values[o]=val;
      }
      o++;
    }
  }
  mGarbage=false;
  mSize=o;
}
