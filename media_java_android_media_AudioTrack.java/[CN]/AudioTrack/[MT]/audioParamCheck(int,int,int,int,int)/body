{
  if ((streamType != AudioManager.STREAM_ALARM) && (streamType != AudioManager.STREAM_MUSIC) && (streamType != AudioManager.STREAM_RING)&& (streamType != AudioManager.STREAM_SYSTEM)&& (streamType != AudioManager.STREAM_VOICE_CALL)&& (streamType != AudioManager.STREAM_NOTIFICATION)&& (streamType != AudioManager.STREAM_BLUETOOTH_SCO)&& (streamType != AudioManager.STREAM_DTMF)) {
    throw new IllegalArgumentException("Invalid stream type.");
  }
  mStreamType=streamType;
  if ((sampleRateInHz < 4000) || (sampleRateInHz > 48000)) {
    throw new IllegalArgumentException(sampleRateInHz + "Hz is not a supported sample rate.");
  }
  mSampleRate=sampleRateInHz;
  mChannelConfiguration=channelConfig;
switch (channelConfig) {
case AudioFormat.CHANNEL_OUT_DEFAULT:
case AudioFormat.CHANNEL_OUT_MONO:
case AudioFormat.CHANNEL_CONFIGURATION_MONO:
    mChannelCount=1;
  mChannels=AudioFormat.CHANNEL_OUT_MONO;
break;
case AudioFormat.CHANNEL_OUT_STEREO:
case AudioFormat.CHANNEL_CONFIGURATION_STEREO:
mChannelCount=2;
mChannels=AudioFormat.CHANNEL_OUT_STEREO;
break;
default :
if (!isMultichannelConfigSupported(channelConfig)) {
throw new IllegalArgumentException("Unsupported channel configuration.");
}
mChannels=channelConfig;
mChannelCount=Integer.bitCount(channelConfig);
}
if (audioFormat == AudioFormat.ENCODING_DEFAULT) {
audioFormat=AudioFormat.ENCODING_PCM_16BIT;
}
if (!AudioFormat.isValidEncoding(audioFormat)) {
throw new IllegalArgumentException("Unsupported audio encoding.");
}
mAudioFormat=audioFormat;
if (((mode != MODE_STREAM) && (mode != MODE_STATIC)) || ((mode != MODE_STREAM) && !AudioFormat.isEncodingLinearPcm(mAudioFormat))) {
throw new IllegalArgumentException("Invalid mode.");
}
mDataLoadMode=mode;
}
