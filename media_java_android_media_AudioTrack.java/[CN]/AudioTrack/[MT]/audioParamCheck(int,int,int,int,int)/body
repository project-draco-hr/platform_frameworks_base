{
  if ((streamType != AudioManager.STREAM_ALARM) && (streamType != AudioManager.STREAM_MUSIC) && (streamType != AudioManager.STREAM_RING)&& (streamType != AudioManager.STREAM_SYSTEM)&& (streamType != AudioManager.STREAM_VOICE_CALL)&& (streamType != AudioManager.STREAM_NOTIFICATION)&& (streamType != AudioManager.STREAM_BLUETOOTH_SCO)&& (streamType != AudioManager.STREAM_DTMF)) {
    throw new IllegalArgumentException("Invalid stream type.");
  }
 else {
    mStreamType=streamType;
  }
  if ((sampleRateInHz < 4000) || (sampleRateInHz > 48000)) {
    throw new IllegalArgumentException(sampleRateInHz + "Hz is not a supported sample rate.");
  }
 else {
    mSampleRate=sampleRateInHz;
  }
  mChannelConfiguration=channelConfig;
switch (channelConfig) {
case AudioFormat.CHANNEL_OUT_DEFAULT:
case AudioFormat.CHANNEL_OUT_MONO:
case AudioFormat.CHANNEL_CONFIGURATION_MONO:
    mChannelCount=1;
  mChannels=AudioFormat.CHANNEL_OUT_MONO;
break;
case AudioFormat.CHANNEL_OUT_STEREO:
case AudioFormat.CHANNEL_CONFIGURATION_STEREO:
mChannelCount=2;
mChannels=AudioFormat.CHANNEL_OUT_STEREO;
break;
default :
if (!isMultichannelConfigSupported(channelConfig)) {
mChannelCount=0;
mChannels=AudioFormat.CHANNEL_INVALID;
mChannelConfiguration=AudioFormat.CHANNEL_INVALID;
throw new IllegalArgumentException("Unsupported channel configuration.");
}
 else {
mChannels=channelConfig;
mChannelCount=Integer.bitCount(channelConfig);
}
}
switch (audioFormat) {
case AudioFormat.ENCODING_DEFAULT:
mAudioFormat=AudioFormat.ENCODING_PCM_16BIT;
break;
case AudioFormat.ENCODING_PCM_16BIT:
case AudioFormat.ENCODING_PCM_8BIT:
mAudioFormat=audioFormat;
break;
default :
mAudioFormat=AudioFormat.ENCODING_INVALID;
throw new IllegalArgumentException("Unsupported sample encoding." + " Should be ENCODING_PCM_8BIT or ENCODING_PCM_16BIT.");
}
if ((mode != MODE_STREAM) && (mode != MODE_STATIC)) {
throw new IllegalArgumentException("Invalid mode.");
}
 else {
mDataLoadMode=mode;
}
}
