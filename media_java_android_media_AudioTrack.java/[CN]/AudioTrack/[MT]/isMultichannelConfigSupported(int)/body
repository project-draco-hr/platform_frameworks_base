{
  if ((channelConfig & SUPPORTED_OUT_CHANNELS) != channelConfig) {
    loge("Channel configuration features unsupported channels");
    return false;
  }
  final int channelCount=AudioFormat.channelCountFromOutChannelMask(channelConfig);
  if (channelCount > CHANNEL_COUNT_MAX) {
    loge("Channel configuration contains too many channels " + channelCount + ">"+ CHANNEL_COUNT_MAX);
    return false;
  }
  final int frontPair=AudioFormat.CHANNEL_OUT_FRONT_LEFT | AudioFormat.CHANNEL_OUT_FRONT_RIGHT;
  if ((channelConfig & frontPair) != frontPair) {
    loge("Front channels must be present in multichannel configurations");
    return false;
  }
  final int backPair=AudioFormat.CHANNEL_OUT_BACK_LEFT | AudioFormat.CHANNEL_OUT_BACK_RIGHT;
  if ((channelConfig & backPair) != 0) {
    if ((channelConfig & backPair) != backPair) {
      loge("Rear channels can't be used independently");
      return false;
    }
  }
  final int sidePair=AudioFormat.CHANNEL_OUT_SIDE_LEFT | AudioFormat.CHANNEL_OUT_SIDE_RIGHT;
  if ((channelConfig & sidePair) != 0 && (channelConfig & sidePair) != sidePair) {
    loge("Side channels can't be used independently");
    return false;
  }
  return true;
}
