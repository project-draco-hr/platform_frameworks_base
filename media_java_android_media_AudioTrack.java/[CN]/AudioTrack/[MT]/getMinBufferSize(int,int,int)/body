{
  int channelCount=0;
switch (channelConfig) {
case AudioFormat.CHANNEL_OUT_MONO:
    channelCount=1;
  break;
case AudioFormat.CHANNEL_OUT_STEREO:
channelCount=2;
break;
default :
loge("getMinBufferSize(): Invalid channel configuration.");
return AudioTrack.ERROR_BAD_VALUE;
}
if ((audioFormat != AudioFormat.ENCODING_PCM_16BIT) && (audioFormat != AudioFormat.ENCODING_PCM_8BIT)) {
loge("getMinBufferSize(): Invalid audio format.");
return AudioTrack.ERROR_BAD_VALUE;
}
if ((sampleRateInHz < 4000) || (sampleRateInHz > 48000)) {
loge("getMinBufferSize(): " + sampleRateInHz + "Hz is not a supported sample rate.");
return AudioTrack.ERROR_BAD_VALUE;
}
int size=native_get_min_buff_size(sampleRateInHz,channelCount,audioFormat);
if ((size == -1) || (size == 0)) {
loge("getMinBufferSize(): error querying hardware");
return AudioTrack.ERROR;
}
 else {
return size;
}
}
