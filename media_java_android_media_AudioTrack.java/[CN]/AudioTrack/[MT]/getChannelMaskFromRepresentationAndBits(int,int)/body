{
switch (representation) {
case CHANNEL_OUT_REPRESENTATION_POSITION:
case CHANNEL_OUT_REPRESENTATION_INDEX:
    if ((bits & ~((1 << AUDIO_CHANNEL_BITS_LOG2) - 1)) != 0) {
      throw new IllegalArgumentException("invalid bits " + bits);
    }
  return representation << AUDIO_CHANNEL_BITS_LOG2 | bits;
default :
throw new IllegalArgumentException("invalid representation " + representation);
}
}
