{
  int frameSizeInBytes=mChannelCount * (AudioFormat.getBytesPerSample(mAudioFormat));
  if ((audioBufferSize % frameSizeInBytes != 0) || (audioBufferSize < 1)) {
    throw new IllegalArgumentException("Invalid audio buffer size.");
  }
  mNativeBufferSizeInBytes=audioBufferSize;
  mNativeBufferSizeInFrames=audioBufferSize / frameSizeInBytes;
}
