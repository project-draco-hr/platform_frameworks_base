{
  int frameSizeInBytes=mChannelCount * (mAudioFormat == AudioFormat.ENCODING_PCM_8BIT ? 1 : 2);
  if ((audioBufferSize % frameSizeInBytes != 0) || (audioBufferSize < 1)) {
    throw new IllegalArgumentException("Invalid audio buffer size.");
  }
  mNativeBufferSizeInBytes=audioBufferSize;
  mNativeBufferSizeInFrames=audioBufferSize / frameSizeInBytes;
}
