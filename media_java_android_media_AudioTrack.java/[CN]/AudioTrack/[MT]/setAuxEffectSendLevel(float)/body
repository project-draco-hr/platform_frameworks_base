{
  if (isRestricted()) {
    return SUCCESS;
  }
  if (mState == STATE_UNINITIALIZED) {
    return ERROR_INVALID_OPERATION;
  }
  if (level < getMinVolume()) {
    level=getMinVolume();
  }
  if (level > getMaxVolume()) {
    level=getMaxVolume();
  }
  int err=native_setAuxEffectSendLevel(level);
  return err == 0 ? SUCCESS : ERROR;
}
