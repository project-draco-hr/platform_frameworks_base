{
  if (sampleRateInHz < SAMPLE_RATE_HZ_MIN || sampleRateInHz > SAMPLE_RATE_HZ_MAX) {
    throw new IllegalArgumentException(sampleRateInHz + "Hz is not a supported sample rate.");
  }
  mSampleRate=sampleRateInHz;
  mChannelConfiguration=channelConfig;
switch (channelConfig) {
case AudioFormat.CHANNEL_OUT_DEFAULT:
case AudioFormat.CHANNEL_OUT_MONO:
case AudioFormat.CHANNEL_CONFIGURATION_MONO:
    mChannelCount=1;
  mChannels=AudioFormat.CHANNEL_OUT_MONO;
break;
case AudioFormat.CHANNEL_OUT_STEREO:
case AudioFormat.CHANNEL_CONFIGURATION_STEREO:
mChannelCount=2;
mChannels=AudioFormat.CHANNEL_OUT_STEREO;
break;
default :
if (!isMultichannelConfigSupported(channelConfig)) {
throw new IllegalArgumentException("Unsupported channel configuration.");
}
mChannels=channelConfig;
mChannelCount=AudioFormat.channelCountFromOutChannelMask(channelConfig);
}
if (audioFormat == AudioFormat.ENCODING_DEFAULT) {
audioFormat=AudioFormat.ENCODING_PCM_16BIT;
}
if (!AudioFormat.isValidEncoding(audioFormat)) {
throw new IllegalArgumentException("Unsupported audio encoding.");
}
mAudioFormat=audioFormat;
if (((mode != MODE_STREAM) && (mode != MODE_STATIC)) || ((mode != MODE_STREAM) && !AudioFormat.isEncodingLinearPcm(mAudioFormat))) {
throw new IllegalArgumentException("Invalid mode.");
}
mDataLoadMode=mode;
}
