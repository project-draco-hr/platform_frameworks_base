{
  mContext=context;
  mVCardType=vcardType;
  mCareHandlerErrors=careHandlerErrors;
  mContentResolver=context.getContentResolver();
  mIsDoCoMo=VCardConfig.isDoCoMo(vcardType);
  mHandlerList=new ArrayList<OneEntryHandler>();
  if (mIsDoCoMo || VCardConfig.shouldUseShiftJisForExport(vcardType)) {
    if (!SHIFT_JIS.equalsIgnoreCase(charset)) {
      Log.w(LOG_TAG,"The charset \"" + charset + "\" is used while "+ SHIFT_JIS+ " is needed to be used.");
      if (TextUtils.isEmpty(charset)) {
        mCharset=SHIFT_JIS;
      }
 else {
        try {
          charset=CharsetUtils.charsetForVendor(charset).name();
        }
 catch (        UnsupportedCharsetException e) {
          Log.i(LOG_TAG,"Career-specific \"" + charset + "\" was not found (as usual). "+ "Use it as is.");
        }
        mCharset=charset;
      }
    }
 else {
      if (mIsDoCoMo) {
        try {
          charset=CharsetUtils.charsetForVendor(SHIFT_JIS,"docomo").name();
        }
 catch (        UnsupportedCharsetException e) {
          Log.e(LOG_TAG,"DoCoMo-specific SHIFT_JIS was not found. " + "Use SHIFT_JIS as is.");
          charset=SHIFT_JIS;
        }
      }
 else {
        try {
          charset=CharsetUtils.charsetForVendor(SHIFT_JIS).name();
        }
 catch (        UnsupportedCharsetException e) {
          Log.e(LOG_TAG,"Career-specific SHIFT_JIS was not found. " + "Use SHIFT_JIS as is.");
          charset=SHIFT_JIS;
        }
      }
      mCharset=charset;
    }
  }
 else {
    if (TextUtils.isEmpty(charset)) {
      mCharset=UTF_8;
    }
 else {
      try {
        charset=CharsetUtils.charsetForVendor(charset).name();
      }
 catch (      UnsupportedCharsetException e) {
        Log.i(LOG_TAG,"Career-specific \"" + charset + "\" was not found (as usual). "+ "Use it as is.");
      }
      mCharset=charset;
    }
  }
  Log.d(LOG_TAG,"Use the charset \"" + mCharset + "\"");
}
