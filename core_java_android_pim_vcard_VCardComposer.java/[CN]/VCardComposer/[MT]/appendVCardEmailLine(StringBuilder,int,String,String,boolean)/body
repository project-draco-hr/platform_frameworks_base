{
  final String typeAsString;
switch (type) {
case Email.TYPE_CUSTOM:
{
      if (android.provider.Contacts.ContactMethodsColumns.MOBILE_EMAIL_TYPE_NAME.equals(label)) {
        typeAsString=Constants.ATTR_TYPE_CELL;
      }
 else       if (mUsesAndroidProperty && !TextUtils.isEmpty(label) && VCardUtils.containsOnlyAlphaDigitHyphen(label)) {
        typeAsString="X-" + label;
      }
 else {
        typeAsString=null;
      }
      break;
    }
case Email.TYPE_HOME:
{
    typeAsString=Constants.ATTR_TYPE_HOME;
    break;
  }
case Email.TYPE_WORK:
{
  typeAsString=Constants.ATTR_TYPE_WORK;
  break;
}
case Email.TYPE_OTHER:
{
typeAsString=null;
break;
}
case Email.TYPE_MOBILE:
{
typeAsString=Constants.ATTR_TYPE_CELL;
break;
}
default :
{
Log.e(LOG_TAG,"Unknown Email type: " + type);
typeAsString=null;
break;
}
}
final List<String> attributeList=new ArrayList<String>();
if (isPrimary) {
attributeList.add(Constants.ATTR_TYPE_PREF);
}
if (!TextUtils.isEmpty(typeAsString)) {
attributeList.add(typeAsString);
}
appendVCardLineWithCharsetAndQPDetection(builder,Constants.PROPERTY_EMAIL,attributeList,rawData);
}
