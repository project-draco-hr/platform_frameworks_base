{
  String action=intent.getAction();
  if (action.equals(WifiManager.WIFI_STATE_CHANGED_ACTION)) {
    mWifiState=intent.getIntExtra(WifiManager.EXTRA_WIFI_STATE,WifiManager.WIFI_STATE_DISABLED);
  }
 else   if (action.equals(WifiManager.WIFI_AP_STATE_CHANGED_ACTION)) {
    mWifiApState=intent.getIntExtra(WifiManager.EXTRA_WIFI_AP_STATE,WifiManager.WIFI_AP_STATE_DISABLED);
  }
 else   if (action.equals(Intent.ACTION_AIRPLANE_MODE_CHANGED)) {
    mP2pStateMachine.sendMessage(AIRPLANE_MODE_CHANGED);
  }
 else   if (action.equals(TelephonyIntents.ACTION_EMERGENCY_CALLBACK_MODE_CHANGED)) {
    if (intent.getBooleanExtra("phoneinECMState",false) == true) {
      mP2pStateMachine.sendMessage(EMERGENCY_CALLBACK_MODE);
    }
  }
}
