{
  if (DBG)   logd(getName() + message.toString());
  boolean ret=HANDLED;
switch (message.what) {
case GROUP_CREATING_TIMED_OUT:
    if (mGroupCreatingTimeoutIndex == message.arg1) {
      if (DBG)       logd("Group negotiation timed out");
      handleGroupCreationFailure();
      transitionTo(mInactiveState);
    }
  break;
case WifiMonitor.P2P_DEVICE_LOST_EVENT:
WifiP2pDevice device=(WifiP2pDevice)message.obj;
if (!mSavedPeerConfig.deviceAddress.equals(device.deviceAddress)) {
if (DBG) {
  logd("mSavedPeerConfig " + mSavedPeerConfig.deviceAddress + "device "+ device.deviceAddress);
}
ret=NOT_HANDLED;
break;
}
if (DBG) logd("Add device to lost list " + device);
mPeersLostDuringConnection.updateSupplicantDetails(device);
break;
case WifiP2pManager.DISCOVER_PEERS:
replyToMessage(message,WifiP2pManager.DISCOVER_PEERS_FAILED,WifiP2pManager.BUSY);
break;
case WifiP2pManager.CANCEL_CONNECT:
mWifiNative.p2pCancelConnect();
handleGroupCreationFailure();
transitionTo(mInactiveState);
replyToMessage(message,WifiP2pManager.CANCEL_CONNECT_SUCCEEDED);
break;
default :
ret=NOT_HANDLED;
}
return ret;
}
