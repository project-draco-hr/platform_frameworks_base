{
  if (DBG)   logd(getName() + message.toString());
switch (message.what) {
case GROUP_CREATING_TIMED_OUT:
    if (mGroupCreatingTimeoutIndex == message.arg1) {
      if (DBG)       logd("Group negotiation timed out");
      updateDeviceStatus(mSavedPeerConfig.deviceAddress,WifiP2pDevice.FAILED);
      mSavedPeerConfig=null;
      sendP2pPeersChangedBroadcast();
      transitionTo(mInactiveState);
    }
  break;
case WifiP2pManager.DISCOVER_PEERS:
replyToMessage(message,WifiP2pManager.DISCOVER_PEERS_FAILED,WifiP2pManager.BUSY);
break;
case WifiP2pManager.CANCEL_CONNECT:
if (mWifiNative.p2pCancelConnect()) {
replyToMessage(message,WifiP2pManager.CANCEL_CONNECT_SUCCEEDED);
}
 else {
replyToMessage(message,WifiP2pManager.CANCEL_CONNECT_FAILED,WifiP2pManager.ERROR);
}
break;
default :
return NOT_HANDLED;
}
return HANDLED;
}
