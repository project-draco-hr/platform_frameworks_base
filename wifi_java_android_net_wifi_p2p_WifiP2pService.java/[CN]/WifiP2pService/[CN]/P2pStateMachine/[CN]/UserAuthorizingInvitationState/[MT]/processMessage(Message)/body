{
  if (DBG)   logd(getName() + message.toString());
  boolean ret=HANDLED;
switch (message.what) {
case PEER_CONNECTION_USER_ACCEPT:
    if (mJoinExistingGroup) {
      p2pConnectWithPinDisplay(mSavedPeerConfig,JOIN_GROUP);
    }
 else {
      p2pConnectWithPinDisplay(mSavedPeerConfig,FORM_GROUP);
    }
  mPeers.updateStatus(mSavedPeerConfig.deviceAddress,WifiP2pDevice.INVITED);
sendP2pPeersChangedBroadcast();
transitionTo(mGroupNegotiationState);
break;
case PEER_CONNECTION_USER_REJECT:
if (DBG) logd("User rejected invitation " + mSavedPeerConfig);
mSavedPeerConfig=null;
transitionTo(mInactiveState);
break;
default :
return NOT_HANDLED;
}
return ret;
}
