{
  if (DBG)   Slog.d(TAG,getName() + message.toString());
switch (message.what) {
case WifiStateMachine.P2P_ENABLE_PROCEED:
    try {
      mNwService.wifiFirmwareReload(mInterface,"P2P");
    }
 catch (    Exception e) {
      Slog.e(TAG,"Failed to reload p2p firmware " + e);
    }
  if (WifiNative.startSupplicant()) {
    Slog.d(TAG,"Wi-fi Direct start successful");
    mWifiMonitor.startMonitoring();
    transitionTo(mP2pEnablingState);
  }
 else {
    notifyP2pEnableFailure();
    mReplyChannel.replyToMessage(mSavedEnableRequestMessage,WifiP2pManager.ENABLE_P2P_FAILED);
    transitionTo(mP2pDisabledState);
  }
break;
default :
return NOT_HANDLED;
}
return HANDLED;
}
