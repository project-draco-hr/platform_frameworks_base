{
  String[] dhcp_range={"192.168.49.2","192.168.49.254"};
  String serverAddress="192.168.49.1";
  mLinkProperties.clear();
  mLinkProperties.setInterfaceName(mGroup.getInterface());
  InterfaceConfiguration ifcg=null;
  try {
    ifcg=mNwService.getInterfaceConfig(intf);
    ifcg.addr=new LinkAddress(NetworkUtils.numericToInetAddress(serverAddress),24);
    ifcg.interfaceFlags="[up]";
    mNwService.setInterfaceConfig(intf,ifcg);
    mNwService.startTethering(dhcp_range);
  }
 catch (  Exception e) {
    Slog.e(TAG,"Error configuring interface " + intf + ", :"+ e);
    return;
  }
  mLinkProperties.addDns(NetworkUtils.numericToInetAddress(serverAddress));
  Slog.d(TAG,"Started Dhcp server on " + intf);
}
