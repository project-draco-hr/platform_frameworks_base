{
synchronized (this) {
    int index=findViewLocked(view,true);
    View curView=removeViewLocked(index);
    if (curView == view) {
      return;
    }
    throw new IllegalStateException("Calling with view " + view + " but the ViewAncestor is attached to "+ curView);
  }
}
