{
  ViewRootImpl root=mRoots[index];
  View view=root.getView();
  if (view != null) {
    InputMethodManager imm=InputMethodManager.getInstance(view.getContext());
    if (imm != null) {
      imm.windowDismissed(mViews[index].getWindowToken());
    }
  }
  root.die(immediate);
  final int count=mViews.length;
  View[] tmpViews=new View[count - 1];
  removeItem(tmpViews,mViews,index);
  mViews=tmpViews;
  ViewRootImpl[] tmpRoots=new ViewRootImpl[count - 1];
  removeItem(tmpRoots,mRoots,index);
  mRoots=tmpRoots;
  WindowManager.LayoutParams[] tmpParams=new WindowManager.LayoutParams[count - 1];
  removeItem(tmpParams,mParams,index);
  mParams=tmpParams;
  if (view != null) {
    view.assignParent(null);
  }
  return view;
}
