{
  mContext=context;
  mPowerManager=pm;
  mLockPatternUtils=new LockPatternUtils(context);
  init();
  ServiceManager.addService("uimode",mBinder);
  mAlarmManager=(AlarmManager)mContext.getSystemService(Context.ALARM_SERVICE);
  mLocationManager=(LocationManager)mContext.getSystemService(Context.LOCATION_SERVICE);
  mContext.registerReceiver(mTwilightUpdateReceiver,new IntentFilter(ACTION_UPDATE_NIGHT_MODE));
  startObserving(DOCK_UEVENT_MATCH);
}
