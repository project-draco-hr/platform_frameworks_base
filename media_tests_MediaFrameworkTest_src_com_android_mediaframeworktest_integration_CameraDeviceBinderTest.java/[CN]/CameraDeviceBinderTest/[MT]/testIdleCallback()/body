{
  int status;
  CaptureRequest request=createDefaultBuilder(true).build();
  SubmitInfo streamingInfo=submitCameraRequest(request,true);
  SystemClock.sleep(WAIT_FOR_WORK_MS);
  long lastFrameNumber=mCameraUser.cancelRequest(streamingInfo.getRequestId());
  verify(mMockCb,timeout(WAIT_FOR_IDLE_TIMEOUT_MS).times(1)).onDeviceIdle();
  SubmitInfo requestInfo1=submitCameraRequest(request,false);
  SubmitInfo requestInfo2=submitCameraRequest(request,false);
  SubmitInfo requestInfo3=submitCameraRequest(request,false);
  SubmitInfo requestInfo4=submitCameraRequest(request,false);
  SubmitInfo requestInfo5=submitCameraRequest(request,false);
  verify(mMockCb,timeout(WAIT_FOR_IDLE_TIMEOUT_MS).times(2)).onDeviceIdle();
}
