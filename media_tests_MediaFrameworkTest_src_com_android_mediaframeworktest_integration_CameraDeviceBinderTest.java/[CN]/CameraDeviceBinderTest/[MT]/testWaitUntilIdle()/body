{
  CaptureRequest.Builder builder=createDefaultBuilder(true);
  SubmitInfo requestInfoStreaming=submitCameraRequest(builder.build(),true);
  try {
    mCameraUser.waitUntilIdle();
  }
 catch (  ServiceSpecificException e) {
    assertEquals("waitUntilIdle is invalid operation when there is active repeating request",ICameraService.ERROR_INVALID_OPERATION,e.errorCode);
  }
  long lastFrameNumber=mCameraUser.cancelRequest(requestInfoStreaming.getRequestId());
  mCameraUser.waitUntilIdle();
}
