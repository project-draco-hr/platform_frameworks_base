{
  CaptureRequest request=createDefaultBuilder(true).build();
  ArgumentCaptor<Long> timestamps=ArgumentCaptor.forClass(Long.class);
  int requestId1=submitCameraRequest(request,false);
  verify(mMockCb,timeout(WAIT_FOR_COMPLETE_TIMEOUT_MS).times(1)).onCaptureStarted(eq(requestId1),anyLong());
  int streamingId=submitCameraRequest(request,true);
  verify(mMockCb,timeout(WAIT_FOR_COMPLETE_TIMEOUT_MS).atLeast(NUM_CALLBACKS_CHECKED)).onCaptureStarted(eq(streamingId),timestamps.capture());
  long timestamp=0;
  for (  Long nextTimestamp : timestamps.getAllValues()) {
    Log.v(TAG,"next t: " + nextTimestamp + " current t: "+ timestamp);
    assertTrue("Captures are out of order",timestamp < nextTimestamp);
    timestamp=nextTimestamp;
  }
}
