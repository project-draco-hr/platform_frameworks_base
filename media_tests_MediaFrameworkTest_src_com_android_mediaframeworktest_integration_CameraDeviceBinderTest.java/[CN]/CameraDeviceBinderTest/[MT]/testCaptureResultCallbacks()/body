{
  IsMetadataNotEmpty matcher=new IsMetadataNotEmpty();
  CaptureRequest request=createDefaultRequest(true);
  int requestId1=submitCameraRequest(request,false);
  verify(mMockCb,timeout(WAIT_FOR_COMPLETE_TIMEOUT_MS).times(1)).onResultReceived(eq(requestId1),argThat(matcher));
  int streamingId=submitCameraRequest(request,true);
  verify(mMockCb,timeout(WAIT_FOR_COMPLETE_TIMEOUT_MS).atLeast(NUM_CALLBACKS_CHECKED)).onResultReceived(eq(streamingId),argThat(matcher));
  request.close();
}
