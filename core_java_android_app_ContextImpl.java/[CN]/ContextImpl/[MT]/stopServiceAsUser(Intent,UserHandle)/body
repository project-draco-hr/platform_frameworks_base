{
  try {
    if (service.getComponent() == null && service.getPackage() == null) {
      if (getApplicationInfo().targetSdkVersion >= Build.VERSION_CODES.KEY_LIME_PIE) {
        IllegalArgumentException ex=new IllegalArgumentException("Service Intent must be explicit: " + service);
        Log.wtf(TAG,"This will become an error",ex);
      }
    }
    service.prepareToLeaveProcess();
    int res=ActivityManagerNative.getDefault().stopService(mMainThread.getApplicationThread(),service,service.resolveTypeIfNeeded(getContentResolver()),user.getIdentifier());
    if (res < 0) {
      throw new SecurityException("Not allowed to stop service " + service);
    }
    return res != 0;
  }
 catch (  RemoteException e) {
    return false;
  }
}
