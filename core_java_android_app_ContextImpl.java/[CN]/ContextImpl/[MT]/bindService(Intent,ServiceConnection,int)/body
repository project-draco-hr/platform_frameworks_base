{
  IServiceConnection sd;
  if (mPackageInfo != null) {
    sd=mPackageInfo.getServiceDispatcher(conn,getOuterContext(),mMainThread.getHandler(),flags);
  }
 else {
    throw new RuntimeException("Not supported in system context");
  }
  try {
    int res=ActivityManagerNative.getDefault().bindService(mMainThread.getApplicationThread(),getActivityToken(),service,service.resolveTypeIfNeeded(getContentResolver()),sd,flags);
    if (res < 0) {
      throw new SecurityException("Not allowed to bind to service " + service);
    }
    return res != 0;
  }
 catch (  RemoteException e) {
    return false;
  }
}
