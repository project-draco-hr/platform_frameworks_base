{
  mPackageInfo=packageInfo;
  mResources=mPackageInfo.getResources(mainThread);
  if (container != null && container.getCompatibilityInfo().applicationScale != mResources.getCompatibilityInfo().applicationScale) {
    if (DEBUG) {
      Log.d(TAG,"loaded context has different scaling. Using container's" + " compatiblity info:" + container.getDisplayMetrics());
    }
    mResources=mainThread.getTopLevelResources(mPackageInfo.getResDir(),container.getCompatibilityInfo().copy());
  }
  mMainThread=mainThread;
  mContentResolver=new ApplicationContentResolver(this,mainThread);
  setActivityToken(activityToken);
}
