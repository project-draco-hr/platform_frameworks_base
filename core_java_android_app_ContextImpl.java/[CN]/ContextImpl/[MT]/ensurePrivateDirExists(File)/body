{
  if (!file.exists()) {
    if (!file.mkdirs()) {
      if (file.exists()) {
        return file;
      }
      Log.w(TAG,"Failed to ensure directory " + file.getAbsolutePath());
      return null;
    }
    FileUtils.setPermissions(file.getPath(),FileUtils.S_IRWXU | FileUtils.S_IRWXG | FileUtils.S_IXOTH,-1,-1);
  }
  return file;
}
