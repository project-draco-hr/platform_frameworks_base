{
  final int icon=info.icon;
  if (icon != 0) {
    ResourceName name=new ResourceName(info,icon);
    Drawable dr=getCachedIcon(name);
    if (dr != null) {
      return dr;
    }
    try {
      Resources r=getResourcesForApplication(info);
      dr=r.getDrawable(icon);
      if (DEBUG_ICONS)       Log.v(TAG,"Getting drawable 0x" + Integer.toHexString(icon) + " from "+ r+ ": "+ dr);
      putCachedIcon(name,dr);
      return dr;
    }
 catch (    NameNotFoundException e) {
      Log.w("PackageManager","Failure retrieving resources for" + info.packageName);
    }
catch (    RuntimeException e) {
      Log.w("PackageManager","Failure retrieving app icon",e);
    }
  }
  return getDefaultActivityIcon();
}
