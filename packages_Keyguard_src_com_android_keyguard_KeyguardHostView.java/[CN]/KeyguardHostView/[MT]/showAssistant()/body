{
  if (shouldRunHotwordInSecurityMode(mCurrentSecuritySelection)) {
    maybeStopHotwordDetector();
  }
  final Intent intent=((SearchManager)mContext.getSystemService(Context.SEARCH_SERVICE)).getAssistIntent(mContext,true,UserHandle.USER_CURRENT);
  if (intent == null)   return;
  final ActivityOptions opts=ActivityOptions.makeCustomAnimation(mContext,R.anim.keyguard_action_assist_enter,R.anim.keyguard_action_assist_exit,getHandler(),null);
  intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
  mActivityLauncher.launchActivityWithAnimation(intent,false,opts.toBundle(),null,null);
}
