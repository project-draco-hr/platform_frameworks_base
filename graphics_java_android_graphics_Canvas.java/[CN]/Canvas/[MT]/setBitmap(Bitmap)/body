{
  if (!bitmap.isMutable()) {
    throw new IllegalStateException();
  }
  if (mGL != null) {
    throw new RuntimeException("Can't set a bitmap device on a GL canvas");
  }
  throwIfRecycled(bitmap);
  native_setBitmap(mNativeCanvas,bitmap.ni());
  mBitmap=bitmap;
  mDensityScale=bitmap.getDensityScale();
  if (mDensityScale == Bitmap.DENSITY_SCALE_UNKNOWN)   mDensityScale=1.0f;
}
