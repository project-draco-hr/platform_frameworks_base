{
  if (!bitmap.isMutable()) {
    throw new IllegalStateException("Immutable bitmap passed to Canvas constructor");
  }
  throwIfRecycled(bitmap);
  mNativeCanvas=initRaster(bitmap.ni());
  mBitmap=bitmap;
  mDensityScale=bitmap.getDensityScale();
  if (mDensityScale == Bitmap.DENSITY_SCALE_UNKNOWN)   mDensityScale=1.0f;
}
