{
  if (!bitmap.isMutable()) {
    throw new IllegalStateException("Immutable bitmap passed to Canvas constructor");
  }
  throwIfCannotDraw(bitmap);
  mNativeCanvasWrapper=initRaster(bitmap.ni());
  mFinalizer=new CanvasFinalizer(mNativeCanvasWrapper);
  mBitmap=bitmap;
  mDensity=bitmap.mDensity;
}
