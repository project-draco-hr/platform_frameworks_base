{
  Utterance utterance=new Utterance();
  Markup markup=Markup.markupFromString(string);
  if (!markup.getType().equals(TYPE_UTTERANCE)) {
    throw new IllegalArgumentException("Top level markup should be of type \"" + TYPE_UTTERANCE + "\", but was of type \""+ markup.getType()+ "\".");
  }
  for (  Markup nestedMarkup : markup.getNestedMarkups()) {
    utterance.append(nestedMarkup);
  }
  return utterance;
}
