{
  int noOfFailure=0;
  boolean recordSuccess=false;
  String deviceType=MediaProfileReader.getDeviceType();
  Log.v(TAG,"deviceType = " + deviceType);
  if (deviceType.compareTo("voles") == 0) {
    MediaProfileReader.createVideoProfileTable();
    MediaProfileReader.createAudioProfileTable();
    MediaProfileReader.createEncoderTable();
    String encoderType=MediaProfileReader.getVideoCodecProperty();
    String encoder[]=encoderType.split(",");
    String audioType=MediaProfileReader.getAudioCodecProperty();
    String audio[]=audioType.split(",");
    for (int k=0; k < 2; k++) {
      for (int i=0; i < encoder.length; i++) {
        for (int j=0; j < audio.length; j++) {
          if (k == 0) {
            recordSuccess=recordVideoWithPara(encoder[i],audio[j],"high");
          }
 else {
            recordSuccess=recordVideoWithPara(encoder[i],audio[j],"low");
          }
          if (!recordSuccess) {
            Log.v(TAG,"testDeviceSpecificCodec failed");
            Log.v(TAG,"Encoder = " + encoder[i] + "Audio Encoder = "+ audio[j]);
            noOfFailure++;
          }
        }
      }
    }
  }
  if (noOfFailure != 0) {
    assertTrue("testDeviceSpecificCodec",false);
  }
}
