{
  Bundle extras=location.getExtras();
  if (extras == null) {
    return addCoarseLocationExtra(location);
  }
  Parcelable parcel=extras.getParcelable(EXTRA_COARSE_LOCATION);
  if (parcel == null) {
    return addCoarseLocationExtra(location);
  }
  if (!(parcel instanceof Location)) {
    return addCoarseLocationExtra(location);
  }
  Location coarse=(Location)parcel;
  if (coarse.getAccuracy() < ACCURACY_METERS) {
    return addCoarseLocationExtra(location);
  }
  return coarse;
}
