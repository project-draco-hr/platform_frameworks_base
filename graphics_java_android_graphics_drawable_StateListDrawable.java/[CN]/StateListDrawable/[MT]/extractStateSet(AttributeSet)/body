{
  int j=0;
  final int numAttrs=attrs.getAttributeCount();
  int[] states=new int[numAttrs];
  for (int i=0; i < numAttrs; i++) {
    final int stateResId=attrs.getAttributeNameResource(i);
switch (stateResId) {
case 0:
      break;
case R.attr.drawable:
case R.attr.id:
    continue;
default :
  states[j++]=attrs.getAttributeBooleanValue(i,false) ? stateResId : -stateResId;
}
}
states=StateSet.trimStateSet(states,j);
return states;
}
