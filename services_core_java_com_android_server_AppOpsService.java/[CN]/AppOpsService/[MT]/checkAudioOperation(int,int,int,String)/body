{
  boolean suspended;
  try {
    suspended=isPackageSuspendedForUser(packageName,uid);
  }
 catch (  IllegalArgumentException ex) {
    suspended=false;
  }
  if (suspended) {
    Log.i(TAG,"Audio disabled for suspended package=" + packageName + " for uid="+ uid);
    return AppOpsManager.MODE_IGNORED;
  }
synchronized (this) {
    final int mode=checkRestrictionLocked(code,usage,uid,packageName);
    if (mode != AppOpsManager.MODE_ALLOWED) {
      return mode;
    }
  }
  return checkOperation(code,uid,packageName);
}
