{
  if (isPackageSuspendedForUser(packageName,uid)) {
    Log.i(TAG,"Audio disabled for suspended package=" + packageName + " for uid="+ uid);
    return AppOpsManager.MODE_IGNORED;
  }
synchronized (this) {
    final int mode=checkRestrictionLocked(code,usage,uid,packageName);
    if (mode != AppOpsManager.MODE_ALLOWED) {
      return mode;
    }
  }
  return checkOperation(code,uid,packageName);
}
