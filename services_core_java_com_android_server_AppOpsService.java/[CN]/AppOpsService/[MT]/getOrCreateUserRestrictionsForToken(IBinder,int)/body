{
  SparseArray<Pair<boolean[],SparseArray<ArraySet<String>>>> perTokenRestrictions=mOpUserRestrictions.get(token);
  if (perTokenRestrictions == null) {
    perTokenRestrictions=new SparseArray<Pair<boolean[],SparseArray<ArraySet<String>>>>();
    mOpUserRestrictions.put(token,perTokenRestrictions);
  }
  Pair<boolean[],SparseArray<ArraySet<String>>> restrictions=perTokenRestrictions.get(userHandle);
  if (restrictions == null) {
    restrictions=new Pair<boolean[],SparseArray<ArraySet<String>>>(new boolean[AppOpsManager._NUM_OP],new SparseArray<ArraySet<String>>());
    perTokenRestrictions.put(userHandle,restrictions);
  }
  return restrictions.first;
}
