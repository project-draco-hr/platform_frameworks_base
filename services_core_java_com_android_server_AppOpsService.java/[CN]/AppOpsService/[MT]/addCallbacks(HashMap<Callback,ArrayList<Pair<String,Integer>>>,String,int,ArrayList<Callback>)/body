{
  if (cbs == null) {
    return callbacks;
  }
  if (callbacks == null) {
    callbacks=new HashMap<Callback,ArrayList<Pair<String,Integer>>>();
  }
  boolean duplicate=false;
  for (int i=0; i < cbs.size(); i++) {
    Callback cb=cbs.get(i);
    ArrayList<Pair<String,Integer>> reports=callbacks.get(cb);
    if (reports == null) {
      reports=new ArrayList<Pair<String,Integer>>();
      callbacks.put(cb,reports);
    }
 else {
      final int reportCount=reports.size();
      for (int j=0; j < reportCount; j++) {
        Pair<String,Integer> report=reports.get(j);
        if (report.second == op && report.first.equals(packageName)) {
          duplicate=true;
          break;
        }
      }
    }
    if (!duplicate) {
      reports.add(new Pair<>(packageName,op));
    }
  }
  return callbacks;
}
