{
  if (cbs == null) {
    return callbacks;
  }
  if (callbacks == null) {
    callbacks=new HashMap<>();
  }
  boolean duplicate=false;
  for (int i=0; i < cbs.size(); i++) {
    Callback cb=cbs.get(i);
    ArrayList<ChangeRec> reports=callbacks.get(cb);
    if (reports == null) {
      reports=new ArrayList<>();
      callbacks.put(cb,reports);
    }
 else {
      final int reportCount=reports.size();
      for (int j=0; j < reportCount; j++) {
        ChangeRec report=reports.get(j);
        if (report.op == op && report.pkg.equals(packageName)) {
          duplicate=true;
          break;
        }
      }
    }
    if (!duplicate) {
      reports.add(new ChangeRec(op,uid,packageName));
    }
  }
  return callbacks;
}
