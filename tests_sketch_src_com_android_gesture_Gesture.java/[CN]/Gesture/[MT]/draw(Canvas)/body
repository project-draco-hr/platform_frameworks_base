{
  Paint paint=new Paint();
  paint.setAntiAlias(true);
  paint.setDither(true);
  paint.setColor(mColor);
  paint.setStyle(Paint.Style.STROKE);
  paint.setStrokeJoin(Paint.Join.ROUND);
  paint.setStrokeCap(Paint.Cap.ROUND);
  paint.setStrokeWidth(mWidth);
  Path path=null;
  float mX=0, mY=0;
  Iterator<PointF> it=mPtsBuffer.iterator();
  while (it.hasNext()) {
    PointF p=it.next();
    float x=p.x;
    float y=p.y;
    if (path == null) {
      path=new Path();
      path.moveTo(x,y);
      mX=x;
      mY=y;
    }
 else {
      float dx=Math.abs(x - mX);
      float dy=Math.abs(y - mY);
      if (dx >= 3 || dy >= 3) {
        path.quadTo(mX,mY,(x + mX) / 2,(y + mY) / 2);
        mX=x;
        mY=y;
      }
    }
  }
  canvas.drawPath(path,paint);
}
