{
  if (mProviderRequest == null || mWorkSource == null) {
    return;
  }
  boolean singleShot=false;
  if (mProviderRequest.locationRequests != null && mProviderRequest.locationRequests.size() > 0) {
    singleShot=true;
    for (    LocationRequest lr : mProviderRequest.locationRequests) {
      if (lr.getNumUpdates() != 1) {
        singleShot=false;
      }
    }
  }
  if (DEBUG)   Log.d(TAG,"setRequest " + mProviderRequest);
  if (mProviderRequest.reportLocation && !mDisableGps) {
    updateClientUids(mWorkSource);
    mFixInterval=(int)mProviderRequest.interval;
    if (mFixInterval != mProviderRequest.interval) {
      Log.w(TAG,"interval overflow: " + mProviderRequest.interval);
      mFixInterval=Integer.MAX_VALUE;
    }
    if (mStarted && hasCapability(GPS_CAPABILITY_SCHEDULING)) {
      if (!native_set_position_mode(mPositionMode,GPS_POSITION_RECURRENCE_PERIODIC,mFixInterval,0,0)) {
        Log.e(TAG,"set_position_mode failed in setMinTime()");
      }
    }
 else     if (!mStarted) {
      startNavigating(singleShot);
    }
  }
 else {
    updateClientUids(new WorkSource());
    stopNavigating();
    mAlarmManager.cancel(mWakeupIntent);
    mAlarmManager.cancel(mTimeoutIntent);
  }
}
