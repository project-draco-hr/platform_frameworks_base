{
  SurfaceHolder sh=getSurfaceHolder();
  Canvas c=sh.lockCanvas();
  if (c != null) {
    final Rect frame=sh.getSurfaceFrame();
synchronized (mLock) {
      final Drawable background=mBackground;
      final int dw=frame.width();
      final int dh=frame.height();
      final int bw=mBackground.getIntrinsicWidth();
      final int bh=mBackground.getIntrinsicHeight();
      final int availw=bw - dw;
      final int availh=bh - dh;
      int xPixels=availw > 0 ? -(int)(availw * mXOffset + .5f) : -(int)(availw / 2);
      int yPixels=availh > 0 ? -(int)(availh * mYOffset + .5f) : -(int)(availh / 2);
      c.translate(xPixels,yPixels);
      c.drawColor(0xff000000);
      background.draw(c);
    }
    sh.unlockCanvasAndPost(c);
  }
}
