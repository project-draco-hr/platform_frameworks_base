{
  if (mState != STATE_PROCESSING_KEYCODE) {
    Slog.w(TAG,"Not in a valid state");
    return;
  }
  if (isPressed) {
    if (keyCode != mLastKeyCode) {
      mActionTimer.clearTimerMessage();
      sendKeyDown(keyCode);
      addTimer(mState,IRT_MS);
      mLastKeyCode=keyCode;
    }
  }
 else {
    if (keyCode == mLastKeyCode) {
      sendKeyUp();
      finish();
    }
  }
}
