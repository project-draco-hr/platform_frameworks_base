{
synchronized (mFileWriteLock) {
    RandomAccessFile raf=null;
    try {
      raf=new RandomAccessFile(name,"rw");
      if (hash == null || hash.length == 0) {
        raf.setLength(0);
      }
 else {
        raf.write(hash,0,hash.length);
      }
      raf.close();
    }
 catch (    IOException e) {
      Slog.e(TAG,"Error writing to file " + e);
    }
 finally {
      if (raf != null) {
        try {
          raf.close();
        }
 catch (        IOException e) {
          Slog.e(TAG,"Error closing file " + e);
        }
      }
    }
    mCache.putFile(name,hash);
  }
}
