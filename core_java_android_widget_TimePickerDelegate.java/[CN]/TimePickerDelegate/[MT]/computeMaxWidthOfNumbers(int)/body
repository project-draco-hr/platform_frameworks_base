{
  TextView tempView=new TextView(mContext);
  TypedArray a=mContext.obtainStyledAttributes(TEXT_APPEARANCE_TIME_LABEL_ATTR);
  final int textAppearanceResId=a.getResourceId(0,0);
  tempView.setTextAppearance(mContext,(textAppearanceResId != 0) ? textAppearanceResId : R.style.TextAppearance_Holo_TimePicker_TimeLabel);
  a.recycle();
  ViewGroup.LayoutParams lp=new ViewGroup.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT);
  tempView.setLayoutParams(lp);
  int maxWidth=0;
  for (int minutes=0; minutes < max; minutes++) {
    final String text=String.format("%02d",minutes);
    tempView.setText(text);
    tempView.measure(View.MeasureSpec.UNSPECIFIED,View.MeasureSpec.UNSPECIFIED);
    maxWidth=Math.max(maxWidth,tempView.getMeasuredWidth());
  }
  return maxWidth;
}
