{
  Bundle bundle=null;
  try {
    bundle=mQueue.poll(TIMEOUT,TimeUnit.SECONDS);
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
  }
  if (bundle == null) {
    throw new IllegalStateException("Intent not received after " + TIMEOUT + "s");
  }
  return bundle;
}
