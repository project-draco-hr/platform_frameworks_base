{
  final AppWindowToken atoken=mAppToken;
  final boolean animating=atoken != null ? (atoken.animation != null) : false;
  return mSurface != null && mPolicyVisibility && !mDestroying && ((!mAttachedHidden && mViewVisibility == View.VISIBLE && !mRootToken.hidden) || mAnimation != null || animating);
}
