{
  final AppWindowToken atoken=mAppToken;
  if (atoken != null) {
    return mSurface != null && mPolicyVisibility && !mDestroying && ((!mAttachedHidden && !atoken.hidden) || mAnimating || atoken.animating);
  }
 else {
    return mSurface != null && mPolicyVisibility && !mDestroying && (!mAttachedHidden || mAnimating);
  }
}
