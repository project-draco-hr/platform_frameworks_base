{
  if (DEBUG_ANIM)   Log.v(TAG,"finishExit in " + this + ": exiting="+ mExiting+ " remove="+ mRemoveOnExit+ " windowAnimating="+ isWindowAnimating());
  final int N=mChildWindows.size();
  for (int i=0; i < N; i++) {
    ((WindowState)mChildWindows.get(i)).finishExit();
  }
  if (!mExiting) {
    return;
  }
  if (isWindowAnimating()) {
    return;
  }
  if (localLOGV)   Log.v(TAG,"Exit animation finished in " + this + ": remove="+ mRemoveOnExit);
  if (mSurface != null) {
    mDestroySurface.add(this);
    mDestroying=true;
    if (SHOW_TRANSACTIONS)     Log.i(TAG,"  SURFACE " + mSurface + ": HIDE (finishExit)");
    try {
      mSurface.hide();
    }
 catch (    RuntimeException e) {
      Log.w(TAG,"Error hiding surface in " + this,e);
    }
    mLastHidden=true;
    mKeyWaiter.releasePendingPointerLocked(mSession);
  }
  mExiting=false;
  if (mRemoveOnExit) {
    mPendingRemove.add(this);
    mRemoveOnExit=false;
  }
}
