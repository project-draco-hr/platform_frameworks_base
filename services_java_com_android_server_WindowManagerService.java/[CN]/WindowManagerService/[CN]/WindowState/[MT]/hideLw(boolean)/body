{
  boolean current=doAnimation ? mPolicyVisibilityAfterAnim : mPolicyVisibility;
  if (current) {
    if (doAnimation) {
      applyAnimationLocked(this,WindowManagerPolicy.TRANSIT_EXIT,false);
      if (mAnimation == null) {
        doAnimation=false;
      }
    }
    if (doAnimation) {
      mPolicyVisibilityAfterAnim=false;
    }
 else {
      mPolicyVisibilityAfterAnim=false;
      mPolicyVisibility=false;
    }
    requestAnimationLocked(0);
    return true;
  }
  return false;
}
