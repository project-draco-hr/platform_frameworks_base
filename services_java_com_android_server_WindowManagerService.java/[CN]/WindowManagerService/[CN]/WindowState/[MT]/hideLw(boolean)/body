{
  if (mPolicyVisibility || mPolicyVisibilityAfterAnim) {
    mSurfacesChanged=true;
    if (doAnimation) {
      applyAnimationLocked(this,WindowManagerPolicy.TRANSIT_EXIT,false);
      if (mAnimation == null) {
        doAnimation=false;
      }
    }
    if (doAnimation) {
      mPolicyVisibilityAfterAnim=false;
    }
 else {
      mPolicyVisibility=false;
    }
    requestAnimationLocked(0);
  }
}
