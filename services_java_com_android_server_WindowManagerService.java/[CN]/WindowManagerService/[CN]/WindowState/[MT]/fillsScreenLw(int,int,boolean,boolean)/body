{
  if (mSurface == null) {
    return false;
  }
  if (mAppToken != null && !mAppToken.appFullscreen) {
    return false;
  }
  if (onlyOpaque && mAttrs.format != PixelFormat.OPAQUE) {
    return false;
  }
  final Rect frame=shownFrame ? mShownFrame : mFrame;
  if ((mAttrs.flags & FLAG_COMPATIBLE_WINDOW) != 0) {
    return frame.left <= mCompatibleScreenFrame.left && frame.top <= mCompatibleScreenFrame.top && frame.right >= mCompatibleScreenFrame.right && frame.bottom >= mCompatibleScreenFrame.bottom;
  }
 else {
    if ((mAttrs.flags & FLAG_FULLSCREEN) != 0) {
      return true;
    }
    return frame.left <= 0 && frame.top <= 0 && frame.right >= screenWidth && frame.bottom >= screenHeight;
  }
}
