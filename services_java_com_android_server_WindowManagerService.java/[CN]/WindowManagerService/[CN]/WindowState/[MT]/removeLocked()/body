{
  if (mAttachedWindow != null) {
    mAttachedWindow.mChildWindows.remove(this);
  }
  destroySurfaceLocked();
  mSession.windowRemovedLocked();
  try {
    mClient.asBinder().unlinkToDeath(mDeathRecipient,0);
  }
 catch (  RuntimeException e) {
  }
  if (mInputChannel != null) {
    mInputManager.unregisterInputChannel(mInputChannel);
    mInputChannel.dispose();
    mInputChannel=null;
  }
}
