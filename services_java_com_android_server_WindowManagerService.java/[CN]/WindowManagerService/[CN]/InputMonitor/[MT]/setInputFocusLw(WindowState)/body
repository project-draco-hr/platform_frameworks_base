{
  if (DEBUG_INPUT) {
    Slog.d(TAG,"Input focus has changed to " + newWindow);
  }
  if (newWindow != mInputFocus) {
    if (newWindow != null && newWindow.canReceiveKeys()) {
      if ((newWindow.mAttrs.flags & FLAG_SYSTEM_ERROR) != 0) {
        if (DEBUG_INPUT) {
          Slog.v(TAG,"New SYSTEM_ERROR window; resetting state");
        }
        preemptInputDispatchLw();
      }
 else       if (mInputFocus != null && newWindow.mLayer > mInputFocus.mLayer) {
        if (DEBUG_INPUT) {
          Slog.v(TAG,"Transferring focus to new window at higher layer: " + "old win layer=" + mInputFocus.mLayer + ", new win layer="+ newWindow.mLayer);
        }
        preemptInputDispatchLw();
      }
      newWindow.mToken.paused=false;
    }
    mInputFocus=newWindow;
    updateInputWindowsLw();
  }
}
