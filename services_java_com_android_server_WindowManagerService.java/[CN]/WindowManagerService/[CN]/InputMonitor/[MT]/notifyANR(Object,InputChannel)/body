{
  AppWindowToken appWindowToken=null;
  if (inputChannel != null) {
synchronized (mWindowMap) {
      WindowState windowState=getWindowStateForInputChannelLocked(inputChannel);
      if (windowState != null) {
        Slog.i(TAG,"Input event dispatching timed out sending to " + windowState.mAttrs.getTitle());
        appWindowToken=windowState.mAppToken;
      }
    }
  }
  if (appWindowToken == null && token != null) {
    appWindowToken=(AppWindowToken)token;
    Slog.i(TAG,"Input event dispatching timed out sending to application " + appWindowToken.stringName);
  }
  if (appWindowToken != null && appWindowToken.appToken != null) {
    try {
      boolean abort=appWindowToken.appToken.keyDispatchingTimedOut();
      if (!abort) {
        return appWindowToken.inputDispatchingTimeoutNanos;
      }
    }
 catch (    RemoteException ex) {
    }
  }
  return 0;
}
