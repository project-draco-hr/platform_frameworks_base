{
  final ArrayList localmWindows=mWindows;
  final int N=localmWindows.size();
  WindowState w=null;
  int i=N;
  while (i > 0) {
    i--;
    w=(WindowState)localmWindows.get(i);
    final int fl=w.mAttrs.flags & (FLAG_NOT_FOCUSABLE | FLAG_ALT_FOCUSABLE_IM);
    if (fl == 0 || fl == (FLAG_NOT_FOCUSABLE | FLAG_ALT_FOCUSABLE_IM)) {
      if (w.isVisibleOrAdding()) {
        break;
      }
    }
  }
  if (w != null) {
    mInputMethodTarget=w;
    return i + 1;
  }
  mInputMethodTarget=null;
  return -1;
}
