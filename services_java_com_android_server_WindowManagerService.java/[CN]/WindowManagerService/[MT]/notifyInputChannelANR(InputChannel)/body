{
  IApplicationToken appToken;
synchronized (mWindowMap) {
    WindowState windowState=getWindowStateForInputChannelLocked(inputChannel);
    if (windowState == null) {
      return -2;
    }
    Slog.i(TAG,"Input event dispatching timed out sending to " + windowState.mAttrs.getTitle());
    appToken=windowState.getAppToken();
  }
  try {
    boolean abort=appToken.keyDispatchingTimedOut();
    if (abort) {
      return -2;
    }
    long newTimeout=appToken.getKeyDispatchingTimeout() * 1000000;
    return newTimeout < 0 ? -1 : newTimeout;
  }
 catch (  RemoteException ex) {
    return -2;
  }
}
