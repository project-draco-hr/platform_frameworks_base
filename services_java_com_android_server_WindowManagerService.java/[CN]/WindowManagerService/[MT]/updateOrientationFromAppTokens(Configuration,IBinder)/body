{
  if (!checkCallingPermission(android.Manifest.permission.MANAGE_APP_TOKENS,"updateOrientationFromAppTokens()")) {
    throw new SecurityException("Requires MANAGE_APP_TOKENS permission");
  }
  Configuration config;
  long ident=Binder.clearCallingIdentity();
  config=updateOrientationFromAppTokensUnchecked(currentConfig,freezeThisOneIfNeeded);
  Binder.restoreCallingIdentity(ident);
  return config;
}
