{
  Configuration config;
  long ident=Binder.clearCallingIdentity();
synchronized (mWindowMap) {
    config=updateOrientationFromAppTokensLocked(currentConfig,freezeThisOneIfNeeded);
  }
  if (config != null) {
    mLayoutNeeded=true;
    performLayoutAndPlaceSurfacesLocked();
  }
  Binder.restoreCallingIdentity(ident);
  return config;
}
