{
  if (DEBUG_ORIENTATION)   Log.v(TAG,"alwaysSendConfiguration set to " + alwaysSendConfiguration);
  long origId=Binder.clearCallingIdentity();
  boolean changed;
synchronized (mWindowMap) {
    changed=setRotationUncheckedLocked(rotation);
  }
  if (changed) {
    sendNewConfiguration();
synchronized (mWindowMap) {
      mLayoutNeeded=true;
      performLayoutAndPlaceSurfacesLocked();
    }
  }
 else   if (alwaysSendConfiguration) {
    sendNewConfiguration();
  }
  Binder.restoreCallingIdentity(origId);
}
