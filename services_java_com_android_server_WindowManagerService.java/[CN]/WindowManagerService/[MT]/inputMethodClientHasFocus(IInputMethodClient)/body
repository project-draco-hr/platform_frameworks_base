{
synchronized (mWindowMap) {
    int idx=findDesiredInputMethodWindowIndexLocked(false);
    if (idx > 0) {
      WindowState imFocus=(WindowState)mWindows.get(idx - 1);
      if (imFocus != null && imFocus.mSession.mClient != null && imFocus.mSession.mClient.asBinder() == client.asBinder()) {
        return true;
      }
    }
  }
  return false;
}
