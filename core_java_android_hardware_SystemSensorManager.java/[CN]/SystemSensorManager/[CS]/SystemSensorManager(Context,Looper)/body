{
  mMainLooper=mainLooper;
  mTargetSdkLevel=context.getApplicationInfo().targetSdkVersion;
  mContext=context;
  mNativeInstance=nativeCreate(context.getOpPackageName());
synchronized (mLock) {
    if (!sSensorModuleInitialized) {
      sSensorModuleInitialized=true;
      nativeClassInit();
    }
    mHasDataInjectionPermissions=context.checkSelfPermission(Manifest.permission.LOCATION_HARDWARE) == PackageManager.PERMISSION_GRANTED;
  }
  int i=0;
  while (true) {
    Sensor sensor=new Sensor();
    i=nativeGetNextSensor(mNativeInstance,sensor,i);
    if (i <= 0) {
      break;
    }
    mFullSensorsList.add(sensor);
    mHandleToSensor.append(sensor.getHandle(),sensor);
  }
}
