{
  mMainLooper=mainLooper;
  mTargetSdkLevel=context.getApplicationInfo().targetSdkVersion;
  mContext=context;
  mNativeInstance=nativeCreate(context.getOpPackageName());
synchronized (mLock) {
    if (!sSensorModuleInitialized) {
      sSensorModuleInitialized=true;
      nativeClassInit();
    }
    mHasDataInjectionPermissions=context.checkSelfPermission(Manifest.permission.LOCATION_HARDWARE) == PackageManager.PERMISSION_GRANTED;
  }
  int i=0;
  do {
    Sensor sensor=new Sensor();
    i=nativeGetNextSensor(mNativeInstance,sensor,i);
    if (i >= 0) {
      mFullSensorsList.add(sensor);
      mHandleToSensor.append(sensor.getHandle(),sensor);
    }
  }
 while (i > 0);
}
