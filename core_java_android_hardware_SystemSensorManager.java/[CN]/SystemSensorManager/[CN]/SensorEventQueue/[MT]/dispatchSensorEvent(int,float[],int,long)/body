{
  final Sensor sensor=sHandleToSensor.get(handle);
  SensorEvent t=sSensorEventPool.acquire();
  if (t == null)   t=new SensorEvent(MAX_EVENTS);
  try {
    System.arraycopy(values,0,t.values,0,t.values.length);
    t.timestamp=timestamp;
    t.accuracy=inAccuracy;
    t.sensor=sensor;
switch (t.sensor.getType()) {
case Sensor.TYPE_MAGNETIC_FIELD:
case Sensor.TYPE_ORIENTATION:
      final int accuracy=mSensorAccuracies.get(handle);
    if ((t.accuracy >= 0) && (accuracy != t.accuracy)) {
      mSensorAccuracies.put(handle,t.accuracy);
      mListener.onAccuracyChanged(t.sensor,t.accuracy);
    }
  break;
default :
if (mFirstEvent.get(handle) == false) {
  mFirstEvent.put(handle,true);
  mListener.onAccuracyChanged(t.sensor,SENSOR_STATUS_ACCURACY_HIGH);
}
break;
}
mListener.onSensorChanged(t);
}
  finally {
sSensorEventPool.release(t);
}
}
