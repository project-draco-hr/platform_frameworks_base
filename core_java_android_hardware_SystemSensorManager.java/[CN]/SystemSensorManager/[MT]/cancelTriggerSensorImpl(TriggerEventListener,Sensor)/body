{
  if (sensor != null && Sensor.getReportingMode(sensor) != Sensor.REPORTING_MODE_ONE_SHOT) {
    return false;
  }
synchronized (mTriggerListeners) {
    TriggerEventQueue queue=mTriggerListeners.get(listener);
    if (queue != null) {
      boolean result;
      if (sensor == null) {
        result=queue.removeAllSensors();
      }
 else {
        result=queue.removeSensor(sensor);
      }
      if (result && !queue.hasSensors()) {
        mTriggerListeners.remove(listener);
        queue.dispose();
      }
      return result;
    }
    return false;
  }
}
