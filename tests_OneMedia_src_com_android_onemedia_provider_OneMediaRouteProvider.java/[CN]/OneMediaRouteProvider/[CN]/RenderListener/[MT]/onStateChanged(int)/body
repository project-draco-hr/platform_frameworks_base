{
  if (newState != Renderer.STATE_ERROR) {
    mPlaybackState.setErrorMessage(null);
  }
switch (newState) {
case Renderer.STATE_ENDED:
case Renderer.STATE_STOPPED:
    mPlaybackState.setState(PlaybackState.PLAYSTATE_STOPPED);
  break;
case Renderer.STATE_INIT:
case Renderer.STATE_PREPARING:
mPlaybackState.setState(PlaybackState.PLAYSTATE_BUFFERING);
break;
case Renderer.STATE_ERROR:
mPlaybackState.setState(PlaybackState.PLAYSTATE_ERROR);
break;
case Renderer.STATE_PAUSED:
mPlaybackState.setState(PlaybackState.PLAYSTATE_PAUSED);
break;
case Renderer.STATE_PLAYING:
mPlaybackState.setState(PlaybackState.PLAYSTATE_PLAYING);
break;
default :
mPlaybackState.setState(PlaybackState.PLAYSTATE_ERROR);
mPlaybackState.setErrorMessage("unkown state");
break;
}
mPlaybackState.setPosition(mRenderer.getSeekPosition());
mControls.sendPlaybackChangeEvent(mPlaybackState.getState());
}
