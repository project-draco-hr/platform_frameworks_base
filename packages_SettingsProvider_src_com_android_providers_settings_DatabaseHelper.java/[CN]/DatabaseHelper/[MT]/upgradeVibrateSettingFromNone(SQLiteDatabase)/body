{
  int vibrateSetting=getIntValueFromSystem(db,Settings.System.VIBRATE_ON,0);
  if ((vibrateSetting & 3) == AudioManager.VIBRATE_SETTING_OFF) {
    vibrateSetting=AudioService.getValueForVibrateSetting(0,AudioManager.VIBRATE_TYPE_RINGER,AudioManager.VIBRATE_SETTING_ONLY_SILENT);
  }
  vibrateSetting=AudioService.getValueForVibrateSetting(vibrateSetting,AudioManager.VIBRATE_TYPE_NOTIFICATION,vibrateSetting);
  SQLiteStatement stmt=null;
  try {
    stmt=db.compileStatement("INSERT OR REPLACE INTO system(name,value)" + " VALUES(?,?);");
    loadSetting(stmt,Settings.System.VIBRATE_ON,vibrateSetting);
  }
  finally {
    if (stmt != null)     stmt.close();
  }
}
