{
  final boolean changed=mType != type;
  mType=type;
  if (changed) {
    recreateLabel();
  }
  if (mTileBackground instanceof RippleDrawable) {
    setRipple((RippleDrawable)mTileBackground);
  }
  if (mType == QS_TYPE_DUAL) {
    mTopBackgroundView.setOnClickListener(mClickPrimary);
    setOnClickListener(null);
    setClickable(false);
    setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO);
    mTopBackgroundView.setBackground(mTileBackground);
  }
 else {
    mTopBackgroundView.setOnClickListener(null);
    mTopBackgroundView.setClickable(false);
    setOnClickListener(mClickPrimary);
    setOnLongClickListener(mLongClick);
    setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_YES);
    setBackground(mTileBackground);
  }
  mTopBackgroundView.setFocusable(mType == QS_TYPE_DUAL);
  setFocusable(mType != QS_TYPE_DUAL);
  mDivider.setVisibility(mType == QS_TYPE_DUAL ? VISIBLE : GONE);
  mCircle.setVisibility(mType == QS_TYPE_QUICK ? VISIBLE : GONE);
  postInvalidate();
  return changed;
}
