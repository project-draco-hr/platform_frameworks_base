{
  if (mDiscoverySession == null) {
    mDiscoverySession=new MyPrinterDiscoverySession();
    mPersistenceManager.readPrinterHistory();
  }
  if (mPersistenceManager.isReadHistoryCompleted() && !mDiscoverySession.isStarted()) {
    final int favoriteCount=Math.min(MAX_HISTORICAL_PRINTER_COUNT,mFavoritePrinters.size());
    List<PrinterId> printerIds=new ArrayList<PrinterId>(favoriteCount);
    for (int i=0; i < favoriteCount; i++) {
      printerIds.add(mFavoritePrinters.get(i).getId());
    }
    mDiscoverySession.startPrinterDisovery(printerIds);
  }
}
