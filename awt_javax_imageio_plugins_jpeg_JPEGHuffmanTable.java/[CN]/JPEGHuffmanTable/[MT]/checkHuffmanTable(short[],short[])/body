{
  int numLeaves=0;
  int possibleLeaves=2;
  for (  short length : lengths) {
    numLeaves+=length;
    possibleLeaves-=length;
    if (possibleLeaves < 0) {
      throw new IllegalArgumentException("Invalid Huffman table provided, lengths are incorrect.");
    }
    possibleLeaves<<=1;
  }
  if (values.length != numLeaves) {
    throw new IllegalArgumentException("Invalid Huffman table provided, sum of lengths != values.");
  }
}
