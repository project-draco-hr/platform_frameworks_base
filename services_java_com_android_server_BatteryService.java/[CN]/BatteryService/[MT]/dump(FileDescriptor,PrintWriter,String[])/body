{
  if (mContext.checkCallingOrSelfPermission(android.Manifest.permission.DUMP) != PackageManager.PERMISSION_GRANTED) {
    pw.println("Permission Denial: can't dump Battery service from from pid=" + Binder.getCallingPid() + ", uid="+ Binder.getCallingUid());
    return;
  }
  if (args == null || args.length == 0) {
synchronized (this) {
      pw.println("Current Battery Service state:");
      pw.println("  AC powered: " + mAcOnline);
      pw.println("  USB powered: " + mUsbOnline);
      pw.println("  status: " + mBatteryStatus);
      pw.println("  health: " + mBatteryHealth);
      pw.println("  present: " + mBatteryPresent);
      pw.println("  level: " + mBatteryLevel);
      pw.println("  scale: " + BATTERY_SCALE);
      pw.println("  voltage:" + mBatteryVoltage);
      pw.println("  temperature: " + mBatteryTemperature);
      pw.println("  technology: " + mBatteryTechnology);
    }
  }
 else   if (false) {
    if (args.length == 3 && "set".equals(args[0])) {
      String key=args[1];
      String value=args[2];
      try {
        boolean update=true;
        if ("ac".equals(key)) {
          mAcOnline=Integer.parseInt(value) != 0;
        }
 else         if ("usb".equals(key)) {
          mUsbOnline=Integer.parseInt(value) != 0;
        }
 else         if ("status".equals(key)) {
          mBatteryStatus=Integer.parseInt(value);
        }
 else         if ("level".equals(key)) {
          mBatteryLevel=Integer.parseInt(value);
        }
 else         if ("invalid".equals(key)) {
          mInvalidCharger=Integer.parseInt(value);
        }
 else {
          update=false;
        }
        if (update) {
          processValues();
        }
      }
 catch (      NumberFormatException ex) {
        pw.println("Bad value: " + value);
      }
    }
  }
}
