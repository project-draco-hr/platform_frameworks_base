{
  if (newRoutes.mMainType != mCurRoutesInfo.mMainType) {
    mCurRoutesInfo.mMainType=newRoutes.mMainType;
    int name;
    if ((newRoutes.mMainType & AudioRoutesInfo.MAIN_HEADPHONES) != 0 || (newRoutes.mMainType & AudioRoutesInfo.MAIN_HEADSET) != 0) {
      name=com.android.internal.R.string.default_audio_route_name_headphones;
    }
 else     if ((newRoutes.mMainType & AudioRoutesInfo.MAIN_DOCK_SPEAKERS) != 0) {
      name=com.android.internal.R.string.default_audio_route_name_dock_speakers;
    }
 else     if ((newRoutes.mMainType & AudioRoutesInfo.MAIN_HDMI) != 0) {
      name=com.android.internal.R.string.default_audio_route_name_hdmi;
    }
 else {
      name=com.android.internal.R.string.default_audio_route_name;
    }
    sStatic.mDefaultAudio.mNameResId=name;
    dispatchRouteChanged(sStatic.mDefaultAudio);
  }
  boolean a2dpEnabled;
  try {
    a2dpEnabled=mAudioService.isBluetoothA2dpOn();
  }
 catch (  RemoteException e) {
    Log.e(TAG,"Error querying Bluetooth A2DP state",e);
    a2dpEnabled=false;
  }
  if (!TextUtils.equals(newRoutes.mBluetoothName,mCurRoutesInfo.mBluetoothName)) {
    mCurRoutesInfo.mBluetoothName=newRoutes.mBluetoothName;
    if (mCurRoutesInfo.mBluetoothName != null) {
      if (sStatic.mBluetoothA2dpRoute == null) {
        final RouteInfo info=new RouteInfo(sStatic.mSystemCategory);
        info.mName=mCurRoutesInfo.mBluetoothName;
        info.mSupportedTypes=ROUTE_TYPE_LIVE_AUDIO;
        sStatic.mBluetoothA2dpRoute=info;
        addRoute(sStatic.mBluetoothA2dpRoute);
      }
 else {
        sStatic.mBluetoothA2dpRoute.mName=mCurRoutesInfo.mBluetoothName;
        dispatchRouteChanged(sStatic.mBluetoothA2dpRoute);
      }
    }
 else     if (sStatic.mBluetoothA2dpRoute != null) {
      removeRoute(sStatic.mBluetoothA2dpRoute);
      sStatic.mBluetoothA2dpRoute=null;
    }
  }
  if (mBluetoothA2dpRoute != null) {
    if (mCurRoutesInfo.mMainType != AudioRoutesInfo.MAIN_SPEAKER && mSelectedRoute == mBluetoothA2dpRoute) {
      selectRouteStatic(ROUTE_TYPE_LIVE_AUDIO,mDefaultAudio);
    }
 else     if (mCurRoutesInfo.mMainType == AudioRoutesInfo.MAIN_SPEAKER && mSelectedRoute == mDefaultAudio && a2dpEnabled) {
      selectRouteStatic(ROUTE_TYPE_LIVE_AUDIO,mBluetoothA2dpRoute);
    }
  }
}
