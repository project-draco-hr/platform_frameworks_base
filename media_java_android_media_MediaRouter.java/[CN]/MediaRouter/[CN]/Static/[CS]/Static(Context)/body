{
  mAppContext=appContext;
  mResources=Resources.getSystem();
  mHandler=new Handler(appContext.getMainLooper());
  IBinder b=ServiceManager.getService(Context.AUDIO_SERVICE);
  mAudioService=IAudioService.Stub.asInterface(b);
  mDisplayService=(DisplayManager)appContext.getSystemService(Context.DISPLAY_SERVICE);
  mMediaRouterService=IMediaRouterService.Stub.asInterface(ServiceManager.getService(Context.MEDIA_ROUTER_SERVICE));
  mSystemCategory=new RouteCategory(com.android.internal.R.string.default_audio_route_category_name,ROUTE_TYPE_LIVE_AUDIO | ROUTE_TYPE_LIVE_VIDEO,false);
  mSystemCategory.mIsSystem=true;
  mCanConfigureWifiDisplays=appContext.checkPermission(Manifest.permission.CONFIGURE_WIFI_DISPLAY,Process.myPid(),Process.myUid()) == PackageManager.PERMISSION_GRANTED;
}
