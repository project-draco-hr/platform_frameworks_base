{
  mResources=Resources.getSystem();
  mHandler=new Handler(appContext.getMainLooper());
  mAudioManager=(AudioManager)appContext.getSystemService(Context.AUDIO_SERVICE);
  mSystemCategory=new RouteCategory(mResources.getText(com.android.internal.R.string.default_audio_route_category_name),ROUTE_TYPE_LIVE_AUDIO,false);
  final IntentFilter speakerFilter=new IntentFilter(Intent.ACTION_HEADSET_PLUG);
  speakerFilter.addAction(Intent.ACTION_ANALOG_AUDIO_DOCK_PLUG);
  speakerFilter.addAction(Intent.ACTION_DIGITAL_AUDIO_DOCK_PLUG);
  speakerFilter.addAction(Intent.ACTION_HDMI_AUDIO_PLUG);
  mHeadphoneChangedReceiver=new HeadphoneChangedBroadcastReceiver();
  appContext.registerReceiver(mHeadphoneChangedReceiver,speakerFilter);
  mDefaultAudio=new RouteInfo(mSystemCategory);
  mDefaultAudio.mName=mResources.getText(com.android.internal.R.string.default_audio_route_name);
  mDefaultAudio.mSupportedTypes=ROUTE_TYPE_LIVE_AUDIO;
  addRoute(mDefaultAudio);
}
