{
  Intent intent=new Intent(INTENT_ACTION_GLOBAL_SEARCH);
  PackageManager pm=mContext.getPackageManager();
  List<ResolveInfo> activities=pm.queryIntentActivities(intent,PackageManager.MATCH_DEFAULT_ONLY);
  int count=activities.size();
  for (int i=0; i < count; i++) {
    ActivityInfo ai=activities.get(i).activityInfo;
    if (pm.checkPermission(Manifest.permission.GLOBAL_SEARCH,ai.packageName) == PackageManager.PERMISSION_GRANTED) {
      return new ComponentName(ai.packageName,ai.name);
    }
 else {
      Log.w(TAG,"Package " + ai.packageName + " wants to handle GLOBAL_SEARCH, "+ "but does not have the GLOBAL_SEARCH permission.");
    }
  }
  return null;
}
