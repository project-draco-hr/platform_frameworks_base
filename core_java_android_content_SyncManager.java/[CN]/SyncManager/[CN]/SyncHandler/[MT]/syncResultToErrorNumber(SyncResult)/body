{
  if (syncResult.syncAlreadyInProgress)   return History.ERROR_SYNC_ALREADY_IN_PROGRESS;
  if (syncResult.stats.numAuthExceptions > 0)   return History.ERROR_AUTHENTICATION;
  if (syncResult.stats.numIoExceptions > 0)   return History.ERROR_IO;
  if (syncResult.stats.numParseExceptions > 0)   return History.ERROR_PARSE;
  if (syncResult.stats.numConflictDetectedExceptions > 0)   return History.ERROR_CONFLICT;
  if (syncResult.tooManyDeletions)   return History.ERROR_TOO_MANY_DELETIONS;
  if (syncResult.tooManyRetries)   return History.ERROR_TOO_MANY_RETRIES;
  throw new IllegalStateException("we are not in an error state, " + toString());
}
