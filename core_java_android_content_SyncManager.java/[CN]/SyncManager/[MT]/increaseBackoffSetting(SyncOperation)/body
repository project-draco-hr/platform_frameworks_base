{
  final long now=SystemClock.elapsedRealtime();
  final Pair<Long,Long> previousSettings=mSyncStorageEngine.getBackoff(op.account,op.authority);
  long newDelayInMs;
  if (previousSettings == null || previousSettings.second <= 0) {
    newDelayInMs=jitterize(INITIAL_SYNC_RETRY_TIME_IN_MS,(long)(INITIAL_SYNC_RETRY_TIME_IN_MS * 1.1));
  }
 else {
    newDelayInMs=previousSettings.second * 2;
  }
  long maxSyncRetryTimeInSeconds=Settings.Secure.getLong(mContext.getContentResolver(),Settings.Secure.SYNC_MAX_RETRY_DELAY_IN_SECONDS,DEFAULT_MAX_SYNC_RETRY_TIME_IN_SECONDS);
  if (newDelayInMs > maxSyncRetryTimeInSeconds * 1000) {
    newDelayInMs=maxSyncRetryTimeInSeconds * 1000;
  }
  final long backoff=now + newDelayInMs;
  mSyncStorageEngine.setBackoff(op.account,op.authority,backoff,newDelayInMs);
  op.backoff=backoff;
  op.updateEffectiveRunTime();
synchronized (mSyncQueue) {
    mSyncQueue.onBackoffChanged(op.account,op.authority,backoff);
  }
}
