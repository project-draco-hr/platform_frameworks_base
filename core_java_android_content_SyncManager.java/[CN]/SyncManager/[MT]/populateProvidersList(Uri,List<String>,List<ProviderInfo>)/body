{
  try {
    final IPackageManager packageManager=getPackageManager();
    if (url == null) {
      packageManager.querySyncProviders(names,providers);
    }
 else {
      final String authority=url.getAuthority();
      ProviderInfo info=packageManager.resolveContentProvider(url.getAuthority(),0);
      if (info != null) {
        String[] providerNames=info.authority.split(";");
        if (url.getAuthority().equals(providerNames[0])) {
          names.add(authority);
          providers.add(info);
        }
      }
    }
  }
 catch (  RemoteException ex) {
    Log.e(TAG,"error trying to get the ProviderInfo for " + url,ex);
    names.clear();
    providers.clear();
  }
}
