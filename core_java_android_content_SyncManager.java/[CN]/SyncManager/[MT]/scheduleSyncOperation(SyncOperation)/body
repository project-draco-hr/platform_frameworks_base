{
  final boolean expedited=syncOperation.delay < 0;
  final ActiveSyncContext activeSyncContext=mActiveSyncContext;
  if (expedited && activeSyncContext != null) {
    final boolean activeIsExpedited=activeSyncContext.mSyncOperation.delay < 0;
    final boolean hasSameKey=activeSyncContext.mSyncOperation.key.equals(syncOperation.key);
    if (!activeIsExpedited && !hasSameKey) {
      rescheduleImmediately(activeSyncContext.mSyncOperation);
      sendSyncFinishedOrCanceledMessage(activeSyncContext,null);
    }
  }
  boolean operationEnqueued;
synchronized (mSyncQueue) {
    operationEnqueued=mSyncQueue.add(syncOperation);
  }
  if (operationEnqueued) {
    if (Log.isLoggable(TAG,Log.VERBOSE)) {
      Log.v(TAG,"scheduleSyncOperation: enqueued " + syncOperation);
    }
    sendCheckAlarmsMessage();
  }
 else {
    if (Log.isLoggable(TAG,Log.VERBOSE)) {
      Log.v(TAG,"scheduleSyncOperation: dropping duplicate sync operation " + syncOperation);
    }
  }
}
