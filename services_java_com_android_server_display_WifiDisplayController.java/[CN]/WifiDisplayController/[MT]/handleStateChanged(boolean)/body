{
  if (mWifiP2pEnabled != enabled) {
    mWifiP2pEnabled=enabled;
    if (enabled) {
      if (mWfdEnabled) {
        discoverPeers();
      }
 else {
        enableWfd();
      }
    }
 else {
      mWfdEnabled=false;
      disconnect();
    }
  }
}
