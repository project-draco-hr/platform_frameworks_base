{
  BackStackEntry bse=new BackStackEntry(fm);
  int pos=0;
  while (pos < mOps.length) {
    BackStackEntry.Op op=new BackStackEntry.Op();
    op.cmd=mOps[pos++];
    Fragment f=fm.mActive.get(mOps[pos++]);
    f.mBackStackNesting++;
    op.fragment=f;
    op.enterAnim=mOps[pos++];
    op.exitAnim=mOps[pos++];
    bse.addOp(op);
  }
  bse.mTransition=mTransition;
  bse.mTransitionStyle=mTransitionStyle;
  bse.mName=mName;
  return bse;
}
