{
  DataConnectionTracker dcTracker=phone.mDataConnection;
  Message msg=dcTracker.obtainMessage(DataConnectionTracker.EVENT_CLEAN_UP_ALL_CONNECTIONS);
  dcTracker.sendMessage(msg);
  for (int i=0; i < MAX_NUM_DATA_STATE_READS; i++) {
    SystemClock.sleep(DATA_STATE_POLL_SLEEP_MS);
  }
  if (phone.isInCall()) {
    phone.mCT.ringingCall.hangupIfAlive();
    phone.mCT.backgroundCall.hangupIfAlive();
    phone.mCT.foregroundCall.hangupIfAlive();
  }
  cm.setRadioPower(false,null);
}
