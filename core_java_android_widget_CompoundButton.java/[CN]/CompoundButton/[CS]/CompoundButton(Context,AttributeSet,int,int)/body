{
  super(context,attrs,defStyleAttr,defStyleRes);
  final TypedArray a=context.obtainStyledAttributes(attrs,com.android.internal.R.styleable.CompoundButton,defStyleAttr,defStyleRes);
  final Drawable d=a.getDrawable(com.android.internal.R.styleable.CompoundButton_button);
  if (d != null) {
    setButtonDrawable(d);
  }
  if (a.hasValue(R.styleable.CompoundButton_buttonTintMode)) {
    mButtonTintMode=Drawable.parseTintMode(a.getInt(R.styleable.CompoundButton_buttonTintMode,-1),mButtonTintMode);
    mHasButtonTintMode=true;
  }
  if (a.hasValue(R.styleable.CompoundButton_buttonTint)) {
    mButtonTintList=a.getColorStateList(R.styleable.CompoundButton_buttonTint);
    mHasButtonTint=true;
  }
  final boolean checked=a.getBoolean(com.android.internal.R.styleable.CompoundButton_checked,false);
  setChecked(checked);
  a.recycle();
  applyButtonTint();
}
