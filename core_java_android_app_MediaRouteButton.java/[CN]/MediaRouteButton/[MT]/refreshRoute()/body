{
  if (mAttachedToWindow) {
    final MediaRouter.RouteInfo route=mRouter.getSelectedRoute();
    final boolean isRemote=!route.isDefault() && route.matchesTypes(mRouteTypes);
    final boolean isConnecting=isRemote && route.isConnecting();
    boolean needsRefresh=false;
    if (mRemoteActive != isRemote) {
      mRemoteActive=isRemote;
      needsRefresh=true;
    }
    if (mIsConnecting != isConnecting) {
      mIsConnecting=isConnecting;
      needsRefresh=true;
    }
    if (needsRefresh) {
      refreshDrawableState();
    }
    setEnabled(mRouter.isRouteAvailable(mRouteTypes,MediaRouter.AVAILABILITY_FLAG_IGNORE_DEFAULT_ROUTE));
  }
}
