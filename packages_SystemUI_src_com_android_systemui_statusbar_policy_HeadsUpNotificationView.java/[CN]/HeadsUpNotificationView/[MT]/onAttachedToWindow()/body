{
  float densityScale=getResources().getDisplayMetrics().density;
  final ViewConfiguration viewConfiguration=ViewConfiguration.get(getContext());
  float pagingTouchSlop=viewConfiguration.getScaledPagingTouchSlop();
  float touchSlop=viewConfiguration.getScaledTouchSlop();
  mSwipeHelper=new SwipeHelper(SwipeHelper.X,this,densityScale,pagingTouchSlop);
  mSwipeHelper.setMaxSwipeProgress(mMaxAlpha);
  mEdgeSwipeHelper=new EdgeSwipeHelper(touchSlop);
  int minHeight=getResources().getDimensionPixelSize(R.dimen.notification_min_height);
  int maxHeight=getResources().getDimensionPixelSize(R.dimen.notification_max_height);
  mExpandHelper=new ExpandHelper(getContext(),this,minHeight,maxHeight);
  mContentHolder=(ViewGroup)findViewById(R.id.content_holder);
  mContentHolder.setOutlineProvider(CONTENT_HOLDER_OUTLINE_PROVIDER);
  if (mHeadsUp != null) {
    showNotification(mHeadsUp);
  }
  getViewTreeObserver().addOnComputeInternalInsetsListener(this);
}
