{
synchronized (mLock) {
    if (args == null || args.length == 0 || "-a".equals(args[0])) {
      pw.println("Current Battery Service state:");
      if (mUpdatesStopped) {
        pw.println("  (UPDATES STOPPED -- use 'reset' to restart)");
      }
      pw.println("  AC powered: " + mBatteryProps.chargerAcOnline);
      pw.println("  USB powered: " + mBatteryProps.chargerUsbOnline);
      pw.println("  Wireless powered: " + mBatteryProps.chargerWirelessOnline);
      pw.println("  Max charging current: " + mBatteryProps.maxChargingCurrent);
      pw.println("  Max charging voltage: " + mBatteryProps.maxChargingVoltage);
      pw.println("  Charge counter: " + mBatteryProps.batteryChargeCounter);
      pw.println("  status: " + mBatteryProps.batteryStatus);
      pw.println("  health: " + mBatteryProps.batteryHealth);
      pw.println("  present: " + mBatteryProps.batteryPresent);
      pw.println("  level: " + mBatteryProps.batteryLevel);
      pw.println("  scale: " + BATTERY_SCALE);
      pw.println("  voltage: " + mBatteryProps.batteryVoltage);
      pw.println("  temperature: " + mBatteryProps.batteryTemperature);
      pw.println("  technology: " + mBatteryProps.batteryTechnology);
    }
 else {
      Shell shell=new Shell();
      shell.exec(mBinderService,null,fd,null,args,new ResultReceiver(null));
    }
  }
}
