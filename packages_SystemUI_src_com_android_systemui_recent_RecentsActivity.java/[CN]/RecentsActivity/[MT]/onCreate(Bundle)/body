{
  final SystemUIApplication app=(SystemUIApplication)getApplication();
  final RecentTasksLoader recentTasksLoader=app.getRecentTasksLoader();
  setContentView(R.layout.status_bar_recent_panel);
  mRecentsPanel=(RecentsPanelView)findViewById(R.id.recents_root);
  mRecentsPanel.setOnTouchListener(new TouchOutsideListener(mRecentsPanel));
  mRecentsPanel.setRecentTasksLoader(recentTasksLoader);
  recentTasksLoader.setRecentsPanel(mRecentsPanel,mRecentsPanel);
  mRecentsPanel.setMinSwipeAlpha(getResources().getInteger(R.integer.config_recent_item_min_alpha) / 100f);
  if (savedInstanceState == null || savedInstanceState.getBoolean(WAS_SHOWING)) {
    handleIntent(getIntent());
  }
  mIntentFilter=new IntentFilter();
  mIntentFilter.addAction(CLOSE_RECENTS_INTENT);
  registerReceiver(mIntentReceiver,mIntentFilter);
  super.onCreate(savedInstanceState);
}
