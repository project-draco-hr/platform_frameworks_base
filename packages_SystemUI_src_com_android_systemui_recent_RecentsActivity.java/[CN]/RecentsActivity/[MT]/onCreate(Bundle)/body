{
  getWindow().addPrivateFlags(WindowManager.LayoutParams.PRIVATE_FLAG_INHERIT_TRANSLUCENT_DECOR);
  setContentView(R.layout.status_bar_recent_panel);
  mRecentsPanel=(RecentsPanelView)findViewById(R.id.recents_root);
  mRecentsPanel.setOnTouchListener(new TouchOutsideListener(mRecentsPanel));
  mRecentsPanel.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION);
  final RecentTasksLoader recentTasksLoader=RecentTasksLoader.getInstance(this);
  recentTasksLoader.setRecentsPanel(mRecentsPanel,mRecentsPanel);
  mRecentsPanel.setMinSwipeAlpha(getResources().getInteger(R.integer.config_recent_item_min_alpha) / 100f);
  if (savedInstanceState == null || savedInstanceState.getBoolean(WAS_SHOWING)) {
    handleIntent(getIntent(),(savedInstanceState == null));
  }
  mIntentFilter=new IntentFilter();
  mIntentFilter.addAction(CLOSE_RECENTS_INTENT);
  mIntentFilter.addAction(WINDOW_ANIMATION_START_INTENT);
  registerReceiver(mIntentReceiver,mIntentFilter);
  super.onCreate(savedInstanceState);
}
