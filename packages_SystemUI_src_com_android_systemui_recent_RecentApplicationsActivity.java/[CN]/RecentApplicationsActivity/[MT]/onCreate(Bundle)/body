{
  super.onCreate(savedInstanceState);
  final Resources res=getResources();
  final View decorView=getWindow().getDecorView();
  getWindow().getDecorView().setBackgroundColor(0x80000000);
  if (mCarouselView == null) {
    long t=System.currentTimeMillis();
    setContentView(R.layout.recent_apps_activity);
    long elapsed=System.currentTimeMillis() - t;
    Log.v(TAG,"Recents layout took " + elapsed + "ms to load");
    mLoadingBitmap=BitmapFactory.decodeResource(res,R.drawable.recent_rez_border);
    mCarouselView=(CarouselView)findViewById(R.id.carousel);
    mHelper=new LocalCarouselViewHelper(this);
    mHelper.setCarouselView(mCarouselView);
    mCarouselView.setSlotCount(CARD_SLOTS);
    mCarouselView.setVisibleSlots(VISIBLE_SLOTS);
    mCarouselView.createCards(0);
    mCarouselView.setStartAngle((float)-(2.0f * Math.PI * 5 / CARD_SLOTS));
    mCarouselView.setDefaultBitmap(mLoadingBitmap);
    mCarouselView.setLoadingBitmap(mLoadingBitmap);
    mCarouselView.setRezInCardCount(3.0f);
    mCarouselView.getHolder().setFormat(PixelFormat.TRANSLUCENT);
    mNoRecentsView=(View)findViewById(R.id.no_applications_message);
    mActivityManager=(ActivityManager)getSystemService(Context.ACTIVITY_SERVICE);
    mPortraitMode=decorView.getHeight() > decorView.getWidth();
    View detail=getLayoutInflater().inflate(R.layout.recents_detail_view,null);
    TextView title=(TextView)detail.findViewById(R.id.app_title);
    TextView description=(TextView)detail.findViewById(R.id.app_description);
    mDetailInfo=new DetailInfo(detail,title,description);
    refresh();
  }
}
