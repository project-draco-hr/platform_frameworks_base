{
  super(context,attrs,defStyleAttr,defStyleRes);
  final TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.Toolbar,defStyleAttr,defStyleRes);
  mTitleTextAppearance=a.getResourceId(R.styleable.Toolbar_titleTextAppearance,0);
  mSubtitleTextAppearance=a.getResourceId(R.styleable.Toolbar_subtitleTextAppearance,0);
  mGravity=a.getInteger(R.styleable.Toolbar_gravity,mGravity);
  mTitleMarginStart=mTitleMarginEnd=Math.max(0,a.getDimensionPixelOffset(R.styleable.Toolbar_titleMargins,-1));
  final int marginStart=a.getDimensionPixelOffset(R.styleable.Toolbar_titleMarginStart,-1);
  if (marginStart >= 0) {
    mTitleMarginStart=marginStart;
  }
  final int marginEnd=a.getDimensionPixelOffset(R.styleable.Toolbar_titleMarginEnd,-1);
  if (marginEnd >= 0) {
    mTitleMarginEnd=marginEnd;
  }
  final int marginTop=a.getDimensionPixelOffset(R.styleable.Toolbar_titleMarginTop,-1);
  if (marginTop >= 0) {
    mTitleMarginTop=marginTop;
  }
  final int marginBottom=a.getDimensionPixelOffset(R.styleable.Toolbar_titleMarginBottom,-1);
  if (marginBottom >= 0) {
    mTitleMarginBottom=marginBottom;
  }
  final CharSequence title=a.getText(R.styleable.Toolbar_title);
  if (!TextUtils.isEmpty(title)) {
    setTitle(title);
  }
  final CharSequence subtitle=a.getText(R.styleable.Toolbar_subtitle);
  if (!TextUtils.isEmpty(subtitle)) {
    setSubtitle(title);
  }
  a.recycle();
}
