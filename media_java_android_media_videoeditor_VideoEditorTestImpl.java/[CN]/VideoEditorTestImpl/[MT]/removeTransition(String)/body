{
  if (mPreviewThread != null) {
    throw new IllegalStateException("Previewing is in progress");
  }
  final Transition transition=getTransition(transitionId);
  if (transition != null) {
    mTransitions.remove(transition);
    transition.invalidate();
    computeTimelineDuration();
  }
  final MediaItem afterMediaItem=transition.getAfterMediaItem();
  if (afterMediaItem != null) {
    afterMediaItem.setEndTransition(null);
  }
  final MediaItem beforeMediaItem=transition.getBeforeMediaItem();
  if (beforeMediaItem != null) {
    beforeMediaItem.setBeginTransition(null);
  }
  return transition;
}
