{
  mDurationMs=0;
  for (  MediaItem mediaItem : mMediaItems) {
    mDurationMs+=mediaItem.getTimelineDuration();
  }
  for (  Transition transition : mTransitions) {
    if (!(transition instanceof TransitionStartCurtainOpening) && !(transition instanceof TransitionStartFadeFromBlack) && !(transition instanceof TransitionEndFadeToBlack)&& !(transition instanceof TransitionEndCurtainClosing)) {
      mDurationMs-=transition.getDuration();
    }
  }
}
