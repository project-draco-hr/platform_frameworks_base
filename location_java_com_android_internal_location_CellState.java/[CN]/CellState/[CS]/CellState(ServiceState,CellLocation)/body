{
  GsmCellLocation loc=(GsmCellLocation)location;
  mLac=loc.getLac();
  mCid=loc.getCid();
  mTime=System.currentTimeMillis();
  String radioType=SystemProperties.get(TelephonyProperties.PROPERTY_DATA_NETWORK_TYPE);
  if (radioType != null && (radioType.equals("GPRS") || radioType.equals("EDGE"))) {
    mRadioType=RADIO_TYPE_GPRS;
  }
 else   if (radioType != null && radioType.equals("UMTS")) {
    mRadioType=RADIO_TYPE_WCDMA;
  }
  String operator=service.getOperatorNumeric();
  if (operator != null && !operator.equals("")) {
    String mcc=operator.substring(0,3);
    String mnc=operator.substring(3);
    mMcc=Integer.parseInt(mcc);
    mMnc=Integer.parseInt(mnc);
  }
  String homeOperator=SystemProperties.get(TelephonyProperties.PROPERTY_SIM_OPERATOR_NUMERIC);
  if (homeOperator != null && !homeOperator.equals("")) {
    String mcc=homeOperator.substring(0,3);
    String mnc=homeOperator.substring(3);
    mHomeMcc=Integer.parseInt(mcc);
    mHomeMnc=Integer.parseInt(mnc);
  }
  String carrier=service.getOperatorAlphaLong();
  if (carrier != null && !carrier.equals("")) {
    mCarrier=carrier;
  }
}
