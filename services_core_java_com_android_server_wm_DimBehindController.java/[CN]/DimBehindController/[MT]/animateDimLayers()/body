{
  int fullScreen=-1;
  for (int i=mState.size() - 1; i >= 0; i--) {
    DimLayer.DimLayerUser dimLayerUser=mState.keyAt(i);
    if (dimLayerUser.isFullscreen()) {
      fullScreen=i;
      if (mState.valueAt(i).continueDimming) {
        break;
      }
    }
  }
  if (fullScreen != -1) {
    return animateDimLayers(mState.keyAt(fullScreen));
  }
 else {
    boolean result=false;
    for (int i=mState.size() - 1; i >= 0; i--) {
      result|=animateDimLayers(mState.keyAt(i));
    }
    return result;
  }
}
