{
  if (mCameraService != null)   return;
  Log.i(TAG,"Connecting to camera service");
  IBinder cameraServiceBinder=ServiceManager.getService(CAMERA_SERVICE_BINDER_NAME);
  if (cameraServiceBinder == null) {
    return;
  }
  try {
    cameraServiceBinder.linkToDeath(this,0);
  }
 catch (  RemoteException e) {
    return;
  }
  ICameraService cameraService=ICameraService.Stub.asInterface(cameraServiceBinder);
  try {
    CameraMetadataNative.setupGlobalVendorTagDescriptor();
  }
 catch (  ServiceSpecificException e) {
    handleRecoverableSetupErrors(e);
  }
  try {
    cameraService.addListener(this);
    mCameraService=cameraService;
  }
 catch (  ServiceSpecificException e) {
    throw new IllegalStateException("Failed to register a camera service listener",e);
  }
catch (  RemoteException e) {
  }
}
