{
  boolean didSomething=false;
  for (  ContentProviderRecord provider : providers.values()) {
    final boolean sameComponent=packageName == null || (provider.info.packageName.equals(packageName) && (filterByClasses == null || filterByClasses.contains(provider.name.getClassName())));
    if (sameComponent && (provider.proc == null || evenPersistent || !provider.proc.persistent)) {
      if (!doit) {
        return true;
      }
      didSomething=true;
      result.add(provider);
    }
  }
  return didSomething;
}
