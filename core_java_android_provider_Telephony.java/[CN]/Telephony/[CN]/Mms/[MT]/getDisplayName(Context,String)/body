{
  Matcher match=NAME_ADDR_EMAIL_PATTERN.matcher(email);
  if (match.matches()) {
    return getEmailDisplayName(match.group(1));
  }
  Cursor cursor=SqliteWrapper.query(context,context.getContentResolver(),Contacts.ContactMethods.CONTENT_EMAIL_URI,new String[]{Contacts.ContactMethods.NAME},Contacts.ContactMethods.DATA + " = \'" + email+ "\'",null,null);
  if (cursor != null) {
    try {
      int columnIndex=cursor.getColumnIndexOrThrow(Contacts.ContactMethods.NAME);
      while (cursor.moveToNext()) {
        String name=cursor.getString(columnIndex);
        if (!TextUtils.isEmpty(name)) {
          return name;
        }
      }
    }
  finally {
      cursor.close();
    }
  }
  return email;
}
