{
  final int width=right - left;
  final int height=bottom - top;
  if (DEBUG)   Slog.d(TAG,"onLayout: height=" + height);
  final int count=getChildCount();
  int y=0;
  for (int i=0; i < count; i++) {
    final View child=getChildAt(i);
    if (child.getVisibility() == GONE) {
      continue;
    }
    float alpha=child.getAlpha();
    if (alpha > 1.0f) {
      if (DEBUG) {
        Slog.w(TAG,"alpha=" + alpha + " > 1!!! "+ child);
      }
      alpha=1f;
    }
    final int thisRowHeight=(int)(alpha * mRowHeight);
    if (DEBUG) {
      Slog.d(TAG,String.format("laying out child #%d: (0, %d, %d, %d) h=%d",i,y,width,y + thisRowHeight,thisRowHeight));
    }
    child.layout(0,y,width,y + thisRowHeight);
    y+=thisRowHeight;
  }
  if (DEBUG) {
    Slog.d(TAG,"onLayout: final y=" + y);
  }
}
