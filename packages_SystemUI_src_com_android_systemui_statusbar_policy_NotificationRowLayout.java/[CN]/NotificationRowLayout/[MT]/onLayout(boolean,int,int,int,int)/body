{
  final int width=right - left;
  final int height=bottom - top;
  if (DEBUG)   Slog.d(TAG,"onLayout: height=" + height);
  final int count=getChildCount();
  int y=0;
  for (int i=0; i < count; i++) {
    final View child=getChildAt(i);
    if (child.getVisibility() == GONE) {
      continue;
    }
    float progress=1.0f;
    if (mDisappearingViews.containsKey(child)) {
      progress=1.0f - mDisappearingViews.get(child).getAnimatedFraction();
    }
 else     if (mAppearingViews.containsKey(child)) {
      progress=1.0f - mAppearingViews.get(child).getAnimatedFraction();
    }
    if (progress > 1.0f) {
      if (DEBUG) {
        Slog.w(TAG,"progress=" + progress + " > 1!!! "+ child);
      }
      progress=1f;
    }
    final int thisRowHeight=(int)(progress * mRowHeight);
    if (DEBUG) {
      Slog.d(TAG,String.format("laying out child #%d: (0, %d, %d, %d) h=%d",i,y,width,y + thisRowHeight,thisRowHeight));
    }
    child.layout(0,y,width,y + thisRowHeight);
    y+=thisRowHeight;
  }
  if (DEBUG) {
    Slog.d(TAG,"onLayout: final y=" + y);
  }
}
