{
  final int action=ev.getAction();
  if (mSlidingChild != null) {
switch (action) {
case MotionEvent.ACTION_OUTSIDE:
case MotionEvent.ACTION_MOVE:
      mVT.addMovement(ev);
    float delta=(ev.getX() - mInitialTouchX);
  if (CONSTRAIN_SWIPE_ON_PERMANENT && !canBeCleared(mSlidingChild)) {
    delta=Math.copySign(Math.min(Math.abs(delta),mSlidingChild.getMeasuredWidth() * 0.2f),delta);
  }
mSlidingChild.setTranslationX(delta);
break;
case MotionEvent.ACTION_UP:
case MotionEvent.ACTION_CANCEL:
mVT.addMovement(ev);
mVT.computeCurrentVelocity(1000);
if (DEBUG) Slog.d(TAG,"exit velocity: " + mVT.getXVelocity());
boolean restore=true;
mLiftoffVelocity=mVT.getXVelocity();
if (Math.abs(mLiftoffVelocity) > SWIPE_ESCAPE_VELOCITY || (CLEAR_IF_SWIPED_FAR_ENOUGH && (mSlidingChild.getTranslationX() * 2) > mSlidingChild.getMeasuredWidth())) {
restore=!clear(mSlidingChild);
}
if (restore) {
mSlidingChild.animate().translationX(0).setDuration(SNAP_ANIM_LEN).start();
}
break;
}
return true;
}
return false;
}
