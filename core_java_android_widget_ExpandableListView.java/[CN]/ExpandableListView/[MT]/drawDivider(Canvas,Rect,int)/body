{
  int flatListPosition=childIndex + mFirstPosition;
  if (flatListPosition >= 0) {
    PositionMetadata pos=mConnector.getUnflattenedPos(flatListPosition);
    if ((pos.position.type == ExpandableListPosition.CHILD) || (pos.isExpanded() && pos.groupMetadata.lastChildFlPos != pos.groupMetadata.flPos)) {
      final Drawable divider=mChildDivider;
      final boolean clip=mClipChildDivider;
      if (!clip) {
        divider.setBounds(bounds);
      }
 else {
        canvas.save();
        canvas.clipRect(bounds);
      }
      divider.draw(canvas);
      if (clip) {
        canvas.restore();
      }
      pos.recycle();
      return;
    }
    pos.recycle();
  }
  super.drawDivider(canvas,bounds,flatListPosition);
}
