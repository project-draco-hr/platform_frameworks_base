{
  final Context context=getContext();
  if (mStatusBarManager == null) {
    mStatusBarManager=(StatusBarManager)context.getSystemService(Context.STATUS_BAR_SERVICE);
  }
  if (mStatusBarManager != null) {
    mStatusBarManager.disable(mCarModeEnabled ? StatusBarManager.DISABLE_NOTIFICATION_TICKER : StatusBarManager.DISABLE_NONE);
  }
  if (mNotificationManager == null) {
    mNotificationManager=(NotificationManager)context.getSystemService(Context.NOTIFICATION_SERVICE);
  }
  if (mNotificationManager != null) {
    if (mCarModeEnabled) {
      Intent carModeOffIntent=new Intent(context,DisableCarModeActivity.class);
      Notification n=new Notification();
      n.icon=R.drawable.stat_notify_car_mode;
      n.defaults=Notification.DEFAULT_LIGHTS;
      n.flags=Notification.FLAG_ONGOING_EVENT;
      n.when=0;
      n.color=context.getResources().getColor(com.android.internal.R.color.system_notification_accent_color);
      n.setLatestEventInfo(context,context.getString(R.string.car_mode_disable_notification_title),context.getString(R.string.car_mode_disable_notification_message),PendingIntent.getActivityAsUser(context,0,carModeOffIntent,0,null,UserHandle.CURRENT));
      mNotificationManager.notifyAsUser(null,R.string.car_mode_disable_notification_title,n,UserHandle.ALL);
    }
 else {
      mNotificationManager.cancelAsUser(null,R.string.car_mode_disable_notification_title,UserHandle.ALL);
    }
  }
}
