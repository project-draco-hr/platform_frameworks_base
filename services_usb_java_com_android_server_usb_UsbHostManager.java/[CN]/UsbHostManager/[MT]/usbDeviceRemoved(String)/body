{
  if (DEBUG_AUDIO) {
    Slog.d(TAG,"usb:UsbHostManager.usbDeviceRemoved() nm:" + deviceName);
  }
  if (mConnectedUsbCard != -1 && mConnectedUsbDeviceNum != -1) {
    sendDeviceNotification(mConnectedUsbCard,mConnectedUsbDeviceNum,false,mConnectedHasPlayback,mConnectedHasCapture,mConnectedHasMIDI);
    mConnectedUsbCard=-1;
    mConnectedUsbDeviceNum=-1;
    mConnectedHasPlayback=false;
    mConnectedHasCapture=false;
    mConnectedHasMIDI=false;
  }
synchronized (mLock) {
    UsbDevice device=mDevices.remove(deviceName);
    if (device != null) {
      getCurrentSettings().deviceDetached(device);
    }
  }
}
