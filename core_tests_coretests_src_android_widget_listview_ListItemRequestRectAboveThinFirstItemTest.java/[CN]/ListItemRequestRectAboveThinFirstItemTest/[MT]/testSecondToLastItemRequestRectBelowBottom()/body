{
  final int secondToLastPos=mListView.getCount() - 2;
  while (mListView.getSelectedItemPosition() < secondToLastPos) {
    sendKeys(KeyEvent.KEYCODE_DPAD_DOWN);
  }
  assertEquals("selected position",secondToLastPos,mListView.getSelectedItemPosition());
  final View secondToLast=mListView.getSelectedView();
  final Rect rect=new Rect();
  secondToLast.getDrawingRect(rect);
  rect.offset(0,2 * (mListView.getBottom() - secondToLast.getTop()));
  final int secondToLastIndex=mListView.getChildCount() - 2;
  getActivity().requestRectangleOnScreen(secondToLastIndex,rect);
  getInstrumentation().waitForIdleSync();
  int listBottom=mListView.getHeight() - mListView.getPaddingBottom();
  assertEquals("bottom of last item should be at bottom of list",listBottom,mListView.getChildAt(mListView.getChildCount() - 1).getBottom());
}
