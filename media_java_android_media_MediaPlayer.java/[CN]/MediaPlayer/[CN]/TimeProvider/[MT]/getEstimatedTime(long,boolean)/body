{
  if (mPaused) {
    mLastReportedTime=mLastTimeUs + mTimeAdjustment;
  }
 else {
    long timeSinceRead=(nanoTime - mLastNanoTime) / 1000;
    mLastReportedTime=mLastTimeUs + timeSinceRead;
    if (mTimeAdjustment > 0) {
      long adjustment=mTimeAdjustment - timeSinceRead / TIME_ADJUSTMENT_RATE;
      if (adjustment <= 0) {
        mTimeAdjustment=0;
      }
 else {
        mLastReportedTime+=adjustment;
      }
    }
  }
  return mLastReportedTime;
}
