{
  int i=0;
  for (; i < mListeners.length; i++) {
    if (mListeners[i] == listener || mListeners[i] == null) {
      break;
    }
  }
  if (i >= mListeners.length) {
    MediaTimeProvider.OnMediaTimeListener[] newListeners=new MediaTimeProvider.OnMediaTimeListener[i + 1];
    long[] newTimes=new long[i + 1];
    System.arraycopy(mListeners,0,newListeners,0,mListeners.length);
    System.arraycopy(mTimes,0,newTimes,0,mTimes.length);
    mListeners=newListeners;
    mTimes=newTimes;
  }
  if (mListeners[i] == null) {
    mListeners[i]=listener;
    mTimes[i]=MediaTimeProvider.NO_TIME;
  }
  return i;
}
