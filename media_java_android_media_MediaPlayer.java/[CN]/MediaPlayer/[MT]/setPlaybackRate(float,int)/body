{
  PlaybackSettings settings=new PlaybackSettings();
  settings.allowDefaults();
switch (audioMode) {
case PLAYBACK_RATE_AUDIO_MODE_DEFAULT:
    settings.setSpeed(rate).setPitch(1.0f);
  break;
case PLAYBACK_RATE_AUDIO_MODE_STRETCH:
settings.setSpeed(rate).setPitch(1.0f).setAudioFallbackMode(settings.AUDIO_FALLBACK_MODE_FAIL);
break;
case PLAYBACK_RATE_AUDIO_MODE_RESAMPLE:
settings.setSpeed(rate).setPitch(rate);
break;
default :
final String msg="Audio playback mode " + audioMode + " is not supported";
throw new IllegalArgumentException(msg);
}
setPlaybackSettings(settings);
}
