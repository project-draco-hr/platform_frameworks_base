{
  if (!mStarted) {
    return;
  }
  mRemotePrintAdapter.finish(!mPrintConfirmed);
  final int selectedIndex=mDestinationSpinner.getSelectedItemPosition();
  if (!mPrintConfirmed || selectedIndex < 0) {
    mPrintSpooler.setPrintJobState(mPrintJobId,PrintJobInfo.STATE_CANCELED);
    return;
  }
  SpinnerItem<PrinterInfo> printerItem=mDestinationSpinnerAdapter.getItem(selectedIndex);
  PrinterId printerId=printerItem.value.getId();
  mPrintSpooler.setPrintJobPrinterId(mPrintJobId,printerId);
  mPrintSpooler.setPrintJobState(mPrintJobId,PrintJobInfo.STATE_QUEUED);
  if (DEBUG) {
    if (mPrintConfirmed) {
      File file=mRemotePrintAdapter.getFile();
      if (file.exists()) {
        new ViewSpooledFileAsyncTask(file).executeOnExecutor(AsyncTask.SERIAL_EXECUTOR,(Void[])null);
      }
    }
  }
}
