{
  Bundle extras=getIntent().getExtras();
  mPrintJobId=extras.getInt(EXTRA_PRINT_JOB_ID,-1);
  if (mPrintJobId < 0) {
    throw new IllegalArgumentException("Invalid print job id: " + mPrintJobId);
  }
  mAppId=extras.getInt(EXTRA_APP_ID,-1);
  if (mAppId < 0) {
    throw new IllegalArgumentException("Invalid app id: " + mAppId);
  }
  PrintAttributes attributes=getIntent().getParcelableExtra(EXTRA_ATTRIBUTES);
  if (attributes == null) {
    mCurrPrintAttributes.copyFrom(attributes);
  }
  mIPrintDocumentAdapter=extras.getBinder(EXTRA_PRINTABLE);
  if (mIPrintDocumentAdapter == null) {
    throw new IllegalArgumentException("Printable cannot be null");
  }
  mRemotePrintAdapter=new RemotePrintDocumentAdapter(IPrintDocumentAdapter.Stub.asInterface(mIPrintDocumentAdapter),mPrintSpooler.generateFileForPrintJob(mPrintJobId));
  try {
    mIPrintDocumentAdapter.linkToDeath(mDeathRecipient,0);
  }
 catch (  RemoteException re) {
    finish();
  }
  mPrinterDiscoveryObserver=new PrintDiscoveryObserver(getMainLooper());
  bindUi();
}
