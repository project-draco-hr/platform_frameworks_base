{
  if (convertView == null) {
    convertView=getLayoutInflater().inflate(R.layout.printer_dropdown_item,parent,false);
  }
  CharSequence title=null;
  CharSequence subtitle=null;
  Drawable icon=null;
  if (mPrinters.isEmpty()) {
    if (position == 0) {
      PrinterInfo printer=(PrinterInfo)getItem(position);
      title=printer.getName();
    }
 else     if (position == 1) {
      title=getString(R.string.all_printers);
    }
  }
 else {
    if (position == 1) {
      PrinterInfo printer=(PrinterInfo)getItem(position);
      title=printer.getName();
    }
 else     if (position == getCount() - 1) {
      title=getString(R.string.all_printers);
    }
 else {
      PrinterInfo printer=(PrinterInfo)getItem(position);
      title=printer.getName();
      try {
        PackageInfo packageInfo=getPackageManager().getPackageInfo(printer.getId().getServiceName().getPackageName(),0);
        subtitle=packageInfo.applicationInfo.loadLabel(getPackageManager());
        icon=packageInfo.applicationInfo.loadIcon(getPackageManager());
      }
 catch (      NameNotFoundException nnfe) {
      }
    }
  }
  TextView titleView=(TextView)convertView.findViewById(R.id.title);
  titleView.setText(title);
  TextView subtitleView=(TextView)convertView.findViewById(R.id.subtitle);
  if (!TextUtils.isEmpty(subtitle)) {
    subtitleView.setText(subtitle);
    subtitleView.setVisibility(View.VISIBLE);
  }
 else {
    subtitleView.setText(null);
    subtitleView.setVisibility(View.GONE);
  }
  ImageView iconView=(ImageView)convertView.findViewById(R.id.icon);
  if (icon != null) {
    iconView.setImageDrawable(icon);
    iconView.setVisibility(View.VISIBLE);
  }
 else {
    iconView.setVisibility(View.GONE);
  }
  return convertView;
}
