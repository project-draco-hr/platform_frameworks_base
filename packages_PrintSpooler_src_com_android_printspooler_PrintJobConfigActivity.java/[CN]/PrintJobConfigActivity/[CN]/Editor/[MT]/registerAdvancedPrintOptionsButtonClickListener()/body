{
  Button advancedOptionsButton=(Button)findViewById(R.id.advanced_settings_button);
  advancedOptionsButton.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      ComponentName serviceName=mCurrentPrinter.getId().getServiceName();
      String activityName=getAdvancedOptionsActivityName(serviceName);
      if (TextUtils.isEmpty(activityName)) {
        return;
      }
      Intent intent=new Intent(Intent.ACTION_MAIN);
      intent.setComponent(new ComponentName(serviceName.getPackageName(),activityName));
      List<ResolveInfo> resolvedActivities=getPackageManager().queryIntentActivities(intent,0);
      if (resolvedActivities.isEmpty()) {
        return;
      }
      if (resolvedActivities.get(0).activityInfo.exported) {
        PrintJobInfo printJobInfo=mSpoolerProvider.getSpooler().getPrintJobInfo(mPrintJobId,PrintManager.APP_ID_ANY);
        intent.putExtra(PrintService.EXTRA_PRINT_JOB_INFO,printJobInfo);
        intent.putExtra("android.intent.extra.print.EXTRA_PRINTER_INFO",mCurrentPrinter);
        try {
          startActivityForResult(intent,ACTIVITY_POPULATE_ADVANCED_PRINT_OPTIONS);
        }
 catch (        ActivityNotFoundException anfe) {
          Log.e(LOG_TAG,"Error starting activity for intent: " + intent,anfe);
        }
      }
    }
  }
);
}
