{
  while (true) {
    try {
      Request request=mSuggestionsQueue.take();
      if (request.cancelRequest) {
        return;
      }
      while (!mSuggestionsQueue.isEmpty()) {
        request=mSuggestionsQueue.take();
        if (request.cancelRequest) {
          return;
        }
      }
      final Request useRequest=request;
      if (useRequest.mSearchableInfo != null) {
        final Cursor c=getSuggestions(useRequest.mSearchableInfo,useRequest.mQueryText);
        if (mSuggestionsQueue.size() > 0) {
          if (c != null) {
            c.close();
          }
        }
 else {
          mHandler.post(new Runnable(){
            public void run(){
              updateSuggestionsWithCursor(c,useRequest.mSearchableInfo);
            }
          }
);
        }
      }
    }
 catch (    InterruptedException e) {
    }
  }
}
