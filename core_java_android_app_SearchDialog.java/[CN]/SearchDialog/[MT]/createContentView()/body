{
  setContentView(com.android.internal.R.layout.search_bar);
  SearchBar searchBar=(SearchBar)findViewById(com.android.internal.R.id.search_bar);
  searchBar.setSearchDialog(this);
  mBadgeLabel=(TextView)findViewById(com.android.internal.R.id.search_badge);
  mSearchAutoComplete=(SearchAutoComplete)findViewById(com.android.internal.R.id.search_src_text);
  mSourceSelector=new SearchSourceSelector(findViewById(com.android.internal.R.id.search_source_selector));
  mGoButton=(Button)findViewById(com.android.internal.R.id.search_go_btn);
  mVoiceButton=(ImageButton)findViewById(com.android.internal.R.id.search_voice_btn);
  mSearchPlate=findViewById(com.android.internal.R.id.search_plate);
  mWorkingSpinner=getContext().getResources().getDrawable(com.android.internal.R.drawable.search_spinner);
  mSearchAutoComplete.setCompoundDrawablesWithIntrinsicBounds(null,null,mWorkingSpinner,null);
  setWorking(false);
  mSearchAutoComplete.addTextChangedListener(mTextWatcher);
  mSearchAutoComplete.setOnKeyListener(mTextKeyListener);
  mSearchAutoComplete.setOnItemClickListener(this);
  mSearchAutoComplete.setOnItemSelectedListener(this);
  mGoButton.setOnClickListener(mGoButtonClickListener);
  mGoButton.setOnKeyListener(mButtonsKeyListener);
  mVoiceButton.setOnClickListener(mVoiceButtonClickListener);
  mVoiceButton.setOnKeyListener(mButtonsKeyListener);
  mBadgeLabel.setVisibility(View.GONE);
  mSearchAutoCompleteImeOptions=mSearchAutoComplete.getImeOptions();
}
