{
  int visibility=View.GONE;
  Drawable icon=null;
  CharSequence text=null;
  if (mSearchable.mBadgeIcon) {
    icon=mActivityContext.getResources().getDrawable(mSearchable.getIconId());
    visibility=View.VISIBLE;
    if (DBG)     Log.d(LOG_TAG,"Using badge icon: " + mSearchable.getIconId());
  }
 else   if (mSearchable.mBadgeLabel) {
    text=mActivityContext.getResources().getText(mSearchable.getLabelId()).toString();
    visibility=View.VISIBLE;
    if (DBG)     Log.d(LOG_TAG,"Using badge label: " + mSearchable.getLabelId());
  }
 else   if (!mGlobalSearchMode) {
    try {
      PackageManager pm=getContext().getPackageManager();
      ActivityInfo info=pm.getActivityInfo(mLaunchComponent,0);
      text=pm.getApplicationLabel(info.applicationInfo);
      visibility=View.VISIBLE;
      if (DBG)       Log.d(LOG_TAG,"Using application label: " + text);
    }
 catch (    NameNotFoundException e) {
      Log.w(LOG_TAG,mLaunchComponent + " not found.");
    }
  }
  mBadgeLabel.setCompoundDrawablesWithIntrinsicBounds(icon,null,null,null);
  mBadgeLabel.setText(text);
  mBadgeLabel.setVisibility(visibility);
}
