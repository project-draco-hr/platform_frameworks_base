{
  if (mSearchable == null) {
    return false;
  }
  if (mSuggestionsAdapter == null) {
    return false;
  }
  if (event.getAction() == KeyEvent.ACTION_DOWN) {
    if (DBG_LOG_TIMING) {
      dbgLogTiming("onSuggestionsKey()");
    }
    if (keyCode == KeyEvent.KEYCODE_ENTER || keyCode == KeyEvent.KEYCODE_SEARCH) {
      int position=mSearchAutoComplete.getListSelection();
      return launchSuggestion(position);
    }
    if (keyCode == KeyEvent.KEYCODE_DPAD_LEFT || keyCode == KeyEvent.KEYCODE_DPAD_RIGHT) {
      int selPoint=(keyCode == KeyEvent.KEYCODE_DPAD_LEFT) ? 0 : mSearchAutoComplete.length();
      mSearchAutoComplete.setSelection(selPoint);
      mSearchAutoComplete.setListSelection(0);
      mSearchAutoComplete.clearListSelection();
      mSearchAutoComplete.ensureImeVisible(true);
      return true;
    }
    if (keyCode == KeyEvent.KEYCODE_DPAD_UP && 0 == mSearchAutoComplete.getListSelection()) {
      restoreUserQuery();
      return false;
    }
    SearchableInfo.ActionKeyInfo actionKey=mSearchable.findActionKey(keyCode);
    if ((actionKey != null) && ((actionKey.getSuggestActionMsg() != null) || (actionKey.getSuggestActionMsgColumn() != null))) {
      int position=mSearchAutoComplete.getListSelection();
      if (position != ListView.INVALID_POSITION) {
        Cursor c=mSuggestionsAdapter.getCursor();
        if (c.moveToPosition(position)) {
          final String actionMsg=getActionKeyMessage(c,actionKey);
          if (actionMsg != null && (actionMsg.length() > 0)) {
            return launchSuggestion(position,keyCode,actionMsg);
          }
        }
      }
    }
  }
  return false;
}
