{
  mSuggestionsAdapter.setNonUserQuery(true);
  if (jamQuery) {
    CursorAdapter ca=getSuggestionsAdapter(parent);
    Cursor c=ca.getCursor();
    if (c.moveToPosition(position)) {
      setupSuggestionIntent(c,mSearchable);
      String jamText=null;
      if (mSuggestionQuery != null) {
        jamText=mSuggestionQuery;
      }
 else       if (mSearchable.mQueryRewriteFromData && (mSuggestionData != null)) {
        jamText=mSuggestionData.toString();
      }
 else       if (mSearchable.mQueryRewriteFromText) {
        try {
          int column=c.getColumnIndexOrThrow(SearchManager.SUGGEST_COLUMN_TEXT_1);
          jamText=c.getString(column);
        }
 catch (        RuntimeException e) {
        }
      }
      if (jamText != null) {
        mSearchTextField.setText(jamText);
        mSearchTextField.setSelection(jamText.length());
      }
    }
  }
 else {
    mSearchTextField.setText(mUserQuery);
    try {
      mSearchTextField.setSelection(mUserQuerySelStart,mUserQuerySelEnd);
    }
 catch (    IndexOutOfBoundsException e) {
      Log.e(LOG_TAG,"Caught IndexOutOfBoundsException while setting selection.  " + "start=" + mUserQuerySelStart + " end="+ mUserQuerySelEnd+ " text=\""+ mUserQuery+ "\"");
      mSearchTextField.selectAll();
    }
  }
}
