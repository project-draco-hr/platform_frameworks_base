{
  if (event.getAction() == KeyEvent.ACTION_DOWN) {
    if (DBG_LOG_TIMING == 1) {
      dbgLogTiming("doSuggestionsKey()");
    }
    if (keyCode == KeyEvent.KEYCODE_ENTER || keyCode == KeyEvent.KEYCODE_SEARCH) {
      AdapterView<?> av=(AdapterView<?>)v;
      int position=av.getSelectedItemPosition();
      return launchSuggestion(av,position);
    }
    if (keyCode == KeyEvent.KEYCODE_DPAD_LEFT || keyCode == KeyEvent.KEYCODE_DPAD_RIGHT) {
      mLeaveJammedQueryOnRefocus=true;
      if (mSearchTextField.requestFocus()) {
        mLeaveJammedQueryOnRefocus=false;
        if (keyCode == KeyEvent.KEYCODE_DPAD_LEFT) {
          mSearchTextField.setSelection(0);
        }
 else {
          mSearchTextField.setSelection(mSearchTextField.length());
        }
        return true;
      }
      mLeaveJammedQueryOnRefocus=false;
    }
    SearchableInfo.ActionKeyInfo actionKey=mSearchable.findActionKey(keyCode);
    if ((actionKey != null) && ((actionKey.mSuggestActionMsg != null) || (actionKey.mSuggestActionMsgColumn != null))) {
      ListView lv=(ListView)v;
      int position=lv.getSelectedItemPosition();
      if (position >= 0) {
        CursorAdapter ca=getSuggestionsAdapter(lv);
        Cursor c=ca.getCursor();
        if (c.moveToPosition(position)) {
          final String actionMsg=getActionKeyMessage(c,actionKey);
          if (actionMsg != null && (actionMsg.length() > 0)) {
            setupSuggestionIntent(c,mSearchable);
            final String query=mSearchTextField.getText().toString();
            final Bundle appData=mAppSearchData;
            SearchableInfo si=mSearchable;
            String suggestionAction=mSuggestionAction;
            Uri suggestionData=mSuggestionData;
            String suggestionQuery=mSuggestionQuery;
            dismiss();
            sendLaunchIntent(suggestionAction,suggestionData,suggestionQuery,appData,keyCode,actionMsg,si);
            return true;
          }
        }
      }
    }
  }
  return false;
}
