{
  if (isShowing()) {
    return true;
  }
  ISearchManager sms;
  sms=ISearchManager.Stub.asInterface(ServiceManager.getService(Context.SEARCH_SERVICE));
  try {
    mSearchable=sms.getSearchableInfo(componentName,globalSearch);
  }
 catch (  RemoteException e) {
    mSearchable=null;
  }
  if (mSearchable == null) {
    return false;
  }
  super.show();
  setupSearchableInfo();
  mLaunchComponent=componentName;
  mAppSearchData=appSearchData;
  mGlobalSearchMode=globalSearch;
  getContext().registerReceiver(mBroadcastReceiver,mCloseDialogsFilter);
  getContext().registerReceiver(mBroadcastReceiver,mPackageFilter);
  mSearchTextField.setOnItemClickListener(this);
  mSearchTextField.setOnItemSelectedListener(this);
  if (initialQuery == null) {
    initialQuery="";
  }
  if (mSearchable.getSuggestAuthority() == null) {
    mSuggestionsAdapter=null;
    mSearchTextField.setAdapter(mSuggestionsAdapter);
    mSearchTextField.setText(initialQuery);
  }
 else {
    mSuggestionsAdapter=new SuggestionsAdapter(getContext(),mSearchable);
    mSearchTextField.setAdapter(mSuggestionsAdapter);
    mSuggestionsAdapter.setNonUserQuery(false);
    mSearchTextField.setText(initialQuery);
  }
  if (selectInitialQuery) {
    mSearchTextField.selectAll();
  }
 else {
    mSearchTextField.setSelection(initialQuery.length());
  }
  return true;
}
