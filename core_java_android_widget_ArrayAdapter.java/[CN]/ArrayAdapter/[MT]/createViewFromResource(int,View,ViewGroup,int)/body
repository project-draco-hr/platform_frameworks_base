{
  View view;
  TextView text;
  if (convertView == null) {
    view=mInflater.inflate(resource,parent,false);
  }
 else {
    view=convertView;
  }
  try {
    if (mFieldId == 0) {
      text=(TextView)view;
    }
 else {
      text=(TextView)view.findViewById(mFieldId);
    }
  }
 catch (  ClassCastException e) {
    Log.e("ArrayAdapter","You must supply a resource ID for a TextView");
    throw new IllegalStateException("ArrayAdapter requires the resource ID to be a TextView",e);
  }
  text.setText(getItem(position).toString());
  return view;
}
