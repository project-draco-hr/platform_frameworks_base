{
  super(context);
  mUpdateMonitor=updateMonitor;
  mCallback=callback;
  mCreatedWithKeyboardOpen=mUpdateMonitor.isKeyboardOpen();
  if (mCreatedWithKeyboardOpen) {
    LayoutInflater.from(context).inflate(R.layout.keyguard_screen_sim_pin_landscape,this,true);
  }
 else {
    LayoutInflater.from(context).inflate(R.layout.keyguard_screen_sim_pin_portrait,this,true);
    new TouchInput();
  }
  mHeaderText=(TextView)findViewById(R.id.headerText);
  mPinText=(EditText)findViewById(R.id.pinDisplay);
  mBackSpaceButton=findViewById(R.id.backspace);
  mBackSpaceButton.setOnClickListener(this);
  mEmergencyCallButton=(TextView)findViewById(R.id.emergencyCall);
  mOkButton=(TextView)findViewById(R.id.ok);
  mHeaderText.setText(R.string.keyguard_password_enter_pin_code);
  mPinText.setFocusable(false);
  mEmergencyCallButton.setOnClickListener(this);
  mOkButton.setOnClickListener(this);
  mUpdateMonitor.registerConfigurationChangeCallback(this);
  setFocusableInTouchMode(true);
}
