{
  final String[] vmFeatures=Debug.getVmFeatureList();
  if (false)   Log.v("ddm-heap","Got feature list request");
  int size=4 + 4 * (vmFeatures.length + NATIVE_FEATURES.length);
  for (int i=vmFeatures.length - 1; i >= 0; i--)   size+=vmFeatures[i].length() * 2;
  for (int i=NATIVE_FEATURES.length - 1; i >= 0; i--)   size+=NATIVE_FEATURES[i].length() * 2;
  ByteBuffer out=ByteBuffer.allocate(size);
  out.order(ChunkHandler.CHUNK_ORDER);
  out.putInt(vmFeatures.length + NATIVE_FEATURES.length);
  for (int i=vmFeatures.length - 1; i >= 0; i--) {
    out.putInt(vmFeatures[i].length());
    putString(out,vmFeatures[i]);
  }
  for (int i=NATIVE_FEATURES.length - 1; i >= 0; i--) {
    out.putInt(NATIVE_FEATURES[i].length());
    putString(out,NATIVE_FEATURES[i]);
  }
  return new Chunk(CHUNK_FEAT,out);
}
