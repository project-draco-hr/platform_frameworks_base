{
  mLocationManager.removeTestProvider(PROVIDER_NAME);
  if (mPendingIntent != null) {
    mLocationManager.removeProximityAlert(mPendingIntent);
  }
  if (mIntentReceiver != null) {
    getContext().unregisterReceiver(mIntentReceiver);
  }
  android.provider.Settings.Secure.putInt(getContext().getContentResolver(),android.provider.Settings.Secure.ALLOW_MOCK_LOCATION,mOriginalMocksAllowed);
  if (mOriginalAllowedProviders != null) {
    android.provider.Settings.Secure.putString(getContext().getContentResolver(),android.provider.Settings.Secure.LOCATION_PROVIDERS_ALLOWED,mOriginalAllowedProviders);
    mLocationManager.updateProviders();
  }
}
