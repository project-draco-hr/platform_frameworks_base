{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.rs);
  mBitmapIn=loadBitmap(R.drawable.twobytwo);
  mDisplayView=(TextureView)findViewById(R.id.display);
  mBenchmarkResult=(TextView)findViewById(R.id.benchmarkText);
  mBenchmarkResult.setText("Result: not run");
  mRS=RenderScript.create(this);
  mInPixelsAllocation=Allocation.createFromBitmap(mRS,mBitmapIn,Allocation.MipmapControl.MIPMAP_NONE,Allocation.USAGE_SCRIPT);
  Type.Builder b=new Type.Builder(mRS,Element.RGBA_8888(mRS));
  mOutPixelsAllocation=Allocation.createTyped(mRS,b.setX(32).setY(32).create(),Allocation.USAGE_SCRIPT | Allocation.USAGE_IO_OUTPUT);
  mDisplayView.setSurfaceTextureListener(this);
  mScript=new ScriptC_sample(mRS,getResources(),R.raw.sample);
  mScript.set_sourceAlloc(mInPixelsAllocation);
  mScript.set_destAlloc(mOutPixelsAllocation);
  mScript.set_wrapUV(Sampler.WRAP_LINEAR(mRS));
  mScript.set_clampUV(Sampler.CLAMP_LINEAR(mRS));
}
