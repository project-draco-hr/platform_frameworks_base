{
  Intent intentToResolve=new Intent(Intent.ACTION_MAIN);
  intentToResolve.addCategory(Intent.CATEGORY_INFO);
  ResolveInfo resolveInfo=resolveActivity(intentToResolve,0,packageName);
  if (resolveInfo == null) {
    intentToResolve.removeCategory(Intent.CATEGORY_INFO);
    intentToResolve.addCategory(Intent.CATEGORY_LAUNCHER);
    resolveInfo=resolveActivity(intentToResolve,0,packageName);
  }
  if (resolveInfo == null) {
    return null;
  }
  Intent intent=new Intent(Intent.ACTION_MAIN);
  intent.setClassName(packageName,resolveInfo.activityInfo.name);
  intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
  return intent;
}
