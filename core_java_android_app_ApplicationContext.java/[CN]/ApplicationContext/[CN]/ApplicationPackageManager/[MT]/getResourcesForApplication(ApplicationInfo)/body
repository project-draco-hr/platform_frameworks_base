{
  if (app.packageName.equals("system")) {
    return mContext.mMainThread.getSystemContext().getResources();
  }
  ActivityThread.PackageInfo pi=mContext.mMainThread.getPackageInfoNoCheck(app);
  Resources r=mContext.mMainThread.getTopLevelResources(app.uid == Process.myUid() ? app.sourceDir : app.publicSourceDir,pi.getApplicationScale());
  if (r != null) {
    return r;
  }
  throw new NameNotFoundException("Unable to open " + app.publicSourceDir);
}
