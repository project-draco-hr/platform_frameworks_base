{
{
    Rect activeArraySize=characteristics.get(CameraCharacteristics.SENSOR_INFO_ACTIVE_ARRAY_SIZE);
    Rect activeArraySizeOnly=new Rect(0,0,activeArraySize.width(),activeArraySize.height());
    Rect userCropRegion=request.get(CaptureRequest.SCALER_CROP_REGION);
    if (userCropRegion == null) {
      userCropRegion=activeArraySizeOnly;
    }
    Rect reportedCropRegion=new Rect();
    Rect previewCropRegion=new Rect();
    ParameterUtils.getClosestAvailableZoomCrop(p,activeArraySizeOnly,previewSize,userCropRegion,reportedCropRegion,previewCropRegion);
    m.set(SCALER_CROP_REGION,reportedCropRegion);
  }
}
