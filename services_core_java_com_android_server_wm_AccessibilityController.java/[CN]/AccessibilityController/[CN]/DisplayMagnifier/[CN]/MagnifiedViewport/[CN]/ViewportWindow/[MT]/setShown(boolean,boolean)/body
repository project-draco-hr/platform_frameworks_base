{
synchronized (mWindowManagerService.mWindowMap) {
    if (mShown == shown) {
      return;
    }
    mShown=shown;
    if (animate) {
      if (mShowHideFrameAnimator.isRunning()) {
        mShowHideFrameAnimator.reverse();
      }
 else {
        if (shown) {
          mShowHideFrameAnimator.start();
        }
 else {
          mShowHideFrameAnimator.reverse();
        }
      }
    }
 else {
      mShowHideFrameAnimator.cancel();
      if (shown) {
        setAlpha(MAX_ALPHA);
      }
 else {
        setAlpha(MIN_ALPHA);
      }
    }
    if (DEBUG_VIEWPORT_WINDOW) {
      Slog.i(LOG_TAG,"ViewportWindow shown: " + mShown);
    }
  }
}
