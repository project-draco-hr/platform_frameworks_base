{
switch (message.what) {
case MSG_FRAME_SHOWN_STATE_CHANGED:
{
      final boolean shown=message.arg1 == 1;
      final boolean animate=message.arg2 == 1;
      if (animate) {
        if (mShowHideFrameAnimator.isRunning()) {
          mShowHideFrameAnimator.reverse();
        }
 else {
          if (shown) {
            mShowHideFrameAnimator.start();
          }
 else {
            mShowHideFrameAnimator.reverse();
          }
        }
      }
 else {
        mShowHideFrameAnimator.cancel();
        if (shown) {
          setAlpha(MAX_ALPHA);
        }
 else {
          setAlpha(MIN_ALPHA);
        }
      }
    }
  break;
}
}
