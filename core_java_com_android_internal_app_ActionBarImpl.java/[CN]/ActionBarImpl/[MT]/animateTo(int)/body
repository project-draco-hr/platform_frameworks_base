{
  show(false);
  if (mCurrentModeAnim != null) {
    mCurrentModeAnim.end();
  }
  AnimatorSet set=new AnimatorSet();
  final View targetChild=mContainerView.getChildAt(viewIndex);
  targetChild.setVisibility(View.VISIBLE);
  targetChild.setAlpha(0);
  AnimatorSet.Builder b=set.play(ObjectAnimator.ofFloat(targetChild,"alpha",1));
  final int count=mContainerView.getChildCount();
  for (int i=0; i < count; i++) {
    final View child=mContainerView.getChildAt(i);
    if (i == viewIndex) {
      continue;
    }
    if (child.getVisibility() != View.GONE) {
      Animator a=ObjectAnimator.ofFloat(child,"alpha",0);
      a.setInterpolator(sFadeOutInterpolator);
      b.with(a);
    }
  }
  set.addListener(mAfterAnimation[viewIndex]);
  mCurrentModeAnim=set;
  set.start();
  return set.getDuration();
}
