{
  if (mSelectedTab == tab) {
    return;
  }
  mActionView.setTabSelected(tab != null ? tab.getPosition() : Tab.INVALID_POSITION);
  final FragmentTransaction trans=mActivity.openFragmentTransaction();
  if (mSelectedTab != null) {
    if (mTabSwitchMode == TAB_SWITCH_SHOW_HIDE) {
      trans.hide(mSelectedTab.getFragment());
    }
 else     if (mTabSwitchMode == TAB_SWITCH_ADD_REMOVE) {
      trans.remove(mSelectedTab.getFragment());
    }
  }
  if (tab != null) {
    if (mTabSwitchMode == TAB_SWITCH_SHOW_HIDE) {
      trans.show(tab.getFragment());
    }
 else     if (mTabSwitchMode == TAB_SWITCH_ADD_REMOVE) {
      trans.add(mTabContainerViewId,tab.getFragment());
    }
  }
  mSelectedTab=(TabImpl)tab;
  trans.commit();
}
