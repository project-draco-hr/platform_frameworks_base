{
  mContext=decor.getContext();
  mOverlayLayout=(ActionBarOverlayLayout)decor.findViewById(com.android.internal.R.id.action_bar_overlay_layout);
  if (mOverlayLayout != null) {
    mOverlayLayout.setActionBar(this);
  }
  mActionView=(ActionBarView)decor.findViewById(com.android.internal.R.id.action_bar);
  mContextView=(ActionBarContextView)decor.findViewById(com.android.internal.R.id.action_context_bar);
  mContainerView=(ActionBarContainer)decor.findViewById(com.android.internal.R.id.action_bar_container);
  mTopVisibilityView=(ViewGroup)decor.findViewById(com.android.internal.R.id.top_action_bar);
  if (mTopVisibilityView == null) {
    mTopVisibilityView=mContainerView;
  }
  mSplitView=(ActionBarContainer)decor.findViewById(com.android.internal.R.id.split_action_bar);
  if (mActionView == null || mContextView == null || mContainerView == null) {
    throw new IllegalStateException(getClass().getSimpleName() + " can only be used " + "with a compatible window decor layout");
  }
  mActionView.setContextView(mContextView);
  mContextDisplayMode=mActionView.isSplitActionBar() ? CONTEXT_DISPLAY_SPLIT : CONTEXT_DISPLAY_NORMAL;
  setHomeButtonEnabled(mContext.getApplicationInfo().targetSdkVersion < Build.VERSION_CODES.ICE_CREAM_SANDWICH);
  setHasEmbeddedTabs(mContext.getResources().getBoolean(com.android.internal.R.bool.action_bar_embed_tabs));
}
