{
  final TabImpl tabi=(TabImpl)tab;
  final boolean isFirstTab=mTabs.isEmpty();
  final ActionBar.TabListener callback=tabi.getCallback();
  if (callback == null) {
    throw new IllegalStateException("Action Bar Tab must have a Callback");
  }
  tabi.setPosition(position);
  mTabs.add(position,tabi);
  if (isFirstTab) {
    final FragmentTransaction trans=mActivity.getFragmentManager().openTransaction();
    mSelectedTab=tabi;
    callback.onTabSelected(tab,trans);
    if (!trans.isEmpty()) {
      trans.commit();
    }
  }
}
