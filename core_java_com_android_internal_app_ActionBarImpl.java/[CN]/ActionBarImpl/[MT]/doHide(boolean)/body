{
  if (mCurrentShowAnim != null) {
    mCurrentShowAnim.end();
  }
  if (mCurWindowVisibility == View.VISIBLE && (mShowHideAnimationEnabled || fromSystem)) {
    mTopVisibilityView.setAlpha(1);
    mContainerView.setTransitioning(true);
    AnimatorSet anim=new AnimatorSet();
    float endingY=-mTopVisibilityView.getHeight();
    if (fromSystem) {
      int topLeft[]={0,0};
      mTopVisibilityView.getLocationInWindow(topLeft);
      endingY-=topLeft[1];
    }
    AnimatorSet.Builder b=anim.play(ObjectAnimator.ofFloat(mTopVisibilityView,"translationY",endingY));
    if (mContentView != null) {
      b.with(ObjectAnimator.ofFloat(mContentView,"translationY",0,endingY));
    }
    if (mSplitView != null && mSplitView.getVisibility() == View.VISIBLE) {
      mSplitView.setAlpha(1);
      b.with(ObjectAnimator.ofFloat(mSplitView,"translationY",mSplitView.getHeight()));
    }
    anim.setInterpolator(AnimationUtils.loadInterpolator(mContext,com.android.internal.R.interpolator.accelerate_cubic));
    anim.setDuration(250);
    anim.addListener(mHideListener);
    mCurrentShowAnim=anim;
    anim.start();
  }
 else {
    mHideListener.onAnimationEnd(null);
  }
}
