{
  mIconified=collapsed;
  final int visCollapsed=collapsed ? VISIBLE : GONE;
  final int visExpanded=collapsed ? GONE : VISIBLE;
  final boolean hasText=!TextUtils.isEmpty(mQueryTextView.getText());
  mSearchButton.setVisibility(visCollapsed);
  mSubmitButton.setVisibility(mSubmitButtonEnabled && hasText ? visExpanded : GONE);
  mSearchEditFrame.setVisibility(visExpanded);
  updateCloseButton();
  updateVoiceButton(!hasText);
  requestLayout();
  invalidate();
}
