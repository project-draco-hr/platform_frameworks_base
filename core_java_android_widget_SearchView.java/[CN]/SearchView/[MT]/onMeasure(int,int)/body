{
  int widthMode=MeasureSpec.getMode(widthMeasureSpec);
  int width=MeasureSpec.getSize(widthMeasureSpec);
  if ((widthMode == MeasureSpec.AT_MOST || widthMode == MeasureSpec.EXACTLY) && mMaxWidth > 0 && width > mMaxWidth) {
    super.onMeasure(MeasureSpec.makeMeasureSpec(mMaxWidth,widthMode),heightMeasureSpec);
  }
 else {
    super.onMeasure(widthMeasureSpec,heightMeasureSpec);
  }
}
