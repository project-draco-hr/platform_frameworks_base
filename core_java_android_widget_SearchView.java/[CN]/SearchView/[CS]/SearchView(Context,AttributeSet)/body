{
  super(context,attrs);
  LayoutInflater inflater=(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  inflater.inflate(R.layout.search_view,this,true);
  mSearchButton=findViewById(R.id.search_button);
  mQueryTextView=(AutoCompleteTextView)findViewById(R.id.search_src_text);
  mSearchEditFrame=findViewById(R.id.search_edit_frame);
  mSubmitButton=findViewById(R.id.search_go_btn);
  mCloseButton=findViewById(R.id.search_close_btn);
  mSearchButton.setOnClickListener(mOnClickListener);
  mCloseButton.setOnClickListener(mOnClickListener);
  mSubmitButton.setOnClickListener(mOnClickListener);
  mQueryTextView.addTextChangedListener(mTextWatcher);
  mQueryTextView.setOnEditorActionListener(mOnEditorActionListener);
  mQueryTextView.setOnItemClickListener(mOnItemClickListener);
  mQueryTextView.setOnItemSelectedListener(mOnItemSelectedListener);
  TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.SearchView,0,0);
  setIconifiedByDefault(a.getBoolean(R.styleable.SearchView_iconifiedByDefault,true));
  a.recycle();
  updateViewsVisibility(mIconifiedByDefault);
}
