{
  super(context,attrs,defStyle);
  TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.NumPadKey);
  mDigit=a.getInt(R.styleable.NumPadKey_digit,mDigit);
  setTextViewResId(a.getResourceId(R.styleable.NumPadKey_textView,0));
  setOnClickListener(mListener);
  setOnHoverListener(new LiftToActivateListener(context));
  setAccessibilityDelegate(new ObscureSpeechDelegate(context));
  mEnableHaptics=new LockPatternUtils(context).isTactileFeedbackEnabled();
  SpannableStringBuilder builder=new SpannableStringBuilder();
  builder.append(String.valueOf(mDigit));
  if (mDigit >= 0) {
    if (sKlondike == null) {
      sKlondike=context.getResources().getStringArray(R.array.lockscreen_num_pad_klondike);
    }
    if (sKlondike != null && sKlondike.length > mDigit) {
      final String extra=sKlondike[mDigit];
      final int extraLen=extra.length();
      if (extraLen > 0) {
        builder.append(" ");
        builder.append(extra);
        builder.setSpan(new TextAppearanceSpan(context,R.style.TextAppearance_NumPadKey_Klondike),builder.length() - extraLen,builder.length(),0);
      }
    }
  }
  setText(builder);
}
