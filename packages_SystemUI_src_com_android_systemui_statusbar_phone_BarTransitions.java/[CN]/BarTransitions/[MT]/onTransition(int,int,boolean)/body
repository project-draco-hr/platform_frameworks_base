{
  cancelBackgroundColorAnimation();
  if (animate && oldMode == MODE_SEMI_TRANSPARENT && newMode == MODE_OPAQUE) {
    startBackgroundColorAnimation(mSemiTransparent,mOpaque);
  }
 else   if (animate && oldMode == MODE_OPAQUE && newMode == MODE_SEMI_TRANSPARENT) {
    startBackgroundColorAnimation(mOpaque,mSemiTransparent);
  }
 else   if (newMode == MODE_OPAQUE || newMode == MODE_SEMI_TRANSPARENT) {
    mTarget.setBackgroundColor(newMode == MODE_OPAQUE ? mOpaque : mSemiTransparent);
  }
 else {
    mTarget.setBackground(newMode == MODE_TRANSPARENT ? mTransparent : newMode == MODE_SEMI_TRANSPARENT ? new ColorDrawable(mSemiTransparent) : new ColorDrawable(mOpaque));
  }
}
