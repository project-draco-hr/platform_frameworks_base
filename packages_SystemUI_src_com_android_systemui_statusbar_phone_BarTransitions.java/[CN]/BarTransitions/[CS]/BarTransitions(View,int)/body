{
  mTag="BarTransitions." + view.getClass().getSimpleName();
  mView=view;
  final Resources res=mView.getContext().getResources();
  if (DEBUG_COLORS) {
    mOpaque=0xff0000ff;
    mSemiTransparent=0x7f0000ff;
  }
 else {
    mOpaque=res.getColor(R.drawable.system_bar_background);
    mSemiTransparent=res.getColor(R.color.system_bar_background_semi_transparent);
  }
  mColorDrawable=new ColorDrawable(mOpaque);
  mTransitionDrawable=new TransitionDrawable(new Drawable[]{res.getDrawable(gradientResourceId),mColorDrawable});
  mTransitionDrawable.setCrossFadeEnabled(true);
  mTransitionDrawable.resetTransition();
  if (mSupportsTransitions) {
    mView.setBackground(mTransitionDrawable);
  }
}
