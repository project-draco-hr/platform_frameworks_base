{
  mTag="BarTransitions." + view.getClass().getSimpleName();
  mView=view;
  final Resources res=mView.getContext().getResources();
  if (DEBUG_COLORS) {
    mOpaque=0xff0000ff;
    mSemiTransparent=0x7f0000ff;
    mGradientStart=0x7fff0000;
    mGradientEnd=0x7f00ff00;
  }
 else {
    mOpaque=res.getColor(R.drawable.system_bar_background);
    mSemiTransparent=res.getColor(R.color.system_bar_background_semi_transparent);
    mGradientStart=res.getColor(R.color.system_bar_background_gradient_start);
    mGradientEnd=res.getColor(R.color.system_bar_background_gradient_end);
  }
  mColorDrawable=new ColorDrawable(mOpaque);
  mGradientDrawable=new GradientDrawable(Orientation.BOTTOM_TOP,new int[]{mGradientStart,mGradientEnd});
  mTransitionDrawable=new TransitionDrawable(new Drawable[]{mGradientDrawable,mColorDrawable});
  mTransitionDrawable.setCrossFadeEnabled(true);
  mTransitionDrawable.resetTransition();
  if (mSupportsTransitions) {
    mView.setBackground(mTransitionDrawable);
  }
}
