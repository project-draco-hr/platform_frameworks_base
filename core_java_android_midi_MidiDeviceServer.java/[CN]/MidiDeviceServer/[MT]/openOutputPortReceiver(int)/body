{
  if (portNumber < 0 || portNumber >= mDeviceInfo.getOutputPortCount()) {
    throw new IllegalArgumentException("portNumber " + portNumber + " out of range");
  }
  final int portNumberF=portNumber;
  return new MidiReceiver(){
    @Override public void onPost(    byte[] msg,    int offset,    int count,    long timestamp) throws IOException {
      ArrayList<MidiInputPort> receivers=mOutputPortReceivers[portNumberF];
synchronized (receivers) {
        for (int i=0; i < receivers.size(); i++) {
          receivers.get(i).onPost(msg,offset,count,timestamp);
        }
      }
    }
  }
;
}
