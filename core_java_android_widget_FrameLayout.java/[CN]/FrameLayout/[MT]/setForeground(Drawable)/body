{
  if (mForeground != d) {
    if (mForeground != null) {
      mForeground.setCallback(null);
      unscheduleDrawable(mForeground);
    }
    mForeground=d;
    mForegroundPaddingLeft=0;
    mForegroundPaddingTop=0;
    mForegroundPaddingRight=0;
    mForegroundPaddingBottom=0;
    if (d != null) {
      setWillNotDraw(false);
      d.setCallback(this);
      d.setLayoutDirection(getLayoutDirection());
      if (d.isStateful()) {
        d.setState(getDrawableState());
      }
      applyForegroundTint();
      if (mForegroundGravity == Gravity.FILL) {
        Rect padding=new Rect();
        if (d.getPadding(padding)) {
          mForegroundPaddingLeft=padding.left;
          mForegroundPaddingTop=padding.top;
          mForegroundPaddingRight=padding.right;
          mForegroundPaddingBottom=padding.bottom;
        }
      }
    }
 else {
      setWillNotDraw(true);
    }
    requestLayout();
    invalidate();
  }
}
