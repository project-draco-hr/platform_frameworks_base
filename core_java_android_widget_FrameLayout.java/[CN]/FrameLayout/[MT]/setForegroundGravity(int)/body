{
  if (mForegroundGravity != foregroundGravity) {
    if ((foregroundGravity & Gravity.RELATIVE_HORIZONTAL_GRAVITY_MASK) == 0) {
      foregroundGravity|=Gravity.BEFORE;
    }
    if ((foregroundGravity & Gravity.VERTICAL_GRAVITY_MASK) == 0) {
      foregroundGravity|=Gravity.TOP;
    }
    mForegroundGravity=foregroundGravity;
    if (mForegroundGravity == Gravity.FILL && mForeground != null) {
      Rect padding=new Rect();
      if (mForeground.getPadding(padding)) {
        mForegroundPaddingLeft=padding.left;
        mForegroundPaddingTop=padding.top;
        mForegroundPaddingRight=padding.right;
        mForegroundPaddingBottom=padding.bottom;
      }
    }
 else {
      mForegroundPaddingLeft=0;
      mForegroundPaddingTop=0;
      mForegroundPaddingRight=0;
      mForegroundPaddingBottom=0;
    }
    requestLayout();
  }
}
