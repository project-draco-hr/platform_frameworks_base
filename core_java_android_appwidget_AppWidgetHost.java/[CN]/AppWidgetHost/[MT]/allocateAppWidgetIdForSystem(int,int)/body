{
  checkCallerIsSystem();
  try {
    if (sService == null) {
      bindService();
    }
    Context systemContext=(Context)ActivityThread.currentActivityThread().getSystemContext();
    String packageName=systemContext.getPackageName();
    return sService.allocateAppWidgetId(packageName,hostId,userId);
  }
 catch (  RemoteException e) {
    throw new RuntimeException("system server dead?",e);
  }
}
