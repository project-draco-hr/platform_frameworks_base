{
  final int userId=mContext.getUserId();
  AppWidgetHostView view=onCreateView(mContext,appWidgetId,appWidget);
  view.setUserId(userId);
  view.setOnClickHandler(mOnClickHandler);
  view.setAppWidget(appWidgetId,appWidget);
synchronized (mViews) {
    mViews.put(appWidgetId,view);
  }
  RemoteViews views;
  try {
    views=sService.getAppWidgetViews(appWidgetId,userId);
    if (views != null) {
      views.setUser(new UserHandle(mContext.getUserId()));
    }
  }
 catch (  RemoteException e) {
    throw new RuntimeException("system server dead?",e);
  }
  view.updateAppWidget(views);
  return view;
}
