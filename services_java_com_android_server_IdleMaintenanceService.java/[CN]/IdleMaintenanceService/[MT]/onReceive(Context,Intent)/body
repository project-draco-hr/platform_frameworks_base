{
  if (DEBUG) {
    Log.i(LOG_TAG,intent.getAction());
  }
  String action=intent.getAction();
  if (Intent.ACTION_BATTERY_CHANGED.equals(action)) {
    if (mIdleMaintenanceStarted) {
      updateIdleMaintenanceState();
    }
  }
 else   if (Intent.ACTION_SCREEN_ON.equals(action) || Intent.ACTION_DREAMING_STOPPED.equals(action)) {
    mLastUserActivityElapsedTimeMillis=LAST_USER_ACTIVITY_TIME_INVALID;
    unscheduleUpdateIdleMaintenanceState();
    updateIdleMaintenanceState();
  }
 else   if (Intent.ACTION_SCREEN_OFF.equals(action) || Intent.ACTION_DREAMING_STARTED.equals(action)) {
    mLastUserActivityElapsedTimeMillis=SystemClock.elapsedRealtime();
    scheduleUpdateIdleMaintenanceState(MIN_USER_INACTIVITY_IDLE_MAINTENANCE_START);
  }
 else   if (ACTION_UPDATE_IDLE_MAINTENANCE_STATE.equals(action)) {
    updateIdleMaintenanceState();
  }
 else   if (Intent.ACTION_IDLE_MAINTENANCE_START.equals(action) || Intent.ACTION_IDLE_MAINTENANCE_END.equals(action)) {
    mWakeLock.release();
  }
}
