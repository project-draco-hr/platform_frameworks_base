{
  mContext=context;
  mBatteryService=batteryService;
  mAlarmService=(AlarmManager)context.getSystemService(Context.ALARM_SERVICE);
  PowerManager powerManager=(PowerManager)context.getSystemService(Context.POWER_SERVICE);
  mWakeLock=powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,LOG_TAG);
  mHandler=new Handler(mContext.getMainLooper());
  Intent intent=new Intent(ACTION_UPDATE_IDLE_MAINTENANCE_STATE);
  intent.setFlags(Intent.FLAG_RECEIVER_REGISTERED_ONLY);
  mUpdateIdleMaintenanceStatePendingIntent=PendingIntent.getBroadcast(mContext,0,intent,PendingIntent.FLAG_UPDATE_CURRENT);
  register(mContext.getMainLooper());
}
