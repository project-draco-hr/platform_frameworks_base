{
  final long identity=Binder.clearCallingIdentity();
  try {
    AppOpsManager appOpsManager=getContext().getSystemService(AppOpsManager.class);
    if (appOpsManager != null) {
      String[] exemptions=(exemptedComponent == null) ? new String[0] : new String[]{exemptedComponent.getPackageName()};
      appOpsManager.setUserRestriction(AppOpsManager.OP_SYSTEM_ALERT_WINDOW,mVrModeEnabled,mOverlayToken,exemptions);
    }
  }
  finally {
    Binder.restoreCallingIdentity(identity);
  }
}
