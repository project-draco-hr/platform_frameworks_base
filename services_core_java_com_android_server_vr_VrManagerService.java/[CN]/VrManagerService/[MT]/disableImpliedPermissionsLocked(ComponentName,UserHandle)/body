{
  if (!mGuard) {
    throw new IllegalStateException("Disabling permissions without enabling.");
  }
  mGuard=false;
  PackageManager pm=mContext.getPackageManager();
  if (pm == null) {
    Slog.e(TAG,"Couldn't remove implied permissions for " + component + ", PackageManager isn't running");
    return;
  }
  String pName=component.getPackageName();
  if (mWasDefaultGranted) {
    ApplicationInfo info=null;
    try {
      info=pm.getApplicationInfo(pName,PackageManager.GET_META_DATA);
    }
 catch (    NameNotFoundException e) {
    }
    if (info != null) {
      AppOpsManager mgr=mContext.getSystemService(AppOpsManager.class);
      if (mgr == null) {
        Slog.e(TAG,"No AppOpsManager, failed to set permissions for: " + pName);
        return;
      }
      revokeCoarseLocationAccess(mgr,pName,info.uid);
      revokeOverlayAccess(mgr,pName,info.uid);
    }
    mWasDefaultGranted=false;
  }
}
