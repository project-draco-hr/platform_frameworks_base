{
  float deltaX=ev.getRawX() - mDownX;
  if (!mDismissed) {
    mVelocityTracker.addMovement(ev);
    mVelocityTracker.computeCurrentVelocity(1000);
    float velocityX=mVelocityTracker.getXVelocity();
    float absVelocityX=Math.abs(velocityX);
    float absVelocityY=Math.abs(mVelocityTracker.getYVelocity());
    if (deltaX > (getWidth() * DISMISS_MIN_PROGRESS) && absVelocityX < mMinFlingVelocity && ev.getRawX() >= mLastX) {
      mDismissed=true;
    }
  }
  if (mDismissed && mSwiping) {
    if (deltaX < (getWidth() * DISMISS_MIN_PROGRESS)) {
      mDismissed=false;
    }
  }
}
