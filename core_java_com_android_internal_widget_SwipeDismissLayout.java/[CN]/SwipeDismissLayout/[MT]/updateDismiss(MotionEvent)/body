{
  float deltaX=ev.getRawX() - mDownX;
  mVelocityTracker.addMovement(ev);
  mVelocityTracker.computeCurrentVelocity(1000);
  if (!mDismissed) {
    if (deltaX > (getWidth() * DISMISS_MIN_DRAG_WIDTH_RATIO) && ev.getRawX() >= mLastX) {
      mDismissed=true;
    }
  }
  if (mDismissed && mSwiping) {
    if (deltaX < (getWidth() * DISMISS_MIN_DRAG_WIDTH_RATIO) || mVelocityTracker.getXVelocity() < -mMinFlingVelocity) {
      mDismissed=false;
    }
  }
}
