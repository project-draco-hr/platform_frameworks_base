{
  if (mVelocityTracker == null) {
    return super.onTouchEvent(ev);
  }
switch (ev.getActionMasked()) {
case MotionEvent.ACTION_UP:
    updateDismiss(ev);
  if (mDismissed) {
    dismiss();
  }
 else   if (mSwiping) {
    cancel();
  }
resetMembers();
break;
case MotionEvent.ACTION_CANCEL:
cancel();
resetMembers();
break;
case MotionEvent.ACTION_MOVE:
mVelocityTracker.addMovement(ev);
updateSwiping(ev);
updateDismiss(ev);
if (mSwiping) {
setProgress(ev.getRawX() - mDownX);
break;
}
}
return true;
}
