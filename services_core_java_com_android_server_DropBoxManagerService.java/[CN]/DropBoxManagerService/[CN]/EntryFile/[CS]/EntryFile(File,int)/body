{
  this.file=file;
  this.blocks=(int)((this.file.length() + blockSize - 1) / blockSize);
  String name=file.getName();
  int at=name.lastIndexOf('@');
  if (at < 0) {
    this.tag=null;
    this.timestampMillis=0;
    this.flags=DropBoxManager.IS_EMPTY;
    return;
  }
  int flags=0;
  this.tag=Uri.decode(name.substring(0,at));
  if (name.endsWith(".gz")) {
    flags|=DropBoxManager.IS_GZIPPED;
    name=name.substring(0,name.length() - 3);
  }
  if (name.endsWith(".lost")) {
    flags|=DropBoxManager.IS_EMPTY;
    name=name.substring(at + 1,name.length() - 5);
  }
 else   if (name.endsWith(".txt")) {
    flags|=DropBoxManager.IS_TEXT;
    name=name.substring(at + 1,name.length() - 4);
  }
 else   if (name.endsWith(".dat")) {
    name=name.substring(at + 1,name.length() - 4);
  }
 else {
    this.flags=DropBoxManager.IS_EMPTY;
    this.timestampMillis=0;
    return;
  }
  this.flags=flags;
  long millis;
  try {
    millis=Long.parseLong(name);
  }
 catch (  NumberFormatException e) {
    millis=0;
  }
  this.timestampMillis=millis;
}
