{
  mFlashlightController.killFlashlight();
  Intent intent=getCameraIntent();
  boolean wouldLaunchResolverActivity=PreviewInflater.wouldLaunchResolverActivity(mContext,intent,mLockPatternUtils.getCurrentUser());
  if (intent == SECURE_CAMERA_INTENT && !wouldLaunchResolverActivity) {
    mContext.startActivityAsUser(intent,UserHandle.CURRENT);
  }
 else {
    mActivityStarter.startActivity(intent,false);
  }
}
