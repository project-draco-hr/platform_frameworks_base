{
  if (supportedFocusModes == null || supportedFocusModes.isEmpty()) {
    Log.w(TAG,"No focus modes supported; API1 bug");
    return null;
  }
  String param=null;
switch (mode) {
case CONTROL_AF_MODE_AUTO:
    param=Parameters.FOCUS_MODE_AUTO;
  break;
case CONTROL_AF_MODE_CONTINUOUS_PICTURE:
param=Parameters.FOCUS_MODE_CONTINUOUS_PICTURE;
break;
case CONTROL_AF_MODE_CONTINUOUS_VIDEO:
param=Parameters.FOCUS_MODE_CONTINUOUS_VIDEO;
break;
case CONTROL_AF_MODE_EDOF:
param=Parameters.FOCUS_MODE_EDOF;
break;
case CONTROL_AF_MODE_MACRO:
param=Parameters.FOCUS_MODE_MACRO;
break;
case CONTROL_AF_MODE_OFF:
if (supportedFocusModes.contains(Parameters.FOCUS_MODE_FIXED)) {
param=Parameters.FOCUS_MODE_FIXED;
}
 else {
param=Parameters.FOCUS_MODE_INFINITY;
}
}
if (!supportedFocusModes.contains(param)) {
String defaultMode=supportedFocusModes.get(0);
Log.w(TAG,String.format("convertAfModeToLegacy - ignoring unsupported mode %d, " + "defaulting to %s",mode,defaultMode));
param=defaultMode;
}
return param;
}
