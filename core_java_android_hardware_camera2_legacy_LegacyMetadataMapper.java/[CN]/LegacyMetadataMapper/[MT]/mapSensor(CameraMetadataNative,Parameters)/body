{
  Size largestJpegSize=getLargestSupportedJpegSizeByArea(p);
{
    Rect activeArrayRect=ParamsUtils.createRect(largestJpegSize);
    m.set(SENSOR_INFO_ACTIVE_ARRAY_SIZE,activeArrayRect);
  }
{
    m.set(SENSOR_AVAILABLE_TEST_PATTERN_MODES,new int[]{SENSOR_TEST_PATTERN_MODE_OFF});
  }
  m.set(SENSOR_INFO_PIXEL_ARRAY_SIZE,largestJpegSize);
{
    float focalLength=p.getFocalLength();
    double angleHor=p.getHorizontalViewAngle() * Math.PI / 180;
    double angleVer=p.getVerticalViewAngle() * Math.PI / 180;
    float height=(float)Math.abs(2 * focalLength * Math.tan(angleVer / 2));
    float width=(float)Math.abs(2 * focalLength * Math.tan(angleHor / 2));
    m.set(SENSOR_INFO_PHYSICAL_SIZE,new SizeF(width,height));
  }
}
