{
  final Resources r=Resources.getSystem();
  String text=mContext.getString(isLocked ? R.string.lock_to_app_toast_locked : R.string.lock_to_app_toast);
  Toast toast=Toast.makeText(mContext,text,Toast.LENGTH_LONG);
  TextView tv=(TextView)toast.getView().findViewById(R.id.message);
  if (isLocked) {
    tv.setText(text);
  }
 else {
    final SpannableString formattedText=new SpannableString(text.replace('$',' '));
    final ImageSpan imageSpan=new ImageSpan(mContext,BitmapFactory.decodeResource(r,R.drawable.ic_recent),DynamicDrawableSpan.ALIGN_BOTTOM);
    final int index=text.indexOf('$');
    if (index >= 0) {
      formattedText.setSpan(imageSpan,index,index + 1,Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
    }
    final float width=imageSpan.getDrawable().getIntrinsicWidth();
    final float height=imageSpan.getDrawable().getIntrinsicHeight();
    final int lineHeight=tv.getLineHeight();
    imageSpan.getDrawable().setBounds(0,0,(int)(lineHeight * width / height),lineHeight);
    tv.setText(formattedText);
  }
  toast.show();
}
