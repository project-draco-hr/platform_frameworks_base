{
  try {
    final Bundle accountManagerResult=accountManagerFuture.getResult();
    final String name=accountManagerResult.getString(AccountManager.KEY_ACCOUNT_NAME);
    final String type=accountManagerResult.getString(AccountManager.KEY_ACCOUNT_TYPE);
    if (name != null && type != null) {
      final Bundle bundle=new Bundle();
      bundle.putString(AccountManager.KEY_ACCOUNT_NAME,name);
      bundle.putString(AccountManager.KEY_ACCOUNT_TYPE,type);
      setResult(Activity.RESULT_OK,new Intent().putExtras(bundle));
      finish();
      return;
    }
  }
 catch (  OperationCanceledException e) {
    setResult(Activity.RESULT_CANCELED);
    finish();
    return;
  }
catch (  IOException e) {
  }
catch (  AuthenticatorException e) {
  }
  Bundle bundle=new Bundle();
  bundle.putString(AccountManager.KEY_ERROR_MESSAGE,"error communicating with server");
  setResult(Activity.RESULT_OK,new Intent().putExtras(bundle));
  finish();
}
