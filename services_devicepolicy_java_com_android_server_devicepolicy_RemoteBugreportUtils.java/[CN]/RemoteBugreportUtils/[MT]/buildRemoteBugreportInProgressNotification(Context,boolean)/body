{
  Notification.Builder builder=new Notification.Builder(context).setSmallIcon(com.android.internal.R.drawable.stat_sys_adb).setContentTitle(context.getString(R.string.remote_bugreport_progress_notification_title)).setTicker(context.getString(R.string.remote_bugreport_progress_notification_title)).setOngoing(true).setLocalOnly(true).setColor(context.getColor(com.android.internal.R.color.system_notification_accent_color)).setPriority(Notification.PRIORITY_HIGH);
  if (canCancelBugreport) {
    PendingIntent pendingIntentCancel=PendingIntent.getBroadcast(context,REMOTE_BUGREPORT_IN_PROGRESS_NOTIFICATION_ID,new Intent(ACTION_REMOTE_BUGREPORT_SHARING_DECLINED),PendingIntent.FLAG_CANCEL_CURRENT);
    String message=context.getString(R.string.remote_bugreport_progress_notification_message_can_cancel);
    builder.setContentText(message).setContentIntent(pendingIntentCancel).setStyle(new Notification.BigTextStyle().bigText(message));
  }
  return builder.build();
}
