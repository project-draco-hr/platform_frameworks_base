{
  String localIp=getLocalIp();
  SdpSessionDescription.Builder sdpBuilder;
  try {
    long sessionVersion=System.currentTimeMillis();
    sdpBuilder=new SdpSessionDescription.Builder("SIP Call").setOrigin(mLocalProfile,getSessionId(),sessionVersion,SDPKeywords.IN,SDPKeywords.IPV4,localIp).setConnectionInfo(SDPKeywords.IN,SDPKeywords.IPV4,localIp);
    List<Integer> codecIds=new ArrayList<Integer>();
    for (    SdpSessionDescription.AudioCodec codec : codecs) {
      codecIds.add(codec.payloadType);
    }
    if (addTelephoneEvent)     codecIds.add(DTMF);
    sdpBuilder.addMedia(AUDIO,getLocalMediaPort(),1,"RTP/AVP",codecIds.toArray(new Integer[codecIds.size()]));
    for (    SdpSessionDescription.AudioCodec codec : codecs) {
      sdpBuilder.addMediaAttribute(AUDIO,"rtpmap",getMediaDescription(codec));
    }
    if (addTelephoneEvent) {
      sdpBuilder.addMediaAttribute(AUDIO,"rtpmap",DTMF + " telephone-event/8000");
    }
    sdpBuilder.addMediaAttribute(AUDIO,"ptime","20");
  }
 catch (  SdpException e) {
    throw new RuntimeException(e);
  }
  return sdpBuilder;
}
