{
  if (mInteractive != interactive) {
    mInteractive=interactive;
    final long nowELAPSED=SystemClock.elapsedRealtime();
    if (interactive) {
      if (mPendingNonWakeupAlarms.size() > 0) {
        final long thisDelayTime=nowELAPSED - mStartCurrentDelayTime;
        mTotalDelayTime+=thisDelayTime;
        if (mMaxDelayTime < thisDelayTime) {
          mMaxDelayTime=thisDelayTime;
        }
        deliverAlarmsLocked(mPendingNonWakeupAlarms,nowELAPSED);
        mPendingNonWakeupAlarms.clear();
      }
      if (mNonInteractiveStartTime > 0) {
        long dur=nowELAPSED - mNonInteractiveStartTime;
        if (dur > mNonInteractiveTime) {
          mNonInteractiveTime=dur;
        }
      }
    }
 else {
      mNonInteractiveStartTime=nowELAPSED;
    }
  }
}
