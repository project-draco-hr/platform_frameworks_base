{
  if (duration < 15 * 60 * 1000) {
    return duration;
  }
 else   if (duration < 90 * 60 * 1000) {
    return 15 * 60 * 1000;
  }
 else {
    return 30 * 60 * 1000;
  }
}
