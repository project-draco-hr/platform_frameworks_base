{
  boolean didRemove=false;
  long newStart=0;
  long newEnd=Long.MAX_VALUE;
  int newFlags=0;
  for (int i=alarms.size() - 1; i >= 0; i--) {
    Alarm alarm=alarms.get(i);
    try {
      if (alarm.uid == uid && ActivityManagerNative.getDefault().getAppStartMode(uid,alarm.packageName) == ActivityManager.APP_START_MODE_DISABLED) {
        alarms.remove(i);
        didRemove=true;
        if (alarm.alarmClock != null) {
          mNextAlarmClockMayChange=true;
        }
      }
 else {
        if (alarm.whenElapsed > newStart) {
          newStart=alarm.whenElapsed;
        }
        if (alarm.maxWhenElapsed < newEnd) {
          newEnd=alarm.maxWhenElapsed;
        }
        newFlags|=alarm.flags;
      }
    }
 catch (    RemoteException e) {
    }
  }
  if (didRemove) {
    start=newStart;
    end=newEnd;
    flags=newFlags;
  }
  return didRemove;
}
