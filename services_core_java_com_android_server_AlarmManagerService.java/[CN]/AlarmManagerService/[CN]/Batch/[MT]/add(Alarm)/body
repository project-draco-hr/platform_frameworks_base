{
  boolean newStart=false;
  int index=Collections.binarySearch(alarms,alarm,sIncreasingTimeOrder);
  if (index < 0) {
    index=0 - index - 1;
  }
  alarms.add(index,alarm);
  if (DEBUG_BATCH) {
    Slog.v(TAG,"Adding " + alarm + " to "+ this);
  }
  if (alarm.whenElapsed > start) {
    start=alarm.whenElapsed;
    newStart=true;
  }
  if (alarm.maxWhenElapsed < end) {
    end=alarm.maxWhenElapsed;
  }
  flags|=alarm.flags;
  if (DEBUG_BATCH) {
    Slog.v(TAG,"    => now " + this);
  }
  return newStart;
}
