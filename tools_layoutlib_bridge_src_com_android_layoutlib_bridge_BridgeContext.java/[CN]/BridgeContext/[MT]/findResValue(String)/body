{
  if (reference == null) {
    return null;
  }
  if (reference.startsWith(BridgeConstants.PREFIX_THEME_REF)) {
    if (mThemeValues == null) {
      return null;
    }
    boolean frameworkOnly=false;
    if (reference.startsWith(BridgeConstants.PREFIX_ANDROID_THEME_REF)) {
      frameworkOnly=true;
      reference=reference.substring(BridgeConstants.PREFIX_ANDROID_THEME_REF.length());
    }
 else {
      reference=reference.substring(BridgeConstants.PREFIX_THEME_REF.length());
    }
    String[] segments=reference.split("\\/");
    String referenceName=null;
    if (segments.length == 2) {
      if (BridgeConstants.RES_ATTR.equals(segments[0])) {
        referenceName=segments[1];
      }
 else {
        return null;
      }
    }
 else {
      referenceName=segments[0];
    }
    if (frameworkOnly) {
      return findItemInStyle(mThemeValues,referenceName);
    }
    return findItemInStyle(mThemeValues,referenceName);
  }
 else   if (reference.startsWith(BridgeConstants.PREFIX_RESOURCE_REF)) {
    boolean frameworkOnly=false;
    if (BridgeConstants.REFERENCE_NULL.equals(reference)) {
      return null;
    }
    if (reference.startsWith(BridgeConstants.PREFIX_ANDROID_RESOURCE_REF)) {
      frameworkOnly=true;
      reference=reference.substring(BridgeConstants.PREFIX_ANDROID_RESOURCE_REF.length());
    }
 else {
      reference=reference.substring(BridgeConstants.PREFIX_RESOURCE_REF.length());
    }
    String[] segments=reference.split("\\/");
    return findResValue(segments[0],segments[1],frameworkOnly);
  }
  return null;
}
