{
  final EGL10 egl=(EGL10)EGLContext.getEGL();
  mEgl=egl;
  final EGLDisplay eglDisplay=egl.eglGetDisplay(EGL10.EGL_DEFAULT_DISPLAY);
  mEglDisplay=eglDisplay;
  int[] version=new int[2];
  egl.eglInitialize(eglDisplay,version);
  final int[] configSpec={EGL10.EGL_RED_SIZE,8,EGL10.EGL_GREEN_SIZE,8,EGL10.EGL_BLUE_SIZE,8,EGL10.EGL_DEPTH_SIZE,0,EGL10.EGL_NONE};
  final EGLConfig[] configs=new EGLConfig[1];
  final int[] numConfig=new int[1];
  egl.eglChooseConfig(eglDisplay,configSpec,configs,1,numConfig);
  final EGLConfig config=configs[0];
  final EGLContext context=egl.eglCreateContext(eglDisplay,config,EGL10.EGL_NO_CONTEXT,null);
  mEglContext=context;
  EGLSurface surface=egl.eglCreateWindowSurface(eglDisplay,config,holder,null);
  mEglSurface=surface;
  egl.eglMakeCurrent(eglDisplay,surface,surface,context);
  final GL11 gl=(GL11)context.getGL();
  mGL=gl;
  mGlCanvas=new Canvas(gl);
  setEnabled(true);
}
