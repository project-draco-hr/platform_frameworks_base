{
  if (!mEglSurface.equals(sEgl.eglGetCurrentSurface(EGL_DRAW)) || !mEglContext.equals(sEgl.eglGetCurrentContext())) {
    if (!sEgl.eglMakeCurrent(sEglDisplay,mEglSurface,mEglSurface,mEglContext)) {
      Log.e(LOG_TAG,"eglMakeCurrent failed " + GLUtils.getEGLErrorString(sEgl.eglGetError()));
      fallback(true);
      return SURFACE_STATE_ERROR;
    }
 else {
      if (mUpdateDirtyRegions) {
        enableDirtyRegions();
        mUpdateDirtyRegions=false;
      }
      return SURFACE_STATE_UPDATED;
    }
  }
  return SURFACE_STATE_SUCCESS;
}
