{
  if (canDraw()) {
    attachInfo.mDrawingTime=SystemClock.uptimeMillis();
    attachInfo.mIgnoreDirtyState=true;
    view.mPrivateFlags|=View.DRAWN;
    if (mEgl.eglGetCurrentContext() != mEglContext || mEgl.eglGetCurrentSurface(EGL10.EGL_DRAW) != mEglSurface) {
      if (!mEgl.eglMakeCurrent(mEglDisplay,mEglSurface,mEglSurface,mEglContext)) {
        throw new RuntimeException("eglMakeCurrent failed");
      }
    }
    onPreDraw();
    Canvas canvas=mCanvas;
    int saveCount=canvas.save(Canvas.MATRIX_SAVE_FLAG);
    canvas.translate(0,-yOffset);
    try {
      view.draw(canvas);
    }
  finally {
      canvas.restoreToCount(saveCount);
    }
    attachInfo.mIgnoreDirtyState=false;
    mEgl.eglSwapBuffers(mEglDisplay,mEglSurface);
    checkErrors();
  }
}
