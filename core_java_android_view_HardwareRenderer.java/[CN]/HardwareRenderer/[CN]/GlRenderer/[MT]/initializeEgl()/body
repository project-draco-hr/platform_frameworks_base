{
  mEgl=(EGL10)EGLContext.getEGL();
  mEglDisplay=mEgl.eglGetDisplay(EGL10.EGL_DEFAULT_DISPLAY);
  if (mEglDisplay == EGL10.EGL_NO_DISPLAY) {
    throw new RuntimeException("eglGetDisplay failed");
  }
  int[] version=new int[2];
  if (!mEgl.eglInitialize(mEglDisplay,version)) {
    throw new RuntimeException("eglInitialize failed");
  }
  mEglConfig=getConfigChooser(mGlVersion).chooseConfig(mEgl,mEglDisplay);
  mEglContext=createContext(mEgl,mEglDisplay,mEglConfig);
}
