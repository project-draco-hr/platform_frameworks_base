{
  if (surfaceState == SURFACE_STATE_UPDATED) {
    dirty=null;
    beginFrame(null);
  }
 else {
    int[] size=mSurfaceSize;
    beginFrame(size);
    if (size[1] != mHeight || size[0] != mWidth) {
      mWidth=size[0];
      mHeight=size[1];
      canvas.setViewport(mWidth,mHeight);
      dirty=null;
    }
  }
  if (mProfileEnabled && mProfileVisualizerEnabled)   dirty=null;
  return dirty;
}
