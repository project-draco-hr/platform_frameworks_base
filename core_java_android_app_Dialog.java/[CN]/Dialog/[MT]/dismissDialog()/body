{
  if (mDecor == null || !mShowing || mDecor.getWindowToken() == null) {
    return;
  }
  try {
    mWindowManager.removeView(mDecor);
  }
  finally {
    mDecor=null;
    mWindow.closeAllPanels();
    onStop();
    mShowing=false;
    sendDismissMessage();
  }
}
