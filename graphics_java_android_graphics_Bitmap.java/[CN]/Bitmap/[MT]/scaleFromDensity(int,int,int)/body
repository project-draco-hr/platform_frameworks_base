{
  if (sdensity == DENSITY_NONE || sdensity == tdensity) {
    return size;
  }
  return ((size * tdensity) + (sdensity >> 1)) / sdensity;
}
