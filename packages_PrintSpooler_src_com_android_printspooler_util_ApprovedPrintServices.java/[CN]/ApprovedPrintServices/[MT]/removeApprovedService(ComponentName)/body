{
synchronized (sLock) {
    if (isApprovedService(serviceToRemove)) {
      ArraySet<String> approvedServices=new ArraySet<String>(mPreferences.getStringSet(APPROVED_SERVICES_PREFERENCE,null));
      SharedPreferences.Editor editor=mPreferences.edit();
      final int numApprovedServices=approvedServices.size();
      for (int i=0; i < numApprovedServices; i++) {
        if (approvedServices.valueAt(i).equals(serviceToRemove.flattenToShortString())) {
          approvedServices.removeAt(i);
          break;
        }
      }
      editor.putStringSet(APPROVED_SERVICES_PREFERENCE,approvedServices);
      editor.apply();
    }
  }
}
