{
  mSafeMode=safeMode;
  mPackageMonitor.register(mContext,BackgroundThread.getHandler().getLooper(),UserHandle.ALL,true);
  new SettingsObserver(UiThread.getHandler());
synchronized (this) {
    mCurUser=ActivityManager.getCurrentUser();
    switchImplementationIfNeededLocked(false);
  }
}
