{
synchronized (this) {
    if (mImpl == null || mImpl.mService == null || service == null || service.asBinder() != mImpl.mService.asBinder()) {
      throw new SecurityException("Caller is not the current voice interaction service");
    }
    if (callback == null || recognitionConfig == null) {
      throw new IllegalArgumentException("Illegal argument(s) in startRecognition");
    }
  }
  final long caller=Binder.clearCallingIdentity();
  try {
    KeyphraseSoundModel soundModel=mDbHelper.getKeyphraseSoundModel(keyphraseId);
    if (soundModel == null || soundModel.uuid == null || soundModel.keyphrases == null) {
      Slog.w(TAG,"No matching sound model found in startRecognition");
      return SoundTriggerHelper.STATUS_ERROR;
    }
 else {
      return mSoundTriggerHelper.startRecognition(keyphraseId,soundModel,callback,recognitionConfig);
    }
  }
  finally {
    Binder.restoreCallingIdentity(caller);
  }
}
