{
synchronized (this) {
    boolean permissionGranted=mContext.checkCallingPermission(Manifest.permission.MANAGE_VOICE_KEYPHRASES) == PackageManager.PERMISSION_GRANTED;
    boolean currentVoiceInteractionService=service != null && mImpl != null && mImpl.mService != null && service.asBinder() == mImpl.mService.asBinder();
    if (!permissionGranted && !currentVoiceInteractionService) {
      if (!currentVoiceInteractionService) {
        throw new SecurityException("Caller is not the current voice interaction service");
      }
      if (!permissionGranted) {
        throw new SecurityException("Caller does not hold the permission " + Manifest.permission.MANAGE_VOICE_KEYPHRASES);
      }
    }
    final long caller=Binder.clearCallingIdentity();
    try {
      return mDbHelper.getKephraseSoundModels();
    }
  finally {
      Binder.restoreCallingIdentity(caller);
    }
  }
}
