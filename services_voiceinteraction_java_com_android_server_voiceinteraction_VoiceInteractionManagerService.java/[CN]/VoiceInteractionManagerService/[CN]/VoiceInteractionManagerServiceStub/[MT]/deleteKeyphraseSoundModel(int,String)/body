{
  enforceCallingPermission(Manifest.permission.MANAGE_VOICE_KEYPHRASES);
  if (bcp47Locale == null) {
    throw new IllegalArgumentException("Illegal argument(s) in deleteKeyphraseSoundModel");
  }
  final int callingUid=UserHandle.getCallingUserId();
  final long caller=Binder.clearCallingIdentity();
  boolean deleted=false;
  try {
    int unloadStatus=mSoundTriggerInternal.unloadKeyphraseModel(keyphraseId);
    if (unloadStatus != SoundTriggerInternal.STATUS_OK) {
      Slog.w(TAG,"Unable to unload keyphrase sound model:" + unloadStatus);
    }
    deleted=mDbHelper.deleteKeyphraseSoundModel(keyphraseId,callingUid,bcp47Locale);
    return deleted ? SoundTriggerInternal.STATUS_OK : SoundTriggerInternal.STATUS_ERROR;
  }
  finally {
    if (deleted) {
synchronized (this) {
        if (mImpl != null && mImpl.mService != null) {
          mImpl.notifySoundModelsChangedLocked();
        }
        mLoadedKeyphraseIds.remove(keyphraseId);
      }
    }
    Binder.restoreCallingIdentity(caller);
  }
}
