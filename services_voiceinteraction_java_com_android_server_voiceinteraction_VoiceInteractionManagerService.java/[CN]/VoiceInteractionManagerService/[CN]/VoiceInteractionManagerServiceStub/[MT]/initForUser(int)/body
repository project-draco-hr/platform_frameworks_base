{
  if (DEBUG)   Slog.i(TAG,"initForUser user=" + userHandle);
  ComponentName curInteractor=getCurInteractor(userHandle);
  ComponentName curRecognizer=getCurRecognizer(userHandle);
  if (curRecognizer != null) {
    IPackageManager pm=AppGlobals.getPackageManager();
    ServiceInfo interactorInfo=null;
    ServiceInfo recognizerInfo=null;
    try {
      recognizerInfo=pm.getServiceInfo(curRecognizer,0,userHandle);
      if (curInteractor != null) {
        interactorInfo=pm.getServiceInfo(curInteractor,0,userHandle);
      }
    }
 catch (    RemoteException e) {
    }
    if (recognizerInfo != null && (curInteractor == null || interactorInfo != null)) {
      return;
    }
  }
  curInteractor=findAvailInteractor(userHandle);
  if (curInteractor != null) {
    try {
      VoiceInteractionServiceInfo info=new VoiceInteractionServiceInfo(mContext.getPackageManager(),curInteractor,userHandle);
      if (info.getParseError() == null) {
        setCurInteractor(curInteractor,userHandle);
        if (info.getRecognitionService() != null) {
          curRecognizer=new ComponentName(info.getServiceInfo().packageName,info.getRecognitionService());
          setCurRecognizer(curRecognizer,userHandle);
          return;
        }
      }
 else {
        Slog.w(TAG,"Bad interaction service " + curInteractor + ": "+ info.getParseError());
      }
    }
 catch (    PackageManager.NameNotFoundException e) {
    }
catch (    RemoteException e) {
    }
  }
  curRecognizer=findAvailRecognizer(null,userHandle);
  if (curRecognizer != null) {
    setCurRecognizer(curRecognizer,userHandle);
  }
}
