{
  if (mDaemon == null) {
    mDaemon=IFingerprintDaemon.Stub.asInterface(ServiceManager.getService(FINGERPRINTD));
    if (mDaemon != null) {
      try {
        mDaemon.asBinder().linkToDeath(this,0);
        mDaemon.init(mDaemonCallback);
        mHalDeviceId=mDaemon.openHal();
        if (mHalDeviceId != 0) {
          updateActiveGroup(ActivityManager.getCurrentUser(),null);
        }
 else {
          Slog.w(TAG,"Failed to open Fingerprint HAL!");
          mDaemon=null;
        }
      }
 catch (      RemoteException e) {
        Slog.e(TAG,"Failed to open fingeprintd HAL",e);
        mDaemon=null;
      }
    }
 else {
      Slog.w(TAG,"fingerprint service not available");
    }
  }
  return mDaemon;
}
