{
  IFingerprintDaemon daemon=getFingerprintDaemon();
  if (daemon == null) {
    Slog.w(TAG,"startAuthentication: no fingeprintd!");
    return;
  }
  stopPendingOperations(true);
  updateActiveGroup(groupId,opPackageName);
  mAuthClient=new ClientMonitor(token,receiver,groupId,restricted,opPackageName);
  if (inLockoutMode()) {
    Slog.v(TAG,"In lockout mode; disallowing authentication");
    if (!mAuthClient.sendError(FingerprintManager.FINGERPRINT_ERROR_LOCKOUT)) {
      Slog.w(TAG,"Cannot send timeout message to client");
    }
    mAuthClient=null;
    return;
  }
  try {
    final int result=daemon.authenticate(opId,groupId);
    if (result != 0) {
      Slog.w(TAG,"startAuthentication failed, result=" + result);
      handleError(mHalDeviceId,FingerprintManager.FINGERPRINT_ERROR_HW_UNAVAILABLE);
    }
  }
 catch (  RemoteException e) {
    Slog.e(TAG,"startAuthentication failed",e);
  }
}
