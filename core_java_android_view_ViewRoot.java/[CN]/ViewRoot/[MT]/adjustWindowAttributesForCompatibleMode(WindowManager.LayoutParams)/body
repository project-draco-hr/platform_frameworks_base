{
  if (attrs.type <= WindowManager.LayoutParams.LAST_SUB_WINDOW) {
    DisplayMetrics metrics=mView.getContext().getResources().getDisplayMetrics();
    if (attrs.width == ViewGroup.LayoutParams.FILL_PARENT) {
      attrs.width=metrics.widthPixels;
      attrs.gravity|=Gravity.CENTER_HORIZONTAL;
    }
    if (attrs.height == ViewGroup.LayoutParams.FILL_PARENT) {
      attrs.height=metrics.heightPixels;
    }
    if (DEBUG_LAYOUT) {
      Log.d(TAG,"Attributes fixed for compatibility : " + attrs);
    }
  }
}
