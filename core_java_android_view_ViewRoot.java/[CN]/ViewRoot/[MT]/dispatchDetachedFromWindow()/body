{
  if (Config.LOGV)   Log.v(TAG,"Detaching in " + this + " of "+ mSurface);
  if (mView != null && mAttached) {
    mView.dispatchDetachedFromWindow();
    mAttached=false;
  }
  mView=null;
  mAttachInfo.mRootView=null;
  mAttachInfo.mSurface=null;
  if (mUseGL) {
    destroyGL();
  }
  mSurface.release();
  if (mInputChannel != null) {
    if (mInputQueueCallback != null) {
      mInputQueueCallback.onInputQueueDestroyed(mInputQueue);
      mInputQueueCallback=null;
    }
 else {
      InputQueue.unregisterInputChannel(mInputChannel);
    }
  }
  try {
    sWindowSession.remove(mWindow);
  }
 catch (  RemoteException e) {
  }
  if (mInputChannel != null) {
    mInputChannel.dispose();
    mInputChannel=null;
  }
}
