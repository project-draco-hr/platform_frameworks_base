{
  boolean wasBouncerVisibleToUser;
synchronized (mIsBouncerVisibleToUserLock) {
    wasBouncerVisibleToUser=mIsBouncerVisibleToUser;
    mIsBouncerVisibleToUser=isBouncerVisibleToUser();
  }
  if (mBiometricUnlock != null) {
    if (wasBouncerVisibleToUser && !mIsBouncerVisibleToUser) {
      mBiometricUnlock.stop();
    }
 else     if (!wasBouncerVisibleToUser && mIsBouncerVisibleToUser) {
      maybeStartBiometricUnlock();
    }
  }
}
