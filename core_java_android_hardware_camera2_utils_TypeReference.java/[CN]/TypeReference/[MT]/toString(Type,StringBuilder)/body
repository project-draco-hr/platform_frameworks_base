{
  if (type == null) {
    return;
  }
 else   if (type instanceof TypeVariable<?>) {
    out.append(((TypeVariable<?>)type).getName());
  }
 else   if (type instanceof Class<?>) {
    Class<?> klass=(Class<?>)type;
    out.append(klass.getName());
    toString(klass.getTypeParameters(),out);
  }
 else   if (type instanceof ParameterizedType) {
    ParameterizedType p=(ParameterizedType)type;
    out.append(((Class<?>)p.getRawType()).getName());
    toString(p.getActualTypeArguments(),out);
  }
 else   if (type instanceof GenericArrayType) {
    GenericArrayType gat=(GenericArrayType)type;
    toString(gat.getGenericComponentType(),out);
    out.append("[]");
  }
 else {
    out.append(type.toString());
  }
}
