{
  int offset=0;
  ResourceValue value=resolver.findItemInTheme("windowNoTitle");
  value=resolver.resolveResValue(value);
  if (value == null || value.getValue() == null || XmlUtils.convertValueToBoolean(value.getValue(),false) == false) {
    int defaultOffset=DEFAULT_TITLE_BAR_HEIGHT;
    value=resolver.findItemInTheme("windowTitleSize");
    value=resolver.resolveResValue(value);
    if (value != null) {
      TypedValue typedValue=ResourceHelper.getValue(value.getValue());
      if (typedValue != null) {
        defaultOffset=(int)typedValue.getDimension(metrics);
      }
    }
    offset+=defaultOffset;
  }
  value=resolver.findItemInTheme("windowFullscreen");
  value=resolver.resolveResValue(value);
  if (value == null || value.getValue() == null || XmlUtils.convertValueToBoolean(value.getValue(),false) == false) {
    int defaultOffset=DEFAULT_STATUS_BAR_HEIGHT;
    value=resolver.getFrameworkResource(ResourceResolver.RES_DIMEN,"status_bar_height");
    if (value != null) {
      TypedValue typedValue=ResourceHelper.getValue(value.getValue());
      if (typedValue != null) {
        defaultOffset=(int)typedValue.getDimension(metrics);
      }
    }
    offset+=defaultOffset;
  }
  return offset;
}
