{
  if (view == null) {
    return null;
  }
  ViewInfo result=new ViewInfo(view.getClass().getName(),getContext().getViewKey(view),view.getLeft(),view.getTop() + offset,view.getRight(),view.getBottom() + offset,view,view.getLayoutParams());
  if (setExtendedInfo) {
    MarginLayoutParams marginParams=null;
    LayoutParams params=view.getLayoutParams();
    if (params instanceof MarginLayoutParams) {
      marginParams=(MarginLayoutParams)params;
    }
    result.setExtendedInfo(view.getBaseline(),marginParams != null ? marginParams.leftMargin : 0,marginParams != null ? marginParams.topMargin : 0,marginParams != null ? marginParams.rightMargin : 0,marginParams != null ? marginParams.bottomMargin : 0);
  }
  if (view instanceof ViewGroup) {
    ViewGroup group=((ViewGroup)view);
    result.setChildren(visitAllChildren(group,0,setExtendedInfo));
  }
  return result;
}
