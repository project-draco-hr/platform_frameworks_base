{
  View v=tabHost.findViewById(android.R.id.tabs);
  if (v == null) {
    throw new PostInflateException("TabHost requires a TabWidget with id \"android:id/tabs\".\n");
  }
  if (!(v instanceof TabWidget)) {
    throw new PostInflateException(String.format("TabHost requires a TabWidget with id \"android:id/tabs\".\n" + "View found with id 'tabs' is '%s'",v.getClass().getCanonicalName()));
  }
  v=tabHost.findViewById(android.R.id.tabcontent);
  if (v == null) {
    throw new PostInflateException("TabHost requires a FrameLayout with id \"android:id/tabcontent\".");
  }
  if (!(v instanceof FrameLayout)) {
    throw new PostInflateException(String.format("TabHost requires a FrameLayout with id \"android:id/tabcontent\".\n" + "View found with id 'tabcontent' is '%s'",v.getClass().getCanonicalName()));
  }
  FrameLayout content=(FrameLayout)v;
  final int count=content.getChildCount();
  tabHost.setup();
  if (count == 0) {
    TabSpec spec=tabHost.newTabSpec("tag").setIndicator("Tab Label",tabHost.getResources().getDrawable(android.R.drawable.ic_menu_info_details)).setContent(new TabHost.TabContentFactory(){
      @Override public View createTabContent(      String tag){
        return new LinearLayout(getContext());
      }
    }
);
    tabHost.addTab(spec);
  }
 else {
    for (int i=0; i < count; i++) {
      View child=content.getChildAt(i);
      String tabSpec=String.format("tab_spec%d",i + 1);
      @SuppressWarnings("ConstantConditions") int id=child.getId();
      @SuppressWarnings("deprecation") Pair<ResourceType,String> resource=projectCallback.resolveResourceId(id);
      String name;
      if (resource != null) {
        name=resource.getSecond();
      }
 else {
        name=String.format("Tab %d",i + 1);
      }
      tabHost.addTab(tabHost.newTabSpec(tabSpec).setIndicator(name).setContent(id));
    }
  }
}
