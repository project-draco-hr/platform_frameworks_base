{
  try {
    LayoutTransition transition=previousParent.getLayoutTransition();
    if (transition != null) {
      final int waitForType=newParent == previousParent ? LayoutTransition.CHANGE_DISAPPEARING : LayoutTransition.DISAPPEARING;
      transition.addTransitionListener(new TransitionListener(){
        public void startTransition(        LayoutTransition transition,        ViewGroup container,        View view,        int transitionType){
        }
        public void endTransition(        LayoutTransition transition,        ViewGroup container,        View view,        int transitionType){
          if (transitionType == waitForType) {
            if (params != null) {
              newParent.addView(view,index,params);
            }
 else {
              newParent.addView(view,index);
            }
          }
        }
      }
);
      previousParent.removeView(view);
      return SUCCESS.createResult();
    }
 else {
      previousParent.removeView(view);
      if (params != null) {
        newParent.addView(view,index,params);
      }
 else {
        newParent.addView(view,index);
      }
      return SUCCESS.createResult();
    }
  }
 catch (  UnsupportedOperationException e) {
    return ERROR_VIEWGROUP_NO_CHILDREN.createResult();
  }
}
