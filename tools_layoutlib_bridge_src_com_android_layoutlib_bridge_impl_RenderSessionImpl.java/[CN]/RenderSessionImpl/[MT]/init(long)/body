{
  Result result=super.init(timeout);
  if (!result.isSuccess()) {
    return result;
  }
  SessionParams params=getParams();
  BridgeContext context=getContext();
  context.getIWindowManager().setHasNavBar(params.getHardwareConfig().hasSoftwareButtons());
  RenderResources resources=getParams().getResources();
  DisplayMetrics metrics=getContext().getMetrics();
  mIsAlphaChannelImage=getBooleanThemeValue(resources,"windowIsFloating",true);
  mWindowIsFloating=getBooleanThemeValue(resources,"windowIsFloating",true);
  findBackground(resources);
  findStatusBar(resources,metrics);
  findActionBar(resources,metrics);
  findNavigationBar(resources,metrics);
  boolean hasSystemNavBar=true;
  boolean hasNavigationBar=true;
  IWindowManager iwm=new IWindowManagerImpl(getContext().getConfiguration(),metrics,Surface.ROTATION_0,hasSystemNavBar,hasNavigationBar);
  WindowManagerGlobal_Delegate.setWindowManagerService(iwm);
  mInflater=new BridgeInflater(context,params.getProjectCallback());
  context.setBridgeInflater(mInflater);
  mBlockParser=new BridgeXmlBlockParser(params.getLayoutDescription(),context,false);
  return SUCCESS.createResult();
}
