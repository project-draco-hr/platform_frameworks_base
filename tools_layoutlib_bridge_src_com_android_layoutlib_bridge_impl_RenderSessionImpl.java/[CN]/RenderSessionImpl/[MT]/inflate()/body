{
  checkLock();
  try {
    if (mWindowIsFloating || mParams.isForceNoDecor()) {
      mViewRoot=mContentRoot=new FrameLayout(mContext);
    }
 else {
      LinearLayout topLayout=new LinearLayout(mContext);
      mViewRoot=topLayout;
      topLayout.setOrientation(LinearLayout.VERTICAL);
      if (mStatusBarSize > 0) {
        try {
          PhoneSystemBar systemBar=new PhoneSystemBar(mContext,mParams.getDensity());
          systemBar.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT,mStatusBarSize));
          topLayout.addView(systemBar);
        }
 catch (        XmlPullParserException e) {
        }
      }
      if (mActionBarSize > 0) {
        try {
          FakeActionBar actionBar=new FakeActionBar(mContext,mParams.getDensity(),mParams.getAppLabel(),mParams.getAppIcon());
          actionBar.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT,mActionBarSize));
          topLayout.addView(actionBar);
        }
 catch (        XmlPullParserException e) {
        }
      }
 else       if (mTitleBarSize > 0) {
        try {
          TitleBar titleBar=new TitleBar(mContext,mParams.getDensity(),mParams.getAppLabel());
          titleBar.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT,mTitleBarSize));
          topLayout.addView(titleBar);
        }
 catch (        XmlPullParserException e) {
        }
      }
      mContentRoot=new FrameLayout(mContext);
      LinearLayout.LayoutParams params=new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT,LayoutParams.WRAP_CONTENT);
      params.weight=1;
      mContentRoot.setLayoutParams(params);
      topLayout.addView(mContentRoot);
      if (mSystemBarSize > 0) {
        try {
          TabletSystemBar systemBar=new TabletSystemBar(mContext,mParams.getDensity());
          systemBar.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT,mSystemBarSize));
          topLayout.addView(systemBar);
        }
 catch (        XmlPullParserException e) {
        }
      }
    }
    Fragment_Delegate.setProjectCallback(mParams.getProjectCallback());
    View view=mInflater.inflate(mBlockParser,mContentRoot);
    Fragment_Delegate.setProjectCallback(null);
    AttachInfo info=new AttachInfo(new BridgeWindowSession(),new BridgeWindow(),new Handler(),null);
    info.mHasWindowFocus=true;
    info.mWindowVisibility=View.VISIBLE;
    info.mInTouchMode=false;
    info.mHardwareAccelerated=false;
    mViewRoot.dispatchAttachedToWindow(info,0);
    postInflateProcess(view,mParams.getProjectCallback());
    if (mWindowBackground != null) {
      Drawable d=ResourceHelper.getDrawable(mWindowBackground,mContext);
      mContentRoot.setBackgroundDrawable(d);
    }
    return SUCCESS.createResult();
  }
 catch (  PostInflateException e) {
    return ERROR_INFLATION.createResult(e.getMessage(),e);
  }
catch (  Throwable e) {
    Throwable t=e;
    while (t.getCause() != null) {
      t=t.getCause();
    }
    return ERROR_INFLATION.createResult(t.getMessage(),t);
  }
}
