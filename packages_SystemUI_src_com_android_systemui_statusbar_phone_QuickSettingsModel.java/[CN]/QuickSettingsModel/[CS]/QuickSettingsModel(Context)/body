{
  mContext=context;
  mHandler=new Handler();
  mUserTracker=new CurrentUserTracker(mContext){
    @Override public void onReceive(    Context context,    Intent intent){
      super.onReceive(context,intent);
      onUserSwitched();
    }
  }
;
  mNextAlarmObserver=new NextAlarmObserver(mHandler);
  mNextAlarmObserver.startObserving();
  mBugreportObserver=new BugreportObserver(mHandler);
  mBugreportObserver.startObserving();
  mBrightnessObserver=new BrightnessObserver(mHandler);
  mBrightnessObserver.startObserving();
  ConnectivityManager cm=(ConnectivityManager)context.getSystemService(Context.CONNECTIVITY_SERVICE);
  mHasMobileData=cm.isNetworkSupported(ConnectivityManager.TYPE_MOBILE);
  IntentFilter alarmIntentFilter=new IntentFilter();
  alarmIntentFilter.addAction(Intent.ACTION_ALARM_CHANGED);
  context.registerReceiver(mAlarmIntentReceiver,alarmIntentFilter);
}
