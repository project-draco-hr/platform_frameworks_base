{
  if (resolver == null || imis == null)   return null;
  final String currentInputMethodId=Settings.Secure.getString(resolver,Settings.Secure.DEFAULT_INPUT_METHOD);
  if (TextUtils.isEmpty(currentInputMethodId))   return null;
  for (  InputMethodInfo imi : imis) {
    if (currentInputMethodId.equals(imi.getId())) {
      final InputMethodSubtype subtype=imm.getCurrentInputMethodSubtype();
      final CharSequence summary=subtype != null ? subtype.getDisplayName(context,imi.getPackageName(),imi.getServiceInfo().applicationInfo) : context.getString(R.string.quick_settings_ime_label);
      return summary.toString();
    }
  }
  return null;
}
