{
  final Resources res=mContext.getResources();
  final ContentResolver cr=mContext.getContentResolver();
  final int currentUserId=mUserTracker.getCurrentUserId();
  final boolean quickSettingEnabled=Settings.Secure.getIntForUser(cr,Settings.Secure.ACCESSIBILITY_DISPLAY_INVERSION_QUICK_SETTING_ENABLED,0,currentUserId) == 1;
  final boolean enabled=Settings.Secure.getIntForUser(cr,Settings.Secure.ACCESSIBILITY_DISPLAY_INVERSION_ENABLED,0,currentUserId) == 1;
  final int type=Settings.Secure.getIntForUser(cr,Settings.Secure.ACCESSIBILITY_DISPLAY_INVERSION,0,currentUserId);
  mInversionState.enabled=quickSettingEnabled;
  mInversionState.toggled=enabled;
  mInversionState.type=type;
  mInversionState.iconId=enabled ? R.drawable.ic_qs_bluetooth_on : R.drawable.ic_qs_bluetooth_off;
  mInversionState.label=res.getString(R.string.quick_settings_inversion_label);
  mInversionCallback.refreshView(mInversionTile,mInversionState);
}
