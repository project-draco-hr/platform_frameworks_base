{
  final Resources res=mContext.getResources();
  final ContentResolver cr=mContext.getContentResolver();
  final int currentUserId=mUserTracker.getCurrentUserId();
  final boolean quickSettingEnabled=Settings.Secure.getIntForUser(cr,Settings.Secure.ACCESSIBILITY_DISPLAY_DALTONIZER_QUICK_SETTING_ENABLED,0,currentUserId) == 1;
  final boolean enabled=Settings.Secure.getIntForUser(cr,Settings.Secure.ACCESSIBILITY_DISPLAY_DALTONIZER_ENABLED,0,currentUserId) == 1;
  final int type=Settings.Secure.getIntForUser(cr,Settings.Secure.ACCESSIBILITY_DISPLAY_DALTONIZER,0,currentUserId);
  mColorSpaceState.enabled=quickSettingEnabled;
  mColorSpaceState.toggled=enabled;
  mColorSpaceState.type=type;
  mColorSpaceState.iconId=enabled ? R.drawable.ic_qs_bluetooth_on : R.drawable.ic_qs_bluetooth_off;
  mColorSpaceState.label=res.getString(R.string.quick_settings_color_space_label);
  mColorSpaceCallback.refreshView(mColorSpaceTile,mColorSpaceState);
}
