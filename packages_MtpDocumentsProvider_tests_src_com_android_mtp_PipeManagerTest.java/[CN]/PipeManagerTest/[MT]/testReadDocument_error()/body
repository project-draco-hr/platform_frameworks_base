{
  final TestMtpManager mtpManager=new TestMtpManager(getContext());
  final ExecutorService executor=Executors.newSingleThreadExecutor();
  final PipeManager pipeManager=new PipeManager(executor);
  final ParcelFileDescriptor descriptor=pipeManager.readDocument(mtpManager,new Identifier(0,0,1),5);
  executor.awaitTermination(1000,TimeUnit.MILLISECONDS);
  try {
    descriptor.checkError();
    fail();
  }
 catch (  Throwable error) {
    assertTrue(error instanceof IOException);
  }
}
