{
  int userId=UserHandle.USER_OWNER;
  String opt;
  while ((opt=nextOption()) != null) {
    if (opt.equals("--user")) {
      userId=Integer.parseInt(nextOptionData());
      if (userId < 0) {
        System.err.println("Error: user must be >= 0");
        return 1;
      }
    }
 else {
      System.err.println("Error: unknown option: " + opt);
      return showUsage();
    }
  }
  final String pkg=nextArg();
  if (pkg == null) {
    System.err.println("Error: no package specified.");
    return showUsage();
  }
  try {
    final PackageInfo info=mPm.getPackageInfo(pkg,0,userId);
    if (info == null) {
      System.err.println("Error: package " + pkg + " not found.");
      return 1;
    }
    if ((info.applicationInfo.privateFlags & ApplicationInfo.PRIVATE_FLAG_HAS_DOMAIN_URLS) == 0) {
      System.err.println("Error: package " + pkg + " does not handle web links.");
      return 1;
    }
    System.out.println(linkStateToString(mPm.getIntentVerificationStatus(pkg,userId)));
  }
 catch (  Exception e) {
    System.err.println(e.toString());
    System.err.println(PM_NOT_RUNNING_ERR);
    return 1;
  }
  return 0;
}
