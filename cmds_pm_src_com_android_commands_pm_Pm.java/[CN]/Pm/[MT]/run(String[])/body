{
  boolean validCommand=false;
  if (args.length < 1) {
    showUsage();
    return;
  }
  mPm=IPackageManager.Stub.asInterface(ServiceManager.getService("package"));
  if (mPm == null) {
    System.err.println("Error Type 1: Could not access the Package Manager!");
    showUsage();
    return;
  }
  mArgs=args;
  String op=args[0];
  mNextArg=1;
  if ("list".equals(op)) {
    runList();
    return;
  }
  if ("path".equals(op)) {
    runPath();
    return;
  }
  if ("install".equals(op)) {
    runInstall();
    return;
  }
  if ("uninstall".equals(op)) {
    runUninstall();
    return;
  }
  try {
    if (args.length == 1) {
      if (args[0].equalsIgnoreCase("-l")) {
        validCommand=true;
        runListPackages(false);
      }
 else       if (args[0].equalsIgnoreCase("-lf")) {
        validCommand=true;
        runListPackages(true);
      }
    }
 else     if (args.length == 2) {
      if (args[0].equalsIgnoreCase("-p")) {
        validCommand=true;
        displayPackageFilePath(args[1]);
      }
    }
  }
  finally {
    if (validCommand == false) {
      showUsage();
    }
  }
}
