{
  try {
    Cursor c=cr.query(BOOKMARKS_URI,TRUNCATE_HISTORY_PROJECTION,"bookmark = 0",null,BookmarkColumns.DATE);
    if (c.moveToFirst() && c.getCount() >= MAX_HISTORY_COUNT) {
      for (int i=0; i < TRUNCATE_N_OLDEST; i++) {
        deleteHistoryWhere(cr,"_id = " + c.getInt(TRUNCATE_HISTORY_PROJECTION_ID_INDEX));
        if (!c.moveToNext())         break;
      }
    }
    c.deactivate();
  }
 catch (  IllegalStateException e) {
    Log.e(LOGTAG,"truncateHistory",e);
    return;
  }
}
