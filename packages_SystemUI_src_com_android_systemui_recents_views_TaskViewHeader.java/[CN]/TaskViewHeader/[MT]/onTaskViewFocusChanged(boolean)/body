{
  boolean isRunning=false;
  if (mBackgroundColorAnimator != null) {
    isRunning=mBackgroundColorAnimator.isRunning();
    mBackgroundColorAnimator.removeAllUpdateListeners();
    mBackgroundColorAnimator.cancel();
  }
  if (focused) {
    int secondaryColor=getSecondaryColor(mCurrentPrimaryColor,mCurrentPrimaryColorIsDark);
    int[][] states=new int[][]{new int[]{android.R.attr.state_enabled},new int[]{android.R.attr.state_pressed}};
    int[] newStates=new int[]{android.R.attr.state_enabled,android.R.attr.state_pressed};
    int[] colors=new int[]{secondaryColor,secondaryColor};
    mBackground.setColor(new ColorStateList(states,colors));
    mBackground.setState(newStates);
    int currentColor=mBackgroundColor.getColor();
    int lightPrimaryColor=getSecondaryColor(mCurrentPrimaryColor,mCurrentPrimaryColorIsDark);
    mBackgroundColorAnimator=ValueAnimator.ofObject(new ArgbEvaluator(),lightPrimaryColor,currentColor);
    mBackgroundColorAnimator.addListener(new AnimatorListenerAdapter(){
      @Override public void onAnimationStart(      Animator animation){
        mBackground.setState(new int[]{});
      }
    }
);
    mBackgroundColorAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener(){
      @Override public void onAnimationUpdate(      ValueAnimator animation){
        mBackgroundColor.setColor((Integer)animation.getAnimatedValue());
      }
    }
);
    mBackgroundColorAnimator.setRepeatCount(ValueAnimator.INFINITE);
    mBackgroundColorAnimator.setRepeatMode(ValueAnimator.REVERSE);
    mBackgroundColorAnimator.setStartDelay(750);
    mBackgroundColorAnimator.setDuration(750);
    mBackgroundColorAnimator.start();
  }
 else {
    if (isRunning) {
      int currentColor=mBackgroundColor.getColor();
      mBackgroundColorAnimator=ValueAnimator.ofObject(new ArgbEvaluator(),currentColor,mCurrentPrimaryColor);
      mBackgroundColorAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener(){
        @Override public void onAnimationUpdate(        ValueAnimator animation){
          mBackgroundColor.setColor((Integer)animation.getAnimatedValue());
        }
      }
);
      mBackgroundColorAnimator.setRepeatCount(0);
      mBackgroundColorAnimator.setDuration(150);
      mBackgroundColorAnimator.start();
    }
 else {
      mBackground.setState(new int[]{});
    }
  }
}
