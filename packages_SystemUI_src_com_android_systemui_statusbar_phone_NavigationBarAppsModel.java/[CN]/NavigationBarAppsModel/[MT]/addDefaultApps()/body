{
  final Intent queryIntent=new Intent(Intent.ACTION_MAIN,null);
  queryIntent.addCategory(Intent.CATEGORY_LAUNCHER);
  final int currentUser=getCurrentUser();
  final List<ResolveInfo> apps=mContext.getPackageManager().queryIntentActivitiesAsUser(queryIntent,0,currentUser);
  final int appCount=apps.size();
  for (int i=0; i < NUM_INITIAL_APPS && i < appCount; i++) {
    ResolveInfo ri=apps.get(i);
    ComponentName componentName=new ComponentName(ri.activityInfo.packageName,ri.activityInfo.name);
    mApps.add(new AppInfo(componentName,AppInfo.USER_UNSPECIFIED));
  }
  savePrefs();
}
