{
  SharedPreferences.Editor edit=mPrefs.edit();
  int appCount=mApps.size();
  edit.putInt(userPrefixed(APP_COUNT_PREF),appCount);
  for (int i=0; i < appCount; i++) {
    final AppInfo appInfo=mApps.get(i);
    String componentNameString=appInfo.getComponentName().flattenToString();
    edit.putString(prefNameForApp(i),componentNameString);
    long userSerialNumber=mUserManager.getSerialNumberForUser(appInfo.getUser());
    edit.putLong(prefUserForApp(i),userSerialNumber);
  }
  edit.apply();
}
