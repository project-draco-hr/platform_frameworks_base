{
  if (!validate()) {
    throw new IllegalStateException("Could not acquire hardware rendering context");
  }
  layer.flushChanges();
  return GLES20Canvas.nCopyLayer(layer.getLayer(),bitmap.mNativeBitmap);
}
