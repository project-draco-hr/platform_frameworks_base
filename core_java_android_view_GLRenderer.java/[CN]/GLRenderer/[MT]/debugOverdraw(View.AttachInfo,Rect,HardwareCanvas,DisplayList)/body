{
  if (mDebugOverdraw == OVERDRAW_TYPE_COUNT) {
    if (mDebugOverdrawLayer == null) {
      mDebugOverdrawLayer=createHardwareLayer(mWidth,mHeight,true);
    }
 else     if (mDebugOverdrawLayer.getWidth() != mWidth || mDebugOverdrawLayer.getHeight() != mHeight) {
      mDebugOverdrawLayer.resize(mWidth,mHeight);
    }
    if (!mDebugOverdrawLayer.isValid()) {
      mDebugOverdraw=-1;
      return;
    }
    HardwareCanvas layerCanvas=mDebugOverdrawLayer.start(canvas,dirty);
    countOverdraw(layerCanvas);
    final int restoreCount=layerCanvas.save();
    layerCanvas.drawDisplayList(displayList,null,DisplayList.FLAG_CLIP_CHILDREN);
    layerCanvas.restoreToCount(restoreCount);
    mDebugOverdrawLayer.end(canvas);
    float overdraw=getOverdraw(layerCanvas);
    DisplayMetrics metrics=attachInfo.mRootView.getResources().getDisplayMetrics();
    drawOverdrawCounter(canvas,overdraw,metrics.density);
  }
}
