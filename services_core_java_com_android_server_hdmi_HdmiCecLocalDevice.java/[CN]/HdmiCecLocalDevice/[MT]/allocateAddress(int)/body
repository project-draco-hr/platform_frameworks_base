{
  mController.allocateLogicalAddress(type,mPreferredAddress,new AllocateLogicalAddressCallback(){
    @Override public void onAllocated(    int deviceType,    int logicalAddress){
      mAddress=mPreferredAddress=logicalAddress;
      HdmiCecDeviceInfo deviceInfo=createDeviceInfo(mAddress,deviceType);
      setDeviceInfo(deviceInfo);
      mController.addDeviceInfo(deviceInfo);
      mController.addLogicalAddress(logicalAddress);
    }
  }
);
}
