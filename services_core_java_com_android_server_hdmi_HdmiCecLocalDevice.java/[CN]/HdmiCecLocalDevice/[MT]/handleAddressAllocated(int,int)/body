{
  assertRunOnServiceThread();
  mAddress=mPreferredAddress=logicalAddress;
  onAddressAllocated(logicalAddress,reason);
  setPreferredAddress(logicalAddress);
}
