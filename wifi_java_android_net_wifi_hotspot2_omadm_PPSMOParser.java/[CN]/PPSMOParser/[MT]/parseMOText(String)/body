{
  XMLParser xmlParser=new XMLParser();
  XMLNode root=null;
  try {
    root=xmlParser.parse(xmlString);
  }
 catch (  IOException|SAXException e) {
    return null;
  }
  if (root == null) {
    return null;
  }
  if (root.getTag() != TAG_MANAGEMENT_TREE) {
    Log.e(TAG,"Root is not a MgmtTree");
    return null;
  }
  String verDtd=null;
  PasspointConfiguration config=null;
  for (  XMLNode child : root.getChildren()) {
switch (child.getTag()) {
case TAG_VER_DTD:
      if (verDtd != null) {
        Log.e(TAG,"Duplicate VerDTD element");
        return null;
      }
    verDtd=child.getText();
  break;
case TAG_NODE:
if (config != null) {
  Log.e(TAG,"Unexpected multiple Node element under MgmtTree");
  return null;
}
try {
config=parsePpsNode(child);
}
 catch (ParsingException e) {
Log.e(TAG,e.getMessage());
return null;
}
break;
default :
Log.e(TAG,"Unknown node: " + child.getTag());
return null;
}
}
return config;
}
