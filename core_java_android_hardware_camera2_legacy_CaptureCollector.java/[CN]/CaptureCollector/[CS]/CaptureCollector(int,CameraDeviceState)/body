{
  mMaxInFlight=maxInFlight;
  mJpegCaptureQueue=new ArrayDeque<>(MAX_JPEGS_IN_FLIGHT);
  mJpegProduceQueue=new ArrayDeque<>(MAX_JPEGS_IN_FLIGHT);
  mPreviewCaptureQueue=new ArrayDeque<>(mMaxInFlight);
  mPreviewProduceQueue=new ArrayDeque<>(mMaxInFlight);
  mIsEmpty=mLock.newCondition();
  mNotFull=mLock.newCondition();
  mPreviewsEmpty=mLock.newCondition();
  mDeviceState=deviceState;
}
