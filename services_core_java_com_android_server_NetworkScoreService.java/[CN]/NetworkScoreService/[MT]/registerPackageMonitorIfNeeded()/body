{
  if (DBG)   Log.d(TAG,"registerPackageMonitorIfNeeded");
  NetworkScorerAppData scorer=NetworkScorerAppManager.getActiveScorer(mContext);
synchronized (mPackageMonitorLock) {
    if (mPackageMonitor != null) {
      if (DBG) {
        Log.d(TAG,"Unregistering package monitor for " + mPackageMonitor.mRegisteredPackage);
      }
      mPackageMonitor.unregister();
      mPackageMonitor=null;
    }
    if (scorer != null) {
      mPackageMonitor=new NetworkScorerPackageMonitor(scorer.mPackageName);
      mPackageMonitor.register(mContext,null,UserHandle.SYSTEM,false);
      if (DBG) {
        Log.d(TAG,"Registered package monitor for " + mPackageMonitor.mRegisteredPackage);
      }
    }
  }
}
