{
  long token=Binder.clearCallingIdentity();
  try {
    clearInternal();
    boolean result=NetworkScorerAppManager.setActiveScorer(mContext,packageName);
    if (result) {
      registerPackageReceiverIfNeeded();
      Intent intent=new Intent(NetworkScoreManager.ACTION_SCORER_CHANGED);
      intent.putExtra(NetworkScoreManager.EXTRA_NEW_SCORER,packageName);
      mContext.sendBroadcastAsUser(intent,UserHandle.ALL);
    }
    return result;
  }
  finally {
    Binder.restoreCallingIdentity(token);
  }
}
