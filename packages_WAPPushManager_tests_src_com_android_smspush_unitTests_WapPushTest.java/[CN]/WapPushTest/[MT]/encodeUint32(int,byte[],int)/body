{
  int bit=1;
  int topbit=0;
  int encodeLen;
  int tmpVal;
  assertTrue(uint32Val >= 0);
  for (int i=0; i < 31; i++) {
    if ((bit & uint32Val) > 0)     topbit=i;
    bit=(bit << 1);
  }
  encodeLen=topbit / 7 + 1;
  if (arr == null)   return encodeLen;
  tmpVal=uint32Val;
  for (int i=encodeLen - 1; i >= 0; i--) {
    long val=0;
    if (i < encodeLen - 1)     val=0x80;
    val|=tmpVal & 0x7f;
    arr[start + i]=(byte)(val & 0xFF);
    tmpVal=(tmpVal >> 7);
  }
  return encodeLen;
}
