{
  final Class<?> rClazz;
  try {
    rClazz=cl.loadClass(packageName + ".R");
  }
 catch (  ClassNotFoundException e) {
    Log.i(TAG,"No resource references to update in package " + packageName);
    return;
  }
  final Method callback;
  try {
    callback=rClazz.getMethod("onResourcesLoaded",int.class);
  }
 catch (  NoSuchMethodException e) {
    return;
  }
  Throwable cause;
  try {
    callback.invoke(null,id);
    return;
  }
 catch (  IllegalAccessException e) {
    cause=e;
  }
catch (  InvocationTargetException e) {
    cause=e.getCause();
  }
  throw new RuntimeException("Failed to rewrite resource references for " + packageName,cause);
}
