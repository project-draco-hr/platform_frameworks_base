{
  final int myUid=Process.myUid();
  aInfo=adjustNativeLibraryPaths(aInfo);
  mActivityThread=activityThread;
  mApplicationInfo=aInfo;
  mPackageName=aInfo.packageName;
  mAppDir=aInfo.sourceDir;
  mResDir=aInfo.uid == myUid ? aInfo.sourceDir : aInfo.publicSourceDir;
  mSplitAppDirs=aInfo.splitSourceDirs;
  mSplitResDirs=aInfo.uid == myUid ? aInfo.splitSourceDirs : aInfo.splitPublicSourceDirs;
  mOverlayDirs=aInfo.resourceDirs;
  mSharedLibraries=aInfo.sharedLibraryFiles;
  mDataDir=aInfo.dataDir;
  mDataDirFile=FileUtils.newFileOrNull(mDataDir);
  mDeviceEncryptedDataDirFile=FileUtils.newFileOrNull(aInfo.deviceEncryptedDataDir);
  mCredentialEncryptedDataDirFile=FileUtils.newFileOrNull(aInfo.credentialEncryptedDataDir);
  mLibDir=aInfo.nativeLibraryDir;
  mBaseClassLoader=baseLoader;
  mSecurityViolation=securityViolation;
  mIncludeCode=includeCode;
  mRegisterPackage=registerPackage;
  mDisplayAdjustments.setCompatibilityInfo(compatInfo);
}
