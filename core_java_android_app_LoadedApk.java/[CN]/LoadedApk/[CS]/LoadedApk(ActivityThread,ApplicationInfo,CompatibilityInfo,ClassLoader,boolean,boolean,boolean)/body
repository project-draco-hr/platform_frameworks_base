{
  final int myUid=Process.myUid();
  aInfo=adjustNativeLibraryPaths(aInfo);
  mActivityThread=activityThread;
  mApplicationInfo=aInfo;
  mPackageName=aInfo.packageName;
  mAppDir=aInfo.sourceDir;
  mResDir=aInfo.uid == myUid ? aInfo.sourceDir : aInfo.publicSourceDir;
  mSplitAppDirs=aInfo.splitSourceDirs;
  mSplitResDirs=aInfo.uid == myUid ? aInfo.splitSourceDirs : aInfo.splitPublicSourceDirs;
  mOverlayDirs=aInfo.resourceDirs;
  if (!UserHandle.isSameUser(aInfo.uid,myUid) && !Process.isIsolated()) {
    aInfo.dataDir=PackageManager.getDataDirForUser(UserHandle.getUserId(myUid),mPackageName);
  }
  mSharedLibraries=aInfo.sharedLibraryFiles;
  mDataDir=aInfo.dataDir;
  mDataDirFile=mDataDir != null ? new File(mDataDir) : null;
  mLibDir=aInfo.nativeLibraryDir;
  mBaseClassLoader=baseLoader;
  mSecurityViolation=securityViolation;
  mIncludeCode=includeCode;
  mRegisterPackage=registerPackage;
  mDisplayAdjustments.setCompatibilityInfo(compatInfo);
}
