{
  final long timeNow=SystemClock.elapsedRealtime();
synchronized (this) {
    long endTime=mTempWhitelistAppIdEndTimes.get(uid);
    if (endTime == 0) {
      return;
    }
    if (timeNow >= endTime) {
      mTempWhitelistAppIdEndTimes.delete(uid);
      if (DEBUG) {
        Slog.d(TAG,"Removing UID " + uid + " from temp whitelist");
      }
      updateTempWhitelistAppIdsLocked();
      reportTempWhitelistChangedLocked();
    }
 else {
      postTempActiveTimeoutMessage(uid,endTime - timeNow);
    }
  }
}
