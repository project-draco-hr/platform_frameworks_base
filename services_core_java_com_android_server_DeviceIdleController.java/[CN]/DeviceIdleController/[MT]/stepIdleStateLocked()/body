{
switch (mState) {
case STATE_INACTIVE:
    startMonitoringSignificantMotion();
  scheduleAlarmLocked(DEFAULT_IDLE_AFTER_INACTIVE_TIMEOUT,false);
mNextIdlePendingDelay=DEFAULT_IDLE_PENDING_TIMEOUT;
mNextIdleDelay=DEFAULT_IDLE_TIMEOUT;
mState=STATE_IDLE_PENDING;
break;
case STATE_IDLE_PENDING:
scheduleAlarmLocked(mNextIdleDelay,true);
mNextIdleDelay=(long)(mNextIdleDelay * DEFAULT_IDLE_FACTOR);
if (mNextIdleDelay > DEFAULT_MAX_IDLE_TIMEOUT) {
mNextIdleDelay=DEFAULT_MAX_IDLE_TIMEOUT;
}
mState=STATE_IDLE;
try {
mNetworkPolicyManager.setDeviceIdleMode(true);
mBatteryStats.noteDeviceIdleMode(true,false,false);
}
 catch (RemoteException e) {
}
break;
case STATE_IDLE:
scheduleAlarmLocked(mNextIdlePendingDelay,false);
mNextIdlePendingDelay=(long)(mNextIdlePendingDelay * DEFAULT_IDLE_PENDING_FACTOR);
if (mNextIdlePendingDelay > DEFAULT_MAX_IDLE_PENDING_TIMEOUT) {
mNextIdlePendingDelay=DEFAULT_MAX_IDLE_PENDING_TIMEOUT;
}
mState=STATE_IDLE_PENDING;
try {
mNetworkPolicyManager.setDeviceIdleMode(false);
mBatteryStats.noteDeviceIdleMode(false,false,false);
}
 catch (RemoteException e) {
}
break;
}
}
