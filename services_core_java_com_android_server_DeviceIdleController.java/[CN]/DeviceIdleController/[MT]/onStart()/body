{
  final PackageManager pm=getContext().getPackageManager();
synchronized (this) {
    SystemConfig sysConfig=SystemConfig.getInstance();
    ArraySet<String> allowPower=sysConfig.getAllowInPowerSave();
    for (int i=0; i < allowPower.size(); i++) {
      String pkg=allowPower.valueAt(i);
      try {
        ApplicationInfo ai=pm.getApplicationInfo(pkg,0);
        if ((ai.flags & ApplicationInfo.FLAG_SYSTEM) != 0) {
          mPowerSaveWhitelistApps.put(ai.packageName,UserHandle.getAppId(ai.uid));
        }
      }
 catch (      PackageManager.NameNotFoundException e) {
      }
    }
    mConstants=new Constants(mHandler,getContext().getContentResolver());
    readConfigFileLocked();
    updateWhitelistAppIdsLocked();
    mScreenOn=true;
    mCharging=true;
    mState=STATE_ACTIVE;
    mInactiveTimeout=mConstants.INACTIVE_TIMEOUT;
  }
  publishBinderService(SERVICE_NAME,new BinderService());
}
