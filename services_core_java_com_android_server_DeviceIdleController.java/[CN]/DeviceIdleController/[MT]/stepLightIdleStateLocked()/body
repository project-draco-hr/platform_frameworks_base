{
  if (mLightState == LIGHT_STATE_OVERRIDE) {
    return;
  }
  if (DEBUG)   Slog.d(TAG,"stepLightIdleStateLocked: mLightState=" + mLightState);
  EventLogTags.writeDeviceIdleLightStep();
switch (mLightState) {
case LIGHT_STATE_INACTIVE:
case LIGHT_STATE_IDLE_MAINTENANCE:
    scheduleLightAlarmLocked(mConstants.LIGHT_IDLE_TIMEOUT);
  if (DEBUG)   Slog.d(TAG,"Moved to LIGHT_STATE_IDLE.");
mLightState=LIGHT_STATE_IDLE;
EventLogTags.writeDeviceIdleLight(mLightState,"step");
mHandler.sendEmptyMessage(MSG_REPORT_IDLE_ON_LIGHT);
break;
case LIGHT_STATE_IDLE:
scheduleLightAlarmLocked(mConstants.LIGHT_IDLE_PENDING_TIMEOUT);
if (DEBUG) Slog.d(TAG,"Moved from LIGHT_STATE_IDLE to LIGHT_STATE_IDLE_MAINTENANCE.");
mLightState=LIGHT_STATE_IDLE_MAINTENANCE;
EventLogTags.writeDeviceIdleLight(mLightState,"step");
mHandler.sendEmptyMessage(MSG_REPORT_IDLE_OFF);
break;
}
}
