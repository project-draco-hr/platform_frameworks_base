{
  if (DEBUG)   Slog.i(TAG,"updateChargingLocked: charging=" + charging);
  if (!charging && mCharging) {
    mCharging=false;
    becomeInactiveIfAppropriateLocked();
  }
 else   if (charging) {
    mCharging=charging;
    becomeActiveLocked("charging");
  }
}
