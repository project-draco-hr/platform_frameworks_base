{
{
    final LocaleList preferredLocales=LocaleList.forLanguageTags("en-AU,en-GB,en-US,en,en-IN");
    final ArrayList<Locale> availableLocales=new ArrayList<>();
    availableLocales.add(null);
    final ArrayList<Locale> dest=new ArrayList<>();
    LocaleUtils.filterByLanguage(availableLocales,sIdentityMapper,preferredLocales,dest);
    assertEquals(0,dest.size());
  }
{
    final LocaleList preferredLocales=LocaleList.forLanguageTags("en-AU,en-GB,en-US,en,en-IN");
    final ArrayList<Locale> availableLocales=new ArrayList<>();
    availableLocales.add(null);
    availableLocales.add(null);
    availableLocales.add(null);
    final ArrayList<Locale> dest=new ArrayList<>();
    LocaleUtils.filterByLanguage(availableLocales,sIdentityMapper,preferredLocales,dest);
    assertEquals(0,dest.size());
  }
{
    final LocaleList preferredLocales=LocaleList.forLanguageTags("en-AU,en-GB,en-US,en,en-IN");
    final ArrayList<Locale> availableLocales=new ArrayList<>();
    availableLocales.add(null);
    availableLocales.add(Locale.forLanguageTag("en-US"));
    availableLocales.add(null);
    availableLocales.add(null);
    final ArrayList<Locale> dest=new ArrayList<>();
    LocaleUtils.filterByLanguage(availableLocales,sIdentityMapper,preferredLocales,dest);
    assertEquals(1,dest.size());
    assertEquals(availableLocales.get(1),dest.get(0));
  }
{
    final LocaleList preferredLocales=LocaleList.forLanguageTags("en-AU,en-GB,en-US,en,en-IN");
    final ArrayList<Locale> availableLocales=new ArrayList<>();
    availableLocales.add(null);
    availableLocales.add(Locale.forLanguageTag("en"));
    availableLocales.add(null);
    availableLocales.add(null);
    final ArrayList<Locale> dest=new ArrayList<>();
    LocaleUtils.filterByLanguage(availableLocales,sIdentityMapper,preferredLocales,dest);
    assertEquals(1,dest.size());
    assertEquals(availableLocales.get(1),dest.get(0));
  }
{
    final LocaleList preferredLocales=LocaleList.forLanguageTags("en-AU,en-GB,en-US,en,en-IN");
    final ArrayList<Locale> availableLocales=new ArrayList<>();
    availableLocales.add(null);
    availableLocales.add(Locale.forLanguageTag("ja-JP"));
    availableLocales.add(null);
    availableLocales.add(null);
    final ArrayList<Locale> dest=new ArrayList<>();
    LocaleUtils.filterByLanguage(availableLocales,sIdentityMapper,preferredLocales,dest);
    assertEquals(0,dest.size());
  }
}
