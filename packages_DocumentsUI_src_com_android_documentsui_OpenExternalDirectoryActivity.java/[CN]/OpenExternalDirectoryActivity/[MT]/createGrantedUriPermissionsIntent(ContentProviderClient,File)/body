{
  final Bundle bundle;
  try {
    bundle=provider.call("getDocIdForFileCreateNewDir",file.getPath(),null);
  }
 catch (  RemoteException e) {
    Log.e(TAG,"Did not get doc id from External Storage provider for " + file,e);
    return null;
  }
  final String docId=bundle == null ? null : bundle.getString("DOC_ID");
  if (docId == null) {
    Log.e(TAG,"Did not get doc id from External Storage provider for " + file);
    return null;
  }
  Log.d(TAG,"doc id for " + file + ": "+ docId);
  final Uri uri=DocumentsContract.buildTreeDocumentUri(EXTERNAL_STORAGE_AUTH,docId);
  if (uri == null) {
    Log.e(TAG,"Could not get URI for doc id " + docId);
    return null;
  }
  if (DEBUG)   Log.d(TAG,"URI for " + file + ": "+ uri);
  final Intent intent=new Intent();
  intent.setData(uri);
  intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION| Intent.FLAG_GRANT_PREFIX_URI_PERMISSION);
  return intent;
}
