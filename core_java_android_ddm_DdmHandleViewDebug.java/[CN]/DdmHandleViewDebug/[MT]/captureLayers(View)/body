{
  ByteArrayOutputStream b=new ByteArrayOutputStream(1024);
  DataOutputStream dos=new DataOutputStream(b);
  try {
    ViewDebug.captureLayers(rootView,dos);
  }
 catch (  IOException e) {
    return createFailChunk(1,"Unexpected error while obtaining view hierarchy: " + e.getMessage());
  }
 finally {
    try {
      dos.close();
    }
 catch (    IOException e) {
    }
  }
  byte[] data=b.toByteArray();
  return new Chunk(CHUNK_VURT,data,0,data.length);
}
