{
  StatusBarIconList iconList=new StatusBarIconList();
  mBarService=IStatusBarService.Stub.asInterface(ServiceManager.getService(Context.STATUS_BAR_SERVICE));
  try {
    mBarService.registerStatusBar(mCommandQueue,iconList);
  }
 catch (  RemoteException ex) {
  }
  mCommandQueue=new CommandQueue(this,iconList);
  final int N=iconList.size();
  int viewIndex=0;
  for (int i=0; i < N; i++) {
    StatusBarIcon icon=iconList.getIcon(i);
    if (icon != null) {
      addIcon(iconList.getSlot(i),i,viewIndex,icon);
      viewIndex++;
    }
  }
  addStatusBarView();
}
