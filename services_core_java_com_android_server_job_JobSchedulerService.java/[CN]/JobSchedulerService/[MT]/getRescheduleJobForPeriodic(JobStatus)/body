{
  final long elapsedNow=SystemClock.elapsedRealtime();
  long runEarly=0L;
  if (periodicToReschedule.hasDeadlineConstraint()) {
    runEarly=Math.max(periodicToReschedule.getLatestRunTimeElapsed() - elapsedNow,0L);
  }
  long newEarliestRunTimeElapsed=elapsedNow + runEarly;
  long period=periodicToReschedule.getJob().getIntervalMillis();
  long newLatestRuntimeElapsed=newEarliestRunTimeElapsed + period;
  if (DEBUG) {
    Slog.v(TAG,"Rescheduling executed periodic. New execution window [" + newEarliestRunTimeElapsed / 1000 + ", " + newLatestRuntimeElapsed / 1000 + "]s");
  }
  return new JobStatus(periodicToReschedule,newEarliestRunTimeElapsed,newLatestRuntimeElapsed,0);
}
