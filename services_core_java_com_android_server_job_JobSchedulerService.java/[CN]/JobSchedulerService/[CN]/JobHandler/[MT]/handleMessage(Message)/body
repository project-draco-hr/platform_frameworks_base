{
synchronized (mLock) {
    if (!mReadyToRock) {
      return;
    }
  }
switch (message.what) {
case MSG_JOB_EXPIRED:
synchronized (mLock) {
      JobStatus runNow=(JobStatus)message.obj;
      if (runNow != null && !mPendingJobs.contains(runNow) && mJobs.containsJob(runNow)) {
        mJobPackageTracker.notePending(runNow);
        mPendingJobs.add(runNow);
      }
      queueReadyJobsForExecutionLockedH();
    }
  break;
case MSG_CHECK_JOB:
synchronized (mLock) {
  if (mReportedActive) {
    queueReadyJobsForExecutionLockedH();
  }
 else {
    maybeQueueReadyJobsForExecutionLockedH();
  }
}
break;
case MSG_CHECK_JOB_GREEDY:
synchronized (mLock) {
queueReadyJobsForExecutionLockedH();
}
break;
case MSG_STOP_JOB:
cancelJobImpl((JobStatus)message.obj,null);
break;
}
maybeRunPendingJobsH();
removeMessages(MSG_CHECK_JOB);
}
