{
  if (sConnection == null) {
    IEventListener listener=new IEventListener.Stub(){
      public void setConnection(      IAccessibilityServiceConnection connection) throws RemoteException {
        AccessibilityServiceInfo info=new AccessibilityServiceInfo();
        info.eventTypes=AccessibilityEvent.TYPES_ALL_MASK;
        info.feedbackType=AccessibilityServiceInfo.FEEDBACK_SPOKEN;
        info.notificationTimeout=0;
        info.flags=AccessibilityServiceInfo.DEFAULT;
        connection.setServiceInfo(info);
      }
      public void onInterrupt(){
      }
      public void onAccessibilityEvent(      AccessibilityEvent event){
        if (event.getEventType() == AccessibilityEvent.TYPE_VIEW_FOCUSED) {
          sLastFocusAccessibilityEvent=AccessibilityEvent.obtain(event);
        }
synchronized (sConnection) {
          sConnection.notifyAll();
        }
      }
    }
;
    IAccessibilityManager manager=IAccessibilityManager.Stub.asInterface(ServiceManager.getService(Context.ACCESSIBILITY_SERVICE));
    sConnection=manager.registerEventListener(listener);
  }
  return sConnection;
}
