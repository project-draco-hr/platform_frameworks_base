{
  mRoots.clear();
{
    final DocumentRoot root=new DocumentRoot();
    root.rootType=DocumentRoot.ROOT_TYPE_SHORTCUT;
    root.docId=null;
    root.icon=R.drawable.ic_dir;
    root.title=mContext.getString(R.string.root_recent);
    root.summary=null;
    root.availableBytes=-1;
    mRoots.add(root);
    mRecentsRoot=root;
  }
  final ContentResolver resolver=mContext.getContentResolver();
  final PackageManager pm=mContext.getPackageManager();
  final List<ProviderInfo> providers=pm.queryContentProviders(null,-1,PackageManager.GET_META_DATA);
  for (  ProviderInfo info : providers) {
    if (info.metaData != null && info.metaData.containsKey(DocumentsContract.META_DATA_DOCUMENT_PROVIDER)) {
      final ContentProviderClient client=resolver.acquireUnstableContentProviderClient(info.authority);
      try {
        final List<DocumentRoot> roots=DocumentsContract.getDocumentRoots(client);
        for (        DocumentRoot root : roots) {
          root.authority=info.authority;
        }
        mRoots.addAll(roots);
      }
 catch (      Exception e) {
        Log.w(TAG,"Failed to load some roots from " + info.authority + ": "+ e);
      }
 finally {
        ContentProviderClient.closeQuietly(client);
      }
    }
  }
}
