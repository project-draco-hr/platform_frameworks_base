{
  mProviders.clear();
  mRoots.clear();
  mRootsList.clear();
{
    final Root root=Root.buildRecents(mContext);
    mRootsList.add(root);
    mRecentsRoot=root;
  }
  final PackageManager pm=mContext.getPackageManager();
  final List<ProviderInfo> providers=pm.queryContentProviders(null,-1,PackageManager.GET_META_DATA);
  for (  ProviderInfo providerInfo : providers) {
    if (providerInfo.metaData != null && providerInfo.metaData.containsKey(DocumentsContract.META_DATA_DOCUMENT_PROVIDER)) {
      final DocumentsProviderInfo info=DocumentsProviderInfo.parseInfo(mContext,providerInfo);
      if (info == null) {
        Log.w(TAG,"Missing info for " + providerInfo);
        continue;
      }
      mProviders.put(info.providerInfo.authority,info);
      try {
        final Uri uri=DocumentsContract.buildRootsUri(providerInfo.authority);
        final Cursor cursor=mContext.getContentResolver().query(uri,null,null,null,null);
        try {
          while (cursor.moveToNext()) {
            final Root root=Root.fromCursor(mContext,info,cursor);
            mRoots.put(Pair.create(info.providerInfo.authority,root.rootId),root);
            mRootsList.add(root);
          }
        }
  finally {
          cursor.close();
        }
      }
 catch (      Exception e) {
        Log.w(TAG,"Failed to load some roots from " + info.providerInfo.authority + ": "+ e);
      }
    }
  }
}
