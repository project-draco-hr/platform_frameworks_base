{
  NetworkInfo info=(NetworkInfo)(intent.getParcelableExtra(ConnectivityManager.EXTRA_NETWORK_INFO));
  int connectionStatus=intent.getIntExtra(ConnectivityManager.EXTRA_INET_CONDITION,0);
  Slog.d(TAG,"got CONNECTIVITY_ACTION - info=" + info + ", status = "+ connectionStatus);
  if (info.isConnected() == false)   return;
switch (info.getType()) {
case ConnectivityManager.TYPE_MOBILE:
    if (info.isConnected()) {
      updateDataNetType(info.getSubtype(),connectionStatus);
      updateDataIcon();
    }
  break;
case ConnectivityManager.TYPE_WIFI:
if (info.isConnected()) {
  mIsWifiConnected=true;
  mLastWifiInetConnectivityState=(connectionStatus > INET_CONDITION_THRESHOLD ? 1 : 0);
  int iconId;
  if (mLastWifiSignalLevel == -1) {
    iconId=sWifiSignalImages[mLastWifiInetConnectivityState][0];
  }
 else {
    iconId=sWifiSignalImages[mLastWifiInetConnectivityState][mLastWifiSignalLevel];
  }
  mService.setIcon("wifi",iconId,0);
  mService.setIconVisibility("wifi",true);
}
 else {
  mLastWifiSignalLevel=-1;
  mIsWifiConnected=false;
  mLastWifiInetConnectivityState=0;
  int iconId=sWifiSignalImages[0][0];
  mService.setIcon("wifi",iconId,0);
  mService.setIconVisibility("wifi",false);
}
break;
}
}
