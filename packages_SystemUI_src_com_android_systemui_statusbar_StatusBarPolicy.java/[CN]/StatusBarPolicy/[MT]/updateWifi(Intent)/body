{
  final String action=intent.getAction();
  if (action.equals(WifiManager.WIFI_STATE_CHANGED_ACTION)) {
    final boolean enabled=intent.getIntExtra(WifiManager.EXTRA_WIFI_STATE,WifiManager.WIFI_STATE_UNKNOWN) == WifiManager.WIFI_STATE_ENABLED;
    if (!enabled) {
      mService.setIconVisibility("wifi",false);
    }
  }
 else   if (action.equals(WifiManager.SUPPLICANT_CONNECTION_CHANGE_ACTION)) {
    final boolean enabled=intent.getBooleanExtra(WifiManager.EXTRA_SUPPLICANT_CONNECTED,false);
    if (!enabled) {
      mService.setIconVisibility("wifi",false);
    }
  }
 else   if (action.equals(WifiManager.RSSI_CHANGED_ACTION)) {
    int iconId;
    final int newRssi=intent.getIntExtra(WifiManager.EXTRA_NEW_RSSI,-200);
    int newSignalLevel=WifiManager.calculateSignalLevel(newRssi,sWifiSignalImages[0].length);
    if (newSignalLevel != mLastWifiSignalLevel) {
      mLastWifiSignalLevel=newSignalLevel;
      if (mIsWifiConnected) {
        iconId=sWifiSignalImages[mInetCondition][newSignalLevel];
      }
 else {
        iconId=sWifiTemporarilyNotConnectedImage;
      }
      mService.setIcon("wifi",iconId,0);
    }
  }
}
