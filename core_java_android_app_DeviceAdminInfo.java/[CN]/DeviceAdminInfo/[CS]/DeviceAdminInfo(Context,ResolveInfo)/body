{
  mReceiver=receiver;
  ActivityInfo ai=receiver.activityInfo;
  PackageManager pm=context.getPackageManager();
  XmlResourceParser parser=null;
  try {
    parser=ai.loadXmlMetaData(pm,DeviceAdmin.DEVICE_ADMIN_META_DATA);
    if (parser == null) {
      throw new XmlPullParserException("No " + DeviceAdmin.DEVICE_ADMIN_META_DATA + " meta-data");
    }
    AttributeSet attrs=Xml.asAttributeSet(parser);
    int type;
    while ((type=parser.next()) != XmlPullParser.END_DOCUMENT && type != XmlPullParser.START_TAG) {
    }
    String nodeName=parser.getName();
    if (!"device-admin".equals(nodeName)) {
      throw new XmlPullParserException("Meta-data does not start with device-admin tag");
    }
    TypedArray sa=context.getResources().obtainAttributes(attrs,com.android.internal.R.styleable.Wallpaper);
    sa.recycle();
  }
  finally {
    if (parser != null)     parser.close();
  }
}
