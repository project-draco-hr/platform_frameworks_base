{
  final TernaryExpr parsed=parse("a > b ? 5 : 4",TernaryExpr.class);
  assertEquals(6,mParser.getModel().size());
  assertTrue(parsed.getPred() instanceof ComparisonExpr);
  assertTrue(parsed.getIfTrue() instanceof SymbolExpr);
  assertTrue(parsed.getIfFalse() instanceof SymbolExpr);
  ComparisonExpr pred=(ComparisonExpr)parsed.getPred();
  SymbolExpr ifTrue=(SymbolExpr)parsed.getIfTrue();
  SymbolExpr ifFalse=(SymbolExpr)parsed.getIfFalse();
  assertEquals("5",ifTrue.getText());
  assertEquals("4",ifFalse.getText());
  assertEquals(1,parsed.getDependencies().size());
  for (  Dependency dependency : parsed.getDependencies()) {
    assertEquals(dependency.getOther() != pred,dependency.isConditional());
  }
}
