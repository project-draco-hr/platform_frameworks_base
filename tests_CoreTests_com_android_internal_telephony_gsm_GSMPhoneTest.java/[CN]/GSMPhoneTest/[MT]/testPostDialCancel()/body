{
  Message msg;
  AsyncResult ar;
  Connection cn;
  mGSMPhone.dial("+13125551212,N");
  mRadioControl.progressConnectingToActive();
  mRadioControl.progressConnectingToActive();
  do {
    msg=mTestHandler.getNextMessage();
  }
 while (msg.what != EVENT_POST_DIAL);
  assertEquals(',',msg.arg1);
  do {
    msg=mTestHandler.getNextMessage();
  }
 while (msg.what != EVENT_POST_DIAL);
  assertEquals('N',msg.arg1);
  ar=(AsyncResult)(msg.obj);
  cn=(Connection)(ar.result);
  assertEquals(Connection.PostDialState.WILD,cn.getPostDialState());
  cn.cancelPostDial();
  assertEquals(Connection.PostDialState.CANCELLED,cn.getPostDialState());
}
