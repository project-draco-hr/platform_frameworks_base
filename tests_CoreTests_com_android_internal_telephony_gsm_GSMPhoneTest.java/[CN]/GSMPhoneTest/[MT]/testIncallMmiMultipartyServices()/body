{
  mGSMPhone.dial("13125551212");
  do {
    mRadioControl.progressConnectingCallState();
    assertNotNull("Message Time Out",mGSMTestHandler.waitForMessage(ANY_MESSAGE));
  }
 while (mGSMPhone.getForegroundCall().getState() != Call.State.ACTIVE);
  assertEquals(Call.State.ACTIVE,mGSMPhone.getForegroundCall().getState());
  assertEquals(Call.State.IDLE,mGSMPhone.getBackgroundCall().getState());
  mGSMPhone.dial("18005551212");
  do {
    mRadioControl.progressConnectingCallState();
    assertNotNull("Message Time Out",mGSMTestHandler.waitForMessage(ANY_MESSAGE));
  }
 while (mGSMPhone.getForegroundCall().getState() != Call.State.ACTIVE);
  assertEquals(Call.State.ACTIVE,mGSMPhone.getForegroundCall().getState());
  assertEquals(Call.State.HOLDING,mGSMPhone.getBackgroundCall().getState());
  mGSMPhone.handleInCallMmiCommands("3");
  do {
    assertNotNull("Message Time Out",mGSMTestHandler.waitForMessage(ANY_MESSAGE));
  }
 while (mGSMPhone.getBackgroundCall().getState() != Call.State.IDLE);
  assertEquals(Phone.State.OFFHOOK,mGSMPhone.getState());
  assertEquals(Call.State.ACTIVE,mGSMPhone.getForegroundCall().getState());
  assertEquals("18005551212",mGSMPhone.getForegroundCall().getConnections().get(0).getAddress());
  assertEquals("13125551212",mGSMPhone.getForegroundCall().getConnections().get(1).getAddress());
  assertEquals(Call.State.IDLE,mGSMPhone.getBackgroundCall().getState());
}
