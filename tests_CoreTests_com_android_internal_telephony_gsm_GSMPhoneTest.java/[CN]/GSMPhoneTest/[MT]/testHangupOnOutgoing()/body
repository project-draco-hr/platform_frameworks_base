{
  Connection cn;
  Message msg;
  mRadioControl.setAutoProgressConnectingCall(false);
  mGSMPhone.dial("+13125551212");
  do {
    assertNotNull("Message Time Out",mGSMTestHandler.waitForMessage(ANY_MESSAGE));
  }
 while (mGSMPhone.getForegroundCall().getState() != Call.State.DIALING);
  cn=mGSMPhone.getForegroundCall().getEarliestConnection();
  mGSMPhone.getForegroundCall().hangup();
  msg=mGSMTestHandler.waitForMessage(EVENT_DISCONNECT);
  assertNotNull("Message Time Out",msg);
  assertEquals(Phone.State.IDLE,mGSMPhone.getState());
  assertEquals(Call.State.DISCONNECTED,mGSMPhone.getForegroundCall().getState());
  assertEquals(Connection.DisconnectCause.LOCAL,cn.getDisconnectCause());
  mGSMPhone.dial("+13125551212");
  do {
    assertNotNull("Message Time Out",mGSMTestHandler.waitForMessage(ANY_MESSAGE));
  }
 while (mGSMPhone.getState() != Phone.State.OFFHOOK);
  mRadioControl.progressConnectingCallState();
  do {
    assertNotNull("Message Time Out",mGSMTestHandler.waitForMessage(ANY_MESSAGE));
  }
 while (mGSMPhone.getForegroundCall().getState() != Call.State.ALERTING);
  cn=mGSMPhone.getForegroundCall().getEarliestConnection();
  mGSMPhone.getForegroundCall().hangup();
  msg=mGSMTestHandler.waitForMessage(EVENT_DISCONNECT);
  assertNotNull("Message Time Out",msg);
  assertEquals(Phone.State.IDLE,mGSMPhone.getState());
  assertEquals(Call.State.DISCONNECTED,mGSMPhone.getForegroundCall().getState());
  assertEquals(Connection.DisconnectCause.LOCAL,cn.getDisconnectCause());
  mRadioControl.pauseResponses();
  cn=mGSMPhone.dial("+13125551212");
  cn.hangup();
  mRadioControl.resumeResponses();
  msg=mGSMTestHandler.waitForMessage(EVENT_DISCONNECT);
  assertNotNull("Message Time Out",msg);
  assertEquals(Phone.State.IDLE,mGSMPhone.getState());
  assertEquals(Call.State.DISCONNECTED,mGSMPhone.getForegroundCall().getState());
  assertEquals(Connection.DisconnectCause.LOCAL,mGSMPhone.getForegroundCall().getEarliestConnection().getDisconnectCause());
}
