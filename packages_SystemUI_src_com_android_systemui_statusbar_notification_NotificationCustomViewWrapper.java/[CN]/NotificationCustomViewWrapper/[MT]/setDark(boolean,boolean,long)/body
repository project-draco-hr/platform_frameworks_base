{
  if (dark == mDark && mDarkInitialized) {
    return;
  }
  super.setDark(dark,fade,delay);
  if (!mShowingLegacyBackground && mShouldInvertDark) {
    if (fade) {
      mInvertHelper.fade(dark,delay);
    }
 else {
      mInvertHelper.update(dark);
    }
  }
 else {
    mView.setLayerType(dark ? View.LAYER_TYPE_HARDWARE : View.LAYER_TYPE_NONE,null);
    if (fade) {
      fadeGrayscale(dark,delay);
    }
 else {
      updateGrayscale(dark);
    }
  }
}
