{
  if (--pendingEvent.referenceCount > 0) {
    return false;
  }
  mKeyEventTimeoutHandler.removeMessages(MSG_ON_KEY_EVENT_TIMEOUT,pendingEvent);
  if (!pendingEvent.handled) {
    if (DEBUG) {
      Slog.i(LOG_TAG,"Injecting event: " + pendingEvent.event);
    }
    if (mSentEventsVerifier != null) {
      mSentEventsVerifier.onKeyEvent(pendingEvent.event,0);
    }
    int policyFlags=pendingEvent.policyFlags | WindowManagerPolicy.FLAG_PASS_TO_USER;
    mHandlerToSendKeyEventsToInputFilter.obtainMessage(mMessageTypeForSendKeyEvent,policyFlags,0,pendingEvent.event).sendToTarget();
  }
 else {
    pendingEvent.event.recycle();
  }
  mPendingEventPool.release(pendingEvent);
  return true;
}
