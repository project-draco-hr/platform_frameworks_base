{
  File f=new File(datapath);
  if (f.exists() == false) {
    f.mkdirs();
  }
  String filename=datapath + File.separator + "gestures.xml";
  Log.v(LOGTAG,"save to " + filename);
  BufferedOutputStream fos=new BufferedOutputStream(new FileOutputStream(filename));
  PrintWriter writer=new PrintWriter(fos);
  XmlSerializer serializer=Xml.newSerializer();
  serializer.setOutput(writer);
  serializer.startDocument(Encoding.ISO_8859_1.name(),null);
  serializer.startTag(namespace,"gestures");
  Iterator<String> it=name2gestures.keySet().iterator();
  while (it.hasNext()) {
    String key=it.next();
    ArrayList<Gesture> gestures=name2gestures.get(key);
    saveGestures(serializer,key,gestures);
  }
  serializer.endTag(namespace,"gestures");
  serializer.endDocument();
  serializer.flush();
  writer.close();
  fos.close();
}
