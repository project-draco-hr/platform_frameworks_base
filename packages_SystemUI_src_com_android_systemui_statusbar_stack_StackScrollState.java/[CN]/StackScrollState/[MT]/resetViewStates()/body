{
  int numChildren=mHostView.getChildCount();
  for (int i=0; i < numChildren; i++) {
    ExpandableView child=(ExpandableView)mHostView.getChildAt(i);
    ViewState viewState=mStateMap.get(child);
    if (viewState == null) {
      viewState=new ViewState();
      mStateMap.put(child,viewState);
    }
    viewState.height=child.getIntrinsicHeight();
    viewState.gone=child.getVisibility() == View.GONE;
    viewState.alpha=1;
    viewState.notGoneIndex=-1;
  }
}
