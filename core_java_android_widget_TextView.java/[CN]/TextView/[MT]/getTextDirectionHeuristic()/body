{
  if (hasPasswordTransformationMethod()) {
    return TextDirectionHeuristics.LOCALE;
  }
  final boolean defaultIsRtl=(getLayoutDirection() == LAYOUT_DIRECTION_RTL);
  int textDir=getResolvedTextDirection();
switch (textDir) {
default :
case TEXT_DIRECTION_FIRST_STRONG:
    return (defaultIsRtl ? TextDirectionHeuristics.FIRSTSTRONG_RTL : TextDirectionHeuristics.FIRSTSTRONG_LTR);
case TEXT_DIRECTION_ANY_RTL:
  return TextDirectionHeuristics.ANYRTL_LTR;
case TEXT_DIRECTION_LTR:
return TextDirectionHeuristics.LTR;
case TEXT_DIRECTION_RTL:
return TextDirectionHeuristics.RTL;
case TEXT_DIRECTION_LOCALE:
return TextDirectionHeuristics.LOCALE;
}
}
