{
  if (mInput != null)   return;
  if (compressText(getWidth() - getCompoundPaddingLeft() - getCompoundPaddingRight())) {
    return;
  }
  if ((mMarquee == null || mMarquee.isStopped()) && (isFocused() || isSelected()) && getLineCount() == 1 && canMarquee()) {
    if (mMarqueeFadeMode == MARQUEE_FADE_SWITCH_SHOW_ELLIPSIS) {
      mMarqueeFadeMode=MARQUEE_FADE_SWITCH_SHOW_FADE;
      final Layout tmp=mLayout;
      mLayout=mSavedMarqueeModeLayout;
      mSavedMarqueeModeLayout=tmp;
      setHorizontalFadingEdgeEnabled(true);
      requestLayout();
      invalidate();
    }
    if (mMarquee == null)     mMarquee=new Marquee(this);
    mMarquee.start(mMarqueeRepeatLimit);
  }
}
