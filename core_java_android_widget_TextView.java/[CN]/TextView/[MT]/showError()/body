{
  if (getWindowToken() == null) {
    getEditor().mShowErrorAfterAttach=true;
    return;
  }
  if (getEditor().mErrorPopup == null) {
    LayoutInflater inflater=LayoutInflater.from(getContext());
    final TextView err=(TextView)inflater.inflate(com.android.internal.R.layout.textview_hint,null);
    final float scale=getResources().getDisplayMetrics().density;
    getEditor().mErrorPopup=new ErrorPopup(err,(int)(200 * scale + 0.5f),(int)(50 * scale + 0.5f));
    getEditor().mErrorPopup.setFocusable(false);
    getEditor().mErrorPopup.setInputMethodMode(PopupWindow.INPUT_METHOD_NEEDED);
  }
  TextView tv=(TextView)getEditor().mErrorPopup.getContentView();
  chooseSize(getEditor().mErrorPopup,getEditor().mError,tv);
  tv.setText(getEditor().mError);
  getEditor().mErrorPopup.showAsDropDown(this,getErrorX(),getErrorY());
  getEditor().mErrorPopup.fixDirection(getEditor().mErrorPopup.isAboveAnchor());
}
