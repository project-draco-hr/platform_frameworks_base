{
  setKeyListenerOnly(input);
  fixFocusableAndClickableSettings();
  if (input != null) {
    try {
      mInputType=mInput.getInputType();
    }
 catch (    IncompatibleClassChangeError e) {
      mInputType=EditorInfo.TYPE_CLASS_TEXT;
    }
    if ((mInputType & EditorInfo.TYPE_MASK_CLASS) == EditorInfo.TYPE_CLASS_TEXT) {
      if (mSingleLine) {
        mInputType&=~EditorInfo.TYPE_TEXT_FLAG_MULTI_LINE;
      }
 else {
        mInputType|=EditorInfo.TYPE_TEXT_FLAG_MULTI_LINE;
      }
    }
  }
 else {
    mInputType=EditorInfo.TYPE_NULL;
  }
  InputMethodManager imm=InputMethodManager.peekInstance();
  if (imm != null)   imm.restartInput(this);
}
