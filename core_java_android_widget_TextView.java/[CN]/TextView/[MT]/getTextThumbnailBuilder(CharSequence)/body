{
  TextView thumbnail=(TextView)inflate(mContext,com.android.internal.R.layout.text_drag_thumbnail,null);
  if (thumbnail == null) {
    throw new IllegalArgumentException("Unable to inflate text drag thumbnail");
  }
  if (text.length() > DRAG_THUMBNAIL_MAX_TEXT_LENGTH) {
    text=text.subSequence(0,DRAG_THUMBNAIL_MAX_TEXT_LENGTH);
  }
  thumbnail.setText(text);
  thumbnail.setTextColor(getTextColors());
  thumbnail.setTextAppearance(mContext,R.styleable.Theme_textAppearanceLarge);
  thumbnail.setGravity(Gravity.CENTER);
  thumbnail.setLayoutParams(new LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT));
  final int size=View.MeasureSpec.makeMeasureSpec(0,View.MeasureSpec.UNSPECIFIED);
  thumbnail.measure(size,size);
  thumbnail.layout(0,0,thumbnail.getMeasuredWidth(),thumbnail.getMeasuredHeight());
  thumbnail.invalidate();
  return new DragThumbnailBuilder(thumbnail);
}
