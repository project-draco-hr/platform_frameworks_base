{
  if (keyCode == KeyEvent.KEYCODE_BACK) {
    boolean areSuggestionsShown=areSuggestionsShown();
    boolean isInSelectionMode=mSelectionActionMode != null;
    if (areSuggestionsShown || isInSelectionMode) {
      if (event.getAction() == KeyEvent.ACTION_DOWN && event.getRepeatCount() == 0) {
        KeyEvent.DispatcherState state=getKeyDispatcherState();
        if (state != null) {
          state.startTracking(event,this);
        }
        return true;
      }
 else       if (event.getAction() == KeyEvent.ACTION_UP) {
        KeyEvent.DispatcherState state=getKeyDispatcherState();
        if (state != null) {
          state.handleUpEvent(event);
        }
        if (event.isTracking() && !event.isCanceled()) {
          if (areSuggestionsShown) {
            hideSuggestions();
            return true;
          }
          if (isInSelectionMode) {
            stopSelectionActionMode();
            return true;
          }
        }
      }
    }
  }
  return super.onKeyPreIme(keyCode,event);
}
