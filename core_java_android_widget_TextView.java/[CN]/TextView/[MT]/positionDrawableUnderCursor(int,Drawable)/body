{
  final int drawableWidth=drawable.getIntrinsicWidth();
  final int drawableHeight=drawable.getIntrinsicHeight();
  final int line=mLayout.getLineForOffset(offset);
  final Rect bounds=sCursorControllerTempRect;
  bounds.left=(int)(mLayout.getPrimaryHorizontal(offset) - 0.5 - drawableWidth / 2.0);
  bounds.top=mLayout.getLineTop(line + 1);
  if (line == mLayout.getLineCount() - 1) {
    bounds.top-=Math.max(0,drawableHeight / 2 - getExtendedPaddingBottom());
  }
  bounds.right=bounds.left + drawableWidth;
  bounds.bottom=bounds.top + drawableHeight;
  convertFromViewportToContentCoordinates(bounds);
  drawable.setBounds(bounds);
  postInvalidate(bounds.left,bounds.top,bounds.right,bounds.bottom);
}
