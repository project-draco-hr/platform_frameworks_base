{
switch (action) {
case AccessibilityNodeInfo.ACTION_COPY:
{
      if (isFocused() && canCopy()) {
        if (onTextContextMenuItem(ID_COPY)) {
          notifyAccessibilityStateChanged();
          return true;
        }
      }
    }
  return false;
case AccessibilityNodeInfo.ACTION_PASTE:
{
  if (isFocused() && canPaste()) {
    if (onTextContextMenuItem(ID_PASTE)) {
      notifyAccessibilityStateChanged();
      return true;
    }
  }
}
return false;
case AccessibilityNodeInfo.ACTION_CUT:
{
if (isFocused() && canCut()) {
if (onTextContextMenuItem(ID_CUT)) {
  notifyAccessibilityStateChanged();
  return true;
}
}
}
return false;
case AccessibilityNodeInfo.ACTION_SET_SELECTION:
{
if (isFocused() && canSelectText()) {
CharSequence text=getIterableTextForAccessibility();
if (text == null) {
return false;
}
final int start=(arguments != null) ? arguments.getInt(AccessibilityNodeInfo.ACTION_ARGUMENT_SELECTION_START_INT,-1) : -1;
final int end=(arguments != null) ? arguments.getInt(AccessibilityNodeInfo.ACTION_ARGUMENT_SELECTION_END_INT,-1) : -1;
if ((getSelectionStart() != start || getSelectionEnd() != end)) {
if (start == end && end == -1) {
Selection.removeSelection((Spannable)text);
notifyAccessibilityStateChanged();
return true;
}
if (start >= 0 && start <= end && end <= text.length()) {
Selection.setSelection((Spannable)text,start,end);
if (mEditor != null) {
  mEditor.startSelectionActionMode();
}
notifyAccessibilityStateChanged();
return true;
}
}
}
}
return false;
default :
{
return super.performAccessibilityAction(action,arguments);
}
}
}
