{
  final int[] drawableState=super.onCreateDrawableState(extraSpace + 1);
  if (!mSingleLine) {
    mergeDrawableStates(drawableState,MULTILINE_STATE_SET);
  }
  if (mTextIsSelectable) {
    final int length=drawableState.length;
    for (int i=0; i < length; i++) {
      if (drawableState[i] == R.attr.state_pressed) {
        final int[] nonPressedState=new int[length - 1];
        System.arraycopy(drawableState,0,nonPressedState,0,i);
        System.arraycopy(drawableState,i + 1,nonPressedState,i,length - i - 1);
        return nonPressedState;
      }
    }
  }
  return drawableState;
}
