{
  invalidate();
  int curs=Selection.getSelectionStart(buffer);
  if (curs >= 0 || (mGravity & Gravity.VERTICAL_GRAVITY_MASK) == Gravity.BOTTOM) {
    registerForPreDraw();
  }
  if (curs >= 0) {
    mHighlightPathBogus=true;
    if (isFocused()) {
      mShowCursor=SystemClock.uptimeMillis();
      makeBlink();
    }
  }
  checkForResize();
  sendOnTextChanged(buffer,start,before,after);
  onTextChanged(buffer,start,before,after);
}
