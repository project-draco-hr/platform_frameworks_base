{
  int wid=tv.getPaddingLeft() + tv.getPaddingRight();
  int ht=tv.getPaddingTop() + tv.getPaddingBottom();
  int cap=getWidth() - wid;
  if (cap < 0) {
    cap=200;
  }
  Layout l=new StaticLayout(text,tv.getPaint(),cap,Layout.Alignment.ALIGN_NORMAL,1,0,true);
  float max=0;
  for (int i=0; i < l.getLineCount(); i++) {
    max=Math.max(max,l.getLineWidth(i));
  }
  pop.setWidth(wid + (int)Math.ceil(max));
  pop.setHeight(ht + l.getHeight());
}
