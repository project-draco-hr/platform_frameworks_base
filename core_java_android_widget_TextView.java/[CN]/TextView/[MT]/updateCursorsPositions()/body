{
  if (mCursorDrawableRes == 0) {
    getEditor().mCursorCount=0;
    return;
  }
  final int offset=getSelectionStart();
  final int line=mLayout.getLineForOffset(offset);
  final int top=mLayout.getLineTop(line);
  final int bottom=mLayout.getLineTop(line + 1);
  getEditor().mCursorCount=mLayout.isLevelBoundary(offset) ? 2 : 1;
  int middle=bottom;
  if (getEditor().mCursorCount == 2) {
    middle=(top + bottom) >> 1;
  }
  updateCursorPosition(0,top,middle,mLayout.getPrimaryHorizontal(offset));
  if (getEditor().mCursorCount == 2) {
    updateCursorPosition(1,middle,bottom,mLayout.getSecondaryHorizontal(offset));
  }
}
