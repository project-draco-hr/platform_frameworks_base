{
  setInputType(type,false);
  if ((type & (EditorInfo.TYPE_MASK_CLASS | EditorInfo.TYPE_MASK_VARIATION)) == (EditorInfo.TYPE_CLASS_TEXT | EditorInfo.TYPE_TEXT_VARIATION_PASSWORD)) {
    setTransformationMethod(PasswordTransformationMethod.getInstance());
    setTypefaceByIndex(MONOSPACE,0);
  }
  boolean multiLine=(type & (EditorInfo.TYPE_MASK_CLASS | EditorInfo.TYPE_TEXT_FLAG_MULTI_LINE)) == (EditorInfo.TYPE_CLASS_TEXT | EditorInfo.TYPE_TEXT_FLAG_MULTI_LINE);
  if (mSingleLine == multiLine) {
    setSingleLine(!multiLine);
  }
  InputMethodManager imm=InputMethodManager.peekInstance();
  if (imm != null)   imm.restartInput(this);
}
