{
  if (mEllipsize == TextUtils.TruncateAt.MARQUEE) {
    if (mMarquee != null && !mMarquee.isStopped()) {
      final Marquee marquee=mMarquee;
      return (marquee.mMaxFadeScroll - marquee.mScroll) / getHorizontalFadingEdgeLength();
    }
 else     if (getLineCount() == 1) {
switch (mGravity & Gravity.HORIZONTAL_GRAVITY_MASK) {
case Gravity.LEFT:
        return (mLayout.getLineRight(0) - mScrollX - (mRight - mLeft)- getCompoundPaddingLeft()- getCompoundPaddingRight()) / getHorizontalFadingEdgeLength();
case Gravity.RIGHT:
      return 0.0f;
case Gravity.CENTER_HORIZONTAL:
    return (mLayout.getLineWidth(0) - ((mRight - mLeft) - getCompoundPaddingLeft() - getCompoundPaddingRight())) / getHorizontalFadingEdgeLength();
}
}
}
return super.getRightFadingEdgeStrength();
}
