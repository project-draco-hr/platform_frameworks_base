{
  if (mCurrentAlpha <= ViewConfiguration.ALPHA_THRESHOLD_INT)   return 0.0f;
  if (mEllipsize == TextUtils.TruncateAt.MARQUEE) {
    if (mMarquee != null && !mMarquee.isStopped()) {
      final Marquee marquee=mMarquee;
      return (marquee.mMaxFadeScroll - marquee.mScroll) / getHorizontalFadingEdgeLength();
    }
 else     if (getLineCount() == 1) {
      final int absoluteGravity=Gravity.getAbsoluteGravity(mGravity,isLayoutRtl());
switch (absoluteGravity & Gravity.HORIZONTAL_GRAVITY_MASK) {
case Gravity.LEFT:
        final int textWidth=(mRight - mLeft) - getCompoundPaddingLeft() - getCompoundPaddingRight();
      final float lineWidth=mLayout.getLineWidth(0);
    return (lineWidth - textWidth) / getHorizontalFadingEdgeLength();
case Gravity.RIGHT:
  return 0.0f;
case Gravity.CENTER_HORIZONTAL:
case Gravity.FILL_HORIZONTAL:
return (mLayout.getLineWidth(0) - ((mRight - mLeft) - getCompoundPaddingLeft() - getCompoundPaddingRight())) / getHorizontalFadingEdgeLength();
}
}
}
return super.getRightFadingEdgeStrength();
}
