{
  if (getLayout() == null)   return -1;
  y-=getTotalPaddingTop();
  y=Math.max(0,y);
  y=Math.min(getHeight() - getTotalPaddingBottom() - 1,y);
  y+=getScrollY();
  final int line=getLayout().getLineForVertical(y);
  final int offset=getOffsetForHorizontal(line,x);
  return offset;
}
