{
  if (mHighlightPathBogus) {
    invalidateCursor();
  }
 else {
    final int horizontalPadding=getCompoundPaddingLeft();
    final int verticalPadding=getExtendedPaddingTop() + getVerticalOffset(true);
    if (getEditor().mCursorCount == 0) {
synchronized (TEMP_RECTF) {
        float thick=FloatMath.ceil(mTextPaint.getStrokeWidth());
        if (thick < 1.0f) {
          thick=1.0f;
        }
        thick/=2.0f;
        mHighlightPath.computeBounds(TEMP_RECTF,false);
        invalidate((int)FloatMath.floor(horizontalPadding + TEMP_RECTF.left - thick),(int)FloatMath.floor(verticalPadding + TEMP_RECTF.top - thick),(int)FloatMath.ceil(horizontalPadding + TEMP_RECTF.right + thick),(int)FloatMath.ceil(verticalPadding + TEMP_RECTF.bottom + thick));
      }
    }
 else {
      for (int i=0; i < getEditor().mCursorCount; i++) {
        Rect bounds=getEditor().mCursorDrawable[i].getBounds();
        invalidate(bounds.left + horizontalPadding,bounds.top + verticalPadding,bounds.right + horizontalPadding,bounds.bottom + verticalPadding);
      }
    }
  }
}
