{
  int klass=mInputType & InputType.TYPE_MASK_CLASS;
  if (klass == InputType.TYPE_CLASS_NUMBER || klass == InputType.TYPE_CLASS_PHONE || klass == InputType.TYPE_CLASS_DATETIME) {
    return -1;
  }
  int variation=mInputType & InputType.TYPE_MASK_VARIATION;
  if (variation == InputType.TYPE_TEXT_VARIATION_URI || variation == InputType.TYPE_TEXT_VARIATION_PASSWORD || variation == InputType.TYPE_TEXT_VARIATION_WEB_PASSWORD || variation == InputType.TYPE_TEXT_VARIATION_VISIBLE_PASSWORD || variation == InputType.TYPE_TEXT_VARIATION_EMAIL_ADDRESS || variation == InputType.TYPE_TEXT_VARIATION_WEB_EMAIL_ADDRESS || variation == InputType.TYPE_TEXT_VARIATION_FILTER) {
    return -1;
  }
  int len=mText.length();
  int end=Math.min(offset,len);
  if (end < 0) {
    return -1;
  }
  int start=end;
  for (; start > 0; start--) {
    char c=mTransformed.charAt(start - 1);
    int type=Character.getType(c);
    if (start == end && type == Character.OTHER_PUNCTUATION)     continue;
    if (c != '\'' && type != Character.UPPERCASE_LETTER && type != Character.LOWERCASE_LETTER && type != Character.TITLECASE_LETTER && type != Character.MODIFIER_LETTER && type != Character.DECIMAL_DIGIT_NUMBER) {
      break;
    }
  }
  for (; end < len; end++) {
    char c=mTransformed.charAt(end);
    int type=Character.getType(c);
    if (c != '\'' && type != Character.UPPERCASE_LETTER && type != Character.LOWERCASE_LETTER && type != Character.TITLECASE_LETTER && type != Character.MODIFIER_LETTER && type != Character.DECIMAL_DIGIT_NUMBER) {
      break;
    }
  }
  if (start == end) {
    return -1;
  }
  if (end - start > 48) {
    return -1;
  }
  boolean hasLetter=false;
  for (int i=start; i < end; i++) {
    if (Character.isLetter(mTransformed.charAt(i))) {
      hasLetter=true;
      break;
    }
  }
  if (!hasLetter) {
    return -1;
  }
  return packRangeInLong(start,end);
}
