{
  boolean atLeastOneController=false;
  if (mCursorVisible && mLayout != null) {
    atLeastOneController=true;
    if (mInsertionPointCursorController == null) {
      mInsertionPointCursorController=new InsertionPointCursorController();
    }
  }
 else {
    mInsertionPointCursorController=null;
  }
  if (canSelectText() && mLayout != null) {
    atLeastOneController=true;
    if (mSelectionModifierCursorController == null) {
      mSelectionModifierCursorController=new SelectionModifierCursorController();
    }
  }
 else {
    mSelectionModifierCursorController=null;
    finishSelectionActionMode();
  }
  if (atLeastOneController) {
    Resources res=mContext.getResources();
    mCursorControllerVerticalOffset=res.getDimensionPixelOffset(com.android.internal.R.dimen.cursor_controller_vertical_offset);
  }
}
