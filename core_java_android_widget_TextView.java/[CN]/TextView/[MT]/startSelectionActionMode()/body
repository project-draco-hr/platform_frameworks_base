{
  if (mSelectionActionMode != null) {
    return false;
  }
  if (!canSelectText() || !requestFocus()) {
    Log.w(LOG_TAG,"TextView does not support text selection. Action mode cancelled.");
    return false;
  }
  if (!hasSelection()) {
    selectCurrentWord();
  }
  if (!mTextIsSelectable) {
    final InputMethodManager imm=(InputMethodManager)getContext().getSystemService(Context.INPUT_METHOD_SERVICE);
    imm.showSoftInput(this,0,null);
  }
  ActionMode.Callback actionModeCallback=new SelectionActionModeCallback();
  mSelectionActionMode=startActionMode(actionModeCallback);
  return mSelectionActionMode != null;
}
