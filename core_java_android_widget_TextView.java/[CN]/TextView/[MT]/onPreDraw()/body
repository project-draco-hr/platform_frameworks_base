{
  if (mLayout == null) {
    assumeLayout();
  }
  boolean changed=false;
  if (mMovement != null) {
    int curs=getSelectionEnd();
    if (mEditor != null && getEditor().mSelectionModifierCursorController != null && getEditor().mSelectionModifierCursorController.isSelectionStartDragged()) {
      curs=getSelectionStart();
    }
    if (curs < 0 && (mGravity & Gravity.VERTICAL_GRAVITY_MASK) == Gravity.BOTTOM) {
      curs=mText.length();
    }
    if (curs >= 0) {
      changed=bringPointIntoView(curs);
    }
  }
 else {
    changed=bringTextIntoView();
  }
  if (mEditor != null && getEditor().mCreatedWithASelection) {
    getEditor().startSelectionActionMode();
    getEditor().mCreatedWithASelection=false;
  }
  if (this instanceof ExtractEditText && hasSelection() && mEditor != null) {
    getEditor().startSelectionActionMode();
  }
  getViewTreeObserver().removeOnPreDrawListener(this);
  mPreDrawRegistered=false;
  return !changed;
}
