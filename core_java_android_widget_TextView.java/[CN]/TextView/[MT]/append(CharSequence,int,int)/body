{
  if (!(mText instanceof Editable)) {
    setText(mText,BufferType.EDITABLE);
  }
  ((Editable)mText).append(text,start,end);
  boolean hasClickableSpans=false;
  if (mAutoLinkMask != 0) {
    hasClickableSpans=Linkify.addLinks((Spannable)mText,mAutoLinkMask);
  }
 else   if (mLinksClickable && text instanceof Spanned) {
    ClickableSpan[] clickableSpans=((Spanned)text).getSpans(0,text.length(),ClickableSpan.class);
    hasClickableSpans=clickableSpans != null && clickableSpans.length > 0;
  }
  if (hasClickableSpans && mLinksClickable && !textCanBeSelected()) {
    setMovementMethod(LinkMovementMethod.getInstance());
  }
}
