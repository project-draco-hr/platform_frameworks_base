{
  createEditorIfNeeded("setError");
  error=TextUtils.stringOrSpannedString(error);
  getEditor().mError=error;
  getEditor().mErrorWasChanged=true;
  final Drawables dr=mDrawables;
  if (dr != null) {
switch (getResolvedLayoutDirection()) {
default :
case LAYOUT_DIRECTION_LTR:
      setCompoundDrawables(dr.mDrawableLeft,dr.mDrawableTop,icon,dr.mDrawableBottom);
    break;
case LAYOUT_DIRECTION_RTL:
  setCompoundDrawables(icon,dr.mDrawableTop,dr.mDrawableRight,dr.mDrawableBottom);
break;
}
}
 else {
setCompoundDrawables(null,null,icon,null);
}
if (error == null) {
if (getEditor().mErrorPopup != null) {
if (getEditor().mErrorPopup.isShowing()) {
getEditor().mErrorPopup.dismiss();
}
getEditor().mErrorPopup=null;
}
}
 else {
if (isFocused()) {
showError();
}
}
}
