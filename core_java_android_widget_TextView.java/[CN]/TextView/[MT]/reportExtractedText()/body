{
  if (mInputMethodState != null) {
    final ExtractedTextRequest req=mInputMethodState.mExtracting;
    if (req != null) {
      InputMethodManager imm=InputMethodManager.peekInstance();
      if (imm != null) {
        if (extractText(req,mInputMethodState.mTmpExtracted)) {
          imm.updateExtractedText(this,req.token,mInputMethodState.mTmpExtracted);
        }
      }
    }
  }
}
