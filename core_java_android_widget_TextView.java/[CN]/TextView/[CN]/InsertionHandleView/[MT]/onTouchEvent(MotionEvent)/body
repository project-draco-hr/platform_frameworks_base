{
  final boolean result=super.onTouchEvent(ev);
switch (ev.getActionMasked()) {
case MotionEvent.ACTION_DOWN:
    mDownPositionX=ev.getRawX();
  mDownPositionY=ev.getRawY();
mTouchTimer=SystemClock.uptimeMillis();
break;
case MotionEvent.ACTION_UP:
long delay=SystemClock.uptimeMillis() - mTouchTimer;
if (delay < ViewConfiguration.getTapTimeout()) {
final float deltaX=mDownPositionX - ev.getRawX();
final float deltaY=mDownPositionY - ev.getRawY();
final float distanceSquared=deltaX * deltaX + deltaY * deltaY;
if (distanceSquared < mSquaredTouchSlopDistance) {
if (mPastePopupWindow != null && mPastePopupWindow.isShowing()) {
mPastePopupWindow.hide();
}
 else {
show(0);
}
}
}
break;
default :
break;
}
return result;
}
