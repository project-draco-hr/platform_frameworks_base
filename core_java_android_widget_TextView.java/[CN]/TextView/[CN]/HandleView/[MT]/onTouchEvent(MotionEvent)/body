{
switch (ev.getActionMasked()) {
case MotionEvent.ACTION_DOWN:
    mIsDragging=true;
  break;
case MotionEvent.ACTION_MOVE:
final float rawX=ev.getRawX();
final float rawY=ev.getRawY();
final int[] coords=mTempCoords;
TextView.this.getLocationOnScreen(coords);
final int x=(int)(rawX - coords[0] + 0.5f);
final int y=(int)(rawY - coords[1] + 0.5f);
mController.updatePosition(x,y);
break;
case MotionEvent.ACTION_UP:
case MotionEvent.ACTION_CANCEL:
mIsDragging=false;
}
return true;
}
