{
  if (mLayout == null) {
    prepareCursorControllers();
    return;
  }
  addPositionToTouchUpFilter(offset);
  final int line=mLayout.getLineForOffset(offset);
  final int lineBottom=mLayout.getLineBottom(line);
  mPositionX=(int)(mLayout.getPrimaryHorizontal(offset) - 0.5f - mHotspotX);
  mPositionY=lineBottom;
  mPositionX+=viewportToContentHorizontalOffset();
  mPositionY+=viewportToContentVerticalOffset();
}
