{
  int offset=getOffsetForPosition(x,y);
  final int selectionEnd=getSelectionEnd();
  if (offset >= selectionEnd)   offset=selectionEnd - 1;
  positionAtCursorOffset(offset,false);
}
