{
  int pos=TextView.this.getSelectionStart();
  Spannable spannable=(Spannable)TextView.this.mText;
  SuggestionSpan[] suggestionSpans=spannable.getSpans(pos,pos,SuggestionSpan.class);
  final HashMap<SuggestionSpan,Integer> spansLengths=new HashMap<SuggestionSpan,Integer>();
  for (  SuggestionSpan suggestionSpan : suggestionSpans) {
    int start=spannable.getSpanStart(suggestionSpan);
    int end=spannable.getSpanEnd(suggestionSpan);
    spansLengths.put(suggestionSpan,Integer.valueOf(end - start));
  }
  Arrays.sort(suggestionSpans,new Comparator<SuggestionSpan>(){
    public int compare(    SuggestionSpan span1,    SuggestionSpan span2){
      return spansLengths.get(span1).intValue() - spansLengths.get(span2).intValue();
    }
  }
);
  return suggestionSpans;
}
