{
  int pos=TextView.this.getSelectionStart();
  Spannable spannable=(Spannable)TextView.this.mText;
  SuggestionSpan[] suggestionSpans=spannable.getSpans(pos,pos,SuggestionSpan.class);
  final HashMap<SuggestionSpan,Integer> spanLengthMap=new HashMap<SuggestionSpan,Integer>();
  for (  SuggestionSpan suggestionSpan : suggestionSpans) {
    int start=spannable.getSpanStart(suggestionSpan);
    int end=spannable.getSpanEnd(suggestionSpan);
    spanLengthMap.put(suggestionSpan,end - start);
  }
  Arrays.sort(suggestionSpans,new Comparator<SuggestionSpan>(){
    public int compare(    SuggestionSpan span1,    SuggestionSpan span2){
      return spanLengthMap.get(span1) - spanLengthMap.get(span2);
    }
  }
);
  return suggestionSpans;
}
