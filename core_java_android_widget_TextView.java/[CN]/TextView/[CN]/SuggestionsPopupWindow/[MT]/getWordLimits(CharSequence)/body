{
  if (mWordIterator == null)   mWordIterator=new WordIterator();
  mWordIterator.setCharSequence(text);
  int nbWords=0;
  int position=mWordIterator.following(0);
  while (position != BreakIterator.DONE) {
    nbWords++;
    position=mWordIterator.following(position);
  }
  int index=0;
  long[] result=new long[nbWords];
  position=mWordIterator.following(0);
  while (position != BreakIterator.DONE) {
    int wordStart=mWordIterator.getBeginning(position);
    result[index++]=packRangeInLong(wordStart,position);
    position=mWordIterator.following(position);
  }
  return result;
}
