{
  if (mSelectionModifierCursorController == null) {
    Log.w(LOG_TAG,"TextView has no selection controller. Action mode cancelled.");
    return false;
  }
  if (!requestFocus()) {
    return false;
  }
  mode.setTitle(mContext.getString(com.android.internal.R.string.textSelectionCABTitle));
  mode.setSubtitle(null);
  selectCurrentWord();
  boolean atLeastOne=false;
  if (canSelectText()) {
    menu.add(0,ID_SELECT_ALL,0,com.android.internal.R.string.selectAll).setIcon(com.android.internal.R.drawable.ic_menu_select_all).setAlphabeticShortcut('a');
    atLeastOne=true;
  }
  if (canCut()) {
    menu.add(0,ID_CUT,0,com.android.internal.R.string.cut).setIcon(com.android.internal.R.drawable.ic_menu_cut).setAlphabeticShortcut('x');
    atLeastOne=true;
  }
  if (canCopy()) {
    menu.add(0,ID_COPY,0,com.android.internal.R.string.copy).setIcon(com.android.internal.R.drawable.ic_menu_copy).setAlphabeticShortcut('c');
    atLeastOne=true;
  }
  if (canPaste()) {
    menu.add(0,ID_PASTE,0,com.android.internal.R.string.paste).setIcon(com.android.internal.R.drawable.ic_menu_paste).setAlphabeticShortcut('v');
    atLeastOne=true;
  }
  if (atLeastOne) {
    mSelectionModifierCursorController.show();
    return true;
  }
 else {
    return false;
  }
}
