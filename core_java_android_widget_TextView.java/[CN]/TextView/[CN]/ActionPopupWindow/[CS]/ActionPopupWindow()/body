{
  mPopupWindow=new PopupWindow(TextView.this.mContext,null,com.android.internal.R.attr.textSelectHandleWindowStyle);
  mPopupWindow.setClippingEnabled(true);
  mPopupWindow.setWindowLayoutType(WindowManager.LayoutParams.TYPE_APPLICATION_PANEL);
  mPopupWindow.setWidth(ViewGroup.LayoutParams.WRAP_CONTENT);
  mPopupWindow.setHeight(ViewGroup.LayoutParams.WRAP_CONTENT);
  mContentView=new LinearLayout(TextView.this.getContext());
  LayoutParams wrapContent=new LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT);
  mContentView.setLayoutParams(wrapContent);
  mContentView.setOrientation(LinearLayout.HORIZONTAL);
  mContentView.setBackgroundResource(com.android.internal.R.drawable.text_edit_side_paste_window);
  LayoutInflater inflater=(LayoutInflater)TextView.this.mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  mPasteTextView=(TextView)inflater.inflate(TEXT_EDIT_ACTION_POPUP_TEXT,null);
  mPasteTextView.setLayoutParams(wrapContent);
  mContentView.addView(mPasteTextView);
  mPasteTextView.setText(com.android.internal.R.string.paste);
  mPasteTextView.setOnClickListener(this);
  mReplaceTextView=(TextView)inflater.inflate(TEXT_EDIT_ACTION_POPUP_TEXT,null);
  mReplaceTextView.setLayoutParams(wrapContent);
  mContentView.addView(mReplaceTextView);
  mReplaceTextView.setText(com.android.internal.R.string.replace);
  mReplaceTextView.setOnClickListener(this);
  mPopupWindow.setContentView(mContentView);
}
