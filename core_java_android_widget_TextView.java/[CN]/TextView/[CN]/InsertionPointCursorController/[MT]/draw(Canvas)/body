{
  if (mIsVisible) {
    int time=(int)(System.currentTimeMillis() - mFadeOutTimerStart);
    if (time <= DELAY_BEFORE_FADE_OUT) {
      postInvalidateDelayed(DELAY_BEFORE_FADE_OUT - time,mBounds.left,mBounds.top,mBounds.right,mBounds.bottom);
    }
 else {
      time-=DELAY_BEFORE_FADE_OUT;
      if (time <= FADE_OUT_DURATION) {
        int alpha=255 * (FADE_OUT_DURATION - time) / FADE_OUT_DURATION;
        mDrawable.setAlpha(alpha);
        postInvalidateDelayed(30,mBounds.left,mBounds.top,mBounds.right,mBounds.bottom);
      }
 else {
        mDrawable.setAlpha(0);
        mIsVisible=false;
      }
    }
    mDrawable.draw(canvas);
  }
}
