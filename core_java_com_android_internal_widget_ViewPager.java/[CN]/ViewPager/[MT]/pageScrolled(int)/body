{
  if (mItems.size() == 0) {
    mCalledSuper=false;
    onPageScrolled(0,0,0);
    if (!mCalledSuper) {
      throw new IllegalStateException("onPageScrolled did not call superclass implementation");
    }
    return false;
  }
  final int scrollStart;
  if (isLayoutRtl()) {
    scrollStart=MAX_SCROLL_X - scrollX;
  }
 else {
    scrollStart=scrollX;
  }
  final ItemInfo ii=infoForFirstVisiblePage();
  final int width=getPaddedWidth();
  final int widthWithMargin=width + mPageMargin;
  final float marginOffset=(float)mPageMargin / width;
  final int currentPage=ii.position;
  final float pageOffset=(((float)scrollStart / width) - ii.offset) / (ii.widthFactor + marginOffset);
  final int offsetPixels=(int)(pageOffset * widthWithMargin);
  mCalledSuper=false;
  onPageScrolled(currentPage,pageOffset,offsetPixels);
  if (!mCalledSuper) {
    throw new IllegalStateException("onPageScrolled did not call superclass implementation");
  }
  return true;
}
