{
  final int type=state.networkInfo.getType();
  final int subType=state.networkInfo.getSubtype();
  final String subscriberId;
  if (isNetworkTypeMobile(type)) {
    final TelephonyManager telephony=(TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);
    subscriberId=telephony.getSubscriberId();
  }
 else {
    subscriberId=null;
  }
  return new NetworkIdentity(type,subType,subscriberId);
}
