{
synchronized (mBufferLock) {
    invalidateByteBuffer(mCachedInputBuffers,index);
    mDequeuedInputBuffers.remove(index);
  }
  try {
    native_queueSecureInputBuffer(index,offset,info,presentationTimeUs,flags);
  }
 catch (  CryptoException|IllegalStateException e) {
    revalidateByteBuffer(mCachedInputBuffers,index);
    throw e;
  }
}
