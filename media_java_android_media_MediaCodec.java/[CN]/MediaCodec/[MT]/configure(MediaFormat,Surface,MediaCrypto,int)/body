{
  Map<String,Object> formatMap=format.getMap();
  String[] keys=null;
  Object[] values=null;
  if (format != null) {
    keys=new String[formatMap.size()];
    values=new Object[formatMap.size()];
    int i=0;
    for (    Map.Entry<String,Object> entry : formatMap.entrySet()) {
      if (entry.getKey().equals(MediaFormat.KEY_AUDIO_SESSION_ID)) {
        long audioHwSync=0;
        keys[i]="audio-hw-sync";
        values[i]=audioHwSync;
      }
 else {
        keys[i]=entry.getKey();
        values[i]=entry.getValue();
      }
      ++i;
    }
  }
  native_configure(keys,values,surface,crypto,flags);
}
