{
  mContext=context;
  final Resources res=context.getResources();
  boolean isTablet=res.getBoolean(R.bool.config_recents_interface_for_tablets);
  int density=res.getDisplayMetrics().densityDpi;
  if (isTablet) {
    if (density == DisplayMetrics.DENSITY_LOW) {
      mIconDpi=DisplayMetrics.DENSITY_MEDIUM;
    }
 else     if (density == DisplayMetrics.DENSITY_MEDIUM) {
      mIconDpi=DisplayMetrics.DENSITY_HIGH;
    }
 else     if (density == DisplayMetrics.DENSITY_HIGH) {
      mIconDpi=DisplayMetrics.DENSITY_XHIGH;
    }
 else     if (density == DisplayMetrics.DENSITY_XHIGH) {
      mIconDpi=DisplayMetrics.DENSITY_XHIGH;
    }
  }
 else {
    mIconDpi=res.getDisplayMetrics().densityDpi;
  }
  mIconDpi=isTablet ? DisplayMetrics.DENSITY_HIGH : res.getDisplayMetrics().densityDpi;
  int width=(int)res.getDimensionPixelSize(com.android.internal.R.dimen.thumbnail_width);
  int height=(int)res.getDimensionPixelSize(com.android.internal.R.dimen.thumbnail_height);
  int color=res.getColor(R.drawable.status_bar_recents_app_thumbnail_background);
  mDefaultThumbnailBackground=Bitmap.createBitmap(width,height,Bitmap.Config.ARGB_8888);
  Canvas c=new Canvas(mDefaultThumbnailBackground);
  c.drawColor(color);
  final ActivityManager am=(ActivityManager)mContext.getSystemService(Context.ACTIVITY_SERVICE);
  mHandler=new Handler();
}
