{
  final ActivityManager am=(ActivityManager)mContext.getSystemService(Context.ACTIVITY_SERVICE);
  final PackageManager pm=mContext.getPackageManager();
  Bitmap thumbnail=am.getTaskTopThumbnail(td.persistentTaskId);
  Drawable icon=getFullResIcon(td.resolveInfo,pm);
  if (DEBUG)   Log.v(TAG,"Loaded bitmap for task " + td + ": "+ thumbnail);
synchronized (td) {
    if (thumbnail != null) {
      td.setThumbnail(new BitmapDrawable(mContext.getResources(),thumbnail));
    }
 else {
      td.setThumbnail(mDefaultThumbnailBackground);
    }
    if (icon != null) {
      td.setIcon(icon);
    }
    td.setLoaded(true);
  }
}
