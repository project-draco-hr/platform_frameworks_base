{
  RecentsActivityLaunchState launchState=mConfig.getLaunchState();
  launchState.launchedFromHome=fromSearchHome || fromHome;
  launchState.launchedFromSearchHome=fromSearchHome;
  launchState.launchedFromAppWithThumbnail=fromThumbnail;
  launchState.launchedToTaskId=(topTask != null) ? topTask.id : -1;
  launchState.launchedWithAltTab=mTriggeredFromAltTab;
  launchState.launchedReuseTaskStackViews=mCanReuseTaskStackViews;
  launchState.launchedNumVisibleTasks=vr.numVisibleTasks;
  launchState.launchedNumVisibleThumbnails=vr.numVisibleThumbnails;
  launchState.launchedHasConfigurationChanged=false;
  Intent intent=new Intent(sToggleRecentsAction);
  intent.setClassName(sRecentsPackage,sRecentsActivity);
  intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS | Intent.FLAG_ACTIVITY_TASK_ON_HOME);
  if (opts != null) {
    mContext.startActivityAsUser(intent,opts.toBundle(),UserHandle.CURRENT);
  }
 else {
    mContext.startActivityAsUser(intent,UserHandle.CURRENT);
  }
  mCanReuseTaskStackViews=true;
}
