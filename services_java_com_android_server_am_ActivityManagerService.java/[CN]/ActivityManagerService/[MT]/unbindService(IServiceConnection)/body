{
synchronized (this) {
    IBinder binder=connection.asBinder();
    if (DEBUG_SERVICE)     Log.v(TAG,"unbindService: conn=" + binder);
    ConnectionRecord r=mServiceConnections.get(binder);
    if (r == null) {
      Log.w(TAG,"Unbind failed: could not find connection for " + connection.asBinder());
      return false;
    }
    final long origId=Binder.clearCallingIdentity();
    removeConnectionLocked(r,null,null);
    if (r.binding.service.app != null) {
      updateOomAdjLocked(r.binding.service.app);
    }
    Binder.restoreCallingIdentity(origId);
  }
  return true;
}
