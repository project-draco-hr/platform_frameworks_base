{
  ArrayList<ProcessRecord> procs;
synchronized (this) {
    mRequestPssCallback=completeCallback;
    mRequestPssList.clear();
    for (int i=mLRUProcesses.size() - 1; i >= 0; i--) {
      ProcessRecord proc=mLRUProcesses.get(i);
      if (!proc.persistent) {
        mRequestPssList.add(proc);
      }
    }
    procs=new ArrayList<ProcessRecord>(mRequestPssList);
  }
  int oldPri=Process.getThreadPriority(Process.myTid());
  Process.setThreadPriority(Process.THREAD_PRIORITY_BACKGROUND);
  for (int i=procs.size() - 1; i >= 0; i--) {
    ProcessRecord proc=procs.get(i);
    proc.lastPss=0;
    proc.requestPss();
  }
  Process.setThreadPriority(oldPri);
}
