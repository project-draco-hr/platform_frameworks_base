{
  try {
    ActivityManagerService m=mSelf;
    ServiceManager.addService(Context.ACTIVITY_SERVICE,m,true);
    ServiceManager.addService(ProcessStats.SERVICE_NAME,m.mProcessStats);
    ServiceManager.addService("meminfo",new MemBinder(m));
    ServiceManager.addService("gfxinfo",new GraphicsBinder(m));
    ServiceManager.addService("dbinfo",new DbBinder(m));
    if (MONITOR_CPU_USAGE) {
      ServiceManager.addService("cpuinfo",new CpuBinder(m));
    }
    ServiceManager.addService("permission",new PermissionController(m));
    ApplicationInfo info=mSelf.mContext.getPackageManager().getApplicationInfo("android",STOCK_PM_FLAGS);
    mSystemThread.installSystemApplicationInfo(info);
synchronized (mSelf) {
      ProcessRecord app=mSelf.newProcessRecordLocked(info,info.processName,false);
      app.persistent=true;
      app.pid=MY_PID;
      app.maxAdj=ProcessList.SYSTEM_ADJ;
      app.makeActive(mSystemThread.getApplicationThread(),mSelf.mProcessStats);
      mSelf.mProcessNames.put(app.processName,app.uid,app);
synchronized (mSelf.mPidsSelfLocked) {
        mSelf.mPidsSelfLocked.put(app.pid,app);
      }
      mSelf.updateLruProcessLocked(app,false,null);
      mSelf.updateOomAdjLocked();
    }
  }
 catch (  PackageManager.NameNotFoundException e) {
    throw new RuntimeException("Unable to find android system package",e);
  }
}
