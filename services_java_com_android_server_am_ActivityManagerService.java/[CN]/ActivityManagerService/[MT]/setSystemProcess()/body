{
  try {
    ActivityManagerService m=mSelf;
    ServiceManager.addService("activity",m);
    ServiceManager.addService("meminfo",new MemBinder(m));
    if (MONITOR_CPU_USAGE) {
      ServiceManager.addService("cpuinfo",new CpuBinder(m));
    }
    ServiceManager.addService("activity.broadcasts",new BroadcastsBinder(m));
    ServiceManager.addService("activity.services",new ServicesBinder(m));
    ServiceManager.addService("activity.senders",new SendersBinder(m));
    ServiceManager.addService("activity.providers",new ProvidersBinder(m));
    ServiceManager.addService("permission",new PermissionController(m));
    ApplicationInfo info=mSelf.mContext.getPackageManager().getApplicationInfo("android",PackageManager.GET_SHARED_LIBRARY_FILES);
synchronized (mSelf) {
      ProcessRecord app=mSelf.newProcessRecordLocked(mSystemThread.getApplicationThread(),info,info.processName);
      app.persistent=true;
      app.pid=Process.myPid();
      app.maxAdj=SYSTEM_ADJ;
      mSelf.mProcessNames.put(app.processName,app.info.uid,app);
synchronized (mSelf.mPidsSelfLocked) {
        mSelf.mPidsSelfLocked.put(app.pid,app);
      }
      mSelf.updateLRUListLocked(app,true);
    }
  }
 catch (  PackageManager.NameNotFoundException e) {
    throw new RuntimeException("Unable to find android system package",e);
  }
}
