{
  boolean needSep=false;
  if (mIntentSenderRecords.size() > 0) {
    boolean printed=false;
    Iterator<WeakReference<PendingIntentRecord>> it=mIntentSenderRecords.values().iterator();
    while (it.hasNext()) {
      WeakReference<PendingIntentRecord> ref=it.next();
      PendingIntentRecord rec=ref != null ? ref.get() : null;
      if (dumpPackage != null && (rec == null || !dumpPackage.equals(rec.key.packageName))) {
        continue;
      }
      if (!printed) {
        pw.println("ACTIVITY MANAGER PENDING INTENTS (dumpsys activity intents)");
        printed=true;
      }
      needSep=true;
      if (rec != null) {
        pw.print("  * ");
        pw.println(rec);
        if (dumpAll) {
          rec.dump(pw,"    ");
        }
      }
 else {
        pw.print("  * ");
        pw.println(ref);
      }
    }
  }
  return needSep;
}
