{
  if (needHeader) {
    pw.println("  Activity stack:");
  }
  dumpHistoryList(pw,mMainStack.mHistory,"  ","Hist",true);
  pw.println(" ");
  pw.println("  Running activities (most recent first):");
  dumpHistoryList(pw,mMainStack.mLRUActivities,"  ","Run",false);
  if (mMainStack.mWaitingVisibleActivities.size() > 0) {
    pw.println(" ");
    pw.println("  Activities waiting for another to become visible:");
    dumpHistoryList(pw,mMainStack.mWaitingVisibleActivities,"  ","Wait",false);
  }
  if (mMainStack.mStoppingActivities.size() > 0) {
    pw.println(" ");
    pw.println("  Activities waiting to stop:");
    dumpHistoryList(pw,mMainStack.mStoppingActivities,"  ","Stop",false);
  }
  if (mMainStack.mGoingToSleepActivities.size() > 0) {
    pw.println(" ");
    pw.println("  Activities waiting to sleep:");
    dumpHistoryList(pw,mMainStack.mGoingToSleepActivities,"  ","Sleep",false);
  }
  if (mMainStack.mFinishingActivities.size() > 0) {
    pw.println(" ");
    pw.println("  Activities waiting to finish:");
    dumpHistoryList(pw,mMainStack.mFinishingActivities,"  ","Fin",false);
  }
  pw.println(" ");
  pw.println("  mPausingActivity: " + mMainStack.mPausingActivity);
  pw.println("  mResumedActivity: " + mMainStack.mResumedActivity);
  pw.println("  mFocusedActivity: " + mFocusedActivity);
  pw.println("  mLastPausedActivity: " + mMainStack.mLastPausedActivity);
  pw.println("  mSleepTimeout: " + mMainStack.mSleepTimeout);
  if (dumpAll && mRecentTasks.size() > 0) {
    pw.println(" ");
    pw.println("Recent tasks in Current Activity Manager State:");
    final int N=mRecentTasks.size();
    for (int i=0; i < N; i++) {
      TaskRecord tr=mRecentTasks.get(i);
      pw.print("  * Recent #");
      pw.print(i);
      pw.print(": ");
      pw.println(tr);
      mRecentTasks.get(i).dump(pw,"    ");
    }
  }
  pw.println(" ");
  pw.println("  mCurTask: " + mCurTask);
  return true;
}
