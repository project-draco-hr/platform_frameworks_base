{
  String proc=customProcess != null ? customProcess : info.processName;
  BatteryStatsImpl.Uid.Proc ps=null;
  BatteryStatsImpl stats=mBatteryStatsService.getActiveStatistics();
synchronized (stats) {
    ps=stats.getProcessStatsLocked(info.uid,proc);
  }
  return new ProcessRecord(ps,thread,info,proc);
}
