{
  String proc=customProcess != null ? customProcess : info.processName;
  BatteryStats.Uid.Proc ps=null;
synchronized (mBatteryStats) {
    ps=mBatteryStats.getProcessStatsLocked(info.uid,proc);
  }
  return new ProcessRecord(ps,thread,info,proc);
}
