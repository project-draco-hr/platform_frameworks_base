{
synchronized (this) {
    ContentProviderRecord cpr=mProviderMap.getProviderByName(name,Binder.getOrigCallingUser());
    if (cpr == null) {
      if (localLOGV)       Slog.v(TAG,name + " content provider not found in providers list");
      return;
    }
    ComponentName comp=new ComponentName(cpr.info.packageName,cpr.info.name);
    ContentProviderRecord localCpr=mProviderMap.getProviderByClass(comp,Binder.getOrigCallingUser());
    if (localCpr.hasExternalProcessHandles()) {
      if (localCpr.removeExternalProcessHandleLocked(token)) {
        updateOomAdjLocked();
      }
 else {
        Slog.e(TAG,"Attmpt to remove content provider " + localCpr + " with no external reference for token: "+ token+ ".");
      }
    }
 else {
      Slog.e(TAG,"Attmpt to remove content provider: " + localCpr + " with no external references.");
    }
  }
}
