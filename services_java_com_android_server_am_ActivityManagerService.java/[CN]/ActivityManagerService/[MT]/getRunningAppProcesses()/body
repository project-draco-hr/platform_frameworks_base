{
  List<ActivityManager.RunningAppProcessInfo> runList=null;
synchronized (this) {
    final int N=mLRUProcesses.size();
    for (int i=0; i < N; i++) {
      ProcessRecord app=mLRUProcesses.get(i);
      if ((app.thread != null) && (!app.crashing && !app.notResponding)) {
        ActivityManager.RunningAppProcessInfo currApp=new ActivityManager.RunningAppProcessInfo(app.processName,app.pid,app.getPackageList());
        if (runList == null) {
          runList=new ArrayList<ActivityManager.RunningAppProcessInfo>();
        }
        runList.add(currApp);
      }
    }
  }
  return runList;
}
