{
  if (app.thread == null) {
    throw new RemoteException();
  }
  r.app=app;
  r.restartTime=r.lastActivity=SystemClock.uptimeMillis();
  app.services.add(r);
  bumpServiceExecutingLocked(r);
  updateLRUListLocked(app,true);
  boolean created=false;
  try {
    if (DEBUG_SERVICE)     Log.v(TAG,"Scheduling start service: " + r.name + " "+ r.intent);
    EventLog.writeEvent(LOG_AM_CREATE_SERVICE,System.identityHashCode(r),r.shortName,r.intent.getIntent().toString(),r.app.pid);
synchronized (r.stats.getBatteryStats()) {
      r.stats.startLaunchedLocked();
    }
    app.thread.scheduleCreateService(r,r.serviceInfo);
    created=true;
  }
  finally {
    if (!created) {
      app.services.remove(r);
      scheduleServiceRestartLocked(r);
    }
  }
  requestServiceBindingsLocked(r);
  sendServiceArgsLocked(r,true);
}
