{
synchronized (this) {
    if (checkCallingPermission(android.Manifest.permission.DUMP) != PackageManager.PERMISSION_GRANTED) {
      pw.println("Permission Denial: can't dump ActivityManager from from pid=" + Binder.getCallingPid() + ", uid="+ Binder.getCallingUid()+ " without permission "+ android.Manifest.permission.DUMP);
      return;
    }
    pw.println("Intent Senders in Current Activity Manager State:");
    if (this.mIntentSenderRecords.size() > 0) {
      Iterator<WeakReference<PendingIntentRecord>> it=mIntentSenderRecords.values().iterator();
      while (it.hasNext()) {
        WeakReference<PendingIntentRecord> ref=it.next();
        PendingIntentRecord rec=ref != null ? ref.get() : null;
        if (rec != null) {
          pw.println("  IntentSender " + rec);
          rec.dump(pw,"    ");
        }
 else {
          pw.println("  IntentSender " + ref);
        }
      }
    }
  }
}
