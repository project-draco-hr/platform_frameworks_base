{
  if (mFocusedActivity != r) {
    mFocusedActivity=r;
    mStackSupervisor.setFocusedStack(r);
    if (r != null) {
      mWindowManager.setFocusedApp(r.appToken,true);
    }
    applyUpdateLockStateLocked(r);
  }
}
