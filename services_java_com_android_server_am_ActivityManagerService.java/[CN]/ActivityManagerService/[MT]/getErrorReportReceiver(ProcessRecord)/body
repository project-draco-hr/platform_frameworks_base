{
  IPackageManager pm=ActivityThread.getPackageManager();
  try {
    String candidate=pm.getInstallerPackageName(app.info.packageName);
    ComponentName result=getErrorReportReceiver(pm,app.info.packageName,candidate);
    if (result != null) {
      return result;
    }
    if ((app.info.flags & ApplicationInfo.FLAG_SYSTEM) != 0) {
      candidate=SystemProperties.get(SYSTEM_APPS_ERROR_RECEIVER_PROPERTY);
      result=getErrorReportReceiver(pm,app.info.packageName,candidate);
      if (result != null) {
        return result;
      }
    }
    candidate=SystemProperties.get(DEFAULT_ERROR_RECEIVER_PROPERTY);
    return getErrorReportReceiver(pm,app.info.packageName,candidate);
  }
 catch (  RemoteException e) {
    Log.e(TAG,"error talking to PackageManager",e);
    return null;
  }
}
