{
synchronized (this) {
    enforceCallingPermission(android.Manifest.permission.REMOVE_TASKS,"removeTask()");
    long ident=Binder.clearCallingIdentity();
    try {
      ActivityRecord r=mMainStack.removeTaskActivitiesLocked(taskId,-1);
      if (r != null) {
        mRecentTasks.remove(r.task);
        if ((flags & ActivityManager.REMOVE_TASK_KILL_PROCESS) != 0) {
          removeTaskProcessesLocked(r);
        }
        return true;
      }
    }
  finally {
      Binder.restoreCallingIdentity(ident);
    }
  }
  return false;
}
