{
synchronized (this) {
    ActivityRecord r=ActivityRecord.isInStackLocked(token);
    if (r == null) {
      return ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED;
    }
    return mWindowManager.getAppOrientation(r.appToken);
  }
}
