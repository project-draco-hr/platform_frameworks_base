{
synchronized (this) {
    int index=mMainStack.indexOfTokenLocked(token);
    if (index < 0) {
      return ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED;
    }
    ActivityRecord r=(ActivityRecord)mMainStack.mHistory.get(index);
    return mWindowManager.getAppOrientation(r);
  }
}
