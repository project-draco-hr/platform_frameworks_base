{
synchronized (cpr) {
    cpr.launchingApp=null;
    cpr.notifyAll();
  }
  mProviderMap.removeProviderByClass(cpr.name,UserId.getUserId(cpr.uid));
  String names[]=cpr.info.authority.split(";");
  for (int j=0; j < names.length; j++) {
    mProviderMap.removeProviderByName(names[j],UserId.getUserId(cpr.uid));
  }
  Iterator<ProcessRecord> cit=cpr.clients.iterator();
  while (cit.hasNext()) {
    ProcessRecord capp=cit.next();
    if (!capp.persistent && capp.thread != null && capp.pid != 0 && capp.pid != MY_PID) {
      Slog.i(TAG,"Kill " + capp.processName + " (pid "+ capp.pid+ "): provider "+ cpr.info.name+ " in dying process "+ (proc != null ? proc.processName : "??"));
      EventLog.writeEvent(EventLogTags.AM_KILL,capp.pid,capp.processName,capp.setAdj,"dying provider " + cpr.name.toShortString());
      Process.killProcessQuiet(capp.pid);
    }
  }
  mLaunchingProviders.remove(cpr);
}
