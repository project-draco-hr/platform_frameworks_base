{
  ProcessRecord app=getProcessRecordLocked(info.processName,info.uid);
  if (app == null) {
    app=newProcessRecordLocked(null,info,null);
    mProcessNames.put(info.processName,info.uid,app);
    updateLRUListLocked(app,true);
  }
  if ((info.flags & (ApplicationInfo.FLAG_SYSTEM | ApplicationInfo.FLAG_PERSISTENT)) == (ApplicationInfo.FLAG_SYSTEM | ApplicationInfo.FLAG_PERSISTENT)) {
    app.persistent=true;
    app.maxAdj=CORE_SERVER_ADJ;
  }
  if (app.thread == null && mPersistentStartingProcesses.indexOf(app) < 0) {
    mPersistentStartingProcesses.add(app);
    startProcessLocked(app,"added application",app.processName);
  }
  return app;
}
