{
  final String name=app.processName;
  final int uid=app.info.uid;
  if (Config.LOGD)   Log.d(TAG,"Force removing process " + app + " ("+ name+ "/"+ uid+ ")");
  mProcessNames.remove(name,uid);
  boolean needRestart=false;
  if (app.pid > 0 && app.pid != MY_PID) {
    int pid=app.pid;
synchronized (mPidsSelfLocked) {
      mPidsSelfLocked.remove(pid);
      mHandler.removeMessages(PROC_START_TIMEOUT_MSG,app);
    }
    handleAppDiedLocked(app,true);
    mLruProcesses.remove(app);
    Process.killProcess(pid);
    if (app.persistent) {
      if (!callerWillRestart) {
        addAppLocked(app.info);
      }
 else {
        needRestart=true;
      }
    }
  }
 else {
    mRemovedProcesses.add(app);
  }
  return needRestart;
}
