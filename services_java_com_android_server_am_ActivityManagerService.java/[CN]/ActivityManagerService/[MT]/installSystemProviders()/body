{
  List<ProviderInfo> providers;
synchronized (mSelf) {
    ProcessRecord app=mSelf.mProcessNames.get("system",Process.SYSTEM_UID);
    providers=mSelf.generateApplicationProvidersLocked(app);
    if (providers != null) {
      for (int i=providers.size() - 1; i >= 0; i--) {
        ProviderInfo pi=(ProviderInfo)providers.get(i);
        if ((pi.applicationInfo.flags & ApplicationInfo.FLAG_SYSTEM) == 0) {
          Slog.w(TAG,"Not installing system proc provider " + pi.name + ": not system .apk");
          providers.remove(i);
        }
      }
    }
  }
  if (providers != null) {
    mSystemThread.installSystemProviders(providers);
  }
  mSelf.mCoreSettingsObserver=new CoreSettingsObserver(mSelf);
}
