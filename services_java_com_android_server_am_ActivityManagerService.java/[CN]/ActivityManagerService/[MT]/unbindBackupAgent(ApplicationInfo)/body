{
  if (DEBUG_BACKUP)   Log.v(TAG,"unbindBackupAgent: " + appInfo);
synchronized (this) {
    if (!mBackupAppName.equals(appInfo.packageName)) {
      Log.e(TAG,"Unbind of " + appInfo + " but is not the current backup target");
      return;
    }
    ProcessRecord proc=mBackupTarget.app;
    mBackupTarget=null;
    mBackupAppName=null;
    updateOomAdjLocked(proc);
    if (proc.thread != null) {
      try {
        proc.thread.scheduleDestroyBackupAgent(appInfo);
      }
 catch (      Exception e) {
        Log.e(TAG,"Exception when unbinding backup agent:");
        e.printStackTrace();
      }
    }
  }
}
