{
  if (intent != null && intent.hasFileDescriptors() == true) {
    throw new IllegalArgumentException("File descriptors passed in Intent");
  }
synchronized (this) {
    final ProcessRecord callerApp=getRecordForAppLocked(caller);
    final int callingPid=Binder.getCallingPid();
    final int callingUid=Binder.getCallingUid();
    final long origId=Binder.clearCallingIdentity();
    int res=broadcastIntentLocked(callerApp,callerApp != null ? callerApp.info.packageName : null,intent,resolvedType,resultTo,resultCode,resultData,map,requiredPermission,serialized,sticky,callingPid,callingUid);
    Binder.restoreCallingIdentity(origId);
    return res;
  }
}
