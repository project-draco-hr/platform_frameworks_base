{
  if (intent != null && intent.hasFileDescriptors() == true) {
    throw new IllegalArgumentException("File descriptors passed in Intent");
  }
synchronized (this) {
    if (checkCallingPermission(android.Manifest.permission.BROADCAST_STICKY) != PackageManager.PERMISSION_GRANTED) {
      String msg="Permission Denial: unbroadcastIntent() from pid=" + Binder.getCallingPid() + ", uid="+ Binder.getCallingUid()+ " requires "+ android.Manifest.permission.BROADCAST_STICKY;
      Slog.w(TAG,msg);
      throw new SecurityException(msg);
    }
    ArrayList<Intent> list=mStickyBroadcasts.get(intent.getAction());
    if (list != null) {
      int N=list.size();
      int i;
      for (i=0; i < N; i++) {
        if (intent.filterEquals(list.get(i))) {
          list.remove(i);
          break;
        }
      }
    }
  }
}
