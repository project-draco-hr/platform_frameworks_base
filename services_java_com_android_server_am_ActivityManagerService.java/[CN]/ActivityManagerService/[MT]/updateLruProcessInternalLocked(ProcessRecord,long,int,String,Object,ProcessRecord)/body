{
  app.lastActivityTime=now;
  if (app.activities.size() > 0) {
    return index;
  }
  int lrui=mLruProcesses.lastIndexOf(app);
  if (lrui < 0) {
    Log.wtf(TAG,"Adding dependent process " + app + " not on LRU list: "+ what+ " "+ obj+ " from "+ srcApp);
    return index;
  }
  if (lrui >= index) {
    return index;
  }
  if (lrui >= mLruProcessActivityStart) {
    return index;
  }
  mLruProcesses.remove(lrui);
  if (index > 0) {
    index--;
  }
  mLruProcesses.add(index,app);
  return index;
}
