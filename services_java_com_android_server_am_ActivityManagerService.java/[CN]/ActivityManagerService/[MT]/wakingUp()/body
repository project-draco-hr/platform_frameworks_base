{
synchronized (this) {
    if (mMainStack.mGoingToSleep.isHeld()) {
      mMainStack.mGoingToSleep.release();
    }
    mWindowManager.setEventDispatching(true);
    mSleeping=false;
    mMainStack.resumeTopActivityLocked(null);
    mHandler.removeMessages(CHECK_EXCESSIVE_WAKE_LOCKS_MSG);
  }
}
