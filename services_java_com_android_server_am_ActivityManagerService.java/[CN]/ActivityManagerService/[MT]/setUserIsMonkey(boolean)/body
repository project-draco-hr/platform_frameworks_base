{
synchronized (this) {
synchronized (mPidsSelfLocked) {
      final int callingPid=Binder.getCallingPid();
      ProcessRecord precessRecord=mPidsSelfLocked.get(callingPid);
      if (precessRecord == null) {
        throw new SecurityException("Unknown process: " + callingPid);
      }
      if (precessRecord.instrumentationUiAutomationConnection == null) {
        throw new SecurityException("Only an instrumentation process " + "with a UiAutomation can call setUserIsMonkey");
      }
    }
    mUserIsMonkey=userIsMonkey;
  }
}
