{
synchronized (this) {
    int index=mMainStack.indexOfTokenLocked(token);
    if (index < 0) {
      return;
    }
    ActivityRecord self=(ActivityRecord)mMainStack.mHistory.get(index);
    final long origId=Binder.clearCallingIdentity();
    if (self.state == ActivityState.RESUMED || self.state == ActivityState.PAUSING) {
      mWindowManager.overridePendingAppTransition(packageName,enterAnim,exitAnim);
    }
    Binder.restoreCallingIdentity(origId);
  }
}
