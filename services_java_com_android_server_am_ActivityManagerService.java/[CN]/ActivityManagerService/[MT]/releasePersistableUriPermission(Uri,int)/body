{
  enforceNotIsolatedCaller("releasePersistableUriPermission");
  modeFlags&=(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);
  if (modeFlags == 0) {
    return;
  }
synchronized (this) {
    final int callingUid=Binder.getCallingUid();
    final UriPermission perm=findUriPermissionLocked(callingUid,uri);
    if (perm == null) {
      Slog.w(TAG,"No permission grant found for UID " + callingUid + " and Uri "+ uri.toSafeString());
      return;
    }
    final boolean persistChanged=perm.releasePersistableModes(modeFlags);
    removeUriPermissionIfNeededLocked(perm);
    if (persistChanged) {
      schedulePersistUriGrants();
    }
  }
}
