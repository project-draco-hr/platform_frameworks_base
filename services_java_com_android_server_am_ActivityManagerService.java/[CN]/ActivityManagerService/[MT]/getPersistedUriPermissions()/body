{
  enforceNotIsolatedCaller("getPersistedUriPermissions");
synchronized (this) {
    final int callingUid=Binder.getCallingUid();
    final ArrayList<android.content.UriPermission> result=Lists.newArrayList();
    final ArrayMap<Uri,UriPermission> perms=mGrantedUriPermissions.get(callingUid);
    if (perms == null) {
      Slog.w(TAG,"No permission grants found for UID " + callingUid);
    }
 else {
      final int size=perms.size();
      for (int i=0; i < size; i++) {
        final UriPermission perm=perms.valueAt(i);
        if (perm.persistedModeFlags != 0) {
          result.add(perm.buildPersistedPublicApiObject());
        }
      }
    }
    return new ParceledListSlice<android.content.UriPermission>(result);
  }
}
