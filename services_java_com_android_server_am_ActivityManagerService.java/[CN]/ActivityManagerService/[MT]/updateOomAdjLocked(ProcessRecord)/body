{
  final ActivityRecord TOP_ACT=resumedAppLocked();
  final ProcessRecord TOP_APP=TOP_ACT != null ? TOP_ACT.app : null;
  int curAdj=app.curAdj;
  final boolean wasHidden=curAdj >= HIDDEN_APP_MIN_ADJ && curAdj <= HIDDEN_APP_MAX_ADJ;
  mAdjSeq++;
  updateOomAdjLocked(app,app.hiddenAdj,TOP_APP);
  final boolean nowHidden=app.curAdj >= HIDDEN_APP_MIN_ADJ && app.curAdj <= HIDDEN_APP_MAX_ADJ;
  if (nowHidden != wasHidden) {
    updateOomAdjLocked();
  }
}
