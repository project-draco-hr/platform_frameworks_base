{
  if (checkCallingPermission(android.Manifest.permission.INTERACT_ACROSS_USERS) != PackageManager.PERMISSION_GRANTED) {
    String msg="Permission Denial: isUserRunning() from pid=" + Binder.getCallingPid() + ", uid="+ Binder.getCallingUid()+ " requires "+ android.Manifest.permission.INTERACT_ACROSS_USERS;
    Slog.w(TAG,msg);
    throw new SecurityException(msg);
  }
synchronized (this) {
    UserStartedState state=mStartedUsers.get(userId);
    return state != null && state.mState != UserStartedState.STATE_STOPPING;
  }
}
