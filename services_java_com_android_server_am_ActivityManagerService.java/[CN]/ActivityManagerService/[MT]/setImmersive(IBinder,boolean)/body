{
synchronized (this) {
    ActivityRecord r=mMainStack.isInStackLocked(token);
    if (r == null) {
      throw new IllegalArgumentException();
    }
    r.immersive=immersive;
  }
}
