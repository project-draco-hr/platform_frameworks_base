{
  if (!(sender instanceof PendingIntentRecord)) {
    return;
  }
synchronized (mBatteryStats) {
    if (mBatteryStats.isOnBattery()) {
      mBatteryStats.enforceCallingPermission();
      PendingIntentRecord rec=(PendingIntentRecord)sender;
      int MY_UID=Binder.getCallingUid();
      int uid=rec.uid == MY_UID ? Process.SYSTEM_UID : rec.uid;
      BatteryStats.Uid.Pkg pkg=mBatteryStats.getPackageStatsLocked(uid,rec.key.packageName);
      pkg.wakeups++;
    }
  }
}
