{
  if (checkCallingPermission(android.Manifest.permission.DEVICE_POWER) != PackageManager.PERMISSION_GRANTED) {
    throw new SecurityException("Requires permission " + android.Manifest.permission.DEVICE_POWER);
  }
synchronized (this) {
    long ident=Binder.clearCallingIdentity();
    try {
      if (shown && mLockScreenState == LOCK_SCREEN_NEVER_SHOWN) {
        mStackSupervisor.pauseStacks(false,true);
        mLockScreenState=LOCK_SCREEN_FIRST_SHOWN;
      }
 else {
        mLockScreenState=shown ? LOCK_SCREEN_SHOWING : LOCK_SCREEN_HIDDEN;
      }
      comeOutOfSleepIfNeededLocked();
    }
  finally {
      Binder.restoreCallingIdentity(ident);
    }
  }
}
