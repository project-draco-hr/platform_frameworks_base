{
  if (app == null) {
    return null;
  }
synchronized (this) {
    final int NP=mProcessNames.getMap().size();
    for (int ip=0; ip < NP; ip++) {
      SparseArray<ProcessRecord> apps=mProcessNames.getMap().valueAt(ip);
      final int NA=apps.size();
      for (int ia=0; ia < NA; ia++) {
        ProcessRecord p=apps.valueAt(ia);
        if (p.thread != null && p.thread.asBinder() == app) {
          return p;
        }
      }
    }
    Slog.w(TAG,"Can't find mystery application for " + reason + " from pid="+ Binder.getCallingPid()+ " uid="+ Binder.getCallingUid()+ ": "+ app);
    return null;
  }
}
