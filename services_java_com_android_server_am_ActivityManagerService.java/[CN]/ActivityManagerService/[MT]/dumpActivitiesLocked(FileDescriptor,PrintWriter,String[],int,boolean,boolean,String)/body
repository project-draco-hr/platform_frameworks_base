{
  pw.println("ACTIVITY MANAGER ACTIVITIES (dumpsys activity activities)");
  pw.println("  Main stack:");
  dumpHistoryList(fd,pw,mMainStack.mHistory,"  ","Hist",true,!dumpAll,dumpClient,dumpPackage);
  pw.println(" ");
  pw.println("  Running activities (most recent first):");
  dumpHistoryList(fd,pw,mMainStack.mLRUActivities,"  ","Run",false,!dumpAll,false,dumpPackage);
  if (mMainStack.mWaitingVisibleActivities.size() > 0) {
    pw.println(" ");
    pw.println("  Activities waiting for another to become visible:");
    dumpHistoryList(fd,pw,mMainStack.mWaitingVisibleActivities,"  ","Wait",false,!dumpAll,false,dumpPackage);
  }
  if (mMainStack.mStoppingActivities.size() > 0) {
    pw.println(" ");
    pw.println("  Activities waiting to stop:");
    dumpHistoryList(fd,pw,mMainStack.mStoppingActivities,"  ","Stop",false,!dumpAll,false,dumpPackage);
  }
  if (mMainStack.mGoingToSleepActivities.size() > 0) {
    pw.println(" ");
    pw.println("  Activities waiting to sleep:");
    dumpHistoryList(fd,pw,mMainStack.mGoingToSleepActivities,"  ","Sleep",false,!dumpAll,false,dumpPackage);
  }
  if (mMainStack.mFinishingActivities.size() > 0) {
    pw.println(" ");
    pw.println("  Activities waiting to finish:");
    dumpHistoryList(fd,pw,mMainStack.mFinishingActivities,"  ","Fin",false,!dumpAll,false,dumpPackage);
  }
  pw.println(" ");
  if (mMainStack.mPausingActivity != null) {
    pw.println("  mPausingActivity: " + mMainStack.mPausingActivity);
  }
  pw.println("  mResumedActivity: " + mMainStack.mResumedActivity);
  pw.println("  mFocusedActivity: " + mFocusedActivity);
  if (dumpAll) {
    pw.println("  mLastPausedActivity: " + mMainStack.mLastPausedActivity);
    pw.println("  mSleepTimeout: " + mMainStack.mSleepTimeout);
    pw.println("  mDismissKeyguardOnNextActivity: " + mMainStack.mDismissKeyguardOnNextActivity);
  }
  if (mRecentTasks.size() > 0) {
    pw.println();
    pw.println("  Recent tasks:");
    final int N=mRecentTasks.size();
    for (int i=0; i < N; i++) {
      TaskRecord tr=mRecentTasks.get(i);
      if (dumpPackage != null) {
        if (tr.realActivity == null || !dumpPackage.equals(tr.realActivity)) {
          continue;
        }
      }
      pw.print("  * Recent #");
      pw.print(i);
      pw.print(": ");
      pw.println(tr);
      if (dumpAll) {
        mRecentTasks.get(i).dump(pw,"    ");
      }
    }
  }
  if (dumpAll) {
    pw.println(" ");
    pw.println("  mCurTask: " + mCurTask);
  }
  return true;
}
