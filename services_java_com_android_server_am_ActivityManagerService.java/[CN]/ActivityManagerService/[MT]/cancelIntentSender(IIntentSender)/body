{
  if (!(sender instanceof PendingIntentRecord)) {
    return;
  }
synchronized (this) {
    PendingIntentRecord rec=(PendingIntentRecord)sender;
    try {
      int uid=ActivityThread.getPackageManager().getPackageUid(rec.key.packageName);
      if (uid != Binder.getCallingUid()) {
        String msg="Permission Denial: cancelIntentSender() from pid=" + Binder.getCallingPid() + ", uid="+ Binder.getCallingUid()+ " is not allowed to cancel packges "+ rec.key.packageName;
        Log.w(TAG,msg);
        throw new SecurityException(msg);
      }
    }
 catch (    RemoteException e) {
      throw new SecurityException(e);
    }
    cancelIntentSenderLocked(rec,true);
  }
}
