{
  String[] newArgs;
  String componentNameString;
  ServiceRecord r;
  if (opti >= args.length) {
    componentNameString=null;
    newArgs=EMPTY_STRING_ARRAY;
    r=null;
  }
 else {
    componentNameString=args[opti];
    opti++;
    ComponentName componentName=ComponentName.unflattenFromString(componentNameString);
synchronized (this) {
      r=componentName != null ? mServices.get(componentName) : null;
    }
    newArgs=new String[args.length - opti];
    if (args.length > 2)     System.arraycopy(args,opti,newArgs,0,args.length - opti);
  }
  if (r != null) {
    dumpService(fd,pw,r,newArgs);
  }
 else {
    ArrayList<ServiceRecord> services=new ArrayList<ServiceRecord>();
synchronized (this) {
      for (      ServiceRecord r1 : mServices.values()) {
        if (componentNameString == null || r1.name.flattenToString().contains(componentNameString)) {
          services.add(r1);
        }
      }
    }
    for (int i=0; i < services.size(); i++) {
      dumpService(fd,pw,services.get(i),newArgs);
    }
  }
}
