{
synchronized (this) {
    int index=(token != null) ? indexOfTokenLocked(token) : -1;
    if (index < 0) {
      throw new IllegalArgumentException();
    }
    HistoryRecord r=(HistoryRecord)mHistory.get(index);
    return r.immersive;
  }
}
