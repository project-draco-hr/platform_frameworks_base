{
  skipEmptyTextTags(parser);
  if (!accept(parser,XmlPullParser.START_TAG,TAG_PRINTER)) {
    return false;
  }
  String name=parser.getAttributeValue(null,ATTR_NAME);
  String description=parser.getAttributeValue(null,ATTR_DESCRIPTION);
  parser.next();
  skipEmptyTextTags(parser);
  expect(parser,XmlPullParser.START_TAG,TAG_PRINTER_ID);
  String localId=parser.getAttributeValue(null,ATTR_LOCAL_ID);
  ComponentName service=ComponentName.unflattenFromString(parser.getAttributeValue(null,ATTR_SERVICE_NAME));
  PrinterId printerId=new PrinterId(service,localId);
  parser.next();
  skipEmptyTextTags(parser);
  expect(parser,XmlPullParser.END_TAG,TAG_PRINTER_ID);
  parser.next();
  skipEmptyTextTags(parser);
  Location location;
  if (accept(parser,XmlPullParser.START_TAG,TAG_LOCATION)) {
    location=new Location("");
    location.setLongitude(Double.parseDouble(parser.getAttributeValue(null,ATTR_LONGITUDE)));
    location.setLatitude(Double.parseDouble(parser.getAttributeValue(null,ATTR_LATITUDE)));
    location.setAccuracy(Float.parseFloat(parser.getAttributeValue(null,ATTR_ACCURACY)));
    parser.next();
    skipEmptyTextTags(parser);
    expect(parser,XmlPullParser.END_TAG,TAG_LOCATION);
    parser.next();
  }
 else {
    location=null;
  }
  PrinterInfo.Builder builder=new PrinterInfo.Builder(printerId,name,PrinterInfo.STATUS_UNAVAILABLE);
  builder.setDescription(description);
  PrinterInfo printer=builder.build();
  outPrinters.add(new Pair<PrinterInfo,Location>(printer,location));
  if (DEBUG) {
    Log.i(LOG_TAG,"[RESTORED] " + printer);
  }
  skipEmptyTextTags(parser);
  expect(parser,XmlPullParser.END_TAG,TAG_PRINTER);
  return true;
}
