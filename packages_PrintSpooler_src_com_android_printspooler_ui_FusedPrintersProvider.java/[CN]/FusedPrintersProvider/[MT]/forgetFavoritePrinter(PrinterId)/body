{
  List<PrinterInfo> newFavoritePrinters=null;
  final int favoritePrinterCount=mFavoritePrinters.size();
  for (int i=0; i < favoritePrinterCount; i++) {
    PrinterInfo favoritePrinter=mFavoritePrinters.get(i);
    if (favoritePrinter.getId().equals(printerId)) {
      newFavoritePrinters=new ArrayList<PrinterInfo>();
      newFavoritePrinters.addAll(mPrinters);
      newFavoritePrinters.remove(i);
      break;
    }
  }
  if (newFavoritePrinters != null) {
    mPersistenceManager.removeHistoricalPrinterAndWritePrinterHistory(printerId);
    updatePrinters(mDiscoverySession.getPrinters(),newFavoritePrinters);
  }
}
