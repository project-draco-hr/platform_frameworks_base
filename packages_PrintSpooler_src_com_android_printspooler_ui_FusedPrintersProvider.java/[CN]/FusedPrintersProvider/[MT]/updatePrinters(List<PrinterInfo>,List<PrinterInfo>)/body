{
  if (mPrintersUpdatedBefore && mPrinters.equals(printers) && mFavoritePrinters.equals(favoritePrinters)) {
    return;
  }
  mPrintersUpdatedBefore=true;
  mPersistenceManager.updatePrintersHistoricalNamesIfNeeded(printers);
  ArrayMap<PrinterId,PrinterInfo> printersMap=new ArrayMap<>();
  final int printerCount=printers.size();
  for (int i=0; i < printerCount; i++) {
    PrinterInfo printer=printers.get(i);
    printersMap.put(printer.getId(),printer);
  }
  ArrayMap<PrinterId,PrinterInfo> favoritePrintersMap=new ArrayMap<>();
  final int favoritePrinterCount=favoritePrinters.size();
  for (int i=0; i < favoritePrinterCount; i++) {
    PrinterInfo favoritePrinter=favoritePrinters.get(i);
    favoritePrintersMap.put(favoritePrinter.getId(),favoritePrinter);
  }
  computeAndDeliverResult(printersMap,favoritePrintersMap);
}
