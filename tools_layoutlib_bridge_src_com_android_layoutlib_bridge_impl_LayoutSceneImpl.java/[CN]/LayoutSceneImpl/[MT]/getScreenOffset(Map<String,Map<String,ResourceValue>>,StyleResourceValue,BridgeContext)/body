{
  int offset=0;
  ResourceValue value=context.findItemInStyle(currentTheme,"windowNoTitle");
  value=context.resolveResValue(value);
  if (value == null || value.getValue() == null || XmlUtils.convertValueToBoolean(value.getValue(),false) == false) {
    int defaultOffset=DEFAULT_TITLE_BAR_HEIGHT;
    value=context.findItemInStyle(currentTheme,"windowTitleSize");
    value=context.resolveResValue(value);
    if (value != null) {
      TypedValue typedValue=ResourceHelper.getValue(value.getValue());
      if (typedValue != null) {
        defaultOffset=(int)typedValue.getDimension(context.getResources().mMetrics);
      }
    }
    offset+=defaultOffset;
  }
  value=context.findItemInStyle(currentTheme,"windowFullscreen");
  value=context.resolveResValue(value);
  if (value == null || value.getValue() == null || XmlUtils.convertValueToBoolean(value.getValue(),false) == false) {
    int defaultOffset=DEFAULT_STATUS_BAR_HEIGHT;
    Map<String,ResourceValue> dimens=frameworkResources.get(BridgeConstants.RES_DIMEN);
    value=dimens.get("status_bar_height");
    if (value != null) {
      TypedValue typedValue=ResourceHelper.getValue(value.getValue());
      if (typedValue != null) {
        defaultOffset=(int)typedValue.getDimension(context.getResources().mMetrics);
      }
    }
    offset+=defaultOffset;
  }
  return offset;
}
