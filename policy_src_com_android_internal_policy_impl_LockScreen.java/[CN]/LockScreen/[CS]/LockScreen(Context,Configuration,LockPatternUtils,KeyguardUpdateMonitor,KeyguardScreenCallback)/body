{
  super(context);
  mLockPatternUtils=lockPatternUtils;
  mUpdateMonitor=updateMonitor;
  mCallback=callback;
  mEnableMenuKeyInLockScreen=shouldEnableMenuKey();
  mCreationOrientation=configuration.orientation;
  if (LockPatternKeyguardView.DEBUG_CONFIGURATION) {
    Log.v(TAG,"***** CREATING LOCK SCREEN",new RuntimeException());
    Log.v(TAG,"Cur orient=" + mCreationOrientation + " res orient="+ context.getResources().getConfiguration().orientation);
  }
  final LayoutInflater inflater=LayoutInflater.from(context);
  if (DBG)   Log.v(TAG,"Creation orientation = " + mCreationOrientation);
  if (mCreationOrientation != Configuration.ORIENTATION_LANDSCAPE) {
    inflater.inflate(R.layout.keyguard_screen_tab_unlock,this,true);
  }
 else {
    inflater.inflate(R.layout.keyguard_screen_tab_unlock_land,this,true);
  }
  mStatusViewManager=new KeyguardStatusViewManager(this,mUpdateMonitor,mLockPatternUtils,mCallback,false);
  setFocusable(true);
  setFocusableInTouchMode(true);
  setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);
  mAudioManager=(AudioManager)mContext.getSystemService(Context.AUDIO_SERVICE);
  mSilentMode=isSilentMode();
  mUnlockWidget=findViewById(R.id.unlock_widget);
  mUnlockWidgetMethods=createUnlockMethods(mUnlockWidget);
  if (DBG)   Log.v(TAG,"*** LockScreen accel is " + (mUnlockWidget.isHardwareAccelerated() ? "on" : "off"));
}
