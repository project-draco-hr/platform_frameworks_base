{
  int resId;
  if (mCameraDisabled && mEnableRingSilenceFallback) {
    resId=mSilentMode ? R.array.lockscreen_targets_when_silent : R.array.lockscreen_targets_when_soundon;
  }
 else {
    resId=R.array.lockscreen_targets_with_camera;
  }
  if (mMultiWaveView.getTargetResourceId() != resId) {
    mMultiWaveView.setTargetResources(resId);
  }
  if (!mSearchDisabled) {
    SearchManager searchManager=getSearchManager();
    if (searchManager != null) {
      ComponentName component=searchManager.getGlobalSearchActivity();
      if (component != null) {
        if (!mMultiWaveView.replaceTargetDrawablesIfPresent(component,ASSIST_ICON_METADATA_NAME,com.android.internal.R.drawable.ic_lockscreen_search)) {
          Slog.w(TAG,"Couldn't grab icon from package " + component);
        }
      }
 else {
        Slog.w(TAG,"No search icon specified in package " + component);
      }
    }
 else {
      Slog.w(TAG,"No SearchManager");
    }
  }
  setEnabled(com.android.internal.R.drawable.ic_lockscreen_camera,!mCameraDisabled);
  setEnabled(com.android.internal.R.drawable.ic_lockscreen_search,!mSearchDisabled);
}
