{
  if (DBG)   Log.d(TAG,"updateLayout: status=" + status);
  mEmergencyCallButton.setVisibility(View.GONE);
switch (status) {
case Normal:
    mStatusView.setCarrierText(getCarrierString(mUpdateMonitor.getTelephonyPlmn(),mUpdateMonitor.getTelephonySpn()));
  mScreenLocked.setText("");
mScreenLocked.setVisibility(View.INVISIBLE);
mEmergencyCallText.setVisibility(View.GONE);
enableUnlock();
break;
case NetworkLocked:
mStatusView.setCarrierText(getCarrierString(mUpdateMonitor.getTelephonyPlmn(),getContext().getText(R.string.lockscreen_network_locked_message)));
mScreenLocked.setText(R.string.lockscreen_instructions_when_pattern_disabled);
mScreenLocked.setVisibility(View.VISIBLE);
mEmergencyCallText.setVisibility(View.GONE);
enableUnlock();
break;
case SimMissing:
mStatusView.setCarrierText(R.string.lockscreen_missing_sim_message_short);
mScreenLocked.setText(R.string.lockscreen_missing_sim_instructions_long);
mScreenLocked.setVisibility(View.VISIBLE);
mLockPatternUtils.updateEmergencyCallText(mEmergencyCallText);
enableUnlock();
break;
case SimPermDisabled:
mStatusView.setCarrierText(R.string.lockscreen_missing_sim_message_short);
mScreenLocked.setText(R.string.lockscreen_permanent_disabled_sim_instructions);
mScreenLocked.setVisibility(View.VISIBLE);
mLockPatternUtils.updateEmergencyCallText(mEmergencyCallText);
enableUnlock();
break;
case SimMissingLocked:
mStatusView.setCarrierText(getCarrierString(mUpdateMonitor.getTelephonyPlmn(),getContext().getText(R.string.lockscreen_missing_sim_message_short)));
mScreenLocked.setText(R.string.lockscreen_missing_sim_instructions);
mScreenLocked.setVisibility(View.VISIBLE);
mLockPatternUtils.updateEmergencyCallText(mEmergencyCallText);
mLockPatternUtils.updateEmergencyCallButtonState(mEmergencyCallButton);
disableUnlock();
break;
case SimLocked:
mStatusView.setCarrierText(getCarrierString(mUpdateMonitor.getTelephonyPlmn(),getContext().getText(R.string.lockscreen_sim_locked_message)));
mScreenLocked.setVisibility(View.INVISIBLE);
mEmergencyCallText.setVisibility(View.GONE);
enableUnlock();
break;
case SimPukLocked:
mStatusView.setCarrierText(getCarrierString(mUpdateMonitor.getTelephonyPlmn(),getContext().getText(R.string.lockscreen_sim_puk_locked_message)));
mScreenLocked.setText(R.string.lockscreen_sim_puk_locked_instructions);
mLockPatternUtils.updateEmergencyCallText(mEmergencyCallText);
mLockPatternUtils.updateEmergencyCallButtonState(mEmergencyCallButton);
if (mLockPatternUtils.isPukUnlockScreenEnable()) {
mScreenLocked.setVisibility(View.INVISIBLE);
enableUnlock();
}
 else {
mScreenLocked.setVisibility(View.VISIBLE);
disableUnlock();
}
break;
}
}
