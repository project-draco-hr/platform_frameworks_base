{
  if (!checkCallingPermission(android.Manifest.permission.MANAGE_APP_TOKENS,"setAppFreezingScreen()")) {
    throw new SecurityException("Requires MANAGE_APP_TOKENS permission");
  }
synchronized (mWindowMap) {
    AppWindowToken wtoken=findAppWindowToken(token);
    if (wtoken == null || wtoken.appToken == null) {
      return;
    }
    final long origId=Binder.clearCallingIdentity();
    if (DEBUG_ORIENTATION)     Slog.v(TAG,"Clear freezing of " + token + ": hidden="+ wtoken.hidden+ " freezing="+ wtoken.mAppAnimator.freezingScreen);
    unsetAppFreezingScreenLocked(wtoken,true,force);
    Binder.restoreCallingIdentity(origId);
  }
}
