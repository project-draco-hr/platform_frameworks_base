{
synchronized (mWindowMap) {
    if (mNextAppTransition != WindowManagerPolicy.TRANSIT_UNSET) {
      mNextAppTransitionType=delayed ? ActivityOptions.ANIM_THUMBNAIL_DELAYED : ActivityOptions.ANIM_THUMBNAIL;
      mNextAppTransitionPackage=null;
      mNextAppTransitionThumbnail=srcThumb;
      mNextAppTransitionDelayed=delayed;
      mNextAppTransitionStartX=startX;
      mNextAppTransitionStartY=startY;
      scheduleAnimationCallback(mNextAppTransitionCallback);
      mNextAppTransitionCallback=startedCallback;
    }
 else {
      scheduleAnimationCallback(startedCallback);
    }
  }
}
