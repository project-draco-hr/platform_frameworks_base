{
synchronized (mWindowMap) {
    if (mNextAppTransition != WindowManagerPolicy.TRANSIT_UNSET) {
      mNextAppTransitionType=scaleUp ? ActivityOptions.ANIM_THUMBNAIL_SCALE_UP : ActivityOptions.ANIM_THUMBNAIL_SCALE_DOWN;
      mNextAppTransitionPackage=null;
      mNextAppTransitionThumbnail=srcThumb;
      mNextAppTransitionScaleUp=scaleUp;
      mNextAppTransitionStartX=startX;
      mNextAppTransitionStartY=startY;
      scheduleAnimationCallback(mNextAppTransitionCallback);
      mNextAppTransitionCallback=startedCallback;
    }
 else {
      scheduleAnimationCallback(startedCallback);
    }
  }
}
