{
synchronized (mWindowMap) {
    if (mNextAppTransition != WindowManagerPolicy.TRANSIT_UNSET) {
      mNextAppTransitionType=ActivityOptions.ANIM_CUSTOM;
      mNextAppTransitionPackage=packageName;
      mNextAppTransitionThumbnail=null;
      mNextAppTransitionEnter=enterAnim;
      mNextAppTransitionExit=exitAnim;
      scheduleAnimationCallback(mNextAppTransitionCallback);
      mNextAppTransitionCallback=startedCallback;
    }
 else {
      scheduleAnimationCallback(startedCallback);
    }
  }
}
