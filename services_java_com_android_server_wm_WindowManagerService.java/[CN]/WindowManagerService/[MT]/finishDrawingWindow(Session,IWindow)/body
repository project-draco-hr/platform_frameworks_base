{
  final long origId=Binder.clearCallingIdentity();
synchronized (mWindowMap) {
    WindowState win=windowForClientLocked(session,client,false);
    if (win != null && win.mWinAnimator.finishDrawingLocked()) {
      if ((win.mAttrs.flags & FLAG_SHOW_WALLPAPER) != 0) {
        getDefaultDisplayContentLocked().pendingLayoutChanges|=WindowManagerPolicy.FINISH_LAYOUT_REDO_WALLPAPER;
      }
      win.mDisplayContent.layoutNeeded=true;
      performLayoutAndPlaceSurfacesLocked();
    }
  }
  Binder.restoreCallingIdentity(origId);
}
