{
  int i;
  final int NAT=mAppTokens.size();
  for (i=0; i < NAT; i++) {
    final AppWindowToken appToken=mAppTokens.get(i);
    if (appToken.stepAnimationLocked(currentTime,innerDw,innerDh)) {
      mInnerFields.mAnimating=true;
    }
  }
  final int NEAT=mExitingAppTokens.size();
  for (i=0; i < NEAT; i++) {
    final AppWindowToken appToken=mExitingAppTokens.get(i);
    if (appToken.stepAnimationLocked(currentTime,innerDw,innerDh)) {
      mInnerFields.mAnimating=true;
    }
  }
  if (mScreenRotationAnimation != null && (mScreenRotationAnimation.isAnimating() || mScreenRotationAnimation.mFinishAnimReady)) {
    if (mScreenRotationAnimation.stepAnimationLocked(currentTime)) {
      mInnerFields.mUpdateRotation=false;
      mInnerFields.mAnimating=true;
    }
 else {
      mInnerFields.mUpdateRotation=true;
      mScreenRotationAnimation.kill();
      mScreenRotationAnimation=null;
    }
  }
}
