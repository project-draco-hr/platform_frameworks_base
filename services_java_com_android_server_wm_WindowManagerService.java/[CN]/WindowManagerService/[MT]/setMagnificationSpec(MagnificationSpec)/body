{
  if (!checkCallingPermission(android.Manifest.permission.MAGNIFY_DISPLAY,"setMagnificationSpec()")) {
    throw new SecurityException("Requires MAGNIFY_DISPLAY permission.");
  }
synchronized (mWindowMap) {
    if (mDisplayMagnifier != null) {
      mDisplayMagnifier.setMagnificationSpecLocked(spec);
    }
 else {
      throw new IllegalStateException("Magnification callbacks not set!");
    }
  }
  if (Binder.getCallingPid() != android.os.Process.myPid()) {
    spec.recycle();
  }
}
