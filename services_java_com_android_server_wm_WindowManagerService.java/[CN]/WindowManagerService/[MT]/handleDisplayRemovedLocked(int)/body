{
  final DisplayContent displayContent=getDisplayContentLocked(displayId);
  if (displayContent != null) {
    mDisplayContents.delete(displayId);
    displayContent.close();
    if (displayId == Display.DEFAULT_DISPLAY) {
      unregisterPointerEventListener(displayContent.mTapDetector);
    }
    WindowList windows=displayContent.getWindowList();
    while (!windows.isEmpty()) {
      final WindowState win=windows.get(windows.size() - 1);
      removeWindowLocked(win.mSession,win,true);
    }
  }
  mAnimator.removeDisplayLocked(displayId);
}
