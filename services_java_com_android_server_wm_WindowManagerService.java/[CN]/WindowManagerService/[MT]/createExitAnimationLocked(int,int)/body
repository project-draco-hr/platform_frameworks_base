{
  if (transit == WindowManagerPolicy.TRANSIT_WALLPAPER_INTRA_OPEN || transit == WindowManagerPolicy.TRANSIT_WALLPAPER_INTRA_CLOSE) {
    Animation a=new AlphaAnimation(1,0);
    a.setDetachWallpaper(true);
    a.setDuration(duration);
    return a;
  }
 else {
    Animation a=new AlphaAnimation(1,1);
    a.setDuration(duration);
    return a;
  }
}
