{
  if (!checkCallingPermission(android.Manifest.permission.RETRIEVE_WINDOW_INFO,"removeDisplayContentChangeListener()")) {
    throw new SecurityException("Requires RETRIEVE_WINDOW_INFO permission");
  }
synchronized (mWindowMap) {
    DisplayContent displayContent=getDisplayContentLocked(displayId);
    if (displayContent != null) {
      if (displayContent.mDisplayContentChangeListeners != null) {
        displayContent.mDisplayContentChangeListeners.unregister(listener);
        if (displayContent.mDisplayContentChangeListeners.getRegisteredCallbackCount() == 0) {
          displayContent.mDisplayContentChangeListeners=null;
        }
      }
    }
  }
}
