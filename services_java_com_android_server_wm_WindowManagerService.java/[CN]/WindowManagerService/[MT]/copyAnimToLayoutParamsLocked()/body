{
  boolean doRequest=false;
  final WindowAnimator.AnimatorToLayoutParams animToLayout=mAnimator.mAnimToLayout;
synchronized (animToLayout) {
    animToLayout.mUpdateQueued=false;
    final int bulkUpdateParams=animToLayout.mBulkUpdateParams;
    if ((bulkUpdateParams & LayoutFields.SET_UPDATE_ROTATION) != 0) {
      mInnerFields.mUpdateRotation=true;
      doRequest=true;
    }
    if ((bulkUpdateParams & LayoutFields.SET_WALLPAPER_MAY_CHANGE) != 0) {
      mInnerFields.mWallpaperMayChange=true;
      doRequest=true;
    }
    if ((bulkUpdateParams & LayoutFields.SET_FORCE_HIDING_CHANGED) != 0) {
      mInnerFields.mWallpaperForceHidingChanged=true;
      doRequest=true;
    }
    if ((bulkUpdateParams & LayoutFields.SET_ORIENTATION_CHANGE_COMPLETE) == 0) {
      mInnerFields.mOrientationChangeComplete=false;
    }
 else {
      mInnerFields.mOrientationChangeComplete=true;
      if (mWindowsFreezingScreen) {
        doRequest=true;
      }
    }
    if ((bulkUpdateParams & LayoutFields.SET_TURN_ON_SCREEN) != 0) {
      mTurnOnScreen=true;
    }
    SparseIntArray pendingLayouts=animToLayout.mPendingLayoutChanges;
    final int count=pendingLayouts.size();
    if (count > 0) {
      doRequest=true;
    }
    for (int i=0; i < count; ++i) {
      final DisplayContent displayContent=getDisplayContent(pendingLayouts.keyAt(i));
      displayContent.pendingLayoutChanges|=pendingLayouts.valueAt(i);
    }
    mWindowDetachedWallpaper=animToLayout.mWindowDetachedWallpaper;
  }
  return doRequest;
}
