{
synchronized (mWindowMap) {
    final DisplayContent displayContent=getDisplayContent(displayId);
    final DisplayInfo displayInfo;
synchronized (displayContent.mDisplaySizeLock) {
      displayInfo=displayContent.getDisplayInfo();
      DisplayInfo newDisplayInfo=mDisplayManagerService.getDisplayInfo(displayId);
      if (newDisplayInfo != null) {
        displayInfo.copyFrom(newDisplayInfo);
      }
      displayContent.mInitialDisplayWidth=displayInfo.logicalWidth;
      displayContent.mInitialDisplayHeight=displayInfo.logicalHeight;
      displayContent.mInitialDisplayDensity=displayInfo.logicalDensityDpi;
      displayContent.mBaseDisplayWidth=displayContent.mInitialDisplayWidth;
      displayContent.mBaseDisplayHeight=displayContent.mInitialDisplayHeight;
      displayContent.mBaseDisplayDensity=displayContent.mInitialDisplayDensity;
    }
  }
}
