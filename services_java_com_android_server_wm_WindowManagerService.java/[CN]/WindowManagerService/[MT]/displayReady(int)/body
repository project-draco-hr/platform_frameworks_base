{
synchronized (mWindowMap) {
    final DisplayContent displayContent=getDisplayContentLocked(displayId);
    if (displayContent != null) {
      mAnimator.addDisplayLocked(displayId);
synchronized (displayContent.mDisplaySizeLock) {
        final DisplayInfo displayInfo=displayContent.getDisplayInfo();
        DisplayInfo newDisplayInfo=mDisplayManagerService.getDisplayInfo(displayId);
        if (newDisplayInfo != null) {
          displayInfo.copyFrom(newDisplayInfo);
        }
        displayContent.mInitialDisplayWidth=displayInfo.logicalWidth;
        displayContent.mInitialDisplayHeight=displayInfo.logicalHeight;
        displayContent.mInitialDisplayDensity=displayInfo.logicalDensityDpi;
        displayContent.mBaseDisplayWidth=displayContent.mInitialDisplayWidth;
        displayContent.mBaseDisplayHeight=displayContent.mInitialDisplayHeight;
        displayContent.mBaseDisplayDensity=displayContent.mInitialDisplayDensity;
      }
    }
  }
}
