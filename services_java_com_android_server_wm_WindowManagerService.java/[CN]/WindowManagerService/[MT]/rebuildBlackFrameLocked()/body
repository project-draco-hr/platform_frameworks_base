{
  if (mBlackFrame != null) {
    mBlackFrame.kill();
    mBlackFrame=null;
  }
  final DisplayContent displayContent=getDefaultDisplayContentLocked();
  final Display display=displayContent.getDisplay();
  if (displayContent.mBaseDisplayWidth < displayContent.mInitialDisplayWidth || displayContent.mBaseDisplayHeight < displayContent.mInitialDisplayHeight) {
    int initW, initH, baseW, baseH;
    final boolean rotated=(mRotation == Surface.ROTATION_90 || mRotation == Surface.ROTATION_270);
    if (DEBUG_BOOT) {
      Slog.i(TAG,"BLACK FRAME: rotated=" + rotated + " init="+ displayContent.mInitialDisplayWidth+ "x"+ displayContent.mInitialDisplayHeight+ " base="+ displayContent.mBaseDisplayWidth+ "x"+ displayContent.mBaseDisplayHeight);
    }
    if (rotated) {
      initW=displayContent.mInitialDisplayHeight;
      initH=displayContent.mInitialDisplayWidth;
      baseW=displayContent.mBaseDisplayHeight;
      baseH=displayContent.mBaseDisplayWidth;
    }
 else {
      initW=displayContent.mInitialDisplayWidth;
      initH=displayContent.mInitialDisplayHeight;
      baseW=displayContent.mBaseDisplayWidth;
      baseH=displayContent.mBaseDisplayHeight;
    }
    Rect outer=new Rect(0,0,initW,initH);
    Rect inner=new Rect(0,0,baseW,baseH);
    try {
      mBlackFrame=new BlackFrame(mFxSession,outer,inner,MASK_LAYER,display.getLayerStack());
    }
 catch (    Surface.OutOfResourcesException e) {
    }
  }
}
