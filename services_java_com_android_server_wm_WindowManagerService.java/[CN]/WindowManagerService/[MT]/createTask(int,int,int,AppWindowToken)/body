{
  final TaskStack stack=mStackIdToStack.get(stackId);
  if (stack == null) {
    throw new IllegalArgumentException("addAppToken: invalid stackId=" + stackId);
  }
  Task task=new Task(atoken,stack,userId);
  stack.addTask(task,true);
  stack.getDisplayContent().moveStack(stack,true);
  mTaskIdToTask.put(taskId,task);
  return task;
}
