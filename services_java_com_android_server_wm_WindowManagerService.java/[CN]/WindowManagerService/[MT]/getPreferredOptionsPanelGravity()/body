{
synchronized (mWindowMap) {
    final int rotation=getRotation();
    if (mInitialDisplayWidth < mInitialDisplayHeight) {
switch (rotation) {
default :
case Surface.ROTATION_0:
        return Gravity.CENTER_HORIZONTAL | Gravity.BOTTOM;
case Surface.ROTATION_90:
      return Gravity.RIGHT | Gravity.CENTER_VERTICAL;
case Surface.ROTATION_180:
    return Gravity.CENTER_HORIZONTAL | Gravity.TOP;
case Surface.ROTATION_270:
  return Gravity.LEFT | Gravity.CENTER_VERTICAL;
}
}
 else {
switch (rotation) {
default :
case Surface.ROTATION_0:
return Gravity.RIGHT | Gravity.CENTER_VERTICAL;
case Surface.ROTATION_90:
return Gravity.CENTER_HORIZONTAL | Gravity.BOTTOM;
case Surface.ROTATION_180:
return Gravity.LEFT | Gravity.CENTER_VERTICAL;
case Surface.ROTATION_270:
return Gravity.CENTER_HORIZONTAL | Gravity.TOP;
}
}
}
}
