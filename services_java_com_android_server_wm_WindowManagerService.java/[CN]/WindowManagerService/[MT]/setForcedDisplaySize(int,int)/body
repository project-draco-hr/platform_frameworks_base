{
synchronized (mWindowMap) {
    int width, height;
    if (mInitialDisplayWidth < mInitialDisplayHeight) {
      width=shortDimen < mInitialDisplayWidth ? shortDimen : mInitialDisplayWidth;
      height=longDimen < mInitialDisplayHeight ? longDimen : mInitialDisplayHeight;
    }
 else {
      width=longDimen < mInitialDisplayWidth ? longDimen : mInitialDisplayWidth;
      height=shortDimen < mInitialDisplayHeight ? shortDimen : mInitialDisplayHeight;
    }
    setForcedDisplaySizeLocked(width,height);
    Settings.Secure.putString(mContext.getContentResolver(),Settings.Secure.DISPLAY_SIZE_FORCED,width + "," + height);
  }
}
