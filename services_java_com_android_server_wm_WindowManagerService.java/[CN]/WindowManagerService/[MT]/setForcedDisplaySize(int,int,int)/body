{
  if (mContext.checkCallingOrSelfPermission(android.Manifest.permission.WRITE_SECURE_SETTINGS) != PackageManager.PERMISSION_GRANTED) {
    throw new SecurityException("Must hold permission " + android.Manifest.permission.WRITE_SECURE_SETTINGS);
  }
  if (displayId != Display.DEFAULT_DISPLAY) {
    throw new IllegalArgumentException("Can only set the default display");
  }
  final long ident=Binder.clearCallingIdentity();
  try {
synchronized (mWindowMap) {
      final int MIN_WIDTH=200;
      final int MIN_HEIGHT=200;
      final int MAX_SCALE=2;
      final DisplayContent displayContent=getDisplayContentLocked(displayId);
      if (displayContent != null) {
        width=Math.min(Math.max(width,MIN_WIDTH),displayContent.mInitialDisplayWidth * MAX_SCALE);
        height=Math.min(Math.max(height,MIN_HEIGHT),displayContent.mInitialDisplayHeight * MAX_SCALE);
        setForcedDisplaySizeLocked(displayContent,width,height);
        Settings.Global.putString(mContext.getContentResolver(),Settings.Global.DISPLAY_SIZE_FORCED,width + "," + height);
      }
    }
  }
  finally {
    Binder.restoreCallingIdentity(ident);
  }
}
