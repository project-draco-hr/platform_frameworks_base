{
  if (!checkCallingPermission(android.Manifest.permission.MAGNIFY_DISPLAY,"magnifyDisplay()")) {
    throw new SecurityException("Requires MAGNIFY_DISPLAY permission");
  }
synchronized (mWindowMap) {
    MagnificationSpec spec=getDisplayMagnificationSpecLocked(displayId);
    if (spec != null) {
      final boolean scaleChanged=spec.mScale != scale;
      final boolean offsetChanged=spec.mOffsetX != offsetX || spec.mOffsetY != offsetY;
      if (!scaleChanged && !offsetChanged) {
        return;
      }
      spec.initialize(scale,offsetX,offsetY);
      if (offsetChanged) {
        if (displayId == Display.DEFAULT_DISPLAY) {
          mInputMonitor.updateInputWindowsLw(true);
        }
      }
      scheduleAnimationLocked();
    }
  }
}
