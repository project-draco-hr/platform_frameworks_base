{
  Animation a;
  final float thumbWidth=mNextAppTransitionThumbnail.getWidth();
  final float thumbHeight=mNextAppTransitionThumbnail.getHeight();
  int duration;
switch (transit) {
case WindowManagerPolicy.TRANSIT_ACTIVITY_OPEN:
case WindowManagerPolicy.TRANSIT_ACTIVITY_CLOSE:
    duration=mContext.getResources().getInteger(com.android.internal.R.integer.config_shortAnimTime);
  break;
default :
duration=500;
break;
}
if (thumb) {
Animation scale=new ScaleAnimation(1,mAppDisplayWidth / thumbWidth,1,mAppDisplayHeight / thumbHeight,mNextAppTransitionStartX + thumbWidth / 2,mNextAppTransitionStartY + thumbHeight / 2);
AnimationSet set=new AnimationSet(true);
Animation alpha=new AlphaAnimation(1,0);
scale.setDuration(duration);
set.addAnimation(scale);
alpha.setDuration(duration);
set.addAnimation(alpha);
a=set;
}
 else if (enter) {
a=new ScaleAnimation(thumbWidth / mAppDisplayWidth,1,thumbHeight / mAppDisplayHeight,1,mNextAppTransitionStartX + thumbWidth / 2,mNextAppTransitionStartY + thumbHeight / 2);
a.setDuration(duration);
}
 else {
a=new AlphaAnimation(1,1);
a.setDuration(duration);
}
a.setFillAfter(true);
final Interpolator interpolator=AnimationUtils.loadInterpolator(mContext,com.android.internal.R.interpolator.decelerate_quint);
a.setInterpolator(interpolator);
a.initialize(mAppDisplayWidth,mAppDisplayHeight,mAppDisplayWidth,mAppDisplayHeight);
return a;
}
