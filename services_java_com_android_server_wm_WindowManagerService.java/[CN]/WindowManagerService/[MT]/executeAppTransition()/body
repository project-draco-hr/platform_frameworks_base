{
  if (!checkCallingPermission(android.Manifest.permission.MANAGE_APP_TOKENS,"executeAppTransition()")) {
    throw new SecurityException("Requires MANAGE_APP_TOKENS permission");
  }
synchronized (mWindowMap) {
    if (DEBUG_APP_TRANSITIONS) {
      RuntimeException e=new RuntimeException("here");
      e.fillInStackTrace();
      Slog.w(TAG,"Execute app transition: mNextAppTransition=" + mNextAppTransition,e);
    }
    if (mNextAppTransition != WindowManagerPolicy.TRANSIT_UNSET) {
      mAppTransitionReady=true;
      final long origId=Binder.clearCallingIdentity();
      performLayoutAndPlaceSurfacesLocked();
      Binder.restoreCallingIdentity(origId);
    }
  }
}
