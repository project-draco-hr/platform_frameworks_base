{
  if (okToDisplay()) {
    DisplayInfo displayInfo=getDefaultDisplayInfoLocked();
    if (DEBUG_APP_TRANSITIONS || DEBUG_ANIM)     Slog.v(TAG,"applyAnimation: atoken=" + atoken);
    Animation a=mAppTransition.loadAnimation(lp,transit,enter,displayInfo.appWidth,displayInfo.appHeight);
    if (a != null) {
      if (DEBUG_ANIM) {
        RuntimeException e=null;
        if (!HIDE_STACK_CRAWLS) {
          e=new RuntimeException();
          e.fillInStackTrace();
        }
        Slog.v(TAG,"Loaded animation " + a + " for "+ atoken,e);
      }
      atoken.mAppAnimator.setAnimation(a);
    }
  }
 else {
    atoken.mAppAnimator.clearAnimation();
  }
  return atoken.mAppAnimator.animation != null;
}
