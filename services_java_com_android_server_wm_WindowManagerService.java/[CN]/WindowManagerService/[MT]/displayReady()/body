{
  displayReady(Display.DEFAULT_DISPLAY);
synchronized (mWindowMap) {
    WindowManager wm=(WindowManager)mContext.getSystemService(Context.WINDOW_SERVICE);
    mDisplay=wm.getDefaultDisplay();
    mIsTouchDevice=mContext.getPackageManager().hasSystemFeature(PackageManager.FEATURE_TOUCHSCREEN);
    final DisplayInfo displayInfo=getDefaultDisplayInfo();
    mAnimator.setDisplayDimensions(displayInfo.logicalWidth,displayInfo.logicalHeight,displayInfo.appWidth,displayInfo.appHeight);
    DisplayDeviceInfo info=new DisplayDeviceInfo();
    mDisplayManager.getDefaultExternalDisplayDeviceInfo(info);
    final DisplayContent displayContent=getDefaultDisplayContent();
    mInputManager.setDisplaySize(Display.DEFAULT_DISPLAY,displayContent.mInitialDisplayWidth,displayContent.mInitialDisplayHeight,info.width,info.height);
    mInputManager.setDisplayOrientation(Display.DEFAULT_DISPLAY,mDisplay.getRotation(),Surface.ROTATION_0);
    mPolicy.setInitialDisplaySize(mDisplay,displayContent.mInitialDisplayWidth,displayContent.mInitialDisplayHeight,displayContent.mInitialDisplayDensity);
  }
}
