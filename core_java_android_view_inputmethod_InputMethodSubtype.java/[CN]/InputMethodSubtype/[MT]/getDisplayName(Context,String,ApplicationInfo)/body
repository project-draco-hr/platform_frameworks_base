{
  final Locale locale=getLocaleObject();
  final String localeStr=locale != null ? locale.getDisplayName() : mSubtypeLocale;
  if (mSubtypeNameResId == 0) {
    return localeStr;
  }
  final CharSequence subtypeName=context.getPackageManager().getText(packageName,mSubtypeNameResId,appInfo);
  if (!TextUtils.isEmpty(subtypeName)) {
    final String replacementString=containsExtraValueKey(EXTRA_KEY_UNTRANSLATABLE_STRING_IN_SUBTYPE_NAME) ? getExtraValueOf(EXTRA_KEY_UNTRANSLATABLE_STRING_IN_SUBTYPE_NAME) : localeStr;
    try {
      return String.format(subtypeName.toString(),replacementString != null ? replacementString : "");
    }
 catch (    IllegalFormatException e) {
      Slog.w(TAG,"Found illegal format in subtype name(" + subtypeName + "): "+ e);
      return "";
    }
  }
 else {
    return localeStr;
  }
}
