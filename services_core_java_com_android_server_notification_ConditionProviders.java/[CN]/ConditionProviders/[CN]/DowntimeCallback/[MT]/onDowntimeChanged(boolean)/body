{
  final int mode=mZenModeHelper.getZenMode();
  final ZenModeConfig config=mZenModeHelper.getConfig();
  if (inDowntime && mode == Global.ZEN_MODE_OFF && config != null) {
    final Condition condition=mDowntime.createCondition(config.toDowntimeInfo(),Condition.STATE_TRUE);
    mZenModeHelper.setZenMode(Global.ZEN_MODE_IMPORTANT_INTERRUPTIONS,"downtimeEnter");
    setZenModeCondition(condition,"downtime");
  }
  if (!inDowntime && mDowntime.isDowntimeCondition(mExitCondition) && (mode == Global.ZEN_MODE_IMPORTANT_INTERRUPTIONS || mode == Global.ZEN_MODE_NO_INTERRUPTIONS)) {
    mZenModeHelper.setZenMode(Global.ZEN_MODE_OFF,"downtimeExit");
  }
}
