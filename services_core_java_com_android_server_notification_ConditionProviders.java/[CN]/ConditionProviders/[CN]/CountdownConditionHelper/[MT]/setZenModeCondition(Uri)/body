{
  final long time=tryParseCondition(conditionId);
  final AlarmManager alarms=(AlarmManager)mContext.getSystemService(Context.ALARM_SERVICE);
  final Intent intent=new Intent(ACTION).putExtra(EXTRA_TIME,time).setFlags(Intent.FLAG_RECEIVER_REGISTERED_ONLY);
  final PendingIntent pendingIntent=PendingIntent.getBroadcast(mContext,REQUEST_CODE,intent,PendingIntent.FLAG_UPDATE_CURRENT);
  alarms.cancel(pendingIntent);
  mCurrent=time;
  if (time > 0) {
    final long now=System.currentTimeMillis();
    final CharSequence span=DateUtils.getRelativeTimeSpanString(time,now,DateUtils.MINUTE_IN_MILLIS);
    Slog.d(TAG,String.format("Scheduling %s for %s, %s in the future (%s), now=%s",ACTION,ts(time),time - now,span,ts(now)));
    alarms.setExact(AlarmManager.RTC_WAKEUP,time,pendingIntent);
  }
}
