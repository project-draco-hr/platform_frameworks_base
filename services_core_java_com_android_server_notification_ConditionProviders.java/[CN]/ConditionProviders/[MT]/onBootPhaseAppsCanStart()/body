{
  super.onBootPhaseAppsCanStart();
  mCountdown.attachBase(mContext);
  registerService(mCountdown.asInterface(),CountdownConditionProvider.COMPONENT,UserHandle.USER_OWNER);
  mDowntime.attachBase(mContext);
  registerService(mDowntime.asInterface(),DowntimeConditionProvider.COMPONENT,UserHandle.USER_OWNER);
  mDowntime.setCallback(new DowntimeCallback());
  mNextAlarm.attachBase(mContext);
  registerService(mNextAlarm.asInterface(),NextAlarmConditionProvider.COMPONENT,UserHandle.USER_OWNER);
  mNextAlarm.setCallback(new NextAlarmConditionProvider.Callback(){
    @Override public boolean isInDowntime(){
      return mDowntime.isInDowntime();
    }
  }
);
}
