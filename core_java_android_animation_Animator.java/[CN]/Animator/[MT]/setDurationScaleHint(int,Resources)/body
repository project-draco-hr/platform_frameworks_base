{
  if (ANIM_DEBUG) {
    Log.d("ANIM_DEBUG","distance based duration hint: " + hint);
  }
  if (hint == mDurationScaleHint) {
    return;
  }
  mDurationScaleHint=hint;
  if (hint != HINT_NO_SCALE) {
    int uiMode=res.getConfiguration().uiMode & Configuration.UI_MODE_TYPE_MASK;
    DisplayMetrics metrics=res.getDisplayMetrics();
    float width=metrics.widthPixels / metrics.xdpi;
    float height=metrics.heightPixels / metrics.ydpi;
    float viewingDistance=AnimationUtils.getViewingDistance(width,height,uiMode);
    if (ANIM_DEBUG) {
      Log.d("ANIM_DEBUG","width, height, viewing distance, uimode: " + width + ", "+ height+ ", "+ viewingDistance+ ", "+ uiMode);
    }
    mScreenSizeBasedDurationScale=AnimationUtils.getScreenSizeBasedDurationScale(width,height,viewingDistance);
    mDpBasedDurationScale=AnimationUtils.getDpBasedDurationScale(metrics.density,metrics.xdpi,viewingDistance);
    if (ANIM_DEBUG) {
      Log.d("ANIM_DEBUG","screen based scale, dp based scale: " + mScreenSizeBasedDurationScale + ", "+ mDpBasedDurationScale);
    }
  }
}
