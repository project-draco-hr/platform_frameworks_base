{
  final UserManager um=(UserManager)mContext.getSystemService(Context.USER_SERVICE);
  if (um.hasUserRestriction(UserManager.DISALLOW_SHARE_LOCATION)) {
    return;
  }
  final ContentResolver cr=mContext.getContentResolver();
  int mode=enabled ? Settings.Secure.LOCATION_MODE_HIGH_ACCURACY : Settings.Secure.LOCATION_MODE_OFF;
  Settings.Secure.putInt(cr,Settings.Secure.LOCATION_MODE,mode);
}
