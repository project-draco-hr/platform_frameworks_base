{
  if (index < 0 || index > textView.getText().length()) {
    throw new StringIndexOutOfBoundsException(index);
  }
  final int[] xy=new int[2];
  textView.getLocationOnScreen(xy);
  final Layout layout=textView.getLayout();
  final int line=layout.getLineForOffset(index);
  final float x=textView.getTotalPaddingLeft() - textView.getScrollX() + layout.getPrimaryHorizontal(index);
  final float y=textView.getTotalPaddingTop() - textView.getScrollY() + layout.getLineTop(line);
  return new float[]{x + xy[0],y + xy[1]};
}
