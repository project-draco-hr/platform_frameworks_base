{
  mContext=context;
  mTasks.clear();
  mTasks.addAll(tasks);
  final Locale l=context.getResources().getConfiguration().locale;
  final String dateFormatStr=DateFormat.getBestDateTimePattern(l,"EEEEMMMMd");
  final List<Task> tasksMostRecent=new ArrayList<>(tasks);
  Collections.reverse(tasksMostRecent);
  int prevDayKey=-1;
  mRows.clear();
  for (  Task task : tasksMostRecent) {
    if (task.isFreeformTask()) {
      continue;
    }
    Calendar cal=Calendar.getInstance(l);
    cal.setTimeInMillis(task.key.lastActiveTime);
    int dayKey=Objects.hash(cal.get(Calendar.YEAR),cal.get(Calendar.DAY_OF_YEAR));
    if (dayKey != prevDayKey) {
      prevDayKey=dayKey;
      mRows.add(new DateRow(DateFormat.format(dateFormatStr,cal).toString()));
    }
    mRows.add(new TaskRow(task));
  }
  notifyDataSetChanged();
}
