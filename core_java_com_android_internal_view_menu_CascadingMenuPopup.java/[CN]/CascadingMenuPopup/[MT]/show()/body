{
  if (isShowing()) {
    return;
  }
  for (int i=0; i < mPopupWindows.size(); i++) {
    MenuPopupWindow popupWindow=mPopupWindows.get(i);
    popupWindow.show();
    DropDownListView listView=(DropDownListView)popupWindow.getListView();
    mListViews.add(listView);
    MenuBuilder menu=toMenuAdapter(listView.getAdapter()).getAdapterMenu();
    if (i == 0 && mShowTitle && menu.getHeaderTitle() != null) {
      FrameLayout titleItemView=(FrameLayout)LayoutInflater.from(mContext).inflate(com.android.internal.R.layout.popup_menu_header_item_layout,listView,false);
      TextView titleView=(TextView)titleItemView.findViewById(com.android.internal.R.id.title);
      titleView.setText(menu.getHeaderTitle());
      titleItemView.setEnabled(false);
      listView.addHeaderView(titleItemView,null,false);
      popupWindow.show();
    }
  }
  mShownAnchorView=mAnchorView;
  if (mShownAnchorView != null) {
    final boolean addGlobalListener=mTreeObserver == null;
    mTreeObserver=mShownAnchorView.getViewTreeObserver();
    if (addGlobalListener) {
      mTreeObserver.addOnGlobalLayoutListener(mGlobalLayoutListener);
    }
    mShownAnchorView.addOnAttachStateChangeListener(mAttachStateChangeListener);
  }
}
