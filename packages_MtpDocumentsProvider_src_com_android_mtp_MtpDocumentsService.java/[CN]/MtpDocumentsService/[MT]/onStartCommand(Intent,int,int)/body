{
  if (intent != null) {
    if (intent.getAction().equals(ACTION_OPEN_DEVICE)) {
      final UsbDevice device=intent.<UsbDevice>getParcelableExtra(EXTRA_DEVICE);
      try {
        final MtpDocumentsProvider provider=MtpDocumentsProvider.getInstance();
        provider.openDevice(device.getDeviceId());
        return START_STICKY;
      }
 catch (      IOException error) {
        Log.e(MtpDocumentsProvider.TAG,error.getMessage());
      }
    }
 else {
      Log.e(MtpDocumentsProvider.TAG,"Received unknown intent action.");
    }
  }
  stopSelfIfNeeded();
  return Service.START_NOT_STICKY;
}
