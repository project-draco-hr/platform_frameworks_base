{
  final MtpDocumentsProvider provider=MtpDocumentsProvider.getInstance();
  int notificationId=0;
  Notification notification=null;
  for (  final MtpDeviceRecord record : provider.getOpenedDeviceRecordsCache()) {
    final String title=getResources().getString(R.string.accessing_notification_title,record.name);
    notificationId=record.deviceId;
    notification=new Notification.Builder(this).setLocalOnly(true).setContentTitle(title).setSmallIcon(com.android.internal.R.drawable.stat_sys_data_usb).setCategory(Notification.CATEGORY_SYSTEM).setPriority(Notification.PRIORITY_LOW).build();
    mNotificationManager.notify(record.deviceId,notification);
  }
  if (notification != null) {
    startForeground(notificationId,notification);
    return true;
  }
 else {
    stopForeground(true);
    stopSelf();
    return false;
  }
}
