{
  if (mInputCharset.equalsIgnoreCase(charsetForDecodedBytes)) {
    return originalString;
  }
  Charset charset=Charset.forName(mInputCharset);
  ByteBuffer byteBuffer=charset.encode(originalString);
  byte[] bytes=new byte[byteBuffer.remaining()];
  byteBuffer.get(bytes);
  try {
    return new String(bytes,charsetForDecodedBytes);
  }
 catch (  UnsupportedEncodingException e) {
    Log.e(LOG_TAG,"Failed to encode: charset=" + charsetForDecodedBytes);
    return null;
  }
}
