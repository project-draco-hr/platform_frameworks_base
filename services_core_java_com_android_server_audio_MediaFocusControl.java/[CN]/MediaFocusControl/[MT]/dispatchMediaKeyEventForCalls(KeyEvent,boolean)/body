{
  Intent keyIntent=new Intent(Intent.ACTION_MEDIA_BUTTON,null);
  keyIntent.putExtra(Intent.EXTRA_KEY_EVENT,keyEvent);
  keyIntent.setPackage(mMediaReceiverForCalls.getPackageName());
  if (needWakeLock) {
    mMediaEventWakeLock.acquire();
    keyIntent.putExtra(EXTRA_WAKELOCK_ACQUIRED,WAKELOCK_RELEASE_ON_FINISHED);
  }
  final long ident=Binder.clearCallingIdentity();
  try {
    mContext.sendOrderedBroadcastAsUser(keyIntent,UserHandle.ALL,null,mKeyEventDone,mEventHandler,Activity.RESULT_OK,null,null);
  }
  finally {
    Binder.restoreCallingIdentity(ident);
  }
}
