{
  if (SHOW_TRANSACTIONS)   Slog.i(TAG,">>> OPEN TRANSACTION removeReplacedWindows");
  SurfaceControl.openTransaction();
  try {
    for (int i=mService.mDisplayContents.size() - 1; i >= 0; i--) {
      DisplayContent display=mService.mDisplayContents.valueAt(i);
      final WindowList windows=mService.getWindowListLocked(display.getDisplayId());
      for (int j=windows.size() - 1; j >= 0; j--) {
        windows.get(j).maybeRemoveReplacedWindow();
      }
    }
  }
  finally {
    SurfaceControl.closeTransaction();
    if (SHOW_TRANSACTIONS)     Slog.i(TAG,"<<< CLOSE TRANSACTION removeReplacedWindows");
  }
  mRemoveReplacedWindows=false;
}
