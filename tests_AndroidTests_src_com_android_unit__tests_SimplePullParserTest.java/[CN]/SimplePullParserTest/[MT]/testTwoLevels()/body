{
  String xml="" + "<top a='1' b='hello'>\n" + "  <next c='2' d='there'/>\n"+ "  <next c='3' d='bye'/>\n"+ "</top>";
  SimplePullParser parser=new SimplePullParser(xml);
  int depth0=parser.getDepth();
  assertEquals(0,depth0);
  assertEquals("top",parser.nextTag(depth0));
  assertEquals(1,parser.getIntAttribute(null,"a"));
  assertEquals("hello",parser.getStringAttribute(null,"b"));
  int depth1=parser.getDepth();
  assertEquals(1,depth1);
  assertEquals("next",parser.nextTag(depth1));
  assertEquals(2,parser.getIntAttribute(null,"c"));
  assertEquals("there",parser.getStringAttribute(null,"d"));
  assertEquals("next",parser.nextTag(depth1));
  assertEquals(3,parser.getIntAttribute(null,"c"));
  assertEquals("bye",parser.getStringAttribute(null,"d"));
  assertNull(parser.nextTag(depth1));
  assertNull(parser.nextTag(depth0));
}
