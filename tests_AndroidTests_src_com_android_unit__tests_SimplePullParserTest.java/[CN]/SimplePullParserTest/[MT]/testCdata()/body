{
  StringBuilder cdataBuilder;
  String xml="" + "<top>" + "<![CDATA[data0]]>"+ "<next0/>"+ "<![CDATA[data1]]>"+ "<next1/>"+ "<![CDATA[data2]]>"+ "<next2/>"+ "<![CDATA[data3]]>"+ "<next3/>"+ "<![CDATA[data4]]>"+ "<next4/>"+ "<![CDATA[data5]]>"+ "</top>";
  SimplePullParser parser=new SimplePullParser(xml);
  assertEquals("top",parser.nextTag(0));
  assertEquals("next0",parser.nextTag(1));
  cdataBuilder=new StringBuilder();
  assertSame(SimplePullParser.TEXT_TAG,parser.nextTagOrText(1,cdataBuilder));
  assertEquals("data1",cdataBuilder.toString());
  assertEquals("next1",parser.nextTag(1));
  cdataBuilder=new StringBuilder();
  assertSame(SimplePullParser.TEXT_TAG,parser.nextTagOrText(1,cdataBuilder));
  assertEquals("next2",parser.nextTag(1));
  assertSame(SimplePullParser.TEXT_TAG,parser.nextTagOrText(1,cdataBuilder));
  assertEquals("data2data3",cdataBuilder.toString());
  assertEquals("next3",parser.nextTag(1));
  cdataBuilder=new StringBuilder();
  parser.readRemainingText(1,cdataBuilder);
  assertEquals("data4data5",cdataBuilder.toString());
}
