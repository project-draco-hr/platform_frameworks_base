{
  if (mDimSurface == null) {
    Slog.e(TAG,"stepAnimation: null Surface");
    mTargetAlpha=mAlpha=0;
    return false;
  }
  if (isAnimating()) {
    final long curTime=SystemClock.uptimeMillis();
    final float alphaDelta=mTargetAlpha - mStartAlpha;
    float alpha=mStartAlpha + alphaDelta * (curTime - mStartTime) / mDuration;
    if (alphaDelta > 0 && alpha > mTargetAlpha || alphaDelta < 0 && alpha < mTargetAlpha) {
      alpha=mTargetAlpha;
    }
    if (DEBUG)     Slog.v(TAG,"stepAnimation: curTime=" + curTime + " alpha="+ alpha);
    setAlpha(alpha);
  }
  return isAnimating();
}
