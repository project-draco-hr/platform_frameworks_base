{
  ActionMode.Callback2 wrappedCallback=new ActionModeCallback2Wrapper(callback);
  ActionMode mode=null;
  if (getCallback() != null && !isDestroyed()) {
    try {
      mode=getCallback().onWindowStartingActionMode(wrappedCallback,type);
    }
 catch (    AbstractMethodError ame) {
      if (type == ActionMode.TYPE_PRIMARY) {
        try {
          mode=getCallback().onWindowStartingActionMode(wrappedCallback);
        }
 catch (        AbstractMethodError ame2) {
        }
      }
    }
  }
  if (mode != null) {
    if (mode.getType() == ActionMode.TYPE_PRIMARY) {
      cleanupPrimaryActionMode();
      mPrimaryActionMode=mode;
    }
 else     if (mode.getType() == ActionMode.TYPE_FLOATING) {
      if (mFloatingActionMode != null) {
        mFloatingActionMode.finish();
      }
      mFloatingActionMode=mode;
    }
  }
 else {
    mode=createActionMode(type,wrappedCallback,originatingView);
    if (mode != null && wrappedCallback.onCreateActionMode(mode,mode.getMenu())) {
      setHandledActionMode(mode);
    }
 else {
      mode=null;
    }
  }
  if (mode != null && getCallback() != null && !isDestroyed()) {
    try {
      getCallback().onActionModeStarted(mode);
    }
 catch (    AbstractMethodError ame) {
    }
  }
  return mode;
}
