{
  final Context context=mDecor.getContext();
  final TypedArray windowStyle;
  if (context instanceof DecorContext) {
    windowStyle=((DecorContext)context).getWindowStyle();
  }
 else {
    windowStyle=getWindowStyle();
  }
  final int resourceId=windowStyle.getResourceId(R.styleable.Window_windowResizingBackground,0);
  if (resourceId != 0) {
    return context.getDrawable(resourceId);
  }
  if (mBackgroundResource != 0) {
    final Drawable drawable=context.getDrawable(mBackgroundResource);
    if (drawable != null) {
      return drawable;
    }
  }
  if (mBackgroundFallbackResource != 0) {
    final Drawable fallbackDrawable=context.getDrawable(mBackgroundFallbackResource);
    if (fallbackDrawable != null) {
      return fallbackDrawable;
    }
  }
  return new ColorDrawable(context.getResources().getInteger(com.android.internal.R.integer.config_windowResizingBackgroundColorARGB));
}
