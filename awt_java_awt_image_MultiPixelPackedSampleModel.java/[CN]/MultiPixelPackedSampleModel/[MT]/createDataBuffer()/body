{
  DataBuffer dataBuffer=null;
  int size=scanlineStride * height;
switch (dataType) {
case DataBuffer.TYPE_BYTE:
    dataBuffer=new DataBufferByte(size + (dataBitOffset + 7) / 8);
  break;
case DataBuffer.TYPE_USHORT:
dataBuffer=new DataBufferUShort(size + (dataBitOffset + 15) / 16);
break;
case DataBuffer.TYPE_INT:
dataBuffer=new DataBufferInt(size + (dataBitOffset + 31) / 32);
break;
}
return dataBuffer;
}
