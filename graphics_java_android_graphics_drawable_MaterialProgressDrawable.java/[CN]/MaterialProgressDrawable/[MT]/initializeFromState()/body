{
  final MaterialProgressState state=mState;
  final Ring ring=mRing;
  ring.setStrokeWidth(state.mStrokeWidth);
  final int color=state.mColor.getColorForState(getState(),Color.TRANSPARENT);
  ring.setColor(color);
  final float minEdge=Math.min(state.mWidth,state.mHeight);
  if (state.mInnerRadius <= 0 || minEdge < 0) {
    ring.setInsets((int)Math.ceil(state.mStrokeWidth / 2.0f));
  }
 else {
    float insets=minEdge / 2.0f - state.mInnerRadius;
    ring.setInsets(insets);
  }
}
