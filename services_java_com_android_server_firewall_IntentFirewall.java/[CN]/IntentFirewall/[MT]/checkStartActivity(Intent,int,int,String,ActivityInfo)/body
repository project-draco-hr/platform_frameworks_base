{
  List<Rule> matchingRules=mActivityResolver.queryIntent(intent,resolvedType,false,0);
  boolean log=false;
  boolean block=false;
  for (int i=0; i < matchingRules.size(); i++) {
    Rule rule=matchingRules.get(i);
    if (rule.matches(this,intent,callerUid,callerPid,resolvedType,resolvedActivity.applicationInfo)) {
      block|=rule.getBlock();
      log|=rule.getLog();
      if (block && log) {
        break;
      }
    }
  }
  if (log) {
    logIntent(TYPE_ACTIVITY,intent,callerUid,resolvedType);
  }
  return !block;
}
