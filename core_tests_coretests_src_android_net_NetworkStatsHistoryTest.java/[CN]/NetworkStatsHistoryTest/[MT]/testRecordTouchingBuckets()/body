{
  final long BUCKET_SIZE=15 * MINUTE_IN_MILLIS;
  stats=new NetworkStatsHistory(BUCKET_SIZE);
  final long recordStart=(TEST_START + BUCKET_SIZE) - MINUTE_IN_MILLIS;
  final long recordEnd=(TEST_START + (BUCKET_SIZE * 2)) + (MINUTE_IN_MILLIS * 4);
  stats.recordData(recordStart,recordEnd,1000L,5000L);
  assertEquals(3,stats.size());
  assertValues(stats,0,50L,250L);
  assertValues(stats,1,750L,3750L);
  assertValues(stats,2,200L,1000L);
}
