{
  final long BUCKET_SIZE=HOUR_IN_MILLIS;
  stats=new NetworkStatsHistory(BUCKET_SIZE);
  stats.recordData(TEST_START,TEST_START + DAY_IN_MILLIS,2400L,4800L);
  final long[] total=new long[2];
  stats.getTotalData(TEST_START - WEEK_IN_MILLIS,TEST_START - DAY_IN_MILLIS,total);
  assertTotalEquals(total,0,0);
  stats.getTotalData(TEST_START,TEST_START + HOUR_IN_MILLIS,total);
  assertTotalEquals(total,100,200);
  stats.getTotalData(TEST_START,TEST_START + (long)(1.5 * HOUR_IN_MILLIS),total);
  assertTotalEquals(total,150,300);
  stats.getTotalData(TEST_START + (23 * HOUR_IN_MILLIS),TEST_START + WEEK_IN_MILLIS,total);
  assertTotalEquals(total,100,200);
  stats.getTotalData(TEST_START - WEEK_IN_MILLIS,TEST_START + WEEK_IN_MILLIS,total);
  assertTotalEquals(total,2400,4800);
}
