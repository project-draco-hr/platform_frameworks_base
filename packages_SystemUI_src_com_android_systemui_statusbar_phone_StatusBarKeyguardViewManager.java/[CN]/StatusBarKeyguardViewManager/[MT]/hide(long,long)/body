{
  mShowing=false;
  long uptimeMillis=SystemClock.uptimeMillis();
  long delay=Math.max(0,startTime - uptimeMillis);
  if (mPhoneStatusBar.isInLaunchTransition()) {
    mPhoneStatusBar.fadeKeyguardAfterLaunchTransition(new Runnable(){
      @Override public void run(){
        mStatusBarWindowManager.setKeyguardShowing(false);
        mStatusBarWindowManager.setKeyguardFadingAway(true);
        mBouncer.animateHide(PhoneStatusBar.FADE_KEYGUARD_START_DELAY,PhoneStatusBar.FADE_KEYGUARD_DURATION);
        updateStates();
        mScrimController.animateKeyguardFadingOut(PhoneStatusBar.FADE_KEYGUARD_START_DELAY,PhoneStatusBar.FADE_KEYGUARD_DURATION,null);
      }
    }
,new Runnable(){
      @Override public void run(){
        mPhoneStatusBar.hideKeyguard();
        mStatusBarWindowManager.setKeyguardFadingAway(false);
        mViewMediatorCallback.keyguardGone();
      }
    }
);
  }
 else {
    mPhoneStatusBar.setKeyguardFadingAway(delay,fadeoutDuration);
    mPhoneStatusBar.hideKeyguard();
    mStatusBarWindowManager.setKeyguardFadingAway(true);
    mStatusBarWindowManager.setKeyguardShowing(false);
    mBouncer.animateHide(delay,fadeoutDuration);
    mScrimController.animateKeyguardFadingOut(delay,fadeoutDuration,new Runnable(){
      @Override public void run(){
        mStatusBarWindowManager.setKeyguardFadingAway(false);
        mPhoneStatusBar.finishKeyguardFadingAway();
      }
    }
);
    mViewMediatorCallback.keyguardGone();
    updateStates();
  }
}
