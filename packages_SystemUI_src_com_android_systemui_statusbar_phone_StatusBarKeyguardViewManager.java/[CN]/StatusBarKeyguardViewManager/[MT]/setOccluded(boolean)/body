{
  if (occluded && !mOccluded && mShowing) {
    if (mPhoneStatusBar.isInLaunchTransition()) {
      mOccluded=true;
      mPhoneStatusBar.fadeKeyguardAfterLaunchTransition(null,new Runnable(){
        @Override public void run(){
          mStatusBarWindowManager.setKeyguardOccluded(mOccluded);
          reset();
        }
      }
);
      return;
    }
  }
  mOccluded=occluded;
  mStatusBarWindowManager.setKeyguardOccluded(occluded);
  reset();
}
