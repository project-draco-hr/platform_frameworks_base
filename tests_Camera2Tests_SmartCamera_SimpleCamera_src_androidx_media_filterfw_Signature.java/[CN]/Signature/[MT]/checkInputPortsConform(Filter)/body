{
  Set<String> filterInputs=new HashSet<String>();
  filterInputs.addAll(filter.getConnectedInputPortMap().keySet());
  if (mInputPorts != null) {
    for (    Entry<String,PortInfo> entry : mInputPorts.entrySet()) {
      String portName=entry.getKey();
      PortInfo portInfo=entry.getValue();
      InputPort inputPort=filter.getConnectedInputPort(portName);
      if (inputPort == null && portInfo.isRequired()) {
        throw new RuntimeException("Filter " + filter + " does not have required "+ "input port '"+ portName+ "'!");
      }
      filterInputs.remove(portName);
    }
  }
  if (!mAllowOtherInputs && !filterInputs.isEmpty()) {
    throw new RuntimeException("Filter " + filter + " has invalid input ports: "+ filterInputs+ "!");
  }
}
