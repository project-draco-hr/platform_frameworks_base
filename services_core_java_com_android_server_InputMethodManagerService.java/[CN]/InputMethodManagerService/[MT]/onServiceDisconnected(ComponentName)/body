{
synchronized (mMethodMap) {
    if (DEBUG)     Slog.v(TAG,"Service disconnected: " + name + " mCurIntent="+ mCurIntent);
    if (mCurMethod != null && mCurIntent != null && name.equals(mCurIntent.getComponent())) {
      clearCurMethodLocked();
      mLastBindTime=SystemClock.uptimeMillis();
      mShowRequested=mInputShown;
      mInputShown=false;
      if (mCurClient != null) {
        executeOrSendMessage(mCurClient.client,mCaller.obtainMessageIIO(MSG_UNBIND_CLIENT,InputMethodClient.UNBIND_REASON_DISCONNECT_IME,mCurSeq,mCurClient.client));
      }
    }
  }
}
