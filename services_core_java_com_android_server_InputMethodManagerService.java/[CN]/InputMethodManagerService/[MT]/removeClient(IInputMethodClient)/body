{
  if (!calledFromValidUser()) {
    return;
  }
synchronized (mMethodMap) {
    ClientState cs=mClients.remove(client.asBinder());
    if (cs != null) {
      clearClientSessionLocked(cs);
      if (mCurClient == cs) {
        mCurClient=null;
      }
      if (mCurFocusedWindowClient == cs) {
        mCurFocusedWindowClient=null;
      }
    }
  }
}
