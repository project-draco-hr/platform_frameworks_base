{
  if (!calledFromValidUser()) {
    return;
  }
synchronized (mMethodMap) {
    if (!calledWithValidToken(token)) {
      final int uid=Binder.getCallingUid();
      Slog.e(TAG,"Ignoring hideInputMethod due to an invalid token. uid:" + uid + " token:"+ token);
      return;
    }
    long ident=Binder.clearCallingIdentity();
    try {
      hideCurrentInputLocked(flags,null);
    }
  finally {
      Binder.restoreCallingIdentity(ident);
    }
  }
}
