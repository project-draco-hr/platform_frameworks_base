{
  final String action=intent.getAction();
  if (Intent.ACTION_SCREEN_ON.equals(action)) {
    mScreenOn=true;
    refreshImeWindowVisibilityLocked();
    updateActive();
    return;
  }
 else   if (Intent.ACTION_SCREEN_OFF.equals(action)) {
    mScreenOn=false;
    setImeWindowVisibilityStatusHiddenLocked();
    updateActive();
    return;
  }
 else   if (Intent.ACTION_CLOSE_SYSTEM_DIALOGS.equals(action)) {
    hideInputMethodMenu();
    return;
  }
 else   if (Intent.ACTION_USER_ADDED.equals(action) || Intent.ACTION_USER_REMOVED.equals(action)) {
    updateCurrentProfileIds();
    return;
  }
 else {
    Slog.w(TAG,"Unexpected intent " + intent);
  }
}
