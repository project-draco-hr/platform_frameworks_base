{
  final Uri showImeUri=Settings.Secure.getUriFor(Settings.Secure.SHOW_IME_WITH_HARD_KEYBOARD);
synchronized (mMethodMap) {
    if (showImeUri.equals(uri)) {
      updateKeyboardFromSettingsLocked();
    }
 else {
      boolean enabledChanged=false;
      String newEnabled=mSettings.getEnabledInputMethodsStr();
      if (!mLastEnabled.equals(newEnabled)) {
        mLastEnabled=newEnabled;
        enabledChanged=true;
      }
      updateInputMethodsFromSettingsLocked(enabledChanged);
    }
  }
}
