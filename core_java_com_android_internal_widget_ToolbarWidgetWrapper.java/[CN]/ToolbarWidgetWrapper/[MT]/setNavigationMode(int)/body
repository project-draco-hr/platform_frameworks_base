{
  final int oldMode=mNavigationMode;
  if (mode != oldMode) {
switch (oldMode) {
case ActionBar.NAVIGATION_MODE_LIST:
      if (mSpinner != null && mSpinner.getParent() == mToolbar) {
        mToolbar.removeView(mSpinner);
      }
    break;
}
mNavigationMode=mode;
switch (mode) {
case ActionBar.NAVIGATION_MODE_STANDARD:
  break;
case ActionBar.NAVIGATION_MODE_LIST:
ensureSpinner();
mToolbar.addView(mSpinner,0);
break;
case ActionBar.NAVIGATION_MODE_TABS:
throw new IllegalStateException("Tabs not supported in this configuration");
default :
throw new IllegalArgumentException("Invalid navigation mode " + mode);
}
}
}
