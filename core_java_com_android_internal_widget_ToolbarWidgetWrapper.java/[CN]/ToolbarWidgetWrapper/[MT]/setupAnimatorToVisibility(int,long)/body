{
  if (visibility == View.GONE) {
    ObjectAnimator anim=ObjectAnimator.ofFloat(mToolbar,View.ALPHA,1,0);
    anim.setDuration(duration);
    anim.addListener(new AnimatorListenerAdapter(){
      private boolean mCanceled=false;
      @Override public void onAnimationEnd(      Animator animation){
        if (!mCanceled) {
          mToolbar.setVisibility(View.GONE);
        }
      }
      @Override public void onAnimationCancel(      Animator animation){
        mCanceled=true;
      }
    }
);
    return anim;
  }
 else   if (visibility == View.VISIBLE) {
    ObjectAnimator anim=ObjectAnimator.ofFloat(mToolbar,View.ALPHA,0,1);
    anim.setDuration(duration);
    anim.addListener(new AnimatorListenerAdapter(){
      @Override public void onAnimationStart(      Animator animation){
        mToolbar.setVisibility(View.VISIBLE);
      }
    }
);
    return anim;
  }
  return null;
}
