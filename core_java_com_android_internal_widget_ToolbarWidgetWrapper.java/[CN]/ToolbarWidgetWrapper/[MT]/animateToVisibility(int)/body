{
  if (visibility == View.GONE) {
    mToolbar.animate().translationY(mToolbar.getHeight()).alpha(0).setListener(new AnimatorListenerAdapter(){
      private boolean mCanceled=false;
      @Override public void onAnimationEnd(      Animator animation){
        if (!mCanceled) {
          mToolbar.setVisibility(View.GONE);
        }
      }
      @Override public void onAnimationCancel(      Animator animation){
        mCanceled=true;
      }
    }
);
  }
 else   if (visibility == View.VISIBLE) {
    mToolbar.animate().translationY(0).alpha(1).setListener(new AnimatorListenerAdapter(){
      @Override public void onAnimationStart(      Animator animation){
        mToolbar.setVisibility(View.VISIBLE);
      }
    }
);
  }
}
