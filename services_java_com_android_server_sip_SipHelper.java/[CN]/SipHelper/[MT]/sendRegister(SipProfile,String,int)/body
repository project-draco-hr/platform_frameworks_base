{
  try {
    Request request=createRequest(Request.REGISTER,userProfile,tag);
    if (expiry == 0) {
      request.addHeader(createWildcardContactHeader());
    }
 else {
      request.addHeader(createContactHeader(userProfile));
    }
    request.addHeader(mHeaderFactory.createExpiresHeader(expiry));
    ClientTransaction clientTransaction=mSipProvider.getNewClientTransaction(request);
    clientTransaction.sendRequest();
    return clientTransaction;
  }
 catch (  ParseException e) {
    throw new SipException("sendRegister()",e);
  }
}
