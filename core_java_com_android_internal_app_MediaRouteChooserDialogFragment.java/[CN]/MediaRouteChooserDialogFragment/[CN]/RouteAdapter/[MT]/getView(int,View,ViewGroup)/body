{
  final int viewType=getItemViewType(position);
  ViewHolder holder;
  if (convertView == null) {
    convertView=mInflater.inflate(ITEM_LAYOUTS[viewType],parent,false);
    holder=new ViewHolder();
    holder.position=position;
    holder.text1=(TextView)convertView.findViewById(R.id.text1);
    holder.text2=(TextView)convertView.findViewById(R.id.text2);
    holder.icon=(ImageView)convertView.findViewById(R.id.icon);
    holder.check=(CheckBox)convertView.findViewById(R.id.check);
    holder.expandGroupButton=(ImageButton)convertView.findViewById(R.id.expand_button);
    if (holder.expandGroupButton != null) {
      holder.expandGroupListener=new ExpandGroupListener();
      holder.expandGroupButton.setOnClickListener(holder.expandGroupListener);
    }
    final View fview=convertView;
    final ListView list=(ListView)parent;
    final ViewHolder fholder=holder;
    convertView.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        list.performItemClick(fview,fholder.position,0);
      }
    }
);
    convertView.setTag(holder);
  }
 else {
    holder=(ViewHolder)convertView.getTag();
    holder.position=position;
  }
switch (viewType) {
case VIEW_ROUTE:
case VIEW_GROUPING_ROUTE:
    bindItemView(position,holder);
  break;
case VIEW_SECTION_HEADER:
case VIEW_TOP_HEADER:
bindHeaderView(position,holder);
break;
}
convertView.setActivated(position == mSelectedItemPosition);
convertView.setEnabled(isEnabled(position));
return convertView;
}
