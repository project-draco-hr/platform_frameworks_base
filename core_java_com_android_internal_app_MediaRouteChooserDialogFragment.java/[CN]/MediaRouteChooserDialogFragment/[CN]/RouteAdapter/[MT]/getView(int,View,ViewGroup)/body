{
  final int viewType=getItemViewType(position);
  ViewHolder holder;
  if (convertView == null) {
    convertView=mInflater.inflate(ITEM_LAYOUTS[viewType],parent,false);
    holder=new ViewHolder();
    holder.position=position;
    holder.text1=(TextView)convertView.findViewById(R.id.text1);
    holder.text2=(TextView)convertView.findViewById(R.id.text2);
    holder.icon=(ImageView)convertView.findViewById(R.id.icon);
    holder.expandGroupButton=(ImageButton)convertView.findViewById(R.id.expand_button);
    if (holder.expandGroupButton != null) {
      holder.expandGroupListener=new ExpandGroupListener();
      holder.expandGroupButton.setOnClickListener(holder.expandGroupListener);
    }
    final View fview=convertView;
    final ListView list=(ListView)parent;
    final ViewHolder fholder=holder;
    convertView.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        list.performItemClick(fview,fholder.position,0);
      }
    }
);
    convertView.setTag(holder);
  }
 else {
    holder=(ViewHolder)convertView.getTag();
    holder.position=position;
  }
  if (viewType == VIEW_ROUTE) {
    bindItemView(position,holder);
  }
 else {
    bindHeaderView(position,holder);
  }
  return convertView;
}
