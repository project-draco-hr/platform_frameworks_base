{
  RouteInfo info=(RouteInfo)mItems.get(position);
  holder.text1.setText(info.getName(getActivity()));
  final CharSequence status=info.getStatus();
  if (TextUtils.isEmpty(status)) {
    holder.text2.setVisibility(View.GONE);
  }
 else {
    holder.text2.setVisibility(View.VISIBLE);
    holder.text2.setText(status);
  }
  Drawable icon=info.getIconDrawable();
  if (icon != null) {
    icon=icon.getConstantState().newDrawable(getResources());
  }
  holder.icon.setImageDrawable(icon);
  holder.icon.setVisibility(icon != null ? View.VISIBLE : View.GONE);
  RouteCategory cat=info.getCategory();
  boolean canGroup=false;
  if (cat == mCategoryEditingGroups) {
    RouteGroup group=info.getGroup();
    holder.check.setEnabled(group.getRouteCount() > 1);
    holder.check.setChecked(group == mEditingGroup);
  }
 else {
    if (cat.isGroupable()) {
      final RouteGroup group=(RouteGroup)info;
      canGroup=group.getRouteCount() > 1 || getItemViewType(position - 1) == VIEW_ROUTE || (position < getCount() - 1 && getItemViewType(position + 1) == VIEW_ROUTE);
    }
  }
  if (holder.expandGroupButton != null) {
    holder.expandGroupButton.setVisibility(canGroup ? View.VISIBLE : View.GONE);
    holder.expandGroupListener.position=position;
  }
}
