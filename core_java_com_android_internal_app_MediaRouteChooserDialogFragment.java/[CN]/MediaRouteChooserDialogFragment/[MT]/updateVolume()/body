{
  final RouteInfo selectedRoute=mRouter.getSelectedRoute(mRouteTypes);
  final boolean defaultAudioSelected=selectedRoute == mRouter.getSystemAudioRoute();
  final boolean selectedSystemRoute=selectedRoute.getCategory() == mRouter.getSystemAudioCategory();
  mVolumeIcon.setImageResource(defaultAudioSelected ? R.drawable.ic_audio_vol : R.drawable.ic_media_route_on_holo_dark);
  mIgnoreVolumeChanges=true;
  mVolumeSlider.setEnabled(true);
  if (selectedSystemRoute) {
    mVolumeSlider.setMax(mAudio.getStreamMaxVolume(AudioManager.STREAM_MUSIC));
    mVolumeSlider.setProgress(mAudio.getStreamVolume(AudioManager.STREAM_MUSIC));
  }
 else {
    final RouteInfo firstSelected;
    if (selectedRoute instanceof RouteGroup) {
      firstSelected=((RouteGroup)selectedRoute).getRouteAt(0);
    }
 else {
      firstSelected=selectedRoute;
    }
    RemoteControlClient rcc=null;
    if (firstSelected instanceof UserRouteInfo) {
      rcc=((UserRouteInfo)firstSelected).getRemoteControlClient();
    }
    if (rcc == null) {
      mVolumeSlider.setMax(1);
      mVolumeSlider.setProgress(1);
      mVolumeSlider.setEnabled(false);
    }
 else {
    }
  }
  mIgnoreVolumeChanges=false;
}
