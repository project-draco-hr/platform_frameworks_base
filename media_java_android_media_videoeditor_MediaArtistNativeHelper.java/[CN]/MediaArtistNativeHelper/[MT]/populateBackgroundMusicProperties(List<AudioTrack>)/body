{
  if (mediaBGMList.size() == 1) {
    mAudioTrack=mediaBGMList.get(0);
  }
 else {
    mAudioTrack=null;
  }
  if (mAudioTrack != null) {
    mAudioSettings=new AudioSettings();
    Properties mAudioProperties=new Properties();
    mAudioSettings.pFile=null;
    mAudioSettings.Id=mAudioTrack.getId();
    try {
      mAudioProperties=getMediaProperties(mAudioTrack.getFilename());
    }
 catch (    Exception e) {
      throw new IllegalArgumentException("Unsupported file or file not found");
    }
    mAudioSettings.bRemoveOriginal=false;
    mAudioSettings.channels=mAudioProperties.audioChannels;
    mAudioSettings.Fs=mAudioProperties.audioSamplingFrequency;
    mAudioSettings.loop=mAudioTrack.isLooping();
    mAudioSettings.ExtendedFs=0;
    mAudioSettings.pFile=mAudioTrack.getFilename();
    mAudioSettings.startMs=mAudioTrack.getStartTime();
    mAudioSettings.beginCutTime=mAudioTrack.getBoundaryBeginTime();
    mAudioSettings.endCutTime=mAudioTrack.getBoundaryEndTime();
    if (mAudioTrack.isMuted()) {
      mAudioSettings.volume=0;
    }
 else {
      mAudioSettings.volume=mAudioTrack.getVolume();
    }
    mAudioSettings.fileType=mAudioProperties.fileType;
    mAudioSettings.ducking_lowVolume=mAudioTrack.getDuckedTrackVolume();
    mAudioSettings.ducking_threshold=mAudioTrack.getDuckingThreshhold();
    mAudioSettings.bInDucking_enable=mAudioTrack.isDuckingEnabled();
    mAudioTrackPCMFilePath=String.format(mProjectPath + "/" + AUDIO_TRACK_PCM_FILE);
    mAudioSettings.pcmFilePath=mAudioTrackPCMFilePath;
    mPreviewEditSettings.backgroundMusicSettings=new BackgroundMusicSettings();
    mPreviewEditSettings.backgroundMusicSettings.file=mAudioTrackPCMFilePath;
    mPreviewEditSettings.backgroundMusicSettings.fileType=mAudioProperties.fileType;
    mPreviewEditSettings.backgroundMusicSettings.insertionTime=mAudioTrack.getStartTime();
    mPreviewEditSettings.backgroundMusicSettings.volumePercent=mAudioTrack.getVolume();
    mPreviewEditSettings.backgroundMusicSettings.beginLoop=mAudioTrack.getBoundaryBeginTime();
    mPreviewEditSettings.backgroundMusicSettings.endLoop=mAudioTrack.getBoundaryEndTime();
    mPreviewEditSettings.backgroundMusicSettings.enableDucking=mAudioTrack.isDuckingEnabled();
    mPreviewEditSettings.backgroundMusicSettings.duckingThreshold=mAudioTrack.getDuckingThreshhold();
    mPreviewEditSettings.backgroundMusicSettings.lowVolume=mAudioTrack.getDuckedTrackVolume();
    mPreviewEditSettings.backgroundMusicSettings.isLooping=mAudioTrack.isLooping();
    mPreviewEditSettings.primaryTrackVolume=100;
    mProcessingState=PROCESSING_AUDIO_PCM;
    mProcessingObject=mAudioTrack;
  }
 else {
    if (mAudioSettings != null) {
      mAudioSettings=null;
    }
    if (mPreviewEditSettings.backgroundMusicSettings != null) {
      mPreviewEditSettings.backgroundMusicSettings=null;
    }
    mAudioTrackPCMFilePath=null;
  }
}
