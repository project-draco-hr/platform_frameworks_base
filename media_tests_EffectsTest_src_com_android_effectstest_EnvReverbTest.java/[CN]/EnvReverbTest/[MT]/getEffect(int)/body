{
synchronized (sInstances) {
    if (sInstances.containsKey(session)) {
      mReverb=sInstances.get(session);
    }
 else {
      try {
        mReverb=new EnvironmentalReverb(0,session);
      }
 catch (      IllegalArgumentException e) {
        Log.e(TAG,"Reverb effect not supported");
      }
catch (      UnsupportedOperationException e) {
        Log.e(TAG,"Reverb library not loaded");
      }
catch (      RuntimeException e) {
        Log.e(TAG,"Reverb effect not found");
      }
      Log.d(TAG,"new reverb: " + mReverb);
      sInstances.put(session,mReverb);
    }
  }
  mReleaseButton.setEnabled(false);
  mOnOffButton.setEnabled(false);
  mAttachButton.setEnabled(false);
  if (mReverb != null) {
    if (mSettings != "") {
      mReverb.setProperties(new EnvironmentalReverb.Settings(mSettings));
    }
    mReleaseButton.setChecked(true);
    mReleaseButton.setEnabled(true);
    mOnOffButton.setChecked(mReverb.getEnabled());
    mOnOffButton.setEnabled(true);
    mAttachButton.setChecked(false);
    mAttachButton.setEnabled(true);
    if (sAttached) {
      mAttachButton.setChecked(true);
      sPlayerController.attachAuxEffect(mReverb.getId());
    }
  }
}
