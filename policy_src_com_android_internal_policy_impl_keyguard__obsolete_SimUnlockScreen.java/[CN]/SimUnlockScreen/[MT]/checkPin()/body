{
  if (mEnteredDigits < 4) {
    mHeaderText.setText(R.string.invalidPin);
    mPinText.setText("");
    mEnteredDigits=0;
    mCallback.pokeWakelock();
    return;
  }
  getSimUnlockProgressDialog().show();
  new CheckSimPin(mPinText.getText().toString()){
    void onSimLockChangedResponse(    final boolean success){
      mPinText.post(new Runnable(){
        public void run(){
          if (mSimUnlockProgressDialog != null) {
            mSimUnlockProgressDialog.hide();
          }
          if (success) {
            mUpdateMonitor.reportSimUnlocked();
            mCallback.goToUnlockScreen();
          }
 else {
            mHeaderText.setText(R.string.keyguard_password_wrong_pin_code);
            mPinText.setText("");
            mEnteredDigits=0;
          }
          mCallback.pokeWakelock();
        }
      }
);
    }
  }
.start();
}
