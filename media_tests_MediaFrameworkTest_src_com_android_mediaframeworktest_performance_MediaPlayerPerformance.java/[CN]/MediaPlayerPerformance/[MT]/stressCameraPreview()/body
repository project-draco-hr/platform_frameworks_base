{
  try {
synchronized (lock) {
      initializeMessageLooper();
      try {
        lock.wait(WAIT_FOR_COMMAND_TO_COMPLETE);
      }
 catch (      Exception e) {
        Log.v(TAG,"runTestOnMethod: wait was interrupted.");
      }
    }
    mCamera.setPreviewCallback(mRawPreviewCallback);
    mSurfaceHolder=MediaFrameworkTest.mSurfaceView.getHolder();
    mCamera.setPreviewDisplay(mSurfaceHolder);
    mCamera.startPreview();
synchronized (previewDone) {
      try {
        previewDone.wait(WAIT_FOR_COMMAND_TO_COMPLETE);
        Log.v(TAG,"Preview Done");
      }
 catch (      Exception e) {
        Log.v(TAG,"wait was interrupted.");
      }
    }
    Thread.sleep(1000);
    mCamera.stopPreview();
    terminateMessageLooper();
  }
 catch (  Exception e) {
    Log.v(TAG,e.toString());
  }
}
