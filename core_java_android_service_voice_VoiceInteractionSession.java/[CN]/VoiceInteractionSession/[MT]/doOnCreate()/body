{
  mTheme=mTheme != 0 ? mTheme : com.android.internal.R.style.Theme_DeviceDefault_VoiceInteractionSession;
  mInflater=(LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  mWindow=new SoftInputWindow(mContext,"VoiceInteractionSession",mTheme,mCallbacks,this,mDispatcherState,WindowManager.LayoutParams.TYPE_VOICE_INTERACTION,Gravity.BOTTOM,true);
  mWindow.getWindow().addFlags(WindowManager.LayoutParams.FLAG_HARDWARE_ACCELERATED | WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN | WindowManager.LayoutParams.FLAG_LAYOUT_INSET_DECOR);
  initViews();
  mWindow.getWindow().setLayout(MATCH_PARENT,MATCH_PARENT);
  mWindow.setToken(mToken);
}
