{
  Cursor c=null;
  Sync.Settings.QueryMap syncSettings=new Sync.Settings.QueryMap(context.getContentResolver(),false,null);
  final String where=SubscribedFeeds.Feeds._SYNC_ACCOUNT + "= ? " + "and "+ SubscribedFeeds.Feeds._SYNC_ACCOUNT_TYPE+ "= ? "+ "and "+ SubscribedFeeds.Feeds.FEED+ "= ?";
  try {
    c=context.getContentResolver().query(SubscribedFeeds.Feeds.CONTENT_URI,null,where,new String[]{accountName,"com.google.GAIA",feed},null);
    if (c.getCount() == 0) {
      Log.w(TAG,"received tickle for non-existent feed: " + "account " + accountName + ", feed "+ feed);
      EventLog.writeEvent(LOG_TICKLE,"unknown");
    }
    while (c.moveToNext()) {
      String authority=c.getString(c.getColumnIndexOrThrow(SubscribedFeeds.Feeds.AUTHORITY));
      EventLog.writeEvent(LOG_TICKLE,authority);
      if (!syncSettings.getSyncProviderAutomatically(authority)) {
        Log.d(TAG,"supressing tickle since provider " + authority + " is configured to not sync automatically");
        continue;
      }
      Uri uri=Uri.parse("content://" + authority);
      Bundle extras=new Bundle();
      extras.putParcelable(ContentResolver.SYNC_EXTRAS_ACCOUNT,new Account(accountName,"com.google.GAIA"));
      extras.putString("feed",feed);
      context.getContentResolver().startSync(uri,extras);
    }
  }
  finally {
    if (c != null)     c.deactivate();
    syncSettings.close();
  }
}
