{
  ArrayList<String> accounts=new ArrayList<String>();
  ContentResolver contentResolver=context.getContentResolver();
  Cursor c=contentResolver.query(SubscribedFeeds.Accounts.CONTENT_URI,sAccountProjection,null,null,null);
  while (c.moveToNext()) {
    String account=c.getString(0);
    if (TextUtils.isEmpty(account)) {
      continue;
    }
    accounts.add(account);
  }
  c.deactivate();
  try {
    ContentValues values=new ContentValues();
    for (    String account : accounts) {
      values.put(SyncConstValue._SYNC_ACCOUNT,account);
      contentResolver.update(SubscribedFeeds.Feeds.CONTENT_URI,values,SubscribedFeeds.Feeds._SYNC_ACCOUNT + "=?",new String[]{account});
    }
  }
 catch (  SQLiteFullException e) {
    Log.w(TAG,"disk full while trying to mark the feeds as dirty, skipping");
  }
  long refreshTime=Calendar.getInstance().getTimeInMillis() + SUBSCRIPTION_REFRESH_INTERVAL;
  scheduleRefresh(context,refreshTime);
  SharedPreferences.Editor editor=context.getSharedPreferences(sSubscribedFeedsPrefs,Context.MODE_WORLD_READABLE).edit();
  editor.putLong(sRefreshTime,refreshTime);
  editor.commit();
}
