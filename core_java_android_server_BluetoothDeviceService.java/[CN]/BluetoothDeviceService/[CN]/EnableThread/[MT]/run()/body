{
  boolean res=(enableNative() == 0);
  if (res) {
    mEventLoop.start();
  }
  if (mEnableCallback != null) {
    try {
      mEnableCallback.onEnableResult(res ? BluetoothDevice.RESULT_SUCCESS : BluetoothDevice.RESULT_FAILURE);
    }
 catch (    RemoteException e) {
    }
  }
  if (res) {
    mIsEnabled=true;
    if (mSaveSetting) {
      persistBluetoothOnSetting(true);
    }
    mIsDiscovering=false;
    Intent intent=new Intent(BluetoothIntent.ENABLED_ACTION);
    mBondState.loadBondState();
    mContext.sendBroadcast(intent,BLUETOOTH_PERM);
    mHandler.sendMessageDelayed(mHandler.obtainMessage(REGISTER_SDP_RECORDS),3000);
    mEventLoop.onModeChanged(getModeNative());
  }
  mEnableThread=null;
}
