{
  DataOutputStream outputStream;
  try {
    outputStream=new DataOutputStream(new FileOutputStream(new File(mDataBlockFile)));
  }
 catch (  FileNotFoundException e) {
    Slog.e(TAG,"partition not available?",e);
    return;
  }
  byte[] data=new byte[DIGEST_SIZE_BYTES];
  try {
    outputStream.write(data,0,DIGEST_SIZE_BYTES);
    outputStream.writeInt(PARTITION_TYPE_MARKER);
    outputStream.writeInt(0);
    outputStream.flush();
  }
 catch (  IOException e) {
    Slog.e(TAG,"failed to format block",e);
    return;
  }
 finally {
    IoUtils.closeQuietly(outputStream);
  }
  doSetOemUnlockEnabledLocked(false);
  computeAndWriteDigestLocked();
}
