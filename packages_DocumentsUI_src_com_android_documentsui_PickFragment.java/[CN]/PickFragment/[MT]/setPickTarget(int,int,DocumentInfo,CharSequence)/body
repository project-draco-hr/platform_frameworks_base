{
  if (mContainer != null) {
    if (pickTarget != null) {
      final Locale locale=getResources().getConfiguration().locale;
switch (action) {
case BaseActivity.State.ACTION_OPEN_TREE:
        final String raw=getString(R.string.menu_select).toUpperCase(locale);
      mPick.setText(TextUtils.expandTemplate(raw,displayName));
    mCancel.setVisibility(View.GONE);
  break;
case BaseActivity.State.ACTION_OPEN_COPY_DESTINATION:
final String buttonText=getString(transferMode == CopyService.TRANSFER_MODE_MOVE ? R.string.button_move : R.string.button_copy);
mPick.setText(buttonText);
mCancel.setVisibility(View.VISIBLE);
break;
default :
throw new IllegalArgumentException("Illegal action for PickFragment.");
}
}
if (pickTarget != null && pickTarget.isCreateSupported()) {
mContainer.setVisibility(View.VISIBLE);
}
 else {
mContainer.setVisibility(View.GONE);
}
}
mPickTarget=pickTarget;
}
