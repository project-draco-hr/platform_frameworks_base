{
  final long time=event.getEventTime();
switch (event.getAction()) {
case MotionEvent.ACTION_HOVER_ENTER:
    mLastTouchPadStartTimeMs=time;
  break;
case MotionEvent.ACTION_HOVER_MOVE:
float deltaX=event.getX() - mLastTouchpadXPosition;
float deltaY=event.getY() - mLastTouchpadYPosition;
MotionEvent trackballEvent=MotionEvent.obtain(mLastTouchPadStartTimeMs,time,MotionEvent.ACTION_MOVE,deltaX / 50,deltaY / 50,0,0,event.getMetaState(),10f,10f,event.getDeviceId(),0);
trackballEvent.setSource(InputDevice.SOURCE_CLASS_TRACKBALL);
viewroot.enqueueInputEvent(trackballEvent);
break;
case MotionEvent.ACTION_HOVER_EXIT:
break;
}
mLastTouchpadXPosition=event.getX();
mLastTouchpadYPosition=event.getY();
}
