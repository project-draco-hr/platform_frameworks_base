{
  super.onMeasure(widthMeasureSpec,heightMeasureSpec);
  if (mTabContainer != null && mTabContainer.getVisibility() != GONE) {
    final int mode=MeasureSpec.getMode(heightMeasureSpec);
    if (mode == MeasureSpec.AT_MOST) {
      final int measuredHeight=getMeasuredHeight();
      final int maxHeight=MeasureSpec.getSize(heightMeasureSpec);
      setMeasuredDimension(getMeasuredWidth(),Math.min(measuredHeight + mTabContainer.getMeasuredHeight(),maxHeight));
    }
  }
}
