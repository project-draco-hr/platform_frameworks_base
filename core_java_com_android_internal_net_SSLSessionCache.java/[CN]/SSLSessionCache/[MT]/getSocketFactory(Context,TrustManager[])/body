{
  try {
    if (androidContext != null) {
      SSLClientSessionCache sessionCache=getSessionCache(androidContext);
      if (sessionCache != null) {
        SSLContextImpl sslContext=new SSLContextImpl();
        sslContext.engineInit(null,trustManager,new java.security.SecureRandom(),sessionCache,null);
        return sslContext.engineGetSocketFactory();
      }
    }
    SSLContext context=SSLContext.getInstance("TLS");
    context.init(null,trustManager,new java.security.SecureRandom());
    return context.getSocketFactory();
  }
 catch (  NoSuchAlgorithmException e) {
    throw new AssertionError(e);
  }
catch (  KeyManagementException e) {
    throw new AssertionError(e);
  }
}
