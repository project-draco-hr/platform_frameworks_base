{
  if (Log.isLoggable(TAG,Log.DEBUG)) {
    Log.d(TAG,"===> PlaybackThread.run enter");
  }
  while (mRun) {
    try {
      sleep(100);
    }
 catch (    InterruptedException ex) {
      break;
    }
    mPositionMs+=100;
    if (mPositionMs >= mToMs) {
      if (!mLoop) {
        if (mListener != null) {
          mListener.onProgress(AudioTrack.this,mPositionMs,true);
        }
        if (Log.isLoggable(TAG,Log.DEBUG)) {
          Log.d(TAG,"PlaybackThread.run playback complete");
        }
        break;
      }
 else {
        if (mListener != null) {
          mListener.onProgress(AudioTrack.this,mToMs,false);
        }
        mPositionMs=mFromMs;
        if (mListener != null) {
          mListener.onProgress(AudioTrack.this,mPositionMs,false);
        }
        if (Log.isLoggable(TAG,Log.DEBUG)) {
          Log.d(TAG,"PlaybackThread.run playback complete");
        }
      }
    }
 else {
      if (mListener != null) {
        mListener.onProgress(AudioTrack.this,mPositionMs,false);
      }
    }
  }
  if (Log.isLoggable(TAG,Log.DEBUG)) {
    Log.d(TAG,"===> PlaybackThread.run exit");
  }
}
