{
  if (event.dropTarget != mFreeformWorkspaceDropTarget && event.dropTarget != mStackDropTarget) {
    return;
  }
  if (event.task.isFreeformTask() && event.dropTarget == mFreeformWorkspaceDropTarget) {
    return;
  }
  if (!event.task.isFreeformTask() && event.dropTarget == mStackDropTarget) {
    return;
  }
  if (event.dropTarget == mFreeformWorkspaceDropTarget) {
    mStack.moveTaskToStack(event.task,FREEFORM_WORKSPACE_STACK_ID);
    updateLayout(true);
  }
 else   if (event.dropTarget == mStackDropTarget) {
    mStack.moveTaskToStack(event.task,FULLSCREEN_WORKSPACE_STACK_ID);
    updateLayout(true);
  }
  event.postAnimationTrigger.increment();
  event.postAnimationTrigger.addLastDecrementRunnable(new Runnable(){
    @Override public void run(){
      SystemServicesProxy ssp=Recents.getSystemServices();
      ssp.moveTaskToStack(event.task.key.id,event.task.key.stackId);
    }
  }
);
  mLayoutAlgorithm.getStackTransform(event.task,mStackScroller.getStackScroll(),mTmpTransform,null);
  event.dragView.animate().scaleX(mTmpTransform.scale).scaleY(mTmpTransform.scale).translationX((mLayoutAlgorithm.mTaskRect.left - event.dragView.getLeft()) + mTmpTransform.translationX).translationY((mLayoutAlgorithm.mTaskRect.top - event.dragView.getTop()) + mTmpTransform.translationY).setDuration(175).setInterpolator(mFastOutSlowInInterpolator).withEndAction(event.postAnimationTrigger.decrementAsRunnable()).start();
  requestSynchronizeStackViewsWithModel(175);
}
