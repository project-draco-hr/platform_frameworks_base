{
  mRect.set(0,0,width,height);
  mStackRect.set(mRect);
  mStackRect.left+=insetLeft;
  mStackRect.bottom-=insetBottom;
  int smallestDimension=Math.min(width,height);
  int padding=(int)(Constants.Values.TaskStackView.StackPaddingPct * smallestDimension / 2f);
  if (Constants.DebugFlags.App.EnableSearchButton) {
    mStackRect.left+=padding;
    mStackRect.right-=padding;
    mStackRect.bottom-=padding;
  }
 else {
    mStackRect.inset(padding,padding);
  }
  mStackRectSansPeek.set(mStackRect);
  mStackRectSansPeek.top+=Constants.Values.TaskStackView.StackPeekHeightPct * mStackRect.height();
  int minHeight=(int)(mStackRect.height() - (Constants.Values.TaskStackView.StackPeekHeightPct * mStackRect.height()));
  int size=Math.min(minHeight,Math.min(mStackRect.width(),mStackRect.height()));
  int left=mStackRect.left + (mStackRect.width() - size) / 2;
  mTaskRect.set(left,mStackRectSansPeek.top,left + size,mStackRectSansPeek.top + size);
  updateMinMaxScroll(false);
}
