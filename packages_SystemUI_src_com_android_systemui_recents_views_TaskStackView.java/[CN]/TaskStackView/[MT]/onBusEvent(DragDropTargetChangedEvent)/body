{
  AnimationProps animation=new AnimationProps(250,Interpolators.FAST_OUT_SLOW_IN);
  if (event.dropTarget instanceof TaskStack.DockState) {
    final TaskStack.DockState dockState=(TaskStack.DockState)event.dropTarget;
    mStackBounds.set(dockState.getDockedTaskStackBounds(getMeasuredWidth(),getMeasuredHeight(),mDividerSize,mLayoutAlgorithm.mSystemInsets,getResources()));
    mLayoutAlgorithm.initialize(mStackBounds,TaskStackLayoutAlgorithm.StackState.getStackStateForStack(mStack));
    updateLayoutAlgorithm(true);
  }
 else {
    mStackBounds.set(mStableStackBounds);
    removeIgnoreTask(event.task);
    mLayoutAlgorithm.initialize(mStackBounds,TaskStackLayoutAlgorithm.StackState.getStackStateForStack(mStack));
    updateLayoutAlgorithm(true);
    addIgnoreTask(event.task);
  }
  relayoutTaskViews(animation);
}
