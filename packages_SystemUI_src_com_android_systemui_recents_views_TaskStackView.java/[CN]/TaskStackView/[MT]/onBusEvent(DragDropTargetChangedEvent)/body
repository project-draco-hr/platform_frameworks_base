{
  AnimationProps animation=new AnimationProps(250,Interpolators.FAST_OUT_SLOW_IN);
  boolean ignoreTaskOverrides=false;
  if (event.dropTarget instanceof TaskStack.DockState) {
    final TaskStack.DockState dockState=(TaskStack.DockState)event.dropTarget;
    mStackBounds.set(dockState.getDockedTaskStackBounds(getMeasuredWidth(),getMeasuredHeight(),mDividerSize,mLayoutAlgorithm.mSystemInsets,mLayoutAlgorithm,getResources(),mWindowRect));
    mLayoutAlgorithm.initialize(mWindowRect,mStackBounds,TaskStackLayoutAlgorithm.StackState.getStackStateForStack(mStack));
    updateLayoutAlgorithm(true);
    ignoreTaskOverrides=true;
  }
 else {
    mWindowRect.set(mStableWindowRect);
    mStackBounds.set(mStableStackBounds);
    removeIgnoreTask(event.task);
    mLayoutAlgorithm.initialize(mWindowRect,mStackBounds,TaskStackLayoutAlgorithm.StackState.getStackStateForStack(mStack));
    updateLayoutAlgorithm(true);
    addIgnoreTask(event.task);
  }
  relayoutTaskViews(animation,mIgnoreTasks,ignoreTaskOverrides);
}
