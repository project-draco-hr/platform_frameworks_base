{
  if (mAwaitingFirstLayout) {
    mStartEnterAnimationRequestedAfterLayout=true;
    mStartEnterAnimationContext=ctx;
    return;
  }
  if (mStack.getTaskCount() > 0) {
    Task launchTargetTask=null;
    List<TaskView> taskViews=getTaskViews();
    int taskViewCount=taskViews.size();
    for (int i=taskViewCount - 1; i >= 0; i--) {
      TaskView tv=taskViews.get(i);
      Task task=tv.getTask();
      if (task.isLaunchTarget) {
        launchTargetTask=task;
        break;
      }
    }
    for (int i=taskViewCount - 1; i >= 0; i--) {
      TaskView tv=taskViews.get(i);
      Task task=tv.getTask();
      ctx.currentTaskTransform=new TaskViewTransform();
      ctx.currentStackViewIndex=i;
      ctx.currentStackViewCount=taskViewCount;
      ctx.currentTaskRect=mLayoutAlgorithm.mTaskRect;
      ctx.currentTaskOccludesLaunchTarget=(launchTargetTask != null) && launchTargetTask.group.isTaskAboveTask(task,launchTargetTask);
      ctx.updateListener=mRequestUpdateClippingListener;
      mLayoutAlgorithm.getStackTransform(task,mStackScroller.getStackScroll(),ctx.currentTaskTransform,null);
      tv.startEnterRecentsAnimation(ctx);
    }
    ctx.postAnimationTrigger.addLastDecrementRunnable(new Runnable(){
      @Override public void run(){
        mStartEnterAnimationCompleted=true;
        mUIDozeTrigger.poke();
        RecentsTaskLoader loader=RecentsTaskLoader.getInstance();
        SystemServicesProxy ssp=loader.getSystemServicesProxy();
        List<TaskView> taskViews=getTaskViews();
        int taskViewCount=taskViews.size();
        if (taskViewCount > 0) {
          if (ssp.isTouchExplorationEnabled()) {
            TaskView tv=taskViews.get(taskViewCount - 1);
            tv.requestAccessibilityFocus();
            mPrevAccessibilityFocusedIndex=mStack.indexOfTask(tv.getTask());
          }
        }
        ArrayList<Task> tasks=mStack.getTasks();
        RecentsActivityLaunchState launchState=mConfig.getLaunchState();
        if (launchState.launchedWithAltTab && !launchState.launchedHasConfigurationChanged && 0 <= mFocusedTaskIndex && mFocusedTaskIndex < tasks.size()) {
          TaskView tv=getChildViewForTask(tasks.get(mFocusedTaskIndex));
          if (tv != null) {
            tv.setFocusedTask(true);
          }
        }
      }
    }
);
  }
}
