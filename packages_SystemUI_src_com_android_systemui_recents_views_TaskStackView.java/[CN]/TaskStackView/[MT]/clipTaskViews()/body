{
  if (Constants.DebugFlags.App.EnableTaskStackClipping && mEnableStackClipping) {
    int childCount=getChildCount();
    for (int i=0; i < childCount - 1; i++) {
      TaskView tv=(TaskView)getChildAt(i);
      TaskView nextTv=null;
      TaskView tmpTv=null;
      int clipBottom=0;
      if (tv.shouldClipViewInStack()) {
        int nextIndex=i;
        while (nextIndex < getChildCount()) {
          tmpTv=(TaskView)getChildAt(++nextIndex);
          if (tmpTv != null && tmpTv.shouldClipViewInStack()) {
            nextTv=tmpTv;
            break;
          }
        }
        if (nextTv != null) {
          int scaledMaxFooterHeight=(int)(tv.getMaxFooterHeight() * tv.getScaleX());
          tv.getHitRect(mTmpRect);
          nextTv.getHitRect(mTmpRect2);
          clipBottom=(mTmpRect.bottom - scaledMaxFooterHeight - mTmpRect2.top);
        }
      }
      tv.getViewBounds().setClipBottom(clipBottom);
    }
    if (getChildCount() > 0) {
      TaskView tv=(TaskView)getChildAt(getChildCount() - 1);
      tv.getViewBounds().setClipBottom(0);
    }
  }
}
