{
  if (event.fromDeviceOrientationChange) {
    mDisplayOrientation=Utilities.getAppConfiguration(mContext).orientation;
    mDisplayRect=Recents.getSystemServices().getDisplayRect();
  }
  reloadOnConfigurationChange();
  if (!event.fromMultiWindow) {
    mTmpTaskViews.clear();
    mTmpTaskViews.addAll(getTaskViews());
    mTmpTaskViews.addAll(mViewPool.getViews());
    int taskViewCount=mTmpTaskViews.size();
    for (int i=0; i < taskViewCount; i++) {
      mTmpTaskViews.get(i).onConfigurationChanged();
    }
  }
  if (event.fromMultiWindow) {
    mInitialState=INITIAL_STATE_UPDATE_LAYOUT_ONLY;
    requestLayout();
  }
 else   if (event.fromDeviceOrientationChange) {
    mInitialState=INITIAL_STATE_UPDATE_ALL;
    requestLayout();
  }
}
