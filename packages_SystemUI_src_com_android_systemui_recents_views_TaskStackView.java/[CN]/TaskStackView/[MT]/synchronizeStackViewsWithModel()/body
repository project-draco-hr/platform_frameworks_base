{
  Console.log(Constants.Log.TaskStack.SynchronizeViewsWithModel,"[TaskStackView|synchronizeViewsWithModel]","mStackViewsDirty: " + mStackViewsDirty,Console.AnsiYellow);
  if (mStackViewsDirty) {
    int[] visibleRange=mTmpVisibleRange;
    int stackScroll=getStackScroll();
    ArrayList<Task> tasks=mStack.getTasks();
    ArrayList<TaskViewTransform> taskTransforms=getStackTransforms(tasks,stackScroll,visibleRange,false);
    int taskCount=tasks.size();
    for (int i=0; i < taskCount; i++) {
      Task task=tasks.get(i);
      TaskViewTransform transform=taskTransforms.get(i);
      TaskView tv=getChildViewForTask(task);
      if (transform.visible) {
        if (tv == null) {
          tv=mViewPool.pickUpViewFromPool(task,task);
          if (mStackViewsAnimationDuration > 0 && i != 0) {
            int fromIndex=(transform.t < 0) ? (visibleRange[0] - 1) : (visibleRange[1] + 1);
            tv.updateViewPropertiesToTaskTransform(null,getStackTransform(fromIndex,stackScroll),0);
          }
        }
      }
 else {
        if (tv != null) {
          mViewPool.returnViewToPool(tv);
        }
      }
    }
    int childCount=getChildCount();
    for (int i=childCount - 1; i >= 0; i--) {
      TaskView tv=(TaskView)getChildAt(i);
      Task task=tv.getTask();
      int taskIndex=mStack.indexOfTask(task);
      if (taskIndex < 0 || !taskTransforms.get(taskIndex).visible) {
        mViewPool.returnViewToPool(tv);
      }
 else {
        tv.updateViewPropertiesToTaskTransform(null,taskTransforms.get(taskIndex),mStackViewsAnimationDuration);
      }
    }
    Console.log(Constants.Log.TaskStack.SynchronizeViewsWithModel,"  [TaskStackView|viewChildren]","" + getChildCount());
    mStackViewsAnimationDuration=0;
    mStackViewsDirty=false;
  }
}
