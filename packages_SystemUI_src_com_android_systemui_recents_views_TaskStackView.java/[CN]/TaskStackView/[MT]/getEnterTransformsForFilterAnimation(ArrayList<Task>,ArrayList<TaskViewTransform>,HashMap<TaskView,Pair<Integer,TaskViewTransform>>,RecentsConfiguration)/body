{
  int offset=0;
  int movement=0;
  int taskCount=tasks.size();
  for (int i=taskCount - 1; i >= 0; i--) {
    Task task=tasks.get(i);
    TaskViewTransform toTransform=taskTransforms.get(i);
    if (toTransform.visible) {
      TaskView tv=getChildViewForTask(task);
      if (tv == null) {
        tv=mViewPool.pickUpViewFromPool(task,task);
        TaskViewTransform fromTransform=new TaskViewTransform(toTransform);
        tv.prepareTaskTransformForFilterTaskHidden(fromTransform);
        tv.updateViewPropertiesToTaskTransform(null,fromTransform,0);
        int startDelay=offset * Constants.Values.TaskStackView.FilterStartDelay;
        childViewTransformsOut.put(tv,new Pair(startDelay,toTransform));
        movement=Math.max(movement,Math.abs(toTransform.translationY - fromTransform.translationY));
        offset++;
      }
    }
  }
  return Utilities.calculateTranslationAnimationDuration(movement,config.filteringNewViewsMinAnimDuration);
}
