{
  int offscreenY=mLayoutAlgorithm.mViewRect.bottom - (mLayoutAlgorithm.mTaskRect.top - mLayoutAlgorithm.mViewRect.top);
  Task launchTargetTask=null;
  int childCount=getChildCount();
  for (int i=childCount - 1; i >= 0; i--) {
    TaskView tv=(TaskView)getChildAt(i);
    Task task=tv.getTask();
    if (task.isLaunchTarget) {
      launchTargetTask=task;
      break;
    }
  }
  for (int i=childCount - 1; i >= 0; i--) {
    TaskView tv=(TaskView)getChildAt(i);
    Task task=tv.getTask();
    boolean occludesLaunchTarget=(launchTargetTask != null) && launchTargetTask.group.isTaskAboveTask(task,launchTargetTask);
    tv.prepareEnterRecentsAnimation(task.isLaunchTarget,occludesLaunchTarget,offscreenY);
  }
  if (mStartEnterAnimationRequestedAfterLayout) {
    startEnterRecentsAnimation(mStartEnterAnimationContext);
    mStartEnterAnimationRequestedAfterLayout=false;
    mStartEnterAnimationContext=null;
  }
  if (mConfig.launchedWithAltTab) {
    if (mConfig.launchedFromHome) {
      focusTask(Math.max(0,mStack.getTaskCount() - 1),false);
    }
 else {
      focusTask(Math.max(0,mStack.getTaskCount() - 2),false);
    }
  }
}
