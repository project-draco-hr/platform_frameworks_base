{
  mAnimationHelper.prepareForEnterAnimation();
  animateFreeformWorkspaceBackgroundAlpha(mLayoutAlgorithm.getStackState().freeformBackgroundAlpha,150,mFastOutSlowInInterpolator);
  Task launchTask=mStack.getLaunchTarget();
  RecentsConfiguration config=Recents.getConfiguration();
  RecentsActivityLaunchState launchState=config.getLaunchState();
  int focusedTaskIndex=launchState.getInitialFocusTaskIndex(mStack.getTaskCount());
  if (focusedTaskIndex != -1) {
    setFocusedTask(focusedTaskIndex,false,false);
  }
  if (shouldShowHistoryButton() && mStackScroller.getStackScroll() < SHOW_HISTORY_BUTTON_SCROLL_THRESHOLD) {
    EventBus.getDefault().send(new ShowHistoryButtonEvent(false));
  }
 else {
    EventBus.getDefault().send(new HideHistoryButtonEvent());
  }
}
