{
  if (Constants.DebugFlags.App.EnableTaskStackClipping) {
    TaskView tv=(TaskView)child;
    TaskView nextTv=null;
    int curIndex=indexOfChild(tv);
    if ((curIndex > -1) && (curIndex < (getChildCount() - 1))) {
      nextTv=(TaskView)getChildAt(curIndex + 1);
      if (nextTv.getAlpha() == 1f) {
        Rect curRect=tv.getClippingRect(mTmpRect,false);
        Rect nextRect=nextTv.getClippingRect(mTmpRect2,true);
        RecentsConfiguration config=RecentsConfiguration.getInstance();
        curRect.offset(0,config.systemInsets.top);
        nextRect.offset(0,config.systemInsets.top);
        Region clipRegion=new Region();
        clipRegion.op(curRect,Region.Op.UNION);
        clipRegion.op(nextRect,Region.Op.DIFFERENCE);
        int saveCount=canvas.save(Canvas.CLIP_SAVE_FLAG);
        canvas.clipRegion(clipRegion);
        boolean invalidate=super.drawChild(canvas,child,drawingTime);
        canvas.restoreToCount(saveCount);
        return invalidate;
      }
    }
  }
  return super.drawChild(canvas,child,drawingTime);
}
