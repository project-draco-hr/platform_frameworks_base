{
  if (Constants.DebugFlags.App.EnableTaskStackClipping) {
    RecentsConfiguration config=RecentsConfiguration.getInstance();
    TaskView tv=(TaskView)child;
    TaskView nextTv=null;
    TaskView tmpTv=null;
    if (tv.shouldClipViewInStack()) {
      int curIndex=indexOfChild(tv);
      while (nextTv == null && curIndex < getChildCount()) {
        tmpTv=(TaskView)getChildAt(++curIndex);
        if (tmpTv != null && tmpTv.shouldClipViewInStack()) {
          nextTv=tmpTv;
        }
      }
      if (nextTv != null && nextTv.getAlpha() == 1f) {
        Rect curRect=tv.getClippingRect(mTmpRect);
        Rect nextRect=nextTv.getClippingRect(mTmpRect2);
        curRect.offset(0,config.systemInsets.top);
        nextRect.offset(0,config.systemInsets.top);
        Region clipRegion=new Region();
        clipRegion.op(curRect,Region.Op.UNION);
        clipRegion.op(nextRect,Region.Op.DIFFERENCE);
        int saveCount=canvas.save(Canvas.CLIP_SAVE_FLAG);
        canvas.clipRegion(clipRegion);
        boolean invalidate=super.drawChild(canvas,child,drawingTime);
        canvas.restoreToCount(saveCount);
        return invalidate;
      }
    }
  }
  return super.drawChild(canvas,child,drawingTime);
}
