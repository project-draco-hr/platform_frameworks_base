{
  Task task=tv.getTask();
  int taskIndex=mStack.indexOfTask(task);
  boolean taskWasFocused=tv.isFocusedTask();
  tv.announceForAccessibility(getContext().getString(R.string.accessibility_recents_item_dismissed,tv.getTask().activityLabel));
  mStack.removeTask(task);
  if (taskWasFocused) {
    ArrayList<Task> tasks=mStack.getTasks();
    int nextTaskIndex=Math.min(tasks.size() - 1,taskIndex - 1);
    if (nextTaskIndex >= 0) {
      Task nextTask=tasks.get(nextTaskIndex);
      TaskView nextTv=getChildViewForTask(nextTask);
      if (nextTv != null) {
        RecentsActivityLaunchState launchState=mConfig.getLaunchState();
        nextTv.setFocusedTask(launchState.launchedWithAltTab);
      }
    }
  }
}
