{
  SystemServicesProxy ssp=Recents.getSystemServices();
  Task task=tv.getTask();
  int taskIndex=mStack.indexOfTask(task);
  boolean taskWasFocused=tv.isFocusedTask();
  resetFocusedTask();
  tv.announceForAccessibility(getContext().getString(R.string.accessibility_recents_item_dismissed,tv.getTask().activityLabel));
  mStack.removeTask(task);
  if (taskWasFocused || ssp.isTouchExplorationEnabled()) {
    RecentsActivityLaunchState launchState=mConfig.getLaunchState();
    setFocusedTask(taskIndex - 1,true,launchState.launchedWithAltTab);
  }
}
