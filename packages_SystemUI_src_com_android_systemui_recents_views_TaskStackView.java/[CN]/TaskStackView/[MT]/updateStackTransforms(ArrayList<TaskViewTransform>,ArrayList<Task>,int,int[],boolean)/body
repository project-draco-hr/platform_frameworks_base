{
  int taskCount=tasks.size();
  int firstVisibleIndex=-1;
  int lastVisibleIndex=-1;
  taskTransforms.clear();
  taskTransforms.ensureCapacity(taskCount);
  for (int i=0; i < taskCount; i++) {
    TaskViewTransform transform=getStackTransform(i,stackScroll);
    taskTransforms.add(transform);
    if (transform.visible) {
      if (firstVisibleIndex < 0) {
        firstVisibleIndex=i;
      }
      lastVisibleIndex=i;
    }
    if (boundTranslationsToRect) {
      transform.translationY=Math.min(transform.translationY,mRect.bottom);
    }
  }
  if (visibleRangeOut != null) {
    visibleRangeOut[0]=firstVisibleIndex;
    visibleRangeOut[1]=lastVisibleIndex;
  }
}
