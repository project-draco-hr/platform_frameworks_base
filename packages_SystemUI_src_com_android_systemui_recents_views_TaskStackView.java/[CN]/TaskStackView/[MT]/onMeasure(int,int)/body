{
  int width=MeasureSpec.getSize(widthMeasureSpec);
  int height=MeasureSpec.getSize(heightMeasureSpec);
  Rect taskStackBounds=new Rect(mTaskStackBounds);
  taskStackBounds.bottom-=mConfig.systemInsets.bottom;
  computeRects(width,height,taskStackBounds);
  if (mAwaitingFirstLayout) {
    setStackScrollToInitialState();
    requestSynchronizeStackViewsWithModel();
    synchronizeStackViewsWithModel();
  }
  int childCount=getChildCount();
  for (int i=0; i < childCount; i++) {
    TaskView tv=(TaskView)getChildAt(i);
    if (tv.isFullScreenView()) {
      tv.measure(widthMeasureSpec,heightMeasureSpec);
    }
 else {
      tv.measure(MeasureSpec.makeMeasureSpec(mStackAlgorithm.mTaskRect.width(),MeasureSpec.EXACTLY),MeasureSpec.makeMeasureSpec(mStackAlgorithm.mTaskRect.height() + tv.getMaxFooterHeight(),MeasureSpec.EXACTLY));
    }
  }
  setMeasuredDimension(width,height);
}
