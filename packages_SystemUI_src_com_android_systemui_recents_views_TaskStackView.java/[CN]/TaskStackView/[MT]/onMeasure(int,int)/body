{
  int width=MeasureSpec.getSize(widthMeasureSpec);
  int height=MeasureSpec.getSize(heightMeasureSpec);
  Rect taskStackBounds=new Rect(mTaskStackBounds);
  taskStackBounds.bottom-=mConfig.systemInsets.bottom;
  computeRects(width,height,taskStackBounds,mConfig.launchedWithAltTab,mConfig.launchedFromHome);
  if (mAwaitingFirstLayout) {
    mStackScroller.setStackScrollToInitialState();
    requestSynchronizeStackViewsWithModel();
    synchronizeStackViewsWithModel();
  }
  List<TaskView> taskViews=getTaskViews();
  int taskViewCount=taskViews.size();
  for (int i=0; i < taskViewCount; i++) {
    TaskView tv=taskViews.get(i);
    if (tv.getBackground() != null) {
      tv.getBackground().getPadding(mTmpRect);
    }
 else {
      mTmpRect.setEmpty();
    }
    tv.measure(MeasureSpec.makeMeasureSpec(mLayoutAlgorithm.mTaskRect.width() + mTmpRect.left + mTmpRect.right,MeasureSpec.EXACTLY),MeasureSpec.makeMeasureSpec(mLayoutAlgorithm.mTaskRect.height() + mTmpRect.top + mTmpRect.bottom,MeasureSpec.EXACTLY));
  }
  if (mDismissAllButton != null) {
    int taskRectWidth=mLayoutAlgorithm.mTaskRect.width();
    mDismissAllButton.measure(MeasureSpec.makeMeasureSpec(taskRectWidth,MeasureSpec.EXACTLY),MeasureSpec.makeMeasureSpec(mConfig.dismissAllButtonSizePx,MeasureSpec.EXACTLY));
  }
  setMeasuredDimension(width,height);
}
