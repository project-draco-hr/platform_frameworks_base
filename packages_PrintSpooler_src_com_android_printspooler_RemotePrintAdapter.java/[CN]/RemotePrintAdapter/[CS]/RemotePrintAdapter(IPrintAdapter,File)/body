{
  mRemoteInterface=printAdatper;
  mFile=file;
  mIPrintProgressListener=new IPrintProgressListener.Stub(){
    @Override public void onWriteStarted(    PrintAdapterInfo info,    ICancellationSignal cancellationSignal){
      if (DEBUG) {
        Log.i(LOG_TAG,"IPrintProgressListener#onWriteStarted()");
      }
synchronized (mLock) {
        mInfo=info;
        mCancellationSignal=cancellationSignal;
      }
    }
    @Override public void onWriteFinished(    List<PageRange> pages){
      if (DEBUG) {
        Log.i(LOG_TAG,"IPrintProgressListener#onWriteFinished(" + pages + ")");
      }
synchronized (mLock) {
        if (isPrintingLocked()) {
          mWriteThread.interrupt();
          mCancellationSignal=null;
        }
      }
    }
    @Override public void onWriteFailed(    CharSequence error){
      if (DEBUG) {
        Log.i(LOG_TAG,"IPrintProgressListener#onWriteFailed(" + error + ")");
      }
synchronized (mLock) {
        if (isPrintingLocked()) {
          mWriteThread.interrupt();
          mCancellationSignal=null;
        }
      }
    }
  }
;
}
