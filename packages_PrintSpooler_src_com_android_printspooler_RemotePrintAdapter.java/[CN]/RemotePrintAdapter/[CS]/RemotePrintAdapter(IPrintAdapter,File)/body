{
  mRemoteInterface=printAdatper;
  mFile=file;
  mIPrintProgressListener=new IPrintResultCallback.Stub(){
    @Override public void onPrintStarted(    PrintAdapterInfo info,    ICancellationSignal cancellationSignal){
      if (DEBUG) {
        Log.i(LOG_TAG,"IPrintProgressListener#onPrintStarted()");
      }
synchronized (mLock) {
        mInfo=info;
        mCancellationSignal=cancellationSignal;
      }
    }
    @Override public void onPrintFinished(    List<PageRange> pages){
      if (DEBUG) {
        Log.i(LOG_TAG,"IPrintProgressListener#onPrintFinished(" + pages + ")");
      }
synchronized (mLock) {
        if (isPrintingLocked()) {
          mWriteThread.interrupt();
          mCancellationSignal=null;
        }
      }
    }
    @Override public void onPrintFailed(    CharSequence error){
      if (DEBUG) {
        Log.i(LOG_TAG,"IPrintProgressListener#onPrintFailed(" + error + ")");
      }
synchronized (mLock) {
        if (isPrintingLocked()) {
          mWriteThread.interrupt();
          mCancellationSignal=null;
        }
      }
    }
  }
;
}
