{
  if (isCamera(usbDevice)) {
    if (!mUsbManager.hasPermission(usbDevice)) {
      mUsbManager.requestPermission(usbDevice,mPermissionIntent);
    }
 else {
      UsbDeviceConnection connection=mUsbManager.openDevice(usbDevice);
      if (connection != null) {
        MtpDevice mtpDevice=new MtpDevice(usbDevice);
        if (mtpDevice.open(connection)) {
          mDevices.put(usbDevice.getDeviceName(),mtpDevice);
          return mtpDevice;
        }
      }
    }
  }
  return null;
}
