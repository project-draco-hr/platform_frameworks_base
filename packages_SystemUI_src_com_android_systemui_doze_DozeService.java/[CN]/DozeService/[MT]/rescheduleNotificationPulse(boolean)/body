{
  if (DEBUG)   Log.d(TAG,"rescheduleNotificationPulse predicate=" + predicate);
  final PendingIntent notificationPulseIntent=notificationPulseIntent(0);
  mAlarmManager.cancel(notificationPulseIntent);
  if (!predicate) {
    if (DEBUG)     Log.d(TAG,"  don't reschedule: predicate is false");
    return;
  }
  final PulseSchedule schedule=mDozeParameters.getPulseSchedule();
  if (schedule == null) {
    if (DEBUG)     Log.d(TAG,"  don't reschedule: schedule is null");
    return;
  }
  final long now=System.currentTimeMillis();
  final long time=schedule.getNextTime(now,mNotificationPulseTime);
  if (time <= 0) {
    if (DEBUG)     Log.d(TAG,"  don't reschedule: time is " + time);
    return;
  }
  final long delta=time - now;
  if (delta <= 0) {
    if (DEBUG)     Log.d(TAG,"  don't reschedule: delta is " + delta);
    return;
  }
  final long instance=time - mNotificationPulseTime;
  if (DEBUG)   Log.d(TAG,"Scheduling pulse " + instance + " in "+ delta+ "ms for "+ new Date(time));
  mAlarmManager.setExact(AlarmManager.RTC_WAKEUP,time,notificationPulseIntent(instance));
}
