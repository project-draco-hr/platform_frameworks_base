{
  if (mHost != null && mDreaming && !mPulsing) {
    mWakeLock.acquire();
    mPulsing=true;
    if (!mDozeParameters.getProxCheckBeforePulse()) {
      continuePulsing();
      return;
    }
    final long start=SystemClock.uptimeMillis();
    new ProximityCheck(){
      @Override public void onProximityResult(      int result){
        final boolean isNear=result == RESULT_NEAR;
        DozeLog.traceProximityResult(isNear,SystemClock.uptimeMillis() - start);
        if (isNear) {
          mPulsing=false;
          mWakeLock.release();
          return;
        }
        continuePulsing();
      }
    }
.check();
  }
}
