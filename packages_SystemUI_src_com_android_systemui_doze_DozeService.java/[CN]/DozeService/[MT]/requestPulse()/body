{
  if (mHost != null && mDreaming && !mPulsing) {
    mWakeLock.acquire();
    mPulsing=true;
    final long start=SystemClock.uptimeMillis();
    new ProximityCheck(){
      @Override public void onProximityResult(      int result){
        final boolean isNear=result == RESULT_NEAR;
        DozeLog.traceProximityResult(isNear,SystemClock.uptimeMillis() - start);
        if (isNear) {
          mPulsing=false;
          mWakeLock.release();
          return;
        }
        mHost.pulseWhileDozing(new DozeHost.PulseCallback(){
          @Override public void onPulseStarted(){
            if (mPulsing && mDreaming) {
              turnDisplayOn();
            }
          }
          @Override public void onPulseFinished(){
            if (mPulsing && mDreaming) {
              mPulsing=false;
              turnDisplayOff();
            }
            mWakeLock.release();
          }
        }
);
      }
    }
.check();
  }
}
