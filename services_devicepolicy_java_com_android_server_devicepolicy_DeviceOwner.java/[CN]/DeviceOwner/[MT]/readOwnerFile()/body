{
  try {
    InputStream input=openRead();
    XmlPullParser parser=Xml.newPullParser();
    parser.setInput(input,null);
    int type;
    while ((type=parser.next()) != XmlPullParser.END_DOCUMENT) {
      if (type != XmlPullParser.START_TAG) {
        continue;
      }
      String tag=parser.getName();
      if (tag.equals(TAG_DEVICE_OWNER)) {
        mDeviceOwner=new OwnerInfo(parser.getAttributeValue(null,ATTR_NAME),parser.getAttributeValue(null,ATTR_PACKAGE));
      }
 else       if (tag.equals(TAG_PROFILE_OWNER)) {
        String profileOwnerPackageName=parser.getAttributeValue(null,ATTR_PACKAGE);
        String profileOwnerName=parser.getAttributeValue(null,ATTR_NAME);
        Boolean profileEnabled=Boolean.parseBoolean(parser.getAttributeValue(null,ATTR_ENABLED));
        int userId=Integer.parseInt(parser.getAttributeValue(null,ATTR_USERID));
        mProfileOwners.put(userId,new OwnerInfo(profileOwnerPackageName,profileOwnerName,profileEnabled));
      }
 else {
        throw new XmlPullParserException("Unexpected tag in device owner file: " + tag);
      }
    }
    input.close();
  }
 catch (  XmlPullParserException xppe) {
    Slog.e(TAG,"Error parsing device-owner file\n" + xppe);
  }
catch (  IOException ioe) {
    Slog.e(TAG,"IO Exception when reading device-owner file\n" + ioe);
  }
}
