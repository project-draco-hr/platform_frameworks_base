{
  try {
    OutputStream outputStream=startWrite();
    XmlSerializer out=new FastXmlSerializer();
    out.setOutput(outputStream,"utf-8");
    out.startDocument(null,true);
    if (mDeviceOwner != null) {
      out.startTag(null,TAG_DEVICE_OWNER);
      out.attribute(null,ATTR_PACKAGE,mDeviceOwner.packageName);
      if (mDeviceOwner.packageName != null) {
        out.attribute(null,ATTR_NAME,mDeviceOwner.packageName);
      }
      out.endTag(null,TAG_DEVICE_OWNER);
    }
    if (mProfileOwners.size() > 0) {
      for (      HashMap.Entry<Integer,OwnerInfo> owner : mProfileOwners.entrySet()) {
        out.startTag(null,TAG_PROFILE_OWNER);
        out.attribute(null,ATTR_PACKAGE,owner.getValue().packageName);
        out.attribute(null,ATTR_NAME,owner.getValue().name);
        out.attribute(null,ATTR_USERID,Integer.toString(owner.getKey()));
        out.endTag(null,TAG_PROFILE_OWNER);
      }
    }
    out.endDocument();
    out.flush();
    finishWrite(outputStream);
  }
 catch (  IOException ioe) {
    Slog.e(TAG,"IO Exception when writing device-owner file\n" + ioe);
  }
}
