{
  if (context == null) {
    throw new IllegalArgumentException("context must not be null");
  }
  if (style == STYLE_NULL) {
    return gNullIcon;
  }
  PointerIcon icon=gSystemIcons.get(style);
  if (icon != null) {
    return icon;
  }
  int styleIndex=getSystemIconStyleIndex(style);
  if (styleIndex == 0) {
    styleIndex=getSystemIconStyleIndex(STYLE_DEFAULT);
  }
  int accessibilityConfig=Settings.Secure.getIntForUser(context.getContentResolver(),Settings.Secure.ACCESSIBILITY_LARGE_POINTER_ICON,0,UserHandle.USER_CURRENT);
  int defStyle=(accessibilityConfig == 1) ? com.android.internal.R.style.LargePointer : com.android.internal.R.style.Pointer;
  TypedArray a=context.obtainStyledAttributes(null,com.android.internal.R.styleable.Pointer,0,defStyle);
  int resourceId=a.getResourceId(styleIndex,-1);
  a.recycle();
  if (resourceId == -1) {
    Log.w(TAG,"Missing theme resources for pointer icon style " + style);
    return style == STYLE_DEFAULT ? gNullIcon : getSystemIcon(context,STYLE_DEFAULT);
  }
  icon=new PointerIcon(style);
  if ((resourceId & 0xff000000) == 0x01000000) {
    icon.mSystemIconResourceId=resourceId;
  }
 else {
    icon.loadResource(context,context.getResources(),resourceId);
  }
  gSystemIcons.append(style,icon);
  return icon;
}
