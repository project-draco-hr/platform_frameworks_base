{
  if (mAudioDevices == null)   return;
  SinkState s=mAudioDevices.get(path);
  int prevState;
  String address;
  if (s == null) {
    address=getAddressNative(path);
    mAudioDevices.put(path,new SinkState(address,state));
    prevState=BluetoothA2dp.STATE_DISCONNECTED;
  }
 else {
    address=lookupAddress(path);
    prevState=s.state;
    s.state=state;
  }
  if (state != prevState) {
    if (DBG)     log("state " + address + " ("+ path+ ") "+ prevState+ "->"+ state);
    Intent intent=new Intent(BluetoothA2dp.SINK_STATE_CHANGED_ACTION);
    intent.putExtra(BluetoothIntent.ADDRESS,address);
    intent.putExtra(BluetoothA2dp.SINK_PREVIOUS_STATE,prevState);
    intent.putExtra(BluetoothA2dp.SINK_STATE,state);
    mContext.sendBroadcast(intent,BLUETOOTH_PERM);
  }
}
