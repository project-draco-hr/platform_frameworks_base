{
  mPendingDisconnects.remove(path);
  if (mAudioDevices == null)   return;
  String[] paths=new String[mAudioDevices.size()];
  paths=mAudioDevices.keySet().toArray(paths);
  for (  String oldPath : paths) {
    if (path.equals(oldPath)) {
      continue;
    }
    int state=mAudioDevices.get(oldPath).state;
    if (state == BluetoothA2dp.STATE_CONNECTED || state == BluetoothA2dp.STATE_PLAYING) {
      updateState(path,BluetoothA2dp.STATE_DISCONNECTED);
    }
  }
  updateState(path,BluetoothA2dp.STATE_CONNECTING);
  mAudioManager.setParameter(A2DP_SINK_ADDRESS,lookupAddress(path));
  mAudioManager.setBluetoothA2dpOn(true);
  updateState(path,BluetoothA2dp.STATE_CONNECTED);
}
