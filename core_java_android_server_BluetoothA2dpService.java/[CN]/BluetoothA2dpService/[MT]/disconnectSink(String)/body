{
  mContext.enforceCallingOrSelfPermission(BLUETOOTH_ADMIN_PERM,"Need BLUETOOTH_ADMIN permission");
  if (DBG)   log("disconnectSink(" + address + ")");
  if (!BluetoothDevice.checkBluetoothAddress(address)) {
    return BluetoothError.ERROR;
  }
  if (mAudioDevices == null) {
    return BluetoothError.ERROR;
  }
  String path=lookupPath(address);
  if (path == null) {
    return BluetoothError.ERROR;
  }
switch (mAudioDevices.get(path).state) {
case BluetoothA2dp.STATE_DISCONNECTED:
    return BluetoothError.ERROR;
case BluetoothA2dp.STATE_DISCONNECTING:
  return BluetoothError.SUCCESS;
}
if (!disconnectSinkNative(path)) {
return BluetoothError.ERROR;
}
 else {
updateState(path,BluetoothA2dp.STATE_DISCONNECTING);
return BluetoothError.SUCCESS;
}
}
