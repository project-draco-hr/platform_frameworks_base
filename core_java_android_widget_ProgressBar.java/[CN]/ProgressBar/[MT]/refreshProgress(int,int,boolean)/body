{
  if (mUiThreadId == Thread.currentThread().getId()) {
    doRefreshProgress(id,progress,fromUser,true);
  }
 else {
    RefreshProgressRunnable r;
    if (mRefreshProgressRunnable != null) {
      r=mRefreshProgressRunnable;
    }
 else {
      r=new RefreshProgressRunnable();
    }
    final RefreshData rd=RefreshData.obtain(id,progress,fromUser);
    mRefreshData.add(rd);
    if (mAttached && !mRefreshIsPosted) {
      post(r);
      mRefreshIsPosted=true;
    }
  }
}
