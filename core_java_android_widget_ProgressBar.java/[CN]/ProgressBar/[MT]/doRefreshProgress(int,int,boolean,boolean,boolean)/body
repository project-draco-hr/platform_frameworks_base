{
  final float scale=mMax > 0 ? progress / (float)mMax : 0;
  final boolean isPrimary=id == R.id.progress;
  if (isPrimary && animate) {
    final ObjectAnimator animator=ObjectAnimator.ofFloat(this,VISUAL_PROGRESS,scale);
    animator.setAutoCancel(true);
    animator.setDuration(PROGRESS_ANIM_DURATION);
    animator.setInterpolator(PROGRESS_ANIM_INTERPOLATOR);
    animator.start();
  }
 else {
    setVisualProgress(id,scale);
  }
  if (isPrimary && callBackToApp) {
    onProgressRefresh(scale,fromUser,progress);
  }
}
