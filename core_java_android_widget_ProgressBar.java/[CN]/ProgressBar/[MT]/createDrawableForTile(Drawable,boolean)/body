{
  if (!(tileDrawable instanceof BitmapDrawable))   return tileDrawable;
  final Bitmap tileBitmap=((BitmapDrawable)tileDrawable).getBitmap();
  if (mSampleTile == null) {
    mSampleTile=tileBitmap;
  }
  final ShapeDrawable shapeDrawable=new ShapeDrawable(getDrawableShape());
  final BitmapShader bitmapShader=new BitmapShader(tileBitmap,Shader.TileMode.REPEAT,Shader.TileMode.CLAMP);
  shapeDrawable.getPaint().setShader(bitmapShader);
  return (clip) ? new ClipDrawable(shapeDrawable,Gravity.LEFT,ClipDrawable.HORIZONTAL) : shapeDrawable;
}
