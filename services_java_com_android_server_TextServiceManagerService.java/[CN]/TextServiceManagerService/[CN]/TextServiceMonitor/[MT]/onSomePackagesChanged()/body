{
synchronized (mSpellCheckerMap) {
    buildSpellCheckerMapLocked(mContext,mSpellCheckerList,mSpellCheckerMap);
    final SpellCheckerInfo sci=getCurrentSpellChecker(null);
    final String packageName=sci.getPackageName();
    final int change=isPackageDisappearing(packageName);
    if (change == PACKAGE_PERMANENT_CHANGE || change == PACKAGE_TEMPORARY_CHANGE) {
      setCurSpellChecker(findAvailSpellCheckerLocked(null,packageName));
    }
 else     if (isPackageModified(packageName)) {
      setCurSpellChecker(findAvailSpellCheckerLocked(null,packageName));
    }
  }
}
