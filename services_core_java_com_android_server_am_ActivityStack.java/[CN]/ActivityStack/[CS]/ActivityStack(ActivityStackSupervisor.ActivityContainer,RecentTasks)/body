{
  mActivityContainer=activityContainer;
  mStackSupervisor=activityContainer.getOuter();
  mService=mStackSupervisor.mService;
  mHandler=new ActivityStackHandler(mService.mHandler.getLooper());
  mWindowManager=mService.mWindowManager;
  mStackId=activityContainer.mStackId;
  mCurrentUser=mService.mUserController.mCurrentUserId;
  mRecentTasks=recentTasks;
  mTaskPositioner=mStackId == FREEFORM_WORKSPACE_STACK_ID ? new LaunchingTaskPositioner() : null;
  mPersistTaskBounds=mStackId != DOCKED_STACK_ID && mStackId != PINNED_STACK_ID;
}
