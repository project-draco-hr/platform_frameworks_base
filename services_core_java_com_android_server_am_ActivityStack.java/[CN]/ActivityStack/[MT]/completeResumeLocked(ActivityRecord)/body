{
  next.idle=false;
  next.results=null;
  next.newIntents=null;
  if (next.nowVisible) {
    mStackSupervisor.dismissKeyguard();
  }
  mStackSupervisor.scheduleIdleTimeoutLocked(next);
  mStackSupervisor.reportResumedActivityLocked(next);
  next.resumeKeyDispatchingLocked();
  mNoAnimActivities.clear();
  if (next.app != null) {
synchronized (mService.mProcessCpuThread) {
      next.cpuTimeAtResume=mService.mProcessCpuTracker.getCpuTimeForPid(next.app.pid);
    }
  }
 else {
    next.cpuTimeAtResume=0;
  }
}
