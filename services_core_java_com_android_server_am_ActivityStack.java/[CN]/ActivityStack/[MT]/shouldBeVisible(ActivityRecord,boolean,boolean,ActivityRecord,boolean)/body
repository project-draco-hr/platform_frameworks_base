{
  final boolean activityVisibleBehind=(behindTranslucentActivity || stackVisibleBehind) && visibleBehind == r;
  if (!okToShowLocked(r)) {
    return false;
  }
  boolean isVisible=!behindFullscreenActivity || r.mLaunchTaskBehind || activityVisibleBehind;
  if (isVisible && r.isRecentsActivity()) {
    isVisible=!mFullscreen || mStackSupervisor.isFocusedStack(this);
  }
  return isVisible;
}
