{
  if (mStackSupervisor.inResumeTopActivity) {
    return false;
  }
  boolean result=false;
  try {
    mStackSupervisor.inResumeTopActivity=true;
    if (mService.mLockScreenShown == ActivityManagerService.LOCK_SCREEN_LEAVING) {
      mService.mLockScreenShown=ActivityManagerService.LOCK_SCREEN_HIDDEN;
      mService.comeOutOfSleepIfNeededLocked();
    }
    result=resumeTopActivityInnerLocked(prev,options);
  }
  finally {
    mStackSupervisor.inResumeTopActivity=false;
  }
  return result;
}
