{
  if (DEBUG_SCREENSHOTS)   Slog.d(TAG,"screenshotActivities: " + who);
  if (who.noDisplay) {
    if (DEBUG_SCREENSHOTS)     Slog.d(TAG,"\tNo display");
    return null;
  }
  if (isHomeStack()) {
    if (DEBUG_SCREENSHOTS)     Slog.d(TAG,"\tHome stack");
    return null;
  }
  int w=mService.mThumbnailWidth;
  int h=mService.mThumbnailHeight;
  if (w > 0) {
    if (DEBUG_SCREENSHOTS)     Slog.d(TAG,"\tTaking screenshot");
    return mWindowManager.screenshotApplications(who.appToken,Display.DEFAULT_DISPLAY,w,h,SCREENSHOT_FORCE_565);
  }
  Slog.e(TAG,"Invalid thumbnail dimensions: " + w + "x"+ h);
  return null;
}
