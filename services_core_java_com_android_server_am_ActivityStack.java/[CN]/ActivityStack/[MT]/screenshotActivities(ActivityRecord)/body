{
  if (DEBUG_SCREENSHOTS)   Slog.d(TAG_SCREENSHOTS,"screenshotActivities: " + who);
  if (who.noDisplay) {
    if (DEBUG_SCREENSHOTS)     Slog.d(TAG_SCREENSHOTS,"\tNo display");
    return null;
  }
  if (isHomeStack()) {
    if (DEBUG_SCREENSHOTS)     Slog.d(TAG_SCREENSHOTS,"\tHome stack");
    return null;
  }
  int w=mService.mThumbnailWidth;
  int h=mService.mThumbnailHeight;
  if (w > 0) {
    if (DEBUG_SCREENSHOTS)     Slog.d(TAG_SCREENSHOTS,"\tTaking screenshot");
    return mWindowManager.screenshotApplications(who.appToken,Display.DEFAULT_DISPLAY,w,h);
  }
  Slog.e(TAG,"Invalid thumbnail dimensions: " + w + "x"+ h);
  return null;
}
