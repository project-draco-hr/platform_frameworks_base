{
  int taskChanges=oldTaskOverride.diff(taskConfig);
  if ((taskChanges & ActivityInfo.CONFIG_SCREEN_SIZE) != 0) {
    final boolean crosses=record.crossesHorizontalSizeThreshold(oldTaskOverride.screenWidthDp,taskConfig.screenWidthDp) || record.crossesVerticalSizeThreshold(oldTaskOverride.screenHeightDp,taskConfig.screenHeightDp);
    if (!crosses) {
      taskChanges&=~ActivityInfo.CONFIG_SCREEN_SIZE;
    }
  }
  if ((taskChanges & ActivityInfo.CONFIG_SMALLEST_SCREEN_SIZE) != 0) {
    final int oldSmallest=oldTaskOverride.smallestScreenWidthDp;
    final int newSmallest=taskConfig.smallestScreenWidthDp;
    final boolean crosses=record.crossesHorizontalSizeThreshold(oldSmallest,newSmallest) || record.crossesVerticalSizeThreshold(oldSmallest,newSmallest);
    if (!crosses) {
      taskChanges&=~ActivityInfo.CONFIG_SMALLEST_SCREEN_SIZE;
    }
  }
  return catchConfigChangesFromUnset(taskConfig,oldTaskOverride,taskChanges);
}
