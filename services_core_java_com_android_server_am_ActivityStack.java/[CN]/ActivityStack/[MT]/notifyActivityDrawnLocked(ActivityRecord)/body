{
  mActivityContainer.setDrawn();
  if ((r == null) || (mUndrawnActivitiesBelowTopTranslucent.remove(r) && mUndrawnActivitiesBelowTopTranslucent.isEmpty())) {
    final ActivityRecord waitingActivity=mTranslucentActivityWaiting;
    mTranslucentActivityWaiting=null;
    mUndrawnActivitiesBelowTopTranslucent.clear();
    mHandler.removeMessages(TRANSLUCENT_TIMEOUT_MSG);
    if (waitingActivity != null) {
      mWindowManager.setWindowOpaque(waitingActivity.appToken,false);
      if (waitingActivity.app != null && waitingActivity.app.thread != null) {
        try {
          waitingActivity.app.thread.scheduleTranslucentConversionComplete(waitingActivity.appToken,r != null);
        }
 catch (        RemoteException e) {
        }
      }
    }
  }
}
