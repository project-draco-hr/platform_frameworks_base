{
  super(context);
  mTab=tab;
  final Drawable icon=tab.getIcon();
  final CharSequence text=tab.getText();
  if (icon != null) {
    ImageView iconView=new ImageView(context);
    iconView.setImageDrawable(icon);
    LayoutParams lp=new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
    lp.gravity=Gravity.CENTER_VERTICAL;
    iconView.setLayoutParams(lp);
    addView(iconView);
  }
  if (text != null) {
    TextView textView=new TextView(context);
    textView.setText(text);
    textView.setSingleLine();
    textView.setEllipsize(TruncateAt.END);
    LayoutParams lp=new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
    lp.gravity=Gravity.CENTER_VERTICAL;
    textView.setLayoutParams(lp);
    addView(textView);
  }
  setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.MATCH_PARENT,1));
}
