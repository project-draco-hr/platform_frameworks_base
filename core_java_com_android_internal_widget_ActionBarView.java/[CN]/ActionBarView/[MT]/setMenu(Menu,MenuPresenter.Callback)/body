{
  if (menu == mOptionsMenu)   return;
  if (mOptionsMenu != null) {
    mOptionsMenu.removeMenuPresenter(mActionMenuPresenter);
  }
  MenuBuilder builder=(MenuBuilder)menu;
  mOptionsMenu=builder;
  if (mMenuView != null) {
    removeView(mMenuView);
  }
  if (mActionMenuPresenter == null) {
    mActionMenuPresenter=new ActionMenuPresenter();
    mActionMenuPresenter.setCallback(cb);
    builder.addMenuPresenter(mActionMenuPresenter);
  }
  final ActionMenuView menuView=(ActionMenuView)mActionMenuPresenter.getMenuView(this);
  final LayoutParams layoutParams=new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.MATCH_PARENT);
  menuView.setLayoutParams(layoutParams);
  addView(menuView);
  mMenuView=menuView;
}
