{
  super.onFinishInflate();
  final Context context=getContext();
  if (mLogo != null) {
    mLogoView=new ImageView(context);
    mLogoView.setScaleType(ImageView.ScaleType.CENTER);
    mLogoView.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.MATCH_PARENT));
    mLogoView.setImageDrawable(mLogo);
    mLogoView.setVisibility((mDisplayOptions & ActionBar.DISPLAY_USE_LOGO) != 0 ? VISIBLE : GONE);
    mHomeLayout.addView(mLogoView);
  }
  if (mIcon != null) {
    mIconView=new ImageView(context,null,com.android.internal.R.attr.actionButtonStyle);
    mIconView.setScaleType(ImageView.ScaleType.CENTER);
    mIconView.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.MATCH_PARENT));
    mIconView.setImageDrawable(mIcon);
    mIconView.setVisibility((mDisplayOptions & ActionBar.DISPLAY_USE_LOGO) == 0 || mLogo == null ? VISIBLE : GONE);
    mHomeLayout.addView(mIconView);
  }
  addView(mHomeLayout);
switch (mNavigationMode) {
case ActionBar.NAVIGATION_MODE_STANDARD:
    if (mLogoView == null) {
      initTitle();
    }
  break;
case ActionBar.NAVIGATION_MODE_LIST:
throw new UnsupportedOperationException("Inflating list navigation isn't supported yet!");
case ActionBar.NAVIGATION_MODE_TABS:
throw new UnsupportedOperationException("Inflating tab navigation isn't supported yet!");
}
if (mCustomNavView != null && (mDisplayOptions & ActionBar.DISPLAY_SHOW_CUSTOM) != 0) {
final ViewParent parent=mCustomNavView.getParent();
if (parent != this) {
if (parent instanceof ViewGroup) {
((ViewGroup)parent).removeView(mCustomNavView);
}
addView(mCustomNavView);
}
}
}
