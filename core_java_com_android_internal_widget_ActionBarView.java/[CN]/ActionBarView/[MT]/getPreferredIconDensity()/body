{
  final Resources res=mContext.getResources();
  final int availableHeight=getLayoutParams().height - mIconView.getPaddingTop() - mIconView.getPaddingBottom();
  int iconSize=res.getDimensionPixelSize(android.R.dimen.app_icon_size);
  if (iconSize * DisplayMetrics.DENSITY_LOW >= availableHeight) {
    return DisplayMetrics.DENSITY_LOW;
  }
 else   if (iconSize * DisplayMetrics.DENSITY_MEDIUM >= availableHeight) {
    return DisplayMetrics.DENSITY_MEDIUM;
  }
 else   if (iconSize * DisplayMetrics.DENSITY_HIGH >= availableHeight) {
    return DisplayMetrics.DENSITY_HIGH;
  }
  return DisplayMetrics.DENSITY_XHIGH;
}
