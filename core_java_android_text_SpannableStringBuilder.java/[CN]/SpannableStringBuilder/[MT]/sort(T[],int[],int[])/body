{
  int size=array.length;
  for (int i=size / 2 - 1; i >= 0; i--) {
    siftDown(i,array,size,priority,insertionOrder);
  }
  for (int i=size - 1; i > 0; i--) {
    T v=array[0];
    int prio=priority[0];
    int insertOrder=insertionOrder[0];
    array[0]=array[i];
    priority[0]=priority[i];
    insertionOrder[0]=insertionOrder[i];
    siftDown(0,array,i,priority,insertionOrder);
    array[i]=v;
    priority[i]=prio;
    insertionOrder[i]=insertOrder;
  }
}
