{
  checkRange("drawTextRun",start,end);
  int cstart=start - 8;
  if (cstart < 0) {
    cstart=0;
  }
  int cend=end + 8;
  int max=length();
  if (cend > max) {
    cend=max;
  }
  if (cend <= mGapStart) {
    c.drawTextRun(mText,start,end - start,x,y,flags,p);
  }
 else   if (cstart >= mGapStart) {
    c.drawTextRun(mText,start + mGapLength,end - start,x,y,flags,p);
  }
 else {
    char[] buf=TextUtils.obtain(cend - cstart);
    getChars(cstart,cend,buf,0);
    c.drawTextRun(buf,start - cstart,end - start,x,y,flags,p);
    TextUtils.recycle(buf);
  }
}
