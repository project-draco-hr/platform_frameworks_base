{
  final int oldLength=mText.length;
  final int newLength=ArrayUtils.idealCharArraySize(size + 1);
  final int delta=newLength - oldLength;
  if (delta == 0)   return;
  char[] newText=new char[newLength];
  System.arraycopy(mText,0,newText,0,mGapStart);
  final int after=oldLength - (mGapStart + mGapLength);
  System.arraycopy(mText,oldLength - after,newText,newLength - after,after);
  mText=newText;
  mGapLength+=delta;
  if (mGapLength < 1)   new Exception("mGapLength < 1").printStackTrace();
  for (int i=0; i < mSpanCount; i++) {
    if (mSpanStarts[i] > mGapStart)     mSpanStarts[i]+=delta;
    if (mSpanEnds[i] > mGapStart)     mSpanEnds[i]+=delta;
  }
}
