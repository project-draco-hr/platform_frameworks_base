{
  boolean visibilityChange=false;
  boolean fadeIn=false;
  int startVisibility, endVisibility;
  View startParent, endParent;
  if (startValues != null) {
    startVisibility=(Integer)startValues.values.get(PROPNAME_VISIBILITY);
    startParent=(View)startValues.values.get(PROPNAME_PARENT);
  }
 else {
    startVisibility=-1;
    startParent=null;
  }
  if (endValues != null) {
    endVisibility=(Integer)endValues.values.get(PROPNAME_VISIBILITY);
    endParent=(View)endValues.values.get(PROPNAME_PARENT);
  }
 else {
    endVisibility=-1;
    endParent=null;
  }
  boolean existenceChange=false;
  if (startValues != null && endValues != null) {
    if (startVisibility == endVisibility && startParent == endParent) {
      return null;
    }
 else {
      if (startVisibility != endVisibility) {
        if (startVisibility == View.VISIBLE) {
          fadeIn=false;
          visibilityChange=true;
        }
 else         if (endVisibility == View.VISIBLE) {
          fadeIn=true;
          visibilityChange=true;
        }
      }
 else       if (startParent != endParent) {
        existenceChange=true;
        if (endParent == null) {
          fadeIn=false;
          visibilityChange=true;
        }
 else         if (startParent == null) {
          fadeIn=true;
          visibilityChange=true;
        }
      }
    }
  }
  if (startValues == null) {
    existenceChange=true;
    fadeIn=true;
    visibilityChange=true;
  }
 else   if (endValues == null) {
    existenceChange=true;
    fadeIn=false;
    visibilityChange=true;
  }
  if (visibilityChange) {
    if (fadeIn) {
      return appear(sceneRoot,existenceChange ? null : startValues.view,startVisibility,endValues.view,endVisibility);
    }
 else {
      return disappear(sceneRoot,startValues.view,startVisibility,existenceChange ? null : endValues.view,endVisibility);
    }
  }
  return null;
}
