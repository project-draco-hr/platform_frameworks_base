{
  VisibilityInfo visInfo=getVisibilityChangeInfo(startValues,endValues);
  if (visInfo.visibilityChange) {
    boolean isTarget=false;
    if (mTargets != null || mTargetIds != null) {
      View startView=startValues != null ? startValues.view : null;
      View endView=endValues != null ? endValues.view : null;
      int startId=startView != null ? startView.getId() : -1;
      int endId=endView != null ? endView.getId() : -1;
      isTarget=isValidTarget(startView,startId) || isValidTarget(endView,endId);
    }
    if (isTarget || ((visInfo.startParent != null || visInfo.endParent != null) && !isHierarchyVisibilityChanging(sceneRoot,visInfo.startParent,visInfo.endParent))) {
      if (visInfo.fadeIn) {
        return appear(sceneRoot,startValues,visInfo.startVisibility,endValues,visInfo.endVisibility);
      }
 else {
        return disappear(sceneRoot,startValues,visInfo.startVisibility,endValues,visInfo.endVisibility);
      }
    }
  }
  return null;
}
