{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.DUMP,TAG);
  writer.println("Bluetooth Status");
  writer.println("  enabled: " + mEnable);
  writer.println("  state: " + mState);
  writer.println("  address: " + mAddress);
  writer.println("  name: " + mName + "\n");
  if (mBluetooth == null) {
    writer.println("Bluetooth Service not connected");
  }
 else {
    try {
      writer.println("Bonded devices:");
      for (      BluetoothDevice device : mBluetooth.getBondedDevices()) {
        writer.println("  " + device.getAddress() + " ["+ DEVICE_TYPE_NAMES[device.getType()]+ "] "+ device.getName());
      }
      writer.flush();
      ParcelFileDescriptor pfd=ParcelFileDescriptor.dup(fd);
      mBluetooth.dump(pfd);
      pfd.close();
    }
 catch (    RemoteException re) {
      writer.println("RemoteException while calling Bluetooth Service");
    }
catch (    IOException re) {
      writer.println("IOException attempting to dup() fd");
    }
  }
}
