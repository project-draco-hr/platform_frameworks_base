{
  IntentFilter filter=new IntentFilter();
  filter.addAction(Intent.ACTION_BATTERY_LOW);
  filter.addAction(Intent.ACTION_BATTERY_OKAY);
  filter.addAction(Intent.ACTION_POWER_CONNECTED);
  filter.addAction(Intent.ACTION_POWER_DISCONNECTED);
  filter.addAction(ACTION_CHARGING_STABLE);
  mContext.registerReceiver(this,filter);
  BatteryManagerInternal batteryManagerInternal=LocalServices.getService(BatteryManagerInternal.class);
  mBatteryHealthy=!batteryManagerInternal.getBatteryLevelLow();
  mCharging=batteryManagerInternal.isPowered(BatteryManager.BATTERY_PLUGGED_ANY);
}
