{
  IntentFilter filter=new IntentFilter();
  filter.addAction(Intent.ACTION_BATTERY_LOW);
  filter.addAction(Intent.ACTION_BATTERY_OKAY);
  filter.addAction(Intent.ACTION_POWER_CONNECTED);
  filter.addAction(Intent.ACTION_POWER_DISCONNECTED);
  mContext.registerReceiver(this,filter);
  BatteryService batteryService=(BatteryService)ServiceManager.getService("battery");
  if (batteryService != null) {
    mBatteryHealthy=!batteryService.getBatteryLevelLow();
    mCharging=batteryService.isPowered(BatteryManager.BATTERY_PLUGGED_ANY);
  }
 else {
  }
}
