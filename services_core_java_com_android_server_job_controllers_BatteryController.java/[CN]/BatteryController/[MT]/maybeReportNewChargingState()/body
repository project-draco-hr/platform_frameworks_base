{
  final boolean stablePower=mChargeTracker.isOnStablePower();
  boolean reportChange=false;
synchronized (mTrackedTasks) {
    for (    JobStatus ts : mTrackedTasks) {
      boolean previous=ts.chargingConstraintSatisfied.getAndSet(stablePower);
      if (previous != stablePower) {
        reportChange=true;
      }
    }
  }
  if (reportChange) {
    mStateChangedListener.onControllerStateChanged();
  }
}
