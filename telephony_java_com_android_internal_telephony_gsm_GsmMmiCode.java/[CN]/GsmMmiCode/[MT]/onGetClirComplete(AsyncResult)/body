{
  StringBuilder sb=new StringBuilder(getScString());
  sb.append("\n");
  if (ar.exception != null) {
    state=State.FAILED;
    sb.append(context.getText(com.android.internal.R.string.mmiError));
  }
 else {
    int clirArgs[];
    clirArgs=(int[])ar.result;
switch (clirArgs[1]) {
case 0:
      sb.append(context.getText(com.android.internal.R.string.serviceNotProvisioned));
    state=State.COMPLETE;
  break;
case 1:
sb.append(context.getText(com.android.internal.R.string.CLIRPermanent));
state=State.COMPLETE;
break;
case 2:
sb.append(context.getText(com.android.internal.R.string.mmiError));
state=State.FAILED;
break;
case 3:
switch (clirArgs[0]) {
default :
case 0:
sb.append(context.getText(com.android.internal.R.string.CLIRDefaultOnNextCallOn));
break;
case 1:
sb.append(context.getText(com.android.internal.R.string.CLIRDefaultOnNextCallOn));
break;
case 2:
sb.append(context.getText(com.android.internal.R.string.CLIRDefaultOnNextCallOff));
break;
}
state=State.COMPLETE;
break;
case 4:
switch (clirArgs[0]) {
default :
case 0:
sb.append(context.getText(com.android.internal.R.string.CLIRDefaultOffNextCallOff));
break;
case 1:
sb.append(context.getText(com.android.internal.R.string.CLIRDefaultOffNextCallOn));
break;
case 2:
sb.append(context.getText(com.android.internal.R.string.CLIRDefaultOffNextCallOff));
break;
}
state=State.COMPLETE;
break;
}
}
message=sb;
phone.onMMIDone(this);
}
