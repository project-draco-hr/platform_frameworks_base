{
  if (data == null || data.length == 0) {
    return null;
  }
  DataInputStream in=new DataInputStream(new ByteArrayInputStream(data));
  try {
    int version=in.readInt();
    NetworkTemplate template=readNetworkTemplate(in,version);
    int cycleDay=in.readInt();
    String cycleTimeZone=readString(in,version);
    long warningBytes=in.readLong();
    long limitBytes=in.readLong();
    long lastWarningSnooze=in.readLong();
    long lastLimitSnooze=in.readLong();
    boolean metered=in.readInt() == 1;
    boolean inferred=in.readInt() == 1;
    return new NetworkPolicy(template,cycleDay,cycleTimeZone,warningBytes,limitBytes,lastWarningSnooze,lastLimitSnooze,metered,inferred);
  }
 catch (  IOException ioe) {
    Log.e(TAG,"Failed to Convert byte array to NetworkPolicy",ioe);
    return null;
  }
}
