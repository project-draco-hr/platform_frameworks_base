{
  if (byteCount > endOffset - offset) {
    byteCount=endOffset - offset;
  }
  offset+=byteCount;
  return byteCount;
}
