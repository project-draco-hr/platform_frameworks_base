{
  if (event instanceof ActiveEvent) {
    updateCurrentEventAndTime(event);
    try {
      ((ActiveEvent)event).dispatch();
    }
  finally {
      currentEvent=null;
    }
    return;
  }
  Object src=event.getSource();
  if (src instanceof Component) {
    if (preprocessComponentEvent(event)) {
      ((Component)src).dispatchEvent(event);
    }
  }
 else {
    if (toolkit != null) {
      toolkit.dispatchAWTEvent(event);
    }
    if (src instanceof MenuComponent) {
      ((MenuComponent)src).dispatchEvent(event);
    }
  }
}
