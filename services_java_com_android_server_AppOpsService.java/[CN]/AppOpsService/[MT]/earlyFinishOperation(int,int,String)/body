{
  uid=handleIncomingUid(uid);
synchronized (this) {
    Op op=getOpLocked(code,uid,packageName);
    if (op == null) {
      return;
    }
    if (op.duration != -1) {
      Slog.w(TAG,"Noting timed op not finished: uid " + uid + " pkg "+ packageName+ " code "+ code+ " time="+ op.time+ " duration="+ op.duration);
    }
    int newDuration=(int)(System.currentTimeMillis() - op.time);
    if (newDuration < op.duration) {
      op.duration=newDuration;
    }
  }
}
