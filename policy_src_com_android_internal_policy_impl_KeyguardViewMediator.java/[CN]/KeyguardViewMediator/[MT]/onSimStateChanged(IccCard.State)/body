{
  if (DEBUG)   Log.d(TAG,"onSimStateChanged: " + simState);
switch (simState) {
case ABSENT:
case PERM_DISABLED:
    if (!mUpdateMonitor.isDeviceProvisioned()) {
      if (!isShowing()) {
        if (DEBUG)         Log.d(TAG,"INTENT_VALUE_ICC_ABSENT " + "or PERM_DISABLED and keygaurd isn't showing," + " we need to show the keyguard since the "+ "device isn't provisioned yet.");
        doKeyguard();
      }
 else {
        resetStateLocked();
      }
    }
  break;
case PIN_REQUIRED:
case PUK_REQUIRED:
if (!isShowing()) {
  if (DEBUG)   Log.d(TAG,"INTENT_VALUE_ICC_LOCKED and keygaurd isn't showing, we need " + "to show the keyguard so the user can enter their sim pin");
  doKeyguard();
}
 else {
  resetStateLocked();
}
break;
case READY:
if (isShowing()) {
resetStateLocked();
}
break;
}
}
