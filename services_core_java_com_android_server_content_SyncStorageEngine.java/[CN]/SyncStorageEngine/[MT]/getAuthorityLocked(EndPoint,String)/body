{
  if (info.target_service) {
    SparseArray<AuthorityInfo> aInfo=mServices.get(info.service);
    AuthorityInfo authority=null;
    if (aInfo != null) {
      authority=aInfo.get(info.userId);
    }
    if (authority == null) {
      if (tag != null) {
        if (Log.isLoggable(TAG,Log.VERBOSE)) {
          Log.v(TAG,tag + " No authority info found for " + info.service+ " for"+ " user "+ info.userId);
        }
      }
      return null;
    }
    return authority;
  }
 else   if (info.target_provider) {
    AccountAndUser au=new AccountAndUser(info.account,info.userId);
    AccountInfo accountInfo=mAccounts.get(au);
    if (accountInfo == null) {
      if (tag != null) {
        if (Log.isLoggable(TAG,Log.VERBOSE)) {
          Log.v(TAG,tag + ": unknown account " + au);
        }
      }
      return null;
    }
    AuthorityInfo authority=accountInfo.authorities.get(info.provider);
    if (authority == null) {
      if (tag != null) {
        if (Log.isLoggable(TAG,Log.VERBOSE)) {
          Log.v(TAG,tag + ": unknown provider " + info.provider);
        }
      }
      return null;
    }
    return authority;
  }
 else {
    Log.e(TAG,tag + " Authority : " + info+ ", invalid target");
    return null;
  }
}
