{
  mContext=context;
  sSyncStorageEngine=this;
  mCal=Calendar.getInstance(TimeZone.getTimeZone("GMT+0"));
  mDefaultMasterSyncAutomatically=mContext.getResources().getBoolean(com.android.internal.R.bool.config_syncstorageengine_masterSyncAutomatically);
  File systemDir=new File(dataDir,"system");
  File syncDir=new File(systemDir,"sync");
  syncDir.mkdirs();
  maybeDeleteLegacyPendingInfoLocked(syncDir);
  mAccountInfoFile=new AtomicFile(new File(syncDir,"accounts.xml"));
  mStatusFile=new AtomicFile(new File(syncDir,"status.bin"));
  mPendingFile=new AtomicFile(new File(syncDir,"pending.xml"));
  mStatisticsFile=new AtomicFile(new File(syncDir,"stats.bin"));
  readAccountInfoLocked();
  readStatusLocked();
  readPendingOperationsLocked();
  readStatisticsLocked();
  readAndDeleteLegacyAccountInfoLocked();
  writeAccountInfoLocked();
  writeStatusLocked();
  writePendingOperationsLocked();
  writeStatisticsLocked();
}
