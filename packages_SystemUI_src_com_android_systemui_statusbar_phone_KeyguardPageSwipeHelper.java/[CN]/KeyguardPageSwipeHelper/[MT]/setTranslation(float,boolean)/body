{
  translation=rightSwipePossible() ? translation : Math.max(0,translation);
  translation=leftSwipePossible() ? translation : Math.min(0,translation);
  if (translation != mTranslation || isReset) {
    ArrayList<View> translatedViews=mCallback.getTranslationViews();
    int length=translatedViews.size();
    for (int i=0; i < length; i++) {
      View target=translatedViews.get(i);
      target.setTranslationX(translation);
    }
    float targetAlpha=1.0f - Math.abs(translation / mMinTranslationAmount);
    targetAlpha=Math.max(0.0f,targetAlpha);
    ArrayList<View> fadingViews=mCallback.getFadingViews();
    length=fadingViews.size();
    for (int i=0; i < length; i++) {
      View view=fadingViews.get(i);
      view.setAlpha(targetAlpha);
    }
    if (translation == 0.0f) {
      boolean animate=!isReset;
      showAllIcons(animate);
    }
 else {
      View targetView=translation > 0 ? mLeftIcon : mRightIcon;
      float progress=Math.abs(translation) / mCallback.getPageWidth();
      progress=Math.min(progress,1.0f);
      float alpha=SWIPE_RESTING_ALPHA_AMOUNT * (1.0f - progress) + progress;
      float scale=(1.0f - progress) + progress * SWIPE_MAX_ICON_SCALE_AMOUNT;
      updateIcon(targetView,scale,alpha,false);
      View otherView=translation < 0 ? mLeftIcon : mRightIcon;
      if (mTranslation * translation <= 0) {
        updateIcon(otherView,0,0,true);
        updateIcon(mCenterIcon,0,0,true);
      }
    }
    mTranslation=translation;
  }
}
