{
  try {
    long start=System.currentTimeMillis();
    initialize(volumeName);
    prescan(null,true);
    long prescan=System.currentTimeMillis();
    if (ENABLE_BULK_INSERTS) {
      mMediaInserter=new MediaInserter(mMediaProvider,mPackageName,500);
    }
    for (int i=0; i < directories.length; i++) {
      processDirectory(directories[i],mClient);
    }
    if (ENABLE_BULK_INSERTS) {
      mMediaInserter.flushAll();
      mMediaInserter=null;
    }
    long scan=System.currentTimeMillis();
    postscan(directories);
    long end=System.currentTimeMillis();
    if (false) {
      Log.d(TAG," prescan time: " + (prescan - start) + "ms\n");
      Log.d(TAG,"    scan time: " + (scan - prescan) + "ms\n");
      Log.d(TAG,"postscan time: " + (end - scan) + "ms\n");
      Log.d(TAG,"   total time: " + (end - start) + "ms\n");
    }
  }
 catch (  SQLException e) {
    Log.e(TAG,"SQLException in MediaScanner.scan()",e);
  }
catch (  UnsupportedOperationException e) {
    Log.e(TAG,"UnsupportedOperationException in MediaScanner.scan()",e);
  }
catch (  RemoteException e) {
    Log.e(TAG,"RemoteException in MediaScanner.scan()",e);
  }
}
