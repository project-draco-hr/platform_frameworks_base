{
  MediaFile.MediaFileType mediaFileType=MediaFile.getFileType(path);
  int fileType=(mediaFileType == null ? 0 : mediaFileType.fileType);
  if (!MediaFile.isAudioFileType(fileType) && !MediaFile.isVideoFileType(fileType) && !MediaFile.isImageFileType(fileType)&& !MediaFile.isPlayListFileType(fileType)) {
    return;
  }
  mMtpObjectHandle=objectHandle;
  initialize(volumeName);
  try {
    if (MediaFile.isPlayListFileType(fileType)) {
      prescan(null,true);
      String key=path;
      if (mMediaStoragePath != null && key.startsWith(mMediaStoragePath)) {
        key=mExternalStoragePath + key.substring(mMediaStoragePath.length());
      }
      if (mCaseInsensitivePaths) {
        key=path.toLowerCase();
      }
      FileCacheEntry entry=mFileCache.get(key);
      if (entry != null) {
        processPlayList(entry);
      }
    }
 else {
      prescan(path,false);
      File file=new File(path);
      long lastModifiedSeconds=file.lastModified() / 1000;
      mClient.doScanFile(path,mediaFileType.mimeType,lastModifiedSeconds,file.length(),true);
    }
  }
 catch (  RemoteException e) {
    Log.e(TAG,"RemoteException in MediaScanner.scanFile()",e);
  }
 finally {
    mMtpObjectHandle=0;
  }
}
