{
  native_setup();
  mContext=c;
  mPackageName=c.getPackageName();
  mVolumeName=volumeName;
  mBitmapOptions.inSampleSize=1;
  mBitmapOptions.inJustDecodeBounds=true;
  setDefaultRingtoneFileNames();
  mMediaProvider=mContext.getContentResolver().acquireContentProviderClient(MediaStore.AUTHORITY);
  mAudioUri=Audio.Media.getContentUri(volumeName);
  mVideoUri=Video.Media.getContentUri(volumeName);
  mImagesUri=Images.Media.getContentUri(volumeName);
  mThumbsUri=Images.Thumbnails.getContentUri(volumeName);
  mFilesUri=Files.getContentUri(volumeName);
  mFilesUriNoNotify=mFilesUri.buildUpon().appendQueryParameter("nonotify","1").build();
  if (!volumeName.equals("internal")) {
    mProcessPlaylists=true;
    mProcessGenres=true;
    mPlaylistsUri=Playlists.getContentUri(volumeName);
  }
 else {
    mProcessPlaylists=false;
    mProcessGenres=false;
    mPlaylistsUri=null;
  }
  final Locale locale=mContext.getResources().getConfiguration().locale;
  if (locale != null) {
    String language=locale.getLanguage();
    String country=locale.getCountry();
    if (language != null) {
      if (country != null) {
        setLocale(language + "_" + country);
      }
 else {
        setLocale(language);
      }
    }
  }
  mCloseGuard.open("close");
}
