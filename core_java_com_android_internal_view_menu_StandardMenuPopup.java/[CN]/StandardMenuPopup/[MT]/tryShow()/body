{
  if (isShowing()) {
    return true;
  }
  mPopup.setOnDismissListener(this);
  mPopup.setOnItemClickListener(this);
  mPopup.setAdapter(mAdapter);
  mPopup.setModal(true);
  final View anchor=mAnchorView;
  if (anchor != null) {
    mPopup.setAnchorView(anchor);
    mPopup.setDropDownGravity(mDropDownGravity);
  }
 else {
    return false;
  }
  if (!mHasContentWidth) {
    mContentWidth=measureIndividualMenuWidth(mAdapter,mMeasureParent,mContext,mPopupMaxWidth);
    mHasContentWidth=true;
  }
  mPopup.setContentWidth(mContentWidth);
  mPopup.setInputMethodMode(PopupWindow.INPUT_METHOD_NOT_NEEDED);
  mPopup.show();
  mPopup.getListView().setOnKeyListener(this);
  return true;
}
