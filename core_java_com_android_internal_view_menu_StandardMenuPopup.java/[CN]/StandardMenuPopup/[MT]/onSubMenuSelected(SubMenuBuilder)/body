{
  if (subMenu.hasVisibleItems()) {
    final MenuPopupHelper subPopup=new MenuPopupHelper(mContext,subMenu,mShownAnchorView,mOverflowOnly,mPopupStyleAttr,mPopupStyleRes);
    subPopup.setPresenterCallback(mPresenterCallback);
    subPopup.setForceShowIcon(MenuPopup.shouldPreserveIconSpacing(subMenu));
    subPopup.setOnDismissListener(mOnDismissListener);
    mOnDismissListener=null;
    mMenu.close(false);
    final int horizontalOffset=mPopup.getHorizontalOffset();
    final int verticalOffset=mPopup.getVerticalOffset();
    if (subPopup.tryShow(horizontalOffset,verticalOffset)) {
      if (mPresenterCallback != null) {
        mPresenterCallback.onOpenSubMenu(subMenu);
      }
      return true;
    }
  }
  return false;
}
