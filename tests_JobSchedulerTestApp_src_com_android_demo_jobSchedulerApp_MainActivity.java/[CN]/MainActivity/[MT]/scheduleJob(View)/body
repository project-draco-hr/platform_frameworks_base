{
  if (!ensureTestService()) {
    return;
  }
  JobInfo.Builder builder=new JobInfo.Builder(kJobId++,mServiceComponent);
  String delay=mDelayEditText.getText().toString();
  if (delay != null && !TextUtils.isEmpty(delay)) {
    builder.setMinimumLatency(Long.parseLong(delay) * 1000);
  }
  String deadline=mDeadlineEditText.getText().toString();
  if (deadline != null && !TextUtils.isEmpty(deadline)) {
    builder.setOverrideDeadline(Long.parseLong(deadline) * 1000);
  }
  boolean requiresUnmetered=mWiFiConnectivityRadioButton.isChecked();
  boolean requiresAnyConnectivity=mAnyConnectivityRadioButton.isChecked();
  if (requiresUnmetered) {
    builder.setRequiredNetworkType(JobInfo.NETWORK_TYPE_UNMETERED);
  }
 else   if (requiresAnyConnectivity) {
    builder.setRequiredNetworkType(JobInfo.NETWORK_TYPE_ANY);
  }
  builder.setRequiresDeviceIdle(mRequiresIdleCheckbox.isChecked());
  builder.setRequiresCharging(mRequiresChargingCheckBox.isChecked());
  builder.setPersisted(mIsPersistedCheckbox.isChecked());
  mTestService.scheduleJob(builder.build());
}
