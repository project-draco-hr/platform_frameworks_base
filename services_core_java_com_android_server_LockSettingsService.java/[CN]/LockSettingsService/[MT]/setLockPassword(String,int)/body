{
  checkWritePermission(userId);
  maybeUpdateKeystore(password,userId);
  mStorage.writePasswordHash(mLockPatternUtils.passwordToHash(password,userId),userId);
  notifyObservers(LockPatternUtilsCache.HAS_LOCK_PASSWORD_CACHE_KEY,userId);
}
