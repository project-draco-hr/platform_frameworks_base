{
  return verifyCredential(userId,storedHash,password,hasChallenge,challenge,new CredentialUtil(){
    @Override public void setCredential(    String password,    String oldPassword,    int userId) throws RemoteException {
      setLockPasswordInternal(password,oldPassword,userId);
    }
    @Override public byte[] toHash(    String password,    int userId){
      return mLockPatternUtils.passwordToHash(password,userId);
    }
    @Override public String adjustForKeystore(    String password){
      return password;
    }
  }
);
}
