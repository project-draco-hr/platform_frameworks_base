{
  if (phase == SystemService.PHASE_THIRD_PARTY_APPS_CAN_START) {
    mContext.registerReceiver(new BroadcastReceiver(){
      @Override public void onReceive(      Context context,      Intent intent){
synchronized (mLock) {
          stopDreamLocked();
        }
      }
    }
,new IntentFilter(Intent.ACTION_USER_SWITCHED),null,mHandler);
  }
}
