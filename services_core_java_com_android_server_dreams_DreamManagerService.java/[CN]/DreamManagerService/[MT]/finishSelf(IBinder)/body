{
  if (token == null) {
    throw new IllegalArgumentException("token must not be null");
  }
  final long ident=Binder.clearCallingIdentity();
  try {
    if (DEBUG) {
      Slog.d(TAG,"Dream finished: " + token);
    }
synchronized (mLock) {
      if (mCurrentDreamToken == token) {
        stopDreamLocked();
      }
    }
  }
  finally {
    Binder.restoreCallingIdentity(ident);
  }
}
