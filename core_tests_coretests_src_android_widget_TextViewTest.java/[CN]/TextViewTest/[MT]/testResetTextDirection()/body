{
  final TextViewTestActivity activity=getActivity();
  final LinearLayout ll=(LinearLayout)activity.findViewById(R.id.textviewtest_layout);
  final TextView tv=(TextView)activity.findViewById(R.id.textviewtest_textview);
  getActivity().runOnUiThread(new Runnable(){
    public void run(){
      tv.setTextDirection(View.TEXT_DIRECTION_FIRST_STRONG);
      assertEquals(View.TEXT_DIRECTION_RTL,tv.getResolvedTextDirection());
      assertEquals(true,tv.isResolvedTextDirection());
      ll.removeView(tv);
      assertEquals(false,tv.isResolvedTextDirection());
    }
  }
);
}
