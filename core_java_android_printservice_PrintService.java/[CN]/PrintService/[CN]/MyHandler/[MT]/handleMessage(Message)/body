{
  final int action=message.what;
switch (action) {
case MESSAGE_START_PRINTER_DISCOVERY:
{
synchronized (mLock) {
        mDiscoveryObserver=(IPrinterDiscoveryObserver)message.obj;
      }
      onStartPrinterDiscovery();
    }
  break;
case MESSAGE_STOP_PRINTER_DISCOVERY:
{
synchronized (mLock) {
    mDiscoveryObserver=null;
  }
  onStopPrinterDiscovery();
}
break;
case MESSAGE_CANCEL_PRINTJOB:
{
PrintJobInfo printJobInfo=(PrintJobInfo)message.obj;
onRequestCancelPrintJob(new PrintJob(printJobInfo,mClient));
}
break;
case MESSAGE_ON_PRINTJOB_QUEUED:
{
PrintJobInfo printJobInfo=(PrintJobInfo)message.obj;
onPrintJobQueued(new PrintJob(printJobInfo,mClient));
}
break;
case MESSAGE_SET_CLEINT:
{
IPrintServiceClient client=(IPrintServiceClient)message.obj;
synchronized (mLock) {
mClient=client;
if (client == null) {
mDiscoveryObserver=null;
}
}
if (client != null) {
onConnected();
}
 else {
onDisconnected();
}
}
break;
default :
{
throw new IllegalArgumentException("Unknown message: " + action);
}
}
}
