{
  if (!TRACE_MOTION_EVENTS) {
    return;
  }
  if (sMotionEventRoot != null) {
    throw new IllegalStateException("You must call stopMotionEventTracing() before running" + " a new trace!");
  }
  File hierarchyDump=new File(Environment.getExternalStorageDirectory(),"motion-events/");
  hierarchyDump.mkdirs();
  hierarchyDump=new File(hierarchyDump,prefix + ".traces");
  sMotionEventTracePrefix=prefix;
  try {
    sMotionEventTraces=new BufferedWriter(new FileWriter(hierarchyDump),32 * 1024);
  }
 catch (  IOException e) {
    Log.e("View","Could not dump view hierarchy");
    return;
  }
  sMotionEventRoot=(ViewAncestor)view.getRootView().getParent();
}
