{
  final Field[] fields=getExportedPropertyFields(klass);
  int count=fields.length;
  for (int i=0; i < count; i++) {
    final Field field=fields[i];
    try {
      Object fieldValue=null;
      final Class<?> type=field.getType();
      if (type == int.class) {
        final ExportedProperty property=sAnnotations.get(field);
        if (property.resolveId() && view instanceof View) {
          final int id=field.getInt(view);
          fieldValue=resolveId(view,id);
        }
 else {
          final IntToString[] mapping=property.mapping();
          if (mapping.length > 0) {
            final int intValue=field.getInt(view);
            int mappingCount=mapping.length;
            for (int j=0; j < mappingCount; j++) {
              final IntToString mapped=mapping[j];
              if (mapped.from() == intValue) {
                fieldValue=mapped.to();
                break;
              }
            }
            if (fieldValue == null) {
              fieldValue=intValue;
            }
          }
        }
      }
 else       if (type == int[].class) {
        final ExportedProperty property=sAnnotations.get(field);
        final int[] array=(int[])field.get(view);
        final String valuePrefix=prefix + field.getName() + '_';
        final String suffix="";
        exportUnrolledArray(view,out,property,array,valuePrefix,suffix);
        return;
      }
 else       if (!type.isPrimitive()) {
        final ExportedProperty property=sAnnotations.get(field);
        if (property.deepExport()) {
          dumpViewProperties(field.get(view),out,prefix + property.prefix());
          continue;
        }
      }
      if (fieldValue == null) {
        fieldValue=field.get(view);
      }
      writeEntry(out,prefix,field.getName(),"",fieldValue);
    }
 catch (    IllegalAccessException e) {
    }
  }
}
