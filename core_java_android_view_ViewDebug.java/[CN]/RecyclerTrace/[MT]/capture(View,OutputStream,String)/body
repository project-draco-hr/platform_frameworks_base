{
  final View captureView=findView(root,parameter);
  Bitmap b=performViewCapture(captureView,false);
  if (b != null) {
    BufferedOutputStream out=null;
    try {
      out=new BufferedOutputStream(clientStream,32 * 1024);
      b.compress(Bitmap.CompressFormat.PNG,100,out);
      out.flush();
    }
  finally {
      if (out != null) {
        out.close();
      }
      b.recycle();
    }
  }
 else {
    Log.w("View","Failed to create capture bitmap!");
    clientStream.close();
  }
}
