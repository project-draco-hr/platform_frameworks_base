{
  return new View.OnTouchListener(){
    public boolean onTouch(    View v,    MotionEvent ev){
      final int action=ev.getAction();
      if (DEBUG)       Slog.d(TAG,"ShadowController: v=" + v + ", ev="+ ev);
      if (mTouchTarget == null) {
        if (v == mBackShadow) {
          mTouchTarget=mBackButton;
        }
 else         if (v == mHomeShadow) {
          mTouchTarget=mHomeButton;
        }
 else         if (v == mMenuShadow) {
          mTouchTarget=mMenuButton;
        }
 else         if (v == mRecentShadow) {
          mTouchTarget=mRecentButton;
        }
 else         if (v == mNotificationShadow) {
          mTouchTarget=mNotificationArea;
        }
      }
      if (mTouchTarget != null && mTouchTarget.getVisibility() != View.GONE) {
        boolean last=false;
switch (action) {
case MotionEvent.ACTION_CANCEL:
case MotionEvent.ACTION_UP:
          mHandler.removeMessages(MSG_SHOW_SHADOWS_NO_COLLAPSE);
        if (mShowShadows) {
          mHandler.sendEmptyMessageDelayed(MSG_SHOW_SHADOWS_NO_COLLAPSE,v == mNotificationShadow ? 5000 : 500);
        }
      last=true;
    break;
case MotionEvent.ACTION_DOWN:
  mHandler.removeMessages(MSG_SHOW_SHADOWS_NO_COLLAPSE);
setShadowForButton(mTouchTarget,false);
break;
}
mTouchTarget.dispatchTouchEvent(ev);
if (last) mTouchTarget=null;
return true;
}
return false;
}
}
;
}
