{
  return new View.OnTouchListener(){
    public boolean onTouch(    View v,    MotionEvent ev){
      final int action=ev.getAction();
      if (DEBUG)       Slog.d(TAG,"ShadowController: v=" + v + ", ev="+ ev);
      if (mTouchTarget == null) {
        mTouchTarget=mElementsForShadows.get(v);
      }
      if (mTouchTarget != null && mTouchTarget.getVisibility() != View.GONE) {
        boolean last=false;
switch (action) {
case MotionEvent.ACTION_CANCEL:
case MotionEvent.ACTION_UP:
          mHandler.removeMessages(MSG_RESTORE_SHADOWS);
        if (mShowShadows) {
          mHandler.sendEmptyMessageDelayed(MSG_RESTORE_SHADOWS,v == mNotificationShadow ? 5000 : 500);
        }
      last=true;
    break;
case MotionEvent.ACTION_DOWN:
  mHandler.removeMessages(MSG_RESTORE_SHADOWS);
setElementShadow(mTouchTarget,false);
break;
}
mTouchTarget.dispatchTouchEvent(ev);
if (last) mTouchTarget=null;
return true;
}
return false;
}
}
;
}
