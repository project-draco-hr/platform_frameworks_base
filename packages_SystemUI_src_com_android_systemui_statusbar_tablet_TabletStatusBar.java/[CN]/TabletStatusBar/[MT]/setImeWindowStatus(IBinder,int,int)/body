{
  mInputMethodSwitchButton.setImeWindowStatus(token,(vis & InputMethodService.IME_ACTIVE) != 0);
  updateNotificationIcons();
  mInputMethodsPanel.setImeToken(token);
  int res;
switch (backDisposition) {
case InputMethodService.BACK_DISPOSITION_WILL_NOT_DISMISS:
    res=R.drawable.ic_sysbar_back;
  break;
case InputMethodService.BACK_DISPOSITION_WILL_DISMISS:
res=R.drawable.ic_sysbar_back_ime;
break;
case InputMethodService.BACK_DISPOSITION_DEFAULT:
default :
if ((vis & InputMethodService.IME_VISIBLE) != 0) {
res=R.drawable.ic_sysbar_back_ime;
}
 else {
res=R.drawable.ic_sysbar_back;
}
break;
}
mBackButton.setImageResource(res);
if (FAKE_SPACE_BAR) {
mFakeSpaceBar.setVisibility(((vis & InputMethodService.IME_VISIBLE) != 0) ? View.VISIBLE : View.GONE);
}
}
