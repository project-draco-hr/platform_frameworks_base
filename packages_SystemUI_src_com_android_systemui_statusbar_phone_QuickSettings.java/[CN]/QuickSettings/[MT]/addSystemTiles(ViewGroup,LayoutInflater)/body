{
  QuickSettingsTileView wifiTile=(QuickSettingsTileView)inflater.inflate(R.layout.quick_settings_tile,parent,false);
  wifiTile.setContent(R.layout.quick_settings_tile_wifi,inflater);
  wifiTile.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      Intent intent=new Intent(android.provider.Settings.ACTION_WIFI_SETTINGS);
      intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
      mContext.startActivity(intent);
      mBar.collapseAllPanels(true);
    }
  }
);
  mModel.addWifiTile(wifiTile,new QuickSettingsModel.RefreshCallback(){
    @Override public void refreshView(    QuickSettingsTileView view,    State state){
      TextView tv=(TextView)view.findViewById(R.id.wifi_textview);
      tv.setCompoundDrawablesRelativeWithIntrinsicBounds(0,state.iconId,0,0);
      tv.setText(state.label);
    }
  }
);
  parent.addView(wifiTile);
  QuickSettingsTileView rssiTile=(QuickSettingsTileView)inflater.inflate(R.layout.quick_settings_tile,parent,false);
  rssiTile.setContent(R.layout.quick_settings_tile_rssi,inflater);
  rssiTile.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      Intent intent=new Intent(android.provider.Settings.ACTION_WIRELESS_SETTINGS);
      intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
      mContext.startActivity(intent);
      mBar.collapseAllPanels(true);
    }
  }
);
  mModel.addRSSITile(rssiTile,new QuickSettingsModel.RefreshCallback(){
    @Override public void refreshView(    QuickSettingsTileView view,    State state){
      TextView tv=(TextView)view.findViewById(R.id.rssi_textview);
      tv.setCompoundDrawablesRelativeWithIntrinsicBounds(0,state.iconId,0,0);
      tv.setText(state.label);
    }
  }
);
  parent.addView(rssiTile);
  QuickSettingsTileView batteryTile=(QuickSettingsTileView)inflater.inflate(R.layout.quick_settings_tile,parent,false);
  batteryTile.setContent(R.layout.quick_settings_tile_battery,inflater);
  batteryTile.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      Intent intent=new Intent(Intent.ACTION_POWER_USAGE_SUMMARY);
      intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
      mContext.startActivity(intent);
      mBar.collapseAllPanels(true);
    }
  }
);
  mModel.addBatteryTile(batteryTile,new QuickSettingsModel.RefreshCallback(){
    @Override public void refreshView(    QuickSettingsTileView view,    State state){
      QuickSettingsModel.BatteryState batteryState=(QuickSettingsModel.BatteryState)state;
      TextView tv=(TextView)view.findViewById(R.id.battery_textview);
      ClipDrawable drawable=(ClipDrawable)tv.getCompoundDrawables()[1];
      drawable.setLevel((int)(10000 * (batteryState.batteryLevel / 100.0f)));
      tv.setText(batteryState.batteryLevel + "%");
    }
  }
);
  parent.addView(batteryTile);
  QuickSettingsTileView airplaneTile=(QuickSettingsTileView)inflater.inflate(R.layout.quick_settings_tile,parent,false);
  airplaneTile.setContent(R.layout.quick_settings_tile_airplane,inflater);
  mModel.addAirplaneModeTile(airplaneTile,new QuickSettingsModel.RefreshCallback(){
    @Override public void refreshView(    QuickSettingsTileView view,    State state){
      TextView tv=(TextView)view.findViewById(R.id.airplane_mode_textview);
      tv.setCompoundDrawablesRelativeWithIntrinsicBounds(0,state.iconId,0,0);
    }
  }
);
  parent.addView(airplaneTile);
  QuickSettingsTileView bluetoothTile=(QuickSettingsTileView)inflater.inflate(R.layout.quick_settings_tile,parent,false);
  bluetoothTile.setContent(R.layout.quick_settings_tile_bluetooth,inflater);
  mModel.addBluetoothTile(bluetoothTile,new QuickSettingsModel.RefreshCallback(){
    @Override public void refreshView(    QuickSettingsTileView view,    State state){
      TextView tv=(TextView)view.findViewById(R.id.bluetooth_textview);
      tv.setCompoundDrawablesRelativeWithIntrinsicBounds(0,state.iconId,0,0);
    }
  }
);
  parent.addView(bluetoothTile);
  QuickSettingsTileView brightnessTile=(QuickSettingsTileView)inflater.inflate(R.layout.quick_settings_tile,parent,false);
  brightnessTile.setContent(R.layout.quick_settings_tile_brightness,inflater);
  brightnessTile.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      Intent intent=new Intent(android.provider.Settings.ACTION_DISPLAY_SETTINGS);
      intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
      mContext.startActivity(intent);
      mBar.collapseAllPanels(true);
    }
  }
);
  parent.addView(brightnessTile);
}
