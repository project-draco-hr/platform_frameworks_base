{
  final Dialog d=new Dialog(mContext);
  d.requestWindowFeature(Window.FEATURE_NO_TITLE);
  d.setCancelable(true);
  d.setCanceledOnTouchOutside(true);
  final ZenModeView v=new ZenModeView(mContext){
    @Override protected void onConfigurationChanged(    Configuration newConfig){
      super.onConfigurationChanged(newConfig);
      WindowManager.LayoutParams lp=d.getWindow().getAttributes();
      lp.width=mContext.getResources().getDimensionPixelSize(R.dimen.zen_mode_dialog_width);
      d.getWindow().setAttributes(lp);
    }
  }
;
  v.setAdapter(new ZenModeViewAdapter(mContext){
    @Override public void configure(){
      if (mStatusBarService != null) {
        mStatusBarService.startSettingsActivity(Settings.ACTION_ZEN_MODE_SETTINGS);
      }
      d.dismiss();
    }
    @Override public void close(){
      d.dismiss();
    }
  }
);
  d.setContentView(v);
  d.create();
  d.getWindow().setType(WindowManager.LayoutParams.TYPE_VOLUME_OVERLAY);
  WindowManager.LayoutParams lp=d.getWindow().getAttributes();
  lp.horizontalMargin=0;
  lp.width=mContext.getResources().getDimensionPixelSize(R.dimen.zen_mode_dialog_width);
  d.getWindow().setAttributes(lp);
  d.show();
}
