{
  WifiDisplay item=getItem(position);
  View view=convertView;
  if (view == null) {
    view=mInflater.inflate(android.R.layout.simple_list_item_2,parent,false);
  }
  TextView headline=(TextView)view.findViewById(android.R.id.text1);
  TextView subText=(TextView)view.findViewById(android.R.id.text2);
  headline.setText(item.getDeviceName());
  int state=WifiDisplayStatus.DISPLAY_STATE_NOT_CONNECTED;
  if (item.equals(mWifiDisplayStatus.getActiveDisplay())) {
    state=mWifiDisplayStatus.getActiveDisplayState();
  }
switch (state) {
case WifiDisplayStatus.DISPLAY_STATE_CONNECTING:
    subText.setText(R.string.wifi_display_state_connecting);
  break;
case WifiDisplayStatus.DISPLAY_STATE_CONNECTED:
subText.setText(R.string.wifi_display_state_connected);
break;
case WifiDisplayStatus.DISPLAY_STATE_NOT_CONNECTED:
default :
subText.setText(R.string.wifi_display_state_available);
break;
}
return view;
}
