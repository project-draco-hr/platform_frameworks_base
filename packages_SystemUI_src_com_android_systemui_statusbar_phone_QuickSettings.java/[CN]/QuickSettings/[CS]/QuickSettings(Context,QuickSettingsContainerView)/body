{
  mDisplayManager=(DisplayManager)context.getSystemService(Context.DISPLAY_SERVICE);
  mContext=context;
  mContainerView=container;
  mModel=new QuickSettingsModel(context);
  mWifiDisplayStatus=new WifiDisplayStatus();
  mHandler=new Handler();
  Resources r=mContext.getResources();
  mBatteryLevels=(LevelListDrawable)r.getDrawable(R.drawable.qs_sys_battery);
  mChargingBatteryLevels=(LevelListDrawable)r.getDrawable(R.drawable.qs_sys_battery_charging);
  mBrightnessDialogLongTimeout=r.getInteger(R.integer.quick_settings_brightness_dialog_long_timeout);
  mBrightnessDialogShortTimeout=r.getInteger(R.integer.quick_settings_brightness_dialog_short_timeout);
  IntentFilter filter=new IntentFilter();
  filter.addAction(DisplayManager.ACTION_WIFI_DISPLAY_STATUS_CHANGED);
  mContext.registerReceiver(mReceiver,filter);
}
