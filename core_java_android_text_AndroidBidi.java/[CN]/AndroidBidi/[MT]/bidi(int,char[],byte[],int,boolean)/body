{
  if (chs == null || chInfo == null) {
    throw new NullPointerException();
  }
  if (n < 0 || chs.length < n || chInfo.length < n) {
    throw new IndexOutOfBoundsException();
  }
switch (dir) {
case Layout.DIR_REQUEST_LTR:
    dir=0;
  break;
case Layout.DIR_REQUEST_RTL:
dir=1;
break;
case Layout.DIR_REQUEST_DEFAULT_LTR:
dir=-2;
break;
case Layout.DIR_REQUEST_DEFAULT_RTL:
dir=-1;
break;
default :
dir=0;
break;
}
int result=runBidi(dir,chs,chInfo,n,haveInfo);
result=(result & 0x1) == 0 ? Layout.DIR_LEFT_TO_RIGHT : Layout.DIR_RIGHT_TO_LEFT;
return result;
}
