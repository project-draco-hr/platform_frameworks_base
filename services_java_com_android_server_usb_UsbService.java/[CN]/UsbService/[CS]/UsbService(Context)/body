{
  mContext=context;
  mDeviceManager=new UsbDeviceSettingsManager(context);
  PackageManager pm=mContext.getPackageManager();
  mHasUsbHost=pm.hasSystemFeature(PackageManager.FEATURE_USB_HOST);
  mHasUsbAccessory=pm.hasSystemFeature(PackageManager.FEATURE_USB_ACCESSORY);
  mHostBlacklist=context.getResources().getStringArray(com.android.internal.R.array.config_usbHostBlacklist);
  init();
  if (mConfiguration >= 0) {
    mUEventObserver.startObserving(USB_CONNECTED_MATCH);
    mUEventObserver.startObserving(USB_CONFIGURATION_MATCH);
    mUEventObserver.startObserving(USB_FUNCTIONS_MATCH);
  }
}
