{
synchronized (mLock) {
    if (mCurrentAccessory == null) {
      throw new IllegalArgumentException("no accessory attached");
    }
    if (!mCurrentAccessory.equals(accessory)) {
      Log.e(TAG,accessory.toString() + " does not match current accessory " + mCurrentAccessory);
      throw new IllegalArgumentException("accessory not attached");
    }
    mDeviceManager.checkPermission(mCurrentAccessory);
    return nativeOpenAccessory();
  }
}
