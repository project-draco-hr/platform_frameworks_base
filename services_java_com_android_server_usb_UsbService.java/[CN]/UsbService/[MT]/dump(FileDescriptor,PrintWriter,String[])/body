{
  if (mContext.checkCallingOrSelfPermission(android.Manifest.permission.DUMP) != PackageManager.PERMISSION_GRANTED) {
    pw.println("Permission Denial: can't dump UsbManager from from pid=" + Binder.getCallingPid() + ", uid="+ Binder.getCallingUid());
    return;
  }
synchronized (mLock) {
    pw.println("USB Manager State:");
    pw.println("  USB Device State:");
    pw.print("    Enabled Functions: ");
    for (int i=0; i < mEnabledFunctions.size(); i++) {
      pw.print(mEnabledFunctions.get(i) + " ");
    }
    pw.println("");
    pw.print("    Disabled Functions: ");
    for (int i=0; i < mDisabledFunctions.size(); i++) {
      pw.print(mDisabledFunctions.get(i) + " ");
    }
    pw.println("");
    pw.println("    mConnected: " + mConnected + ", mConfiguration: "+ mConfiguration);
    pw.println("  mCurrentAccessory: " + mCurrentAccessory);
    mDeviceManager.dump(fd,pw);
  }
}
