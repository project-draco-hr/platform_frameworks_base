{
synchronized (mLock) {
    if (mHasUsbHost) {
      initHostSupport();
    }
    update(false);
    if (mCurrentAccessory != null) {
      Log.d(TAG,"accessoryAttached at systemReady");
      mContext.registerReceiver(mBootCompletedReceiver,new IntentFilter(Intent.ACTION_BOOT_COMPLETED));
    }
    mSystemReady=true;
  }
}
