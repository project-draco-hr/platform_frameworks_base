{
  if (lastRi != curRi) {
    ActivityInfo ai=ris.get(curRi).activityInfo;
    ComponentName comp=new ComponentName(ai.packageName,ai.name);
    intent.setComponent(comp);
    doneReceivers.add(comp);
    lastRi=curRi;
    CharSequence label=ai.loadLabel(mContext.getPackageManager());
    showBootMessage(mContext.getString(R.string.android_preparing_apk,label),false);
  }
  Slog.i(TAG,"Pre-boot of " + intent.getComponent().toShortString() + " for user "+ users[curUser]);
  EventLogTags.writeAmPreBoot(users[curUser],intent.getComponent().getPackageName());
  broadcastIntentLocked(null,null,intent,null,this,0,null,null,null,AppOpsManager.OP_NONE,true,false,MY_PID,Process.SYSTEM_UID,users[curUser]);
}
