{
  final long origId=Binder.clearCallingIdentity();
  try {
synchronized (this) {
      final ActivityStack stack=ActivityRecord.getStackLocked(token);
      final boolean playing=stack == null ? false : stack.isMediaPlaying();
      if (ActivityStackSupervisor.DEBUG_MEDIA_VISIBILITY)       Slog.d(TAG,"isBackgroundMediaPlaying: stack=" + stack + " playing="+ playing);
      return playing;
    }
  }
  finally {
    Binder.restoreCallingIdentity(origId);
  }
}
