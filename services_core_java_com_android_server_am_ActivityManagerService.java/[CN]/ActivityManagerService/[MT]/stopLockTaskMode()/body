{
  final TaskRecord lockTask=mStackSupervisor.getLockedTaskLocked();
  if (lockTask == null) {
    return;
  }
  if (getLockTaskModeState() == ActivityManager.LOCK_TASK_MODE_LOCKED && Binder.getCallingUid() != lockTask.mLockTaskUid) {
    throw new SecurityException("Invalid uid, expected " + lockTask.mLockTaskUid);
  }
  long ident=Binder.clearCallingIdentity();
  try {
    Log.d(TAG,"stopLockTaskMode");
synchronized (this) {
      mStackSupervisor.setLockTaskModeLocked(null,ActivityManager.LOCK_TASK_MODE_NONE,"stopLockTask",true);
    }
  }
  finally {
    Binder.restoreCallingIdentity(ident);
  }
}
