{
  final int callingUid=Binder.getCallingUid();
  if (callingUid != Process.SYSTEM_UID) {
    try {
      String pkg=mStackSupervisor.mLockTaskModeTask.intent.getComponent().getPackageName();
      int uid=mContext.getPackageManager().getPackageUid(pkg,Binder.getCallingUserHandle().getIdentifier());
      if (uid != callingUid) {
        throw new SecurityException("Invalid uid, expected " + uid);
      }
    }
 catch (    NameNotFoundException e) {
      Log.d(TAG,"stopLockTaskMode " + e);
      return;
    }
  }
  long ident=Binder.clearCallingIdentity();
  try {
    Log.d(TAG,"stopLockTaskMode");
synchronized (this) {
      mStackSupervisor.setLockTaskModeLocked(null,false);
    }
  }
  finally {
    Binder.restoreCallingIdentity(ident);
  }
}
