{
  pw.println("ACTIVITY MANAGER ACTIVITIES (dumpsys activity activities)");
  boolean printedAnything=mStackSupervisor.dumpActivitiesLocked(fd,pw,dumpAll,dumpClient,dumpPackage);
  boolean needSep=printedAnything;
  boolean printed=ActivityStackSupervisor.printThisActivity(pw,mFocusedActivity,dumpPackage,needSep,"  mFocusedActivity: ");
  if (printed) {
    printedAnything=true;
    needSep=false;
  }
  if (dumpPackage == null) {
    if (needSep) {
      pw.println();
    }
    needSep=true;
    printedAnything=true;
    mStackSupervisor.dump(pw,"  ");
  }
  if (mRecentTasks.size() > 0) {
    boolean printedHeader=false;
    final int N=mRecentTasks.size();
    for (int i=0; i < N; i++) {
      TaskRecord tr=mRecentTasks.get(i);
      if (dumpPackage != null) {
        if (tr.realActivity == null || !dumpPackage.equals(tr.realActivity)) {
          continue;
        }
      }
      if (!printedHeader) {
        if (needSep) {
          pw.println();
        }
        pw.println("  Recent tasks:");
        printedHeader=true;
        printedAnything=true;
      }
      pw.print("  * Recent #");
      pw.print(i);
      pw.print(": ");
      pw.println(tr);
      if (dumpAll) {
        mRecentTasks.get(i).dump(pw,"    ");
      }
    }
  }
  if (!printedAnything) {
    pw.println("  (nothing)");
  }
}
