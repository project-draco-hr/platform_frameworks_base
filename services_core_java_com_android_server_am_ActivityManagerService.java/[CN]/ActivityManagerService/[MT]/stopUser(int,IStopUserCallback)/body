{
  if (checkCallingPermission(INTERACT_ACROSS_USERS_FULL) != PackageManager.PERMISSION_GRANTED) {
    String msg="Permission Denial: switchUser() from pid=" + Binder.getCallingPid() + ", uid="+ Binder.getCallingUid()+ " requires "+ INTERACT_ACROSS_USERS_FULL;
    Slog.w(TAG,msg);
    throw new SecurityException(msg);
  }
  if (userId < 0 || userId == UserHandle.USER_SYSTEM) {
    throw new IllegalArgumentException("Can't stop system user " + userId);
  }
  enforceShellRestriction(UserManager.DISALLOW_DEBUGGING_FEATURES,userId);
synchronized (this) {
    return stopUserLocked(userId,callback);
  }
}
