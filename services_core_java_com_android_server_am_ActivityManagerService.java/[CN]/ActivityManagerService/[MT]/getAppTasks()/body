{
  int callingUid=Binder.getCallingUid();
  long ident=Binder.clearCallingIdentity();
synchronized (this) {
    ArrayList<IAppTask> list=new ArrayList<IAppTask>();
    try {
      if (localLOGV)       Slog.v(TAG,"getAppTasks");
      final int N=mRecentTasks.size();
      for (int i=0; i < N; i++) {
        TaskRecord tr=mRecentTasks.get(i);
        if (tr.creatorUid == callingUid) {
          ActivityManager.RecentTaskInfo taskInfo=createRecentTaskInfoFromTaskRecord(tr);
          AppTaskImpl taskImpl=new AppTaskImpl(taskInfo.persistentId,callingUid);
          list.add(taskImpl);
        }
      }
    }
  finally {
      Binder.restoreCallingIdentity(ident);
    }
    return list;
  }
}
