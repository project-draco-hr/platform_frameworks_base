{
synchronized (this) {
    int callingPid=Binder.getCallingPid();
    if (callingPid == Process.myPid()) {
      Slog.w(TAG,"Can't addPackageDependency on system process");
      return;
    }
    ProcessRecord proc;
synchronized (mPidsSelfLocked) {
      proc=mPidsSelfLocked.get(Binder.getCallingPid());
    }
    if (proc != null) {
      if (proc.pkgDeps == null) {
        proc.pkgDeps=new ArraySet<String>(1);
      }
      proc.pkgDeps.add(packageName);
    }
  }
}
