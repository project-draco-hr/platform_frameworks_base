{
  if (sig != Process.SIGNAL_USR1) {
    throw new SecurityException("Only SIGNAL_USR1 is allowed");
  }
synchronized (this) {
    if (checkCallingPermission(android.Manifest.permission.SIGNAL_PERSISTENT_PROCESSES) != PackageManager.PERMISSION_GRANTED) {
      throw new SecurityException("Requires permission " + android.Manifest.permission.SIGNAL_PERSISTENT_PROCESSES);
    }
    for (int i=mLruProcesses.size() - 1; i >= 0; i--) {
      ProcessRecord r=mLruProcesses.get(i);
      if (r.thread != null && r.persistent) {
        Process.sendSignal(r.pid,sig);
      }
    }
  }
}
