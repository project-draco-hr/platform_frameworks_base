{
  if (checkCallingPermission(START_TASKS_FROM_RECENTS) != PackageManager.PERMISSION_GRANTED) {
    String msg="Permission Denial: startActivityFromRecents called without " + START_TASKS_FROM_RECENTS;
    Slog.w(TAG,msg);
    throw new SecurityException(msg);
  }
  final TaskRecord task=mStackSupervisor.anyTaskForIdLocked(taskId);
  if (task == null) {
    throw new ActivityNotFoundException("Task " + taskId + " not found.");
  }
  return startActivityInPackage(task.mCallingUid,task.mCallingPackage,task.intent,null,null,null,0,0,options,task.userId,null);
}
