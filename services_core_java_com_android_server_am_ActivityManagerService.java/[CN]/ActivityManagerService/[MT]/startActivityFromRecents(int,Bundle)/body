{
  if (checkCallingPermission(START_TASKS_FROM_RECENTS) != PackageManager.PERMISSION_GRANTED) {
    String msg="Permission Denial: startActivityFromRecents called without " + START_TASKS_FROM_RECENTS;
    Slog.w(TAG,msg);
    throw new SecurityException(msg);
  }
  final int callingUid;
  final String callingPackage;
  final Intent intent;
  final int userId;
synchronized (this) {
    final TaskRecord task=recentTaskForIdLocked(taskId);
    if (task == null) {
      throw new ActivityNotFoundException("Task " + taskId + " not found.");
    }
    callingUid=task.mCallingUid;
    callingPackage=task.mCallingPackage;
    intent=task.intent;
    userId=task.userId;
  }
  return startActivityInPackage(callingUid,callingPackage,intent,null,null,null,0,0,options,userId,null);
}
