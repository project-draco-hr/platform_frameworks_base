{
  int uid=Binder.getCallingUid();
  if (uid == Process.ROOT_UID) {
    return;
  }
  if (Settings.checkAndNoteWriteSettingsOperation(mContext,uid,Settings.getPackageNameForUid(mContext,uid),false)) {
    return;
  }
  String msg="Permission Denial: " + func + " from pid="+ Binder.getCallingPid()+ ", uid="+ uid+ " requires "+ android.Manifest.permission.WRITE_SETTINGS;
  Slog.w(TAG,msg);
  throw new SecurityException(msg);
}
