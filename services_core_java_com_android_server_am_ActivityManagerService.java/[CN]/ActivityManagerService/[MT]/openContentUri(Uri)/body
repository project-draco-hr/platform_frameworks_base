{
  enforceNotIsolatedCaller("openContentUri");
  final int userId=UserHandle.getCallingUserId();
  String name=uri.getAuthority();
  ContentProviderHolder cph=getContentProviderExternalUnchecked(name,null,userId);
  ParcelFileDescriptor pfd=null;
  if (cph != null) {
    Binder token=new Binder();
    sCallerIdentity.set(new Identity(token,Binder.getCallingPid(),Binder.getCallingUid()));
    try {
      pfd=cph.provider.openFile(null,uri,"r",null,token);
    }
 catch (    FileNotFoundException e) {
    }
 finally {
      sCallerIdentity.remove();
      removeContentProviderExternalUnchecked(name,null,userId);
    }
  }
 else {
    Slog.d(TAG,"Failed to get provider for authority '" + name + "'");
  }
  return pfd;
}
