{
  enforceNotIsolatedCaller("getProcessPss");
  long[] pss=new long[pids.length];
  for (int i=pids.length - 1; i >= 0; i--) {
    ProcessRecord proc;
    int oomAdj;
synchronized (this) {
synchronized (mPidsSelfLocked) {
        proc=mPidsSelfLocked.get(pids[i]);
        oomAdj=proc != null ? proc.setAdj : 0;
      }
    }
    long[] tmpUss=new long[1];
    pss[i]=Debug.getPss(pids[i],tmpUss,null);
    if (proc != null) {
synchronized (this) {
        if (proc.thread != null && proc.setAdj == oomAdj) {
          proc.baseProcessTracker.addPss(pss[i],tmpUss[0],false,proc.pkgList);
        }
      }
    }
  }
  return pss;
}
