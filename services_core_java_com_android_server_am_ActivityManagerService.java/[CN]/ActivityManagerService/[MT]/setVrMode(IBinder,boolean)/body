{
  if (!mContext.getPackageManager().hasSystemFeature(PackageManager.FEATURE_VR_MODE)) {
    throw new UnsupportedOperationException("VR mode not supported on this device!");
  }
synchronized (this) {
    final ActivityRecord r=ActivityRecord.isInStackLocked(token);
    if (r == null) {
      throw new IllegalArgumentException();
    }
    r.isVrActivity=enabled;
    if (r == mFocusedActivity) {
      applyUpdateVrModeLocked(r);
    }
  }
}
