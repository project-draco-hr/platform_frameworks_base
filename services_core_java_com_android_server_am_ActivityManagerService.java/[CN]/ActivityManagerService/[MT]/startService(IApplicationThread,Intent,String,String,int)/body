{
  enforceNotIsolatedCaller("startService");
  if (service != null && service.hasFileDescriptors() == true) {
    throw new IllegalArgumentException("File descriptors passed in Intent");
  }
  if (callingPackage == null) {
    throw new IllegalArgumentException("callingPackage cannot be null");
  }
  if (DEBUG_SERVICE)   Slog.v(TAG_SERVICE,"startService: " + service + " type="+ resolvedType);
synchronized (this) {
    final int callingPid=Binder.getCallingPid();
    final int callingUid=Binder.getCallingUid();
    final long origId=Binder.clearCallingIdentity();
    ComponentName res=mServices.startServiceLocked(caller,service,resolvedType,callingPid,callingUid,callingPackage,userId);
    Binder.restoreCallingIdentity(origId);
    return res;
  }
}
