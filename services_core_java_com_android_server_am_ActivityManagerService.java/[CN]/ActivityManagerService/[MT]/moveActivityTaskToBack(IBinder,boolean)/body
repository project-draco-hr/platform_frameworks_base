{
  enforceNotIsolatedCaller("moveActivityTaskToBack");
synchronized (this) {
    final long origId=Binder.clearCallingIdentity();
    try {
      int taskId=ActivityRecord.getTaskForActivityLocked(token,!nonRoot);
      if (taskId >= 0) {
        if ((mStackSupervisor.mLockTaskModeTask != null) && (mStackSupervisor.mLockTaskModeTask.taskId == taskId)) {
          mStackSupervisor.showLockTaskToast();
          return false;
        }
        return ActivityRecord.getStackLocked(token).moveTaskToBackLocked(taskId,null);
      }
    }
  finally {
      Binder.restoreCallingIdentity(origId);
    }
  }
  return false;
}
