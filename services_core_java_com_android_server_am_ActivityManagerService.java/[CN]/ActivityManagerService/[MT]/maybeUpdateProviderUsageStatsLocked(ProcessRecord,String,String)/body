{
  if (app == null)   return;
  if (app.curProcState <= ActivityManager.PROCESS_STATE_IMPORTANT_FOREGROUND) {
    UserState userState=mUserController.getStartedUserState(app.userId);
    if (userState == null)     return;
    final long now=SystemClock.elapsedRealtime();
    Long lastReported=userState.mProviderLastReportedFg.get(authority);
    if (lastReported == null || lastReported < now - 60 * 1000L) {
      mUsageStatsService.reportContentProviderUsage(authority,providerPkgName,app.userId);
      userState.mProviderLastReportedFg.put(authority,now);
    }
  }
}
