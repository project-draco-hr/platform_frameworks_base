{
synchronized (this) {
    ActivityStack stack=ActivityRecord.getStackLocked(token);
    if (stack == null) {
      throw new IllegalArgumentException("getActivityStackId: No stack for token=" + token);
    }
    return stack.mStackId;
  }
}
