{
  ArrayList<ComponentName> lastDoneReceivers=new ArrayList<ComponentName>();
  File file=getCalledPreBootReceiversFile();
  FileInputStream fis=null;
  try {
    fis=new FileInputStream(file);
    DataInputStream dis=new DataInputStream(new BufferedInputStream(fis,2048));
    int fvers=dis.readInt();
    if (fvers == LAST_DONE_VERSION) {
      String vers=dis.readUTF();
      String codename=dis.readUTF();
      String build=dis.readUTF();
      if (android.os.Build.VERSION.RELEASE.equals(vers) && android.os.Build.VERSION.CODENAME.equals(codename) && android.os.Build.VERSION.INCREMENTAL.equals(build)) {
        int num=dis.readInt();
        while (num > 0) {
          num--;
          String pkg=dis.readUTF();
          String cls=dis.readUTF();
          lastDoneReceivers.add(new ComponentName(pkg,cls));
        }
      }
    }
  }
 catch (  FileNotFoundException e) {
  }
catch (  IOException e) {
    Slog.w(TAG,"Failure reading last done pre-boot receivers",e);
  }
 finally {
    if (fis != null) {
      try {
        fis.close();
      }
 catch (      IOException e) {
      }
    }
  }
  return lastDoneReceivers;
}
