{
  Intent intent=new Intent(Intent.ACTION_PRE_BOOT_COMPLETED);
  List<ResolveInfo> ris=null;
  try {
    ris=AppGlobals.getPackageManager().queryIntentReceivers(intent,null,MATCH_SYSTEM_ONLY,UserHandle.USER_SYSTEM).getList();
  }
 catch (  RemoteException e) {
  }
  if (ris == null) {
    return false;
  }
  intent.addFlags(Intent.FLAG_RECEIVER_BOOT_UPGRADE | Intent.FLAG_DEBUG_TRIAGED_MISSING);
  ArrayList<ComponentName> lastDoneReceivers=readLastDonePreBootReceivers();
  for (int i=0; i < ris.size(); i++) {
    ActivityInfo ai=ris.get(i).activityInfo;
    ComponentName comp=new ComponentName(ai.packageName,ai.name);
    if (lastDoneReceivers.contains(comp)) {
      ris.remove(i);
      i--;
      doneReceivers.add(comp);
    }
  }
  if (ris.size() <= 0) {
    return false;
  }
  final int[] users=mUserController.getUsers();
  if (users.length <= 0) {
    return false;
  }
  PreBootContinuation cont=new PreBootContinuation(intent,onFinishCallback,doneReceivers,ris,users);
  cont.go();
  return true;
}
