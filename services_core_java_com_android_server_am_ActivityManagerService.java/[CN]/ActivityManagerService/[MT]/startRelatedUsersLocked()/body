{
  if (DEBUG_MU)   Slog.i(TAG_MU,"startRelatedUsersLocked");
  List<UserInfo> relatedUsers=getUserManagerLocked().getRelatedUsers(mCurrentUserId);
  List<UserInfo> toStart=new ArrayList<UserInfo>(relatedUsers.size());
  for (  UserInfo relatedUser : relatedUsers) {
    if ((relatedUser.flags & UserInfo.FLAG_INITIALIZED) == UserInfo.FLAG_INITIALIZED) {
      toStart.add(relatedUser);
    }
  }
  final int n=toStart.size();
  int i=0;
  for (; i < n && i < (MAX_RUNNING_USERS - 1); ++i) {
    startUserInBackground(toStart.get(i).id);
  }
  if (i < n) {
    Slog.w(TAG_MU,"More related users than MAX_RUNNING_USERS");
  }
}
