{
  final ContentResolver resolver=mContext.getContentResolver();
  final boolean freeformWindowManagement=mContext.getPackageManager().hasSystemFeature(FEATURE_FREEFORM_WINDOW_MANAGEMENT);
  final String debugApp=Settings.Global.getString(resolver,DEBUG_APP);
  final String fsScreenshots=Settings.Secure.getString(resolver,"overview_fullscreen_thumbnails");
  final boolean waitForDebugger=Settings.Global.getInt(resolver,WAIT_FOR_DEBUGGER,0) != 0;
  final boolean alwaysFinishActivities=Settings.Global.getInt(resolver,ALWAYS_FINISH_ACTIVITIES,0) != 0;
  final boolean takeFullscreenScreenshots=fsScreenshots != null && Integer.parseInt(fsScreenshots) != 0;
  final boolean forceRtl=Settings.Global.getInt(resolver,DEVELOPMENT_FORCE_RTL,0) != 0;
  final int defaultForceResizable=Build.IS_DEBUGGABLE ? 1 : 0;
  final boolean forceResizable=Settings.Global.getInt(resolver,DEVELOPMENT_FORCE_RESIZABLE_ACTIVITIES,defaultForceResizable) != 0;
  SystemProperties.set(DEVELOPMENT_FORCE_RTL,forceRtl ? "1" : "0");
  final Configuration configuration=new Configuration();
  Settings.System.getConfiguration(resolver,configuration);
  if (forceRtl) {
    configuration.setLayoutDirection(configuration.locale);
  }
synchronized (this) {
    mDebugApp=mOrigDebugApp=debugApp;
    mWaitForDebugger=mOrigWaitForDebugger=waitForDebugger;
    mAlwaysFinishActivities=alwaysFinishActivities;
    mForceResizableActivities=forceResizable;
    mSupportsFreeformWindowManagement=freeformWindowManagement || forceResizable;
    mTakeFullscreenScreenshots=takeFullscreenScreenshots;
    updateConfigurationLocked(configuration,null,true);
    if (DEBUG_CONFIGURATION)     Slog.v(TAG_CONFIGURATION,"Initial config: " + mConfiguration);
  }
}
