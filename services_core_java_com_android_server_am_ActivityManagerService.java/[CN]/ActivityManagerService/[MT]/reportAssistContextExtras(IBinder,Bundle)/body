{
  PendingAssistExtras pae=(PendingAssistExtras)token;
synchronized (pae) {
    pae.result=extras;
    pae.haveResult=true;
    pae.notifyAll();
    if (pae.intent == null) {
      return;
    }
  }
synchronized (this) {
    boolean exists=mPendingAssistExtras.remove(pae);
    mHandler.removeCallbacks(pae);
    if (!exists) {
      return;
    }
  }
  pae.intent.replaceExtras(extras);
  if (pae.hint != null) {
    pae.intent.putExtra(pae.hint,true);
  }
  pae.intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_CLEAR_TOP);
  closeSystemDialogs("assist");
  try {
    mContext.startActivityAsUser(pae.intent,new UserHandle(pae.userHandle));
  }
 catch (  ActivityNotFoundException e) {
    Slog.w(TAG,"No activity to handle assist action.",e);
  }
}
