{
  try {
    if (!AppGlobals.getPackageManager().isUidPrivileged(Binder.getCallingUid())) {
      throw new SecurityException("Only privileged app can call notifyLockedProfile");
    }
  }
 catch (  RemoteException ex) {
    throw new SecurityException("Fail to check is caller a privileged app",ex);
  }
synchronized (this) {
    if (mStackSupervisor.isUserLockedProfile(userId)) {
      final long ident=Binder.clearCallingIdentity();
      try {
        final int currentUserId=mUserController.getCurrentUserIdLocked();
        if (mUserController.isLockScreenDisabled(currentUserId)) {
          mActivityStarter.showConfirmDeviceCredential(userId);
        }
 else {
          startHomeActivityLocked(currentUserId,"notifyLockedProfile");
        }
      }
  finally {
        Binder.restoreCallingIdentity(ident);
      }
    }
  }
}
