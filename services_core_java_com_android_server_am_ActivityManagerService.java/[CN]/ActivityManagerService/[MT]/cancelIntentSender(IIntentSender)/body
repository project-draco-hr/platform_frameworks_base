{
  if (!(sender instanceof PendingIntentRecord)) {
    return;
  }
synchronized (this) {
    PendingIntentRecord rec=(PendingIntentRecord)sender;
    try {
      int uid=AppGlobals.getPackageManager().getPackageUid(rec.key.packageName,UserHandle.getCallingUserId());
      if (!UserHandle.isSameApp(uid,Binder.getCallingUid())) {
        String msg="Permission Denial: cancelIntentSender() from pid=" + Binder.getCallingPid() + ", uid="+ Binder.getCallingUid()+ " is not allowed to cancel packges "+ rec.key.packageName;
        Slog.w(TAG,msg);
        throw new SecurityException(msg);
      }
    }
 catch (    RemoteException e) {
      throw new SecurityException(e);
    }
    cancelIntentSenderLocked(rec,true);
  }
}
