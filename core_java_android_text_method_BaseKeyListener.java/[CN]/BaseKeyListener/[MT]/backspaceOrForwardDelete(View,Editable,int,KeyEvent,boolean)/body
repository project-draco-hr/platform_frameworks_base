{
  if (!KeyEvent.metaStateHasNoModifiers(event.getMetaState() & ~(KeyEvent.META_SHIFT_MASK | KeyEvent.META_ALT_MASK | KeyEvent.META_CTRL_MASK))) {
    return false;
  }
  if (deleteSelection(view,content)) {
    return true;
  }
  boolean isCtrlActive=((event.getMetaState() & KeyEvent.META_CTRL_ON) != 0);
  boolean isShiftActive=(getMetaState(content,META_SHIFT_ON,event) == 1);
  boolean isAltActive=(getMetaState(content,META_ALT_ON,event) == 1);
  if (isCtrlActive) {
    if (isAltActive || isShiftActive) {
      return false;
    }
    return deleteUntilWordBoundary(view,content,isForwardDelete);
  }
  if (isAltActive && deleteLine(view,content)) {
    return true;
  }
  final int start=Selection.getSelectionEnd(content);
  final int end;
  if (isForwardDelete) {
    final Paint paint;
    if (view instanceof TextView) {
      paint=((TextView)view).getPaint();
    }
 else {
synchronized (mLock) {
        if (sCachedPaint == null) {
          sCachedPaint=new Paint();
        }
        paint=sCachedPaint;
      }
    }
    end=getOffsetForForwardDeleteKey(content,start,paint);
  }
 else {
    end=getOffsetForBackspaceKey(content,start);
  }
  if (start != end) {
    content.delete(Math.min(start,end),Math.max(start,end));
    return true;
  }
  return false;
}
