{
  translation=rightSwipePossible() ? translation : Math.max(0,translation);
  translation=leftSwipePossible() ? translation : Math.min(0,translation);
  float absTranslation=Math.abs(translation);
  if (absTranslation > Math.abs(mTranslationOnDown) + mMinTranslationAmount || mMotionPerformedByUser) {
    mMotionPerformedByUser=true;
  }
  if (translation != mTranslation || isReset) {
    KeyguardAffordanceView targetView=translation > 0 ? mLeftIcon : mRightIcon;
    KeyguardAffordanceView otherView=translation > 0 ? mRightIcon : mLeftIcon;
    float alpha=absTranslation / mMinTranslationAmount;
    float fadeOutAlpha=SWIPE_RESTING_ALPHA_AMOUNT * (1.0f - alpha);
    fadeOutAlpha=Math.max(0.0f,fadeOutAlpha);
    alpha=fadeOutAlpha + alpha;
    boolean animateIcons=isReset && animateReset;
    float radius=getRadiusFromTranslation(absTranslation);
    boolean slowAnimation=isReset && isBelowFalsingThreshold();
    if (!isReset) {
      updateIcon(targetView,radius,alpha,false,false);
    }
 else {
      updateIcon(targetView,0.0f,fadeOutAlpha,animateIcons,slowAnimation);
    }
    updateIcon(otherView,0.0f,fadeOutAlpha,animateIcons,slowAnimation);
    updateIcon(mCenterIcon,0.0f,fadeOutAlpha,animateIcons,slowAnimation);
    mTranslation=translation;
  }
}
