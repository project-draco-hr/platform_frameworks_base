{
  x=x < 0 ? 0 : x;
  y=y < 0 ? 0 : y;
  int xFloor=(int)Math.floor(x);
  int xCeiling=(int)Math.ceil(x);
  int yFloor=(int)Math.floor(y);
  int yCeiling=(int)Math.ceil(y);
  if (x == xFloor && y == yFloor) {
    int index=yCeiling * sampleSize + xCeiling;
    if (sample[index] < 1) {
      sample[index]=1;
    }
  }
 else {
    double topLeft=Math.sqrt(Math.pow(xFloor - x,2) + Math.pow(yFloor - y,2));
    double topRight=Math.sqrt(Math.pow(xCeiling - x,2) + Math.pow(yFloor - y,2));
    double btmLeft=Math.sqrt(Math.pow(xFloor - x,2) + Math.pow(yCeiling - y,2));
    double btmRight=Math.sqrt(Math.pow(xCeiling - x,2) + Math.pow(yCeiling - y,2));
    double sum=topLeft + topRight + btmLeft+ btmRight;
    double value=topLeft / sum;
    int index=yFloor * sampleSize + xFloor;
    if (value > sample[index]) {
      sample[index]=(float)value;
    }
    value=topRight / sum;
    index=yFloor * sampleSize + xCeiling;
    if (value > sample[index]) {
      sample[index]=(float)value;
    }
    value=btmLeft / sum;
    index=yCeiling * sampleSize + xFloor;
    if (value > sample[index]) {
      sample[index]=(float)value;
    }
    value=btmRight / sum;
    index=yCeiling * sampleSize + xCeiling;
    if (value > sample[index]) {
      sample[index]=(float)value;
    }
  }
}
