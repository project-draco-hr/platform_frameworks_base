{
  if (which != FLAG_SYSTEM && which != FLAG_LOCK) {
    throw new IllegalArgumentException("Must request exactly one kind of wallpaper");
  }
  if (sGlobals.mService == null) {
    Log.w(TAG,"WallpaperService not running");
    throw new RuntimeException(new DeadSystemException());
  }
 else {
    try {
      Bundle outParams=new Bundle();
      return sGlobals.mService.getWallpaper(null,which,outParams,userId);
    }
 catch (    RemoteException e) {
      throw e.rethrowFromSystemServer();
    }
  }
}
