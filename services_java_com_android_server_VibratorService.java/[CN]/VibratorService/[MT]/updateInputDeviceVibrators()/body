{
synchronized (mVibrations) {
    doCancelVibrateLocked();
synchronized (mInputDeviceVibrators) {
      mInputDeviceVibrators.clear();
      if (mVibrateInputDevicesSetting) {
        int[] ids=mIm.getInputDeviceIds();
        for (int i=0; i < ids.length; i++) {
          InputDevice device=mIm.getInputDevice(ids[i]);
          Vibrator vibrator=device.getVibrator();
          if (vibrator.hasVibrator()) {
            mInputDeviceVibrators.add(vibrator);
          }
        }
      }
    }
    startNextVibrationLocked();
  }
}
