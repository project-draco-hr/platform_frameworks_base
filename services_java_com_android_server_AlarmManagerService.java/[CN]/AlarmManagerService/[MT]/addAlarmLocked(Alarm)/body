{
  ArrayList<Alarm> alarmList=getAlarmList(alarm.type);
  int index=Collections.binarySearch(alarmList,alarm,mIncreasingTimeOrder);
  if (index < 0) {
    index=0 - index - 1;
  }
  if (localLOGV)   Log.v(TAG,"Adding alarm " + alarm + " at "+ index);
  alarmList.add(index,alarm);
  if (localLOGV) {
    Log.v(TAG,"alarms: " + alarmList.size() + " type: "+ alarm.type);
    int position=0;
    for (    Alarm a : alarmList) {
      Time time=new Time();
      time.set(a.when);
      String timeStr=time.format("%b %d %I:%M:%S %p");
      Log.v(TAG,position + ": " + timeStr+ " "+ a.operation.getTargetPackage());
      position+=1;
    }
  }
  return index;
}
