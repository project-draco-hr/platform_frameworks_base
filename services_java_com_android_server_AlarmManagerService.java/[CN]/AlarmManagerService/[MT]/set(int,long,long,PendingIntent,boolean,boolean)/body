{
  if (operation == null) {
    Slog.w(TAG,"set/setRepeating ignored because there is no intent");
    return;
  }
  if (type < RTC_WAKEUP || type > ELAPSED_REALTIME) {
    throw new IllegalArgumentException("Invalid alarm type " + type);
  }
  long nowElapsed=SystemClock.elapsedRealtime();
  long triggerElapsed=convertToElapsed(triggerAtTime,type);
  long maxElapsed=(isExact) ? triggerElapsed : maxTriggerTime(nowElapsed,triggerElapsed,interval);
synchronized (mLock) {
    if (DEBUG_BATCH) {
      Slog.v(TAG,"set(" + operation + ") : type="+ type+ " triggerAtTime="+ triggerAtTime+ " tElapsed="+ triggerElapsed+ " maxElapsed="+ maxElapsed+ " interval="+ interval+ " standalone="+ isStandalone);
    }
    setImplLocked(type,triggerAtTime,triggerElapsed,maxElapsed,interval,operation,isStandalone);
  }
}
