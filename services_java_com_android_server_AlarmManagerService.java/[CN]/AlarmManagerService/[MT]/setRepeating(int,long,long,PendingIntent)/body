{
  if (operation == null) {
    Log.w(TAG,"set/setRepeating ignored because there is no intent");
    return;
  }
synchronized (mLock) {
    Alarm alarm=new Alarm();
    alarm.type=type;
    alarm.when=triggerAtTime;
    alarm.repeatInterval=interval;
    alarm.operation=operation;
    removeLocked(operation);
    if (localLOGV)     Log.v(TAG,"set: " + alarm);
    int index=addAlarmLocked(alarm);
    if (index == 0) {
      setLocked(alarm);
    }
  }
}
