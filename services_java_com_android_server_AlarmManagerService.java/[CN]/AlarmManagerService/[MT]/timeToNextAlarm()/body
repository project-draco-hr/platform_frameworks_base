{
  long nextAlarm=Long.MAX_VALUE;
synchronized (mLock) {
    for (int i=AlarmManager.RTC_WAKEUP; i <= AlarmManager.ELAPSED_REALTIME; i++) {
      ArrayList<Alarm> alarmList=getAlarmList(i);
      if (alarmList.size() > 0) {
        Alarm a=alarmList.get(0);
        if (a.when < nextAlarm) {
          nextAlarm=a.when;
        }
      }
    }
  }
  return nextAlarm;
}
