{
  final int numBatches=batches.size();
  for (int i=0; i < numBatches; i++) {
    Batch b=batches.get(i);
    if (b.start > nowELAPSED) {
      break;
    }
    final int numAlarms=b.alarms.size();
    for (int j=0; j < numAlarms; j++) {
      Alarm a=b.alarms.get(i);
      WakeupEvent e=new WakeupEvent(nowRTC,a.operation.getCreatorUid(),a.operation.getIntent().getAction());
      mRecentWakeups.add(e);
    }
  }
}
