{
  if (intent.getAction().equals(Intent.ACTION_TIME_TICK)) {
    scheduleTimeTickEvent();
  }
 else   if (intent.getAction().equals(Intent.ACTION_DATE_CHANGED)) {
    TimeZone zone=TimeZone.getTimeZone(SystemProperties.get(TIMEZONE_PROPERTY));
    int gmtOffset=zone.getOffset(System.currentTimeMillis());
    setKernelTimezone(mDescriptor,-(gmtOffset / 60000));
    scheduleDateChangedEvent();
  }
}
