{
  if (intent.getAction().equals(Intent.ACTION_TIME_TICK)) {
    scheduleTimeTickEvent();
  }
 else   if (intent.getAction().equals(Intent.ACTION_DATE_CHANGED)) {
    TimeZone zone=TimeZone.getTimeZone(SystemProperties.get(TIMEZONE_PROPERTY));
    int gmtOffset=(zone.getRawOffset() + zone.getDSTSavings()) / 60000;
    setKernelTimezone(mDescriptor,-(gmtOffset));
    scheduleDateChangedEvent();
  }
}
