{
  boolean didRemove=false;
  long newStart=0;
  long newEnd=Long.MAX_VALUE;
  for (int i=0; i < alarms.size(); ) {
    Alarm alarm=alarms.get(i);
    if (alarm.operation.equals(operation)) {
      alarms.remove(i);
      didRemove=true;
    }
 else {
      if (alarm.whenElapsed > newStart) {
        newStart=alarm.whenElapsed;
      }
      if (alarm.maxWhen < newEnd) {
        newEnd=alarm.maxWhen;
      }
      i++;
    }
  }
  if (didRemove) {
    start=newStart;
    end=newEnd;
  }
  return didRemove;
}
