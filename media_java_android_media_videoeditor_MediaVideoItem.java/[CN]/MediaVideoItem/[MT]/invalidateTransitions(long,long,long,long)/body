{
  if (mBeginTransition != null) {
    final long transitionDurationMs=mBeginTransition.getDuration();
    final boolean oldOverlap=isOverlapping(oldStartTimeMs,oldDurationMs,mBeginBoundaryTimeMs,transitionDurationMs);
    final boolean newOverlap=isOverlapping(newStartTimeMs,newDurationMs,mBeginBoundaryTimeMs,transitionDurationMs);
    if (newOverlap != oldOverlap) {
      mBeginTransition.invalidate();
    }
 else     if (newOverlap) {
      if ((oldStartTimeMs != newStartTimeMs) || !(oldStartTimeMs + oldDurationMs > transitionDurationMs && newStartTimeMs + newDurationMs > transitionDurationMs)) {
        mBeginTransition.invalidate();
      }
    }
  }
  if (mEndTransition != null) {
    final long transitionDurationMs=mEndTransition.getDuration();
    final boolean oldOverlap=isOverlapping(oldStartTimeMs,oldDurationMs,mEndBoundaryTimeMs - transitionDurationMs,transitionDurationMs);
    final boolean newOverlap=isOverlapping(newStartTimeMs,newDurationMs,mEndBoundaryTimeMs - transitionDurationMs,transitionDurationMs);
    if (newOverlap != oldOverlap) {
      mEndTransition.invalidate();
    }
 else     if (newOverlap) {
      if ((oldStartTimeMs + oldDurationMs != newStartTimeMs + newDurationMs) || ((oldStartTimeMs > mEndBoundaryTimeMs - transitionDurationMs) || newStartTimeMs > mEndBoundaryTimeMs - transitionDurationMs)) {
        mEndTransition.invalidate();
      }
    }
  }
}
