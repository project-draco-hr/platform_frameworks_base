{
  Log.i(LOG_TAG,"doMountObb() on " + obbFilePath + " using key: "+ key);
  assertTrue("Null path was passed in for OBB file!",obbFilePath != null);
  ObbListener obbListener=new ObbListener();
  assertTrue("mountObb call failed",mSm.mountObb(obbFilePath,key,obbListener));
  assertTrue("Failed to get OBB mount status change for file: " + obbFilePath,doWaitForObbStateChange(obbListener));
  assertEquals("OBB mount state not what was expected!",expectedState,obbListener.state());
  if (OnObbStateChangeListener.MOUNTED == expectedState) {
    assertEquals(obbFilePath,obbListener.officialPath());
    assertTrue("Obb should be mounted, but SM reports it is not!",mSm.isObbMounted(obbListener.officialPath()));
  }
 else   if (OnObbStateChangeListener.UNMOUNTED == expectedState) {
    assertFalse("Obb should not be mounted, but SM reports it is!",mSm.isObbMounted(obbListener.officialPath()));
  }
  assertEquals("Mount state is not what was expected!",expectedState,obbListener.state());
  return obbListener.officialPath();
}
