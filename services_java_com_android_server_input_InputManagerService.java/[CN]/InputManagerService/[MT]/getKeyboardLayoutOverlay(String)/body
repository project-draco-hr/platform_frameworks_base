{
  if (!mSystemReady) {
    return null;
  }
  String keyboardLayoutDescriptor=getKeyboardLayoutForInputDevice(inputDeviceDescriptor);
  if (keyboardLayoutDescriptor == null) {
    return null;
  }
  final String[] result=new String[2];
  visitKeyboardLayout(keyboardLayoutDescriptor,new KeyboardLayoutVisitor(){
    @Override public void visitKeyboardLayout(    Resources resources,    String descriptor,    String label,    int keyboardLayoutResId){
      try {
        result[0]=descriptor;
        result[1]=Streams.readFully(new InputStreamReader(resources.openRawResource(keyboardLayoutResId)));
      }
 catch (      IOException ex) {
      }
catch (      NotFoundException ex) {
      }
    }
  }
);
  if (result[0] == null) {
    Log.w(TAG,"Could not get keyboard layout with descriptor '" + keyboardLayoutDescriptor + "'.");
    return null;
  }
  return result;
}
