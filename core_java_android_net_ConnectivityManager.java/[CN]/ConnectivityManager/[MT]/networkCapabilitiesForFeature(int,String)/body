{
  if (networkType == TYPE_MOBILE) {
    int cap=-1;
    if ("enableMMS".equals(feature)) {
      cap=NetworkCapabilities.NET_CAPABILITY_MMS;
    }
 else     if ("enableSUPL".equals(feature)) {
      cap=NetworkCapabilities.NET_CAPABILITY_SUPL;
    }
 else     if ("enableDUN".equals(feature) || "enableDUNAlways".equals(feature)) {
      cap=NetworkCapabilities.NET_CAPABILITY_DUN;
    }
 else     if ("enableHIPRI".equals(feature)) {
      cap=NetworkCapabilities.NET_CAPABILITY_INTERNET;
    }
 else     if ("enableFOTA".equals(feature)) {
      cap=NetworkCapabilities.NET_CAPABILITY_FOTA;
    }
 else     if ("enableIMS".equals(feature)) {
      cap=NetworkCapabilities.NET_CAPABILITY_IMS;
    }
 else     if ("enableCBS".equals(feature)) {
      cap=NetworkCapabilities.NET_CAPABILITY_CBS;
    }
 else {
      return null;
    }
    NetworkCapabilities netCap=new NetworkCapabilities();
    netCap.addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR).addCapability(cap);
    netCap.maybeMarkCapabilitiesRestricted();
    return netCap;
  }
 else   if (networkType == TYPE_WIFI) {
    if ("p2p".equals(feature)) {
      NetworkCapabilities netCap=new NetworkCapabilities();
      netCap.addTransportType(NetworkCapabilities.TRANSPORT_WIFI);
      netCap.addCapability(NetworkCapabilities.NET_CAPABILITY_WIFI_P2P);
      netCap.maybeMarkCapabilitiesRestricted();
      return netCap;
    }
  }
  return null;
}
