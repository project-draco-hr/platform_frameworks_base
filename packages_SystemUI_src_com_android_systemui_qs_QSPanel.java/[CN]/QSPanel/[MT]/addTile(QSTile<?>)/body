{
  final TileRecord r=new TileRecord();
  r.tile=tile;
  r.tileView=tile.createTileView(mContext);
  r.tileView.setVisibility(View.GONE);
  r.tile.setCallback(new QSTile.Callback(){
    @Override public void onStateChanged(    QSTile.State state){
      setTileVisibility(r.tileView,state.visible);
      r.tileView.onStateChanged(state);
    }
    @Override public void onShowDetail(    boolean show){
      QSPanel.this.showDetail(show,r);
    }
    @Override public void onToggleStateChanged(    boolean state){
      if (mDetailRecord == r) {
        fireToggleStateChanged(state);
      }
    }
    @Override public void onScanStateChanged(    boolean state){
      if (mDetailRecord == r) {
        fireScanStateChanged(state);
      }
    }
  }
);
  final View.OnClickListener click=new View.OnClickListener(){
    @Override public void onClick(    View v){
      r.tile.click();
    }
  }
;
  final View.OnClickListener clickSecondary=new View.OnClickListener(){
    @Override public void onClick(    View v){
      r.tile.secondaryClick();
    }
  }
;
  r.tileView.init(click,clickSecondary);
  r.tile.refreshState();
  mRecords.add(r);
  addView(r.tileView);
}
