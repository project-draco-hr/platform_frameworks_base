{
  if (mExpanded == expanded)   return;
  mExpanded=expanded;
  if (!mExpanded && mTileLayout instanceof PagedTileLayout) {
    ((PagedTileLayout)mTileLayout).setCurrentItem(0,false);
  }
  MetricsLogger.visibility(mContext,MetricsEvent.QS_PANEL,mExpanded);
  if (!mExpanded) {
    closeDetail();
  }
 else {
    logTiles();
  }
}
