{
  Result result=acquireLock(timeout);
  if (result != null) {
    return result;
  }
  DisplayMetrics metrics=new DisplayMetrics();
  metrics.densityDpi=mParams.getDensity().getDpiValue();
  metrics.density=metrics.densityDpi / (float)DisplayMetrics.DENSITY_DEFAULT;
  metrics.scaledDensity=metrics.density;
  metrics.widthPixels=mParams.getScreenWidth();
  metrics.heightPixels=mParams.getScreenHeight();
  metrics.xdpi=mParams.getXdpi();
  metrics.ydpi=mParams.getYdpi();
  RenderResources resources=mParams.getResources();
  mContext=new BridgeContext(mParams.getProjectKey(),metrics,resources,mParams.getProjectCallback(),mParams.getTargetSdkVersion());
  setUp();
  return SUCCESS.createResult();
}
