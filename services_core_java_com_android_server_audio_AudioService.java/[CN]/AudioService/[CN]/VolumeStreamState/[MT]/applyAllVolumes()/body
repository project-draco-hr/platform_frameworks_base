{
synchronized (VolumeStreamState.class) {
    int index;
    if (mIsMuted) {
      index=0;
    }
 else {
      index=(getIndex(AudioSystem.DEVICE_OUT_DEFAULT) + 5) / 10;
    }
    AudioSystem.setStreamVolumeIndex(mStreamType,index,AudioSystem.DEVICE_OUT_DEFAULT);
    Set set=mIndex.entrySet();
    Iterator i=set.iterator();
    while (i.hasNext()) {
      Map.Entry entry=(Map.Entry)i.next();
      int device=((Integer)entry.getKey()).intValue();
      if (device != AudioSystem.DEVICE_OUT_DEFAULT) {
        if (mIsMuted) {
          index=0;
        }
 else         if (((device & AudioSystem.DEVICE_OUT_ALL_A2DP) != 0 && mAvrcpAbsVolSupported) || ((device & mFullVolumeDevices) != 0)) {
          index=(mIndexMax + 5) / 10;
        }
 else {
          index=((Integer)entry.getValue() + 5) / 10;
        }
        AudioSystem.setStreamVolumeIndex(mStreamType,index,device);
      }
    }
  }
}
