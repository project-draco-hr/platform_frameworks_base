{
  int callingUid=Binder.getCallingUid();
  if (callingUid == android.os.Process.SYSTEM_UID) {
    callingUid=UserHandle.getUid(userId,UserHandle.getAppId(callingUid));
  }
  if (userId != UserHandle.getCallingUserId() && mContext.checkCallingOrSelfPermission(android.Manifest.permission.INTERACT_ACROSS_USERS_FULL) != PackageManager.PERMISSION_GRANTED) {
    return;
  }
  if (DEBUG_VOL) {
    Log.d(TAG,String.format("Master mono %b, user=%d",mono,userId));
  }
  if (getCurrentUserId() == userId) {
    if (mono != AudioSystem.getMasterMono()) {
      AudioSystem.setMasterMono(mono);
      sendMsg(mAudioHandler,MSG_PERSIST_MASTER_MONO,SENDMSG_REPLACE,mono ? 1 : 0,userId,null,0);
      broadcastMasterMonoStatus(mono);
    }
  }
 else {
    sendMsg(mAudioHandler,MSG_PERSIST_MASTER_MONO,SENDMSG_REPLACE,mono ? 1 : 0,userId,null,0);
  }
}
