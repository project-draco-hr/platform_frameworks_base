{
synchronized (mSafeMediaVolumeState) {
    if ((mSafeMediaVolumeState != SAFE_MEDIA_VOLUME_NOT_CONFIGURED) && (mSafeMediaVolumeState != SAFE_MEDIA_VOLUME_DISABLED)) {
      if (on && (mSafeMediaVolumeState == SAFE_MEDIA_VOLUME_INACTIVE)) {
        mSafeMediaVolumeState=SAFE_MEDIA_VOLUME_ACTIVE;
        enforceSafeMediaVolume(caller);
      }
 else       if (!on && (mSafeMediaVolumeState == SAFE_MEDIA_VOLUME_ACTIVE)) {
        mSafeMediaVolumeState=SAFE_MEDIA_VOLUME_INACTIVE;
        mMusicActiveMs=1;
        saveMusicActiveMs();
        sendMsg(mAudioHandler,MSG_CHECK_MUSIC_ACTIVE,SENDMSG_REPLACE,0,0,caller,MUSIC_ACTIVE_POLL_PERIOD_MS);
      }
    }
  }
}
