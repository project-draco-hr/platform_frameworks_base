{
  final int stream=mStreamVolumeAlias[streamType];
  setStreamVolumeInt(stream,index,device,false,caller);
  if (((flags & AudioManager.FLAG_ALLOW_RINGER_MODES) != 0) || (stream == getUiSoundsStreamType())) {
    int newRingerMode;
    if (index == 0) {
      newRingerMode=mHasVibrator ? AudioManager.RINGER_MODE_VIBRATE : mVolumePolicy.volumeDownToEnterSilent ? AudioManager.RINGER_MODE_SILENT : AudioManager.RINGER_MODE_NORMAL;
    }
 else {
      newRingerMode=AudioManager.RINGER_MODE_NORMAL;
    }
    setRingerMode(newRingerMode,TAG + ".onSetStreamVolume",false);
  }
  mStreamStates[stream].mute(index == 0);
}
