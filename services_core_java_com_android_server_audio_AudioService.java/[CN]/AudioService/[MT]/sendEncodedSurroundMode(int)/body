{
  int forceSetting=AudioSystem.NUM_FORCE_CONFIG;
switch (encodedSurroundMode) {
case Settings.Global.ENCODED_SURROUND_OUTPUT_AUTO:
    forceSetting=AudioSystem.FORCE_NONE;
  break;
case Settings.Global.ENCODED_SURROUND_OUTPUT_NEVER:
forceSetting=AudioSystem.FORCE_ENCODED_SURROUND_NEVER;
break;
case Settings.Global.ENCODED_SURROUND_OUTPUT_ALWAYS:
forceSetting=AudioSystem.FORCE_ENCODED_SURROUND_ALWAYS;
break;
default :
Log.e(TAG,"updateSurroundSoundSettings: illegal value " + encodedSurroundMode);
break;
}
if (forceSetting != AudioSystem.NUM_FORCE_CONFIG) {
sendMsg(mAudioHandler,MSG_SET_FORCE_USE,SENDMSG_QUEUE,AudioSystem.FOR_ENCODED_SURROUND,forceSetting,null,0);
}
}
