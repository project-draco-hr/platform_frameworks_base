{
synchronized (mPackagesLock) {
    File dir=Environment.getUserSystemDirectory(userId);
    String[] files=dir.list();
    if (files == null)     return;
    for (    String fileName : files) {
      if (fileName.startsWith(RESTRICTIONS_FILE_PREFIX)) {
        File resFile=new File(dir,fileName);
        if (resFile.exists()) {
          if (all) {
            resFile.delete();
          }
 else {
            String pkg=restrictionsFileNameToPackage(fileName);
            if (!isPackageInstalled(pkg,userId)) {
              resFile.delete();
            }
          }
        }
      }
    }
  }
}
