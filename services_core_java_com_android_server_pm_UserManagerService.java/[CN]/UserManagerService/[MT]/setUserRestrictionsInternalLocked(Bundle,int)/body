{
  final Bundle userRestrictions=mUserRestrictions.get(userId);
  userRestrictions.clear();
  userRestrictions.putAll(restrictions);
  long token=Binder.clearCallingIdentity();
  try {
    mAppOpsService.setUserRestrictions(userRestrictions,userId);
  }
 catch (  RemoteException e) {
    Log.w(LOG_TAG,"Unable to notify AppOpsService of UserRestrictions");
  }
 finally {
    Binder.restoreCallingIdentity(token);
  }
  scheduleWriteUserLocked(mUsers.get(userId));
}
