{
  checkManageUsersPermission("enable user");
synchronized (mPackagesLock) {
    UserInfo info;
synchronized (mUsersLock) {
      info=getUserInfoLU(userId);
    }
    if (info != null && !info.isEnabled()) {
      info.flags^=UserInfo.FLAG_DISABLED;
      writeUserLP(getUserDataLU(info.id));
    }
  }
}
