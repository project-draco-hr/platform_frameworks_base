{
  int callingUserId=UserHandle.getCallingUserId();
  if (callingUserId != userId && !hasManageUsersPermission()) {
synchronized (mPackagesLock) {
      if (!isSameProfileGroupLP(callingUserId,userId)) {
        throw new SecurityException("You need MANAGE_USERS permission to: check if specified user a " + "managed profile outside your profile group");
      }
    }
  }
synchronized (mUsersLock) {
    UserInfo userInfo=getUserInfoLU(userId);
    return userInfo != null && userInfo.isManagedProfile();
  }
}
