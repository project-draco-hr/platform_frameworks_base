{
  if (UserRestrictionsUtils.areEqual(newRestrictions,prevRestrictions)) {
    return;
  }
  final Bundle newRestrictionsFinal=new Bundle(newRestrictions);
  final Bundle prevRestrictionsFinal=new Bundle(prevRestrictions);
  mHandler.post(new Runnable(){
    @Override public void run(){
synchronized (mRestrictionsLock) {
        UserRestrictionsUtils.applyUserRestrictionsLR(mContext,userId,newRestrictionsFinal,prevRestrictionsFinal);
      }
      final UserRestrictionsListener[] listeners;
synchronized (mUserRestrictionsListeners) {
        listeners=new UserRestrictionsListener[mUserRestrictionsListeners.size()];
        mUserRestrictionsListeners.toArray(listeners);
      }
      for (int i=0; i < listeners.length; i++) {
        listeners[i].onUserRestrictionsChanged(userId,newRestrictionsFinal,prevRestrictionsFinal);
      }
    }
  }
);
}
