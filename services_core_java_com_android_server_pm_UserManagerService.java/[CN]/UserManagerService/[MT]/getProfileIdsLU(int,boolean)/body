{
  UserInfo user=getUserInfoLU(userId);
  IntArray result=new IntArray(mUsers.size());
  if (user == null) {
    return result;
  }
  final int userSize=mUsers.size();
  for (int i=0; i < userSize; i++) {
    UserInfo profile=mUsers.valueAt(i).info;
    if (!isProfileOf(user,profile)) {
      continue;
    }
    if (enabledOnly && !profile.isEnabled()) {
      continue;
    }
    if (mRemovingUserIds.get(profile.id)) {
      continue;
    }
    if (profile.partial) {
      continue;
    }
    result.add(profile.id);
  }
  return result;
}
