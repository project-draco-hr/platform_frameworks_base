{
  mHandler.post(new Runnable(){
    @Override public void run(){
      List<ApplicationInfo> apps=mPm.getInstalledApplications(PackageManager.GET_UNINSTALLED_PACKAGES,userHandle).getList();
      final long ident=Binder.clearCallingIdentity();
      try {
        for (        ApplicationInfo appInfo : apps) {
          if ((appInfo.flags & ApplicationInfo.FLAG_INSTALLED) != 0 && (appInfo.flags & ApplicationInfo.FLAG_HIDDEN) != 0) {
            mPm.setApplicationHiddenSettingAsUser(appInfo.packageName,false,userHandle);
          }
        }
      }
  finally {
        Binder.restoreCallingIdentity(ident);
      }
    }
  }
);
}
