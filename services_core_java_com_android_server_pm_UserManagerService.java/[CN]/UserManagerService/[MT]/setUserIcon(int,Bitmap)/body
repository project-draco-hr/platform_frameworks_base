{
  checkManageUsersPermission("update users");
synchronized (mPackagesLock) {
    UserInfo info=mUsers.get(userId);
    if (info == null || info.partial) {
      Slog.w(LOG_TAG,"setUserIcon: unknown user #" + userId);
      return;
    }
    writeBitmapLocked(info,bitmap);
    writeUserLocked(info);
  }
  sendUserInfoChangedBroadcast(userId);
}
