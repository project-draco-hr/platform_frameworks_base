{
  int flags=UserInfo.FLAG_INITIALIZED;
  if (!UserManager.isSplitSystemUser()) {
    flags|=UserInfo.FLAG_ADMIN | UserInfo.FLAG_PRIMARY;
  }
  UserInfo system=new UserInfo(UserHandle.USER_SYSTEM,null,null,flags);
  UserData userData=new UserData();
  userData.info=system;
synchronized (mUsersLock) {
    mUsers.put(system.id,userData);
  }
  mNextSerialNumber=MIN_USER_ID;
  mUserVersion=USER_VERSION;
  Bundle restrictions=new Bundle();
synchronized (mRestrictionsLock) {
    mBaseUserRestrictions.append(UserHandle.USER_SYSTEM,restrictions);
  }
  updateUserIds();
  initDefaultGuestRestrictions();
  writeUserLP(userData);
  writeUserListLP();
}
