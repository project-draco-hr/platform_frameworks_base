{
  checkManageUsersPermission("silence profile");
  boolean changed=false;
  UserInfo profile, parent;
synchronized (mPackagesLock) {
synchronized (mUsersLock) {
      profile=getUserInfoLU(userHandle);
      parent=getProfileParentLU(userHandle);
    }
    if (profile == null || !profile.isManagedProfile()) {
      throw new IllegalArgumentException("User " + userHandle + " is not a profile");
    }
    if (profile.isQuietModeEnabled() != enableQuietMode) {
      profile.flags^=UserInfo.FLAG_QUIET_MODE;
      writeUserLP(profile);
      changed=true;
    }
  }
  if (changed) {
    Bundle extras=new Bundle();
    extras.putBoolean(Intent.EXTRA_QUIET_MODE,enableQuietMode);
    broadcastProfileAvailabilityChanges(profile.getUserHandle(),parent != null ? parent.getUserHandle() : null,extras);
  }
}
