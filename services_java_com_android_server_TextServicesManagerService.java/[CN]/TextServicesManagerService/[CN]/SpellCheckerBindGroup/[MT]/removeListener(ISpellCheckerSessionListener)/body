{
  if (DBG) {
    Slog.w(TAG,"remove listener: " + listener.hashCode());
  }
synchronized (mSpellCheckerMap) {
    final int size=mListeners.size();
    final ArrayList<InternalDeathRecipient> removeList=new ArrayList<InternalDeathRecipient>();
    for (int i=0; i < size; ++i) {
      final InternalDeathRecipient tempRecipient=mListeners.get(i);
      if (tempRecipient.hasSpellCheckerListener(listener)) {
        if (DBG) {
          Slog.w(TAG,"found existing listener.");
        }
        removeList.add(tempRecipient);
      }
    }
    final int removeSize=removeList.size();
    for (int i=0; i < removeSize; ++i) {
      if (DBG) {
        Slog.w(TAG,"Remove " + removeList.get(i));
      }
      mListeners.remove(removeList.get(i));
    }
    cleanLocked();
  }
}
