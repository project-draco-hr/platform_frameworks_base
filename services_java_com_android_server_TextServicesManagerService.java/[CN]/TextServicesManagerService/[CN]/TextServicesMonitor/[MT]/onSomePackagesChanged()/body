{
synchronized (mSpellCheckerMap) {
    buildSpellCheckerMapLocked(mContext,mSpellCheckerList,mSpellCheckerMap);
    SpellCheckerInfo sci=getCurrentSpellChecker(null);
    if (sci == null)     return;
    final String packageName=sci.getPackageName();
    final int change=isPackageDisappearing(packageName);
    if (change == PACKAGE_PERMANENT_CHANGE || change == PACKAGE_TEMPORARY_CHANGE) {
      setCurrentSpellCheckerLocked(findAvailSpellCheckerLocked(null,packageName));
    }
 else     if (isPackageModified(packageName)) {
      setCurrentSpellCheckerLocked(findAvailSpellCheckerLocked(null,packageName));
    }
  }
}
