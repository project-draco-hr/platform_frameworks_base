{
  if (mState != state) {
    final int displayId=mBuiltInDisplayId;
    final IBinder token=getDisplayTokenLocked();
    final int mode=getPowerModeForState(state);
    mState=state;
    updateDeviceInfoLocked();
    return new Runnable(){
      @Override public void run(){
        Trace.traceBegin(Trace.TRACE_TAG_POWER,"requestDisplayState(" + Display.stateToString(state) + ", id="+ displayId+ ")");
        try {
          SurfaceControl.setDisplayPowerMode(token,mode);
        }
  finally {
          Trace.traceEnd(Trace.TRACE_TAG_POWER);
        }
      }
    }
;
  }
  return null;
}
