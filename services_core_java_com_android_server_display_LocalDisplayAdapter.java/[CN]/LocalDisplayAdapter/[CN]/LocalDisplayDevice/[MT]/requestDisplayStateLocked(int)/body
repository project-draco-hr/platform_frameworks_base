{
  if (mState != state) {
    final int mode=getPowerModeForState(state);
    Trace.traceBegin(Trace.TRACE_TAG_POWER,"requestDisplayState(" + Display.stateToString(state) + ", id="+ mBuiltInDisplayId+ ")");
    try {
      SurfaceControl.setDisplayPowerMode(getDisplayTokenLocked(),mode);
    }
  finally {
      Trace.traceEnd(Trace.TRACE_TAG_POWER);
    }
    mState=state;
    updateDeviceInfoLocked();
  }
}
