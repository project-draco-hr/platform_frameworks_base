{
  if (mLastRequestedRefreshRate == refreshRate) {
    return;
  }
  mLastRequestedRefreshRate=refreshRate;
  if (refreshRate != 0) {
    final int N=mSupportedRefreshRates.length;
    for (int i=0; i < N; i++) {
      if (refreshRate == mSupportedRefreshRates[i]) {
        final int configIndex=mRefreshRateConfigIndices[i];
        SurfaceControl.setActiveConfig(getDisplayTokenLocked(),configIndex);
        return;
      }
    }
    Slog.w(TAG,"Requested refresh rate " + refreshRate + " is unsupported.");
  }
  SurfaceControl.setActiveConfig(getDisplayTokenLocked(),mDefaultPhysicalDisplayInfo);
}
