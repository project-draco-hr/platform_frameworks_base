{
  if (mInfo == null) {
    mInfo=new DisplayDeviceInfo();
    mInfo.width=mPhys.width;
    mInfo.height=mPhys.height;
    mInfo.refreshRate=mPhys.refreshRate;
    if (mPhys.secure) {
      mInfo.flags=DisplayDeviceInfo.FLAG_SECURE | DisplayDeviceInfo.FLAG_SUPPORTS_PROTECTED_BUFFERS;
    }
    if (mBuiltInDisplayId == SurfaceControl.BUILT_IN_DISPLAY_ID_MAIN) {
      mInfo.name=getContext().getResources().getString(com.android.internal.R.string.display_manager_built_in_display_name);
      mInfo.flags|=DisplayDeviceInfo.FLAG_DEFAULT_DISPLAY | DisplayDeviceInfo.FLAG_ROTATES_WITH_CONTENT;
      mInfo.type=Display.TYPE_BUILT_IN;
      mInfo.densityDpi=(int)(mPhys.density * 160 + 0.5f);
      mInfo.xDpi=mPhys.xDpi;
      mInfo.yDpi=mPhys.yDpi;
      mInfo.touch=DisplayDeviceInfo.TOUCH_INTERNAL;
    }
 else {
      mInfo.type=Display.TYPE_HDMI;
      mInfo.flags|=DisplayDeviceInfo.FLAG_PRESENTATION;
      mInfo.name=getContext().getResources().getString(com.android.internal.R.string.display_manager_hdmi_display_name);
      mInfo.touch=DisplayDeviceInfo.TOUCH_EXTERNAL;
      mInfo.setAssumedDensityForExternalDisplay(mPhys.width,mPhys.height);
      if ("portrait".equals(SystemProperties.get("persist.demo.hdmirotation"))) {
        mInfo.rotation=Surface.ROTATION_270;
      }
      if (SystemProperties.getBoolean("persist.demo.hdmirotates",false)) {
        mInfo.flags|=DisplayDeviceInfo.FLAG_ROTATES_WITH_CONTENT;
      }
    }
  }
  return mInfo;
}
