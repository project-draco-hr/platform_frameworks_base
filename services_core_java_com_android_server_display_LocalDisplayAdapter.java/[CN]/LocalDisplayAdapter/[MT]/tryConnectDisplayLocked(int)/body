{
  IBinder displayToken=SurfaceControl.getBuiltInDisplay(builtInDisplayId);
  if (displayToken != null) {
    SurfaceControl.PhysicalDisplayInfo[] configs=SurfaceControl.getDisplayConfigs(displayToken);
    if (configs == null) {
      Slog.w(TAG,"No valid configs found for display device " + builtInDisplayId);
      return;
    }
    int activeConfig=SurfaceControl.getActiveConfig(displayToken);
    if (activeConfig < 0) {
      Slog.w(TAG,"No active config found for display device " + builtInDisplayId);
      return;
    }
    LocalDisplayDevice device=mDevices.get(builtInDisplayId);
    if (device == null) {
      device=new LocalDisplayDevice(displayToken,builtInDisplayId,configs[activeConfig]);
      mDevices.put(builtInDisplayId,device);
      sendDisplayDeviceEventLocked(device,DISPLAY_DEVICE_EVENT_ADDED);
    }
 else     if (device.updatePhysicalDisplayInfoLocked(configs[activeConfig])) {
      sendDisplayDeviceEventLocked(device,DISPLAY_DEVICE_EVENT_CHANGED);
    }
  }
 else {
  }
}
