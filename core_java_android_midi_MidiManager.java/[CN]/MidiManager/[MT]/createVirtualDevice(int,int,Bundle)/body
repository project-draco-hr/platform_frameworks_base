{
  try {
    MidiDevice device=mService.registerVirtualDevice(mToken,numInputPorts,numOutputPorts,properties);
    if (device != null && !device.open()) {
      device=null;
    }
    return device;
  }
 catch (  RemoteException e) {
    Log.e(TAG,"RemoteException in createVirtualDevice");
    return null;
  }
}
