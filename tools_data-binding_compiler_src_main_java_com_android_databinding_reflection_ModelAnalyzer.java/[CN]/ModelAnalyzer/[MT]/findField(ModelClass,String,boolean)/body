{
  if (clazz == null || clazz.mTypeMirror.getKind() != TypeKind.DECLARED) {
    return null;
  }
  TypeElement typeElement=(TypeElement)((DeclaredType)clazz.mTypeMirror).asElement();
  for (  VariableElement field : ElementFilter.fieldsIn(getElementUtils().getAllMembers(typeElement))) {
    if (name.equals(stripFieldName(field.getSimpleName().toString()))) {
      if (allowNonPublic || field.getModifiers().contains(Modifier.PUBLIC)) {
        return new ModelField(typeElement,field);
      }
    }
  }
  return null;
}
