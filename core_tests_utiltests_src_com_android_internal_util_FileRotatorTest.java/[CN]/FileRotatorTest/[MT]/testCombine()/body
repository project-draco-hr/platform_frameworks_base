{
  final FileRotator rotate=new FileRotator(mBasePath,PREFIX,DAY_IN_MILLIS,WEEK_IN_MILLIS);
  final RecordingReader reader=new RecordingReader();
  long currentTime=TEST_TIME;
  rotate.combineActive(reader,writer("foo"),currentTime);
  reader.assertRead();
  assertReadAll(rotate,"foo");
  currentTime+=SECOND_IN_MILLIS;
  reader.reset();
  rotate.combineActive(reader,writer("bar"),currentTime);
  reader.assertRead("foo");
  assertReadAll(rotate,"bar");
}
