{
  if (count < 0) {
    count=mUndos.size();
  }
  int removed=0;
  int i=0;
  while (i < mUndos.size() && removed < count) {
    UndoState state=mUndos.get(i);
    if (count > 0 && matchOwners(state,owners)) {
      state.destroy();
      mUndos.remove(i);
      removed++;
    }
 else {
      i++;
    }
  }
  return removed;
}
