{
  if (count < 0) {
    count=mUndos.size();
  }
  int removed=0;
  for (int i=0; i < mUndos.size() && removed < count; i++) {
    UndoState state=mUndos.get(i);
    if (count > 0 && matchOwners(state,owners)) {
      state.destroy();
      mUndos.remove(i);
      removed++;
    }
  }
  return removed;
}
