{
  int sequenceNumber=mSequenceNumber.incrementAndGet();
  builder.insert(0,Integer.toString(sequenceNumber) + " ");
  if (LOGD)   log("SND -> {" + builder.toString() + "}");
  builder.append('\0');
synchronized (mDaemonLock) {
    if (mOutputStream == null) {
      throw new NativeDaemonConnectorException("missing output stream");
    }
 else {
      try {
        mOutputStream.write(builder.toString().getBytes(Charsets.UTF_8));
      }
 catch (      IOException e) {
        throw new NativeDaemonConnectorException("problem sending command",e);
      }
    }
  }
  return sequenceNumber;
}
