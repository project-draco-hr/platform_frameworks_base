{
  if (!is3gpp && !isSubscriptionFromIccCard) {
    return State.READY;
  }
  if (mIccCardStatus == null) {
    Log.e(mLogTag,"[IccCard] IccCardStatus is null");
    return IccCard.State.ABSENT;
  }
  if (!mIccCardStatus.getCardState().isCardPresent()) {
    return IccCard.State.ABSENT;
  }
  RadioState currentRadioState=mPhone.mCM.getRadioState();
  if (currentRadioState == RadioState.RADIO_OFF || currentRadioState == RadioState.RADIO_UNAVAILABLE) {
    return IccCard.State.NOT_READY;
  }
  if (currentRadioState == RadioState.RADIO_ON) {
    State csimState=getAppState(mIccCardStatus.getCdmaSubscriptionAppIndex());
    State usimState=getAppState(mIccCardStatus.getGsmUmtsSubscriptionAppIndex());
    if (mDbg)     log("USIM=" + usimState + " CSIM="+ csimState);
    if (mPhone.getLteOnCdmaMode() == Phone.LTE_ON_CDMA_TRUE) {
      return getConsolidatedState(csimState,usimState,csimState);
    }
    if (!is3gpp) {
      return csimState;
    }
    return usimState;
  }
  return IccCard.State.ABSENT;
}
