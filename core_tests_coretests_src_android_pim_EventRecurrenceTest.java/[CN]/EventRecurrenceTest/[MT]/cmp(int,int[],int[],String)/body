{
  if ((correct == null && v != null) || (correct != null && v == null)) {
    throw new RuntimeException("One is null, one isn't for " + name + ": correct="+ Arrays.toString(correct)+ " actual="+ Arrays.toString(v));
  }
  if ((correct == null && vlen != 0) || (vlen != (correct == null ? 0 : correct.length))) {
    throw new RuntimeException("Reported length mismatch for " + name + ": correct="+ ((correct == null) ? "null" : correct.length)+ " actual="+ vlen);
  }
  if (correct == null) {
    return;
  }
  if (v.length < correct.length) {
    throw new RuntimeException("Array length mismatch for " + name + ": correct="+ Arrays.toString(correct)+ " actual="+ Arrays.toString(v));
  }
  for (int i=0; i < correct.length; i++) {
    if (v[i] != correct[i]) {
      throw new RuntimeException("Array value mismatch for " + name + ": correct="+ Arrays.toString(correct)+ " actual="+ Arrays.toString(v));
    }
  }
}
