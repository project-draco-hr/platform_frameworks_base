{
  final Iterator<String> i=filter.typesIterator();
  if (i == null) {
    return 0;
  }
  int num=0;
  while (i.hasNext()) {
    String name=(String)i.next();
    num++;
    if (localLOGV)     Log.v(TAG,prefix + name);
    String baseName=name;
    final int slashpos=name.indexOf('/');
    if (slashpos > 0) {
      baseName=name.substring(0,slashpos).intern();
    }
 else {
      name=name + "/*";
    }
    if (!remove_all_objects(mTypeToFilter.get(name),filter)) {
      mTypeToFilter.remove(name);
    }
    if (slashpos > 0) {
      if (!remove_all_objects(mBaseTypeToFilter.get(baseName),filter)) {
        mBaseTypeToFilter.remove(baseName);
      }
    }
 else {
      if (!remove_all_objects(mWildTypeToFilter.get(baseName),filter)) {
        mWildTypeToFilter.remove(baseName);
      }
    }
  }
  return num;
}
