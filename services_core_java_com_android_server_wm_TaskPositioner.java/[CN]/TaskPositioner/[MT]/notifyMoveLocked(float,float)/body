{
  if (DEBUG_TASK_POSITIONING) {
    Slog.d(TAG,"notifyMoveLw: {" + x + ","+ y+ "}");
  }
  if (mCtrlType != CTRL_NONE) {
    final int deltaX=Math.round(x - mStartDragX);
    final int deltaY=Math.round(y - mStartDragY);
    final int minSizeX=mService.dipToPixel(MINIMUM_VISIBLE_WIDTH_IN_DP,mDisplayMetrics);
    final int minSizeY=mService.dipToPixel(MINIMUM_VISIBLE_HEIGHT_IN_DP,mDisplayMetrics);
    int left=mWindowOriginalBounds.left;
    int top=mWindowOriginalBounds.top;
    int right=mWindowOriginalBounds.right;
    int bottom=mWindowOriginalBounds.bottom;
    if ((mCtrlType & CTRL_LEFT) != 0) {
      left=Math.min(left + deltaX,right - minSizeX);
    }
    if ((mCtrlType & CTRL_TOP) != 0) {
      top=Math.min(top + deltaY,bottom - minSizeY);
    }
    if ((mCtrlType & CTRL_RIGHT) != 0) {
      right=Math.max(left + minSizeX,right + deltaX);
    }
    if ((mCtrlType & CTRL_BOTTOM) != 0) {
      bottom=Math.max(top + minSizeY,bottom + deltaY);
    }
    mWindowDragBounds.set(left,top,right,bottom);
  }
 else {
    mWindowDragBounds.set(mWindowOriginalBounds);
    mWindowDragBounds.offset(Math.round(x - mStartDragX),Math.round(y - mStartDragY));
    updateDimLayerVisibility((int)x);
  }
}
