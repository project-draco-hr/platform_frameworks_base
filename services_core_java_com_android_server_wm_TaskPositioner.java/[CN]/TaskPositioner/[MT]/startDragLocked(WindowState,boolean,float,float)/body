{
  if (DEBUG_TASK_POSITIONING) {
    Slog.d(TAG,"startDragLocked: win=" + win + ", resize="+ resize+ ", {"+ startX+ ", "+ startY+ "}");
  }
  mCtrlType=CTRL_NONE;
  if (resize) {
    final Rect visibleFrame=win.mVisibleFrame;
    if (startX < visibleFrame.left) {
      mCtrlType|=CTRL_LEFT;
    }
    if (startX > visibleFrame.right) {
      mCtrlType|=CTRL_RIGHT;
    }
    if (startY < visibleFrame.top) {
      mCtrlType|=CTRL_TOP;
    }
    if (startY > visibleFrame.bottom) {
      mCtrlType|=CTRL_BOTTOM;
    }
    mResizing=true;
  }
  final Task task=win.getTask();
  mTaskId=task.mTaskId;
  mStack=task.mStack;
  mStartDragX=startX;
  mStartDragY=startY;
  mService.getTaskBounds(mTaskId,mWindowOriginalBounds);
}
