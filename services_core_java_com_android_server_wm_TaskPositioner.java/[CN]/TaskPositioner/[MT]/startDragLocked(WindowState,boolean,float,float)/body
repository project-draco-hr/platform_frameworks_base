{
  if (DEBUG_TASK_POSITIONING) {
    Slog.d(TAG,"startDragLocked: win=" + win + ", resize="+ resize+ ", {"+ startX+ ", "+ startY+ "}");
  }
  mCtrlType=CTRL_NONE;
  mTask=win.getTask();
  mStartDragX=startX;
  mStartDragY=startY;
  if (mTask.isDockedInEffect()) {
    mTask.getBounds(mTmpRect);
  }
 else {
    mTask.getDimBounds(mTmpRect);
  }
  if (resize) {
    if (startX < mTmpRect.left) {
      mCtrlType|=CTRL_LEFT;
    }
    if (startX > mTmpRect.right) {
      mCtrlType|=CTRL_RIGHT;
    }
    if (startY < mTmpRect.top) {
      mCtrlType|=CTRL_TOP;
    }
    if (startY > mTmpRect.bottom) {
      mCtrlType|=CTRL_BOTTOM;
    }
    mResizing=true;
  }
  mWindowOriginalBounds.set(mTmpRect);
}
