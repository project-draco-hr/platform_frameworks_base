{
  IPackageManager pm=AppGlobals.getPackageManager();
  if (DEBUG) {
    Slog.d(TAG,"Handling restore of " + key);
  }
  try {
switch (key) {
case KEY_PREFERRED:
      pm.restorePreferredActivities(payload,UserHandle.USER_SYSTEM);
    break;
case KEY_DEFAULT_APPS:
  pm.restoreDefaultApps(payload,UserHandle.USER_SYSTEM);
break;
case KEY_INTENT_VERIFICATION:
pm.restoreIntentFilterVerification(payload,UserHandle.USER_SYSTEM);
break;
default :
Slog.w(TAG,"Unexpected restore key " + key);
}
}
 catch (Exception e) {
Slog.w(TAG,"Unable to restore key " + key);
}
}
