{
  final Rect dirtyBounds=mDirtyBounds;
  final Rect drawingBounds=mDrawingBounds;
  dirtyBounds.set(drawingBounds);
  drawingBounds.setEmpty();
  final Rect rippleBounds=mTempRect;
  final ArrayList<Ripple> activeRipples=mActiveRipples;
  if (activeRipples != null) {
    final int N=activeRipples.size();
    for (int i=0; i < N; i++) {
      activeRipples.get(i).getBounds(rippleBounds);
      drawingBounds.union(rippleBounds);
    }
  }
  dirtyBounds.union(drawingBounds);
  dirtyBounds.union(super.getDirtyBounds());
  return dirtyBounds;
}
