{
  final TouchFeedbackState state=mState;
  if (a.hasValue(R.styleable.TouchFeedbackDrawable_tint)) {
    state.mTint=a.getColorStateList(R.styleable.TouchFeedbackDrawable_tint);
  }
  if (a.hasValue(R.styleable.TouchFeedbackDrawable_tintMode)) {
    mState.mTintMode=Drawable.parseTintMode(a.getInt(R.styleable.TouchFeedbackDrawable_tintMode,-1),Mode.SRC_ATOP);
  }
  if (a.hasValue(R.styleable.TouchFeedbackDrawable_pinned)) {
    mState.mPinned=a.getBoolean(R.styleable.TouchFeedbackDrawable_pinned,false);
  }
  Drawable mask=mMask;
  if (a.hasValue(R.styleable.TouchFeedbackDrawable_mask)) {
    mask=a.getDrawable(R.styleable.TouchFeedbackDrawable_mask);
  }
  Drawable dr=super.getDrawable();
  if (a.hasValue(R.styleable.TouchFeedbackDrawable_drawable)) {
    final int drawableRes=a.getResourceId(R.styleable.TouchFeedbackDrawable_drawable,0);
    if (drawableRes != 0) {
      dr=a.getResources().getDrawable(drawableRes);
    }
  }
  mState.mProjected=mask == null && dr == null;
  if (dr != null) {
    setDrawable(dr,a.getResources());
  }
 else {
    setDrawable(new ColorDrawable(Color.TRANSPARENT),a.getResources());
  }
  if (mask != null) {
    setMaskDrawable(mask,a.getResources());
  }
}
