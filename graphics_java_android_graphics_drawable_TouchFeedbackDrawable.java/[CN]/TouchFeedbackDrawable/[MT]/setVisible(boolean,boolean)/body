{
  if (!visible) {
    if (mTouchedRipples != null) {
      mTouchedRipples.clear();
    }
    if (mActiveRipplesCount > 0) {
      Arrays.fill(mActiveRipples,null);
      mActiveRipplesCount=0;
      mAnimating=false;
      unscheduleSelf(mAnimationRunnable);
    }
  }
  return super.setVisible(visible,restart);
}
