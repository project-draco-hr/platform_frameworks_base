{
  if (evt instanceof MakeCallCommand) {
    MakeCallCommand cmd=(MakeCallCommand)evt;
    mPeerProfile=cmd.getPeerProfile();
    SessionDescription sessionDescription=cmd.getSessionDescription();
    mClientTransaction=mSipHelper.sendInvite(mLocalProfile,mPeerProfile,sessionDescription,generateTag());
    mDialog=mClientTransaction.getDialog();
    addSipSession(this);
    mState=SipSessionState.OUTGOING_CALL;
    mProxy.onCalling(this);
    return true;
  }
 else   if (evt instanceof RegisterCommand) {
    int duration=((RegisterCommand)evt).getDuration();
    mClientTransaction=mSipHelper.sendRegister(mLocalProfile,generateTag(),duration);
    mDialog=mClientTransaction.getDialog();
    addSipSession(this);
    mState=SipSessionState.REGISTERING;
    mProxy.onRegistering(this);
    return true;
  }
 else   if (DEREGISTER == evt) {
    mClientTransaction=mSipHelper.sendRegister(mLocalProfile,generateTag(),0);
    mDialog=mClientTransaction.getDialog();
    addSipSession(this);
    mState=SipSessionState.DEREGISTERING;
    mProxy.onRegistering(this);
    return true;
  }
  return false;
}
