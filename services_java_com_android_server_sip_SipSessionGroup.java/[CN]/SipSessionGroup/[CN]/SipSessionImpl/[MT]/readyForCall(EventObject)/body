{
  if (evt instanceof MakeCallCommand) {
    MakeCallCommand cmd=(MakeCallCommand)evt;
    mPeerProfile=cmd.getPeerProfile();
    mClientTransaction=mSipHelper.sendInvite(mLocalProfile,mPeerProfile,cmd.getSessionDescription(),generateTag());
    mDialog=mClientTransaction.getDialog();
    addSipSession(this);
    mState=SipSession.State.OUTGOING_CALL;
    mProxy.onCalling(this);
    startSessionTimer(cmd.getTimeout());
    return true;
  }
 else   if (evt instanceof RegisterCommand) {
    int duration=((RegisterCommand)evt).getDuration();
    mClientTransaction=mSipHelper.sendRegister(mLocalProfile,generateTag(),duration);
    mDialog=mClientTransaction.getDialog();
    addSipSession(this);
    mState=SipSession.State.REGISTERING;
    mProxy.onRegistering(this);
    return true;
  }
 else   if (DEREGISTER == evt) {
    mClientTransaction=mSipHelper.sendRegister(mLocalProfile,generateTag(),0);
    mDialog=mClientTransaction.getDialog();
    addSipSession(this);
    mState=SipSession.State.DEREGISTERING;
    mProxy.onRegistering(this);
    return true;
  }
  return false;
}
