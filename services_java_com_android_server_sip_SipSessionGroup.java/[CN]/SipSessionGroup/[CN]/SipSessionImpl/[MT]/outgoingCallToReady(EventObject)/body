{
  if (evt instanceof ResponseEvent) {
    ResponseEvent event=(ResponseEvent)evt;
    Response response=event.getResponse();
    int statusCode=response.getStatusCode();
    if (expectResponse(Request.CANCEL,evt)) {
      if (statusCode == Response.OK) {
        return true;
      }
    }
 else     if (expectResponse(Request.INVITE,evt)) {
      if (statusCode == Response.OK) {
        outgoingCall(evt);
        return true;
      }
    }
 else {
      return false;
    }
    if (statusCode >= 400) {
      onError(createCallbackException(response));
      return true;
    }
  }
 else   if (evt instanceof TransactionTerminatedEvent) {
    onError(new SipException("timed out"));
  }
  return false;
}
