{
  new Thread(new Runnable(){
    public void run(){
      try {
        processCommand(command);
      }
 catch (      SipException e) {
        if ((command instanceof RegisterCommand) || (command == DEREGISTER)) {
          onRegistrationFailed(e);
        }
 else {
          onError(e);
        }
      }
    }
  }
).start();
}
