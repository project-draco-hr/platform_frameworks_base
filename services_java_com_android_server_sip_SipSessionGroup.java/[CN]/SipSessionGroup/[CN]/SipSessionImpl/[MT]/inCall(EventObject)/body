{
  if (END_CALL == evt) {
    mSipHelper.sendBye(mDialog);
    endCallNormally();
    return true;
  }
 else   if (isRequestEvent(Request.INVITE,evt)) {
    RequestEvent event=mInviteReceived=(RequestEvent)evt;
    mState=SipSessionState.INCOMING_CALL;
    mPeerSessionDescription=event.getRequest().getRawContent();
    mServerTransaction=null;
    mProxy.onRinging(this,mPeerProfile,mPeerSessionDescription);
    return true;
  }
 else   if (isRequestEvent(Request.BYE,evt)) {
    mSipHelper.sendResponse((RequestEvent)evt,Response.OK);
    endCallNormally();
    return true;
  }
 else   if (evt instanceof MakeCallCommand) {
    mClientTransaction=mSipHelper.sendReinvite(mDialog,((MakeCallCommand)evt).getSessionDescription());
    mState=SipSessionState.OUTGOING_CALL;
    return true;
  }
  return false;
}
