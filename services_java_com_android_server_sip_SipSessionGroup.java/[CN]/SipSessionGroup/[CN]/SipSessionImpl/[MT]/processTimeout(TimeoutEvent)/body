{
  Log.d(TAG,"processing Timeout..." + event);
  Transaction current=event.isServerTransaction() ? mServerTransaction : mClientTransaction;
  Transaction target=event.isServerTransaction() ? event.getServerTransaction() : event.getClientTransaction();
  if ((current != target) && (mState != SipSessionState.PINGING)) {
    Log.d(TAG,"not the current transaction; current=" + current + ", timed out="+ target);
    return;
  }
switch (mState) {
case SipSessionState.REGISTERING:
case SipSessionState.DEREGISTERING:
    reset();
  mProxy.onRegistrationTimeout(this);
break;
case SipSessionState.INCOMING_CALL:
case SipSessionState.INCOMING_CALL_ANSWERING:
case SipSessionState.OUTGOING_CALL:
case SipSessionState.OUTGOING_CALL_CANCELING:
onError(SipErrorCode.TIME_OUT,event.toString());
break;
case SipSessionState.PINGING:
reset();
mReRegisterFlag=true;
mState=SipSessionState.READY_TO_CALL;
break;
default :
Log.d(TAG,"   do nothing");
break;
}
}
