{
  final boolean isProjection=device.tag instanceof MediaProjectionInfo;
  if (DEBUG)   Log.d(TAG,"stopCasting isProjection=" + isProjection);
  if (isProjection) {
    final MediaProjectionInfo projection=(MediaProjectionInfo)device.tag;
    if (Objects.equals(mProjectionManager.getActiveProjectionInfo(),projection)) {
      mProjectionManager.stopActiveProjection();
    }
 else {
      Log.w(TAG,"Projection is no longer active: " + projection);
    }
  }
 else {
    mMediaRouter.getDefaultRoute().select();
  }
}
