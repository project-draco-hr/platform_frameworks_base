{
  final MediaRouter.RouteInfo connectedRoute=mMediaRouter.getSelectedRoute(MediaRouter.ROUTE_TYPE_REMOTE_DISPLAY);
  boolean enabled=connectedRoute != null && connectedRoute.matchesTypes(MediaRouter.ROUTE_TYPE_REMOTE_DISPLAY);
  boolean connecting;
  if (enabled) {
    connecting=connectedRoute.isConnecting();
  }
 else {
    connecting=false;
    enabled=mMediaRouter.isRouteAvailable(MediaRouter.ROUTE_TYPE_REMOTE_DISPLAY,MediaRouter.AVAILABILITY_FLAG_IGNORE_DEFAULT_ROUTE);
  }
  String connectedRouteName=null;
  if (connectedRoute != null) {
    connectedRouteName=connectedRoute.getName().toString();
  }
synchronized (mCallbacks) {
    mEnabled=enabled;
    mConnecting=connecting;
    mConnectedRouteName=connectedRouteName;
  }
  fireStateChanged();
}
