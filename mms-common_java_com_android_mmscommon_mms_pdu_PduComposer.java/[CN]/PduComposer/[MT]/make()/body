{
  int type=mPdu.getMessageType();
switch (type) {
case PduHeaders.MESSAGE_TYPE_SEND_REQ:
    if (makeSendReqPdu() != PDU_COMPOSE_SUCCESS) {
      return null;
    }
  break;
case PduHeaders.MESSAGE_TYPE_NOTIFYRESP_IND:
if (makeNotifyResp() != PDU_COMPOSE_SUCCESS) {
  return null;
}
break;
case PduHeaders.MESSAGE_TYPE_ACKNOWLEDGE_IND:
if (makeAckInd() != PDU_COMPOSE_SUCCESS) {
return null;
}
break;
case PduHeaders.MESSAGE_TYPE_READ_REC_IND:
if (makeReadRecInd() != PDU_COMPOSE_SUCCESS) {
return null;
}
break;
default :
return null;
}
return mMessage.toByteArray();
}
