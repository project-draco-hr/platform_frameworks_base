{
  if (DEBUG)   Log.v(TAG,"attach: " + this + " wrapper="+ wrapper);
  if (mDestroyed) {
    return;
  }
  mIWallpaperEngine=wrapper;
  mCaller=wrapper.mCaller;
  mConnection=wrapper.mConnection;
  mWindowToken=wrapper.mWindowToken;
  mSurfaceHolder.setSizeFromLayout();
  mInitializing=true;
  mSession=ViewRoot.getWindowSession(getMainLooper());
  mWindow.setSession(mSession);
  if (DEBUG)   Log.v(TAG,"onCreate(): " + this);
  onCreate(mSurfaceHolder);
  mInitializing=false;
  updateSurface(false,false);
}
