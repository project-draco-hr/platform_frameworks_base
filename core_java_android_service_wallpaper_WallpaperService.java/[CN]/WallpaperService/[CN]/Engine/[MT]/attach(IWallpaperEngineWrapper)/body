{
  if (DEBUG)   Log.v(TAG,"attach: " + this + " wrapper="+ wrapper);
  mIWallpaperEngine=wrapper;
  mCaller=wrapper.mCaller;
  mConnection=wrapper.mConnection;
  mWindowToken=wrapper.mWindowToken;
  mSurfaceHolder.setFixedSize(mIWallpaperEngine.mReqWidth,mIWallpaperEngine.mReqHeight);
  mInitializing=true;
  mSession=ViewRoot.getWindowSession(getMainLooper());
  mWindow.setSession(mSession);
  onCreate(mSurfaceHolder);
  mInitializing=false;
  updateSurface(false,false);
}
