{
switch (message.what) {
case DO_ATTACH:
{
      Engine engine=onCreateEngine();
      mEngine=engine;
      engine.attach(this);
      return;
    }
case DO_DETACH:
{
    mEngine.detach();
    return;
  }
case MSG_UPDATE_SURFACE:
mEngine.updateSurface(false);
break;
case MSG_VISIBILITY_CHANGED:
if (DEBUG) Log.v(TAG,"Visibility change in " + mEngine + ": "+ message.arg1);
mEngine.onVisibilityChanged(message.arg1 != 0);
break;
default :
Log.w(TAG,"Unknown message type " + message.what);
}
}
