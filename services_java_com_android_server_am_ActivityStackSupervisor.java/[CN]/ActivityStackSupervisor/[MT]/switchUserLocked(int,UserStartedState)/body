{
  mCurrentUser=userId;
  final String homePackageName=mService.getHomePackageName();
  if (homePackageName != null) {
    setHomePackageName(mCurrentUser,homePackageName);
  }
  mStartingUsers.add(uss);
  boolean haveActivities=false;
  for (int stackNdx=mStacks.size() - 1; stackNdx >= 0; --stackNdx) {
    haveActivities|=mStacks.get(stackNdx).switchUserLocked(userId);
  }
  resumeTopActivitiesLocked();
  return haveActivities;
}
