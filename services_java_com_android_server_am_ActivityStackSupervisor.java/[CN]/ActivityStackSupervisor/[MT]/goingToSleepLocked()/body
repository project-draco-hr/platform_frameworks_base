{
  scheduleSleepTimeout();
  if (!mGoingToSleep.isHeld()) {
    mGoingToSleep.acquire();
    for (int stackNdx=mStacks.size() - 1; stackNdx >= 0; --stackNdx) {
      final ActivityStack stack=mStacks.get(stackNdx);
      if (stack.mResumedActivity != null) {
        stack.stopIfSleepingLocked();
      }
    }
  }
}
