{
  for (int stackNdx=mStacks.size() - 1; stackNdx >= 0; --stackNdx) {
    final ActivityStack stack=mStacks.get(stackNdx);
    final ActivityRecord r=stack.topRunningActivityLocked(null);
    if (isFrontStack(stack)) {
      if (r == null) {
        Slog.e(TAG,"validateTop...: null top activity, stack=" + stack);
      }
 else {
        if (stack.mPausingActivity != null) {
          Slog.e(TAG,"validateTop...: top stack has pausing activity r=" + r + " state="+ r.state);
        }
        if (r.state != ActivityState.INITIALIZING && r.state != ActivityState.RESUMED) {
          Slog.e(TAG,"validateTop...: activity in front not resumed r=" + r + " state="+ r.state);
        }
      }
    }
 else {
      if (stack.mResumedActivity != null) {
        Slog.e(TAG,"validateTop...: back stack has resumed activity r=" + r + " state="+ r.state);
      }
      if (r != null && (r.state == ActivityState.INITIALIZING || r.state == ActivityState.RESUMED)) {
        Slog.e(TAG,"validateTop...: activity in back resumed r=" + r + " state="+ r.state);
      }
    }
  }
}
