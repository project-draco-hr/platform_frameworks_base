{
  removeSleepTimeouts();
  if (mGoingToSleep.isHeld()) {
    mGoingToSleep.release();
  }
  for (int stackNdx=mStacks.size() - 1; stackNdx >= 0; --stackNdx) {
    final ActivityStack stack=mStacks.get(stackNdx);
    stack.awakeFromSleepingLocked();
    if (isFrontStack(stack)) {
      resumeTopActivitiesLocked();
    }
  }
  mGoingToSleepActivities.clear();
}
