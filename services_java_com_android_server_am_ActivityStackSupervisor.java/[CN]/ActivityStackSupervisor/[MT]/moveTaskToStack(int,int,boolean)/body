{
  final TaskRecord task=anyTaskForIdLocked(taskId);
  if (task == null) {
    return;
  }
  final ActivityStack stack=getStack(stackId);
  if (stack == null) {
    Slog.w(TAG,"moveTaskToStack: no stack for id=" + stackId);
    return;
  }
  removeTask(task);
  stack.addTask(task,toTop);
  if (toTop) {
    moveHomeStack(stack.isHomeStack());
    setFocusedStack(task.getTopActivity());
  }
  mWindowManager.addTask(taskId,stackId,toTop);
  resumeTopActivitiesLocked();
}
