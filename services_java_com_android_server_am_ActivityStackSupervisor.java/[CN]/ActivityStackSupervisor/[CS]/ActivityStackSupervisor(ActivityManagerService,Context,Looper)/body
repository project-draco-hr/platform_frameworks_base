{
  mService=service;
  mContext=context;
  mLooper=looper;
  PowerManager pm=(PowerManager)context.getSystemService(Context.POWER_SERVICE);
  mGoingToSleep=pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,"ActivityManager-Sleep");
  mHandler=new ActivityStackSupervisorHandler(looper);
  if (VALIDATE_WAKE_LOCK_CALLER && Binder.getCallingUid() != Process.myUid()) {
    throw new IllegalStateException("Calling must be system uid");
  }
  mLaunchingActivity=pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,"ActivityManager-Launch");
  mLaunchingActivity.setReferenceCounted(false);
}
