{
synchronized (mFileLock) {
    AtomicFile file=getFile();
    BufferedInputStream in=null;
    try {
      in=new BufferedInputStream(file.openRead());
      StringBuffer sb=new StringBuffer();
      String firstLine=readLine(in,sb);
      if (firstLine.equals(USAGE_FILE_MAGIC_VERSION_1)) {
        readVersion1LP(in,sb);
      }
 else {
        readVersion0LP(in,sb,firstLine);
      }
    }
 catch (    FileNotFoundException expected) {
      mIsHistoricalPackageUsageAvailable=false;
    }
catch (    IOException e) {
      Log.w(TAG,"Failed to read package usage times",e);
    }
 finally {
      IoUtils.closeQuietly(in);
    }
  }
  mLastWritten.set(SystemClock.elapsedRealtime());
}
