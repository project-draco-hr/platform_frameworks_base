{
  if (!(filter.hasDataScheme(IntentFilter.SCHEME_HTTP) || filter.hasDataScheme(IntentFilter.SCHEME_HTTPS))) {
    Slog.d(TAG,"IntentFilter does not contain HTTP nor HTTPS data scheme");
    return false;
  }
  IntentFilterVerificationState ivs=mIntentFilterVerificationStates.get(verificationId);
  if (ivs == null) {
    ivs=createDomainVerificationState(verifierId,userId,verificationId,packageName);
  }
  ArrayList<String> hosts=filter.getHostsList();
  if (!hasValidHosts(hosts)) {
    return false;
  }
  ivs.addFilter(filter);
  return true;
}
