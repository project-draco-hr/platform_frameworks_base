{
  int count=mCurrentIntentFilterVerifications.size();
  for (int n=0; n < count; n++) {
    int verificationId=mCurrentIntentFilterVerifications.get(n);
    final IntentFilterVerificationState ivs=mIntentFilterVerificationStates.get(verificationId);
    String packageName=ivs.getPackageName();
    boolean modified=false;
    ArrayList<PackageParser.ActivityIntentInfo> filters=ivs.getFilters();
    final int filterCount=filters.size();
    for (int m=0; m < filterCount; m++) {
      PackageParser.ActivityIntentInfo filter=filters.get(m);
synchronized (mPackages) {
        modified=mSettings.createIntentFilterVerificationIfNeededLPw(packageName,filter.getHosts());
      }
    }
synchronized (mPackages) {
      if (modified) {
        scheduleWriteSettingsLocked();
      }
    }
    sendVerificationRequest(userId,verificationId,ivs);
  }
  mCurrentIntentFilterVerifications.clear();
}
