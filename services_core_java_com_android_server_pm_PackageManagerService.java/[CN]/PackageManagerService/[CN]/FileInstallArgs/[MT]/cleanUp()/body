{
  boolean ret=true;
  String sourceDir=getCodePath();
  String publicSourceDir=getResourcePath();
  if (sourceDir != null) {
    File sourceFile=new File(sourceDir);
    if (!sourceFile.exists()) {
      Slog.w(TAG,"Package source " + sourceDir + " does not exist.");
      ret=false;
    }
    sourceFile.delete();
  }
  if (publicSourceDir != null && !publicSourceDir.equals(sourceDir)) {
    final File publicSourceFile=new File(publicSourceDir);
    if (!publicSourceFile.exists()) {
      Slog.w(TAG,"Package public source " + publicSourceFile + " does not exist.");
    }
    if (publicSourceFile.exists()) {
      publicSourceFile.delete();
    }
  }
  if (libraryPath != null) {
    File nativeLibraryFile=new File(libraryPath);
    NativeLibraryHelper.removeNativeBinariesFromDirLI(nativeLibraryFile);
    if (!nativeLibraryFile.delete()) {
      Slog.w(TAG,"Couldn't delete native library directory " + libraryPath);
    }
  }
  return ret;
}
