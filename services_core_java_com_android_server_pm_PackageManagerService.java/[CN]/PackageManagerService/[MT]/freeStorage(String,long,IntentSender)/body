{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.CLEAR_APP_CACHE,null);
  mHandler.post(new Runnable(){
    public void run(){
      mHandler.removeCallbacks(this);
      boolean success=true;
synchronized (mInstallLock) {
        try {
          mInstaller.freeCache(volumeUuid,freeStorageSize);
        }
 catch (        InstallerException e) {
          Slog.w(TAG,"Couldn't clear application caches: " + e);
          success=false;
        }
      }
      if (pi != null) {
        try {
          int code=success ? 1 : 0;
          pi.sendIntent(null,code,null,null,null);
        }
 catch (        SendIntentException e1) {
          Slog.i(TAG,"Failed to send pending intent");
        }
      }
    }
  }
);
}
