{
  if (!sUserManager.exists(userId))   return null;
  enforceCrossUserPermission(Binder.getCallingUid(),userId,false,false,"resolve intent");
  List<ResolveInfo> query=queryIntentActivities(intent,resolvedType,flags,userId);
  return chooseBestActivity(intent,resolvedType,flags,query,userId);
}
