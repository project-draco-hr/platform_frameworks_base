{
  if (DEBUG_INSTALL) {
    if (chatty)     Log.d(TAG,"Removing package " + ps.name);
  }
synchronized (mPackages) {
    mPackages.remove(ps.name);
    if (ps.codePathString != null) {
      mAppDirs.remove(ps.codePathString);
    }
    final PackageParser.Package pkg=ps.pkg;
    if (pkg != null) {
      cleanPackageDataStructuresLILPw(pkg,chatty);
    }
  }
}
