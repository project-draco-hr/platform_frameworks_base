{
  final String apkRoot=calculateApkRoot(pkg.applicationInfo.sourceDir);
  final String apkName=getApkName(pkg.applicationInfo.sourceDir);
  final File lib64=new File(apkRoot,new File(LIB64_DIR_NAME,apkName).getPath());
  final File lib=new File(apkRoot,new File(LIB_DIR_NAME,apkName).getPath());
  if (lib64.exists()) {
    pkg.applicationInfo.requiredCpuAbi=Build.SUPPORTED_64_BIT_ABIS[0];
    pkgSetting.requiredCpuAbiString=Build.SUPPORTED_64_BIT_ABIS[0];
  }
 else   if (lib.exists()) {
    pkg.applicationInfo.requiredCpuAbi=Build.SUPPORTED_32_BIT_ABIS[0];
    pkgSetting.requiredCpuAbiString=Build.SUPPORTED_32_BIT_ABIS[0];
  }
 else {
    pkg.applicationInfo.requiredCpuAbi=null;
    pkgSetting.requiredCpuAbiString=null;
  }
}
