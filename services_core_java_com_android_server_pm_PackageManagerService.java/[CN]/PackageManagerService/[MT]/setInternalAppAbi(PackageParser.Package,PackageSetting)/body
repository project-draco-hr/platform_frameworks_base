{
  final String apkRoot=calculateApkRoot(pkg.applicationInfo.getCodePath());
  final String apkName=deriveCodePathName(pkg.applicationInfo.getCodePath());
  final File lib64=new File(apkRoot,new File(LIB64_DIR_NAME,apkName).getPath());
  final File lib=new File(apkRoot,new File(LIB_DIR_NAME,apkName).getPath());
  if (lib64.exists()) {
    pkg.applicationInfo.cpuAbi=Build.SUPPORTED_64_BIT_ABIS[0];
    pkgSetting.cpuAbiString=Build.SUPPORTED_64_BIT_ABIS[0];
  }
 else   if (lib.exists()) {
    pkg.applicationInfo.cpuAbi=Build.SUPPORTED_32_BIT_ABIS[0];
    pkgSetting.cpuAbiString=Build.SUPPORTED_32_BIT_ABIS[0];
  }
 else {
    pkg.applicationInfo.cpuAbi=null;
    pkgSetting.cpuAbiString=null;
  }
}
