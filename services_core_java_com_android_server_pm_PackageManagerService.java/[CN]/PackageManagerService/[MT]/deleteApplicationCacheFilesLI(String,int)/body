{
  if (packageName == null) {
    Slog.w(TAG,"Attempt to delete null packageName.");
    return false;
  }
  PackageParser.Package p;
synchronized (mPackages) {
    p=mPackages.get(packageName);
  }
  if (p == null) {
    Slog.w(TAG,"Package named '" + packageName + "' doesn't exist.");
    return false;
  }
  final ApplicationInfo applicationInfo=p.applicationInfo;
  if (applicationInfo == null) {
    Slog.w(TAG,"Package " + packageName + " has no applicationInfo.");
    return false;
  }
  final int flags=StorageManager.FLAG_STORAGE_CE | StorageManager.FLAG_STORAGE_DE;
  try {
    mInstaller.clearAppData(p.volumeUuid,packageName,userId,flags | Installer.FLAG_CLEAR_CACHE_ONLY);
  }
 catch (  InstallerException e) {
    Slog.w(TAG,"Couldn't remove cache files for package " + packageName + " u"+ userId,e);
    return false;
  }
  return true;
}
