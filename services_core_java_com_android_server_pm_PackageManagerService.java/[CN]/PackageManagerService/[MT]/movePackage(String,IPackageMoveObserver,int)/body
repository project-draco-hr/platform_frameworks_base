{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.MOVE_PACKAGE,null);
  final int installFlags;
  if ((flags & MOVE_INTERNAL) != 0) {
    installFlags=INSTALL_INTERNAL;
  }
 else   if ((flags & MOVE_EXTERNAL_MEDIA) != 0) {
    installFlags=INSTALL_EXTERNAL;
  }
 else {
    throw new IllegalArgumentException("Unsupported move flags " + flags);
  }
  try {
    movePackageInternal(packageName,null,installFlags,false,observer);
  }
 catch (  PackageManagerException e) {
    Slog.d(TAG,"Failed to move " + packageName,e);
    try {
      observer.packageMoved(packageName,e.error);
    }
 catch (    RemoteException ignored) {
    }
  }
}
