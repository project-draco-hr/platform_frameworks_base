{
  if (!sUserManager.hasUserRestriction(UserManager.ALLOW_PARENT_PROFILE_APP_LINKING,sourceUserId)) {
    return null;
  }
  List<ResolveInfo> resultTargetUser=mActivities.queryIntent(intent,resolvedType,flags,parentUserId);
  if (resultTargetUser == null || resultTargetUser.isEmpty()) {
    return null;
  }
  CrossProfileDomainInfo result=null;
  int size=resultTargetUser.size();
  for (int i=0; i < size; i++) {
    ResolveInfo riTargetUser=resultTargetUser.get(i);
    if (riTargetUser.handleAllWebDataURI) {
      continue;
    }
    String packageName=riTargetUser.activityInfo.packageName;
    PackageSetting ps=mSettings.mPackages.get(packageName);
    if (ps == null) {
      continue;
    }
    long verificationState=getDomainVerificationStatusLPr(ps,parentUserId);
    int status=(int)(verificationState >> 32);
    if (result == null) {
      result=new CrossProfileDomainInfo();
      result.resolveInfo=createForwardingResolveInfo(null,sourceUserId,parentUserId);
      result.bestDomainVerificationStatus=status;
    }
 else {
      result.bestDomainVerificationStatus=bestDomainVerificationStatus(status,result.bestDomainVerificationStatus);
    }
  }
  if (result != null && result.bestDomainVerificationStatus == INTENT_FILTER_DOMAIN_VERIFICATION_STATUS_NEVER) {
    return null;
  }
  return result;
}
