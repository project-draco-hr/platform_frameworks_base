{
  createNativeLibrarySubdir(nativeLibraryRoot);
  int abi=NativeLibraryHelper.findSupportedAbi(handle,abiList);
  if (abi >= 0) {
    final String instructionSet=VMRuntime.getInstructionSet(abiList[abi]);
    final File subDir;
    if (useIsaSubdir) {
      final File isaSubdir=new File(nativeLibraryRoot,instructionSet);
      createNativeLibrarySubdir(isaSubdir);
      subDir=isaSubdir;
    }
 else {
      subDir=nativeLibraryRoot;
    }
    int copyRet=NativeLibraryHelper.copyNativeBinariesIfNeededLI(handle,subDir,abiList[abi]);
    if (copyRet != PackageManager.INSTALL_SUCCEEDED) {
      return copyRet;
    }
  }
  return abi;
}
