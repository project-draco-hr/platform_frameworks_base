{
  ArraySet<String> pkgs=new ArraySet<String>();
synchronized (mPackages) {
    for (    PackageParser.Package p : mPackages.values()) {
      if (PackageDexOptimizer.canOptimizePackage(p)) {
        pkgs.add(p.packageName);
      }
    }
  }
  return pkgs;
}
