{
  final int flags=StorageManager.FLAG_STORAGE_CE | StorageManager.FLAG_STORAGE_DE;
  int[] users=sUserManager.getUserIds();
  int res=0;
  for (  int user : users) {
    try {
      mInstaller.clearAppData(pkg.volumeUuid,pkg.packageName,user,flags | Installer.FLAG_CLEAR_CODE_CACHE_ONLY);
    }
 catch (    InstallerException e) {
      Slog.w(TAG,"Failed to delete code cache directory",e);
    }
    final int childCount=(pkg.childPackages != null) ? pkg.childPackages.size() : 0;
    for (int i=0; i < childCount; i++) {
      PackageParser.Package childPkg=pkg.childPackages.get(i);
      try {
        mInstaller.clearAppData(childPkg.volumeUuid,childPkg.packageName,user,flags | Installer.FLAG_CLEAR_CODE_CACHE_ONLY);
      }
 catch (      InstallerException e) {
        Slog.w(TAG,"Failed to delete code cache directory",e);
      }
    }
  }
}
