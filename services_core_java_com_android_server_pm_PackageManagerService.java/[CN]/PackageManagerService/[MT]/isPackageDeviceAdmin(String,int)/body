{
  IDevicePolicyManager dpm=IDevicePolicyManager.Stub.asInterface(ServiceManager.getService(Context.DEVICE_POLICY_SERVICE));
  try {
    if (dpm != null) {
      final ComponentName deviceOwnerComponentName=dpm.getDeviceOwnerComponent(false);
      final String deviceOwnerPackageName=deviceOwnerComponentName == null ? null : deviceOwnerComponentName.getPackageName();
      if (packageName.equals(deviceOwnerPackageName)) {
        return true;
      }
      int[] users;
      if (userId == UserHandle.USER_ALL) {
        users=sUserManager.getUserIds();
      }
 else {
        users=new int[]{userId};
      }
      for (int i=0; i < users.length; ++i) {
        if (dpm.packageHasActiveAdmins(packageName,users[i])) {
          return true;
        }
      }
    }
  }
 catch (  RemoteException e) {
  }
  return false;
}
