{
  if (DEBUG_INSTALL) {
    if (chatty)     Log.d(TAG,"Removing package " + pkg.applicationInfo.packageName);
  }
synchronized (mPackages) {
    mPackages.remove(pkg.applicationInfo.packageName);
    cleanPackageDataStructuresLILPw(pkg,chatty);
    final int childCount=(pkg.childPackages != null) ? pkg.childPackages.size() : 0;
    for (int i=0; i < childCount; i++) {
      PackageParser.Package childPkg=pkg.childPackages.get(i);
      mPackages.remove(childPkg.applicationInfo.packageName);
      cleanPackageDataStructuresLILPw(childPkg,chatty);
    }
  }
}
