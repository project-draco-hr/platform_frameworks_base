{
  if (p.usesLibraries != null || p.usesOptionalLibraries != null) {
    ArrayList<PackageParser.Package> retValue=new ArrayList<>();
    Set<String> collectedNames=new HashSet<>();
    findSharedNonSystemLibrariesRecursive(p,retValue,collectedNames);
    retValue.remove(p);
    return retValue;
  }
 else {
    return Collections.emptyList();
  }
}
