{
  ResolveInfo forwardingResolveInfo=new ResolveInfo();
  long ident=Binder.clearCallingIdentity();
  boolean targetIsProfile;
  try {
    targetIsProfile=sUserManager.getUserInfo(targetUserId).isManagedProfile();
  }
  finally {
    Binder.restoreCallingIdentity(ident);
  }
  String className;
  if (targetIsProfile) {
    className=FORWARD_INTENT_TO_MANAGED_PROFILE;
  }
 else {
    className=FORWARD_INTENT_TO_PARENT;
  }
  ComponentName forwardingActivityComponentName=new ComponentName(mAndroidApplication.packageName,className);
  ActivityInfo forwardingActivityInfo=getActivityInfo(forwardingActivityComponentName,0,sourceUserId);
  if (!targetIsProfile) {
    forwardingActivityInfo.showUserIcon=targetUserId;
    forwardingResolveInfo.noResourceId=true;
  }
  forwardingResolveInfo.activityInfo=forwardingActivityInfo;
  forwardingResolveInfo.priority=0;
  forwardingResolveInfo.preferredOrder=0;
  forwardingResolveInfo.match=0;
  forwardingResolveInfo.isDefault=true;
  forwardingResolveInfo.filter=filter;
  forwardingResolveInfo.targetUserId=targetUserId;
  return forwardingResolveInfo;
}
