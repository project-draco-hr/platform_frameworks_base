{
  if (file.path != null) {
    mTmpSharedLibraries[num]=file.path;
    return num + 1;
  }
  PackageParser.Package p=mPackages.get(file.apk);
  if (changingLib != null && changingLib.packageName.equals(file.apk)) {
    if (p == null || p.packageName.equals(changingLib.packageName)) {
      p=changingLib;
    }
  }
  if (p != null) {
    String path=p.mPath;
    for (int i=0; i < num; i++) {
      if (mTmpSharedLibraries[i].equals(path)) {
        return num;
      }
    }
    mTmpSharedLibraries[num]=p.mPath;
    return num + 1;
  }
  return num;
}
