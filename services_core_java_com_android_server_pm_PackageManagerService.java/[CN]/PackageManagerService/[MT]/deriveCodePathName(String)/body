{
  if (codePath == null) {
    return null;
  }
  final File codeFile=new File(codePath);
  final String name=codeFile.getName();
  if (codeFile.isDirectory()) {
    return name;
  }
 else   if (name.endsWith(".apk") || name.endsWith(".tmp")) {
    final int lastDot=name.lastIndexOf('.');
    return name.substring(0,lastDot);
  }
 else {
    Slog.w(TAG,"Odd, " + codePath + " doesn't look like an APK");
    return null;
  }
}
