{
synchronized (mPackages) {
    if (group != null && !mPermissionGroups.containsKey(group)) {
      return null;
    }
    ArrayList<PermissionInfo> out=new ArrayList<PermissionInfo>(10);
    for (    BasePermission p : mSettings.mPermissions.values()) {
      if (group == null) {
        if (p.perm == null || p.perm.info.group == null) {
          out.add(generatePermissionInfo(p,flags));
        }
      }
 else {
        if (p.perm != null && group.equals(p.perm.info.group)) {
          out.add(PackageParser.generatePermissionInfo(p.perm,flags));
        }
      }
    }
    return new ParceledListSlice<>(out);
  }
}
