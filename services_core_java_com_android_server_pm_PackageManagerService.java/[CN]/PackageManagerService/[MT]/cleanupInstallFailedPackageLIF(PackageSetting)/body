{
  logCriticalInfo(Log.WARN,"Cleaning up incompletely installed app: " + ps.name);
  removeDataDirsLIF(ps.volumeUuid,ps.name);
  if (ps.codePath != null) {
    removeCodePathLI(ps.codePath);
  }
  if (ps.resourcePath != null && !ps.resourcePath.equals(ps.codePath)) {
    if (ps.resourcePath.isDirectory()) {
      FileUtils.deleteContents(ps.resourcePath);
    }
    ps.resourcePath.delete();
  }
synchronized (mPackages) {
    mSettings.removePackageLPw(ps.name);
  }
}
