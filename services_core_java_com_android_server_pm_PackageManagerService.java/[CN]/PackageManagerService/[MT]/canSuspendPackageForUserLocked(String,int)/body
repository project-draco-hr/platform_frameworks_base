{
  if (isPackageDeviceAdmin(packageName,userId)) {
    Slog.w(TAG,"Not suspending/un-suspending package \"" + packageName + "\": has active device admin");
    return false;
  }
  String activeLauncherPackageName=getActiveLauncherPackageName(userId);
  if (packageName.equals(activeLauncherPackageName)) {
    Slog.w(TAG,"Not suspending/un-suspending package \"" + packageName + "\" because it is set as the active launcher");
    return false;
  }
  final PackageParser.Package pkg=mPackages.get(packageName);
  if (pkg != null && isPrivilegedApp(pkg)) {
    Slog.w(TAG,"Not suspending/un-suspending package \"" + packageName + "\" because it is a privileged app");
    return false;
  }
  return true;
}
