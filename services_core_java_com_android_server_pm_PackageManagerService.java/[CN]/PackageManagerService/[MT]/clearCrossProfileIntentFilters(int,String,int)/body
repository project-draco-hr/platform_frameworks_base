{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.INTERACT_ACROSS_USERS_FULL,null);
  int callingUid=Binder.getCallingUid();
  enforceOwnerRights(ownerPackage,ownerUserId,callingUid);
  enforceShellRestriction(UserManager.DISALLOW_DEBUGGING_FEATURES,callingUid,sourceUserId);
  int callingUserId=UserHandle.getUserId(callingUid);
synchronized (mPackages) {
    CrossProfileIntentResolver resolver=mSettings.editCrossProfileIntentResolverLPw(sourceUserId);
    HashSet<CrossProfileIntentFilter> set=new HashSet<CrossProfileIntentFilter>(resolver.filterSet());
    for (    CrossProfileIntentFilter filter : set) {
      if (filter.getOwnerPackage().equals(ownerPackage) && filter.getOwnerUserId() == callingUserId) {
        resolver.removeFilter(filter);
      }
    }
    mSettings.writePackageRestrictionsLPr(sourceUserId);
  }
}
