{
  SettingBase sb=(SettingBase)pkg.mExtras;
  if (sb == null) {
    return;
  }
synchronized (mPackages) {
    for (    String permission : pkg.requestedPermissions) {
      BasePermission bp=mSettings.mPermissions.get(permission);
      if (bp != null && (bp.isRuntime() || bp.isDevelopment()) && (grantedPermissions == null || ArrayUtils.contains(grantedPermissions,permission))) {
        grantRuntimePermission(pkg.packageName,permission,userId);
      }
    }
  }
}
