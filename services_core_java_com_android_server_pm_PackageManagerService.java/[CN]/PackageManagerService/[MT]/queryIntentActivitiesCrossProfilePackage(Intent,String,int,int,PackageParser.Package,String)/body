{
  ArrayList<ResolveInfo> matchingResolveInfos=new ArrayList<ResolveInfo>();
  SparseArray<ArrayList<String>> sourceForwardingInfo=mSettings.mCrossProfilePackageInfo.get(userId);
  if (sourceForwardingInfo != null) {
    int NI=sourceForwardingInfo.size();
    for (int i=0; i < NI; i++) {
      int targetUserId=sourceForwardingInfo.keyAt(i);
      if (sourceForwardingInfo.valueAt(i).contains(packageName)) {
        List<ResolveInfo> resolveInfos=mActivities.queryIntentForPackage(intent,resolvedType,flags,pkg.activities,targetUserId);
        int NJ=resolveInfos.size();
        for (int j=0; j < NJ; j++) {
          ResolveInfo resolveInfo=resolveInfos.get(j);
          matchingResolveInfos.add(createForwardingResolveInfo(resolveInfo.filter,userId,targetUserId));
        }
      }
    }
  }
  return matchingResolveInfos;
}
