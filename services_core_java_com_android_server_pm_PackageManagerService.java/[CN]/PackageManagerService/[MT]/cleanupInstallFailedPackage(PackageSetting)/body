{
  logCriticalInfo(Log.WARN,"Cleaning up incompletely installed app: " + ps.name);
  removeDataDirsLI(ps.name);
  if (ps.codePath != null) {
    if (ps.codePath.isDirectory()) {
      mInstaller.rmPackageDir(ps.codePath.getAbsolutePath());
    }
 else {
      ps.codePath.delete();
    }
  }
  if (ps.resourcePath != null && !ps.resourcePath.equals(ps.codePath)) {
    if (ps.resourcePath.isDirectory()) {
      FileUtils.deleteContents(ps.resourcePath);
    }
    ps.resourcePath.delete();
  }
  mSettings.removePackageLPw(ps.name);
}
