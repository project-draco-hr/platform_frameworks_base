{
  if (DEBUG_DEXOPT) {
    Log.i(TAG,"Optimizing app " + curr + " of "+ total+ ": "+ pkg.packageName);
  }
  if (!isFirstBoot()) {
    try {
      ActivityManagerNative.getDefault().showBootMessage(mContext.getResources().getString(R.string.android_upgrading_apk,curr,total),true);
    }
 catch (    RemoteException e) {
    }
  }
  PackageParser.Package p=pkg;
synchronized (mInstallLock) {
    mPackageDexOptimizer.performDexOpt(p,null,false,false,true,false);
  }
}
