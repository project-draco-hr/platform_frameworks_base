{
  if (DEBUG_RC)   Log.d(TAG,"<<< unregisterRemoteControlDisplay(" + rcd + ")");
synchronized (mRCStack) {
    if (rcd == null) {
      return;
    }
    boolean displayWasPluggedIn=false;
    final Iterator<DisplayInfoForServer> displayIterator=mRcDisplays.iterator();
    while (displayIterator.hasNext() && !displayWasPluggedIn) {
      final DisplayInfoForServer di=(DisplayInfoForServer)displayIterator.next();
      if (di.mRcDisplay.asBinder().equals(rcd.asBinder())) {
        displayWasPluggedIn=true;
        di.release();
        displayIterator.remove();
      }
    }
    if (displayWasPluggedIn) {
      final Iterator<RemoteControlStackEntry> stackIterator=mRCStack.iterator();
      while (stackIterator.hasNext()) {
        final RemoteControlStackEntry rcse=stackIterator.next();
        if (rcse.mRcClient != null) {
          try {
            rcse.mRcClient.unplugRemoteControlDisplay(rcd);
          }
 catch (          RemoteException e) {
            Log.e(TAG,"Error disconnecting remote control display to client: ",e);
          }
        }
      }
    }
 else {
      if (DEBUG_RC)       Log.w(TAG,"  trying to unregister unregistered RCD");
    }
  }
}
