{
  Comparator<Size> comparator=new SizeComparator();
  Size[] sizes=getSupportedSizeForFormat(format,cameraId,cameraManager);
  List<Size> sortedSizes=null;
  if (bound != null) {
    sortedSizes=new ArrayList<Size>(1);
    for (    Size sz : sizes) {
      if (comparator.compare(sz,bound) <= 0) {
        sortedSizes.add(sz);
      }
    }
  }
 else {
    sortedSizes=Arrays.asList(sizes);
  }
  assertTrue("Supported size list should have at least one element",sortedSizes.size() > 0);
  Collections.sort(sortedSizes,comparator);
  Collections.reverse(sortedSizes);
  return sortedSizes;
}
