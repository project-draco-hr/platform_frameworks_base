{
  int format=image.getFormat();
  Plane[] planes=image.getPlanes();
switch (format) {
case ImageFormat.YUV_420_888:
case ImageFormat.NV21:
case ImageFormat.YV12:
    assertEquals("YUV420 format Images should have 3 planes",3,planes.length);
  break;
case ImageFormat.JPEG:
case ImageFormat.RAW_SENSOR:
case ImageFormat.RAW_PRIVATE:
case ImageFormat.DEPTH16:
case ImageFormat.DEPTH_POINT_CLOUD:
assertEquals("JPEG/RAW/depth Images should have one plane",1,planes.length);
break;
default :
fail("Unsupported Image Format: " + format);
}
}
