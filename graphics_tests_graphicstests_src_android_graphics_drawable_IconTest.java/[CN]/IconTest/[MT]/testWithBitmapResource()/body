{
  final Bitmap res1=((BitmapDrawable)getContext().getDrawable(R.drawable.landscape)).getBitmap();
  final Icon im1=Icon.createWithResource(getContext(),R.drawable.landscape);
  final Drawable draw1=im1.loadDrawable(mContext);
  final Bitmap test1=Bitmap.createBitmap(draw1.getIntrinsicWidth(),draw1.getIntrinsicHeight(),Bitmap.Config.ARGB_8888);
  draw1.setBounds(0,0,test1.getWidth(),test1.getHeight());
  draw1.draw(new Canvas(test1));
  final File dir=getContext().getExternalFilesDir(null);
  res1.compress(Bitmap.CompressFormat.PNG,100,new FileOutputStream(new File(dir,"res1-original.png")));
  test1.compress(Bitmap.CompressFormat.PNG,100,new FileOutputStream(new File(dir,"res1-test.png")));
  if (!equalBitmaps(res1,test1)) {
    findBitmapDifferences(res1,test1);
    fail("res1 differs, check " + dir);
  }
}
