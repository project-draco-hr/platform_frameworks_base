{
  super(context,attrs,defStyleAttr,defStyleRes);
  mDefaultGap=context.getResources().getDimensionPixelOffset(R.dimen.default_gap);
  final TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.GridLayout,defStyleAttr,defStyleRes);
  try {
    setRowCount(a.getInt(ROW_COUNT,DEFAULT_COUNT));
    setColumnCount(a.getInt(COLUMN_COUNT,DEFAULT_COUNT));
    setOrientation(a.getInt(ORIENTATION,DEFAULT_ORIENTATION));
    setUseDefaultMargins(a.getBoolean(USE_DEFAULT_MARGINS,DEFAULT_USE_DEFAULT_MARGINS));
    setAlignmentMode(a.getInt(ALIGNMENT_MODE,DEFAULT_ALIGNMENT_MODE));
    setRowOrderPreserved(a.getBoolean(ROW_ORDER_PRESERVED,DEFAULT_ORDER_PRESERVED));
    setColumnOrderPreserved(a.getBoolean(COLUMN_ORDER_PRESERVED,DEFAULT_ORDER_PRESERVED));
  }
  finally {
    a.recycle();
  }
}
