{
  super(context,attrs,defStyle);
  if (DEBUG) {
    setWillNotDraw(false);
  }
  mDefaultGap=context.getResources().getDimensionPixelOffset(R.dimen.default_gap);
  TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.GridLayout);
  try {
    setRowCount(a.getInt(ROW_COUNT,DEFAULT_COUNT));
    setColumnCount(a.getInt(COLUMN_COUNT,DEFAULT_COUNT));
    mOrientation=a.getInt(ORIENTATION,DEFAULT_ORIENTATION);
    mUseDefaultMargins=a.getBoolean(USE_DEFAULT_MARGINS,DEFAULT_USE_DEFAULT_MARGINS);
    mAlignmentMode=a.getInt(ALIGNMENT_MODE,DEFAULT_ALIGNMENT_MODE);
    setRowOrderPreserved(a.getBoolean(ROW_ORDER_PRESERVED,DEFAULT_ORDER_PRESERVED));
    setColumnOrderPreserved(a.getBoolean(COLUMN_ORDER_PRESERVED,DEFAULT_ORDER_PRESERVED));
  }
  finally {
    a.recycle();
  }
}
