{
  int N=getChildCount();
  Group[] groups=new Group[N];
  Bounds[] bounds=new Bounds[N];
  for (int i=0; i < N; i++) {
    LayoutParams lp=getLayoutParams(getChildAt(i));
    Group group=horizontal ? lp.columnGroup : lp.rowGroup;
    groups[i]=group;
    bounds[i]=new Bounds();
  }
  return new PackedMap<Group,Bounds>(groups,bounds);
}
