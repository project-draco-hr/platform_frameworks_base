{
  LayoutParams lp=new LayoutParams();
  for (int i=0; i < getChildCount(); i++) {
    View c=getChildAt(i);
    Insets insets=getLayoutMode() == OPTICAL_BOUNDS ? c.getOpticalInsets() : Insets.NONE;
    lp.setMargins(getMargin1(c,true,true) - insets.left,getMargin1(c,false,true) - insets.top,getMargin1(c,true,false) - insets.right,getMargin1(c,false,false) - insets.bottom);
    lp.onDebugDraw(c,canvas);
  }
}
