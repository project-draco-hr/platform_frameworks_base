{
  if (mDimAnimator == null) {
    mDimAnimator=new DimAnimator(mService.mFxSession);
  }
  final WindowStateAnimator dimWinAnimator=mDimParams == null ? null : mDimParams.mDimWinAnimator;
  if (winAnimator.mSurfaceShown && (dimWinAnimator == null || !dimWinAnimator.mSurfaceShown || dimWinAnimator.mAnimLayer < winAnimator.mAnimLayer)) {
    mService.mH.sendMessage(mService.mH.obtainMessage(SET_DIM_PARAMETERS,new DimAnimator.Parameters(winAnimator,width,height,target)));
  }
}
