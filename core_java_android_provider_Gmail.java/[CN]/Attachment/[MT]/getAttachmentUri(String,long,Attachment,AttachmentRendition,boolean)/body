{
  if (TextUtils.isEmpty(account)) {
    throw new IllegalArgumentException("account is empty");
  }
  if (attachment.origin == AttachmentOrigin.LOCAL_FILE) {
    return Uri.parse(attachment.originExtras);
  }
 else {
    return Uri.parse(AUTHORITY_PLUS_MESSAGES).buildUpon().appendPath(account).appendPath(Long.toString(messageId)).appendPath("attachments").appendPath(attachment.partId).appendPath(rendition.toString()).appendPath(Boolean.toString(saveToSd)).build();
  }
}
