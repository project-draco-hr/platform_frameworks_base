{
  boolean ret=WifiNative.disableNetworkCommand(netId);
  WifiConfiguration network=null;
synchronized (sConfiguredNetworks) {
    WifiConfiguration config=sConfiguredNetworks.get(netId);
    if (config != null && config.status != Status.DISABLED) {
      config.status=Status.DISABLED;
      config.disableReason=reason;
      network=config;
    }
  }
  if (network != null) {
    sendConfiguredNetworksChangedBroadcast(network,WifiManager.CHANGE_REASON_CONFIG_CHANGE);
  }
  return ret;
}
