{
  List<WifiConfiguration> networks=new ArrayList<WifiConfiguration>();
  for (  WifiConfiguration config : sConfiguredNetworks.values()) {
    networks.add(new WifiConfiguration(config));
  }
synchronized (sDiskWriteHandlerSync) {
    if (++sWriteSequence == 1) {
      sDiskWriteHandlerThread=new HandlerThread("WifiConfigThread");
      sDiskWriteHandlerThread.start();
      sDiskWriteHandler=new DiskWriteHandler(sDiskWriteHandlerThread.getLooper());
    }
  }
  sDiskWriteHandler.sendMessage(Message.obtain(sDiskWriteHandler,WRITE,networks));
}
