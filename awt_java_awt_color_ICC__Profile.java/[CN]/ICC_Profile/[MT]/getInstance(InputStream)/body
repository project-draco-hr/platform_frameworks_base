{
  byte[] header=new byte[headerSize];
  String invalidDataMessage=Messages.getString("awt.162");
  if (s.read(header) != headerSize) {
    throw new IllegalArgumentException(invalidDataMessage);
  }
  if (ICC_ProfileHelper.getBigEndianFromByteArray(header,icHdrMagic) != headerMagicNumber) {
    throw new IllegalArgumentException(invalidDataMessage);
  }
  int profileSize=ICC_ProfileHelper.getBigEndianFromByteArray(header,icHdrSize);
  byte[] profileData=new byte[profileSize];
  System.arraycopy(header,0,profileData,0,headerSize);
  if (s.read(profileData,headerSize,profileSize - headerSize) != profileSize - headerSize) {
    throw new IllegalArgumentException(invalidDataMessage);
  }
  return getInstance(profileData);
}
