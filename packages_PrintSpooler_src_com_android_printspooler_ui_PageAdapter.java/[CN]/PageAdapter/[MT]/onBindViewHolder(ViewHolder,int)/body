{
  if (DEBUG) {
    Log.i(LOG_TAG,"Binding holder: " + holder + " with id: "+ getItemId(position)+ " for position: "+ position);
  }
  final int pageCount=getItemCount();
  MyViewHolder myHolder=(MyViewHolder)holder;
  View page=holder.itemView;
  if (pageCount > 1) {
    page.setOnClickListener(mPageClickListener);
  }
 else {
    page.setOnClickListener(null);
  }
  page.setTag(holder);
  myHolder.mPageInAdapter=position;
  final int pageInDocument=computePageIndexInDocument(position);
  final int pageIndexInFile=computePageIndexInFile(pageInDocument);
  PageContentView content=(PageContentView)page.findViewById(R.id.page_content);
  LayoutParams params=content.getLayoutParams();
  params.width=mPageContentWidth;
  params.height=mPageContentHeight;
  PageContentProvider provider=content.getPageContentProvider();
  if (pageIndexInFile != INVALID_PAGE_INDEX) {
    if (DEBUG) {
      Log.i(LOG_TAG,"Binding provider:" + " pageIndexInAdapter: " + position + ", pageInDocument: "+ pageInDocument+ ", pageIndexInFile: "+ pageIndexInFile);
    }
    PageContentProvider boundProvider=mPageContentRepository.peekPageContentProvider(pageIndexInFile);
    if (boundProvider != null) {
      PageContentView owner=(PageContentView)boundProvider.getOwner();
      owner.init(null,mMediaSize,mMinMargins);
      mPageContentRepository.releasePageContentProvider(boundProvider);
    }
    provider=mPageContentRepository.acquirePageContentProvider(pageIndexInFile,content);
    mBoundPagesInAdapter.put(position,null);
  }
 else {
    onSelectedPageNotInFile(pageInDocument);
  }
  content.init(provider,mMediaSize,mMinMargins);
  View pageSelector=page.findViewById(R.id.page_selector);
  pageSelector.setTag(myHolder);
  if (pageCount > 1) {
    pageSelector.setOnClickListener(mPageClickListener);
    pageSelector.setVisibility(View.VISIBLE);
  }
 else {
    pageSelector.setOnClickListener(null);
    pageSelector.setVisibility(View.GONE);
  }
  if (mConfirmedPagesInDocument.indexOfKey(pageInDocument) >= 0) {
    pageSelector.setSelected(true);
    page.setTranslationZ(mSelectedPageElevation);
    page.setAlpha(mSelectedPageAlpha);
  }
 else {
    pageSelector.setSelected(false);
    page.setTranslationZ(mUnselectedPageElevation);
    page.setAlpha(mUnselectedPageAlpha);
  }
  TextView pageNumberView=(TextView)page.findViewById(R.id.page_number);
  String text=mContext.getString(R.string.current_page_template,pageInDocument + 1,mDocumentPageCount);
  pageNumberView.setText(text);
}
