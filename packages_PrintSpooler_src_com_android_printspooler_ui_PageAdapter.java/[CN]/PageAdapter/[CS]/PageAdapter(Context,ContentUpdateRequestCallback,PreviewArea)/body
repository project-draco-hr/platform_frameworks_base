{
  mContext=context;
  mContentUpdateRequestCallback=updateRequestCallback;
  mLayoutInflater=(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  mPageContentRepository=new PageContentRepository(context);
  mSelectedPageElevation=mContext.getResources().getDimension(R.dimen.selected_page_elevation);
  mUnselectedPageElevation=mContext.getResources().getDimension(R.dimen.unselected_page_elevation);
  mPreviewPageMargin=mContext.getResources().getDimensionPixelSize(R.dimen.preview_page_margin);
  mPreviewListPadding=mContext.getResources().getDimensionPixelSize(R.dimen.preview_list_padding);
  mColumnCount=mContext.getResources().getInteger(R.integer.preview_page_per_row_count);
  TypedValue outValue=new TypedValue();
  mContext.getTheme().resolveAttribute(com.android.internal.R.attr.listPreferredItemHeightSmall,outValue,true);
  mFooterHeight=TypedValue.complexToDimensionPixelSize(outValue.data,mContext.getResources().getDisplayMetrics());
  mPreviewArea=previewArea;
  mCloseGuard.open("destroy");
  setHasStableIds(true);
  mState=STATE_CLOSED;
  if (DEBUG) {
    Log.i(LOG_TAG,"STATE_CLOSED");
  }
}
