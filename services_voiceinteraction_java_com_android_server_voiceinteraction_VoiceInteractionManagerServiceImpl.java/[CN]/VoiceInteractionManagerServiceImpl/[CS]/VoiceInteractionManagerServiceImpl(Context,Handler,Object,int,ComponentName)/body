{
  mContext=context;
  mHandler=handler;
  mLock=lock;
  mUser=userHandle;
  mComponent=service;
  mAm=ActivityManagerNative.getDefault();
  VoiceInteractionServiceInfo info;
  try {
    info=new VoiceInteractionServiceInfo(context.getPackageManager(),service);
  }
 catch (  PackageManager.NameNotFoundException e) {
    Slog.w(TAG,"Voice interaction service not found: " + service);
    mInfo=null;
    mSessionComponentName=null;
    mValid=false;
    return;
  }
  mInfo=info;
  if (mInfo.getParseError() != null) {
    Slog.w(TAG,"Bad voice interaction service: " + mInfo.getParseError());
    mSessionComponentName=null;
    mValid=false;
    return;
  }
  mValid=true;
  mSessionComponentName=new ComponentName(service.getPackageName(),mInfo.getSessionService());
}
