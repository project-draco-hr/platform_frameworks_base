{
  if (mActiveSession != null) {
    mActiveSession.cancelLocked(false);
    mActiveSession=null;
  }
  try {
    if (mService != null) {
      mService.shutdown();
    }
  }
 catch (  RemoteException e) {
    Slog.w(TAG,"RemoteException in shutdown",e);
  }
  if (mBound) {
    mContext.unbindService(mConnection);
    mBound=false;
  }
  if (mValid) {
    mContext.unregisterReceiver(mBroadcastReceiver);
  }
}
