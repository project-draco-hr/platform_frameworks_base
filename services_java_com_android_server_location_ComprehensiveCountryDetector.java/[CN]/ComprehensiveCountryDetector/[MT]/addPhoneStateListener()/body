{
  if (mPhoneStateListener == null && mPhoneType == TelephonyManager.PHONE_TYPE_GSM) {
    mLastState=null;
    mPhoneStateListener=new PhoneStateListener(){
      @Override public void onServiceStateChanged(      ServiceState serviceState){
        Slog.d(TAG,"onServiceStateChanged");
        if (mLastState == null || mLastState.getState() != serviceState.getState()) {
          detectCountry(true,true);
          mLastState=new ServiceState(serviceState);
        }
      }
    }
;
    mTelephonyManager.listen(mPhoneStateListener,PhoneStateListener.LISTEN_SERVICE_STATE);
  }
}
