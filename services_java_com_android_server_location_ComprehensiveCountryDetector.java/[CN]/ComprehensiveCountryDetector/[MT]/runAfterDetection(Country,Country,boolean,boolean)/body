{
  if (notifyChange) {
    notifyIfCountryChanged(country,detectedCountry);
  }
  if (DEBUG) {
    Slog.d(TAG,"startLocationBasedDetection=" + startLocationBasedDetection + " detectCountry="+ (detectedCountry == null ? null : "(source: " + detectedCountry.getSource() + ", countryISO: "+ detectedCountry.getCountryIso()+ ")")+ " isAirplaneModeOff()="+ isAirplaneModeOff()+ " mListener="+ mListener+ " isGeoCoderImplemnted()="+ isGeoCoderImplemented());
  }
  if (startLocationBasedDetection && (detectedCountry == null || detectedCountry.getSource() > Country.COUNTRY_SOURCE_LOCATION) && isAirplaneModeOff()&& mListener != null && isGeoCoderImplemented()) {
    if (DEBUG)     Slog.d(TAG,"run startLocationBasedDetector()");
    startLocationBasedDetector(mLocationBasedCountryDetectionListener);
  }
  if (detectedCountry == null || detectedCountry.getSource() >= Country.COUNTRY_SOURCE_LOCATION) {
    scheduleLocationRefresh();
  }
 else {
    cancelLocationRefresh();
    stopLocationBasedDetector();
  }
}
