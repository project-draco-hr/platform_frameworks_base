{
  if (mState == STATE_DISCONNECTED && mState != state) {
    Log.d(this,"Connection already DISCONNECTED; cannot transition out of this state.");
    return;
  }
  if (mState != state) {
    Log.d(this,"setState: %s",stateToString(state));
    mState=state;
    onStateChanged(state);
    for (    Listener l : mListeners) {
      l.onStateChanged(this,state);
    }
  }
}
