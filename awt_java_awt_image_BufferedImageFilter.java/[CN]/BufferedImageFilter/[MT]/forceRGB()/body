{
  if (!forcedRGB) {
    forcedRGB=true;
    int size=width * height;
    int rgbData[]=new int[size];
    if (bData != null) {
      for (int i=0; i < size; i++) {
        rgbData[i]=cm.getRGB(bData[i]);
      }
    }
 else     if (iData != null) {
      for (int i=0; i < size; i++) {
        rgbData[i]=cm.getRGB(iData[i]);
      }
    }
    cm=ColorModel.getRGBdefault();
    DataBufferInt db=new DataBufferInt(rgbData,size);
    int masks[]=new int[]{0x00ff0000,0x0000ff00,0x000000ff,0xff000000};
    raster=Raster.createPackedRaster(db,width,height,width,masks,null);
    iData=accessor.getDataInt(db);
    bData=null;
    transferType=DataBuffer.TYPE_INT;
  }
}
