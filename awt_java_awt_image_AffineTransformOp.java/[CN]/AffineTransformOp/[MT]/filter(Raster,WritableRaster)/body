{
  if (src == dst) {
    throw new IllegalArgumentException(Messages.getString("awt.252"));
  }
  if (dst == null) {
    dst=createCompatibleDestRaster(src);
  }
 else   if (src.getNumBands() != dst.getNumBands()) {
    throw new IllegalArgumentException(Messages.getString("awt.253"));
  }
  if (slowFilter(src,dst) != 0) {
    throw new ImagingOpException(Messages.getString("awt.21F"));
  }
  return dst;
}
