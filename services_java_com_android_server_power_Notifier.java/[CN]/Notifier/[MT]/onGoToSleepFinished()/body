{
  if (DEBUG) {
    Slog.d(TAG,"onGoToSleepFinished");
  }
synchronized (mLock) {
    if (mActualPowerState != POWER_STATE_ASLEEP) {
      mActualPowerState=POWER_STATE_ASLEEP;
      mPendingGoToSleepBroadcast=true;
      if (mUserActivityPending) {
        mUserActivityPending=false;
        mHandler.removeMessages(MSG_USER_ACTIVITY);
      }
      updatePendingBroadcastLocked();
    }
  }
}
