{
  int frameColor=isActivated() ? mActiveFrameColor : mFrameColor;
  float halfW=getWidth() / 2f;
  float halfH=getHeight() / 2f;
  float halfSW=Math.min(halfH,halfW);
  if (mBitmap != null && mScale > 0) {
    int saveCount=canvas.getSaveCount();
    canvas.save();
    canvas.translate(mPaddingLeft,mPaddingTop);
    canvas.concat(mDrawMatrix);
    float halfBW=mBitmap.getWidth() / 2f;
    float halfBH=mBitmap.getHeight() / 2f;
    float halfBSW=Math.min(halfBH,halfBW);
    canvas.drawCircle(halfBW,halfBH,halfBSW - mFrameWidth / mScale + 1,mBitmapPaint);
    canvas.restoreToCount(saveCount);
  }
 else   if (mDrawable != null && mScale > 0) {
    int saveCount=canvas.getSaveCount();
    canvas.save();
    canvas.translate(mPaddingLeft,mPaddingTop);
    canvas.translate(mFrameWidth - 1,mFrameWidth - 1);
    canvas.concat(mDrawMatrix);
    mDrawable.draw(canvas);
    canvas.restoreToCount(saveCount);
  }
  if (frameColor != 0) {
    mFramePaint.setColor(frameColor);
    mFramePaint.setStrokeWidth(mFrameWidth);
    canvas.drawCircle(halfW,halfH,halfSW + (mFramePadding - mFrameWidth) / 2f,mFramePaint);
  }
}
