{
  initializeMessageLooper();
synchronized (lock) {
    try {
      lock.wait(WAIT_FOR_COMMAND_TO_COMPLETE);
    }
 catch (    Exception e) {
      Log.v(TAG,"runTestOnMethod: wait was interrupted.");
    }
  }
  mCamera.setPreviewCallback(mRawPreviewCallback);
  checkTakePicture();
  terminateMessageLooper();
  assertTrue("shutterCallbackResult",shutterCallbackResult);
  assertTrue("rawPictureCallbackResult",rawPictureCallbackResult);
  assertTrue("jpegPictureCallbackResult",jpegPictureCallbackResult);
}
