{
  SurfaceHolder mSurfaceHolder;
  try {
    mSurfaceHolder=MediaFrameworkTest.mSurfaceView.getHolder();
    mCamera.setPreviewDisplay(mSurfaceHolder);
    Log.v(TAG,"Start preview");
    mCamera.startPreview();
    waitForPreviewDone();
    mCamera.setPreviewCallback(null);
    mCamera.takePicture(mShutterCallback,mRawPictureCallback,mJpegPictureCallback);
    waitForSnapshotDone();
  }
 catch (  Exception e) {
    Log.v(TAG,e.toString());
  }
}
