{
  SurfaceHolder mSurfaceHolder;
  try {
    mSurfaceHolder=MediaFrameworkTest.mSurfaceView.getHolder();
    mCamera.setPreviewDisplay(mSurfaceHolder);
    Log.v(TAG,"Start preview");
    mCamera.startPreview();
synchronized (previewDone) {
      try {
        previewDone.wait(WAIT_FOR_COMMAND_TO_COMPLETE);
        Log.v(TAG,"Preview Done");
      }
 catch (      Exception e) {
        Log.v(TAG,"wait was interrupted.");
      }
    }
    mCamera.setPreviewCallback(null);
    mCamera.takePicture(mShutterCallback,mRawPictureCallback,mJpegPictureCallback);
    Thread.sleep(MediaNames.WAIT_SNAPSHOT_TIME);
  }
 catch (  Exception e) {
    Log.v(TAG,e.toString());
  }
}
