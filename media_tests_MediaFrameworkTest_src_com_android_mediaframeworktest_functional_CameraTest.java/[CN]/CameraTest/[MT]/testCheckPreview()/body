{
  initializeMessageLooper();
synchronized (lock) {
    try {
      lock.wait(WAIT_FOR_COMMAND_TO_COMPLETE);
    }
 catch (    Exception e) {
      Log.v(TAG,"wait was interrupted.");
    }
  }
  mCamera.setPreviewCallback(mRawPreviewCallback);
  checkPreviewCallback();
  terminateMessageLooper();
  assertTrue("RawPreviewCallbackResult",rawPreviewCallbackResult);
}
