{
  super(stateChangedListener,context);
  mUsageStatsInternal=LocalServices.getService(UsageStatsManagerInternal.class);
  mBatteryManagerInternal=LocalServices.getService(BatteryManagerInternal.class);
  mPluggedIn=isPowered();
  mUsageStatsInternal.addAppIdleStateChangeListener(this);
  registerReceivers();
}
