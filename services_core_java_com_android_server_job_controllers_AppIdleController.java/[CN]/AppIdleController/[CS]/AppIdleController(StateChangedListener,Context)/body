{
  super(stateChangedListener,context);
  mUsageStatsInternal=LocalServices.getService(UsageStatsManagerInternal.class);
  mBatteryManager=context.getSystemService(BatteryManager.class);
  mPluggedIn=mBatteryManager.isCharging();
  mUsageStatsInternal.addAppIdleStateChangeListener(this);
  registerReceivers();
}
