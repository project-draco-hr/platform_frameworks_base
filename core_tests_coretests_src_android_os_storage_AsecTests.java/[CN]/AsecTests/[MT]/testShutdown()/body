{
  if (Environment.isExternalStorageEmulated()) {
    return;
  }
  boolean oldStatus=getMediaState();
  try {
    if (!getMediaState()) {
      mountMedia();
    }
    invokeShutdown();
  }
  finally {
    boolean currStatus=getMediaState();
    if (oldStatus != currStatus) {
      if (oldStatus) {
        mountMedia();
      }
 else {
        unmountMedia();
      }
    }
  }
}
