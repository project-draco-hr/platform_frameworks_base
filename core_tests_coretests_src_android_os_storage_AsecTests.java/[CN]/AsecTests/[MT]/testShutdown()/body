{
  boolean oldStatus=getMediaState();
  try {
    if (!getMediaState()) {
      mountMedia();
    }
    assertTrue(invokeShutdown());
  }
  finally {
    boolean currStatus=getMediaState();
    if (oldStatus != currStatus) {
      if (oldStatus) {
        mountMedia();
      }
 else {
        unmountMedia();
      }
    }
  }
}
