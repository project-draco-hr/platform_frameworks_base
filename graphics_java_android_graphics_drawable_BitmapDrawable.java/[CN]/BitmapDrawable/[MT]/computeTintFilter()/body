{
  final BitmapState state=mBitmapState;
  if (state.mTint != null && state.mTintMode != null) {
    final int color=state.mTint.getColorForState(getState(),0);
    if (mTintFilter != null) {
      mTintFilter.setColor(color);
      mTintFilter.setMode(state.mTintMode);
    }
 else {
      mTintFilter=new PorterDuffColorFilter(color,state.mTintMode);
    }
  }
 else {
    mTintFilter=null;
  }
}
