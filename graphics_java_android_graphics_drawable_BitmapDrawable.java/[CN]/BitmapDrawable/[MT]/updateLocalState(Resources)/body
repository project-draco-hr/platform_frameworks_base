{
  if (res != null) {
    final int densityDpi=res.getDisplayMetrics().densityDpi;
    mTargetDensity=densityDpi == 0 ? DisplayMetrics.DENSITY_DEFAULT : densityDpi;
  }
 else {
    mTargetDensity=mBitmapState.mTargetDensity;
  }
  mTintFilter=updateTintFilter(mTintFilter,mBitmapState.mTint,mBitmapState.mTintMode);
  computeBitmapSize();
}
