{
  String s;
  s=SystemProperties.get("libc.debug.malloc");
  if (s.equals("1")) {
    mMallocDebug=true;
    try {
      dumpHeap("HeapAtStart");
    }
 catch (    Exception ex) {
      Log.e(TAG,"dumpHeap returned error in constructor");
    }
  }
 else {
    mMallocDebug=false;
  }
  mLock=new Semaphore(1,true);
  mMANativeHelper=new MediaArtistNativeHelper(projectPath,mLock,this);
  mProjectPath=projectPath;
  final File projectXml=new File(projectPath,PROJECT_FILENAME);
  if (projectXml.exists()) {
    try {
      load();
    }
 catch (    Exception ex) {
      ex.printStackTrace();
      throw new IOException(ex.toString());
    }
  }
 else {
    mAspectRatio=MediaProperties.ASPECT_RATIO_16_9;
    mDurationMs=0;
  }
}
