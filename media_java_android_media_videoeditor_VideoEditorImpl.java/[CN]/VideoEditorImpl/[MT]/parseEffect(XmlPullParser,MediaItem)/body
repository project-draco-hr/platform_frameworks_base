{
  final String effectId=parser.getAttributeValue("",ATTR_ID);
  final String type=parser.getAttributeValue("",ATTR_TYPE);
  final long durationMs=Long.parseLong(parser.getAttributeValue("",ATTR_DURATION));
  final long startTimeMs=Long.parseLong(parser.getAttributeValue("",ATTR_BEGIN_TIME));
  final Effect effect;
  if (EffectColor.class.getSimpleName().equals(type)) {
    final int colorEffectType=Integer.parseInt(parser.getAttributeValue("",ATTR_COLOR_EFFECT_TYPE));
    final int color;
    if (colorEffectType == EffectColor.TYPE_COLOR || colorEffectType == EffectColor.TYPE_GRADIENT) {
      color=Integer.parseInt(parser.getAttributeValue("",ATTR_COLOR_EFFECT_VALUE));
    }
 else {
      color=0;
    }
    effect=new EffectColor(mediaItem,effectId,startTimeMs,durationMs,colorEffectType,color);
  }
 else   if (EffectKenBurns.class.getSimpleName().equals(type)) {
    final Rect startRect=new Rect(Integer.parseInt(parser.getAttributeValue("",ATTR_START_RECT_L)),Integer.parseInt(parser.getAttributeValue("",ATTR_START_RECT_T)),Integer.parseInt(parser.getAttributeValue("",ATTR_START_RECT_R)),Integer.parseInt(parser.getAttributeValue("",ATTR_START_RECT_B)));
    final Rect endRect=new Rect(Integer.parseInt(parser.getAttributeValue("",ATTR_END_RECT_L)),Integer.parseInt(parser.getAttributeValue("",ATTR_END_RECT_T)),Integer.parseInt(parser.getAttributeValue("",ATTR_END_RECT_R)),Integer.parseInt(parser.getAttributeValue("",ATTR_END_RECT_B)));
    effect=new EffectKenBurns(mediaItem,effectId,startRect,endRect,startTimeMs,durationMs);
  }
 else {
    effect=null;
  }
  return effect;
}
