{
  System.gc();
  System.runFinalization();
  Thread.sleep(1000);
  String state=Environment.getExternalStorageState();
  if (Environment.MEDIA_MOUNTED.equals(state)) {
    String extDir=Environment.getExternalStorageDirectory().toString();
    if ((new File(extDir + "/" + filename+ ".dump")).exists()) {
      (new File(extDir + "/" + filename+ ".dump")).delete();
    }
    FileOutputStream ost=new FileOutputStream(extDir + "/" + filename+ ".dump");
    Debug.dumpNativeHeap(ost.getFD());
    ost.close();
  }
}
