{
  boolean semAcquireDone=false;
  try {
    mPreviewSemaphore.acquire();
    semAcquireDone=true;
    mMANativeHelper.setGeneratePreview(true);
    if ((mMediaItems.size() > 0) || (mAudioTracks.size() > 0)) {
      mMANativeHelper.previewStoryBoard(mMediaItems,mTransitions,mAudioTracks,listener);
    }
  }
 catch (  InterruptedException ex) {
    Log.e("VideoEditorImpl","Sem acquire NOT successful in previewStoryBoard");
  }
 finally {
    if (semAcquireDone) {
      mPreviewSemaphore.release();
    }
  }
}
