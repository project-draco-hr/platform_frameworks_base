{
  if (mPreviewInProgress) {
    long result=mMANativeHelper.stopPreview();
    mPreviewInProgress=false;
    mPreviewSemaphore.release();
    return result;
  }
 else {
    return 0;
  }
}
