{
  if (mPreviewThread != null) {
    throw new IllegalStateException("Previewing is in progress");
  }
  if (afterAudioTrackId == null) {
    mAudioTracks.add(0,audioTrack);
  }
 else {
    final int audioTrackCount=mAudioTracks.size();
    for (int i=0; i < audioTrackCount; i++) {
      AudioTrack at=mAudioTracks.get(i);
      if (at.getId().equals(afterAudioTrackId)) {
        mAudioTracks.add(i + 1,audioTrack);
        return;
      }
    }
    throw new IllegalArgumentException("AudioTrack not found: " + afterAudioTrackId);
  }
}
