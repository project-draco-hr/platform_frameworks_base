{
  if (mAudioTracks.size() == 1) {
    throw new IllegalArgumentException("No more tracks can be added");
  }
  if (afterAudioTrackId == null) {
    mMANativeHelper.setGeneratePreview(true);
    mAudioTracks.add(0,audioTrack);
  }
 else {
    final int audioTrackCount=mAudioTracks.size();
    for (int i=0; i < audioTrackCount; i++) {
      AudioTrack at=mAudioTracks.get(i);
      if (at.getId().equals(afterAudioTrackId)) {
        mMANativeHelper.setGeneratePreview(true);
        mAudioTracks.add(i + 1,audioTrack);
        return;
      }
    }
    throw new IllegalArgumentException("AudioTrack not found: " + afterAudioTrackId);
  }
}
