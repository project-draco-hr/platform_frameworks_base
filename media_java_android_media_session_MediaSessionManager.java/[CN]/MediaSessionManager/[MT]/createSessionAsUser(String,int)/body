{
  if (TextUtils.isEmpty(tag)) {
    throw new IllegalArgumentException("tag must not be null or empty");
  }
  try {
    MediaSession.CallbackStub cbStub=new MediaSession.CallbackStub();
    MediaSession session=new MediaSession(mService.createSession(mContext.getPackageName(),cbStub,tag,userId),cbStub);
    cbStub.setMediaSession(session);
    return session;
  }
 catch (  RemoteException e) {
    Log.e(TAG,"Failed to create session: ",e);
    return null;
  }
}
