{
  Bitmap outerCircle;
  Bitmap innerCircle;
  if (!partOfPattern || (mInStealthMode && mPatternDisplayMode != DisplayMode.Wrong)) {
    outerCircle=mBitmapCircleDefault;
    innerCircle=mBitmapBtnDefault;
  }
 else   if (mPatternInProgress) {
    outerCircle=mBitmapCircleGreen;
    innerCircle=mBitmapBtnTouched;
  }
 else   if (mPatternDisplayMode == DisplayMode.Wrong) {
    outerCircle=mBitmapCircleRed;
    innerCircle=mBitmapBtnDefault;
  }
 else   if (mPatternDisplayMode == DisplayMode.Correct || mPatternDisplayMode == DisplayMode.Animate) {
    outerCircle=mBitmapCircleGreen;
    innerCircle=mBitmapBtnDefault;
  }
 else {
    throw new IllegalStateException("unknown display mode " + mPatternDisplayMode);
  }
  final int width=mBitmapWidth;
  final int height=mBitmapHeight;
  final float squareWidth=mSquareWidth;
  final float squareHeight=mSquareHeight;
  int offsetX=(int)((squareWidth - width) / 2f);
  int offsetY=(int)((squareHeight - height) / 2f);
  canvas.drawBitmap(outerCircle,leftX + offsetX,topY + offsetY,mPaint);
  canvas.drawBitmap(innerCircle,leftX + offsetX,topY + offsetY,mPaint);
}
