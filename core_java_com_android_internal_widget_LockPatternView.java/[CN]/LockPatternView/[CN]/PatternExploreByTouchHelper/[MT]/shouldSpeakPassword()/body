{
  final boolean speakPassword=Settings.Secure.getIntForUser(mContext.getContentResolver(),Settings.Secure.ACCESSIBILITY_SPEAK_PASSWORD,0,UserHandle.USER_CURRENT_OR_SELF) != 0;
  final boolean hasHeadphones=mAudioManager != null ? (mAudioManager.isWiredHeadsetOn() || mAudioManager.isBluetoothA2dpOn()) : false;
  return speakPassword || hasHeadphones;
}
