{
  if (mGetOperation) {
    if ((inStream) && (!mOperationDone)) {
      mParent.sendRequest(ObexHelper.OBEX_OPCODE_GET_FINAL,null,mReplyHeader,mPrivateInput,mSrmActive);
      if (mReplyHeader.responseCode != ResponseCodes.OBEX_HTTP_CONTINUE) {
        mOperationDone=true;
      }
 else {
        checkForSrm();
      }
      return true;
    }
 else     if ((!inStream) && (!mOperationDone)) {
      if (mPrivateInput == null) {
        mPrivateInput=new PrivateInputStream(this);
      }
      if (!mGetFinalFlag) {
        sendRequest(ObexHelper.OBEX_OPCODE_GET);
      }
 else {
        sendRequest(ObexHelper.OBEX_OPCODE_GET_FINAL);
      }
      if (mReplyHeader.responseCode != ResponseCodes.OBEX_HTTP_CONTINUE) {
        mOperationDone=true;
      }
      return true;
    }
 else     if (mOperationDone) {
      return false;
    }
  }
 else {
    if ((!inStream) && (!mOperationDone)) {
      if (mReplyHeader.responseCode == -1) {
        mReplyHeader.responseCode=ResponseCodes.OBEX_HTTP_CONTINUE;
      }
      sendRequest(ObexHelper.OBEX_OPCODE_PUT);
      return true;
    }
 else     if ((inStream) && (!mOperationDone)) {
      return false;
    }
 else     if (mOperationDone) {
      return false;
    }
  }
  return false;
}
