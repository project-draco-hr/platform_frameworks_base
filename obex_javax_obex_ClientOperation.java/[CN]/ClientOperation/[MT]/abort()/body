{
  ensureOpen();
  if ((isDone) && (replyHeaders.responseCode != OBEXConstants.OBEX_HTTP_CONTINUE)) {
    throw new IOException("Operation has already ended");
  }
  exceptionMessage="Operation aborted";
  if ((!isDone) && (replyHeaders.responseCode == OBEXConstants.OBEX_HTTP_CONTINUE)) {
    isDone=true;
    parent.sendRequest(0xFF,null,replyHeaders,null);
    if (replyHeaders.responseCode != ResponseCodes.OBEX_HTTP_OK) {
      throw new IOException("Invalid response code from server");
    }
    exceptionMessage=null;
  }
  close();
}
