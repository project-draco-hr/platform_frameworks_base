{
  parent.ensureOpen();
  if (exceptionMessage != null) {
    throw new IOException(exceptionMessage);
  }
  if (isClosed) {
    throw new IOException("Operation has already ended");
  }
}
