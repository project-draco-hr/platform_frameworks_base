{
  if (privateInput == null) {
    privateInput=new PrivateInputStream(this);
  }
  boolean more=true;
  if (isGet) {
    if (!isDone) {
      replyHeaders.responseCode=OBEXConstants.OBEX_HTTP_CONTINUE;
      while ((more) && (replyHeaders.responseCode == OBEXConstants.OBEX_HTTP_CONTINUE)) {
        more=sendRequest(0x03);
      }
      if (replyHeaders.responseCode == OBEXConstants.OBEX_HTTP_CONTINUE) {
        parent.sendRequest(0x83,null,replyHeaders,privateInput);
      }
      if (replyHeaders.responseCode != OBEXConstants.OBEX_HTTP_CONTINUE) {
        isDone=true;
      }
    }
  }
 else {
    if (!isDone) {
      replyHeaders.responseCode=OBEXConstants.OBEX_HTTP_CONTINUE;
      while ((more) && (replyHeaders.responseCode == OBEXConstants.OBEX_HTTP_CONTINUE)) {
        more=sendRequest(0x02);
      }
    }
    if (replyHeaders.responseCode == OBEXConstants.OBEX_HTTP_CONTINUE) {
      parent.sendRequest(0x82,null,replyHeaders,privateInput);
    }
    if (replyHeaders.responseCode != OBEXConstants.OBEX_HTTP_CONTINUE) {
      isDone=true;
    }
  }
}
