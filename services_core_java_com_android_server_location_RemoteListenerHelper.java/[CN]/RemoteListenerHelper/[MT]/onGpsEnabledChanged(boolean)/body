{
  handleGpsEnabledChanged(enabled);
synchronized (mListenerMap) {
    if (!enabled) {
      tryUnregister();
      return;
    }
    if (mListenerMap.isEmpty()) {
      return;
    }
    if (tryRegister()) {
      return;
    }
    ListenerOperation<TListener> operation=getHandlerOperation(RESULT_INTERNAL_ERROR);
    foreachUnsafe(operation);
  }
}
