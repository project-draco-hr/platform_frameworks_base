{
  initializeModelFromPrefs();
  SharedPreferences.Editor mockEdit=mock(SharedPreferences.Editor.class);
  when(mMockPrefs.edit()).thenReturn(mockEdit);
  mModel.savePrefs();
  verify(mockEdit).clear();
  verify(mockEdit).putInt("version",1);
  verify(mockEdit).putInt("app_count",3);
  verify(mockEdit).putString("app_0","package0/class0");
  verify(mockEdit).putString("app_1","package1/class1");
  verify(mockEdit).putString("app_2","package2/class2");
}
