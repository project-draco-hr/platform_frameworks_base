{
synchronized (mLocks) {
    boolean wasPowered=mIsPowered;
    mIsPowered=mBatteryService.isPowered();
    if (mIsPowered != wasPowered) {
      updateWakeLockLocked();
synchronized (mLocks) {
        if (!wasPowered || (mPowerState & SCREEN_ON_BIT) != 0 || mUnplugTurnsOnScreen) {
          forceUserActivityLocked();
        }
      }
      if (mPolicy != null) {
        mPolicy.stopScreenSaver();
      }
    }
  }
}
