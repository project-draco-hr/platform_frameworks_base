{
  if (mHandler == null || !mSystemReady) {
    throw new IllegalStateException("Too early to call reboot()");
  }
  Runnable runnable=new Runnable(){
    public void run(){
synchronized (this) {
        ShutdownThread.reboot(mContext,reason,false);
      }
    }
  }
;
  Message msg=Message.obtain(mHandler,runnable);
  msg.setAsynchronous(true);
  mHandler.sendMessage(msg);
synchronized (runnable) {
    while (true) {
      try {
        runnable.wait();
      }
 catch (      InterruptedException e) {
      }
    }
  }
}
