{
  if (DEBUG_SPEW) {
    Slog.d(TAG,"userActivityNoUpdateLocked: eventTime=" + eventTime + ", event="+ event+ ", flags=0x"+ Integer.toHexString(flags)+ ", uid="+ uid);
  }
  if (eventTime < mLastSleepTime || eventTime < mLastWakeTime || mWakefulness == WAKEFULNESS_ASLEEP || !mBootCompleted || !mSystemReady) {
    return false;
  }
  mNotifier.onUserActivity(event,uid);
  if ((flags & PowerManager.USER_ACTIVITY_FLAG_NO_CHANGE_LIGHTS) != 0) {
    if (eventTime > mLastUserActivityTimeNoChangeLights && eventTime > mLastUserActivityTime) {
      mLastUserActivityTimeNoChangeLights=eventTime;
      mDirty|=DIRTY_USER_ACTIVITY;
      return true;
    }
  }
 else {
    if (eventTime > mLastUserActivityTime) {
      mLastUserActivityTime=eventTime;
      mDirty|=DIRTY_USER_ACTIVITY;
      return true;
    }
  }
  return false;
}
