{
  if (!(v instanceof KeyguardMultiUserAvatar))   return;
  final KeyguardMultiUserAvatar avatar=(KeyguardMultiUserAvatar)v;
  if (avatar.isClickable()) {
    if (mActiveUserAvatar == avatar) {
      mCallback.showUnlockHint();
      return;
    }
 else {
      mCallback.hideSecurityView(FADE_OUT_ANIMATION_DURATION);
      setAllClickable(false);
      mActiveUserAvatar.setActive(false,true,new Runnable(){
        @Override public void run(){
          mActiveUserAvatar=avatar;
          mActiveUserAvatar.setActive(true,true,new Runnable(){
            @Override public void run(){
              if (this.getClass().getName().contains("internal")) {
                try {
                  ActivityManagerNative.getDefault().switchUser(avatar.getUserInfo().id);
                }
 catch (                RemoteException re) {
                  Log.e(TAG,"Couldn't switch user " + re);
                }
              }
 else {
                setAllClickable(true);
              }
            }
          }
);
        }
      }
);
    }
  }
}
