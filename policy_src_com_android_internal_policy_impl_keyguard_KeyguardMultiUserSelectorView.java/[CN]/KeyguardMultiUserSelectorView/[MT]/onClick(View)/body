{
  if (!(v instanceof KeyguardMultiUserAvatar))   return;
  final KeyguardMultiUserAvatar avatar=(KeyguardMultiUserAvatar)v;
  if (mActiveUserAvatar == avatar) {
    mCallback.showUnlockHint();
    return;
  }
 else {
    avatar.lockPressedState();
    mCallback.hideSecurityView(FADE_OUT_ANIMATION_DURATION);
    mActiveUserAvatar.setActive(false,true,SWITCH_ANIMATION_DURATION,new Runnable(){
      @Override public void run(){
        try {
          ActivityManagerNative.getDefault().switchUser(avatar.getUserInfo().id);
          WindowManagerGlobal.getWindowManagerService().lockNow();
          avatar.resetPressedState();
          mCallback.showSecurityView();
          mActiveUserAvatar=avatar;
          mActiveUserAvatar.setActive(true,false,0,null);
        }
 catch (        RemoteException re) {
          Log.e(TAG,"Couldn't switch user " + re);
        }
      }
    }
);
  }
}
