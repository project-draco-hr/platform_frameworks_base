{
  final int insertAt=mIntents.size();
  Intent parent=sourceActivity.getParentActivityIntent();
  PackageManager pm=sourceActivity.getPackageManager();
  while (parent != null) {
    mIntents.add(insertAt,parent);
    try {
      ActivityInfo info=pm.getActivityInfo(parent.getComponent(),0);
      String parentActivity=info.parentActivityName;
      if (parentActivity != null) {
        parent=new Intent().setComponent(new ComponentName(mSourceContext,parentActivity));
      }
 else {
        parent=null;
      }
    }
 catch (    NameNotFoundException e) {
      Log.e(TAG,"Bad ComponentName while traversing activity parent metadata");
      throw new IllegalArgumentException(e);
    }
  }
  return this;
}
