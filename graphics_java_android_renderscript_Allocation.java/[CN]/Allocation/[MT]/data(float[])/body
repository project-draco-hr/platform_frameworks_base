{
  int size;
  if (mType != null && mType.mElement != null) {
    size=mType.mElement.mSize;
    for (int ct=0; ct < mType.mValues.length; ct++) {
      if (mType.mValues[ct] != 0) {
        size*=mType.mValues[ct];
      }
    }
    if ((d.length * 4) < size) {
      throw new IllegalArgumentException("Array too small for allocation type.");
    }
    Log.e("rs","Alloc data size=" + size);
    mRS.nAllocationData(mID,d,size);
    return;
  }
  mRS.nAllocationData(mID,d,d.length * 4);
}
