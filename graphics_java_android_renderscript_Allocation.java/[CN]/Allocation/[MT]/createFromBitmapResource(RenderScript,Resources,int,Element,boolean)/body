{
  rs.validate();
  InputStream is=null;
  try {
    final TypedValue value=new TypedValue();
    is=res.openRawResource(id,value);
    int asset=((AssetManager.AssetInputStream)is).getAssetInt();
    int allocationId=rs.nAllocationCreateFromAssetStream(dstFmt.mID,genMips,asset);
    if (allocationId == 0) {
      throw new IllegalStateException("Load failed.");
    }
    return new Allocation(allocationId,rs,null);
  }
 catch (  Exception e) {
  }
 finally {
    if (is != null) {
      try {
        is.close();
      }
 catch (      IOException e) {
      }
    }
  }
  return null;
}
