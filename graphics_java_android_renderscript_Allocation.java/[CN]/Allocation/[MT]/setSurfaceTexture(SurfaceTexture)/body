{
  mRS.validate();
  if ((mUsage & USAGE_IO_OUTPUT) == 0) {
    throw new RSInvalidStateException("Allocation is not USAGE_IO_OUTPUT.");
  }
  Surface s=new Surface(st);
  mRS.nAllocationSetSurface(getID(mRS),s);
}
