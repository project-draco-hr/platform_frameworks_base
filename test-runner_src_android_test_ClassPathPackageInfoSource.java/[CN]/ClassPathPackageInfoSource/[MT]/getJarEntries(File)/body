{
  Set<String> entryNames=jarFiles.get(jarFile);
  if (entryNames == null) {
    entryNames=Sets.newHashSet();
    ZipFile zipFile=new ZipFile(jarFile);
    Enumeration<? extends ZipEntry> entries=zipFile.entries();
    while (entries.hasMoreElements()) {
      String entryName=entries.nextElement().getName();
      if (entryName.endsWith(CLASS_EXTENSION)) {
        entryNames.add(entryName);
        int lastIndex=entryName.lastIndexOf('/');
        do {
          String packageName=entryName.substring(0,lastIndex + 1);
          entryNames.add(packageName);
          lastIndex=entryName.lastIndexOf('/',lastIndex - 1);
        }
 while (lastIndex > 0);
      }
    }
    jarFiles.put(jarFile,entryNames);
  }
  return entryNames;
}
