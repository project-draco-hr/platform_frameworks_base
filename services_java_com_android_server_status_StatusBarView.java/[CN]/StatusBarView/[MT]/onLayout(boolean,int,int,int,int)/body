{
  super.onLayout(changed,l,t,r,b);
  int oldDateRight=mDate.getRight();
  int newDateRight;
  newDateRight=getDateSize(mNotificationIcons,oldDateRight,getViewOffset(mNotificationIcons));
  if (newDateRight < 0) {
    int offset=getViewOffset(mStatusIcons);
    if (oldDateRight < offset) {
      newDateRight=oldDateRight;
    }
 else {
      newDateRight=getDateSize(mStatusIcons,oldDateRight,offset);
      if (newDateRight < 0) {
        newDateRight=r;
      }
    }
  }
  int max=r - getPaddingRight();
  if (newDateRight > max) {
    newDateRight=max;
  }
  mDate.layout(mDate.getLeft(),mDate.getTop(),newDateRight,mDate.getBottom());
  mBackground.setFixedBounds(-mDate.getLeft(),-mDate.getTop(),(r - l),(b - t));
}
