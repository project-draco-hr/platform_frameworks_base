{
  try (RandomAccessFile apk=new RandomAccessFile(apkFile,"r")){
    long fileSize=apk.length();
    if (fileSize > Integer.MAX_VALUE) {
      return false;
    }
    MappedByteBuffer apkContents;
    try {
      apkContents=apk.getChannel().map(FileChannel.MapMode.READ_ONLY,0,fileSize);
    }
 catch (    IOException e) {
      if (e.getCause() instanceof OutOfMemoryError) {
        return false;
      }
 else {
        throw new IOException("Failed to memory-map APK",e);
      }
    }
    apkContents.order(ByteOrder.LITTLE_ENDIAN);
    final int centralDirOffset=(int)getCentralDirOffset(apkContents,getEocdOffset(apkContents));
    int apkSigningBlockOffset=findApkSigningBlock(apkContents,centralDirOffset);
    ByteBuffer apkSigningBlock=sliceFromTo(apkContents,apkSigningBlockOffset,centralDirOffset);
    findApkSignatureSchemeV2Block(apkSigningBlock);
    return true;
  }
 catch (  SignatureNotFoundException e) {
  }
  return false;
}
