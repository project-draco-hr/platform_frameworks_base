{
  Log.e(TAG,"Corruption reported by sqlite on database: " + dbObj.getPath());
  if (!dbObj.isOpen()) {
    if (!dbObj.getPath().equalsIgnoreCase(":memory:")) {
      try {
        new File(dbObj.getPath()).delete();
      }
 catch (      Exception e) {
      }
    }
    return;
  }
  ArrayList<Pair<String,String>> attachedDbs=null;
  try {
    attachedDbs=dbObj.getAttachedDbs();
    try {
      dbObj.close();
    }
 catch (    SQLiteException e) {
    }
  }
  finally {
    if (attachedDbs != null) {
      for (      Pair<String,String> p : attachedDbs) {
        if (p.second.equalsIgnoreCase(":memory:") || p.second.trim().length() == 0) {
          continue;
        }
        Log.e(TAG,"deleting the database file: " + p.second);
        try {
          new File(p.second).delete();
        }
 catch (        Exception e) {
        }
      }
    }
  }
}
