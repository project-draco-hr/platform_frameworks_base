{
  if (format != ImageFormat.YUV_420_888 && format != ImageFormat.PRIVATE) {
    throw new IllegalArgumentException("format " + format + " is not supported for reprocessing");
  }
  StaticMetadata info=new StaticMetadata(mCameraManager.getCameraCharacteristics(cameraId),CheckLevel.ASSERT,null);
  int cap=CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES_YUV_REPROCESSING;
  if (format == ImageFormat.PRIVATE) {
    cap=CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES_PRIVATE_REPROCESSING;
  }
  return info.isCapabilitySupported(cap);
}
