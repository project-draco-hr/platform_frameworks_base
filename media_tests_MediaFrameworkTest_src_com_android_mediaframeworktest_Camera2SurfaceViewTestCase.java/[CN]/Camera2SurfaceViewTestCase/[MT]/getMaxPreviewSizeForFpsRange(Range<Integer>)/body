{
  if (fpsRange == null || fpsRange.getLower() <= 0 || fpsRange.getUpper() <= 0) {
    throw new IllegalArgumentException("Invalid fps range argument");
  }
  if (mOrderedPreviewSizes == null || mMinPreviewFrameDurationMap == null) {
    throw new IllegalStateException("mOrderedPreviewSizes and mMinPreviewFrameDurationMap" + " must be initialized");
  }
  long[] frameDurationRange=new long[]{(long)(1e9 / fpsRange.getUpper()),(long)(1e9 / fpsRange.getLower())};
  for (  Size size : mOrderedPreviewSizes) {
    Long minDuration=mMinPreviewFrameDurationMap.get(size);
    if (minDuration == null || minDuration == 0) {
      if (mStaticInfo.isCapabilitySupported(CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES_MANUAL_SENSOR)) {
        throw new IllegalArgumentException("No min frame duration available for the size " + size);
      }
      continue;
    }
    if (minDuration <= (frameDurationRange[0] + MIN_FRAME_DURATION_ERROR_MARGIN)) {
      return size;
    }
  }
  return null;
}
