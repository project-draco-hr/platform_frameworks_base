{
  mCamera=CameraTestUtils.openCamera(mCameraManager,cameraId,mCameraListener,mHandler);
  mCollector.setCameraId(cameraId);
  mStaticInfo=new StaticMetadata(mCameraManager.getCameraCharacteristics(cameraId),CheckLevel.ASSERT,null);
  if (mStaticInfo.isColorOutputSupported()) {
    mOrderedPreviewSizes=getSupportedPreviewSizes(cameraId,mCameraManager,getPreviewSizeBound(mWindowManager,PREVIEW_SIZE_BOUND));
    mOrderedVideoSizes=getSupportedVideoSizes(cameraId,mCameraManager,PREVIEW_SIZE_BOUND);
    mOrderedStillSizes=getSupportedStillSizes(cameraId,mCameraManager,null);
    mOrderedRAW10Sizes=getSortedSizesForFormat(cameraId,mCameraManager,ImageFormat.RAW10,null);
    mOrderedYUV420888Sizes=getSortedSizesForFormat(cameraId,mCameraManager,ImageFormat.YUV_420_888,null);
    mMinPreviewFrameDurationMap=mStaticInfo.getAvailableMinFrameDurationsForFormatChecked(ImageFormat.YUV_420_888);
  }
}
