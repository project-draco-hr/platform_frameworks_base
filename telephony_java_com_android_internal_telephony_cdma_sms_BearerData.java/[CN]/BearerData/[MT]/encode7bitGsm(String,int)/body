{
  try {
    byte[] fullData=GsmAlphabet.stringToGsm7BitPacked(msg,0,-1,paddingBits,true);
    byte[] data=new byte[fullData.length - 1];
    System.arraycopy(fullData,1,data,0,fullData.length - 1);
    return data;
  }
 catch (  com.android.internal.telephony.EncodeException ex) {
    throw new CodingException("7bit GSM encode failed: " + ex);
  }
}
