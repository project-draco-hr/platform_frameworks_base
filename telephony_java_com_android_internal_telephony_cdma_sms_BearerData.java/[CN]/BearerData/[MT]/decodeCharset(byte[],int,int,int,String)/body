{
  if (numFields < 0 || (numFields * width + offset) > data.length) {
    int padding=offset % width;
    int maxNumFields=(data.length - offset - padding) / width;
    if (maxNumFields < 0) {
      throw new CodingException(charset + " decode failed: offset out of range");
    }
    Log.e(LOG_TAG,charset + " decode error: offset = " + offset+ " numFields = "+ numFields+ " data.length = "+ data.length+ " maxNumFields = "+ maxNumFields);
    numFields=maxNumFields;
  }
  try {
    return new String(data,offset,numFields * width,charset);
  }
 catch (  java.io.UnsupportedEncodingException ex) {
    throw new CodingException(charset + " decode failed: " + ex);
  }
}
