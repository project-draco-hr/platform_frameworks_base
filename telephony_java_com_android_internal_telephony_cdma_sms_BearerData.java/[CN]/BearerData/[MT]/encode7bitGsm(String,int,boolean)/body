{
  try {
    byte[] fullData=GsmAlphabet.stringToGsm7BitPacked(msg,septetOffset,!force,0,0);
    Gsm7bitCodingResult result=new Gsm7bitCodingResult();
    result.data=new byte[fullData.length - 1];
    System.arraycopy(fullData,1,result.data,0,fullData.length - 1);
    result.septets=fullData[0] & 0x00FF;
    return result;
  }
 catch (  com.android.internal.telephony.EncodeException ex) {
    throw new CodingException("7bit GSM encode failed: " + ex);
  }
}
