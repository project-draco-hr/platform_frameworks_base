{
  Map map=(Map)l.getItemAtPosition(position);
  final String path=(String)map.get("path");
  if ((new File(path)).isDirectory()) {
    final CharSequence[] items={"Open","Run"};
    AlertDialog.Builder builder=new AlertDialog.Builder(this);
    builder.setTitle("Select an Action");
    builder.setSingleChoiceItems(items,-1,new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int which){
switch (which) {
case OPEN_DIRECTORY:
          dialog.dismiss();
        mPath=path;
      mFocusFile=null;
    updateList();
  break;
case RUN_TESTS:
dialog.dismiss();
processDirectory(path,false);
break;
}
}
}
);
builder.create().show();
}
 else {
processFile(path,false);
}
}
