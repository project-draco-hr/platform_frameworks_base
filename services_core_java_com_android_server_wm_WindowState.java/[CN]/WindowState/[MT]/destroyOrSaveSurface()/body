{
  Task task=getTask();
  if (ActivityManager.isLowRamDeviceStatic()) {
    mSurfaceSaved=false;
  }
 else   if (task == null || task.inHomeStack() || task.getTopVisibleAppToken() != mAppToken) {
    mSurfaceSaved=false;
  }
 else   if (mAttachedWindow != null) {
    mSurfaceSaved=false;
  }
 else {
    mSurfaceSaved=mAppToken.shouldSaveSurface();
  }
  if (mSurfaceSaved == false) {
    mWinAnimator.destroySurfaceLocked();
  }
  return mSurfaceSaved;
}
