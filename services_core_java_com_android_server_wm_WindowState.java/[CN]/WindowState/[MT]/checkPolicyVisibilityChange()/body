{
  if (mPolicyVisibility != mPolicyVisibilityAfterAnim) {
    if (DEBUG_VISIBILITY) {
      Slog.v(TAG,"Policy visibility changing after anim in " + mWinAnimator + ": "+ mPolicyVisibilityAfterAnim);
    }
    mPolicyVisibility=mPolicyVisibilityAfterAnim;
    setDisplayLayoutNeeded();
    if (!mPolicyVisibility) {
      if (mService.mCurrentFocus == this) {
        if (DEBUG_FOCUS_LIGHT)         Slog.i(TAG,"setAnimationLocked: setting mFocusMayChange true");
        mService.mFocusMayChange=true;
      }
      mService.enableScreenIfNeededLocked();
    }
  }
}
