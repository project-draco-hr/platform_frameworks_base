{
  if (ActivityManager.isLowRamDeviceStatic()) {
    return false;
  }
  if (isChildWindow()) {
    return false;
  }
  Task task=getTask();
  if (task == null || task.inHomeStack()) {
    return false;
  }
  final AppWindowToken taskTop=task.getTopVisibleAppToken();
  if (taskTop != null && taskTop != mAppToken) {
    return false;
  }
  return mAppToken.shouldSaveSurface();
}
