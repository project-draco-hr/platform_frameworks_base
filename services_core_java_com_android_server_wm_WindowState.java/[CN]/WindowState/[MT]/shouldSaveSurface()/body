{
  if (mWinAnimator.mSurfaceController == null) {
    return false;
  }
  if (!mWasVisibleBeforeClientHidden) {
    return false;
  }
  if ((mAttrs.flags & FLAG_SECURE) != 0) {
    return false;
  }
  if (ActivityManager.isLowRamDeviceStatic()) {
    return false;
  }
  Task task=getTask();
  if (task == null || task.inHomeStack()) {
    return false;
  }
  final AppWindowToken taskTop=task.getTopVisibleAppToken();
  if (taskTop != null && taskTop != mAppToken) {
    return false;
  }
  if (mResizedWhileGone) {
    return false;
  }
  if (DEBUG_DISABLE_SAVING_SURFACES) {
    return false;
  }
  return mAppToken.shouldSaveSurface();
}
