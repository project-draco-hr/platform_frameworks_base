{
  Location coarse=new Location(fine);
  coarse.removeBearing();
  coarse.removeSpeed();
  coarse.removeAltitude();
  coarse.setExtras(null);
  double lat=coarse.getLatitude();
  double lon=coarse.getLongitude();
  lat=wrapLatitude(lat);
  lon=wrapLongitude(lon);
  updateRandomOffsetLocked();
  lon+=metersToDegreesLongitude(mOffsetLongitudeMeters,lat);
  lat+=metersToDegreesLatitude(mOffsetLatitudeMeters);
  if (D)   Log.d(TAG,String.format("applied offset of %.0f, %.0f (meters)",mOffsetLongitudeMeters,mOffsetLatitudeMeters));
  lat=wrapLatitude(lat);
  lon=wrapLongitude(lon);
  double latGranularity=metersToDegreesLatitude(mGridSizeInMeters);
  lat=Math.round(lat / latGranularity) * latGranularity;
  double lonGranularity=metersToDegreesLongitude(mGridSizeInMeters,lat);
  lon=Math.round(lon / lonGranularity) * lonGranularity;
  lat=wrapLatitude(lat);
  lon=wrapLongitude(lon);
  coarse.setLatitude(lat);
  coarse.setLongitude(lon);
  coarse.setAccuracy(Math.max(mAccuracyInMeters,coarse.getAccuracy()));
  if (D)   Log.d(TAG,"fudged " + fine + " to "+ coarse);
  return coarse;
}
