{
  LookupResult lookupResult=null;
  Cursor c=null;
  try {
    Uri numberUri=Uri.withAppendedPath(ContactsContract.PhoneLookup.CONTENT_FILTER_URI,Uri.encode(number));
    c=mContext.getContentResolver().query(numberUri,LOOKUP_PROJECTION,null,null,null);
    if (c != null && c.getCount() > 0) {
      c.moveToFirst();
      final int idIdx=c.getColumnIndex(Contacts._ID);
      final int id=c.getInt(idIdx);
      if (DEBUG)       Slog.d(TAG,"is valid: " + id);
      lookupResult=new LookupResult(id);
    }
  }
 catch (  Throwable t) {
    Slog.w(TAG,"Problem getting content resolver or performing contacts query.",t);
  }
 finally {
    if (c != null) {
      c.close();
    }
  }
  if (lookupResult == null) {
    lookupResult=new LookupResult(LookupResult.INVALID_ID);
  }
synchronized (mPeopleCache) {
    mPeopleCache.put(handle,lookupResult);
  }
  return lookupResult;
}
