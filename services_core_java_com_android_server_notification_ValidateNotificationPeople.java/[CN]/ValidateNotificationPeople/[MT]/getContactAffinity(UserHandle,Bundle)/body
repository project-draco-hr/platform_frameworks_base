{
  if (extras == null)   return NONE;
  final String key=Long.toString(System.nanoTime());
  final float[] affinityOut=new float[1];
  Context context=getContextAsUser(userHandle);
  if (context == null) {
    return NONE;
  }
  final PeopleRankingReconsideration prr=validatePeople(context,key,extras,affinityOut);
  float affinity=affinityOut[0];
  if (prr != null) {
    prr.work();
    affinity=Math.max(prr.getContactAffinity(),affinity);
  }
  return affinity;
}
