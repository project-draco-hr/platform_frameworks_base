{
  final List<WifiConfiguration> configs=mWifiManager.getConfiguredNetworks();
  final int size=configs != null ? configs.size() : 0;
  final Set<String> ssids=new HashSet<>(size);
  if (configs != null) {
    for (    WifiConfiguration config : configs) {
      ssids.add(removeDoubleQuotes(config.SSID));
    }
  }
  final NetworkPolicy[] policies=mInterface.getNetworkPolicies(null);
  final List<NetworkPolicy> wifiPolicies=new ArrayList<NetworkPolicy>(policies.length);
  for (  NetworkPolicy policy : policies) {
    if (!policy.template.isMatchRuleMobile()) {
      wifiPolicies.add(policy);
      final String netId=getNetworkId(policy);
      ssids.remove(netId);
    }
  }
  for (  String ssid : ssids) {
    final NetworkPolicy policy=newPolicy(ssid);
    wifiPolicies.add(policy);
  }
  return wifiPolicies;
}
