{
  Parcel p=createServiceCategoryProgramDataParcel();
  BitwiseOutputStream bos=createBearerDataStream(456,-1,-1);
  int category1NameLength=CAT_SEVERE_THREAT.length();
  int category2NameLength=CAT_AMBER_ALERTS.length();
  int subparamLengthBits=(101 + (category1NameLength * 7) + (category2NameLength * 7));
  int subparamLengthBytes=(subparamLengthBits + 7) / 8;
  int subparamPadBits=(subparamLengthBytes * 8) - subparamLengthBits;
  bos.write(8,SUBPARAM_SERVICE_CATEGORY_PROGRAM_DATA);
  bos.write(8,subparamLengthBytes);
  bos.write(5,UserData.ENCODING_7BIT_ASCII);
  bos.write(4,CdmaSmsCbProgramData.OPERATION_DELETE_CATEGORY);
  bos.write(8,(SmsEnvelope.SERVICE_CATEGORY_CMAS_SEVERE_THREAT >>> 8));
  bos.write(8,(SmsEnvelope.SERVICE_CATEGORY_CMAS_SEVERE_THREAT & 0xff));
  bos.write(8,BearerData.LANGUAGE_ENGLISH);
  bos.write(8,0);
  bos.write(4,CdmaSmsCbProgramData.ALERT_OPTION_NO_ALERT);
  bos.write(8,category1NameLength);
  for (int i=0; i < category1NameLength; i++) {
    bos.write(7,CAT_SEVERE_THREAT.charAt(i));
  }
  bos.write(4,CdmaSmsCbProgramData.OPERATION_DELETE_CATEGORY);
  bos.write(8,(SmsEnvelope.SERVICE_CATEGORY_CMAS_CHILD_ABDUCTION_EMERGENCY >>> 8));
  bos.write(8,(SmsEnvelope.SERVICE_CATEGORY_CMAS_CHILD_ABDUCTION_EMERGENCY & 0xff));
  bos.write(8,BearerData.LANGUAGE_ENGLISH);
  bos.write(8,0);
  bos.write(4,CdmaSmsCbProgramData.ALERT_OPTION_NO_ALERT);
  bos.write(8,category2NameLength);
  for (int i=0; i < category2NameLength; i++) {
    bos.write(7,CAT_AMBER_ALERTS.charAt(i));
  }
  bos.write(subparamPadBits,0);
  SmsMessage msg=createMessageFromParcel(p,bos.toByteArray());
  assertNotNull(msg);
  msg.parseSms();
  List<CdmaSmsCbProgramData> programDataList=msg.getSmsCbProgramData();
  assertNotNull(programDataList);
  assertEquals(2,programDataList.size());
  CdmaSmsCbProgramData programData=programDataList.get(0);
  assertEquals(CdmaSmsCbProgramData.OPERATION_DELETE_CATEGORY,programData.getOperation());
  assertEquals(SmsEnvelope.SERVICE_CATEGORY_CMAS_SEVERE_THREAT,programData.getCategory());
  assertEquals(CAT_SEVERE_THREAT,programData.getCategoryName());
  assertEquals(BearerData.LANGUAGE_ENGLISH,programData.getLanguage());
  assertEquals(0,programData.getMaxMessages());
  assertEquals(CdmaSmsCbProgramData.ALERT_OPTION_NO_ALERT,programData.getAlertOption());
  programData=programDataList.get(1);
  assertEquals(CdmaSmsCbProgramData.OPERATION_DELETE_CATEGORY,programData.getOperation());
  assertEquals(SmsEnvelope.SERVICE_CATEGORY_CMAS_CHILD_ABDUCTION_EMERGENCY,programData.getCategory());
  assertEquals(CAT_AMBER_ALERTS,programData.getCategoryName());
  assertEquals(BearerData.LANGUAGE_ENGLISH,programData.getLanguage());
  assertEquals(0,programData.getMaxMessages());
  assertEquals(CdmaSmsCbProgramData.ALERT_OPTION_NO_ALERT,programData.getAlertOption());
}
