{
  if (mPm == null)   return new ArrayList<ResolveInfo>();
  final Intent mainIntent=new Intent(Intent.ACTION_MAIN,null);
  mainIntent.addCategory(Intent.CATEGORY_LAUNCHER);
  List<ResolveInfo> activities=mPm.queryIntentActivities(mainIntent,0);
  Collections.sort(activities,new Comparator<ResolveInfo>(){
    @Override public int compare(    ResolveInfo o1,    ResolveInfo o2){
      return getActivityLabel(o1.activityInfo).compareTo(getActivityLabel(o2.activityInfo));
    }
  }
);
  return activities;
}
