{
  if (mAwm == null)   return null;
  if (mAssistComponent == null)   return null;
  List<AppWidgetProviderInfo> widgets=mAwm.getInstalledProviders(AppWidgetProviderInfo.WIDGET_CATEGORY_RECENTS);
  AppWidgetProviderInfo searchWidgetInfo=null;
  for (  AppWidgetProviderInfo info : widgets) {
    if (info.provider.getPackageName().equals(mAssistComponent.getPackageName())) {
      searchWidgetInfo=info;
      break;
    }
  }
  if (searchWidgetInfo == null)   return null;
  int searchWidgetId=host.allocateAppWidgetId();
  Bundle opts=new Bundle();
  opts.putInt(AppWidgetManager.OPTION_APPWIDGET_HOST_CATEGORY,AppWidgetProviderInfo.WIDGET_CATEGORY_RECENTS);
  if (!mAwm.bindAppWidgetIdIfAllowed(searchWidgetId,searchWidgetInfo.provider,opts)) {
    return null;
  }
  return new Pair<Integer,AppWidgetProviderInfo>(searchWidgetId,searchWidgetInfo);
}
