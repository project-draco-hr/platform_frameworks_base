{
  InputStream is;
  OutputStream os;
  try {
synchronized (this) {
      is=mInSocket.getInputStream();
      os=mOutSocket.getOutputStream();
    }
  }
 catch (  IOException e) {
    Log.w(LOG_TAG,this.toString(),e);
    return;
  }
  byte[] buffer=new byte[4096];
  int length;
  while (true) {
    try {
      if ((length=is.read(buffer)) <= 0) {
        break;
      }
      os.write(buffer,0,length);
    }
 catch (    IOException e) {
      Log.v(LOG_TAG,this.toString(),e);
      break;
    }
  }
  ConnectionHandler.this.stop();
  mOnFinishedCallback.onFinished();
}
