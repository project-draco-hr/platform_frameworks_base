{
  if (Binder.getCallingUid() != uid) {
    mContext.enforceCallingOrSelfPermission(ACCESS_NETWORK_STATE,TAG);
  }
  final NetworkStats networkLayer=mNetworkManager.getNetworkStatsUidDetail(uid);
  final NetworkStats dataLayer=new NetworkStats(networkLayer.getElapsedRealtime(),networkLayer.size());
  NetworkStats.Entry entry=null;
  for (int i=0; i < networkLayer.size(); i++) {
    entry=networkLayer.getValues(i,entry);
    entry.iface=IFACE_ALL;
    dataLayer.combineValues(entry);
  }
  dataLayer.spliceOperationsFrom(mOperations);
  return dataLayer;
}
