{
synchronized (mStatsLock) {
    readNetworkStatsLocked();
  }
  final IntentFilter ifaceFilter=new IntentFilter();
  ifaceFilter.addAction(CONNECTIVITY_ACTION);
  mContext.registerReceiver(mIfaceReceiver,ifaceFilter,CONNECTIVITY_INTERNAL,mHandler);
  final IntentFilter pollFilter=new IntentFilter(ACTION_NETWORK_STATS_POLL);
  mContext.registerReceiver(mPollReceiver,pollFilter,READ_NETWORK_USAGE_HISTORY,mHandler);
  final IntentFilter shutdownFilter=new IntentFilter(Intent.ACTION_SHUTDOWN);
  mContext.registerReceiver(mShutdownReceiver,shutdownFilter,SHUTDOWN,null);
  try {
    registerPollAlarmLocked();
  }
 catch (  RemoteException e) {
    Slog.w(TAG,"unable to register poll alarm");
  }
}
