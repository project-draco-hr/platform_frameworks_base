{
  ensureUidStatsLoadedLocked();
  final NetworkStats delta=computeStatsDelta(mLastPollTetherSnapshot,tetherSnapshot,false);
  final long timeStart=currentTime - delta.getElapsedRealtime();
  NetworkStats.Entry entry=null;
  for (int i=0; i < delta.size(); i++) {
    entry=delta.getValues(i,entry);
    final NetworkIdentitySet ident=mActiveIfaces.get(entry.iface);
    if (ident == null) {
      if (entry.rxBytes > 0 || entry.rxPackets > 0 || entry.txBytes > 0 || entry.txPackets > 0) {
        Log.w(TAG,"dropping tether delta from unknown iface: " + entry);
      }
      continue;
    }
    final NetworkStatsHistory history=findOrCreateUidStatsLocked(ident,UID_TETHERING,SET_DEFAULT,TAG_NONE);
    history.recordData(timeStart,currentTime,entry);
  }
  mLastPollTetherSnapshot=tetherSnapshot;
}
