{
  long end=System.currentTimeMillis();
  long start=end - mSettings.getNetworkMaxHistory();
  long rx=3 * GB_IN_BYTES;
  long tx=2 * GB_IN_BYTES;
  mNetworkStats.clear();
  for (  InterfaceIdentity ident : mActiveIface.values()) {
    final NetworkStatsHistory stats=findOrCreateNetworkLocked(ident);
    stats.generateRandom(start,end,rx,tx);
  }
  end=System.currentTimeMillis();
  start=end - mSettings.getUidMaxHistory();
  rx=500 * MB_IN_BYTES;
  tx=100 * MB_IN_BYTES;
  mUidStats.clear();
  for (  ApplicationInfo info : mContext.getPackageManager().getInstalledApplications(0)) {
    final int uid=info.uid;
    final NetworkStatsHistory stats=findOrCreateUidLocked(uid);
    stats.generateRandom(start,end,rx,tx);
  }
}
