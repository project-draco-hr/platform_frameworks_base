{
  long end=System.currentTimeMillis();
  long start=end - mSummaryMaxHistory.get();
  long rx=3 * GB_IN_BYTES;
  long tx=2 * GB_IN_BYTES;
  mSummaryStats.clear();
  for (  InterfaceIdentity ident : mActiveIface.values()) {
    final NetworkStatsHistory stats=findOrCreateSummaryLocked(ident);
    stats.generateRandom(start,end,rx,tx);
  }
  end=System.currentTimeMillis();
  start=end - mDetailMaxHistory.get();
  rx=500 * MB_IN_BYTES;
  tx=100 * MB_IN_BYTES;
  mDetailStats.clear();
  for (  ApplicationInfo info : mContext.getPackageManager().getInstalledApplications(0)) {
    final int uid=info.uid;
    final NetworkStatsHistory stats=findOrCreateDetailLocked(uid);
    stats.generateRandom(start,end,rx,tx);
  }
}
