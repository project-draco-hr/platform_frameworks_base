{
  mContext=checkNotNull(context,"missing Context");
  mNetworkManager=checkNotNull(networkManager,"missing INetworkManagementService");
  mAlarmManager=checkNotNull(alarmManager,"missing IAlarmManager");
  mTime=checkNotNull(time,"missing TrustedTime");
  mHandlerThread=new HandlerThread(TAG);
  mHandlerThread.start();
  mHandler=new Handler(mHandlerThread.getLooper());
  mSummaryFile=new AtomicFile(new File(systemDir,"netstats.bin"));
}
