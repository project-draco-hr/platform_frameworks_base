{
  if (DEBUG)   Log.d(TAG,"Animating from " + Integer.toHexString(from) + " to "+ Integer.toHexString(to));
  int fromIndex=from >> 1;
  int toIndex=to >> 1;
  setIndex(fromIndex);
  boolean fromTransition=(from & 1) != 0;
  boolean isAState=fromTransition ? from > to : from < to;
  int firstIndex=Math.min(fromIndex,toIndex);
  int secondIndex=Math.max(fromIndex,toIndex);
  if (secondIndex == firstIndex) {
    secondIndex++;
  }
  ImageView first=(ImageView)getChildAt(firstIndex);
  ImageView second=(ImageView)getChildAt(secondIndex);
  if (first == null || second == null) {
    return;
  }
  second.setTranslationX(first.getX() - second.getX());
  playAnimation(first,getTransition(fromTransition,isAState,false));
  first.setAlpha(getAlpha(false));
  playAnimation(second,getTransition(fromTransition,isAState,true));
  second.setAlpha(getAlpha(true));
  mAnimating=true;
}
