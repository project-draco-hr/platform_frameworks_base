{
  final Enumeration<String> aliases=mKeyStore.aliases();
  int count=0;
  final Set<String> expectedSet=new HashSet<String>();
  expectedSet.addAll(Arrays.asList(expectedAliases));
  while (aliases.hasMoreElements()) {
    count++;
    final String alias=aliases.nextElement();
    assertTrue("The alias should be in the expected set",expectedSet.contains(alias));
    expectedSet.remove(alias);
  }
  assertTrue("The expected set and actual set should be exactly equal",expectedSet.isEmpty());
  assertEquals("There should be the correct number of keystore entries",expectedAliases.length,count);
}
