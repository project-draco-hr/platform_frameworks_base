{
  mKeyStore.load(null,null);
  final CertificateFactory f=CertificateFactory.getInstance("X.509");
  final Certificate caCert=f.generateCertificate(new ByteArrayInputStream(FAKE_CA_1));
  KeyFactory keyFact=KeyFactory.getInstance("RSA");
  PrivateKey privKey=keyFact.generatePrivate(new PKCS8EncodedKeySpec(FAKE_KEY_1));
  final Certificate[] chain=new Certificate[2];
  chain[0]=f.generateCertificate(new ByteArrayInputStream(FAKE_USER_1));
  chain[1]=caCert;
  try {
    mKeyStore.setKeyEntry(TEST_ALIAS_1,privKey,"foo".toCharArray(),chain);
    fail("Should fail when a password is specified");
  }
 catch (  KeyStoreException success) {
  }
}
