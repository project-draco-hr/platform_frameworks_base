{
  if (!mKeyboardVisible || mScreenLocked)   return false;
  List<InputMethodInfo> imis=mImm.getEnabledInputMethodList();
  final int size=imis.size();
  final int visibility=loadInputMethodSelectorVisibility();
switch (visibility) {
case ID_IME_BUTTON_VISIBILITY_AUTO:
    return size > 1 || (size == 1 && mImm.getEnabledInputMethodSubtypeList(imis.get(0)).size() > 1);
case ID_IME_BUTTON_VISIBILITY_ALWAYS_SHOW:
  return true;
case ID_IME_BUTTON_VISIBILITY_ALWAYS_HIDE:
return false;
}
return false;
}
