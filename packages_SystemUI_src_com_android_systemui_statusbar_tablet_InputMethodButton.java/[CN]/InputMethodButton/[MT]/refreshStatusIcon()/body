{
  if (!needsToShowIMEButton()) {
    setVisibility(View.INVISIBLE);
    return;
  }
 else {
    setVisibility(View.VISIBLE);
  }
  Drawable icon=null;
switch (mId) {
case ID_IME_SWITCH_BUTTON:
    icon=getSubtypeIcon(getCurrentInputMethodInfo(),mImm.getCurrentInputMethodSubtype());
  break;
case ID_IME_SHORTCUT_BUTTON:
icon=getShortcutInputMethodAndSubtypeDrawable();
break;
}
if (mIcon != null) {
if (icon == null) {
mIcon.setImageResource(R.drawable.ic_sysbar_ime_default);
}
 else {
mIcon.setImageDrawable(icon);
}
}
}
