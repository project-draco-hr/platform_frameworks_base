{
  final long schTime=intent.getLongExtra(EXTRA_TIME,0);
  final long now=System.currentTimeMillis();
  Slog.d(TAG,String.format("%s scheduled for %s, fired at %s, delta=%s",intent.getAction(),ts(schTime),ts(now),now - schTime));
  final int[] days=ZenModeConfig.tryParseDays(mConfig.sleepMode);
  boolean enter=false;
  final int day=getDayOfWeek(schTime);
  if (days != null) {
    for (int i=0; i < days.length; i++) {
      if (days[i] == day) {
        enter=true;
        ZenModeHelper.this.setZenMode(zenModeValue);
        break;
      }
    }
  }
  ZenLog.traceDowntime(enter,day,days);
  updateAlarms();
}
