{
  final long schTime=intent.getLongExtra(EXTRA_TIME,0);
  final long now=System.currentTimeMillis();
  Slog.d(TAG,String.format("%s scheduled for %s, fired at %s, delta=%s",intent.getAction(),ts(schTime),ts(now),now - schTime));
  final int[] days=ZenModeConfig.tryParseDays(mConfig.sleepMode);
  if (days != null) {
    final int day=getDayOfWeek(schTime);
    for (int i=0; i < days.length; i++) {
      if (days[i] == day) {
        Slog.d(TAG,"Enter downtime, day=" + day + " days="+ Arrays.asList(days));
        ZenModeHelper.this.setZenMode(zenModeValue);
        break;
      }
 else {
        Slog.d(TAG,"Skip downtime, day=" + day + " days="+ Arrays.asList(days));
      }
    }
  }
 else {
    Slog.d(TAG,"Skip downtime, no days configured");
  }
  updateAlarms();
}
