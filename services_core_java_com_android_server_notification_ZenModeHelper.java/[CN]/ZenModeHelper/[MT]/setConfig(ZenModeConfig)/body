{
  if (config == null || !config.isValid())   return false;
  if (config.equals(mConfig))   return true;
  mConfig=config;
  Slog.d(TAG,"mConfig=" + mConfig);
  if (mCallback != null)   mCallback.onConfigChanged();
  final String val=Integer.toString(mConfig.hashCode());
  Global.putString(mContext.getContentResolver(),Global.ZEN_MODE_CONFIG_ETAG,val);
  updateAlarms();
  updateZenMode();
  return true;
}
