{
  final int callingUid=Binder.getCallingUid();
  if (callingUid == 0 || callingUid == Process.SYSTEM_UID) {
    return true;
  }
 else   if (mContext.checkCallingPermission(android.Manifest.permission.MANAGE_NOTIFICATIONS) == PackageManager.PERMISSION_GRANTED) {
    return true;
  }
 else {
    String[] packages=mPm.getPackagesForUid(Binder.getCallingUid());
    if (packages != null) {
      final int packageCount=packages.length;
      for (int i=0; i < packageCount; i++) {
        if (packages[i].equals(rule.component.getPackageName())) {
          return true;
        }
      }
    }
    return false;
  }
}
