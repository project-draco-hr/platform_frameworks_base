{
  if (mAudioManager == null)   return;
  final int ringerModeInternal=mAudioManager.getRingerModeInternal();
  int newRingerModeInternal=ringerModeInternal;
switch (mZenMode) {
case Global.ZEN_MODE_NO_INTERRUPTIONS:
case Global.ZEN_MODE_ALARMS:
    if (ringerModeInternal != AudioManager.RINGER_MODE_SILENT) {
      mPreviousRingerMode=ringerModeInternal;
      newRingerModeInternal=AudioManager.RINGER_MODE_SILENT;
    }
  break;
case Global.ZEN_MODE_IMPORTANT_INTERRUPTIONS:
case Global.ZEN_MODE_OFF:
if (ringerModeInternal == AudioManager.RINGER_MODE_SILENT) {
  newRingerModeInternal=mPreviousRingerMode != -1 ? mPreviousRingerMode : AudioManager.RINGER_MODE_NORMAL;
  mPreviousRingerMode=-1;
}
break;
}
if (newRingerModeInternal != -1) {
mAudioManager.setRingerModeInternal(newRingerModeInternal,TAG);
}
}
