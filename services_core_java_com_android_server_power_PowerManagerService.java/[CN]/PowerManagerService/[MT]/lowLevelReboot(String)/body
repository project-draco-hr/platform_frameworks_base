{
  if (reason == null) {
    reason="";
  }
  long duration;
  if (reason.equals(PowerManager.REBOOT_RECOVERY)) {
    SystemProperties.set("ctl.start","pre-recovery");
    duration=300 * 1000L;
  }
 else {
    SystemProperties.set("sys.powerctl","reboot," + reason);
    duration=20 * 1000L;
  }
  try {
    Thread.sleep(duration);
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
  }
}
