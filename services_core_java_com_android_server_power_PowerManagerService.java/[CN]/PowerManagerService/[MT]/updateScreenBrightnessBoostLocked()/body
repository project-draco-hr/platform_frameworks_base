{
  if (mScreenBrightnessBoostInProgress) {
    mHandler.removeMessages(MSG_SCREEN_BRIGHTNESS_BOOST_TIMEOUT);
    if (mLastScreenBrightnessBoostTime > mLastSleepTime) {
      final long boostTimeout=mLastScreenBrightnessBoostTime + SCREEN_BRIGHTNESS_BOOST_TIMEOUT;
      if (boostTimeout > SystemClock.uptimeMillis()) {
        Message msg=mHandler.obtainMessage(MSG_SCREEN_BRIGHTNESS_BOOST_TIMEOUT);
        msg.setAsynchronous(true);
        mHandler.sendMessageAtTime(msg,boostTimeout);
        return;
      }
    }
    mScreenBrightnessBoostInProgress=false;
  }
}
