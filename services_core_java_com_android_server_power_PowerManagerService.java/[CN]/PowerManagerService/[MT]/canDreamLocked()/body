{
  if (mWakefulness != WAKEFULNESS_DREAMING || !mDreamsSupportedConfig || !mDreamsEnabledSetting || !mDisplayPowerRequest.isBrightOrDim() || !mBootCompleted) {
    return false;
  }
  if (!isBeingKeptAwakeLocked()) {
    if (!mIsPowered && !mDreamsEnabledOnBatteryConfig) {
      return false;
    }
    if (!mIsPowered && mDreamsBatteryLevelMinimumWhenNotPoweredConfig >= 0 && mBatteryLevel < mDreamsBatteryLevelMinimumWhenNotPoweredConfig) {
      return false;
    }
    if (mIsPowered && mDreamsBatteryLevelMinimumWhenPoweredConfig >= 0 && mBatteryLevel < mDreamsBatteryLevelMinimumWhenPoweredConfig) {
      return false;
    }
  }
  return true;
}
