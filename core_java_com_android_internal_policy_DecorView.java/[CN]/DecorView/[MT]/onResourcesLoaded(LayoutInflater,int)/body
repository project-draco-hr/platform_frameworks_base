{
  mStackId=getStackId();
  mResizingBackgroundDrawable=getResizingBackgroundDrawable(mWindow.mBackgroundResource,mWindow.mBackgroundFallbackResource);
  mCaptionBackgroundDrawable=getContext().getDrawable(R.drawable.decor_caption_title_focused);
  if (mBackdropFrameRenderer != null) {
    mBackdropFrameRenderer.onResourcesLoaded(this,mResizingBackgroundDrawable,mCaptionBackgroundDrawable,getCurrentColor(mStatusColorViewState));
  }
  mDecorCaptionView=createDecorCaptionView(inflater);
  final View root=inflater.inflate(layoutResource,null);
  if (mDecorCaptionView != null) {
    if (mDecorCaptionView.getParent() == null) {
      addView(mDecorCaptionView,new ViewGroup.LayoutParams(MATCH_PARENT,MATCH_PARENT));
    }
    mDecorCaptionView.addView(root,new ViewGroup.MarginLayoutParams(MATCH_PARENT,MATCH_PARENT));
  }
 else {
    addView(root,new ViewGroup.LayoutParams(MATCH_PARENT,MATCH_PARENT));
  }
  mContentRoot=(ViewGroup)root;
  initializeElevation();
  return root;
}
