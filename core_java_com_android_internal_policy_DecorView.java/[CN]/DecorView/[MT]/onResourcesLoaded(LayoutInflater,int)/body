{
  mWorkspaceId=getWorkspaceId();
  mResizingBackgroundDrawable=getResizingBackgroundDrawable(mWindow.mBackgroundResource,mWindow.mBackgroundFallbackResource);
  mCaptionBackgroundDrawable=getContext().getDrawable(R.drawable.non_client_decor_title_focused);
  if (mBackdropFrameRenderer != null) {
    mBackdropFrameRenderer.onResourcesLoaded(this,mResizingBackgroundDrawable,mCaptionBackgroundDrawable);
  }
  mNonClientDecorView=createNonClientDecorView(inflater);
  final View root=inflater.inflate(layoutResource,null);
  if (mNonClientDecorView != null) {
    if (mNonClientDecorView.getParent() == null) {
      addView(mNonClientDecorView,new ViewGroup.LayoutParams(MATCH_PARENT,MATCH_PARENT));
    }
    mNonClientDecorView.addView(root,new ViewGroup.LayoutParams(MATCH_PARENT,MATCH_PARENT));
  }
 else {
    addView(root,new ViewGroup.LayoutParams(MATCH_PARENT,MATCH_PARENT));
  }
  mContentRoot=(ViewGroup)root;
  initializeElevation();
  return root;
}
