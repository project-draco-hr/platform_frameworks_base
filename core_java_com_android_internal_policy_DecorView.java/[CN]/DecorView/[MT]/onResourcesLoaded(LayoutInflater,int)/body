{
  mStackId=getStackId();
  if (mBackdropFrameRenderer != null) {
    loadBackgroundDrawablesIfNeeded();
    mBackdropFrameRenderer.onResourcesLoaded(this,mResizingBackgroundDrawable,mCaptionBackgroundDrawable,mUserCaptionBackgroundDrawable,getCurrentColor(mStatusColorViewState),getCurrentColor(mNavigationColorViewState));
  }
  mDecorCaptionView=createDecorCaptionView(inflater);
  final View root=inflater.inflate(layoutResource,null);
  if (mDecorCaptionView != null) {
    if (mDecorCaptionView.getParent() == null) {
      addView(mDecorCaptionView,new ViewGroup.LayoutParams(MATCH_PARENT,MATCH_PARENT));
    }
    mDecorCaptionView.addView(root,new ViewGroup.MarginLayoutParams(MATCH_PARENT,MATCH_PARENT));
  }
 else {
    addView(root,0,new ViewGroup.LayoutParams(MATCH_PARENT,MATCH_PARENT));
  }
  mContentRoot=(ViewGroup)root;
  initializeElevation();
}
