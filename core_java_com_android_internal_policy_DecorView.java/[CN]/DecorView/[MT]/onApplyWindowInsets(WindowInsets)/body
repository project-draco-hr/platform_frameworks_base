{
  final WindowManager.LayoutParams attrs=mWindow.getAttributes();
  mFloatingInsets.setEmpty();
  if ((attrs.flags & FLAG_FULLSCREEN) == 0) {
    if (attrs.height == WindowManager.LayoutParams.WRAP_CONTENT) {
      mFloatingInsets.top=insets.getSystemWindowInsetTop();
      mFloatingInsets.bottom=insets.getSystemWindowInsetBottom();
      insets=insets.replaceSystemWindowInsets(insets.getSystemWindowInsetLeft(),0,insets.getSystemWindowInsetRight(),0);
    }
    if (mWindow.getAttributes().width == WindowManager.LayoutParams.WRAP_CONTENT) {
      mFloatingInsets.left=insets.getSystemWindowInsetTop();
      mFloatingInsets.right=insets.getSystemWindowInsetBottom();
      insets=insets.replaceSystemWindowInsets(0,insets.getSystemWindowInsetTop(),0,insets.getSystemWindowInsetBottom());
    }
  }
  mFrameOffsets.set(insets.getSystemWindowInsets());
  insets=updateColorViews(insets,true);
  insets=updateStatusGuard(insets);
  updateNavigationGuard(insets);
  if (getForeground() != null) {
    drawableChanged();
  }
  return insets;
}
