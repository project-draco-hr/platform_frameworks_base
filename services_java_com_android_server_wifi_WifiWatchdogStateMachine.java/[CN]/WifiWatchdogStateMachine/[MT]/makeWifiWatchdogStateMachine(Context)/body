{
  ContentResolver contentResolver=context.getContentResolver();
  ConnectivityManager cm=(ConnectivityManager)context.getSystemService(Context.CONNECTIVITY_SERVICE);
  sWifiOnly=(cm.isNetworkSupported(ConnectivityManager.TYPE_MOBILE) == false);
  putSettingsGlobalBoolean(contentResolver,Settings.Global.WIFI_WATCHDOG_ON,true);
  WifiWatchdogStateMachine wwsm=new WifiWatchdogStateMachine(context);
  wwsm.start();
  return wwsm;
}
