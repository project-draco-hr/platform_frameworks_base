{
  final long currentTime=mTime.hasCache() ? mTime.currentTimeMillis() : System.currentTimeMillis();
  try {
    final NetworkStats uidSnapshot=getNetworkStatsUidDetail();
    final NetworkStats xtSnapshot=mNetworkManager.getNetworkStatsSummaryXt();
    final NetworkStats devSnapshot=mNetworkManager.getNetworkStatsSummaryDev();
    mDevRecorder.recordSnapshotLocked(devSnapshot,mActiveIfaces,currentTime);
    mXtRecorder.recordSnapshotLocked(xtSnapshot,mActiveIfaces,currentTime);
    mUidRecorder.recordSnapshotLocked(uidSnapshot,mActiveIfaces,currentTime);
    mUidTagRecorder.recordSnapshotLocked(uidSnapshot,mActiveIfaces,currentTime);
  }
 catch (  IllegalStateException e) {
    Slog.w(TAG,"problem reading network stats: " + e);
  }
catch (  RemoteException e) {
  }
}
