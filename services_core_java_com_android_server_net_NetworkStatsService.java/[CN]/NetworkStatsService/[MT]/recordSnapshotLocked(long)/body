{
  final NetworkStats uidSnapshot=getNetworkStatsUidDetail();
  final NetworkStats xtSnapshot=mNetworkManager.getNetworkStatsSummaryXt();
  final NetworkStats devSnapshot=mNetworkManager.getNetworkStatsSummaryDev();
  VpnInfo[] vpnArray=mConnManager.getAllVpnInfo();
  mDevRecorder.recordSnapshotLocked(devSnapshot,mActiveIfaces,null,currentTime);
  mXtRecorder.recordSnapshotLocked(xtSnapshot,mActiveIfaces,null,currentTime);
  mUidRecorder.recordSnapshotLocked(uidSnapshot,mActiveUidIfaces,vpnArray,currentTime);
  mUidTagRecorder.recordSnapshotLocked(uidSnapshot,mActiveUidIfaces,vpnArray,currentTime);
}
