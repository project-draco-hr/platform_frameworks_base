{
  when(mClock.currentTimeMillis()).thenReturn(0L);
  NotificationData.Entry a=makeNotification("a");
  mHeadsUp.showNotification(a);
  reset(mMockStatusBar);
  when(mClock.currentTimeMillis()).thenReturn(LATER);
  NotificationData.Entry a_prime=makeNotification("a");
  mHeadsUp.updateNotification(a_prime,false);
  mHeadsUp.release();
  Mockito.verify(mMockStatusBar,times(1)).scheduleHeadsUpClose();
  Mockito.verify(mMockStatusBar,never()).scheduleHeadsUpDecay(anyInt());
}
