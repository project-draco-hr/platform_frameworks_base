{
  InOrder callOrder=inOrder(mMockStatusBar);
  when(mClock.currentTimeMillis()).thenReturn(0L);
  NotificationData.Entry a=makeNotification("a");
  mHeadsUp.showNotification(a);
  reset(mMockStatusBar);
  when(mClock.currentTimeMillis()).thenReturn(TOO_SOON);
  NotificationData.Entry b=makeNotification("b");
  mHeadsUp.showNotification(b);
  Mockito.verify(mMockStatusBar,times(1)).scheduleHeadsUpClose();
  ArgumentCaptor<Long> decayArg=ArgumentCaptor.forClass(Long.class);
  Mockito.verify(mMockStatusBar,times(1)).scheduleHeadsUpDecay(decayArg.capture());
  assertEquals(NOTIFICATION_DECAY,(long)decayArg.getValue());
  callOrder.verify(mMockStatusBar).scheduleHeadsUpClose();
  callOrder.verify(mMockStatusBar).scheduleHeadsUpOpen();
}
