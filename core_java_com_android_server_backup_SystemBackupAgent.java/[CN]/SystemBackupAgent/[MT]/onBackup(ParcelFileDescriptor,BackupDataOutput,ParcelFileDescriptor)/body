{
  IWallpaperManager wallpaper=(IWallpaperManager)ServiceManager.getService(Context.WALLPAPER_SERVICE);
  String[] files=new String[]{WALLPAPER_IMAGE,WALLPAPER_INFO};
  String[] keys=new String[]{WALLPAPER_IMAGE_KEY,WALLPAPER_INFO_KEY};
  if (wallpaper != null) {
    try {
      final String wallpaperName=wallpaper.getName();
      if (wallpaperName != null && wallpaperName.length() > 0) {
        files=new String[]{WALLPAPER_INFO};
        keys=new String[]{WALLPAPER_INFO_KEY};
      }
    }
 catch (    RemoteException re) {
      Slog.e(TAG,"Couldn't get wallpaper name\n" + re);
    }
  }
  addHelper("wallpaper",new WallpaperBackupHelper(SystemBackupAgent.this,files,keys));
  addHelper("recents",new RecentsBackupHelper(SystemBackupAgent.this));
  super.onBackup(oldState,data,newState);
}
