{
  final int listBottom=mListView.getHeight() - mListView.getListPaddingBottom();
  final View lastVisibleView=mListView.getChildAt(mListView.getChildCount() - 1);
  sendKeys(KeyEvent.KEYCODE_DPAD_DOWN);
  assertEquals("expecting view to be panned to just above fading edge",listBottom - mListView.getVerticalFadingEdgeLength(),lastVisibleView.getBottom());
  assertEquals("selection should not have moved yet",0,mListView.getSelectedItemPosition());
  sendKeys(KeyEvent.KEYCODE_DPAD_DOWN);
  assertEquals("selection should have moved",4,mListView.getSelectedItemPosition());
  assertEquals("wrong view created when scrolling",getActivity().getValueAtPosition(4),((TextView)mListView.getSelectedView()).getText());
  assertEquals(listBottom,mListView.getSelectedView().getBottom());
}
