{
  PointerIcon icon=new PointerIcon();
  XmlResourceParser parser=resources.getXml(resourceId);
  final int bitmapRes;
  try {
    XmlUtils.beginDocument(parser,"pointer-icon");
    TypedArray a=resources.obtainAttributes(parser,com.android.internal.R.styleable.PointerIcon);
    bitmapRes=a.getResourceId(com.android.internal.R.styleable.PointerIcon_bitmap,0);
    icon.hotSpotX=a.getFloat(com.android.internal.R.styleable.PointerIcon_hotSpotX,0);
    icon.hotSpotY=a.getFloat(com.android.internal.R.styleable.PointerIcon_hotSpotY,0);
    a.recycle();
  }
 catch (  Exception ex) {
    Slog.e(TAG,"Exception parsing pointer icon resource.",ex);
    return null;
  }
 finally {
    parser.close();
  }
  if (bitmapRes == 0) {
    Slog.e(TAG,"<pointer-icon> is missing bitmap attribute");
    return null;
  }
  Drawable drawable=resources.getDrawable(bitmapRes);
  if (!(drawable instanceof BitmapDrawable)) {
    Slog.e(TAG,"<pointer-icon> bitmap attribute must refer to a bitmap drawable");
    return null;
  }
  icon.bitmap=((BitmapDrawable)drawable).getBitmap();
  return icon;
}
