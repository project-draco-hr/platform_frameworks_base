{
  if (DEBUG)   Log.d(TAG,"handleConfigurationChange");
  final boolean inPortrait=queryInPortrait();
  if (mInPortrait != inPortrait) {
    mInPortrait=inPortrait;
    for (int i=0; i < mConfigurationChangeCallbacks.size(); i++) {
      mConfigurationChangeCallbacks.get(i).onOrientationChange(inPortrait);
    }
  }
  final boolean keyboardOpen=queryKeyboardOpen();
  if (mKeyboardOpen != keyboardOpen) {
    mKeyboardOpen=keyboardOpen;
    for (int i=0; i < mConfigurationChangeCallbacks.size(); i++) {
      mConfigurationChangeCallbacks.get(i).onKeyboardChange(keyboardOpen);
    }
  }
}
