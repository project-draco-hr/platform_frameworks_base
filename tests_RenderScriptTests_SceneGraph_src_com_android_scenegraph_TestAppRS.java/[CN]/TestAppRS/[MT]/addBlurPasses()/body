{
  ArrayList<DrawableBase> allDraw=mActiveScene.getDrawables();
  int numDraw=allDraw.size();
  RenderState drawTex=new RenderState(mPV_Blur,mPF_Texture,BLEND_ADD_DEPTH_NONE(mRS),ProgramRaster.CULL_NONE(mRS));
  RenderState selectCol=new RenderState(mPV_Blur,mPF_SelectColor,ProgramStore.BLEND_NONE_DEPTH_NONE(mRS),ProgramRaster.CULL_NONE(mRS));
  RenderState hBlur=new RenderState(mPV_Blur,mPF_BlurH,ProgramStore.BLEND_NONE_DEPTH_NONE(mRS),ProgramRaster.CULL_NONE(mRS));
  RenderState vBlur=new RenderState(mPV_Blur,mPF_BlurV,ProgramStore.BLEND_NONE_DEPTH_NONE(mRS),ProgramRaster.CULL_NONE(mRS));
  RenderPass blurSourcePass=new RenderPass();
  blurSourcePass.setColorTarget(mRenderTargetBlur0Color);
  blurSourcePass.setDepthTarget(mRenderTargetBlur0Depth);
  blurSourcePass.setClearColor(new Float4(1.0f,1.0f,1.0f,1.0f));
  blurSourcePass.setShouldClearColor(true);
  blurSourcePass.setClearDepth(1.0f);
  blurSourcePass.setShouldClearDepth(true);
  blurSourcePass.setCamera(mActiveScene.getCameras().get(1));
  for (int i=0; i < numDraw; i++) {
    blurSourcePass.appendDrawable((Drawable)allDraw.get(i));
  }
  mActiveScene.appendRenderPass(blurSourcePass);
  RenderPass selectColorPass=new RenderPass();
  selectColorPass.setColorTarget(mRenderTargetBlur2Color);
  selectColorPass.setDepthTarget(mRenderTargetBlur2Depth);
  selectColorPass.setShouldClearColor(false);
  selectColorPass.setShouldClearDepth(false);
  selectColorPass.setCamera(mActiveScene.getCameras().get(1));
  Drawable quad=getDrawableQuad("ScreenAlignedQuadS",selectCol);
  quad.updateTextures(mRS,mRenderTargetBlur0Color,0);
  selectColorPass.appendDrawable(quad);
  mActiveScene.appendRenderPass(selectColorPass);
  RenderPass horizontalBlurPass=new RenderPass();
  horizontalBlurPass.setColorTarget(mRenderTargetBlur1Color);
  horizontalBlurPass.setDepthTarget(mRenderTargetBlur1Depth);
  horizontalBlurPass.setShouldClearColor(false);
  horizontalBlurPass.setShouldClearDepth(false);
  horizontalBlurPass.setCamera(mActiveScene.getCameras().get(1));
  quad=getDrawableQuad("ScreenAlignedQuadH",hBlur);
  quad.updateTextures(mRS,mRenderTargetBlur2Color,0);
  horizontalBlurPass.appendDrawable(quad);
  mActiveScene.appendRenderPass(horizontalBlurPass);
  RenderPass verticalBlurPass=new RenderPass();
  verticalBlurPass.setColorTarget(mRenderTargetBlur2Color);
  verticalBlurPass.setDepthTarget(mRenderTargetBlur2Depth);
  verticalBlurPass.setShouldClearColor(false);
  verticalBlurPass.setShouldClearDepth(false);
  verticalBlurPass.setCamera(mActiveScene.getCameras().get(1));
  quad=getDrawableQuad("ScreenAlignedQuadV",vBlur);
  quad.updateTextures(mRS,mRenderTargetBlur1Color,0);
  verticalBlurPass.appendDrawable(quad);
  mActiveScene.appendRenderPass(verticalBlurPass);
}
