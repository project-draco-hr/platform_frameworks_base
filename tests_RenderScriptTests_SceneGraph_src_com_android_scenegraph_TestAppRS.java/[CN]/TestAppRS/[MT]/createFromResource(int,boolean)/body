{
  ProgramFragment.Builder fb=new ProgramFragment.Builder(mRS);
  fb.addConstant(mFsConst.getAllocation().getType());
  fb.setShader(mRes,id);
  fb.addTexture(TextureType.TEXTURE_2D);
  if (addCubemap) {
    fb.addTexture(TextureType.TEXTURE_CUBE);
  }
  ProgramFragment pf=fb.create();
  pf.bindConstants(mFsConst.getAllocation(),0);
  pf.bindSampler(Sampler.WRAP_LINEAR_MIP_LINEAR(mRS),0);
  if (addCubemap) {
    pf.bindSampler(Sampler.CLAMP_LINEAR_MIP_LINEAR(mRS),1);
  }
  return pf;
}
