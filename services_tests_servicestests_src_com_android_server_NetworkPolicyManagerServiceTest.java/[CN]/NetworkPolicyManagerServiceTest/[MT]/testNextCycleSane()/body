{
  final NetworkPolicy policy=new NetworkPolicy(sTemplateWifi,31,WARNING_DISABLED,LIMIT_DISABLED,SNOOZE_NEVER,false);
  final LinkedHashSet<Long> seen=new LinkedHashSet<Long>();
  long currentCycle=computeNextCycleBoundary(parseTime("2011-08-01T00:00:00.000Z"),policy);
  for (int i=0; i < 128; i++) {
    long nextCycle=computeNextCycleBoundary(currentCycle,policy);
    assertEqualsFuzzy(DAY_IN_MILLIS * 30,nextCycle - currentCycle,DAY_IN_MILLIS * 3);
    assertUnique(seen,nextCycle);
    currentCycle=nextCycle;
  }
}
