{
  String x=new String("serialize_foobar");
  java.io.ByteArrayOutputStream baos=new java.io.ByteArrayOutputStream();
  (new java.io.ObjectOutputStream(baos)).writeObject(x);
  ObjectInputStream ois=new java.io.ObjectInputStream(new java.io.ByteArrayInputStream(baos.toByteArray()));
  Class<ObjectInputStream> oClass=ObjectInputStream.class;
  Method m=oClass.getDeclaredMethod("setField",new Class[]{Object.class,Class.class,String.class,short.class});
  short start=123;
  short origval=-1;
  Short obj=new Short(start);
  Class<Short> declaringClass=Short.class;
  String fieldDescName="value";
  assertEquals(obj.shortValue(),start);
  m.setAccessible(true);
  m.invoke(ois,new Object[]{obj,declaringClass,fieldDescName,new Short(origval)});
  short res=obj.shortValue();
  assertEquals("Read and written values must be equal",origval,res);
}
