{
  ClassClass loaded=mClassCache.get(className);
  if (loaded != null) {
    return loaded;
  }
  L.d("trying to load class %s from %s",className,mClassLoader.toString());
  loaded=loadPrimitive(className);
  if (loaded == null) {
    try {
      if (className.startsWith("[") && className.contains("L")) {
        int indexOfL=className.indexOf('L');
        ClassClass baseClass=findClass(className.substring(indexOfL + 1,className.length() - 1));
        String realClassName=className.substring(0,indexOfL + 1) + baseClass.mClass.getCanonicalName() + ';';
        loaded=new ClassClass(Class.forName(realClassName,false,mClassLoader));
        mClassCache.put(className,loaded);
      }
 else {
        loaded=loadRecursively(className);
        mClassCache.put(className,loaded);
      }
    }
 catch (    Throwable t) {
      L.e(t,"cannot load class " + className);
    }
  }
  Preconditions.checkNotNull(loaded,"Tried to load " + className + " but could not find :/");
  L.d("loaded class %s",loaded.mClass.getCanonicalName());
  return loaded;
}
