{
  final float distance=-mVelocity * mVelocity / (2.0f * mDeceleration);
  if (Math.abs(distance) < mOver) {
    mState=TO_BOUNCE;
    mFinal=mStart;
    mDuration=-(int)(2000.0f * mVelocity / mDeceleration);
  }
 else {
    mState=TO_BOUNDARY;
    int over=mVelocity > 0 ? mOver : -mOver;
    mFinal=mStart + over;
    mDuration=(int)(1000.0 * Math.PI * over / 2.0 / mVelocity);
  }
}
