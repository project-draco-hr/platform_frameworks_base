{
  if (callback == null) {
    throw new IllegalArgumentException("callback cannot be null");
  }
  AdvertiseCallbackWrapper wrapper=mLeAdvertisers.get(callback);
  if (wrapper == null) {
    postCallbackFailure(callback,AdvertiseCallback.ADVERTISE_FAILED_NOT_STARTED);
    return;
  }
  try {
    IBluetoothGatt gatt=mBluetoothManager.getBluetoothGatt();
    if (gatt == null) {
      postCallbackFailure(callback,AdvertiseCallback.ADVERTISE_FAILED_GATT_SERVICE_FAILURE);
    }
    gatt.stopMultiAdvertising(wrapper.mLeHandle);
    if (wrapper.advertiseStopped()) {
      mLeAdvertisers.remove(callback);
    }
  }
 catch (  RemoteException e) {
    Log.e(TAG,"failed to stop advertising",e);
    postCallbackFailure(callback,AdvertiseCallback.ADVERTISE_FAILED_GATT_SERVICE_FAILURE);
  }
}
