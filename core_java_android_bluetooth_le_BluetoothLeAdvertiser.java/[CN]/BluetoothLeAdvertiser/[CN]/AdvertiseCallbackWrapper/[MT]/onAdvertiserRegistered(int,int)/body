{
  Log.d(TAG,"onAdvertiserRegistered() - status=" + status + " advertiserId="+ advertiserId);
synchronized (this) {
    if (status == BluetoothGatt.GATT_SUCCESS) {
      try {
        if (mAdvertiserId == -1) {
          mBluetoothGatt.unregisterAdvertiser(advertiserId);
        }
 else {
          mAdvertiserId=advertiserId;
          mBluetoothGatt.startMultiAdvertising(mAdvertiserId,mAdvertisement,mScanResponse,mSettings);
        }
        return;
      }
 catch (      RemoteException e) {
        Log.e(TAG,"failed to start advertising",e);
      }
    }
    mAdvertiserId=-1;
    notifyAll();
  }
}
