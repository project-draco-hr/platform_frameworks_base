{
  ResponseCache installed=ResponseCache.getDefault();
  if (installed instanceof com.android.okhttp.HttpResponseCache) {
    com.android.okhttp.HttpResponseCache installedCache=(com.android.okhttp.HttpResponseCache)installed;
    if (installedCache.getDirectory().equals(directory) && installedCache.getMaxSize() == maxSize && !installedCache.isClosed()) {
      return new HttpResponseCache(installedCache);
    }
 else {
      installedCache.close();
    }
  }
  com.android.okhttp.HttpResponseCache responseCache=new com.android.okhttp.HttpResponseCache(directory,maxSize);
  ResponseCache.setDefault(responseCache);
  return new HttpResponseCache(responseCache);
}
