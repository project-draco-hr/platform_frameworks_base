{
  mEncryptionAlgorithm=source.readString();
  final int encParamType=source.readInt();
  final byte[] encParamsEncoded=source.createByteArray();
  mEncryptionKey=(SecretKey)source.readSerializable();
  mMacAlgorithm=source.readString();
  final int macParamType=source.readInt();
  source.createByteArray();
  mMacKey=(SecretKey)source.readSerializable();
  mMacTag=source.createByteArray();
  mAuthenticatedDataStart=source.readInt();
  mEncryptedDataStart=source.readInt();
  mDataEnd=source.readInt();
switch (encParamType) {
case ENC_PARAMS_IV_PARAMETERS:
    mEncryptionSpec=new IvParameterSpec(encParamsEncoded);
  break;
default :
throw new InvalidAlgorithmParameterException("Unknown parameter type " + encParamType);
}
switch (macParamType) {
case MAC_PARAMS_NONE:
mMacSpec=null;
break;
default :
throw new InvalidAlgorithmParameterException("Unknown parameter type " + macParamType);
}
if (mEncryptionKey == null) {
throw new NullPointerException("encryptionKey == null");
}
}
