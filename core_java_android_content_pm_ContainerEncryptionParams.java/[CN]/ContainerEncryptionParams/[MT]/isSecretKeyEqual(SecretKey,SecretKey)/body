{
  final String keyFormat=key1.getFormat();
  final String otherKeyFormat=key2.getFormat();
  if (keyFormat == null) {
    if (keyFormat != otherKeyFormat) {
      return false;
    }
    if (key1.getEncoded() != key2.getEncoded()) {
      return false;
    }
  }
 else {
    if (!keyFormat.equals(key2.getFormat())) {
      return false;
    }
    if (!Arrays.equals(key1.getEncoded(),key2.getEncoded())) {
      return false;
    }
  }
  return true;
}
