{
  mCanceled=false;
  sortNodes();
  final ArrayList<Node> nodesToStart=new ArrayList<Node>();
  for (  Node node : mSortedNodes) {
    if (mSequenceListener == null) {
      mSequenceListener=new SequencerAnimatableListener(this);
    }
    if (node.dependencies == null || node.dependencies.size() == 0) {
      nodesToStart.add(node);
    }
 else {
      for (      Dependency dependency : node.dependencies) {
        dependency.node.animation.addListener(new DependencyListener(this,node,dependency.rule));
      }
      node.tmpDependencies=(ArrayList<Dependency>)node.dependencies.clone();
    }
    node.animation.addListener(mSequenceListener);
  }
  if (mStartDelay <= 0) {
    for (    Node node : nodesToStart) {
      node.animation.start();
      mPlayingSet.add(node.animation);
    }
  }
 else {
    Animator delayAnim=new Animator(mStartDelay,0f,1f);
    delayAnim.addListener(new AnimatableListenerAdapter(){
      public void onAnimationEnd(      Animatable anim){
        for (        Node node : nodesToStart) {
          node.animation.start();
          mPlayingSet.add(node.animation);
        }
      }
    }
);
  }
  if (mListeners != null) {
    ArrayList<AnimatableListener> tmpListeners=(ArrayList<AnimatableListener>)mListeners.clone();
    for (    AnimatableListener listener : tmpListeners) {
      listener.onAnimationStart(this);
    }
  }
}
