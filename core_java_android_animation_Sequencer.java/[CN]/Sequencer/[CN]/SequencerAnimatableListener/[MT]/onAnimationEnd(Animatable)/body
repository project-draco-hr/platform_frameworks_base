{
  animation.removeListener(this);
  mPlayingSet.remove(animation);
  Node animNode=mSequencer.mNodeMap.get(animation);
  animNode.done=true;
  ArrayList<Node> sortedNodes=mSequencer.mSortedNodes;
  int numNodes=sortedNodes.size();
  int nodeIndex=sortedNodes.indexOf(animNode);
  boolean allDone=true;
  for (int i=nodeIndex + 1; i < numNodes; ++i) {
    if (!sortedNodes.get(i).done) {
      allDone=false;
      break;
    }
  }
  if (allDone) {
    if (mListeners != null) {
      ArrayList<AnimatableListener> tmpListeners=(ArrayList<AnimatableListener>)mListeners.clone();
      for (      AnimatableListener listener : tmpListeners) {
        listener.onAnimationEnd(mSequencer);
      }
    }
  }
}
