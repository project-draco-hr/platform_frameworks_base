{
  int deviceFlags=0;
  if ((flags & RemoteDisplay.DISPLAY_FLAG_SECURE) != 0) {
    deviceFlags|=DisplayDeviceInfo.FLAG_SECURE;
  }
  float refreshRate=60.0f;
  IBinder displayToken=Surface.createDisplay(mName);
  mDevice=new WifiDisplayDevice(displayToken,mName,width,height,refreshRate,deviceFlags,surface);
  sendDisplayDeviceEventLocked(mDevice,DISPLAY_DEVICE_EVENT_ADDED);
}
