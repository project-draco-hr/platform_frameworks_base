{
  List<WifiDisplay> displays=new ArrayList<WifiDisplay>(mAvailableDisplays.length + mRememberedDisplays.length);
  boolean[] remembered=new boolean[mAvailableDisplays.length];
  for (  WifiDisplay d : mRememberedDisplays) {
    boolean available=false;
    for (int i=0; i < mAvailableDisplays.length; i++) {
      if (d.equals(mAvailableDisplays[i])) {
        remembered[i]=available=true;
        break;
      }
    }
    if (!available) {
      displays.add(new WifiDisplay(d.getDeviceAddress(),d.getDeviceName(),d.getDeviceAlias(),false,false,true));
    }
  }
  for (int i=0; i < mAvailableDisplays.length; i++) {
    WifiDisplay d=mAvailableDisplays[i];
    displays.add(new WifiDisplay(d.getDeviceAddress(),d.getDeviceName(),d.getDeviceAlias(),true,d.canConnect(),remembered[i]));
  }
  mDisplays=displays.toArray(WifiDisplay.EMPTY_ARRAY);
}
