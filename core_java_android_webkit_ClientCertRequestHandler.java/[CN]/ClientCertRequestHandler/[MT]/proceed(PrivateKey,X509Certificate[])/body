{
  try {
    byte[][] chainBytes=NativeCrypto.encodeCertificates(chain);
    mTable.Allow(mHostAndPort,privateKey,chainBytes);
    if (privateKey instanceof OpenSSLKeyHolder) {
      OpenSSLKey pkey=((OpenSSLKeyHolder)privateKey).getOpenSSLKey();
      setSslClientCertFromCtx(pkey.getPkeyContext(),chainBytes);
    }
 else {
      setSslClientCertFromPKCS8(privateKey.getEncoded(),chainBytes);
    }
  }
 catch (  CertificateEncodingException e) {
    post(new Runnable(){
      public void run(){
        mBrowserFrame.nativeSslClientCert(mHandle,0,null);
        return;
      }
    }
);
  }
}
