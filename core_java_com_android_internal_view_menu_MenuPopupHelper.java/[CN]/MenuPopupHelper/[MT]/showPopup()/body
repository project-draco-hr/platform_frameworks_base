{
  mPopup=createMenuPopup();
  mPopup.setAnchorView(mAnchorView);
  mPopup.setCallback(mPresenterCallback);
  mPopup.setForceShowIcon(mForceShowIcon);
  mPopup.setGravity(mDropDownGravity);
  mPopup.setShowTitle(mShowTitle);
  if (mHasOffsets) {
    final int hgrav=Gravity.getAbsoluteGravity(mDropDownGravity,mAnchorView.getLayoutDirection()) & Gravity.HORIZONTAL_GRAVITY_MASK;
    final int resolvedXOffset;
    if (hgrav == Gravity.RIGHT) {
      resolvedXOffset=mInitXOffset - mAnchorView.getWidth();
    }
 else {
      resolvedXOffset=mInitXOffset;
    }
    mPopup.setHorizontalOffset(resolvedXOffset);
    mPopup.setVerticalOffset(mInitYOffset);
  }
  mPopup.setOnDismissListener(this);
  mPopup.addMenu(mMenu);
  mPopup.show();
}
