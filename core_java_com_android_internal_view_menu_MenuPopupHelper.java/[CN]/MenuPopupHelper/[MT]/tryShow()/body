{
  if (isShowing()) {
    return true;
  }
  final View anchor=mAnchorView;
  if (anchor != null) {
    final boolean addGlobalListener=mTreeObserver == null;
    mTreeObserver=anchor.getViewTreeObserver();
    if (addGlobalListener)     mTreeObserver.addOnGlobalLayoutListener(this);
    anchor.addOnAttachStateChangeListener(this);
    mPopup.setAnchorView(anchor);
    mPopup.setGravity(mDropDownGravity);
  }
 else {
    return false;
  }
  mPopup.setOnDismissListener(this);
  mPopup.addMenu(mMenu);
  mPopup.show();
  return true;
}
