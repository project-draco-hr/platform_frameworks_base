{
  if (mPopup == null || !mPopup.isShowing()) {
    return false;
  }
  final AbsListView dstView=mPopup.getListView();
  if (dstView == null || !dstView.isShown()) {
    return false;
  }
  boolean cancelForwarding=false;
  final int actionMasked=ev.getActionMasked();
switch (actionMasked) {
case MotionEvent.ACTION_CANCEL:
    cancelForwarding=true;
  break;
case MotionEvent.ACTION_UP:
cancelForwarding=true;
case MotionEvent.ACTION_MOVE:
final int activeIndex=ev.findPointerIndex(activePointerId);
if (activeIndex < 0) {
return false;
}
final int[] location=mTempLocation;
int x=(int)ev.getX(activeIndex);
int y=(int)ev.getY(activeIndex);
v.getLocationOnScreen(location);
x+=location[0];
y+=location[1];
dstView.getLocationOnScreen(location);
x-=location[0];
y-=location[1];
final int position=dstView.pointToPosition(x,y);
if (position >= 0) {
final int childCount=dstView.getChildCount();
final int firstVisiblePosition=dstView.getFirstVisiblePosition();
final int index=position - firstVisiblePosition;
if (index < childCount) {
final View child=dstView.getChildAt(index);
if (actionMasked == MotionEvent.ACTION_UP) {
final long id=dstView.getItemIdAtPosition(position);
dstView.performItemClick(child,position,id);
}
 else if (actionMasked == MotionEvent.ACTION_MOVE) {
}
}
}
break;
}
return true;
}
