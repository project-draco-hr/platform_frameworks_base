{
  int numKeyframes=values.length;
  for (int i=0; i < numKeyframes; ++i) {
    if (values[i] != null) {
      Class thisValueType=values[i].getClass();
      if (mValueType == null) {
        mValueType=thisValueType;
      }
 else {
        if (thisValueType != mValueType) {
          if (mValueType == Integer.class && (thisValueType == Float.class || thisValueType == Double.class)) {
            mValueType=thisValueType;
          }
 else           if (mValueType == Float.class && thisValueType == Double.class) {
            mValueType=thisValueType;
          }
        }
      }
    }
  }
  Keyframe keyframes[]=new Keyframe[Math.max(numKeyframes,2)];
  if (mValueType.equals(Keyframe.class)) {
    mValueType=((Keyframe)values[0]).getType();
    for (int i=0; i < numKeyframes; ++i) {
      keyframes[i]=(Keyframe)values[i];
    }
  }
 else {
    if (numKeyframes == 1) {
      keyframes[0]=new Keyframe(0f,null);
      keyframes[1]=new Keyframe(1f,values[0]);
    }
 else {
      keyframes[0]=new Keyframe(0f,values[0]);
      for (int i=1; i < numKeyframes; ++i) {
        if (values[i] != null && (values[i].getClass() != mValueType)) {
        }
        keyframes[i]=new Keyframe((float)i / (numKeyframes - 1),values[i]);
      }
    }
  }
  mKeyframeSet=new KeyframeSet(keyframes);
}
