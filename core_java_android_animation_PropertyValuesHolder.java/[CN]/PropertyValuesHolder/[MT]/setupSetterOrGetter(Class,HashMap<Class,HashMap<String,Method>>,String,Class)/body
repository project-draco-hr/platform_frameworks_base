{
  Method setterOrGetter=null;
synchronized (propertyMapMap) {
    HashMap<String,Method> propertyMap=propertyMapMap.get(targetClass);
    boolean wasInMap=false;
    if (propertyMap != null) {
      wasInMap=propertyMap.containsKey(mPropertyName);
      if (wasInMap) {
        setterOrGetter=propertyMap.get(mPropertyName);
      }
    }
    if (!wasInMap) {
      setterOrGetter=getPropertyFunction(targetClass,prefix,valueType);
      if (propertyMap == null) {
        propertyMap=new HashMap<String,Method>();
        propertyMapMap.put(targetClass,propertyMap);
      }
      propertyMap.put(mPropertyName,setterOrGetter);
    }
  }
  return setterOrGetter;
}
