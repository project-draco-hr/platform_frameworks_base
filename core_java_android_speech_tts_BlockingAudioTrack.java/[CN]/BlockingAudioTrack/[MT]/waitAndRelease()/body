{
  if (mBytesWritten < mAudioBufferSize && !mStopped) {
    if (DBG) {
      Log.d(TAG,"Stopping audio track to flush audio, state was : " + mAudioTrack.getPlayState() + ",stopped= "+ mStopped);
    }
    mIsShortUtterance=true;
    mAudioTrack.stop();
  }
  if (!mStopped) {
    if (DBG)     Log.d(TAG,"Waiting for audio track to complete : " + mAudioTrack.hashCode());
    blockUntilDone(mAudioTrack);
  }
  if (DBG)   Log.d(TAG,"Releasing audio track [" + mAudioTrack.hashCode() + "]");
synchronized (mAudioTrackLock) {
    mAudioTrack.release();
    mAudioTrack=null;
  }
}
