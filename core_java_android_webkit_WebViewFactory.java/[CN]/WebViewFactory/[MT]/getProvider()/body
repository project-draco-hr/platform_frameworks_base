{
synchronized (sProviderLock) {
    if (sProviderInstance != null)     return sProviderInstance;
    Class<WebViewFactoryProvider> providerClass;
    try {
      providerClass=getFactoryClass();
    }
 catch (    ClassNotFoundException e) {
      Log.e(LOGTAG,"error loading provider",e);
      throw new AndroidRuntimeException(e);
    }
    if (Preloader.sPreloadedProvider != null && Preloader.sPreloadedProvider.getClass() == providerClass) {
      sProviderInstance=Preloader.sPreloadedProvider;
      if (DEBUG)       Log.v(LOGTAG,"Using preloaded provider: " + sProviderInstance);
      return sProviderInstance;
    }
    StrictMode.ThreadPolicy oldPolicy=StrictMode.allowThreadDiskReads();
    try {
      sProviderInstance=providerClass.newInstance();
      if (DEBUG)       Log.v(LOGTAG,"Loaded provider: " + sProviderInstance);
      return sProviderInstance;
    }
 catch (    Exception e) {
      Log.e(LOGTAG,"error instantiating provider",e);
      throw new AndroidRuntimeException(e);
    }
 finally {
      StrictMode.setThreadPolicy(oldPolicy);
    }
  }
}
