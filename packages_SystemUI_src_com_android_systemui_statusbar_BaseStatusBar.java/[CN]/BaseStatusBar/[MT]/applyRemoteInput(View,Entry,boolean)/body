{
  View actionContainerCandidate=view.findViewById(com.android.internal.R.id.actions_container);
  if (actionContainerCandidate instanceof FrameLayout) {
    RemoteInputView existing=(RemoteInputView)view.findViewWithTag(RemoteInputView.VIEW_TAG);
    if (hasRemoteInput) {
      if (existing != null) {
        existing.onNotificationUpdate();
        return existing;
      }
      ViewGroup actionContainer=(FrameLayout)actionContainerCandidate;
      RemoteInputView riv=inflateRemoteInputView(actionContainer,entry);
      if (riv != null) {
        riv.setVisibility(View.INVISIBLE);
        actionContainer.addView(riv,new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT));
        int color=entry.notification.getNotification().color;
        if (color == Notification.COLOR_DEFAULT) {
          color=mContext.getColor(R.color.default_remote_input_background);
        }
        riv.setBackgroundColor(color);
        return riv;
      }
    }
 else {
      if (existing != null) {
        existing.onNotificationUpdate();
        return null;
      }
    }
  }
  return null;
}
