{
  int minHeight=mContext.getResources().getDimensionPixelSize(R.dimen.notification_min_height);
  int maxHeight=mContext.getResources().getDimensionPixelSize(R.dimen.notification_max_height);
  StatusBarNotification sbn=entry.notification;
  RemoteViews contentView=sbn.getNotification().contentView;
  RemoteViews bigContentView=sbn.getNotification().bigContentView;
  if (contentView == null) {
    return false;
  }
  LayoutInflater inflater=(LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  View row=inflater.inflate(R.layout.status_bar_notification_row,parent,false);
  row.setTag(sbn.getPackageName());
  workAroundBadLayerDrawableOpacity(row);
  View vetoButton=updateNotificationVetoButton(row,sbn);
  vetoButton.setContentDescription(mContext.getString(R.string.accessibility_remove_notification));
  ViewGroup content=(ViewGroup)row.findViewById(R.id.content);
  ViewGroup adaptive=(ViewGroup)row.findViewById(R.id.adaptive);
  content.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);
  PendingIntent contentIntent=sbn.getNotification().contentIntent;
  if (contentIntent != null) {
    final View.OnClickListener listener=new NotificationClicker(contentIntent,sbn.getPackageName(),sbn.getTag(),sbn.getId());
    content.setOnClickListener(listener);
  }
 else {
    content.setOnClickListener(null);
  }
  View contentViewLocal=null;
  View bigContentViewLocal=null;
  try {
    contentViewLocal=contentView.apply(mContext,adaptive,mOnClickHandler);
    if (bigContentView != null) {
      bigContentViewLocal=bigContentView.apply(mContext,adaptive,mOnClickHandler);
    }
  }
 catch (  RuntimeException e) {
    final String ident=sbn.getPackageName() + "/0x" + Integer.toHexString(sbn.getId());
    Log.e(TAG,"couldn't inflate view for notification " + ident,e);
    return false;
  }
  if (contentViewLocal != null) {
    SizeAdaptiveLayout.LayoutParams params=new SizeAdaptiveLayout.LayoutParams(contentViewLocal.getLayoutParams());
    params.minHeight=minHeight;
    params.maxHeight=minHeight;
    adaptive.addView(contentViewLocal,params);
  }
  if (bigContentViewLocal != null) {
    SizeAdaptiveLayout.LayoutParams params=new SizeAdaptiveLayout.LayoutParams(bigContentViewLocal.getLayoutParams());
    params.minHeight=minHeight + 1;
    params.maxHeight=maxHeight;
    adaptive.addView(bigContentViewLocal,params);
  }
  row.setDrawingCacheEnabled(true);
  applyLegacyRowBackground(sbn,content);
  if (MULTIUSER_DEBUG) {
    TextView debug=(TextView)row.findViewById(R.id.debug_info);
    if (debug != null) {
      debug.setVisibility(View.VISIBLE);
      debug.setText("U " + entry.notification.getUserId());
    }
  }
  entry.row=row;
  entry.content=content;
  entry.expanded=contentViewLocal;
  entry.setBigContentView(bigContentViewLocal);
  return true;
}
