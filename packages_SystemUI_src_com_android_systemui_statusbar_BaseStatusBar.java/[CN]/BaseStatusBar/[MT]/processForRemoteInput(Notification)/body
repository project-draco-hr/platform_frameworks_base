{
  if (!ENABLE_REMOTE_INPUT)   return;
  if (n.extras != null && n.extras.containsKey("android.wearable.EXTENSIONS") && (n.actions == null || n.actions.length == 0)) {
    Notification.Action viableAction=null;
    Notification.WearableExtender we=new Notification.WearableExtender(n);
    List<Notification.Action> actions=we.getActions();
    final int numActions=actions.size();
    for (int i=0; i < numActions; i++) {
      Notification.Action action=actions.get(i);
      RemoteInput[] remoteInputs=action.getRemoteInputs();
      for (      RemoteInput ri : action.getRemoteInputs()) {
        if (ri.getAllowFreeFormInput()) {
          viableAction=action;
          break;
        }
      }
      if (viableAction != null) {
        break;
      }
    }
    if (viableAction != null) {
      Notification stripped=n.clone();
      Notification.Builder.stripForDelivery(stripped);
      stripped.extras.putBoolean("android.rebuild",true);
      stripped.actions=new Notification.Action[]{viableAction};
      stripped.extras.putBoolean("android.rebuild.contentView",true);
      stripped.contentView=null;
      stripped.extras.putBoolean("android.rebuild.bigView",true);
      stripped.bigContentView=null;
      stripped.extras.putBoolean("android.rebuild.hudView",true);
      stripped.headsUpContentView=null;
      stripped.extras.putParcelable(Notification.EXTRA_LARGE_ICON,stripped.getLargeIcon());
      if (SystemProperties.getBoolean("debug.strip_third_line",false)) {
        stripped.extras.putCharSequence(Notification.EXTRA_INFO_TEXT,null);
        stripped.extras.putCharSequence(Notification.EXTRA_SUMMARY_TEXT,null);
      }
      Notification rebuilt=Notification.Builder.rebuild(mContext,stripped);
      n.actions=rebuilt.actions;
      n.bigContentView=rebuilt.bigContentView;
      n.headsUpContentView=rebuilt.headsUpContentView;
      n.publicVersion=rebuilt.publicVersion;
    }
  }
}
