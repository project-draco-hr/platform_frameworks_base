{
  if (entry.expanded.getId() != com.android.internal.R.id.status_bar_latest_event_content) {
    if (entry.targetSdk >= Build.VERSION_CODES.GINGERBREAD && entry.targetSdk < Build.VERSION_CODES.L) {
      entry.row.setShowingLegacyBackground(true);
      entry.legacy=true;
    }
  }
 else {
    final int color=sbn.getNotification().color;
    if (isMediaNotification(entry)) {
      entry.row.setTintColor(color == Notification.COLOR_DEFAULT ? mContext.getResources().getColor(R.color.notification_material_background_media_default_color) : color);
    }
  }
  if (entry.icon != null) {
    if (entry.targetSdk >= Build.VERSION_CODES.L) {
      entry.icon.setColorFilter(mContext.getResources().getColor(android.R.color.white));
    }
 else {
      entry.icon.setColorFilter(null);
    }
  }
}
