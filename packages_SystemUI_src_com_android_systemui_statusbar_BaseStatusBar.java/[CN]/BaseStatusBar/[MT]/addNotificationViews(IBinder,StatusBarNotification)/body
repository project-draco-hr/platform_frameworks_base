{
  if (DEBUG) {
    Slog.d(TAG,"addNotificationViews(key=" + key + ", notification="+ notification);
  }
  final StatusBarIconView iconView=new StatusBarIconView(mContext,notification.getPackageName() + "/0x" + Integer.toHexString(notification.getId()),notification.getNotification());
  iconView.setScaleType(ImageView.ScaleType.CENTER_INSIDE);
  final StatusBarIcon ic=new StatusBarIcon(notification.getPackageName(),notification.getUser(),notification.getNotification().icon,notification.getNotification().iconLevel,notification.getNotification().number,notification.getNotification().tickerText);
  if (!iconView.set(ic)) {
    handleNotificationError(key,notification,"Couldn't create icon: " + ic);
    return null;
  }
  NotificationData.Entry entry=new NotificationData.Entry(key,notification,iconView);
  if (!inflateViews(entry,mPile)) {
    handleNotificationError(key,notification,"Couldn't expand RemoteViews for: " + notification);
    return null;
  }
  int pos=mNotificationData.add(entry);
  if (DEBUG) {
    Slog.d(TAG,"addNotificationViews: added at " + pos);
  }
  updateExpansionStates();
  updateNotificationIcons();
  return iconView;
}
