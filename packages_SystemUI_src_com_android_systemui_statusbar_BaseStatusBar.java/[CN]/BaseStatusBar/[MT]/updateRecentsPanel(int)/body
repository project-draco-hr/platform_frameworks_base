{
  boolean visible=false;
  ArrayList<TaskDescription> recentTasksList=null;
  boolean firstScreenful=false;
  if (mRecentsPanel != null) {
    visible=mRecentsPanel.isShowing();
    WindowManagerImpl.getDefault().removeView(mRecentsPanel);
    if (visible) {
      recentTasksList=mRecentsPanel.getRecentTasksList();
      firstScreenful=mRecentsPanel.getFirstScreenful();
    }
  }
  LinearLayout tmpRoot=new LinearLayout(mContext);
  mRecentsPanel=(RecentsPanelView)LayoutInflater.from(mContext).inflate(recentsResId,tmpRoot,false);
  mRecentsPanel.setRecentTasksLoader(mRecentTasksLoader);
  mRecentTasksLoader.setRecentsPanel(mRecentsPanel);
  mRecentsPanel.setOnTouchListener(new TouchOutsideListener(MSG_CLOSE_RECENTS_PANEL,mRecentsPanel));
  mRecentsPanel.setVisibility(View.GONE);
  WindowManager.LayoutParams lp=getRecentsLayoutParams(mRecentsPanel.getLayoutParams());
  WindowManagerImpl.getDefault().addView(mRecentsPanel,lp);
  mRecentsPanel.setBar(this);
  if (visible) {
    mRecentsPanel.show(true,false,recentTasksList,firstScreenful);
  }
}
