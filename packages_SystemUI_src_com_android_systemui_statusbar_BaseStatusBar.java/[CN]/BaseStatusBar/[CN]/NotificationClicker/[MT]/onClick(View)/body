{
  try {
    ActivityManagerNative.getDefault().resumeAppSwitches();
    ActivityManagerNative.getDefault().dismissKeyguardOnNextActivity();
  }
 catch (  RemoteException e) {
  }
  if (mIntent != null) {
    int[] pos=new int[2];
    v.getLocationOnScreen(pos);
    Intent overlay=new Intent();
    overlay.setSourceBounds(new Rect(pos[0],pos[1],pos[0] + v.getWidth(),pos[1] + v.getHeight()));
    try {
      mIntent.send(mContext,0,overlay);
    }
 catch (    PendingIntent.CanceledException e) {
      Slog.w(TAG,"Sending contentIntent failed: " + e);
    }
    KeyguardManager kgm=(KeyguardManager)mContext.getSystemService(Context.KEYGUARD_SERVICE);
    if (kgm != null)     kgm.exitKeyguardSecurely(null);
  }
  try {
    mBarService.onNotificationClick(mPkg,mTag,mId);
  }
 catch (  RemoteException ex) {
  }
  animateCollapseNotifications(CommandQueue.FLAG_EXCLUDE_NONE);
  visibilityChanged(false);
}
