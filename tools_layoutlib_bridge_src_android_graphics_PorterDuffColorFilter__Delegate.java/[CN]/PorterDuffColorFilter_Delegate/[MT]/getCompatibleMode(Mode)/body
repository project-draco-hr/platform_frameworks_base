{
  Mode m=mode;
switch (mode) {
case CLEAR:
case DST:
case SRC_IN:
case DST_IN:
case DST_OUT:
case SRC_ATOP:
    break;
case SRC:
  m=Mode.SRC_IN;
break;
case SRC_OVER:
m=Mode.SRC_ATOP;
break;
case DST_OVER:
m=Mode.DST;
break;
case SRC_OUT:
m=Mode.CLEAR;
break;
case DST_ATOP:
m=Mode.DST_IN;
break;
case XOR:
m=Mode.DST_OUT;
break;
case MULTIPLY:
m=Mode.SRC_IN;
}
return m;
}
