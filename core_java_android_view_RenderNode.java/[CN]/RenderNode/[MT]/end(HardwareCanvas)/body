{
  if (!(endCanvas instanceof DisplayListCanvas)) {
    throw new IllegalArgumentException("Passed an invalid canvas to end!");
  }
  DisplayListCanvas canvas=(DisplayListCanvas)endCanvas;
  canvas.onPostDraw();
  long renderNodeData=canvas.finishRecording();
  nSetDisplayListData(mNativeRenderNode,renderNodeData);
  canvas.recycle();
  mValid=true;
}
