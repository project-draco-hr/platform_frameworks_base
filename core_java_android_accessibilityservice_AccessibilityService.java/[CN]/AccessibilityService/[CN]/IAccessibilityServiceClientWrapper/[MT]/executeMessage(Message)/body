{
switch (message.what) {
case DO_ON_ACCESSIBILITY_EVENT:
    AccessibilityEvent event=(AccessibilityEvent)message.obj;
  if (event != null) {
    AccessibilityInteractionClient.getInstance().onAccessibilityEvent(event);
    mCallback.onAccessibilityEvent(event);
    event.recycle();
  }
return;
case DO_ON_INTERRUPT:
mCallback.onInterrupt();
return;
case DO_SET_SET_CONNECTION:
final int connectionId=message.arg1;
IAccessibilityServiceConnection connection=(IAccessibilityServiceConnection)message.obj;
if (connection != null) {
AccessibilityInteractionClient.getInstance().addConnection(connectionId,connection);
mCallback.onSetConnectionId(connectionId);
mCallback.onServiceConnected();
}
 else {
AccessibilityInteractionClient.getInstance().removeConnection(connectionId);
mCallback.onSetConnectionId(AccessibilityInteractionClient.NO_ID);
}
return;
case DO_ON_GESTURE:
final int gestureId=message.arg1;
final int interactionId=message.arg2;
IAccessibilityServiceClientCallback callback=(IAccessibilityServiceClientCallback)message.obj;
final boolean handled=mCallback.onGesture(gestureId);
try {
callback.setGestureResult(gestureId,handled,interactionId);
}
 catch (RemoteException re) {
Log.e(LOG_TAG,"Error calling back with the gesture resut.",re);
}
return;
default :
Log.w(LOG_TAG,"Unknown message type " + message.what);
}
}
