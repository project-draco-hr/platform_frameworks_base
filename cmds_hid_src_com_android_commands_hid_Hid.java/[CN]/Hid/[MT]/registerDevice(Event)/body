{
  if (!Event.COMMAND_REGISTER.equals(e.getCommand())) {
    throw new IllegalStateException("Tried to send command \"" + e.getCommand() + "\" to an unregistered device!");
  }
  int id=e.getId();
  Device d=new Device(id,e.getName(),e.getVendorId(),e.getProductId(),e.getDescriptor(),e.getReport());
  mDevices.append(id,d);
}
