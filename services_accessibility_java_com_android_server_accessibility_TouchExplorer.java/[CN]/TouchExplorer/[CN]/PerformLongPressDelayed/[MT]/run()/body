{
  if (mReceivedPointerTracker.getLastReceivedEvent().getPointerCount() == 0) {
    return;
  }
  int clickLocationX;
  int clickLocationY;
  final int pointerId=mEvent.getPointerId(mEvent.getActionIndex());
  final int pointerIndex=mEvent.findPointerIndex(pointerId);
  MotionEvent lastExploreEvent=mInjectedPointerTracker.getLastInjectedHoverEventForClick();
  if (lastExploreEvent == null) {
    Rect focusBounds=mTempRect;
    if (mAms.getAccessibilityFocusBounds(focusBounds)) {
      clickLocationX=focusBounds.centerX();
      clickLocationY=focusBounds.centerY();
    }
 else {
      return;
    }
  }
 else {
    final int lastExplorePointerIndex=lastExploreEvent.getActionIndex();
    clickLocationX=(int)lastExploreEvent.getX(lastExplorePointerIndex);
    clickLocationY=(int)lastExploreEvent.getY(lastExplorePointerIndex);
    Rect activeWindowBounds=mTempRect;
    if (mLastTouchedWindowId == mAms.getActiveWindowId()) {
      mAms.getActiveWindowBounds(activeWindowBounds);
      if (activeWindowBounds.contains(clickLocationX,clickLocationY)) {
        Rect focusBounds=mTempRect;
        if (mAms.getAccessibilityFocusBounds(focusBounds)) {
          if (!focusBounds.contains(clickLocationX,clickLocationY)) {
            clickLocationX=focusBounds.centerX();
            clickLocationY=focusBounds.centerY();
          }
        }
      }
    }
  }
  mLongPressingPointerId=pointerId;
  mLongPressingPointerDeltaX=(int)mEvent.getX(pointerIndex) - clickLocationX;
  mLongPressingPointerDeltaY=(int)mEvent.getY(pointerIndex) - clickLocationY;
  sendHoverExitAndTouchExplorationGestureEndIfNeeded(mPolicyFlags);
  mCurrentState=STATE_DELEGATING;
  sendDownForAllNotInjectedPointers(mEvent,mPolicyFlags);
  clear();
}
