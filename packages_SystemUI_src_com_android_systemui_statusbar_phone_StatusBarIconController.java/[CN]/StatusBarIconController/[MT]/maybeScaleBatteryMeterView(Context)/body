{
  Resources res=context.getResources();
  TypedValue typedValue=new TypedValue();
  res.getValue(R.dimen.status_bar_icon_scale_factor,typedValue,true);
  float iconScaleFactor=typedValue.getFloat();
  if (iconScaleFactor == 1.f) {
    return;
  }
  float batteryHeight=res.getDimension(R.dimen.status_bar_battery_icon_height);
  float batteryWidth=res.getDimension(R.dimen.status_bar_battery_icon_width);
  LinearLayout.LayoutParams scaledLayoutParams=new LinearLayout.LayoutParams((int)(batteryWidth * iconScaleFactor),(int)(batteryHeight * iconScaleFactor));
  mBatteryMeterView.setLayoutParams(scaledLayoutParams);
}
