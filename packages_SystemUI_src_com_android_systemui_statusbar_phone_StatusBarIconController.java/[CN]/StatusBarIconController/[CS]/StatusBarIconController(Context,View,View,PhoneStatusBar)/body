{
  mContext=context;
  mPhoneStatusBar=phoneStatusBar;
  mNotificationColorUtil=NotificationColorUtil.getInstance(context);
  mSystemIconArea=(LinearLayout)statusBar.findViewById(R.id.system_icon_area);
  mStatusIcons=(LinearLayout)statusBar.findViewById(R.id.statusIcons);
  mSignalCluster=(SignalClusterView)statusBar.findViewById(R.id.signal_cluster);
  mNotificationIconArea=statusBar.findViewById(R.id.notification_icon_area_inner);
  mNotificationIcons=(IconMerger)statusBar.findViewById(R.id.notificationIcons);
  mMoreIcon=(ImageView)statusBar.findViewById(R.id.moreIcon);
  mNotificationIcons.setOverflowIndicator(mMoreIcon);
  mStatusIconsKeyguard=(LinearLayout)keyguardStatusBar.findViewById(R.id.statusIcons);
  mBatteryMeterView=(BatteryMeterView)statusBar.findViewById(R.id.battery);
  mClock=(TextView)statusBar.findViewById(R.id.clock);
  mLinearOutSlowIn=AnimationUtils.loadInterpolator(mContext,android.R.interpolator.linear_out_slow_in);
  mFastOutSlowIn=AnimationUtils.loadInterpolator(mContext,android.R.interpolator.fast_out_slow_in);
  mDarkModeIconColorSingleTone=context.getColor(R.color.dark_mode_icon_color_single_tone);
  mLightModeIconColorSingleTone=context.getColor(R.color.light_mode_icon_color_single_tone);
  mHandler=new Handler();
  mIconBlacklist=getIconBlacklist(context);
  updateResources();
  context.getContentResolver().registerContentObserver(Settings.Secure.getUriFor(StatusBarIconController.ICON_BLACKLIST),false,mBlacklistObserver);
}
