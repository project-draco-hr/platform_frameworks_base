{
  mContext=context;
  mPhoneStatusBar=phoneStatusBar;
  mSystemIconArea=(LinearLayout)statusBar.findViewById(R.id.system_icon_area);
  mStatusIcons=(LinearLayout)statusBar.findViewById(R.id.statusIcons);
  mSignalCluster=(SignalClusterView)statusBar.findViewById(R.id.signal_cluster);
  mNotificationIconAreaController=SystemUIFactory.getInstance().createNotificationIconAreaController(context,phoneStatusBar);
  mNotificationIconAreaInner=mNotificationIconAreaController.getNotificationInnerAreaView();
  ViewGroup notificationIconArea=(ViewGroup)statusBar.findViewById(R.id.notification_icon_area);
  notificationIconArea.addView(mNotificationIconAreaInner);
  mStatusIconsKeyguard=(LinearLayout)keyguardStatusBar.findViewById(R.id.statusIcons);
  mBatteryMeterView=(BatteryMeterView)statusBar.findViewById(R.id.battery);
  maybeScaleBatteryMeterView(context);
  mClock=(TextView)statusBar.findViewById(R.id.clock);
  mDarkModeIconColorSingleTone=context.getColor(R.color.dark_mode_icon_color_single_tone);
  mLightModeIconColorSingleTone=context.getColor(R.color.light_mode_icon_color_single_tone);
  mHandler=new Handler();
  updateResources();
  TunerService.get(mContext).addTunable(this,ICON_BLACKLIST);
}
