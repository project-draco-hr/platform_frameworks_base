{
  LayoutInflater factory=LayoutInflater.from(this);
  final View textEntryView=factory.inflate(R.layout.newgesture_dialog,null);
  return new AlertDialog.Builder(GestureEntryDemo.this).setTitle(R.string.newgesture_text_entry).setView(textEntryView).setPositiveButton(R.string.newgesture_dialog_ok,new DialogInterface.OnClickListener(){
    public void onClick(    DialogInterface dialog,    int whichButton){
      EditText edittext=(EditText)((AlertDialog)dialog).findViewById(R.id.gesturename_edit);
      String text=edittext.getText().toString().trim();
      if (text.length() > 0) {
        mGestureLibrary.addGesture(text,mGesturePad.getCurrentGesture());
      }
    }
  }
).setNegativeButton(R.string.newgesture_dialog_cancel,new DialogInterface.OnClickListener(){
    public void onClick(    DialogInterface dialog,    int whichButton){
    }
  }
).create();
}
