{
  Drawable dr;
  if (resolvePackageName != null && icon != 0) {
    dr=pm.getDrawable(resolvePackageName,icon,null);
    if (dr != null) {
      return dr;
    }
  }
  ComponentInfo ci=getComponentInfo();
  ApplicationInfo ai=ci.applicationInfo;
  if (icon != 0) {
    dr=pm.getDrawable(ci.packageName,icon,ai);
    if (dr != null) {
      return dr;
    }
  }
  if (showTargetUserIcon) {
    Bitmap bm=pm.getUserIcon(targetUserId);
    return new BitmapDrawable(bm);
  }
  return ci.loadIcon(pm);
}
