{
  super.setUp();
  WifiAssociationTestRunner mRunner=(WifiAssociationTestRunner)getInstrumentation();
  Bundle arguments=mRunner.getArguments();
  mSecurityType=arguments.getString("security-type");
  mSsid=arguments.getString("ssid");
  mPassword=arguments.getString("password");
  mFrequencyBand=arguments.getString("frequency-band");
  mBand=mRunner.mBand;
  assertNotNull("Security type is empty",mSecurityType);
  assertNotNull("Ssid is empty",mSsid);
  validateFrequencyBand();
  assertTrue("enable Wifi failed",enableWifi());
  sleep(2 * SHORT_TIMEOUT,"interrupted while waiting for WPA_SUPPLICANT to start");
  WifiInfo mConnection=mWifiManager.getConnectionInfo();
  assertNotNull(mConnection);
  assertTrue("wpa_supplicant is not started ",mWifiManager.pingSupplicant());
}
