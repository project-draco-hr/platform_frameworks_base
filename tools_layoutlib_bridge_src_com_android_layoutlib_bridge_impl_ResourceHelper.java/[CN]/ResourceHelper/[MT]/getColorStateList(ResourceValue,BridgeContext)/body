{
  String value=resValue.getValue();
  if (value != null && RenderResources.REFERENCE_NULL.equals(value) == false) {
    File f=new File(value);
    if (f.isFile()) {
      try {
        KXmlParser parser=new KXmlParser();
        parser.setFeature(XmlPullParser.FEATURE_PROCESS_NAMESPACES,true);
        parser.setInput(new FileInputStream(f),"UTF-8");
        BridgeXmlBlockParser blockParser=new BridgeXmlBlockParser(parser,context,resValue.isFramework());
        try {
          return ColorStateList.createFromXml(context.getResources(),blockParser);
        }
  finally {
          blockParser.ensurePopped();
        }
      }
 catch (      XmlPullParserException e) {
        Bridge.getLog().error(LayoutLog.TAG_BROKEN,"Failed to configure parser for " + value,e,null);
      }
catch (      Exception e) {
        Bridge.getLog().error(LayoutLog.TAG_RESOURCES_READ,"Failed to parse file " + value,e,null);
        return null;
      }
    }
 else {
      try {
        int color=ResourceHelper.getColor(value);
        return ColorStateList.valueOf(color);
      }
 catch (      NumberFormatException e) {
        Bridge.getLog().error(LayoutLog.TAG_RESOURCES_FORMAT,"Failed to convert " + value + " into a ColorStateList",e,null);
        return null;
      }
    }
  }
  return null;
}
