{
  String stringValue=value.getValue();
  if (RenderResources.REFERENCE_NULL.equals(stringValue)) {
    return null;
  }
  String lowerCaseValue=stringValue.toLowerCase();
  Density density=Density.MEDIUM;
  if (value instanceof DensityBasedResourceValue) {
    density=((DensityBasedResourceValue)value).getResourceDensity();
  }
  if (lowerCaseValue.endsWith(NinePatch.EXTENSION_9PATCH)) {
    File file=new File(stringValue);
    if (file.isFile()) {
      try {
        return getNinePatchDrawable(new FileInputStream(file),density,value.isFramework(),stringValue,context);
      }
 catch (      IOException e) {
        Bridge.getLog().error(LayoutLog.TAG_RESOURCES_READ,"Failed lot load " + file.getAbsolutePath(),e,null);
      }
    }
    return null;
  }
 else   if (lowerCaseValue.endsWith(".xml")) {
    File f=new File(stringValue);
    if (f.isFile()) {
      try {
        KXmlParser parser=new KXmlParser();
        parser.setFeature(XmlPullParser.FEATURE_PROCESS_NAMESPACES,true);
        parser.setInput(new FileInputStream(f),"UTF-8");
        BridgeXmlBlockParser blockParser=new BridgeXmlBlockParser(parser,context,value.isFramework());
        try {
          return Drawable.createFromXml(context.getResources(),blockParser);
        }
  finally {
          blockParser.ensurePopped();
        }
      }
 catch (      Exception e) {
        Bridge.getLog().error(null,"Failed to parse file " + stringValue,e,null);
      }
    }
 else {
      Bridge.getLog().error(LayoutLog.TAG_BROKEN,String.format("File %s does not exist (or is not a file)",stringValue),null);
    }
    return null;
  }
 else {
    File bmpFile=new File(stringValue);
    if (bmpFile.isFile()) {
      try {
        Bitmap bitmap=Bridge.getCachedBitmap(stringValue,value.isFramework() ? null : context.getProjectKey());
        if (bitmap == null) {
          bitmap=Bitmap_Delegate.createBitmap(bmpFile,false,density);
          Bridge.setCachedBitmap(stringValue,bitmap,value.isFramework() ? null : context.getProjectKey());
        }
        return new BitmapDrawable(context.getResources(),bitmap);
      }
 catch (      IOException e) {
        Bridge.getLog().error(LayoutLog.TAG_RESOURCES_READ,"Failed lot load " + bmpFile.getAbsolutePath(),e,null);
      }
    }
 else {
      try {
        int color=getColor(stringValue);
        return new ColorDrawable(color);
      }
 catch (      NumberFormatException e) {
        Bridge.getLog().error(LayoutLog.TAG_RESOURCES_FORMAT,"Failed to convert " + stringValue + " into a drawable",e,null);
      }
    }
  }
  return null;
}
