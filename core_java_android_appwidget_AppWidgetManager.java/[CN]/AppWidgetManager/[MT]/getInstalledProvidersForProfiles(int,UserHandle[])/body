{
  if (mService == null) {
    return Collections.emptyList();
  }
  int[] profileIds=null;
  if (profiles != null) {
    final int profileCount=profiles.length;
    profileIds=new int[profileCount];
    for (int i=0; i < profileCount; i++) {
      profileIds[i]=profiles[i].getIdentifier();
    }
  }
  try {
    List<AppWidgetProviderInfo> providers=mService.getInstalledProviders(categoryFilter,profileIds);
    if (providers == null) {
      return Collections.emptyList();
    }
    for (    AppWidgetProviderInfo info : providers) {
      convertSizesToPixels(info);
    }
    return providers;
  }
 catch (  RemoteException e) {
    throw new RuntimeException("system server dead?",e);
  }
}
