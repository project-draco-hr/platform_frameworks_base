{
  float[] tmpPoints=new float[pts.size() * 2];
  long[] times=new long[pts.size()];
  RectF bx=null;
  float len=0;
  int index=0;
  int count=pts.size();
  for (int i=0; i < count; i++) {
    GesturePoint p=pts.get(i);
    tmpPoints[i * 2]=p.xpos;
    tmpPoints[i * 2 + 1]=p.ypos;
    times[index]=p.timestamp;
    if (bx == null) {
      bx=new RectF();
      bx.top=p.ypos;
      bx.left=p.xpos;
      bx.right=p.xpos;
      bx.bottom=p.ypos;
      len=0;
    }
 else {
      len+=Math.sqrt(Math.pow(p.xpos - tmpPoints[(i - 1) * 2],2) + Math.pow(p.ypos - tmpPoints[(i - 1) * 2 + 1],2));
      bx.union(p.xpos,p.ypos);
    }
    index++;
  }
  timestamps=times;
  points=tmpPoints;
  boundingBox=bx;
  length=len;
}
