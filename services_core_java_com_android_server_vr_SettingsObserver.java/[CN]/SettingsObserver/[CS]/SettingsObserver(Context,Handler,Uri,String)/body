{
  mSecureSettingName=secureSettingName;
  mSettingRestorReceiver=new BroadcastReceiver(){
    @Override public void onReceive(    Context context,    Intent intent){
      if (Intent.ACTION_SETTING_RESTORED.equals(intent.getAction())) {
        String element=intent.getStringExtra(Intent.EXTRA_SETTING_NAME);
        if (Objects.equals(element,secureSettingName)) {
          String prevValue=intent.getStringExtra(Intent.EXTRA_SETTING_PREVIOUS_VALUE);
          String newValue=intent.getStringExtra(Intent.EXTRA_SETTING_NEW_VALUE);
          sendSettingRestored(prevValue,newValue,getSendingUserId());
        }
      }
    }
  }
;
  mContentObserver=new ContentObserver(handler){
    @Override public void onChange(    boolean selfChange,    Uri uri){
      if (uri == null || settingUri.equals(uri)) {
        sendSettingChanged();
      }
    }
  }
;
  ContentResolver resolver=context.getContentResolver();
  resolver.registerContentObserver(settingUri,false,mContentObserver,UserHandle.USER_ALL);
}
