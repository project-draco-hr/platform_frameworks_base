{
  char[] buffer=new char[1024];
  String newName=mHeadsetName;
  int newState=mHeadsetState;
  mPrevHeadsetState=mHeadsetState;
  for (int i=0; i < MAX_AUDIO_PORTS; i++) {
    try {
      FileReader file=new FileReader(uEventInfo[i][1]);
      int len=file.read(buffer,0,1024);
      file.close();
      newState=Integer.valueOf((new String(buffer,0,len)).trim());
      file=new FileReader(uEventInfo[i][2]);
      len=file.read(buffer,0,1024);
      file.close();
      newName=new String(buffer,0,len).trim();
      if (newState > 0) {
        updateState(newName,newState);
      }
    }
 catch (    FileNotFoundException e) {
      Slog.w(TAG,"This kernel does not have wired headset support");
    }
catch (    Exception e) {
      Slog.e(TAG,"",e);
    }
  }
}
