{
  int preserveMask=~(mState1Bits | mState2Bits);
  int setBits=((switchState == 1) ? mState1Bits : ((switchState == 2) ? mState2Bits : 0));
  return ((headsetState & preserveMask) | setBits);
}
