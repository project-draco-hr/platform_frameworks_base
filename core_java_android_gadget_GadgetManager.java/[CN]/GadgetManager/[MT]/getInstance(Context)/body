{
synchronized (sManagerCache) {
    if (sService == null) {
      IBinder b=ServiceManager.getService(Context.GADGET_SERVICE);
      sService=IGadgetService.Stub.asInterface(b);
    }
    WeakReference<GadgetManager> ref=sManagerCache.get(context);
    GadgetManager result=null;
    if (ref != null) {
      result=ref.get();
    }
    if (result == null) {
      result=new GadgetManager(context);
      sManagerCache.put(context,new WeakReference(result));
    }
    return result;
  }
}
