{
  StringBuilder builder=new StringBuilder();
  builder.append(DATA_FILE_VERSION);
  builder.append(":");
  builder.append(mPeriodCount);
  builder.append(":");
  for (int i=0; i < mPeriodCount; i++) {
    builder.append(mPeriodRxData[i]);
    builder.append(":");
  }
  for (int i=0; i < mPeriodCount; i++) {
    builder.append(mPeriodTxData[i]);
    builder.append(":");
  }
  builder.append(mCurrentPeriod);
  builder.append(":");
  builder.append(mPeriodStart.getTimeInMillis());
  builder.append(":");
  builder.append(mPeriodEnd.getTimeInMillis());
  builder.append(":");
  BufferedWriter out=null;
  try {
    out=new BufferedWriter(new FileWriter(getDataFile()),256);
    out.write(builder.toString());
  }
 catch (  IOException e) {
    Slog.e(TAG,"Error writing data file");
    return;
  }
 finally {
    if (out != null) {
      try {
        out.close();
      }
 catch (      Exception e) {
      }
    }
  }
}
