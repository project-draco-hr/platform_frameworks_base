{
  Calendar start=(Calendar)end.clone();
  int month=end.get(Calendar.MONTH);
  if (end.get(Calendar.MONTH) == Calendar.JANUARY) {
    month=Calendar.DECEMBER + 1;
    start.set(Calendar.YEAR,start.get(Calendar.YEAR) - 1);
  }
  start.set(Calendar.MONTH,month - 1);
  if (SystemProperties.get(TESTING_ENABLED_PROPERTY).equals("true")) {
    start=(Calendar)end.clone();
    start.add(Calendar.SECOND,-TESTING_RESET_PERIOD_SEC);
  }
  return start;
}
