{
  mContentObserver=new ContentObserver(mHandler){
    @Override public void onChange(    boolean selfChange){
      super.onChange(selfChange);
      mDeviceProvisioned=Settings.Secure.getInt(mContext.getContentResolver(),Settings.Secure.DEVICE_PROVISIONED,0) != 0;
      if (mDeviceProvisioned) {
        mHandler.sendMessage(mHandler.obtainMessage(MSG_DEVICE_PROVISIONED));
      }
      if (DEBUG)       Log.d(TAG,"DEVICE_PROVISIONED state = " + mDeviceProvisioned);
    }
  }
;
  mContext.getContentResolver().registerContentObserver(Settings.Secure.getUriFor(Settings.Secure.DEVICE_PROVISIONED),false,mContentObserver);
  boolean provisioned=Settings.Secure.getInt(mContext.getContentResolver(),Settings.Secure.DEVICE_PROVISIONED,0) != 0;
  if (provisioned != mDeviceProvisioned) {
    mDeviceProvisioned=provisioned;
    if (mDeviceProvisioned) {
      mHandler.sendMessage(mHandler.obtainMessage(MSG_DEVICE_PROVISIONED));
    }
  }
}
