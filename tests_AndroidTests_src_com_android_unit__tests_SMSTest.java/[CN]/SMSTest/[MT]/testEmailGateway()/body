{
  String pdu="07914151551512f204038105f300007011103164638a28e6f71b50c687db" + "7076d9357eb7412f7a794e07cdeb6275794c07bde8e5391d247e93f3";
  SmsMessage sms=SmsMessage.createFromPdu(HexDump.hexStringToByteArray(pdu));
  assertEquals("+14155551212",sms.getServiceCenterAddress());
  assertTrue(sms.isEmail());
  assertEquals("foo@example.com",sms.getEmailFrom());
  assertEquals("foo@example.com",sms.getDisplayOriginatingAddress());
  assertEquals("test subject",sms.getPseudoSubject());
  assertEquals("test body",sms.getDisplayMessageBody());
  assertEquals("test body",sms.getEmailBody());
  pdu="07914151551512f204038105f400007011103105458a29e6f71b50c687db" + "7076d9357eb741af0d0a442fcfe9c23739bfe16d289bdee6b5f1813629";
  sms=SmsMessage.createFromPdu(HexDump.hexStringToByteArray(pdu));
  assertEquals("+14155551212",sms.getServiceCenterAddress());
  assertTrue(sms.isEmail());
  assertEquals("foo@example.com",sms.getDisplayOriginatingAddress());
  assertEquals("foo@example.com",sms.getEmailFrom());
  assertEquals("{ testBody[^~\\] }",sms.getDisplayMessageBody());
  assertEquals("{ testBody[^~\\] }",sms.getEmailBody());
}
