{
  String callingPackage=getCallingPackage();
  try {
    ApplicationInfo info=getPackageManager().getApplicationInfo(callingPackage,0);
    if (info.isSystemApp() || info.isUpdatedSystemApp()) {
      final String extra=getIntent().getStringExtra(DocumentsContract.EXTRA_PACKAGE_NAME);
      if (extra != null) {
        callingPackage=extra;
      }
    }
  }
  finally {
    return callingPackage;
  }
}
