{
  mSearchManager.cancelSearch();
  mDirectoryContainer.setDrawDisappearingFirst(anim == ANIM_DOWN);
  refreshDirectory(anim);
  final RootsFragment roots=RootsFragment.get(getFragmentManager());
  if (roots != null) {
    roots.onCurrentRootChanged();
  }
  updateActionBar();
  invalidateOptionsMenu();
}
