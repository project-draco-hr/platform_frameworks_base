{
  if (root.equals(getCurrentRoot()) && mState.stack.size() == 1) {
    return;
  }
  mState.derivedMode=LocalPreferences.getViewMode(this,root,MODE_GRID);
  mState.onRootChanged(root);
  mSearchManager.update(root);
  if (mRoots.isRecentsRoot(root)) {
    refreshCurrentRootAndDirectory(ANIM_NONE);
  }
 else {
    new PickRootTask(this,root).executeOnExecutor(getExecutorForCurrentDirectory());
  }
}
