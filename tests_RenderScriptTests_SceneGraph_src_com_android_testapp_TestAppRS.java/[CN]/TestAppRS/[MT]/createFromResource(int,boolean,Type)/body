{
  FragmentShader.Builder fb=new FragmentShader.Builder(mRS);
  fb.setShaderConst(constType);
  fb.setShader(mRes,id);
  fb.addTexture(TextureType.TEXTURE_2D,"diffuse");
  if (addCubemap) {
    fb.addShaderTexture(TextureType.TEXTURE_CUBE,"reflection");
  }
  FragmentShader pf=fb.create();
  pf.getProgram().bindSampler(Sampler.WRAP_LINEAR_MIP_LINEAR(mRS),0);
  if (addCubemap) {
    pf.getProgram().bindSampler(Sampler.CLAMP_LINEAR_MIP_LINEAR(mRS),1);
  }
  return pf;
}
