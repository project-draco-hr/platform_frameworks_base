{
  Future2 future=getAccountsWithTypeAndFeatures(type,features,null,null);
  Bundle result=future.getResult();
  Parcelable[] accountsTemp=result.getParcelableArray(Constants.ACCOUNTS_KEY);
  if (accountsTemp == null) {
    throw new AuthenticatorException("accounts should not be null");
  }
  Account[] accounts=new Account[accountsTemp.length];
  for (int i=0; i < accountsTemp.length; i++) {
    accounts[i]=(Account)accountsTemp[i];
  }
  return accounts;
}
