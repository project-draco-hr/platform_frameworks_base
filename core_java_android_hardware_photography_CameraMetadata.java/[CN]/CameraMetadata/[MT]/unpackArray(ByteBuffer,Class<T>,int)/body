{
  Class<?> componentType=type.getComponentType();
  Object array;
  int remaining=buffer.remaining();
  int arraySize=remaining / getTypeSize(nativeType);
  array=Array.newInstance(componentType,arraySize);
  for (int i=0; i < arraySize; ++i) {
    Object elem=unpackSingle(buffer,componentType,nativeType);
    Array.set(array,i,elem);
  }
  return (T)array;
}
