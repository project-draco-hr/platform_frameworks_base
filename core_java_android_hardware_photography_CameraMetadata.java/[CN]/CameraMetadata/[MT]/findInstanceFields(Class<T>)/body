{
  List<Field> fields=new ArrayList<Field>();
  for (  Field f : type.getDeclaredFields()) {
    if (f.isSynthetic()) {
      throw new UnsupportedOperationException("Marshalling synthetic fields not supported in type " + type);
    }
    int modifiers=f.getModifiers();
    if ((modifiers & Modifier.STATIC) == 0) {
      fields.add(f);
    }
    Log.v(TAG,String.format("Field %s has modifiers %d",f,modifiers));
  }
  if (type.getDeclaredFields().length == 0) {
    Log.w(TAG,String.format("Type %s had 0 fields of any kind",type));
  }
  return fields;
}
