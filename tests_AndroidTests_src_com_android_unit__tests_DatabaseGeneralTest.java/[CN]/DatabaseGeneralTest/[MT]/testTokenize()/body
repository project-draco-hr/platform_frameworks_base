{
  Cursor c;
  mDatabase.execSQL("CREATE TABLE tokens (" + "token TEXT COLLATE unicode," + "source INTEGER "+ ");");
  String[] cols=new String[]{"token","source"};
  Assert.assertEquals(0,DatabaseUtils.longForQuery(mDatabase,"SELECT _TOKENIZE(NULL, NULL, NULL, NULL)",null));
  Assert.assertEquals(0,DatabaseUtils.longForQuery(mDatabase,"SELECT _TOKENIZE('tokens', NULL, NULL, NULL)",null));
  Assert.assertEquals(0,DatabaseUtils.longForQuery(mDatabase,"SELECT _TOKENIZE('tokens', 10, NULL, NULL)",null));
  Assert.assertEquals(0,DatabaseUtils.longForQuery(mDatabase,"SELECT _TOKENIZE('tokens', 10, 'some string', NULL)",null));
  Assert.assertEquals(3,DatabaseUtils.longForQuery(mDatabase,"SELECT _TOKENIZE('tokens', 1, 'some string ok', ' ')",null));
  String chinese=new String("\u4eac\u4ec5 \u5c3d\u5f84\u60ca");
  Assert.assertEquals(2,DatabaseUtils.longForQuery(mDatabase,"SELECT _TOKENIZE('tokens', 1,'" + chinese + "', ' ')",null));
  String icustr=new String("Fr\u00e9d\u00e9ric Hj\u00f8nnev\u00e5g");
  Assert.assertEquals(2,DatabaseUtils.longForQuery(mDatabase,"SELECT _TOKENIZE('tokens', 1, '" + icustr + "', ' ')",null));
  Assert.assertEquals(7,DatabaseUtils.longForQuery(mDatabase,"SELECT count(*) from tokens;",null));
  String key=DatabaseUtils.getHexCollationKey("Frederic Hjonneva");
  Assert.assertEquals(1,DatabaseUtils.longForQuery(mDatabase,"SELECT count(*) from tokens where token GLOB '" + key + "*'",null));
  key=DatabaseUtils.getHexCollationKey("Hjonneva");
  Assert.assertEquals(1,DatabaseUtils.longForQuery(mDatabase,"SELECT count(*) from tokens where token GLOB '" + key + "*'",null));
  key=DatabaseUtils.getHexCollationKey("some string ok");
  Assert.assertEquals(1,DatabaseUtils.longForQuery(mDatabase,"SELECT count(*) from tokens where token GLOB '" + key + "*'",null));
  key=DatabaseUtils.getHexCollationKey("string");
  Assert.assertEquals(1,DatabaseUtils.longForQuery(mDatabase,"SELECT count(*) from tokens where token GLOB '" + key + "*'",null));
  key=DatabaseUtils.getHexCollationKey("ok");
  Assert.assertEquals(1,DatabaseUtils.longForQuery(mDatabase,"SELECT count(*) from tokens where token GLOB '" + key + "*'",null));
  key=DatabaseUtils.getHexCollationKey(chinese);
  String[] a=new String[1];
  a[0]=key;
  Assert.assertEquals(1,DatabaseUtils.longForQuery(mDatabase,"SELECT count(*) from tokens where token= ?",a));
  a[0]+="*";
  Assert.assertEquals(1,DatabaseUtils.longForQuery(mDatabase,"SELECT count(*) from tokens where token GLOB ?",a));
  Assert.assertEquals(1,DatabaseUtils.longForQuery(mDatabase,"SELECT count(*) from tokens where token= '" + key + "'",null));
  Assert.assertEquals(1,DatabaseUtils.longForQuery(mDatabase,"SELECT count(*) from tokens where token GLOB '" + key + "*'",null));
  key=DatabaseUtils.getHexCollationKey("\u4eac\u4ec5");
  Assert.assertEquals(1,DatabaseUtils.longForQuery(mDatabase,"SELECT count(*) from tokens where token GLOB '" + key + "*'",null));
  Assert.assertEquals(0,DatabaseUtils.longForQuery(mDatabase,"SELECT count(*) from tokens where token GLOB 'ab*'",null));
}
