{
  int mode=mMode;
  if (mode == MODE_IGNORE_UNTIL_TOUCHES_THUMB) {
    mode=mPreviousMode;
  }
  if (mode == MODE_MOVE_ZOOM_RING || mode == MODE_WAITING_FOR_MOVE_ZOOM_RING) {
    mCallback.onZoomRingSetMovableHintVisible(false);
    if (mode == MODE_MOVE_ZOOM_RING) {
      mCallback.onZoomRingMovingStopped();
    }
  }
 else   if (mode == MODE_DRAG_THUMB || mode == MODE_TAP_DRAG || mode == MODE_WAITING_FOR_DRAG_THUMB_AFTER_JUMP) {
    onThumbDragStopped();
    if (mode == MODE_DRAG_THUMB || mode == MODE_TAP_DRAG) {
      setThumbAngleAnimated(mPreviousCallbackAngle,0);
    }
  }
  mCallback.onUserInteractionStopped();
  if (!isTouchingRing) {
    mPreviousCenterUpTime=time;
  }
}
