{
  super(context,attrs,defStyle);
  ViewConfiguration viewConfiguration=ViewConfiguration.get(context);
  mTouchSlop=viewConfiguration.getScaledTouchSlop();
  TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.ZoomRing,defStyle,0);
  mThumbDistance=(int)a.getDimension(R.styleable.ZoomRing_thumbDistance,0);
  setTrackRadii((int)a.getDimension(R.styleable.ZoomRing_trackInnerRadius,0),(int)a.getDimension(R.styleable.ZoomRing_trackOuterRadius,Integer.MAX_VALUE));
  mThumbDrawable=a.getDrawable(R.styleable.ZoomRing_thumbDrawable);
  mZoomInArrowDrawable=a.getDrawable(R.styleable.ZoomRing_zoomInArrowDrawable);
  mZoomOutArrowDrawable=a.getDrawable(R.styleable.ZoomRing_zoomOutArrowDrawable);
  mZoomInArrowHintDrawable=a.getDrawable(R.styleable.ZoomRing_zoomInArrowHintDrawable);
  mZoomOutArrowHintDrawable=a.getDrawable(R.styleable.ZoomRing_zoomOutArrowHintDrawable);
  mZoomArrowHintDistance=(int)a.getDimension(R.styleable.ZoomRing_zoomArrowHintDistance,0);
  mZoomArrowHintOffsetAngle=(int)(a.getInteger(R.styleable.ZoomRing_zoomArrowHintOffsetAngle,0) * TWO_PI_INT_MULTIPLIED / 360);
  mPanningArrowsDrawable=a.getDrawable(R.styleable.ZoomRing_panningArrowsDrawable);
  a.recycle();
  Resources res=context.getResources();
  if (DRAW_TRAIL) {
    mTrail=res.getDrawable(R.drawable.zoom_ring_trail).mutate();
  }
  mThumbHalfHeight=mThumbDrawable.getIntrinsicHeight() / 2;
  mThumbHalfWidth=mThumbDrawable.getIntrinsicWidth() / 2;
  setTickDelta(PI_INT_MULTIPLIED / 6);
}
