{
  if (mWorkerThread == null) {
    Log.d(TAG,"no active thread");
    return;
  }
  isShuttingDown=true;
  try {
    stopMonitor();
  }
 catch (  Exception e) {
    Log.d(TAG,"Unable to stop SvcMonitor!",e);
  }
  if (Thread.currentThread() != mWorkerThread) {
    mWorkerThread.interrupt();
    Log.d(TAG,"Interrupting thread");
    try {
      mWorkerThread.join();
    }
 catch (    InterruptedException e) {
      Log.d(TAG,"Unable to join thread!");
    }
  }
  mWorkerThread=null;
  stopSelf();
  Log.d(TAG,"Service stopped");
}
