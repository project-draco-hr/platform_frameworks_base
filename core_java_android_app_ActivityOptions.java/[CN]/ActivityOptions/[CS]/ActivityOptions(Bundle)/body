{
  mPackageName=opts.getString(KEY_PACKAGE_NAME);
  mAnimationType=opts.getInt(KEY_ANIM_TYPE);
switch (mAnimationType) {
case ANIM_CUSTOM:
    mCustomEnterResId=opts.getInt(KEY_ANIM_ENTER_RES_ID,0);
  mCustomExitResId=opts.getInt(KEY_ANIM_EXIT_RES_ID,0);
mAnimationStartedListener=IRemoteCallback.Stub.asInterface(opts.getBinder(KEY_ANIM_START_LISTENER));
break;
case ANIM_SCALE_UP:
mStartX=opts.getInt(KEY_ANIM_START_X,0);
mStartY=opts.getInt(KEY_ANIM_START_Y,0);
mStartWidth=opts.getInt(KEY_ANIM_START_WIDTH,0);
mStartHeight=opts.getInt(KEY_ANIM_START_HEIGHT,0);
break;
case ANIM_THUMBNAIL_SCALE_UP:
case ANIM_THUMBNAIL_SCALE_DOWN:
case ANIM_THUMBNAIL_ASPECT_SCALE_UP:
case ANIM_THUMBNAIL_ASPECT_SCALE_DOWN:
mThumbnail=(Bitmap)opts.getParcelable(KEY_ANIM_THUMBNAIL);
mStartX=opts.getInt(KEY_ANIM_START_X,0);
mStartY=opts.getInt(KEY_ANIM_START_Y,0);
mAnimationStartedListener=IRemoteCallback.Stub.asInterface(opts.getBinder(KEY_ANIM_START_LISTENER));
break;
case ANIM_SCENE_TRANSITION:
mTransitionReceiver=opts.getParcelable(KEY_TRANSITION_COMPLETE_LISTENER);
mIsReturning=opts.getBoolean(KEY_TRANSITION_IS_RETURNING,false);
mSharedElementNames=opts.getStringArrayList(KEY_TRANSITION_SHARED_ELEMENTS);
mResultData=opts.getParcelable(KEY_RESULT_DATA);
mResultCode=opts.getInt(KEY_RESULT_CODE);
mExitCoordinatorIndex=opts.getInt(KEY_EXIT_COORDINATOR_INDEX);
break;
}
}
