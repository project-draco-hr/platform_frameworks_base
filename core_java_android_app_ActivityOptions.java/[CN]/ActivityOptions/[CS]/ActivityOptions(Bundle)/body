{
  mPackageName=opts.getString(KEY_PACKAGE_NAME);
  try {
    mUsageTimeReport=opts.getParcelable(KEY_USAGE_TIME_REPORT);
  }
 catch (  RuntimeException e) {
    Slog.w(TAG,e);
  }
  mHasBounds=opts.containsKey(KEY_BOUNDS);
  if (mHasBounds) {
    mBounds=opts.getParcelable(KEY_BOUNDS);
  }
  mAnimationType=opts.getInt(KEY_ANIM_TYPE);
switch (mAnimationType) {
case ANIM_CUSTOM:
    mCustomEnterResId=opts.getInt(KEY_ANIM_ENTER_RES_ID,0);
  mCustomExitResId=opts.getInt(KEY_ANIM_EXIT_RES_ID,0);
mAnimationStartedListener=IRemoteCallback.Stub.asInterface(opts.getBinder(KEY_ANIM_START_LISTENER));
break;
case ANIM_CUSTOM_IN_PLACE:
mCustomInPlaceResId=opts.getInt(KEY_ANIM_IN_PLACE_RES_ID,0);
break;
case ANIM_SCALE_UP:
case ANIM_CLIP_REVEAL:
mStartX=opts.getInt(KEY_ANIM_START_X,0);
mStartY=opts.getInt(KEY_ANIM_START_Y,0);
mWidth=opts.getInt(KEY_ANIM_WIDTH,0);
mHeight=opts.getInt(KEY_ANIM_HEIGHT,0);
break;
case ANIM_THUMBNAIL_SCALE_UP:
case ANIM_THUMBNAIL_SCALE_DOWN:
case ANIM_THUMBNAIL_ASPECT_SCALE_UP:
case ANIM_THUMBNAIL_ASPECT_SCALE_DOWN:
mThumbnail=(Bitmap)opts.getParcelable(KEY_ANIM_THUMBNAIL);
mStartX=opts.getInt(KEY_ANIM_START_X,0);
mStartY=opts.getInt(KEY_ANIM_START_Y,0);
mWidth=opts.getInt(KEY_ANIM_WIDTH,0);
mHeight=opts.getInt(KEY_ANIM_HEIGHT,0);
mAnimationStartedListener=IRemoteCallback.Stub.asInterface(opts.getBinder(KEY_ANIM_START_LISTENER));
break;
case ANIM_SCENE_TRANSITION:
mTransitionReceiver=opts.getParcelable(KEY_TRANSITION_COMPLETE_LISTENER);
mIsReturning=opts.getBoolean(KEY_TRANSITION_IS_RETURNING,false);
mSharedElementNames=opts.getStringArrayList(KEY_TRANSITION_SHARED_ELEMENTS);
mResultData=opts.getParcelable(KEY_RESULT_DATA);
mResultCode=opts.getInt(KEY_RESULT_CODE);
mExitCoordinatorIndex=opts.getInt(KEY_EXIT_COORDINATOR_INDEX);
break;
}
mDockCreateMode=opts.getInt(KEY_DOCK_CREATE_MODE,DOCKED_STACK_CREATE_MODE_TOP_OR_LEFT);
}
