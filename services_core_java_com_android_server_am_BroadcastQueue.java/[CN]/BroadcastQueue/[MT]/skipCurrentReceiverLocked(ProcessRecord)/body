{
  BroadcastRecord r=null;
  if (mOrderedBroadcasts.size() > 0) {
    BroadcastRecord br=mOrderedBroadcasts.get(0);
    if (br.curApp == app) {
      r=br;
    }
  }
  if (r == null && mPendingBroadcast != null && mPendingBroadcast.curApp == app) {
    if (DEBUG_BROADCAST)     Slog.v(TAG_BROADCAST,"[" + mQueueName + "] skip & discard pending app "+ r);
    r=mPendingBroadcast;
  }
  if (r != null) {
    logBroadcastReceiverDiscardLocked(r);
    finishReceiverLocked(r,r.resultCode,r.resultData,r.resultExtras,r.resultAbort,false);
    scheduleBroadcastsLocked();
  }
}
