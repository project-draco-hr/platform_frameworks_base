{
  String action=intent.getAction();
  if (action.equals(WifiManager.WIFI_STATE_CHANGED_ACTION)) {
    mCurrentState.enabled=intent.getIntExtra(WifiManager.EXTRA_WIFI_STATE,WifiManager.WIFI_STATE_UNKNOWN) == WifiManager.WIFI_STATE_ENABLED;
  }
 else   if (action.equals(WifiManager.NETWORK_STATE_CHANGED_ACTION)) {
    final NetworkInfo networkInfo=(NetworkInfo)intent.getParcelableExtra(WifiManager.EXTRA_NETWORK_INFO);
    mCurrentState.connected=networkInfo != null && networkInfo.isConnected();
    if (mCurrentState.connected) {
      WifiInfo info=intent.getParcelableExtra(WifiManager.EXTRA_WIFI_INFO) != null ? (WifiInfo)intent.getParcelableExtra(WifiManager.EXTRA_WIFI_INFO) : mWifiManager.getConnectionInfo();
      if (info != null) {
        mCurrentState.ssid=getSsid(info);
      }
 else {
        mCurrentState.ssid=null;
      }
    }
 else     if (!mCurrentState.connected) {
      mCurrentState.ssid=null;
    }
  }
 else   if (action.equals(WifiManager.RSSI_CHANGED_ACTION)) {
    mCurrentState.rssi=intent.getIntExtra(WifiManager.EXTRA_NEW_RSSI,-200);
    mCurrentState.level=WifiManager.calculateSignalLevel(mCurrentState.rssi,WifiIcons.WIFI_LEVEL_COUNT);
  }
  notifyListenersIfNecessary();
}
