{
  boolean success=false;
  for (int i=mCallbacks.size() - 1; i >= 0; i--) {
    MessageHandler handler=mCallbacks.get(i);
    if (cb == handler.mCallback) {
      mCallbacks.remove(i);
      success=true;
      handler.mRegistered=false;
    }
  }
  if (mCbRegistered && mCallbacks.size() == 0) {
    try {
      mSessionBinder.unregisterCallbackListener(mCbStub);
    }
 catch (    RemoteException e) {
      Log.e(TAG,"Dead object in removeCallbackLocked");
    }
    mCbRegistered=false;
  }
  return success;
}
