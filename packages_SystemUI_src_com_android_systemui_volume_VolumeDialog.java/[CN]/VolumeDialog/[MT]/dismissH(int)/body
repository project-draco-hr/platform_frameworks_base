{
  if (mMotion.isAnimating()) {
    return;
  }
  mHandler.removeMessages(H.DISMISS);
  mHandler.removeMessages(H.SHOW);
  if (!mShowing)   return;
  mShowing=false;
  mMotion.startDismiss(new Runnable(){
    @Override public void run(){
      setExpandedH(false);
    }
  }
);
  if (mAccessibilityMgr.isEnabled()) {
    AccessibilityEvent event=AccessibilityEvent.obtain(AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED);
    event.setPackageName(mContext.getPackageName());
    event.setClassName(CustomDialog.class.getSuperclass().getName());
    event.getText().add(mContext.getString(R.string.volume_dialog_accessibility_dismissed_message));
    mAccessibilityMgr.sendAccessibilityEvent(event);
  }
  Events.writeEvent(mContext,Events.EVENT_DISMISS_DIALOG,reason);
  mController.notifyVisible(false);
synchronized (mSafetyWarningLock) {
    if (mSafetyWarning != null) {
      if (D.BUG)       Log.d(TAG,"SafetyWarning dismissed");
      mSafetyWarning.dismiss();
    }
  }
}
