{
  if (mActivePhone != null) {
    if (mRilVersion == 6 && getLteOnCdmaMode() == Phone.LTE_ON_CDMA_TRUE) {
      if (mActivePhone.getPhoneType() == PHONE_TYPE_CDMA) {
        logd("LTE ON CDMA property is set. Use CDMA Phone" + " newVoiceRadioTech = " + newVoiceRadioTech + " Active Phone = "+ mActivePhone.getPhoneName());
        return;
      }
 else {
        logd("LTE ON CDMA property is set. Switch to CDMALTEPhone" + " newVoiceRadioTech = " + newVoiceRadioTech + " Active Phone = "+ mActivePhone.getPhoneName());
        newVoiceRadioTech=ServiceState.RADIO_TECHNOLOGY_1xRTT;
      }
    }
 else {
      if ((ServiceState.isCdma(newVoiceRadioTech) && mActivePhone.getPhoneType() == PHONE_TYPE_CDMA) || (ServiceState.isGsm(newVoiceRadioTech) && mActivePhone.getPhoneType() == PHONE_TYPE_GSM)) {
        logd("Ignoring voice radio technology changed message." + " newVoiceRadioTech = " + newVoiceRadioTech + " Active Phone = "+ mActivePhone.getPhoneName());
        return;
      }
    }
  }
  if (newVoiceRadioTech == ServiceState.RADIO_TECHNOLOGY_UNKNOWN) {
    logd("Ignoring voice radio technology changed message. newVoiceRadioTech = Unknown." + " Active Phone = " + mActivePhone.getPhoneName());
    return;
  }
  boolean oldPowerState=false;
  if (mResetModemOnRadioTechnologyChange) {
    if (mCommandsInterface.getRadioState().isOn()) {
      oldPowerState=true;
      logd("Setting Radio Power to Off");
      mCommandsInterface.setRadioPower(false,null);
    }
  }
  deleteAndCreatePhone(newVoiceRadioTech);
  if (mResetModemOnRadioTechnologyChange && oldPowerState) {
    logd("Resetting Radio");
    mCommandsInterface.setRadioPower(oldPowerState,null);
  }
  mIccSmsInterfaceManagerProxy.setmIccSmsInterfaceManager(mActivePhone.getIccSmsInterfaceManager());
  mIccPhoneBookInterfaceManagerProxy.setmIccPhoneBookInterfaceManager(mActivePhone.getIccPhoneBookInterfaceManager());
  mPhoneSubInfoProxy.setmPhoneSubInfo(this.mActivePhone.getPhoneSubInfo());
  mCommandsInterface=((PhoneBase)mActivePhone).mCM;
  Intent intent=new Intent(TelephonyIntents.ACTION_RADIO_TECHNOLOGY_CHANGED);
  intent.addFlags(Intent.FLAG_RECEIVER_REPLACE_PENDING);
  intent.putExtra(Phone.PHONE_NAME_KEY,mActivePhone.getPhoneName());
  ActivityManagerNative.broadcastStickyIntent(intent,null);
}
