{
  StateMachine3 sm3=new StateMachine3("sm3");
  sm3.start();
  if (sm3.isDbg())   Log.d(TAG,"testStateMachine3 E");
synchronized (sm3) {
    sm3.sendMessage(TEST_CMD_1);
    sm3.sendMessage(TEST_CMD_2);
    try {
      sm3.wait();
    }
 catch (    InterruptedException e) {
      Log.e(TAG,"testStateMachine3: exception while waiting " + e.getMessage());
    }
  }
  assertTrue(sm3.getProcessedMessagesSize() == 2);
  ProcessedMessages.Info pmi;
  pmi=sm3.getProcessedMessage(0);
  assertEquals(TEST_CMD_1,pmi.getWhat());
  assertEquals(sm3.mParentState,pmi.getState());
  assertEquals(sm3.mChildState,pmi.getOriginalState());
  pmi=sm3.getProcessedMessage(1);
  assertEquals(TEST_CMD_2,pmi.getWhat());
  assertEquals(sm3.mParentState,pmi.getState());
  assertEquals(sm3.mChildState,pmi.getOriginalState());
  if (sm3.isDbg())   Log.d(TAG,"testStateMachine3 X");
}
