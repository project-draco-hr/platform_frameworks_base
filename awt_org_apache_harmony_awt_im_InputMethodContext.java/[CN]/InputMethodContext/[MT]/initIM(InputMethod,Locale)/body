{
  if (im == null) {
    return;
  }
  im.setLocale(locale);
  im.setCharacterSubsets(null);
  try {
    im.setCompositionEnabled(inputMethod != null ? inputMethod.isCompositionEnabled() : true);
  }
 catch (  UnsupportedOperationException uoe) {
  }
}
