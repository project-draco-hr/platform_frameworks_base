{
  final String themeKey=theme != null ? theme.getKey() : "";
  final LongSparseArray<WeakReference<ConstantState<T>>> themedCache;
  final WeakReference<ConstantState<T>> wr;
synchronized (this) {
    themedCache=mCache.get(themeKey);
    if (themedCache == null) {
      return null;
    }
    wr=themedCache.get(key);
  }
  if (wr == null) {
    return null;
  }
  final ConstantState entry=wr.get();
  if (entry != null) {
    return (T)entry.newInstance(mResources,theme);
  }
 else {
synchronized (this) {
      themedCache.delete(key);
    }
  }
  return null;
}
