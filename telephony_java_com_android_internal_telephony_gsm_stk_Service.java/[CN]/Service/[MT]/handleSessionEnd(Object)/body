{
  if (Config.LOGD) {
    Log.d(TAG,"handleSessionEnd begins");
  }
switch (mInstallIndicator) {
case APP_INDICATOR_INSTALLED_NORMAL:
    mState=State.MAIN_MENU;
  break;
case APP_INDICATOR_INSTALLED_SPECIAL:
case APP_INDICATOR_UNINSTALLED:
mState=State.IDLE;
break;
default :
Log.d(TAG,"Can't set service state");
}
synchronized (mCmdListenerLock) {
if (mCmdListener != null) {
mCmdListener.onSessionEnd();
}
}
}
