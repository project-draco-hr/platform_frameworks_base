{
  if (Config.LOGD) {
    Log.d(TAG,"handleEventNotify begins");
  }
  byte[] rawData=null;
  BerTlv berTlv=null;
  CtlvCommandDetails cmdDet=null;
  CtlvDeviceIdentities devIds=null;
  CommandType cmdType=null;
  if (data.length() == 0) {
    return;
  }
  rawData=SimUtils.hexStringToBytes(data);
  try {
    berTlv=BerTlv.decode(rawData);
  }
 catch (  ResultException e) {
    return;
  }
  List<ComprehensionTlv> ctlvs=berTlv.getComprehensionTlvs();
  try {
    cmdDet=retrieveCommandDetails(ctlvs);
    devIds=retrieveDeviceIdentities(ctlvs);
  }
 catch (  ResultException e) {
    if (Config.LOGD) {
      Log.d(TAG,"invlaid command details/device identities");
    }
    return;
  }
  cmdType=CommandType.fromInt(cmdDet.typeOfCommand);
  if (cmdType == null) {
    return;
  }
  if (berTlv.getTag() == BerTlv.BER_PROACTIVE_COMMAND_TAG) {
switch (cmdType) {
case SEND_SS:
case SEND_USSD:
case SEND_SMS:
case SEND_DTMF:
      processEventNotify(cmdDet,devIds,ctlvs);
    break;
case SET_UP_EVENT_LIST:
  processSetUpEventList(cmdDet,devIds,ctlvs);
break;
case SET_UP_CALL:
processSetupCall(cmdDet,devIds,ctlvs);
break;
default :
break;
}
}
}
