{
  if (Config.LOGD) {
    Log.d(TAG,"processDisplayText begins");
  }
  DisplayTextParams params=new DisplayTextParams(cmdDet);
  IconId iconId=null;
  ComprehensionTlv ctlv=searchForTag(ComprehensionTlvTag.TEXT_STRING,ctlvs);
  if (ctlv != null) {
    params.text=retrieveTextString(ctlv);
  }
  if (params.text == null) {
    throw new ResultException(ResultCode.CMD_DATA_NOT_UNDERSTOOD);
  }
  ctlv=searchForTag(ComprehensionTlvTag.TEXT_ATTRIBUTE,ctlvs);
  if (ctlv != null) {
    params.textAttrs=retrieveTextAttribute(ctlv);
  }
  ctlv=searchForTag(ComprehensionTlvTag.IMMEDIATE_RESPONSE,ctlvs);
  if (ctlv != null) {
    params.immediateResponse=true;
  }
  ctlv=searchForTag(ComprehensionTlvTag.ICON_ID,ctlvs);
  if (ctlv != null) {
    iconId=retrieveIconId(ctlv);
  }
  params.isHighPriority=(cmdDet.commandQualifier & 0x01) != 0;
  params.userClear=(cmdDet.commandQualifier & 0x80) != 0;
  mNextCmdParams=params;
  if (iconId != null) {
    mIconLoader.loadIcon(iconId.recordNumber,this.obtainMessage(EVENT_LOAD_ICON_DONE));
    return true;
  }
  return false;
}
