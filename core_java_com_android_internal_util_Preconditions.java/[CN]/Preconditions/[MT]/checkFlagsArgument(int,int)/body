{
  if ((requestedFlags & allowedFlags) != requestedFlags) {
    throw new IllegalArgumentException("Requested flags 0x" + Integer.toHexString(requestedFlags) + ", but only 0x"+ Integer.toHexString(allowedFlags)+ " are allowed");
  }
  return requestedFlags;
}
