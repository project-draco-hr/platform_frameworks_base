{
  if (!attribute.startsWith("android:")) {
    int colon=attribute.indexOf(':');
    if (colon >= 0) {
      attribute=attribute.substring(colon + 1);
    }
  }
  HashMap<AccessorKey,MethodDescription> adapters=mStore.adapterMethods.get(attribute);
  MethodDescription adapter=null;
  String setterName=null;
  ReflectionMethod bestSetterMethod=getBestSetter(viewType,valueType,attribute);
  ReflectionClass bestViewType=null;
  ReflectionClass bestValueType=null;
  if (bestSetterMethod != null) {
    bestViewType=bestSetterMethod.getDeclaringClass();
    bestValueType=bestSetterMethod.getParameterTypes()[0];
    setterName=bestSetterMethod.getName();
  }
  if (adapters != null) {
    for (    AccessorKey key : adapters.keySet()) {
      try {
        ReflectionClass adapterViewType=mClassAnalyzer.findClass(key.viewType);
        if (adapterViewType.isAssignableFrom(viewType)) {
          try {
            ReflectionClass adapterValueType=mClassAnalyzer.findClass(key.valueType);
            boolean isBetterView=bestViewType == null || bestValueType.isAssignableFrom(adapterValueType);
            if (isBetterParameter(valueType,adapterValueType,bestValueType,isBetterView)) {
              bestViewType=adapterViewType;
              bestValueType=adapterValueType;
              adapter=adapters.get(key);
            }
          }
 catch (          Exception e) {
            System.out.println("Unknown class: " + key.valueType);
          }
        }
      }
 catch (      Exception e) {
        System.out.println("Unknown class: " + key.viewType);
      }
    }
  }
  if (valueType.isObject() && !bestValueType.isAssignableFrom(valueType)) {
    valueExpression="(" + bestValueType.toJavaCode() + ") "+ valueExpression;
  }
  MethodDescription conversionMethod=getConversionMethod(valueType,bestValueType);
  if (conversionMethod != null) {
    valueExpression=conversionMethod.type + "." + conversionMethod.method+ "("+ valueExpression+ ")";
  }
  if (adapter == null) {
    if (setterName == null) {
      setterName=getDefaultSetter(attribute);
    }
    return viewExpression + "." + setterName+ "("+ valueExpression+ ")";
  }
 else {
    return adapter.type + "." + adapter.method+ "("+ viewExpression+ ", "+ valueExpression+ ")";
  }
}
