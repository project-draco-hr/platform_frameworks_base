{
  mRS.validate();
  if ((mUsage & USAGE_IO_INPUT) == 0) {
    throw new RSInvalidStateException("Allocation is not USAGE_IO_INPUT.");
  }
  mGetSurfaceSurface=alloc.getSurface();
  mRS.nAllocationShareBufferQueue(getID(mRS),alloc.getID(mRS));
}
