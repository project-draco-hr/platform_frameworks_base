{
  LayoutParams p=(LayoutParams)child.getLayoutParams();
  if (p == null) {
    p=(AbsListView.LayoutParams)generateDefaultLayoutParams();
    child.setLayoutParams(p);
  }
  p.viewType=mAdapter.getItemViewType(position);
  p.forceAdd=true;
  final int childWidthSpec=ViewGroup.getChildMeasureSpec(widthMeasureSpec,mListPadding.left + mListPadding.right,p.width);
  final int lpHeight=p.height;
  final int childHeightSpec;
  if (lpHeight > 0) {
    childHeightSpec=MeasureSpec.makeMeasureSpec(lpHeight,MeasureSpec.EXACTLY);
  }
 else {
    childHeightSpec=MeasureSpec.makeSafeMeasureSpec(heightHint,MeasureSpec.UNSPECIFIED);
  }
  child.measure(childWidthSpec,childHeightSpec);
  child.forceLayout();
}
