{
  boolean handled=false;
  if (mChoiceMode != CHOICE_MODE_NONE) {
    handled=true;
    if (mChoiceMode == CHOICE_MODE_MULTIPLE) {
      boolean oldValue=mCheckStates.get(position,false);
      mCheckStates.put(position,!oldValue);
    }
 else {
      boolean oldValue=mCheckStates.get(position,false);
      if (!oldValue) {
        mCheckStates.clear();
        mCheckStates.put(position,true);
      }
    }
    mDataChanged=true;
    rememberSyncState();
    requestLayout();
  }
  handled|=super.performItemClick(view,position,id);
  return handled;
}
