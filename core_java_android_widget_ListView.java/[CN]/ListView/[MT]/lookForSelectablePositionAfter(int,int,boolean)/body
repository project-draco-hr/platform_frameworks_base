{
  final ListAdapter adapter=mAdapter;
  if (adapter == null || isInTouchMode()) {
    return INVALID_POSITION;
  }
  final int after=lookForSelectablePosition(position,lookDown);
  if (after != INVALID_POSITION) {
    return after;
  }
  final int count=adapter.getCount();
  current=MathUtils.constrain(current,-1,count - 1);
  if (lookDown) {
    position=Math.min(position - 1,count - 1);
    while ((position > current) && !adapter.isEnabled(position)) {
      position--;
    }
    if (position <= current) {
      return INVALID_POSITION;
    }
  }
 else {
    position=Math.max(0,position + 1);
    while ((position < current) && !adapter.isEnabled(position)) {
      position++;
    }
    if (position >= current) {
      return INVALID_POSITION;
    }
  }
  return position;
}
