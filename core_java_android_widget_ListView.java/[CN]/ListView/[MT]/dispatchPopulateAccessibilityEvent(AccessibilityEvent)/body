{
  boolean populated=super.dispatchPopulateAccessibilityEvent(event);
  if (!populated) {
    int itemCount=0;
    int currentItemIndex=getSelectedItemPosition();
    ListAdapter adapter=getAdapter();
    if (adapter != null) {
      for (int i=0, count=adapter.getCount(); i < count; i++) {
        if (adapter.isEnabled(i)) {
          itemCount++;
        }
 else         if (i <= currentItemIndex) {
          currentItemIndex--;
        }
      }
    }
    event.setItemCount(itemCount);
    event.setCurrentItemIndex(currentItemIndex);
  }
  return populated;
}
