{
  if (direction != View.FOCUS_LEFT && direction != View.FOCUS_RIGHT) {
    throw new IllegalArgumentException("direction must be one of {View.FOCUS_LEFT, View.FOCUS_RIGHT}");
  }
  final int numChildren=getChildCount();
  if (mItemsCanFocus && numChildren > 0 && mSelectedPosition != INVALID_POSITION) {
    final View selectedView=getSelectedView();
    if (selectedView.hasFocus() && selectedView instanceof ViewGroup) {
      final View currentFocus=selectedView.findFocus();
      final View nextFocus=FocusFinder.getInstance().findNextFocus((ViewGroup)selectedView,currentFocus,direction);
      if (nextFocus != null) {
        currentFocus.getFocusedRect(mTempRect);
        offsetDescendantRectToMyCoords(currentFocus,mTempRect);
        offsetRectIntoDescendantCoords(nextFocus,mTempRect);
        if (nextFocus.requestFocus(direction,mTempRect)) {
          return true;
        }
      }
      final View globalNextFocus=FocusFinder.getInstance().findNextFocus((ViewGroup)getRootView(),currentFocus,direction);
      if (globalNextFocus != null) {
        return isViewAncestorOf(globalNextFocus,this);
      }
    }
  }
  return false;
}
