{
  int nextPage=-1;
  boolean down=false;
  if (direction == FOCUS_UP) {
    nextPage=Math.max(0,mSelectedPosition - getChildCount() - 1);
  }
 else   if (direction == FOCUS_DOWN) {
    nextPage=Math.min(mItemCount - 1,mSelectedPosition + getChildCount() - 1);
    down=true;
  }
  if (nextPage >= 0) {
    int position=lookForSelectablePosition(nextPage,down);
    if (position >= 0) {
      mLayoutMode=LAYOUT_SPECIFIC;
      mSpecificTop=mPaddingTop + getVerticalFadingEdgeLength();
      if (down && position > mItemCount - getChildCount()) {
        mLayoutMode=LAYOUT_FORCE_BOTTOM;
      }
      if (!down && position < getChildCount()) {
        mLayoutMode=LAYOUT_FORCE_TOP;
      }
      setSelectionInt(position);
      invokeOnItemScrollListener();
      invalidate();
      return true;
    }
  }
  return false;
}
