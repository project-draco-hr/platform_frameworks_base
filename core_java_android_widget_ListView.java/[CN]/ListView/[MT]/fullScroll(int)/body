{
  boolean moved=false;
  if (direction == FOCUS_UP) {
    if (mSelectedPosition != 0) {
      int position=lookForSelectablePosition(0,true);
      if (position >= 0) {
        mLayoutMode=LAYOUT_FORCE_TOP;
        setSelectionInt(position);
        invokeOnItemScrollListener();
      }
      moved=true;
    }
  }
 else   if (direction == FOCUS_DOWN) {
    if (mSelectedPosition < mItemCount - 1) {
      int position=lookForSelectablePosition(mItemCount - 1,true);
      if (position >= 0) {
        mLayoutMode=LAYOUT_FORCE_BOTTOM;
        setSelectionInt(position);
        invokeOnItemScrollListener();
      }
      moved=true;
    }
  }
  if (moved) {
    invalidate();
  }
  return moved;
}
