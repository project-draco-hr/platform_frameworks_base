{
  mChoiceMode=choiceMode;
  if (mChoiceMode != CHOICE_MODE_NONE) {
    if (mCheckStates == null) {
      mCheckStates=new SparseBooleanArray();
    }
    if (mCheckedIdStates == null && mAdapter != null && mAdapter.hasStableIds()) {
      mCheckedIdStates=new LongSparseArray<Boolean>();
    }
  }
}
