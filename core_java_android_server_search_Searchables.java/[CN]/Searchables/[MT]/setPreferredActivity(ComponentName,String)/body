{
  Log.d(LOG_TAG,"Checking component " + component);
  PackageManager pm=mContext.getPackageManager();
  ActivityInfo ai;
  try {
    ai=pm.getActivityInfo(component,0);
  }
 catch (  PackageManager.NameNotFoundException e) {
    return false;
  }
  Intent intent=new Intent(action);
  intent.addCategory(Intent.CATEGORY_DEFAULT);
  List<ResolveInfo> webSearchActivities=pm.queryIntentActivities(intent,0);
  ComponentName set[]=new ComponentName[webSearchActivities.size()];
  int bestMatch=0;
  for (int i=0; i < webSearchActivities.size(); ++i) {
    ResolveInfo ri=webSearchActivities.get(i);
    set[i]=new ComponentName(ri.activityInfo.packageName,ri.activityInfo.name);
    if (ri.match > bestMatch)     bestMatch=ri.match;
  }
  Log.d(LOG_TAG,"Setting preferred web search activity to " + component);
  IntentFilter filter=new IntentFilter(action);
  filter.addCategory(Intent.CATEGORY_DEFAULT);
  pm.replacePreferredActivity(filter,bestMatch,set,component);
  return true;
}
