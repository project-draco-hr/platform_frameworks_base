{
  final String searchProviderSetting=getGlobalSearchProviderSetting();
  if (!TextUtils.isEmpty(searchProviderSetting)) {
    final ComponentName globalSearchComponent=ComponentName.unflattenFromString(searchProviderSetting);
    if (globalSearchComponent != null && isInstalled(globalSearchComponent)) {
      return globalSearchComponent;
    }
  }
  return getDefaultGlobalSearchProvider(installed);
}
