{
  native_setup();
  mContext=context;
  mMediaProvider=context.getContentResolver().acquireProvider("media");
  mVolumeName=volumeName;
  mMediaStoragePath=storagePath;
  mObjectsUri=Files.getMtpObjectsUri(volumeName);
  mMediaScanner=new MediaScanner(context);
  Locale locale=context.getResources().getConfiguration().locale;
  if (locale != null) {
    String language=locale.getLanguage();
    String country=locale.getCountry();
    if (language != null) {
      if (country != null) {
        mMediaScanner.setLocale(language + "_" + country);
      }
 else {
        mMediaScanner.setLocale(language);
      }
    }
  }
  initDeviceProperties(context);
}
