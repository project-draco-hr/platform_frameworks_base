{
  Log.d(TAG,"getDeviceProperty: " + property);
switch (property) {
case MtpConstants.DEVICE_PROPERTY_SYNCHRONIZATION_PARTNER:
case MtpConstants.DEVICE_PROPERTY_DEVICE_FRIENDLY_NAME:
    Cursor c=null;
  try {
    c=mDevicePropDb.query("properties",DEVICE_PROPERTY_PROJECTION,DEVICE_PROPERTY_WHERE,new String[]{Integer.toString(property)},null,null,null);
    if (c != null && c.moveToNext()) {
      String value=c.getString(1);
      int length=value.length();
      if (length > 255) {
        length=255;
      }
      value.getChars(0,length,outStringValue,0);
      outStringValue[length]=0;
    }
 else {
      outStringValue[0]=0;
    }
    return MtpConstants.RESPONSE_OK;
  }
  finally {
    if (c != null) {
      c.close();
    }
  }
case MtpConstants.DEVICE_PROPERTY_IMAGE_SIZE:
Display display=((WindowManager)mContext.getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
int width=display.getWidth();
int height=display.getHeight();
String imageSize=Integer.toString(width) + "x" + Integer.toString(height);
imageSize.getChars(0,imageSize.length(),outStringValue,0);
outStringValue[imageSize.length()]=0;
return MtpConstants.RESPONSE_OK;
default :
return MtpConstants.RESPONSE_DEVICE_PROP_NOT_SUPPORTED;
}
}
