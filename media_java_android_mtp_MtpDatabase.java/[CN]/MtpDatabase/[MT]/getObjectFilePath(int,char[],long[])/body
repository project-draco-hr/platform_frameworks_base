{
  Log.d(TAG,"getObjectFilePath: " + handle);
  if (handle == 0) {
    mMediaStoragePath.getChars(0,mMediaStoragePath.length(),outFilePath,0);
    outFilePath[mMediaStoragePath.length()]=0;
    outFileLengthFormat[0]=0;
    outFileLengthFormat[1]=MtpConstants.FORMAT_ASSOCIATION;
    return MtpConstants.RESPONSE_OK;
  }
  Cursor c=null;
  try {
    c=mMediaProvider.query(mObjectsUri,PATH_SIZE_FORMAT_PROJECTION,ID_WHERE,new String[]{Integer.toString(handle)},null);
    if (c != null && c.moveToNext()) {
      String path=c.getString(1);
      path.getChars(0,path.length(),outFilePath,0);
      outFilePath[path.length()]=0;
      outFileLengthFormat[0]=c.getLong(2);
      outFileLengthFormat[1]=c.getLong(3);
      return MtpConstants.RESPONSE_OK;
    }
 else {
      return MtpConstants.RESPONSE_INVALID_OBJECT_HANDLE;
    }
  }
 catch (  RemoteException e) {
    Log.e(TAG,"RemoteException in getObjectFilePath",e);
    return MtpConstants.RESPONSE_GENERAL_ERROR;
  }
 finally {
    if (c != null) {
      c.close();
    }
  }
}
