{
  SQLiteDatabase db=mOpenHelper.getWritableDatabase();
  db.beginTransaction();
  try {
    int numChanges=db.delete("pending",null,null);
    if (numChanges > 0) {
      db.execSQL("UPDATE status SET pending=0");
      mContext.getContentResolver().notifyChange(Sync.Pending.CONTENT_URI,null);
      mContext.getContentResolver().notifyChange(Sync.Status.CONTENT_URI,null);
    }
    db.setTransactionSuccessful();
    return numChanges;
  }
  finally {
    db.endTransaction();
  }
}
