{
  HashSet<String> currentAccounts=new HashSet<String>();
  for (  String account : accounts)   currentAccounts.add(account);
  SQLiteDatabase db=mOpenHelper.getWritableDatabase();
  Cursor cursor=db.query("stats",STATS_ACCOUNT_PROJECTION,null,null,Sync.Stats.ACCOUNT,null,null);
  try {
    while (cursor.moveToNext()) {
      String account=cursor.getString(0);
      if (TextUtils.isEmpty(account)) {
        continue;
      }
      if (!currentAccounts.contains(account)) {
        String where=Sync.Stats.ACCOUNT + "=?";
        int numDeleted;
        numDeleted=db.delete("stats",where,new String[]{account});
        if (Config.LOGD) {
          Log.d(TAG,"deleted " + numDeleted + " records from stats table"+ " for account "+ account);
        }
      }
    }
  }
  finally {
    cursor.close();
  }
}
