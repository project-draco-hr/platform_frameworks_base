{
synchronized (mAuthorities) {
    Boolean auto=mMasterSyncAutomatically.get(userId);
    if (auto != null && (boolean)auto == flag) {
      return;
    }
    mMasterSyncAutomatically.put(userId,flag);
    writeAccountInfoLocked();
  }
  if (flag) {
    requestSync(null,userId,SyncOperation.REASON_MASTER_SYNC_AUTO,null,new Bundle());
  }
  reportChange(ContentResolver.SYNC_OBSERVER_TYPE_SETTINGS);
  mContext.sendBroadcast(SYNC_CONNECTION_SETTING_CHANGED_INTENT);
}
