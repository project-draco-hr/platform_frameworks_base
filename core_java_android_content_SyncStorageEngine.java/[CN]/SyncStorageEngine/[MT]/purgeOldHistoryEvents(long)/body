{
  SQLiteDatabase db=mOpenHelper.getWritableDatabase();
  int numDeletes=db.delete("history","eventTime<" + (now - MILLIS_IN_4WEEKS),null);
  if (Log.isLoggable(TAG,Log.VERBOSE)) {
    if (numDeletes > 0) {
      Log.v(TAG,"deleted " + numDeletes + " old event(s) from the sync history");
    }
  }
  numDeletes+=db.delete("history","eventTime < (select min(eventTime) from " + "(select eventTime from history order by eventTime desc limit ?))",new String[]{String.valueOf(MAX_HISTORY_EVENTS_TO_KEEP)});
  return numDeletes > 0;
}
