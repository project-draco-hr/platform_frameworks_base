{
  FileInputStream fis=null;
  try {
    fis=mAccountInfoFile.openRead();
    if (DEBUG_FILE)     Log.v(TAG,"Reading " + mAccountInfoFile.getBaseFile());
    XmlPullParser parser=Xml.newPullParser();
    parser.setInput(fis,null);
    int eventType=parser.getEventType();
    while (eventType != XmlPullParser.START_TAG) {
      eventType=parser.next();
    }
    String tagName=parser.getName();
    if ("accounts".equals(tagName)) {
      String listen=parser.getAttributeValue(null,"listen-for-tickles");
      mListenForTickles=listen == null || Boolean.parseBoolean(listen);
      eventType=parser.next();
      do {
        if (eventType == XmlPullParser.START_TAG && parser.getDepth() == 2) {
          tagName=parser.getName();
          if ("authority".equals(tagName)) {
            int id=-1;
            try {
              id=Integer.parseInt(parser.getAttributeValue(null,"id"));
            }
 catch (            NumberFormatException e) {
            }
catch (            NullPointerException e) {
            }
            if (id >= 0) {
              String accountName=parser.getAttributeValue(null,"account");
              String authorityName=parser.getAttributeValue(null,"authority");
              String enabled=parser.getAttributeValue(null,"enabled");
              AuthorityInfo authority=mAuthorities.get(id);
              if (DEBUG_FILE)               Log.v(TAG,"Adding authority: account=" + accountName + " auth="+ authorityName+ " enabled="+ enabled);
              if (authority == null) {
                if (DEBUG_FILE)                 Log.v(TAG,"Creating entry");
                authority=getOrCreateAuthorityLocked(accountName,authorityName,id,false);
              }
              if (authority != null) {
                authority.enabled=enabled == null || Boolean.parseBoolean(enabled);
              }
 else {
                Log.w(TAG,"Failure adding authority: account=" + accountName + " auth="+ authorityName+ " enabled="+ enabled);
              }
            }
          }
        }
        eventType=parser.next();
      }
 while (eventType != XmlPullParser.END_DOCUMENT);
    }
  }
 catch (  XmlPullParserException e) {
    Log.w(TAG,"Error reading accounts",e);
  }
catch (  java.io.IOException e) {
    if (fis == null)     Log.i(TAG,"No initial accounts");
 else     Log.w(TAG,"Error reading accounts",e);
  }
 finally {
    if (fis != null) {
      try {
        fis.close();
      }
 catch (      java.io.IOException e1) {
      }
    }
  }
}
