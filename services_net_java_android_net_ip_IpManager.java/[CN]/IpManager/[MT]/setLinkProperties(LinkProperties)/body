{
  if (mApfFilter != null) {
    mApfFilter.setLinkProperties(newLp);
  }
  if (mIpReachabilityMonitor != null) {
    mIpReachabilityMonitor.updateLinkProperties(newLp);
  }
  ProvisioningChange delta=compareProvisioning(mLinkProperties,newLp);
  mLinkProperties=new LinkProperties(newLp);
  if (delta == ProvisioningChange.GAINED_PROVISIONING) {
    mProvisioningTimeoutAlarm.cancel();
  }
  return delta;
}
