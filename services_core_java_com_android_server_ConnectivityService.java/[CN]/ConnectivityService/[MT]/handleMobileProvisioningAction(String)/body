{
  setProvNotificationVisible(false,ConnectivityManager.TYPE_MOBILE_HIPRI,null,null);
  boolean isAirplaneModeOn=Settings.System.getInt(mContext.getContentResolver(),Settings.Global.AIRPLANE_MODE_ON,0) == 1;
  if (mIsProvisioningNetwork.get() && !isAirplaneModeOn) {
    if (DBG)     log("handleMobileProvisioningAction: on prov network enable then launch");
    mIsProvisioningNetwork.set(false);
  }
 else {
    if (DBG)     log("handleMobileProvisioningAction: not prov network");
    mIsProvisioningNetwork.set(false);
    Intent provisioningIntent=new Intent(TelephonyIntents.ACTION_CARRIER_SETUP);
    List<String> carrierPackages=mTelephonyManager.getCarrierPackageNamesForBroadcastIntent(provisioningIntent);
    if (carrierPackages != null && !carrierPackages.isEmpty()) {
      if (carrierPackages.size() != 1) {
        if (DBG)         log("Multiple matching carrier apps found, launching the first.");
      }
      provisioningIntent.setPackage(carrierPackages.get(0));
      provisioningIntent.setFlags(Intent.FLAG_ACTIVITY_BROUGHT_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);
      mContext.startActivity(provisioningIntent);
    }
 else {
      Intent newIntent=Intent.makeMainSelectorActivity(Intent.ACTION_MAIN,Intent.CATEGORY_APP_BROWSER);
      newIntent.setData(Uri.parse(url));
      newIntent.setFlags(Intent.FLAG_ACTIVITY_BROUGHT_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);
      try {
        mContext.startActivity(newIntent);
      }
 catch (      ActivityNotFoundException e) {
        loge("handleMobileProvisioningAction: startActivity failed" + e);
      }
    }
  }
}
