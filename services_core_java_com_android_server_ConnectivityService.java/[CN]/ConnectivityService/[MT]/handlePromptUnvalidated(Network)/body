{
  if (VDBG)   log("handlePromptUnvalidated " + network);
  NetworkAgentInfo nai=getNetworkAgentInfoForNetwork(network);
  if (nai == null || nai.everValidated || nai.everCaptivePortalDetected || !nai.networkMisc.explicitlySelected || nai.networkMisc.acceptUnvalidated) {
    return;
  }
  Intent intent=new Intent(ConnectivityManager.ACTION_PROMPT_UNVALIDATED);
  intent.setData(Uri.fromParts("netId",Integer.toString(network.netId),null));
  intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
  intent.setClassName("com.android.settings","com.android.settings.wifi.WifiNoInternetDialog");
  PendingIntent pendingIntent=PendingIntent.getActivityAsUser(mContext,0,intent,PendingIntent.FLAG_CANCEL_CURRENT,null,UserHandle.CURRENT);
  setProvNotificationVisibleIntent(true,nai.network.netId,NotificationType.NO_INTERNET,nai.networkInfo.getType(),nai.networkInfo.getExtraInfo(),pendingIntent,true);
}
