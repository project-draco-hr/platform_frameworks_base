{
  NetworkAgentInfo nai=getNetworkAgentInfoForNetwork(network);
  if (nai == null || nai.everValidated || nai.captivePortalDetected || !nai.networkMisc.explicitlySelected || nai.networkMisc.acceptUnvalidated) {
    return;
  }
  if (isDefaultNetwork(nai)) {
    return;
  }
  Intent intent=new Intent(ConnectivityManager.ACTION_PROMPT_UNVALIDATED);
  intent.putExtra(ConnectivityManager.EXTRA_NETWORK,network);
  intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
  intent.setClassName("com.android.settings","com.android.settings.wifi.WifiNoInternetDialog");
  mContext.startActivityAsUser(intent,UserHandle.CURRENT);
}
