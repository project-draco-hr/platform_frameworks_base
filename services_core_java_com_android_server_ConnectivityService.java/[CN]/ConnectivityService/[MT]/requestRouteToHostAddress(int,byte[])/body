{
  enforceChangePermission();
  if (mProtectedNetworks.contains(networkType)) {
    enforceConnectivityInternalPermission();
  }
  if (!ConnectivityManager.isNetworkTypeValid(networkType)) {
    if (DBG)     log("requestRouteToHostAddress on invalid network: " + networkType);
    return false;
  }
  NetworkStateTracker tracker=mNetTrackers[networkType];
  DetailedState netState=DetailedState.DISCONNECTED;
  if (tracker != null) {
    netState=tracker.getNetworkInfo().getDetailedState();
  }
  if ((netState != DetailedState.CONNECTED && netState != DetailedState.CAPTIVE_PORTAL_CHECK) || tracker.isTeardownRequested()) {
    if (VDBG) {
      log("requestRouteToHostAddress on down network " + "(" + networkType + ") - dropped"+ " tracker="+ tracker+ " netState="+ netState+ " isTeardownRequested="+ ((tracker != null) ? tracker.isTeardownRequested() : "tracker:null"));
    }
    return false;
  }
  final long token=Binder.clearCallingIdentity();
  try {
    InetAddress addr=InetAddress.getByAddress(hostAddress);
    LinkProperties lp=tracker.getLinkProperties();
    boolean ok=addRouteToAddress(lp,addr,EXEMPT);
    if (DBG)     log("requestRouteToHostAddress ok=" + ok);
    return ok;
  }
 catch (  UnknownHostException e) {
    if (DBG)     log("requestRouteToHostAddress got " + e.toString());
  }
 finally {
    Binder.restoreCallingIdentity(token);
  }
  if (DBG)   log("requestRouteToHostAddress X bottom return false");
  return false;
}
