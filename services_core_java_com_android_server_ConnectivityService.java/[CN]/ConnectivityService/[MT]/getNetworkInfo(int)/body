{
  enforceAccessPermission();
  final int uid=Binder.getCallingUid();
  if (getVpnUnderlyingNetworks(uid) != null) {
    NetworkState state=getUnfilteredActiveNetworkState(uid);
    if (state.networkInfo != null && state.networkInfo.getType() == networkType) {
      return getFilteredNetworkInfo(state.networkInfo,state.linkProperties,uid);
    }
  }
  NetworkState state=getFilteredNetworkState(networkType,uid);
  return state.networkInfo;
}
