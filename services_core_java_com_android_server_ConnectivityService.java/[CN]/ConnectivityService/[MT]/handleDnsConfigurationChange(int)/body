{
  NetworkStateTracker nt=mNetTrackers[netType];
  if (nt != null && nt.getNetworkInfo().isConnected() && !nt.isTeardownRequested()) {
    LinkProperties p=nt.getLinkProperties();
    if (p == null)     return;
    Collection<InetAddress> dnses=p.getDnses();
    int netId=nt.getNetwork().netId;
    if (mNetConfigs[netType].isDefault()) {
      String network=nt.getNetworkInfo().getTypeName();
synchronized (mDnsLock) {
        updateDnsLocked(network,netId,dnses,p.getDomains());
      }
    }
 else {
      try {
        mNetd.setDnsServersForNetwork(netId,NetworkUtils.makeStrings(dnses),p.getDomains());
      }
 catch (      Exception e) {
        if (DBG)         loge("exception setting dns servers: " + e);
      }
      List<Integer> pids=mNetRequestersPids[netType];
      for (      Integer pid : pids) {
        try {
        }
 catch (        Exception e) {
          Slog.e(TAG,"exception setting interface for pid: " + e);
        }
      }
    }
    flushVmDnsCache();
  }
}
