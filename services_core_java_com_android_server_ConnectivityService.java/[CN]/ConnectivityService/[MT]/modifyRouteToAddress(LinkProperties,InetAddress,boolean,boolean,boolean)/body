{
  RouteInfo bestRoute=RouteInfo.selectBestRoute(lp.getAllRoutes(),addr);
  if (bestRoute == null) {
    bestRoute=RouteInfo.makeHostRoute(addr,lp.getInterfaceName());
  }
 else {
    String iface=bestRoute.getInterface();
    if (bestRoute.getGateway().equals(addr)) {
      bestRoute=RouteInfo.makeHostRoute(addr,iface);
    }
 else {
      bestRoute=RouteInfo.makeHostRoute(addr,bestRoute.getGateway(),iface);
    }
  }
  return modifyRoute(lp,bestRoute,0,doAdd,toDefaultTable,exempt);
}
