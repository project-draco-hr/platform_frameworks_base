{
  int usedNetworkType=networkType;
  if (networkType == ConnectivityManager.TYPE_MOBILE) {
    if (TextUtils.equals(feature,Phone.FEATURE_ENABLE_MMS)) {
      usedNetworkType=ConnectivityManager.TYPE_MOBILE_MMS;
    }
 else     if (TextUtils.equals(feature,Phone.FEATURE_ENABLE_SUPL)) {
      usedNetworkType=ConnectivityManager.TYPE_MOBILE_SUPL;
    }
 else     if (TextUtils.equals(feature,Phone.FEATURE_ENABLE_DUN) || TextUtils.equals(feature,Phone.FEATURE_ENABLE_DUN_ALWAYS)) {
      usedNetworkType=ConnectivityManager.TYPE_MOBILE_DUN;
    }
 else     if (TextUtils.equals(feature,Phone.FEATURE_ENABLE_HIPRI)) {
      usedNetworkType=ConnectivityManager.TYPE_MOBILE_HIPRI;
    }
 else     if (TextUtils.equals(feature,Phone.FEATURE_ENABLE_FOTA)) {
      usedNetworkType=ConnectivityManager.TYPE_MOBILE_FOTA;
    }
 else     if (TextUtils.equals(feature,Phone.FEATURE_ENABLE_IMS)) {
      usedNetworkType=ConnectivityManager.TYPE_MOBILE_IMS;
    }
 else     if (TextUtils.equals(feature,Phone.FEATURE_ENABLE_CBS)) {
      usedNetworkType=ConnectivityManager.TYPE_MOBILE_CBS;
    }
 else     if (TextUtils.equals(feature,Phone.FEATURE_ENABLE_EMERGENCY)) {
      usedNetworkType=ConnectivityManager.TYPE_MOBILE_EMERGENCY;
    }
 else {
      Slog.e(TAG,"Can't match any mobile netTracker!");
    }
  }
 else   if (networkType == ConnectivityManager.TYPE_WIFI) {
    if (TextUtils.equals(feature,"p2p")) {
      usedNetworkType=ConnectivityManager.TYPE_WIFI_P2P;
    }
 else {
      Slog.e(TAG,"Can't match any wifi netTracker!");
    }
  }
 else {
    Slog.e(TAG,"Unexpected network type");
  }
  return usedNetworkType;
}
