{
  if (VDBG)   log("Got NetworkAgent Messenger");
  mNetworkAgentInfos.put(na.messenger,na);
  try {
    mNetworkAgentInfoForType[na.networkInfo.getType()].add(na);
  }
 catch (  NullPointerException e) {
    loge("registered NetworkAgent for unsupported type: " + na);
  }
  mNetworkForNetId.put(na.network.netId,na);
  na.asyncChannel.connect(mContext,mTrackerHandler,na.messenger);
  NetworkInfo networkInfo=na.networkInfo;
  na.networkInfo=null;
  updateNetworkInfo(na,networkInfo);
}
