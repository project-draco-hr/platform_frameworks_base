{
  if (oldLp == null || (newLp.isIdenticalDnses(oldLp) == false)) {
    Collection<InetAddress> dnses=newLp.getDnses();
    if (dnses.size() == 0 && mDefaultDns != null) {
      dnses=new ArrayList();
      dnses.add(mDefaultDns);
      if (DBG) {
        loge("no dns provided for netId " + netId + ", so using defaults");
      }
    }
    try {
      mNetd.setDnsServersForNetwork(netId,NetworkUtils.makeStrings(dnses),newLp.getDomains());
    }
 catch (    Exception e) {
      loge("Exception in setDnsServersForNetwork: " + e);
    }
  }
}
