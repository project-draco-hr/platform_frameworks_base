{
  enforceAccessPermission();
  final int uid=Binder.getCallingUid();
  final NetworkAgentInfo nai=getNetworkAgentInfoForNetwork(network);
  if (nai != null) {
    final NetworkState state=nai.getNetworkState();
    filterNetworkStateForUid(state,uid);
    return state.networkInfo;
  }
 else {
    return null;
  }
}
