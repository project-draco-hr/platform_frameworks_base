{
  enforceAccessPermission();
  if (network == null)   return null;
  final int uid=Binder.getCallingUid();
  NetworkAgentInfo nai=null;
synchronized (mNetworkForNetId) {
    nai=mNetworkForNetId.get(network.netId);
  }
  if (nai == null)   return null;
synchronized (nai) {
    if (nai.networkInfo == null)     return null;
    return getFilteredNetworkInfo(nai.networkInfo,nai.networkInfo.getType(),uid);
  }
}
