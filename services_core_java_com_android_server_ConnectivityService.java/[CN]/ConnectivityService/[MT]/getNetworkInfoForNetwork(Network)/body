{
  enforceAccessPermission();
  final int uid=Binder.getCallingUid();
  NetworkInfo info=null;
  NetworkAgentInfo nai=getNetworkAgentInfoForNetwork(network);
  if (nai != null) {
synchronized (nai) {
      info=new NetworkInfo(nai.networkInfo);
      info=getFilteredNetworkInfo(info,nai.linkProperties,uid);
    }
  }
  return info;
}
