{
  VpnInfo info=vpn.getVpnInfo();
  if (info == null) {
    return null;
  }
  Network[] underlyingNetworks=vpn.getUnderlyingNetworks();
  if (underlyingNetworks == null) {
    NetworkAgentInfo defaultNetwork=getDefaultNetwork();
    if (defaultNetwork != null && defaultNetwork.linkProperties != null) {
      info.primaryUnderlyingIface=getDefaultNetwork().linkProperties.getInterfaceName();
    }
  }
 else   if (underlyingNetworks.length > 0) {
    LinkProperties linkProperties=getLinkProperties(underlyingNetworks[0]);
    if (linkProperties != null) {
      info.primaryUnderlyingIface=linkProperties.getInterfaceName();
    }
  }
  return info.primaryUnderlyingIface == null ? null : info;
}
