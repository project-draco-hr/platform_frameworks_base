{
  if (networkCapabilities.hasCapability(NET_CAPABILITY_NOT_METERED) == false) {
    final int uidRules;
    final int uid=Binder.getCallingUid();
synchronized (mRulesLock) {
      uidRules=mUidRules.get(uid,RULE_ALLOW_ALL);
    }
    if (uidRules != RULE_ALLOW_ALL) {
      networkCapabilities.addCapability(NET_CAPABILITY_NOT_METERED);
    }
  }
}
