{
  JobInfo.Builder b=new Builder(42,mComponent).setOverrideDeadline(10000).setPersisted(false);
  JobStatus jsNonPersisted=JobStatus.createFromJobInfo(b.build(),SOME_UID,null,-1,null);
  mTaskStoreUnderTest.add(jsNonPersisted);
  b=new Builder(43,mComponent).setOverrideDeadline(10000).setPersisted(true);
  JobStatus jsPersisted=JobStatus.createFromJobInfo(b.build(),SOME_UID,null,-1,null);
  mTaskStoreUnderTest.add(jsPersisted);
  Thread.sleep(IO_WAIT);
  final JobSet jobStatusSet=new JobSet();
  mTaskStoreUnderTest.readJobMapFromDisk(jobStatusSet);
  assertEquals("Job count is incorrect.",1,jobStatusSet.size());
  JobStatus jobStatus=jobStatusSet.getAllJobs().iterator().next();
  assertEquals("Wrong job persisted.",43,jobStatus.getJobId());
}
