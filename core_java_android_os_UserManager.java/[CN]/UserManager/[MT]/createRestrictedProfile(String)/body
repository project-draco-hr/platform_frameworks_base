{
  try {
    UserHandle parentUserHandle=Process.myUserHandle();
    UserInfo user=mService.createRestrictedProfile(name,parentUserHandle.getIdentifier());
    if (user != null) {
      AccountManager.get(mContext).addSharedAccountsFromParentUser(parentUserHandle,UserHandle.of(user.id));
    }
    return user;
  }
 catch (  RemoteException re) {
    throw re.rethrowFromSystemServer();
  }
}
