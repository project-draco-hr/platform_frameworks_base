{
  try {
    UserHandle parentUserHandle=Process.myUserHandle();
    UserInfo user=mService.createRestrictedProfile(name,parentUserHandle.getIdentifier());
    if (user != null) {
      AccountManager.get(mContext).addSharedAccountsFromParentUser(parentUserHandle,UserHandle.of(user.id));
    }
    return user;
  }
 catch (  RemoteException e) {
    Log.w(TAG,"Could not create a restricted profile",e);
  }
  return null;
}
