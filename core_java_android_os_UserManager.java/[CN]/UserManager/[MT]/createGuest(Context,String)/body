{
  UserInfo guest=createUser(name,UserInfo.FLAG_GUEST);
  if (guest != null) {
    Settings.Secure.putStringForUser(context.getContentResolver(),Settings.Secure.SKIP_FIRST_USE_HINTS,"1",guest.id);
    try {
      Bundle guestRestrictions=mService.getDefaultGuestRestrictions();
      guestRestrictions.putBoolean(DISALLOW_SMS,true);
      guestRestrictions.putBoolean(DISALLOW_INSTALL_UNKNOWN_SOURCES,true);
      mService.setUserRestrictions(guestRestrictions,guest.id);
    }
 catch (    RemoteException re) {
      Log.w(TAG,"Could not update guest restrictions");
    }
  }
  return guest;
}
