{
  Proc process=processes.get(record.pid);
  if (record.processName.equals("dexopt")) {
    return;
  }
  String name=record.className;
  LoadedClass loadedClass=loadedClasses.get(name);
  Operation o=null;
switch (record.type) {
case START_LOAD:
case START_INIT:
    if (loadedClass == null) {
      loadedClass=new LoadedClass(name,record.classLoader == 0);
      if (loadedClass.systemClass) {
        loadedClass.measureMemoryUsage();
      }
      loadedClasses.put(name,loadedClass);
    }
  break;
case END_LOAD:
case END_INIT:
o=process.endOperation(record.tid,record.className,loadedClass,record.time);
if (o == null) {
return;
}
}
switch (record.type) {
case START_LOAD:
process.startOperation(record.tid,loadedClass,record.time,Operation.Type.LOAD);
break;
case START_INIT:
process.startOperation(record.tid,loadedClass,record.time,Operation.Type.INIT);
break;
case END_LOAD:
loadedClass.loads.add(o);
break;
case END_INIT:
loadedClass.initializations.add(o);
break;
}
}
