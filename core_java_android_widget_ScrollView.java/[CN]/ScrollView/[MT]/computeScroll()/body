{
  if (mScroller.computeScrollOffset()) {
    int oldX=mScrollX;
    int oldY=mScrollY;
    int x=mScroller.getCurrX();
    int y=mScroller.getCurrY();
    if (getChildCount() > 0) {
      View child=getChildAt(0);
      mScrollX=clamp(x,this.getWidth(),child.getWidth());
      mScrollY=clamp(y,this.getHeight(),child.getHeight());
    }
 else {
      mScrollX=x;
      mScrollY=y;
    }
    if (oldX != mScrollX || oldY != mScrollY) {
      onScrollChanged(mScrollX,mScrollY,oldX,oldY);
      postInvalidate();
    }
  }
}
