{
  super.onMeasure(widthMeasureSpec,heightMeasureSpec);
  if (!mFillViewport) {
    return;
  }
  final int heightMode=MeasureSpec.getMode(heightMeasureSpec);
  if (heightMode == MeasureSpec.UNSPECIFIED) {
    return;
  }
  final View child=getChildAt(0);
  int height=getMeasuredHeight();
  if (child.getMeasuredHeight() < height) {
    final FrameLayout.LayoutParams lp=(LayoutParams)child.getLayoutParams();
    int childWidthMeasureSpec=getChildMeasureSpec(widthMeasureSpec,mPaddingLeft + mPaddingRight,lp.width);
    height-=mPaddingTop;
    height-=mPaddingBottom;
    int childHeightMeasureSpec=MeasureSpec.makeMeasureSpec(height,MeasureSpec.EXACTLY);
    child.measure(childWidthMeasureSpec,childHeightMeasureSpec);
  }
}
