{
  checkState("command()");
  int[] replySize=new int[1];
  replySize[0]=reply.length;
  int status=native_command(cmdCode,command.length,command,replySize,reply);
  if (reply.length > replySize[0]) {
    byte[] resizedReply=new byte[replySize[0]];
    System.arraycopy(reply,0,resizedReply,0,replySize[0]);
    reply=resizedReply;
  }
  return status;
}
