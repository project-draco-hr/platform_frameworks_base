{
  if (fragment.mActivity != null) {
    throw new IllegalStateException("Fragment already added: " + fragment);
  }
  if (name != null) {
    fragment.mName=name;
  }
  if (mRemoved != null) {
    mRemoved.remove(fragment);
  }
  if (mAdded == null) {
    mAdded=new ArrayList<Fragment>();
  }
  fragment.mContainerId=containerViewId;
  mAdded.add(fragment);
  return this;
}
