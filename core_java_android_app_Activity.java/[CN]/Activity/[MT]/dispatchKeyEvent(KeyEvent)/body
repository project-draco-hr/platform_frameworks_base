{
  onUserInteraction();
  final int keyCode=event.getKeyCode();
  if (keyCode == KeyEvent.KEYCODE_MENU && mActionBar != null && mActionBar.onMenuKeyEvent(event)) {
    return true;
  }
 else   if (keyCode == KeyEvent.KEYCODE_DPAD_UP) {
    final int action=event.getAction();
    if (action == KeyEvent.ACTION_DOWN) {
      if (event.hasModifiers(KeyEvent.META_ALT_ON)) {
        final ActionBar actionBar=getActionBar();
        if (actionBar != null && actionBar.isShowing() && actionBar.requestFocus()) {
          mEatKeyUpEvent=true;
          return true;
        }
      }
    }
 else     if (action == KeyEvent.ACTION_UP && mEatKeyUpEvent) {
      mEatKeyUpEvent=false;
      return true;
    }
  }
  Window win=getWindow();
  if (win.superDispatchKeyEvent(event)) {
    return true;
  }
  View decor=mDecor;
  if (decor == null)   decor=win.getDecorView();
  return event.dispatch(this,decor != null ? decor.getKeyDispatcherState() : null,this);
}
