{
  final Bundle b=savedInstanceState.getBundle(SAVED_DIALOGS_TAG);
  if (b == null) {
    return;
  }
  final int[] ids=b.getIntArray(SAVED_DIALOG_IDS_KEY);
  final int numDialogs=ids.length;
  mManagedDialogs=new SparseArray<Dialog>(numDialogs);
  for (int i=0; i < numDialogs; i++) {
    final Integer dialogId=ids[i];
    Bundle dialogState=b.getBundle(savedDialogKeyFor(dialogId));
    if (dialogState != null) {
      final Dialog dialog=createDialog(dialogId,dialogState);
      mManagedDialogs.put(dialogId,dialog);
      onPrepareDialog(dialogId,dialog);
      dialog.onRestoreInstanceState(dialogState);
    }
  }
}
