{
  final TransitionManager tm=getWindow().getTransitionManager();
  final Scene currScene=getWindow().getContentScene();
  final String[] targetSceneNames=currScene != null && tm != null ? tm.getTargetSceneNames(currScene) : null;
  if (targetSceneNames == null || targetSceneNames.length == 0) {
    startActivityForResult(intent,requestCode,null);
  }
 else {
    final ActivityOptions opts=ActivityOptions.makeSceneTransitionAnimation(targetSceneNames,null,new ActivityOptions.OnSceneTransitionStartedListener(){
      @Override public void onSceneTransitionStarted(      String destSceneName){
        final Transition t=tm.getNamedTransition(currScene,destSceneName);
        Log.d(TAG,"Scene transition to scene " + destSceneName + " transition "+ t);
      }
    }
,mHandler);
    startActivityForResult(intent,requestCode,opts.toBundle());
  }
}
