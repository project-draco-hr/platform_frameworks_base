{
  if (!isChild()) {
    mTitleReady=true;
    onTitleChanged(getTitle(),getTitleColor());
  }
  Resources.Theme theme=getTheme();
  if (theme != null) {
    TypedArray a=theme.obtainStyledAttributes(com.android.internal.R.styleable.ActivityTaskDescription);
    if (mTaskDescription.getPrimaryColor() == 0) {
      int colorPrimary=a.getColor(com.android.internal.R.styleable.ActivityTaskDescription_colorPrimary,0);
      if (colorPrimary != 0 && Color.alpha(colorPrimary) == 0xFF) {
        mTaskDescription.setPrimaryColor(colorPrimary);
      }
    }
    if (mTaskDescription.getBackgroundColor() == 0) {
      int windowBgResourceId=a.getResourceId(com.android.internal.R.styleable.ActivityTaskDescription_windowBackground,0);
      int windowBgFallbackResourceId=a.getResourceId(com.android.internal.R.styleable.ActivityTaskDescription_windowBackgroundFallback,0);
      int colorBg=tryExtractColorFromDrawable(DecorView.getResizingBackgroundDrawable(this,windowBgResourceId,windowBgFallbackResourceId));
      if (colorBg != 0 && Color.alpha(colorBg) == 0xFF) {
        mTaskDescription.setBackgroundColor(colorBg);
      }
    }
    a.recycle();
    setTaskDescription(mTaskDescription);
  }
  mCalled=true;
}
