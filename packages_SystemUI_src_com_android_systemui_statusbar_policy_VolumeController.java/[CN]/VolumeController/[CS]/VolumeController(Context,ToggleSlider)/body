{
  mContext=context;
  mControl=control;
  Vibrator vibrator=(Vibrator)context.getSystemService(Context.VIBRATOR_SERVICE);
  mHasVibrator=vibrator == null ? false : vibrator.hasVibrator();
  mAudioManager=(AudioManager)context.getSystemService(Context.AUDIO_SERVICE);
  mMute=mAudioManager.getRingerMode() != AudioManager.RINGER_MODE_NORMAL;
  mVolume=mAudioManager.getStreamVolume(STREAM);
  control.setMax(mAudioManager.getStreamMaxVolume(STREAM));
  control.setValue(mVolume);
  control.setChecked(mMute);
  control.setOnChangedListener(this);
}
