{
  if (!srcSurf.isNativeDrawable()) {
    JavaBlitter.inst.blit(srcX,srcY,srcSurf,dstX,dstY,dstSurf,width,height,sysxform,comp,bgcolor,clip);
  }
 else {
    int type=sysxform.getType();
switch (type) {
case AffineTransform.TYPE_TRANSLATION:
      dstX+=sysxform.getTranslateX();
    dstY+=sysxform.getTranslateY();
case AffineTransform.TYPE_IDENTITY:
  blit(srcX,srcY,srcSurf,dstX,dstY,dstSurf,width,height,comp,bgcolor,clip);
break;
default :
if (srcSurf instanceof ImageSurface) {
JavaBlitter.inst.blit(srcX,srcY,srcSurf,dstX,dstY,dstSurf,width,height,sysxform,comp,bgcolor,clip);
}
 else {
int w=srcSurf.getWidth();
int h=srcSurf.getHeight();
BufferedImage tmp=new BufferedImage(w,h,BufferedImage.TYPE_INT_RGB);
Surface tmpSurf=Surface.getImageSurface(tmp);
blit(0,0,srcSurf,0,0,tmpSurf,w,h,AlphaComposite.SrcOver,null,null);
JavaBlitter.inst.blit(srcX,srcY,tmpSurf,dstX,dstY,dstSurf,width,height,sysxform,comp,bgcolor,clip);
}
}
}
}
