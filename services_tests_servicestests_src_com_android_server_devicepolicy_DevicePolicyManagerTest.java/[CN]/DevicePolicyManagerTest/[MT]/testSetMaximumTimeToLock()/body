{
  mContext.callerPermissions.add(android.Manifest.permission.MANAGE_DEVICE_ADMINS);
  dpm.setActiveAdmin(admin1,false);
  dpm.setActiveAdmin(admin2,false);
  reset(mMockContext.powerManagerInternal);
  reset(mMockContext.settings);
  dpm.setMaximumTimeToLock(admin1,0);
  verifyScreenTimeoutCall(null,false);
  reset(mMockContext.powerManagerInternal);
  reset(mMockContext.settings);
  dpm.setMaximumTimeToLock(admin1,1);
  verifyScreenTimeoutCall(1,true);
  reset(mMockContext.powerManagerInternal);
  reset(mMockContext.settings);
  dpm.setMaximumTimeToLock(admin2,10);
  verifyScreenTimeoutCall(null,false);
  reset(mMockContext.powerManagerInternal);
  reset(mMockContext.settings);
  dpm.setMaximumTimeToLock(admin1,5);
  verifyScreenTimeoutCall(5,true);
  reset(mMockContext.powerManagerInternal);
  reset(mMockContext.settings);
  dpm.setMaximumTimeToLock(admin2,4);
  verifyScreenTimeoutCall(4,true);
  reset(mMockContext.powerManagerInternal);
  reset(mMockContext.settings);
  dpm.setMaximumTimeToLock(admin1,0);
  reset(mMockContext.powerManagerInternal);
  reset(mMockContext.settings);
  dpm.setMaximumTimeToLock(admin2,Integer.MAX_VALUE);
  verifyScreenTimeoutCall(Integer.MAX_VALUE,true);
  reset(mMockContext.powerManagerInternal);
  reset(mMockContext.settings);
  dpm.setMaximumTimeToLock(admin2,Integer.MAX_VALUE + 1);
  verifyScreenTimeoutCall(Integer.MAX_VALUE,true);
  reset(mMockContext.powerManagerInternal);
  reset(mMockContext.settings);
  dpm.setMaximumTimeToLock(admin2,10);
  verifyScreenTimeoutCall(10,true);
  reset(mMockContext.powerManagerInternal);
  reset(mMockContext.settings);
  dpm.setMaximumTimeToLock(admin2,0);
  verifyScreenTimeoutCall(Integer.MAX_VALUE,false);
}
