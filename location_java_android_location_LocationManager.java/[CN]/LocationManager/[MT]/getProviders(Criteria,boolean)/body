{
  List<String> goodProviders=Collections.emptyList();
  List<String> providers=getProviders(enabledOnly);
  for (  String providerName : providers) {
    LocationProvider provider=getProvider(providerName);
    if (provider != null && provider.meetsCriteria(criteria)) {
      if (goodProviders.isEmpty()) {
        goodProviders=new ArrayList<String>();
      }
      goodProviders.add(providerName);
    }
  }
  return goodProviders;
}
