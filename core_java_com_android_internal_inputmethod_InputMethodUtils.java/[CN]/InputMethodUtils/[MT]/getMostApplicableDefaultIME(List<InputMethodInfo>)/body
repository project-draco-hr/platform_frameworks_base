{
  if (enabledImes == null || enabledImes.isEmpty()) {
    return null;
  }
  int i=enabledImes.size();
  int firstFoundSystemIme=-1;
  while (i > 0) {
    i--;
    final InputMethodInfo imi=enabledImes.get(i);
    if (imi.isAuxiliaryIme()) {
      continue;
    }
    if (InputMethodUtils.isSystemIme(imi) && containsSubtypeOf(imi,ENGLISH_LOCALE,false,SUBTYPE_MODE_KEYBOARD)) {
      return imi;
    }
    if (firstFoundSystemIme < 0 && InputMethodUtils.isSystemIme(imi)) {
      firstFoundSystemIme=i;
    }
  }
  return enabledImes.get(Math.max(firstFoundSystemIme,0));
}
