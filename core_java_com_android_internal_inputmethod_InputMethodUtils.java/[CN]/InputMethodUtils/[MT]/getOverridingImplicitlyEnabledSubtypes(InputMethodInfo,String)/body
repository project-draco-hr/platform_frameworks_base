{
  ArrayList<InputMethodSubtype> subtypes=new ArrayList<InputMethodSubtype>();
  final int subtypeCount=imi.getSubtypeCount();
  for (int i=0; i < subtypeCount; ++i) {
    final InputMethodSubtype subtype=imi.getSubtypeAt(i);
    if (subtype.overridesImplicitlyEnabledSubtype() && subtype.getMode().equals(mode)) {
      subtypes.add(subtype);
    }
  }
  return subtypes;
}
