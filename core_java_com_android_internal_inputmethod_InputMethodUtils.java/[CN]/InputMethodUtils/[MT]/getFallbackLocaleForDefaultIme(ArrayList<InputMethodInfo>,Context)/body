{
  for (  final Locale fallbackLocale : SEARCH_ORDER_OF_FALLBACK_LOCALES) {
    for (int i=0; i < imis.size(); ++i) {
      if (isSystemImeThatHasSubtypeOf(imis.get(i),context,true,fallbackLocale,true,SUBTYPE_MODE_KEYBOARD)) {
        return fallbackLocale;
      }
    }
  }
  for (  final Locale fallbackLocale : SEARCH_ORDER_OF_FALLBACK_LOCALES) {
    for (int i=0; i < imis.size(); ++i) {
      if (isSystemImeThatHasSubtypeOf(imis.get(i),context,false,fallbackLocale,true,SUBTYPE_MODE_KEYBOARD)) {
        return fallbackLocale;
      }
    }
  }
  Slog.w(TAG,"Found no fallback locale. imis=" + Arrays.toString(imis.toArray()));
  return null;
}
