{
  final int N=imi.getSubtypeCount();
  for (int i=0; i < N; ++i) {
    final InputMethodSubtype subtype=imi.getSubtypeAt(i);
    if (!subtype.getLocale().startsWith(language)) {
      continue;
    }
    if (mode == SUBTYPE_MODE_ANY || TextUtils.isEmpty(mode) || mode.equalsIgnoreCase(subtype.getMode())) {
      return true;
    }
  }
  return false;
}
