{
  if (mPinEntry.getText().length() < 4) {
    mNavigationManager.setMessage(R.string.kg_invalid_sim_pin_hint);
    mPinEntry.setText("");
    mCallback.userActivity(0);
    return;
  }
  getSimUnlockProgressDialog().show();
  new CheckSimPin(mPinEntry.getText().toString()){
    void onSimLockChangedResponse(    final boolean success){
      post(new Runnable(){
        public void run(){
          if (mSimUnlockProgressDialog != null) {
            mSimUnlockProgressDialog.hide();
          }
          if (success) {
            KeyguardUpdateMonitor.getInstance(getContext()).reportSimUnlocked();
            mCallback.dismiss(false);
          }
 else {
            mNavigationManager.setMessage(R.string.kg_password_wrong_pin_code);
            mPinEntry.setText("");
          }
          mCallback.userActivity(0);
        }
      }
);
    }
  }
.start();
}
