{
  String entry=mPasswordEntry.getText().toString();
  if (entry.length() < 4) {
    mSecurityMessageDisplay.setMessage(R.string.kg_invalid_sim_pin_hint,true);
    mPasswordEntry.setText("");
    mCallback.userActivity(0);
    return;
  }
  getSimUnlockProgressDialog().show();
  if (!mSimCheckInProgress) {
    mSimCheckInProgress=true;
    new CheckSimPin(mPasswordEntry.getText().toString()){
      void onSimCheckResponse(      final boolean success){
        post(new Runnable(){
          public void run(){
            if (mSimUnlockProgressDialog != null) {
              mSimUnlockProgressDialog.hide();
            }
            if (success) {
              KeyguardUpdateMonitor.getInstance(getContext()).reportSimUnlocked();
              mCallback.dismiss(true);
            }
 else {
              mSecurityMessageDisplay.setMessage(R.string.kg_password_wrong_pin_code,true);
              mPasswordEntry.setText("");
            }
            mCallback.userActivity(0);
            mSimCheckInProgress=false;
          }
        }
);
      }
    }
.start();
  }
}
