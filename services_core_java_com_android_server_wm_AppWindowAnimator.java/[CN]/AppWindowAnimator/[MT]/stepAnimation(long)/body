{
  if (animation == null) {
    return false;
  }
  transformation.clear();
  final boolean more=animation.getTransformation(currentTime,transformation);
  if (false && WindowManagerService.DEBUG_ANIM)   Slog.v(TAG,"Stepped animation in " + mAppToken + ": more="+ more+ ", xform="+ transformation);
  if (!more) {
    animation=null;
    if (!deferThumbnailDestruction) {
      clearThumbnail();
    }
    if (WindowManagerService.DEBUG_ANIM)     Slog.v(TAG,"Finished animation in " + mAppToken + " @ "+ currentTime);
  }
  hasTransformation=more;
  return more;
}
