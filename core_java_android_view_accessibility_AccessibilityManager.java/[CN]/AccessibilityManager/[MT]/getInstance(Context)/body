{
synchronized (sInstanceSync) {
    if (sInstance == null) {
      final int userId;
      if (Binder.getCallingUid() == Process.SYSTEM_UID || context.checkCallingOrSelfPermission(Manifest.permission.INTERACT_ACROSS_USERS) == PackageManager.PERMISSION_GRANTED || context.checkCallingOrSelfPermission(Manifest.permission.INTERACT_ACROSS_USERS_FULL) == PackageManager.PERMISSION_GRANTED) {
        userId=UserHandle.USER_CURRENT;
      }
 else {
        userId=UserHandle.myUserId();
      }
      sInstance=new AccessibilityManager(context,null,userId);
    }
  }
  return sInstance;
}
