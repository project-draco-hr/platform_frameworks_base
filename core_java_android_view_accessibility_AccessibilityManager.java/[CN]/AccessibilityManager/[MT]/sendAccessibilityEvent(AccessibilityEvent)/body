{
  final IAccessibilityManager service;
  final int userId;
synchronized (mLock) {
    service=getServiceLocked();
    if (service == null) {
      return;
    }
    if (!mIsEnabled) {
      throw new IllegalStateException("Accessibility off. Did you forget to check that?");
    }
    userId=mUserId;
  }
  boolean doRecycle=false;
  try {
    event.setEventTime(SystemClock.uptimeMillis());
    long identityToken=Binder.clearCallingIdentity();
    doRecycle=service.sendAccessibilityEvent(event,userId);
    Binder.restoreCallingIdentity(identityToken);
    if (DEBUG) {
      Log.i(LOG_TAG,event + " sent");
    }
  }
 catch (  RemoteException re) {
    Log.e(LOG_TAG,"Error during sending " + event + " ",re);
  }
 finally {
    if (doRecycle) {
      event.recycle();
    }
  }
}
