{
  if (applicationInfo.isSystemApp()) {
    int icon=0;
    CharSequence title=null;
    String summary=null;
    try {
      Resources res=pm.getResourcesForApplication(applicationInfo.packageName);
      Bundle metaData=activityInfo.metaData;
      if (res != null && metaData != null) {
        if (metaData.containsKey(META_DATA_PREFERENCE_ICON)) {
          icon=metaData.getInt(META_DATA_PREFERENCE_ICON);
        }
        if (metaData.containsKey(META_DATA_PREFERENCE_TITLE)) {
          if (metaData.get(META_DATA_PREFERENCE_TITLE) instanceof Integer) {
            title=res.getString(metaData.getInt(META_DATA_PREFERENCE_TITLE));
          }
 else {
            title=metaData.getString(META_DATA_PREFERENCE_TITLE);
          }
        }
        if (metaData.containsKey(META_DATA_PREFERENCE_SUMMARY)) {
          if (metaData.get(META_DATA_PREFERENCE_SUMMARY) instanceof Integer) {
            summary=res.getString(metaData.getInt(META_DATA_PREFERENCE_SUMMARY));
          }
 else {
            summary=metaData.getString(META_DATA_PREFERENCE_SUMMARY);
          }
        }
      }
    }
 catch (    PackageManager.NameNotFoundException|Resources.NotFoundException e) {
      if (DEBUG)       Log.d(LOG_TAG,"Couldn't find info",e);
    }
    if (TextUtils.isEmpty(title)) {
      title=activityInfo.loadLabel(pm).toString();
    }
    if (icon == 0) {
      icon=activityInfo.icon;
    }
    tile.icon=Icon.createWithResource(activityInfo.packageName,icon);
    tile.title=title;
    tile.summary=summary;
    tile.intent=new Intent().setClassName(activityInfo.packageName,activityInfo.name);
    return true;
  }
  return false;
}
