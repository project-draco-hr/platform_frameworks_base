{
  final int action=ev.getAction();
switch (action) {
case MotionEvent.ACTION_DOWN:
    mDragging=false;
  mCurrView=mCallback.getChildAtPosition(ev);
mVelocityTracker.clear();
if (mCurrView != null) {
mCurrAnimView=mCallback.getChildContentView(mCurrView);
mCanCurrViewBeDimissed=mCallback.canChildBeDismissed(mCurrView);
mVelocityTracker.addMovement(ev);
mInitialTouchPos=getPos(ev);
}
break;
case MotionEvent.ACTION_MOVE:
if (mCurrView != null) {
mVelocityTracker.addMovement(ev);
float pos=getPos(ev);
float delta=pos - mInitialTouchPos;
if (Math.abs(delta) > mPagingTouchSlop) {
mCallback.onBeginDrag(mCurrView);
mDragging=true;
mInitialTouchPos=getPos(ev) - getTranslation(mCurrAnimView);
}
}
break;
case MotionEvent.ACTION_UP:
mDragging=false;
mCurrView=null;
mCurrAnimView=null;
break;
}
return mDragging;
}
