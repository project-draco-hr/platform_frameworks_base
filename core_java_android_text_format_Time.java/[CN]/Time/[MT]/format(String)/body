{
synchronized (Time.class) {
    Locale locale=Locale.getDefault();
    if (sLocale == null || locale == null || !(locale.equals(sLocale))) {
      LocaleData localeData=LocaleData.get(locale);
      sAm=localeData.amPm[0];
      sPm=localeData.amPm[1];
      sZeroDigit=localeData.zeroDigit;
      sShortMonths=localeData.shortMonthNames;
      sLongMonths=localeData.longMonthNames;
      sLongStandaloneMonths=localeData.longStandAloneMonthNames;
      sShortWeekdays=localeData.shortWeekdayNames;
      sLongWeekdays=localeData.longWeekdayNames;
      Resources r=Resources.getSystem();
      sTimeOnlyFormat=r.getString(com.android.internal.R.string.time_of_day);
      sDateOnlyFormat=r.getString(com.android.internal.R.string.month_day_year);
      sDateTimeFormat=r.getString(com.android.internal.R.string.date_and_time);
      sLocale=locale;
    }
    String result=format1(format);
    if (sZeroDigit != '0') {
      result=localizeDigits(result);
    }
    return result;
  }
}
