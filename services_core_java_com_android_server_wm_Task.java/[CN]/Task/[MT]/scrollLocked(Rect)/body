{
  mStack.getDimBounds(mTmpRect);
  if (mService.mCurConfiguration.orientation == ORIENTATION_LANDSCAPE) {
    if (bounds.left > mTmpRect.left) {
      bounds.left=mTmpRect.left;
      bounds.right=mTmpRect.left + mBounds.width();
    }
 else     if (bounds.right < mTmpRect.right) {
      bounds.left=mTmpRect.right - mBounds.width();
      bounds.right=mTmpRect.right;
    }
  }
 else {
    if (bounds.top > mTmpRect.top) {
      bounds.top=mTmpRect.top;
      bounds.bottom=mTmpRect.top + mBounds.height();
    }
 else     if (bounds.bottom < mTmpRect.bottom) {
      bounds.top=mTmpRect.bottom - mBounds.height();
      bounds.bottom=mTmpRect.bottom;
    }
  }
  if (mScrollValid && bounds.equals(mBounds)) {
    return false;
  }
  mBounds.set(bounds);
  mScrollValid=true;
  applyScrollToAllWindows(bounds.left,bounds.top);
  return true;
}
