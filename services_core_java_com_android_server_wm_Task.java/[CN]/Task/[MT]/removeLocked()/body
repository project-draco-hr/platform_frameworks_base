{
  if (!mAppTokens.isEmpty() && mStack.isAnimating()) {
    if (DEBUG_STACK)     Slog.i(TAG,"removeTask: deferring removing taskId=" + taskId);
    mDeferRemoval=true;
    return;
  }
  if (DEBUG_STACK)   Slog.i(TAG,"removeTask: removing taskId=" + taskId);
  EventLog.writeEvent(EventLogTags.WM_TASK_REMOVED,taskId,"removeTask");
  mDeferRemoval=false;
  mStack.removeTask(this);
  mService.mTaskIdToTask.delete(taskId);
}
