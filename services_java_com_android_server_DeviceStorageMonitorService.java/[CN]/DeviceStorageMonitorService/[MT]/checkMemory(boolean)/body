{
  if (mClearingCache) {
    if (localLOGV)     Log.i(TAG,"Thread already running just skip");
    long diffTime=System.currentTimeMillis() - mThreadStartTime;
    if (diffTime > (10 * 60 * 1000)) {
      Log.w(TAG,"Thread that clears cache file seems to run for ever");
    }
  }
 else {
    restatDataDir();
    if (localLOGV)     Log.v(TAG,"freeMemory=" + mFreeMem);
    long memThreshold=getMemThreshold();
    if (mFreeMem < memThreshold) {
      if (!mLowMemFlag) {
        if (checkCache) {
          mThreadStartTime=System.currentTimeMillis();
          mClearSucceeded=false;
          clearCache();
        }
 else {
          Log.i(TAG,"Running low on memory. Sending notification");
          sendNotification();
          mLowMemFlag=true;
        }
      }
 else {
        if (localLOGV)         Log.v(TAG,"Running low on memory " + "notification already sent. do nothing");
      }
    }
 else {
      if (mLowMemFlag) {
        Log.i(TAG,"Memory available. Cancelling notification");
        cancelNotification();
        mLowMemFlag=false;
      }
    }
  }
  if (localLOGV)   Log.i(TAG,"Posting Message again");
  postCheckMemoryMsg(true,DEFAULT_CHECK_INTERVAL);
}
