{
  if (mMediaPlayer != null) {
    mMediaPlayer.reset();
    mMediaPlayer.release();
    mMediaPlayer=null;
    mPendingSubtitleTracks.clear();
    mCurrentState=STATE_IDLE;
    if (cleartargetstate) {
      mTargetState=STATE_IDLE;
    }
    AudioManager am=(AudioManager)mContext.getSystemService(Context.AUDIO_SERVICE);
    am.abandonAudioFocus(null);
  }
}
