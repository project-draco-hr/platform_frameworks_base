{
  persistLists();
  clearLists();
  mUnexpectedFailuresCursor=mDbHelper.getAbstractResults(SummarizerDBHelper.UNEXPECTED_FAILURES_TABLE);
  mUnexpectedPassesCursor=mDbHelper.getAbstractResults(SummarizerDBHelper.UNEXPECTED_PASSES_TABLE);
  mExpectedFailuresCursor=mDbHelper.getAbstractResults(SummarizerDBHelper.EXPECTED_FAILURES_TABLE);
  mExpectedPassesCursor=mDbHelper.getAbstractResults(SummarizerDBHelper.EXPECTED_PASSES_TABLE);
  String webKitRevision=getWebKitRevision();
  createHtmlDetails(webKitRevision);
  createTxtSummary(webKitRevision);
  clearLists();
  mUnexpectedFailuresCursor.close();
  mUnexpectedPassesCursor.close();
  mExpectedFailuresCursor.close();
  mExpectedPassesCursor.close();
  onFinishMessage.sendToTarget();
}
