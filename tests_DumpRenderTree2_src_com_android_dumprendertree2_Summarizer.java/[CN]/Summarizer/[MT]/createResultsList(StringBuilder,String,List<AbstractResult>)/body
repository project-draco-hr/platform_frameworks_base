{
  String relativePath;
  String id="";
  AbstractResult.ResultCode resultCode;
  Collections.sort(resultsList);
  html.append("<h2>" + title + " ["+ resultsList.size()+ "]</h2>");
  for (  AbstractResult result : resultsList) {
    relativePath=result.getRelativePath();
    resultCode=result.getResultCode();
    html.append("<h3>");
    id=relativePath.replace(File.separator,":");
    if (resultCode == AbstractResult.ResultCode.RESULTS_DIFFER) {
      html.append("<a href=\"#\" onClick=\"toggleDisplay('" + id + "');");
      html.append("return false;\">");
      html.append("<span class=\"tri\" id=\"tri." + id + "\">&#x25b6; </span>");
      html.append("<span class=\"path\">" + relativePath + "</span>");
      html.append("</a>");
    }
 else {
      html.append("<a href=\"" + getViewSourceUrl(result.getRelativePath()).toString() + "\"");
      html.append(" target=\"_blank\">");
      html.append("<span class=\"sqr sqr_" + (result.didPass() ? "pass" : "fail"));
      html.append("\">&#x25a0; </span>");
      html.append("<span class=\"path\">" + result.getRelativePath() + "</span>");
      html.append("</a>");
    }
    if (!result.didPass()) {
      appendTags(html,result);
    }
    html.append("</h3>");
    appendExpectedResultsSources(result,html);
    if (resultCode == AbstractResult.ResultCode.RESULTS_DIFFER) {
      html.append("<div class=\"diff\" style=\"display: none;\" id=\"" + id + "\">");
      html.append(result.getDiffAsHtml());
      html.append("<a href=\"#\" onClick=\"toggleDisplay('" + id + "');");
      html.append("return false;\">Hide</a>");
      html.append(" | ");
      html.append("<a href=\"" + getViewSourceUrl(relativePath).toString() + "\"");
      html.append(" target=\"_blank\">Show source</a>");
      html.append("</div>");
    }
    html.append("<div class=\"space\"></div>");
    if (++mResultsSinceLastHtmlDump == RESULTS_PER_DUMP) {
      dumpHtmlToFile(html,true);
    }
  }
}
