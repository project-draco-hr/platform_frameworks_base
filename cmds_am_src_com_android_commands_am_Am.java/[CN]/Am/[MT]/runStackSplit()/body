{
  final int stackId=Integer.parseInt(nextArgRequired());
  final String splitDirection=nextArgRequired();
  Intent intent=null;
  try {
    intent=makeIntent(UserHandle.USER_CURRENT);
  }
 catch (  IllegalArgumentException e) {
  }
  try {
    final StackInfo currentStackInfo=mAm.getStackInfo(stackId);
    final Rect currentStackBounds=new Rect(currentStackInfo.bounds);
    final Rect newStackBounds=new Rect(currentStackInfo.bounds);
    if ("v".equals(splitDirection)) {
      currentStackBounds.right=newStackBounds.left=currentStackInfo.bounds.centerX();
    }
 else     if ("h".equals(splitDirection)) {
      currentStackBounds.bottom=newStackBounds.top=currentStackInfo.bounds.centerY();
    }
 else {
      showError("Error: unknown split direction '" + splitDirection + "'");
      return;
    }
    IActivityContainer container=mAm.createStackOnDisplay(currentStackInfo.displayId);
    if (container == null) {
      showError("Error: Unable to create new stack...");
    }
    final int newStackId=container.getStackId();
    if (intent != null) {
      container.startActivity(intent);
    }
 else     if (currentStackInfo.taskIds != null && currentStackInfo.taskIds.length > 1) {
      mAm.moveTaskToStack(currentStackInfo.taskIds[currentStackInfo.taskIds.length - 1],newStackId,true);
    }
    final StackInfo newStackInfo=mAm.getStackInfo(newStackId);
    for (    int taskId : currentStackInfo.taskIds) {
      mAm.setTaskResizeable(taskId,true);
    }
    for (    int taskId : newStackInfo.taskIds) {
      mAm.setTaskResizeable(taskId,true);
    }
    mAm.resizeStack(currentStackInfo.stackId,currentStackBounds);
    mAm.resizeStack(newStackInfo.stackId,newStackBounds);
  }
 catch (  RemoteException e) {
  }
}
