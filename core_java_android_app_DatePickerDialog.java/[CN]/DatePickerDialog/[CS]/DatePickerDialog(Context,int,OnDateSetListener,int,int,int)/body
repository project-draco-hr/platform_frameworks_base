{
  super(context,resolveDialogTheme(context,theme));
  mDateSetListener=listener;
  mCalendar=Calendar.getInstance();
  final Context themeContext=getContext();
  final LayoutInflater inflater=LayoutInflater.from(themeContext);
  final View view=inflater.inflate(R.layout.date_picker_dialog,null);
  setView(view);
  setButton(BUTTON_POSITIVE,themeContext.getString(R.string.ok),this);
  setButton(BUTTON_NEGATIVE,themeContext.getString(R.string.cancel),this);
  setButtonPanelLayoutHint(LAYOUT_HINT_SIDE);
  mDatePicker=(DatePicker)view.findViewById(R.id.datePicker);
  mDatePicker.init(year,monthOfYear,dayOfMonth,this);
  mDatePicker.setValidationCallback(mValidationCallback);
}
