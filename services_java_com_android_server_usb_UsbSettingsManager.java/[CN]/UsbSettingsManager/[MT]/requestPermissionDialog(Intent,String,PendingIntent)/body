{
  int uid=Binder.getCallingUid();
  try {
    ApplicationInfo aInfo=mPackageManager.getApplicationInfo(packageName,0);
    if (aInfo.uid != uid) {
      throw new IllegalArgumentException("package " + packageName + " does not match caller's uid "+ uid);
    }
  }
 catch (  PackageManager.NameNotFoundException e) {
    throw new IllegalArgumentException("package " + packageName + " not found");
  }
  long identity=Binder.clearCallingIdentity();
  intent.setClassName("com.android.systemui","com.android.systemui.usb.UsbPermissionActivity");
  intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
  intent.putExtra(Intent.EXTRA_INTENT,pi);
  intent.putExtra("package",packageName);
  intent.putExtra("uid",uid);
  try {
    mContext.startActivity(intent);
  }
 catch (  ActivityNotFoundException e) {
    Slog.e(TAG,"unable to start UsbPermissionActivity");
  }
 finally {
    Binder.restoreCallingIdentity(identity);
  }
}
