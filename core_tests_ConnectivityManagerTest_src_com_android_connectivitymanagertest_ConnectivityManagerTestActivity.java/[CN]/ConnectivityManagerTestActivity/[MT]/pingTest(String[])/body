{
  String[] hostList={"www.google.com","www.yahoo.com","www.bing.com","www.facebook.com","www.ask.com"};
  if (pingServerList != null) {
    hostList=pingServerList;
  }
  long startTime=System.currentTimeMillis();
  while ((System.currentTimeMillis() - startTime) < PING_TIMER) {
    try {
      for (int i=0; i < hostList.length; i++) {
        String host=hostList[i];
        log("Start ping test, ping " + host);
        Process p=Runtime.getRuntime().exec("ping -c 10 -w 100 " + host);
        int status=p.waitFor();
        if (status == 0) {
          return true;
        }
      }
    }
 catch (    UnknownHostException e) {
      log("Ping test Fail: Unknown Host");
    }
catch (    IOException e) {
      log("Ping test Fail:  IOException");
    }
catch (    InterruptedException e) {
      log("Ping test Fail: InterruptedException");
    }
  }
  return false;
}
