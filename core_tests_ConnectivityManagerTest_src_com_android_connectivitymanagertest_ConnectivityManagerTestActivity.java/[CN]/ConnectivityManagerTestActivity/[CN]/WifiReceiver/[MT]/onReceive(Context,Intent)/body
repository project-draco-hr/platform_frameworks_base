{
  String action=intent.getAction();
  Log.v("WifiReceiver","onReceive() is calleld with " + intent);
  if (action.equals(WifiManager.SCAN_RESULTS_AVAILABLE_ACTION)) {
    notifyScanResult();
  }
 else   if (action.equals(WifiManager.NETWORK_STATE_CHANGED_ACTION)) {
    mWifiNetworkInfo=(NetworkInfo)intent.getParcelableExtra(WifiManager.EXTRA_NETWORK_INFO);
    Log.v(LOG_TAG,"mWifiNetworkInfo: " + mWifiNetworkInfo.toString());
    if (mWifiNetworkInfo.getState() == State.CONNECTED) {
      mBssid=intent.getStringExtra(WifiManager.EXTRA_BSSID);
    }
    notifyWifiState();
  }
 else   if (action.equals(WifiManager.WIFI_STATE_CHANGED_ACTION)) {
    mWifiState=intent.getIntExtra(WifiManager.EXTRA_WIFI_STATE,WifiManager.WIFI_STATE_UNKNOWN);
    notifyWifiState();
  }
 else {
    return;
  }
}
