{
  BluetoothDevice remoteDevice=mService.getRemoteDevice(address);
  mBluetoothInputProfileHandler.setInitialInputDevicePriority(remoteDevice,state);
  if (state == BluetoothDevice.BOND_BONDED) {
    if (mA2dpProxy.getPriority(remoteDevice) == BluetoothProfile.PRIORITY_UNDEFINED) {
      mA2dpProxy.setPriority(remoteDevice,BluetoothProfile.PRIORITY_ON);
    }
    if (mHeadsetProxy.getPriority(remoteDevice) == BluetoothProfile.PRIORITY_UNDEFINED) {
      mHeadsetProxy.setPriority(remoteDevice,BluetoothProfile.PRIORITY_ON);
    }
  }
 else   if (state == BluetoothDevice.BOND_NONE) {
    mA2dpProxy.setPriority(remoteDevice,BluetoothProfile.PRIORITY_UNDEFINED);
    mHeadsetProxy.setPriority(remoteDevice,BluetoothProfile.PRIORITY_UNDEFINED);
  }
}
