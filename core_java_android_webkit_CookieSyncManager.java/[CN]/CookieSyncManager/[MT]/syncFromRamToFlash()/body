{
  if (DebugFlags.COOKIE_SYNC_MANAGER) {
    Log.v(LOGTAG,"CookieSyncManager::syncFromRamToFlash STARTS");
  }
  CookieManager manager=CookieManager.getInstance();
  if (!manager.acceptCookie()) {
    return;
  }
  if (JniUtil.useChromiumHttpStack()) {
    manager.flushCookieStore();
  }
 else {
    ArrayList<Cookie> cookieList=manager.getUpdatedCookiesSince(mLastUpdate);
    mLastUpdate=System.currentTimeMillis();
    syncFromRamToFlash(cookieList);
    ArrayList<Cookie> lruList=manager.deleteLRUDomain();
    syncFromRamToFlash(lruList);
  }
  if (DebugFlags.COOKIE_SYNC_MANAGER) {
    Log.v(LOGTAG,"CookieSyncManager::syncFromRamToFlash DONE");
  }
}
