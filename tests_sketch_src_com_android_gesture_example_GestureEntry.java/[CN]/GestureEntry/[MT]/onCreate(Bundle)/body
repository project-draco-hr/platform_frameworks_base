{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.demo);
  mGestureStore=GestureLibraries.fromFile(GESTURE_FILE_NAME);
  mGestureStore.load();
  mRecognitionResult=(Spinner)findViewById(R.id.spinner);
  mRecognitionResult.setOnItemSelectedListener(new OnItemSelectedListener(){
    public void onItemSelected(    AdapterView<?> parent,    View view,    int position,    long id){
      if (!mChangedByRecognizer) {
        mGestureStore.addGesture(parent.getSelectedItem().toString(),mGesturePad.getGesture());
      }
 else {
        mChangedByRecognizer=false;
      }
    }
    public void onNothingSelected(    AdapterView<?> parent){
    }
  }
);
  mGesturePad=(GestureOverlayView)findViewById(R.id.drawingpad);
  mGesturePad.setBackgroundColor(Color.BLACK);
  mGesturePad.addOnGestureListener(new GestureOverlayView.OnGestureListener(){
    public void onGestureEnded(    GestureOverlayView overlay,    MotionEvent event){
      recognize(overlay.getGesture());
    }
    public void onGesture(    GestureOverlayView overlay,    MotionEvent event){
    }
    public void onGestureStarted(    GestureOverlayView overlay,    MotionEvent event){
      overlay.clear(false);
    }
    public void onGestureCancelled(    GestureOverlayView overlay,    MotionEvent event){
    }
  }
);
  if (savedInstanceState != null) {
    Gesture gesture=(Gesture)savedInstanceState.getParcelable(PARCEL_KEY);
    if (gesture != null) {
      mGesturePad.setGesture(gesture);
    }
  }
}
