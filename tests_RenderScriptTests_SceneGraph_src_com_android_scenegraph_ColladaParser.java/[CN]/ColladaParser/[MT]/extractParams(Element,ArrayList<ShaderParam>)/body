{
  Node paramNode=fx.getFirstChild();
  while (paramNode != null) {
    if (paramNode.getNodeType() == Node.ELEMENT_NODE) {
      String name=paramNode.getNodeName();
      Node typeNode=paramNode.getFirstChild();
      while (typeNode != null && typeNode.getNodeType() != Node.ELEMENT_NODE) {
        typeNode=typeNode.getNextSibling();
      }
      String paramType=typeNode.getNodeName();
      Element typeElem=(Element)typeNode;
      ShaderParam sceneParam=null;
      if (paramType.equals("color")) {
        Float4Param f4p=new Float4Param(name);
        Float4 value=getFloat4(typeElem);
        f4p.setValue(value);
        sceneParam=f4p;
      }
 else       if (paramType.equals("float")) {
        Float4Param f4p=new Float4Param(name);
        float value=getFloat(typeElem);
        f4p.setValue(new Float4(value,value,value,value));
        sceneParam=f4p;
      }
 else       if (paramType.equals("texture")) {
        String samplerName=typeElem.getAttribute("texture");
        Texture2D tex=getTexture(samplerName);
        TextureParam texP=new TextureParam(name);
        texP.setTexture(tex);
        sceneParam=texP;
      }
      if (sceneParam != null) {
        params.add(sceneParam);
      }
    }
    paramNode=paramNode.getNextSibling();
  }
}
