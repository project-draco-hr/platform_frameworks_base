{
  NetworkTemplate[] templates=new NetworkTemplate[]{sTemplateImsi1};
  int[] uids=new int[]{UID_RED,UID_BLUE,UID_GREEN};
  DataUsageRequest inputRequest=new DataUsageRequest(DataUsageRequest.REQUEST_ID_UNSET,templates,uids,THRESHOLD_BYTES);
  DataUsageRequest request=mStatsObservers.register(inputRequest,mMessenger,mockBinder,UID_RED,NetworkStatsAccess.Level.USER);
  assertTrue(request.requestId > 0);
  assertTrue(Arrays.deepEquals(templates,request.templates));
  assertTrue(Arrays.equals(uids,request.uids));
  assertEquals(THRESHOLD_BYTES,request.thresholdInBytes);
}
