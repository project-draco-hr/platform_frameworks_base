{
  if (denyIfQueueLimitReached(tracker)) {
    return;
  }
  int messageId;
  int titleId;
  if (isPremium) {
    messageId=R.string.sms_premium_short_code_confirm_message;
    titleId=R.string.sms_premium_short_code_confirm_title;
  }
 else {
    messageId=R.string.sms_short_code_confirm_message;
    titleId=R.string.sms_short_code_confirm_title;
  }
  CharSequence appLabel=getAppLabel(tracker.mAppPackage);
  Resources r=Resources.getSystem();
  Spanned messageText=Html.fromHtml(r.getString(messageId,appLabel,tracker.mDestAddress));
  ConfirmDialogListener listener=new ConfirmDialogListener(tracker);
  AlertDialog d=new AlertDialog.Builder(mContext).setTitle(titleId).setIcon(R.drawable.stat_sys_warning).setMessage(messageText).setPositiveButton(r.getString(R.string.sms_short_code_confirm_allow),listener).setNegativeButton(r.getString(R.string.sms_short_code_confirm_deny),listener).setOnCancelListener(listener).create();
  d.getWindow().setType(WindowManager.LayoutParams.TYPE_SYSTEM_ALERT);
  d.show();
}
