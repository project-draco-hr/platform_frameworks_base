{
  if (mUsageMonitor.isApprovedShortCodeSender(tracker.mAppPackage)) {
    return true;
  }
 else {
    String countryIso=mTelephonyManager.getSimCountryIso();
    if (countryIso == null || countryIso.length() != 2) {
      Log.e(TAG,"Can't get SIM country code: trying network country code");
      countryIso=mTelephonyManager.getNetworkCountryIso();
    }
switch (mUsageMonitor.checkDestination(tracker.mDestAddress,countryIso)) {
case SmsUsageMonitor.CATEGORY_POSSIBLE_PREMIUM_SHORT_CODE:
      sendMessage(obtainMessage(EVENT_CONFIRM_SEND_TO_POSSIBLE_PREMIUM_SHORT_CODE,tracker));
    return false;
case SmsUsageMonitor.CATEGORY_PREMIUM_SHORT_CODE:
  sendMessage(obtainMessage(EVENT_CONFIRM_SEND_TO_PREMIUM_SHORT_CODE,tracker));
return false;
case SmsUsageMonitor.CATEGORY_NOT_SHORT_CODE:
case SmsUsageMonitor.CATEGORY_FREE_SHORT_CODE:
case SmsUsageMonitor.CATEGORY_STANDARD_SHORT_CODE:
default :
return true;
}
}
}
