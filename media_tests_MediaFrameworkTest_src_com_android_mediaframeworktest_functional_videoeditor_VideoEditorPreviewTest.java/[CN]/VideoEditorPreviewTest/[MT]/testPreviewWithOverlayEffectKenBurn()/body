{
  final String videoItemFileName=INPUT_FILE_PATH + "H264_BP_640x480_30fps_192kbps_1_5.mp4";
  final String imageItemFileName=INPUT_FILE_PATH + "IMG_640x480.jpg";
  final String videoItemFileName1=INPUT_FILE_PATH + "MPEG4_SP_640x480_15fps_512kbps_AACLC_48khz_132kbps_s_0_26.mp4";
  final String overlayFilename=INPUT_FILE_PATH + "IMG_640x480_Overlay1.png";
  final Semaphore blockTillPreviewCompletes=new Semaphore(1);
  previewStart=false;
  previewStop=false;
  final MediaVideoItem mediaVideoItem1=mVideoEditorHelper.createMediaItem(mVideoEditor,"m1",videoItemFileName,MediaItem.RENDERING_MODE_BLACK_BORDER);
  mVideoEditor.addMediaItem(mediaVideoItem1);
  final MediaImageItem mediaImageItem2=mVideoEditorHelper.createMediaItem(mVideoEditor,"m2",imageItemFileName,10000,MediaItem.RENDERING_MODE_BLACK_BORDER);
  mVideoEditor.addMediaItem(mediaImageItem2);
  final MediaVideoItem mediaVideoItem3=mVideoEditorHelper.createMediaItem(mVideoEditor,"m3",videoItemFileName1,MediaItem.RENDERING_MODE_BLACK_BORDER);
  mVideoEditor.addMediaItem(mediaVideoItem3);
  final EffectColor effectColor=mVideoEditorHelper.createEffectItem(mediaVideoItem1,"Effect1",1000,3000,EffectColor.TYPE_COLOR,EffectColor.GREEN);
  mediaVideoItem1.addEffect(effectColor);
  final Rect startRect=new Rect((mediaImageItem2.getHeight() / 3),(mediaImageItem2.getWidth() / 3),(mediaImageItem2.getHeight() / 2),(mediaImageItem2.getWidth() / 2));
  final Rect endRect=new Rect(0,0,mediaImageItem2.getWidth(),mediaImageItem2.getHeight());
  final EffectKenBurns kbeffectOnMI2=new EffectKenBurns(mediaImageItem2,"KBOnM2",startRect,endRect,0,10000);
  assertNotNull("EffectKenBurns",kbeffectOnMI2);
  mediaImageItem2.addEffect(kbeffectOnMI2);
  final Bitmap mBitmap=mVideoEditorHelper.getBitmap(overlayFilename,640,480);
  final OverlayFrame overlayFrame=mVideoEditorHelper.createOverlay(mediaVideoItem3,"OverlayID",mBitmap,(mediaImageItem2.getDuration() / 4),(mediaVideoItem3.getDuration() / 3));
  mediaVideoItem3.addOverlay(overlayFrame);
  validatePreviewProgress(5000,-1,false,mVideoEditor.getDuration());
}
