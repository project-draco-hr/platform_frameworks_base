{
  final String videoItemFileName1=INPUT_FILE_PATH + "MPEG4_SP_720x480_30fps_280kbps_AACLC_48kHz_96kbps_s_0_21.mp4";
  final String videoItemFileName2=INPUT_FILE_PATH + "MPEG4_SP_640x480_15fps_256kbps_0_30.mp4";
  final String videoItemFileName3=INPUT_FILE_PATH + "H263_profile0_176x144_15fps_256kbps_AACLC_32kHz_128kbps_s_1_17.3gp";
  final Semaphore blockTillPreviewCompletes=new Semaphore(1);
  previewStart=false;
  previewStop=false;
  final MediaVideoItem mediaVideoItem1=mVideoEditorHelper.createMediaItem(mVideoEditor,"mediaVideoItem1",videoItemFileName1,MediaItem.RENDERING_MODE_BLACK_BORDER);
  mediaVideoItem1.setExtractBoundaries(0,10000);
  mVideoEditor.addMediaItem(mediaVideoItem1);
  final MediaVideoItem mediaVideoItem2=mVideoEditorHelper.createMediaItem(mVideoEditor,"mediaVideoItem2",videoItemFileName2,MediaItem.RENDERING_MODE_BLACK_BORDER);
  mediaVideoItem2.setExtractBoundaries(0,10000);
  mVideoEditor.addMediaItem(mediaVideoItem2);
  final MediaVideoItem mediaVideoItem3=mVideoEditorHelper.createMediaItem(mVideoEditor,"mediaVideoItem3",videoItemFileName3,MediaItem.RENDERING_MODE_BLACK_BORDER);
  mediaVideoItem3.setExtractBoundaries(0,10000);
  mVideoEditor.insertMediaItem(mediaVideoItem3,mediaVideoItem1.getId());
  List<MediaItem> mediaList=mVideoEditor.getAllMediaItems();
  assertEquals("Media Item 1",mediaVideoItem1,mediaList.get(0));
  assertEquals("Media Item 3",mediaVideoItem3,mediaList.get(1));
  assertEquals("Media Item 2",mediaVideoItem2,mediaList.get(2));
  mediaVideoItem1.setRenderingMode(MediaItem.RENDERING_MODE_BLACK_BORDER);
  assertEquals("Media Item 1 Rendering Mode",MediaItem.RENDERING_MODE_BLACK_BORDER,mediaVideoItem1.getRenderingMode());
  mediaVideoItem2.setRenderingMode(MediaItem.RENDERING_MODE_BLACK_BORDER);
  assertEquals("Media Item 2 Rendering Mode",MediaItem.RENDERING_MODE_BLACK_BORDER,mediaVideoItem2.getRenderingMode());
  mediaVideoItem3.setRenderingMode(MediaItem.RENDERING_MODE_STRETCH);
  assertEquals("Media Item 3 Rendering Mode",MediaItem.RENDERING_MODE_STRETCH,mediaVideoItem3.getRenderingMode());
  mVideoEditor.setAspectRatio(MediaProperties.ASPECT_RATIO_5_3);
  assertEquals("Aspect Ratio",MediaProperties.ASPECT_RATIO_5_3,mVideoEditor.getAspectRatio());
  validatePreviewProgress(10000,-1,false,mVideoEditor.getDuration());
}
