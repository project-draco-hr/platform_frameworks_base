{
  Map<String,Boolean> delta=new HashMap<>();
  for (  String id : mProvisionalSelection) {
    if (!newSelection.contains(id) && !mSelection.contains(id)) {
      delta.put(id,false);
    }
  }
  for (  String id : mSelection) {
    if (!newSelection.contains(id)) {
      delta.put(id,false);
    }
  }
  for (  String id : newSelection) {
    if (!mSelection.contains(id) && !mProvisionalSelection.contains(id)) {
      delta.put(id,true);
    }
  }
  for (  Map.Entry<String,Boolean> entry : delta.entrySet()) {
    String id=entry.getKey();
    if (entry.getValue()) {
      mProvisionalSelection.add(id);
    }
 else {
      mProvisionalSelection.remove(id);
    }
  }
  return delta;
}
