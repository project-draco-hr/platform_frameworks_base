{
  SparseBooleanArray delta=new SparseBooleanArray();
  for (int i=0; i < mTotalSelection.size(); i++) {
    int position=mTotalSelection.keyAt(i);
    if (!provisionalSelection.get(position) && !mSavedSelection.get(position)) {
      delta.put(position,false);
    }
  }
  for (int i=0; i < provisionalSelection.size(); i++) {
    int position=provisionalSelection.keyAt(i);
    if (!mTotalSelection.get(position)) {
      delta.put(position,true);
    }
  }
  for (int i=0; i < delta.size(); i++) {
    int position=delta.keyAt(i);
    if (delta.get(position)) {
      mTotalSelection.put(position,true);
    }
 else {
      mTotalSelection.delete(position);
    }
  }
  return delta;
}
