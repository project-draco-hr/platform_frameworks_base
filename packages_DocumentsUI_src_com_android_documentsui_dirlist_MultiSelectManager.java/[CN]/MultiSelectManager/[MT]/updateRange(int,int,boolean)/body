{
  assert(end >= begin);
  for (int i=begin; i <= end; i++) {
    String id=mAdapter.getModelId(i);
    if (id == null) {
      continue;
    }
    if (selected) {
      boolean canSelect=notifyBeforeItemStateChange(id,true);
      if (canSelect) {
        if (mSingleSelect && hasSelection()) {
          clearSelectionQuietly();
        }
        selectAndNotify(id);
      }
    }
 else {
      attemptDeselect(id);
    }
  }
}
