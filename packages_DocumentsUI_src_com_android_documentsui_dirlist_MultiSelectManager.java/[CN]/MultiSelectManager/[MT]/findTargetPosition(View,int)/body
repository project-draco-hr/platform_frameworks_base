{
  int position=RecyclerView.NO_POSITION;
  if (keyCode == KeyEvent.KEYCODE_MOVE_HOME) {
    position=0;
  }
 else   if (keyCode == KeyEvent.KEYCODE_MOVE_END) {
    position=mEnvironment.getItemCount() - 1;
  }
 else {
    int searchDir=-1;
switch (keyCode) {
case KeyEvent.KEYCODE_DPAD_UP:
      searchDir=View.FOCUS_UP;
    break;
case KeyEvent.KEYCODE_DPAD_DOWN:
  searchDir=View.FOCUS_DOWN;
break;
case KeyEvent.KEYCODE_DPAD_LEFT:
searchDir=View.FOCUS_LEFT;
break;
case KeyEvent.KEYCODE_DPAD_RIGHT:
searchDir=View.FOCUS_RIGHT;
break;
}
if (searchDir != -1) {
View targetView=view.focusSearch(searchDir);
if (targetView != null) {
position=mEnvironment.getAdapterPositionForChildView(targetView);
}
}
}
return position;
}
