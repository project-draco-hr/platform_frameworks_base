{
synchronized (mServiceConnections) {
    for (    Map.Entry<String,ArrayList<Callback>> entry : mServiceUsers.entrySet()) {
      final String authenticatorType=entry.getKey();
      final ArrayList<Callback> serviceUsers=entry.getValue();
      for (      Callback callback : serviceUsers) {
        if (callback == callbackToUnbind) {
          serviceUsers.remove(callbackToUnbind);
          if (serviceUsers.isEmpty()) {
            unbindFromService(authenticatorType);
          }
          return;
        }
      }
    }
  }
}
