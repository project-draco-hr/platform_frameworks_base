{
  int width=MeasureSpec.getSize(widthMeasureSpec);
  int height=MeasureSpec.getSize(heightMeasureSpec);
  int childCount=getChildCount();
  if (mNumChildren != childCount || width != getMeasuredWidth() || height != getMeasuredHeight()) {
    constructGrid(width,height,childCount);
  }
  for (int i=0; i < childCount; i++) {
    final View child=getChildAt(i);
    Rect rect=mCells.get(i).rect;
    child.measure(MeasureSpec.makeMeasureSpec(rect.width(),MeasureSpec.EXACTLY),MeasureSpec.makeMeasureSpec(rect.height(),MeasureSpec.EXACTLY));
  }
  setMeasuredDimension(width,height);
}
