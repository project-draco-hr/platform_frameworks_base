{
  Markup m=new Markup("atype");
  Markup m1=new Markup("nested_type1");
  Markup m2=new Markup("nested_type2");
  Markup m3=new Markup("nested_type3");
  m.addNestedMarkup(m1);
  m.addNestedMarkup(m2);
  m.addNestedMarkup(m3);
  m.removeNestedMarkup(m1);
  m.removeNestedMarkup(m3);
  String str=m.toString();
  assertEquals("type: \"atype\" " + "markup { type: \"nested_type2\" }",str);
  Markup mFromString=Markup.markupFromString(str);
  assertEquals(m,mFromString);
}
