{
  Markup m1=new Markup("top").addNestedMarkup(new Markup("top_child1").addNestedMarkup(new Markup("top_child1_child1")).addNestedMarkup(new Markup("top_child1_child2"))).addNestedMarkup(new Markup("top_child2").addNestedMarkup(new Markup("top_child2_child2")).addNestedMarkup(new Markup("top_child2_child2")));
  String str=m1.toString();
  assertEquals("type: \"top\" " + "markup { " + "type: \"top_child1\" "+ "markup { type: \"top_child1_child1\" } "+ "markup { type: \"top_child1_child2\" } "+ "} "+ "markup { "+ "type: \"top_child2\" "+ "markup { type: \"top_child2_child2\" } "+ "markup { type: \"top_child2_child2\" } "+ "}",str);
  Markup m2=Markup.markupFromString(str);
  assertEquals(m1,m2);
}
