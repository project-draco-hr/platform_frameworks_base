{
  if (mDozing == dozing)   return;
  mDozing=dozing;
  if (mDozing) {
    abortAnimations();
    mScrimController.setDozeBehindAlpha(1f);
    mScrimController.setDozeInFrontAlpha(1f);
  }
 else {
    cancelPulsing();
    if (animate) {
      startScrimAnimation(false,0f,NotificationPanelView.DOZE_ANIMATION_DURATION,mDozeAnimationInterpolator);
      startScrimAnimation(true,0f,NotificationPanelView.DOZE_ANIMATION_DURATION,mDozeAnimationInterpolator);
    }
 else {
      abortAnimations();
      mScrimController.setDozeBehindAlpha(0f);
      mScrimController.setDozeInFrontAlpha(0f);
    }
  }
}
