{
  if (DEBUG)   log("onMeasure %s %s",MeasureSpec.toString(widthMeasureSpec),MeasureSpec.toString(heightMeasureSpec));
  final boolean widthExact=MeasureSpec.getMode(widthMeasureSpec) == MeasureSpec.EXACTLY;
  if (!widthExact || (widthMeasureSpec != mWidthSpec)) {
    if (DEBUG)     log("  super.onMeasure");
    final int hms=MeasureSpec.makeMeasureSpec(0,MeasureSpec.UNSPECIFIED);
    super.onMeasure(widthMeasureSpec,hms);
    mBottom=mPeekable ? mHintText.getMeasuredHeight() : getExpandedBottom();
    mWidthSpec=widthMeasureSpec;
  }
  if (DEBUG)   log("mBottom (OM) = " + mBottom);
  setMeasuredDimension(getMeasuredWidth(),mBottom);
  if (DEBUG)   log("  mw=%s mh=%s",toString(getMeasuredWidthAndState()),toString(getMeasuredHeightAndState()));
}
