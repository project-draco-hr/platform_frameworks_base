{
  mAdapter=adapter;
  mAdapter.setCallbacks(new Adapter.Callbacks(){
    @Override public void onChanged(){
      post(new Runnable(){
        @Override public void run(){
          updateState(true);
        }
      }
);
    }
  }
);
  updateState(false);
}
