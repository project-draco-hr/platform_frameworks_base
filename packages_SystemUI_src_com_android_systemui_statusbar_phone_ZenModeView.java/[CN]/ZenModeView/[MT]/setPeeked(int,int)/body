{
  if (DEBUG)   log("setPeeked=" + peeked);
  final int min=mHintText.getBottom();
  peeked=Math.max(min,Math.min(peeked,max));
  if (mBottom == peeked) {
    return;
  }
  if (peeked == max) {
    mPeekable=false;
    mModeSpinner.setEnabled(true);
    if (mAdapter != null) {
      mAdapter.setMode(Adapter.MODE_LIMITED);
    }
  }
  if (peeked == min) {
    mPeekable=true;
    mModeSpinner.setEnabled(false);
  }
  if (DEBUG)   log("  mBottom=" + peeked);
  mBottom=peeked;
  final float f=(peeked - min) / (float)(max - min);
  setExpanded(f);
  requestLayout();
}
