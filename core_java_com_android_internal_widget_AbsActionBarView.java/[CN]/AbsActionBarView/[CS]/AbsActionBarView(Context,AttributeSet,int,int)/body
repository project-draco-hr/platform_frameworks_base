{
  super(context,attrs,defStyleAttr,defStyleRes);
  final TypedValue tv=new TypedValue();
  if (context.getTheme().resolveAttribute(R.attr.actionBarPopupTheme,tv,true) && tv.resourceId != 0) {
    mPopupContext=new ContextThemeWrapper(context,tv.resourceId);
  }
 else {
    mPopupContext=context;
  }
}
