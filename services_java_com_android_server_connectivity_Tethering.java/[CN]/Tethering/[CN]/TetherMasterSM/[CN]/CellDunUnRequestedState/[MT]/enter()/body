{
  IBinder b=ServiceManager.getService(Context.CONNECTIVITY_SERVICE);
  IConnectivityManager service=IConnectivityManager.Stub.asInterface(b);
  NetworkInfo dunInfo=null;
  try {
    dunInfo=service.getNetworkInfo(ConnectivityManager.TYPE_MOBILE_DUN);
  }
 catch (  Exception e) {
  }
  if (dunInfo != null && !dunInfo.isConnectedOrConnecting()) {
    sendMessage(obtainMessage(CMD_CELL_DUN_DISABLED));
    return;
  }
  try {
    service.stopUsingNetworkFeature(ConnectivityManager.TYPE_MOBILE,Phone.FEATURE_ENABLE_DUN);
  }
 catch (  Exception e) {
  }
  Message m=obtainMessage(CMD_CELL_DUN_TIMEOUT);
  m.arg1=++mSequenceNumber;
  sendMessageDelayed(m,CELL_DISABLE_DUN_TIMEOUT_MS);
}
