{
  boolean retValue=true;
  if (apnType == ConnectivityManager.TYPE_NONE)   return false;
  if (apnType != mMobileApnReserved)   turnOffUpstreamMobileConnection();
  IBinder b=ServiceManager.getService(Context.CONNECTIVITY_SERVICE);
  IConnectivityManager service=IConnectivityManager.Stub.asInterface(b);
  int result=Phone.APN_REQUEST_FAILED;
  String enableString=enableString(apnType);
  if (enableString == null)   return false;
  try {
    result=service.startUsingNetworkFeature(ConnectivityManager.TYPE_MOBILE,enableString,new Binder());
  }
 catch (  Exception e) {
  }
switch (result) {
case Phone.APN_ALREADY_ACTIVE:
case Phone.APN_REQUEST_STARTED:
    mMobileApnReserved=apnType;
  Message m=obtainMessage(CMD_CELL_CONNECTION_RENEW);
m.arg1=++mCurrentConnectionSequence;
sendMessageDelayed(m,CELL_CONNECTION_RENEW_MS);
break;
case Phone.APN_REQUEST_FAILED:
default :
retValue=false;
break;
}
return retValue;
}
