{
  String action=intent.getAction();
  if (action.equals(Intent.ACTION_UMS_CONNECTED)) {
    Tethering.this.handleTtyConnect();
  }
 else   if (action.equals(Intent.ACTION_UMS_DISCONNECTED)) {
    Tethering.this.handleTtyDisconnect();
  }
 else   if (action.equals(ConnectivityManager.CONNECTIVITY_ACTION)) {
    IBinder b=ServiceManager.getService(Context.CONNECTIVITY_SERVICE);
    IConnectivityManager service=IConnectivityManager.Stub.asInterface(b);
    try {
      NetworkInfo info=service.getNetworkInfo(ConnectivityManager.TYPE_MOBILE_DUN);
      int msg;
      if (info.isConnected() == true) {
        msg=TetherMasterSM.CMD_CELL_DUN_ENABLED;
      }
 else {
        msg=TetherMasterSM.CMD_CELL_DUN_DISABLED;
      }
      mTetherMasterSM.sendMessage(mTetherMasterSM.obtainMessage(msg));
    }
 catch (    RemoteException e) {
    }
  }
}
