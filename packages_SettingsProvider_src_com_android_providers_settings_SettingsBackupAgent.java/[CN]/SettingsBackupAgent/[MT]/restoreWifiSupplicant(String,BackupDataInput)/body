{
  byte[] bytes=new byte[data.getDataSize()];
  if (bytes.length <= 0)   return;
  try {
    data.readEntityData(bytes,0,bytes.length);
    File supplicantFile=new File(FILE_WIFI_SUPPLICANT);
    if (supplicantFile.exists())     supplicantFile.delete();
    copyWifiSupplicantTemplate();
    OutputStream os=new BufferedOutputStream(new FileOutputStream(filename,true));
    os.write("\n".getBytes());
    os.write(bytes);
    os.close();
  }
 catch (  IOException ioe) {
    Log.w(TAG,"Couldn't restore " + filename);
  }
}
