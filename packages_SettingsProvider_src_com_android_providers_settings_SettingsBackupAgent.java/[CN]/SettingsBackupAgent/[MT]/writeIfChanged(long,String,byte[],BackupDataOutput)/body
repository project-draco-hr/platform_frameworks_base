{
  CRC32 checkSummer=new CRC32();
  checkSummer.update(data);
  long newChecksum=checkSummer.getValue();
  if (oldChecksum == newChecksum) {
    return oldChecksum;
  }
  try {
    if (DEBUG_BACKUP) {
      Log.v(TAG,"Writing entity " + key + " of size "+ data.length);
    }
    output.writeEntityHeader(key,data.length);
    output.writeEntityData(data,data.length);
  }
 catch (  IOException ioe) {
  }
  return newChecksum;
}
