{
  long[] stateChecksums=new long[STATE_SIZE];
  DataInputStream dataInput=new DataInputStream(new FileInputStream(oldState.getFileDescriptor()));
  try {
    int stateVersion=dataInput.readInt();
    if (stateVersion == STATE_VERSION_1) {
      for (int i=0; i < STATE_VERSION_1_SIZE; i++) {
        stateChecksums[i]=dataInput.readLong();
      }
    }
 else     if (stateVersion == STATE_VERSION) {
      for (int i=0; i < STATE_SIZE; i++) {
        stateChecksums[i]=dataInput.readLong();
      }
    }
  }
 catch (  EOFException eof) {
  }
  dataInput.close();
  return stateChecksums;
}
