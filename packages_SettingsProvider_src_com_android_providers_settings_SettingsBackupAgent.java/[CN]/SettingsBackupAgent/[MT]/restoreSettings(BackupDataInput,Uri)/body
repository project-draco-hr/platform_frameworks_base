{
  ContentValues cv=new ContentValues(2);
  byte[] settings=new byte[data.getDataSize()];
  try {
    data.readEntityData(settings,0,settings.length);
  }
 catch (  IOException ioe) {
    Log.e(TAG,"Couldn't read entity data");
    return;
  }
  int pos=0;
  while (pos < settings.length) {
    int length=readInt(settings,pos);
    pos+=4;
    String settingName=length > 0 ? new String(settings,pos,length) : null;
    pos+=length;
    length=readInt(settings,pos);
    pos+=4;
    String settingValue=length > 0 ? new String(settings,pos,length) : null;
    pos+=length;
    if (!TextUtils.isEmpty(settingName) && !TextUtils.isEmpty(settingValue)) {
      cv.clear();
      cv.put(Settings.NameValueTable.NAME,settingName);
      cv.put(Settings.NameValueTable.VALUE,settingValue);
      getContentResolver().insert(contentUri,cv);
      mSettingsHelper.restoreValue(settingName,settingValue);
    }
  }
}
