{
  BufferedReader br=null;
  try {
    File file=new File(filename);
    if (!file.exists()) {
      return EMPTY_DATA;
    }
    WifiManager wifi=(WifiManager)getSystemService(WIFI_SERVICE);
    List<WifiConfiguration> configs=wifi.getConfiguredNetworks();
    WifiNetworkSettings fromFile=new WifiNetworkSettings();
    br=new BufferedReader(new FileReader(file));
    fromFile.readNetworks(br,configs,false);
    if (fromFile.mKnownNetworks.size() > 0) {
      ByteArrayOutputStream bos=new ByteArrayOutputStream();
      OutputStreamWriter out=new OutputStreamWriter(bos);
      fromFile.write(out);
      out.flush();
      return bos.toByteArray();
    }
 else {
      return EMPTY_DATA;
    }
  }
 catch (  IOException ioe) {
    Log.w(TAG,"Couldn't backup " + filename);
    return EMPTY_DATA;
  }
 finally {
    IoUtils.closeQuietly(br);
  }
}
