{
  try {
    String line;
    while (in.ready()) {
      line=in.readLine();
      if (line != null) {
        if (line.startsWith("network")) {
          Network net=Network.readFromStream(in);
          if (whitelist != null) {
            if (!networkInWhitelist(net,whitelist)) {
              if (DEBUG_BACKUP) {
                Log.v(TAG,"Network not in whitelist, skipping: " + net.ssid + " / "+ net.key_mgmt);
              }
              continue;
            }
          }
          if (net.isEap && !acceptEapNetworks) {
            if (DEBUG_BACKUP) {
              Log.v(TAG,"Skipping EAP network " + net.ssid + " / "+ net.key_mgmt);
            }
            continue;
          }
          if (!mKnownNetworks.contains(net)) {
            if (DEBUG_BACKUP) {
              Log.v(TAG,"Adding " + net.ssid + " / "+ net.key_mgmt);
            }
            mKnownNetworks.add(net);
            mNetworks.add(net);
          }
 else {
            if (DEBUG_BACKUP) {
              Log.v(TAG,"Dupe; skipped " + net.ssid + " / "+ net.key_mgmt);
            }
          }
        }
      }
    }
  }
 catch (  IOException e) {
  }
}
