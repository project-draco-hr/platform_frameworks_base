{
  IGateKeeperService gatekeeperService=IGateKeeperService.Stub.asInterface(ServiceManager.getService("android.service.gatekeeper.IGateKeeperService"));
  if (gatekeeperService == null) {
    throw new IllegalStateException("Gatekeeper service not available");
  }
  try {
    return gatekeeperService.getSecureUserId(UserHandle.myUserId());
  }
 catch (  RemoteException e) {
    throw new IllegalStateException("Failed to obtain root SID");
  }
}
