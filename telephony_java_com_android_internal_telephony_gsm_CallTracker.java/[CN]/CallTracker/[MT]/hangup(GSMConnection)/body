{
  if (conn.owner != this) {
    throw new CallStateException("Connection " + conn + "does not belong to CallTracker "+ this);
  }
  if (conn == pendingMO) {
    if (Phone.DEBUG_PHONE)     log("hangup: set hangupPendingMO to true");
    hangupPendingMO=true;
  }
 else {
    try {
      cm.hangupConnection(conn.getGSMIndex(),obtainCompleteMessage());
    }
 catch (    CallStateException ex) {
      Log.w(LOG_TAG,"CallTracker WARN: hangup() on absent connection " + conn);
    }
  }
  conn.onHangupLocal();
}
