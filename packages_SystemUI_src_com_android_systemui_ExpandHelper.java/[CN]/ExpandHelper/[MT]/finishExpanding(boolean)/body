{
  if (!mExpanding)   return;
  float currentHeight=mScaler.getHeight();
  float targetHeight=mSmallSize;
  float h=mScaler.getHeight();
  final boolean wasClosed=(mOldHeight == mSmallSize);
  if (wasClosed) {
    targetHeight=(force || currentHeight > mSmallSize) ? mNaturalHeight : mSmallSize;
  }
 else {
    targetHeight=(force || currentHeight < mNaturalHeight) ? mSmallSize : mNaturalHeight;
  }
  if (mScaleAnimation.isRunning()) {
    mScaleAnimation.cancel();
  }
  setGlow(0f);
  mCallback.setUserExpandedChild(mCurrView,h == mNaturalHeight);
  if (targetHeight != currentHeight) {
    mScaleAnimation.setFloatValues(targetHeight);
    mScaleAnimation.setupStartValues();
    mScaleAnimation.start();
  }
  mCallback.setUserLockedChild(mCurrView,false);
  mExpanding=false;
  mExpansionStyle=NONE;
  if (DEBUG)   Slog.d(TAG,"scale was finished on view: " + mCurrView);
}
