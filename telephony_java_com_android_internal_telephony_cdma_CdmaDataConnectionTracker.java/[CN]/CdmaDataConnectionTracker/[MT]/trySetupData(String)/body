{
  if (DBG)   log("***trySetupData due to " + (reason == null ? "(unspecified)" : reason));
  if (phone.getSimulatedRadioControl() != null) {
    setState(State.CONNECTED);
    phone.notifyDataConnection(reason);
    Log.i(LOG_TAG,"(fix?) We're on the simulator; assuming data is connected");
    return true;
  }
  int psState=mCdmaPhone.mSST.getCurrentCdmaDataConnectionState();
  boolean roaming=phone.getServiceState().getRoaming();
  boolean desiredPowerState=mCdmaPhone.mSST.getDesiredPowerState();
  if ((state == State.IDLE || state == State.SCANNING) && (psState == ServiceState.RADIO_TECHNOLOGY_1xRTT || psState == ServiceState.RADIO_TECHNOLOGY_EVDO_0 || psState == ServiceState.RADIO_TECHNOLOGY_EVDO_A) && ((phone.mCM.getRadioState() == CommandsInterface.RadioState.NV_READY) || mCdmaPhone.mRuimRecords.getRecordsLoaded())&& (mCdmaPhone.mSST.isConcurrentVoiceAndData() || phone.getState() == Phone.State.IDLE)&& isDataAllowed()&& desiredPowerState) {
    return setupData(reason);
  }
 else {
    if (DBG) {
      log("trySetupData: Not ready for data: " + " dataState=" + state + " PS state="+ psState+ " radio state="+ phone.mCM.getRadioState()+ " ruim="+ mCdmaPhone.mRuimRecords.getRecordsLoaded()+ " concurrentVoice&Data="+ mCdmaPhone.mSST.isConcurrentVoiceAndData()+ " phoneState="+ phone.getState()+ " dataEnabled="+ getAnyDataEnabled()+ " roaming="+ roaming+ " dataOnRoamingEnable="+ getDataOnRoamingEnabled()+ " desiredPowerState="+ desiredPowerState);
    }
    return false;
  }
}
