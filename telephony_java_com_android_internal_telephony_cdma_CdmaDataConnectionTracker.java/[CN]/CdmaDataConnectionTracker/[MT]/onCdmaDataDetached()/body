{
  if (state == State.CONNECTED) {
    startNetStatPoll();
    phone.notifyDataConnection(Phone.REASON_CDMA_DATA_DETACHED);
  }
 else {
    if (state == State.FAILED) {
      cleanUpConnection(false,Phone.REASON_CDMA_DATA_DETACHED);
      nextReconnectDelay=RECONNECT_DELAY_INITIAL_MILLIS;
      CdmaCellLocation loc=(CdmaCellLocation)(phone.getCellLocation());
      int bsid=(loc != null) ? loc.getBaseStationId() : -1;
      EventLog.List val=new EventLog.List(bsid,TelephonyManager.getDefault().getNetworkType());
      EventLog.writeEvent(TelephonyEventLog.EVENT_LOG_CDMA_DATA_SETUP_FAILED,val);
    }
    trySetupData(Phone.REASON_CDMA_DATA_DETACHED);
  }
}
