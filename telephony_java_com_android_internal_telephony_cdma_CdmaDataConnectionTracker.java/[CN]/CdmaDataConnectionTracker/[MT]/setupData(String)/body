{
  CdmaDataConnection conn=findFreeDataConnection();
  if (conn == null) {
    if (DBG)     log("setupData: No free CdmaDataConnection found!");
    return false;
  }
  mActiveDataConnection=conn;
  String[] types;
  if (mRequestedApnType.equals(Phone.APN_TYPE_DUN)) {
    types=new String[1];
    types[0]=Phone.APN_TYPE_DUN;
  }
 else {
    types=mDefaultApnTypes;
  }
  mActiveApn=new ApnSetting(0,"","","","","","","","","","",0,types,"IP","IP");
  Message msg=obtainMessage();
  msg.what=EVENT_DATA_SETUP_COMPLETE;
  msg.obj=reason;
  conn.connect(msg,mActiveApn);
  setState(State.INITING);
  phone.notifyDataConnection(reason);
  return true;
}
