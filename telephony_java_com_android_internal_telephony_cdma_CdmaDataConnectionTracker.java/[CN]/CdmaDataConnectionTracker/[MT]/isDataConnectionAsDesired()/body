{
  boolean roaming=phone.getServiceState().getRoaming();
  if (((phone.mCM.getRadioState() == CommandsInterface.RadioState.NV_READY) || ((CDMAPhone)phone).mRuimRecords.getRecordsLoaded()) && ((CDMAPhone)phone).mSST.getCurrentCdmaDataConnectionState() == ServiceState.STATE_IN_SERVICE && (!roaming || getDataOnRoamingEnabled()) && !mIsWifiConnected) {
    return (state == State.CONNECTED);
  }
  return true;
}
