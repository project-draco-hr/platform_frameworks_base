{
  if (position == RecyclerView.NO_POSITION) {
    if (DEBUG)     Log.d(TAG,"Ignoring toggle for element with no position.");
    return;
  }
  if (DEBUG)   Log.d(TAG,"Handling long press on view: " + position);
  boolean nextState=!mSelection.contains(position);
  if (notifyBeforeItemStateChange(position,nextState)) {
    boolean selected=mSelection.flip(position);
    notifyItemStateChanged(position,selected);
    if (DEBUG)     Log.d(TAG,"Selection after long press: " + mSelection);
  }
 else {
    Log.i(TAG,"Selection change cancelled by listener.");
  }
}
