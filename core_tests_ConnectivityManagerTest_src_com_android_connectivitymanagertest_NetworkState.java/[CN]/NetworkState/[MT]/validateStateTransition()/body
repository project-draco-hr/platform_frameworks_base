{
  Log.v(LOG_TAG,"print state depository: " + printStates());
  if (mTransitionDirection == DO_NOTHING) {
    if (mStateDepository.isEmpty()) {
      Log.v(LOG_TAG,"no state is recorded");
      mReason="no state is recorded.";
      return false;
    }
 else     if (mStateDepository.size() > 1) {
      for (int i=0; i < mStateDepository.size(); i++) {
        if (mStateDepository.get(i) != mTransitionTarget) {
          Log.v(LOG_TAG,"state changed.");
          mReason="Unexpected state change";
          return false;
        }
      }
    }
 else     if (mStateDepository.get(0) != mTransitionTarget) {
      Log.v(LOG_TAG,mTransitionTarget + " is expected, but it is " + mStateDepository.get(0));
      mReason=mTransitionTarget + " is expected, but it is " + mStateDepository.get(0);
      return false;
    }
    return true;
  }
 else   if (mTransitionDirection == TO_CONNECTION) {
    Log.v(LOG_TAG,"transition to CONNECTED");
    return transitToConnection();
  }
 else {
    Log.v(LOG_TAG,"transition to DISCONNECTED");
    return transitToDisconnection();
  }
}
