{
  if (expected == actual) {
    return true;
  }
 else   if (expected == null || actual == null || expected.size() != actual.size()) {
    return false;
  }
  for (  Entry<String,Object> entry : expected.valueSet()) {
    final String key=entry.getKey();
    final Object value=entry.getValue();
    if (!actual.containsKey(key)) {
      return false;
    }
    final Object actualValue=actual.get(key);
    if (value instanceof byte[]) {
      if (!Arrays.equals((byte[])value,(byte[])actualValue)) {
        byte[] e=(byte[])value;
        byte[] a=(byte[])actualValue;
        return false;
      }
    }
 else     if (!value.equals(actualValue) && !value.toString().equals(actualValue.toString())) {
      return false;
    }
  }
  return true;
}
