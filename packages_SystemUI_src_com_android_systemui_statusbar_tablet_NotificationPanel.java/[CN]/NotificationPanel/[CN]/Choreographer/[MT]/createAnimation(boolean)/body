{
  View root=findViewById(R.id.panel_root);
  Animator bgAnim=ObjectAnimator.ofInt(root.getBackground(),"alpha",mVisible ? 255 : 0,appearing ? 255 : 0);
  float start, end;
  float y=mContentParent.getTranslationY();
  if (appearing) {
    end=0;
    if (mNotificationCount == 0) {
      end+=mContentFrameMissingTranslation;
    }
    start=HYPERSPACE_OFFRAMP + end;
  }
 else {
    start=y;
    end=y + HYPERSPACE_OFFRAMP;
  }
  Animator posAnim=ObjectAnimator.ofFloat(mContentParent,"translationY",start,end);
  posAnim.setInterpolator(appearing ? new android.view.animation.DecelerateInterpolator(1.0f) : new android.view.animation.AccelerateInterpolator(1.0f));
  if (mContentAnim != null && mContentAnim.isRunning()) {
    mContentAnim.cancel();
  }
  Animator fadeAnim=ObjectAnimator.ofFloat(mContentParent,"alpha",mContentParent.getAlpha(),appearing ? 1.0f : 0.0f);
  fadeAnim.setInterpolator(appearing ? new android.view.animation.AccelerateInterpolator(2.0f) : new android.view.animation.DecelerateInterpolator(2.0f));
  mContentAnim=new AnimatorSet();
  mContentAnim.play(fadeAnim).with(bgAnim).with(posAnim);
  mContentAnim.setDuration((DEBUG ? 10 : 1) * (appearing ? OPEN_DURATION : CLOSE_DURATION));
  mContentAnim.addListener(this);
}
