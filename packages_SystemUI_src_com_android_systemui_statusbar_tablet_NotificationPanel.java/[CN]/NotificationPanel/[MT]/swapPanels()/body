{
  final View toShow, toHide;
  if (mSettingsView == null) {
    addSettingsView();
    toShow=mSettingsView;
    toHide=mNotificationScroller;
  }
 else {
    toShow=mNotificationScroller;
    toHide=mSettingsView;
  }
  Animator a=ObjectAnimator.ofFloat(toHide,"alpha",1f,0f).setDuration(PANEL_FADE_DURATION);
  a.addListener(new AnimatorListenerAdapter(){
    @Override public void onAnimationEnd(    Animator _a){
      toHide.setVisibility(View.GONE);
      toShow.setVisibility(View.VISIBLE);
      ObjectAnimator.ofFloat(toShow,"alpha",0f,1f).setDuration(PANEL_FADE_DURATION).start();
      if (toHide == mSettingsView) {
        removeSettingsView();
      }
      updatePanelModeButtons();
    }
  }
);
  a.start();
}
