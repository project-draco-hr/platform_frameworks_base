{
  mElementVertex=mRS.elementGetPredefined(RenderScript.ElementPredefined.NORM_ST_XYZ_F32);
  mElementIndex=mRS.elementGetPredefined(RenderScript.ElementPredefined.INDEX_16);
  mRS.triangleMeshBegin(mElementVertex,mElementIndex);
  mFSM=new FilmStripMesh();
  mFSM.init(mRS);
  mMesh=mRS.triangleMeshCreate();
  mMesh.setName("mesh");
  initPFS();
  initSamplers();
  initPF();
  initPV();
  mPFImages.bindSampler(mSampler,0);
  Log.e("rs","Done loading named");
  mRS.scriptCBegin();
  mRS.scriptCSetClearColor(0.0f,0.0f,0.0f,1.0f);
  mRS.scriptCSetScript(mRes,R.raw.filmstrip);
  mRS.scriptCSetRoot(true);
  mScriptStrip=mRS.scriptCCreate();
  mAllocPos=mRS.allocationCreatePredefSized(RenderScript.ElementPredefined.USER_FLOAT,mBufferPos.length);
  loadImages();
  initState();
  mPVA=new ProgramVertexAlloc(mRS);
  mPVBackground.bindAllocation(0,mPVA.mAlloc);
  mPVImages.bindAllocation(0,mPVA.mAlloc);
  mPVA.setupProjectionNormalized(320,480);
  mScriptStrip.bindAllocation(mAllocIDs,0);
  mScriptStrip.bindAllocation(mAllocPos,1);
  mScriptStrip.bindAllocation(mAllocState,2);
  mScriptStrip.bindAllocation(mPVA.mAlloc,3);
  setFilmStripPosition(0,0);
  mRS.contextBindRootScript(mScriptStrip);
}
