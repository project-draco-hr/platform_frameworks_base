{
switch (msg.what) {
case DO_CREATE_SESSION:
{
      SomeArgs args=(SomeArgs)msg.obj;
      InputChannel channel=(InputChannel)args.arg1;
      ITvInputSessionCallback cb=(ITvInputSessionCallback)args.arg2;
      String inputId=(String)args.arg3;
      try {
        Session sessionImpl=onCreateSession(inputId);
        if (sessionImpl == null) {
          cb.onSessionCreated(null);
        }
 else {
          sessionImpl.setSessionCallback(cb);
          ITvInputSession stub=new ITvInputSessionWrapper(TvInputService.this,sessionImpl,channel);
          cb.onSessionCreated(stub);
        }
      }
 catch (      RemoteException e) {
        Log.e(TAG,"error in onSessionCreated");
      }
      args.recycle();
      return;
    }
case DO_ADD_TV_INPUT_FROM_HARDWARE:
{
    TvInputHardwareInfo hardwareInfo=(TvInputHardwareInfo)msg.obj;
    TvInputInfo inputInfo=onHardwareAdded(hardwareInfo);
    if (inputInfo != null) {
      broadcastAddTvInput(inputInfo);
    }
    return;
  }
case DO_REMOVE_TV_INPUT_FROM_HARDWARE:
{
  int deviceId=msg.arg1;
  String inputId=onHardwareRemoved(deviceId);
  if (inputId != null) {
    broadcastRemoveTvInput(inputId);
  }
  return;
}
default :
{
Log.w(TAG,"Unhandled message code: " + msg.what);
return;
}
}
}
