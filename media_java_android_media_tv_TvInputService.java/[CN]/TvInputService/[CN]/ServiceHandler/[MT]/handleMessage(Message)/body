{
switch (msg.what) {
case DO_CREATE_SESSION:
{
      SomeArgs args=(SomeArgs)msg.obj;
      InputChannel channel=(InputChannel)args.arg1;
      ITvInputSessionCallback cb=(ITvInputSessionCallback)args.arg2;
      try {
        Session sessionImpl=onCreateSession();
        if (sessionImpl == null) {
          cb.onSessionCreated(null);
        }
 else {
          sessionImpl.setSessionCallback(cb);
          ITvInputSession stub=new ITvInputSessionWrapper(TvInputService.this,sessionImpl,channel);
          cb.onSessionCreated(stub);
        }
      }
 catch (      RemoteException e) {
        Log.e(TAG,"error in onSessionCreated");
      }
      args.recycle();
      return;
    }
case DO_BROADCAST_AVAILABILITY_CHANGE:
{
    boolean isAvailable=(Boolean)msg.obj;
    int n=mCallbacks.beginBroadcast();
    try {
      for (int i=0; i < n; i++) {
        mCallbacks.getBroadcastItem(i).onAvailabilityChanged(mId,isAvailable);
      }
    }
 catch (    RemoteException e) {
      Log.e(TAG,"Unexpected exception",e);
    }
 finally {
      mCallbacks.finishBroadcast();
    }
    return;
  }
default :
{
  Log.w(TAG,"Unhandled message code: " + msg.what);
  return;
}
}
}
