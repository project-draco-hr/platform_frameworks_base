{
  if (mRsTexture != null) {
    return mRsTexture;
  }
  String shortName=mFileName.substring(mFileName.lastIndexOf('/') + 1);
  InputStream is=null;
  try {
    if (!mLoadFromSD) {
      is=res.getAssets().open(mFileDir + shortName);
    }
 else {
      File f=new File(mFileDir + shortName);
      is=new BufferedInputStream(new FileInputStream(f));
    }
  }
 catch (  IOException e) {
    Log.e("Texture2D","Could not open image file " + shortName + " Message: "+ e.getMessage());
    return null;
  }
  Bitmap b=BitmapFactory.decodeStream(is);
  mRsTexture=Allocation.createFromBitmap(rs,b,Allocation.MipmapControl.MIPMAP_ON_SYNC_TO_TEXTURE,Allocation.USAGE_GRAPHICS_TEXTURE);
  return mRsTexture;
}
