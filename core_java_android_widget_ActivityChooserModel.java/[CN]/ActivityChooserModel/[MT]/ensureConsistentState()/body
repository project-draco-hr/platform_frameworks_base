{
  boolean stateChanged=loadActivitiesIfNeeded();
  stateChanged|=readHistoricalDataIfNeeded();
  pruneExcessiveHistoricalRecordsIfNeeded();
  if (stateChanged) {
    sortActivitiesIfNeeded();
    notifyChanged();
  }
}
