{
  mNtpServer=getNtpServerAddress();
  if (mNtpServer == null) {
    Slog.e(TAG,"NTP server address not found, not syncing to NTP time");
    return;
  }
  registerForTelephonyIntents();
  registerForAlarms();
  registerForConnectivityIntents();
  mThread=new HandlerThread(TAG);
  mThread.start();
  mHandler=new MyHandler(mThread.getLooper());
  mHandler.obtainMessage(EVENT_POLL_NETWORK_TIME).sendToTarget();
  mSettingsObserver=new SettingsObserver(mHandler,EVENT_AUTO_TIME_CHANGED);
  mSettingsObserver.observe(mContext);
}
