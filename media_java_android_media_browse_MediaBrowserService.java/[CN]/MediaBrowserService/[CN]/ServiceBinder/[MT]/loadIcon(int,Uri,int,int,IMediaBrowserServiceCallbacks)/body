{
  if (uri == null) {
    throw new IllegalStateException("loadIcon sent null list for uri " + uri);
  }
  mHandler.post(new Runnable(){
    @Override public void run(){
      final ConnectionRecord connection=mConnections.get(callbacks.asBinder());
      if (connection == null) {
        if (DBG) {
          Log.d(TAG,"Not loading bitmap for invalid connection. uri=" + uri);
        }
        return;
      }
      final Result<Bitmap> result=new Result<Bitmap>(uri){
        @Override void onResultSent(        Bitmap bitmap){
          if (mConnections.get(connection.callbacks.asBinder()) != connection) {
            if (DBG) {
              Log.d(TAG,"Not sending onLoadIcon result for connection" + " that has been disconnected. pkg=" + connection.pkg + " uri="+ uri);
            }
            return;
          }
          try {
            callbacks.onLoadIcon(seq,bitmap);
          }
 catch (          RemoteException e) {
            Log.w(TAG,"RemoteException in calling onLoadIcon",e);
          }
        }
      }
;
      onLoadIcon(uri,width,height,result);
      if (!result.isDone()) {
        throw new IllegalStateException("onLoadIcon must call detach() or" + " sendResult() before returning for package=" + connection.pkg + " uri="+ uri);
      }
    }
  }
);
}
