{
  mPowerManager=(PowerManager)mContext.getSystemService(Context.POWER_SERVICE);
  mScreenOffTime=mPowerManager.isScreenOn() ? -1 : SystemClock.elapsedRealtime();
  mWarnings=new PowerNotificationWarnings(mContext,getComponent(PhoneStatusBar.class));
  ContentObserver obs=new ContentObserver(mHandler){
    @Override public void onChange(    boolean selfChange){
      updateBatteryWarningLevels();
    }
  }
;
  final ContentResolver resolver=mContext.getContentResolver();
  resolver.registerContentObserver(Settings.Global.getUriFor(Settings.Global.LOW_POWER_MODE_TRIGGER_LEVEL),false,obs,UserHandle.USER_ALL);
  updateBatteryWarningLevels();
  mReceiver.init();
}
