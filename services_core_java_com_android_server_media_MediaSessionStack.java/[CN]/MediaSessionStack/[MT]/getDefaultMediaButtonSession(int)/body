{
  if (mGlobalPrioritySession != null && mGlobalPrioritySession.isActive()) {
    return mGlobalPrioritySession;
  }
  if (mCachedButtonReceiver != null) {
    return mCachedButtonReceiver;
  }
  ArrayList<MediaSessionRecord> records=getPriorityListLocked(true,MediaSession.FLAG_HANDLES_MEDIA_BUTTONS,userId);
  if (records.size() > 0) {
    mCachedButtonReceiver=records.get(0);
  }
  return mCachedButtonReceiver;
}
