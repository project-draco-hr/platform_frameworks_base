{
  if (!"content".equals(uri.getScheme())) {
    return;
  }
  long ident=Binder.clearCallingIdentity();
  try {
    mAm.checkGrantUriPermission(srcUid,null,ContentProvider.getUriWithoutUserId(uri),mode,ContentProvider.getUserIdFromUri(uri,UserHandle.getUserId(srcUid)));
    int sourceUserId=ContentProvider.getUserIdFromUri(uri,mUser);
    uri=ContentProvider.getUriWithoutUserId(uri);
    mAm.grantUriPermissionFromOwner(mPermissionOwner,srcUid,destPkg,uri,Intent.FLAG_GRANT_READ_URI_PERMISSION,sourceUserId,mUser);
  }
 catch (  RemoteException e) {
  }
catch (  SecurityException e) {
    Slog.w(TAG,"Can't propagate permission",e);
  }
 finally {
    Binder.restoreCallingIdentity(ident);
  }
}
