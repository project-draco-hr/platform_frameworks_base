{
  Bundle assistData=assistDataForActivity.data.getBundle(VoiceInteractionSession.KEY_DATA);
  AssistStructure structure=assistDataForActivity.data.getParcelable(VoiceInteractionSession.KEY_STRUCTURE);
  AssistContent content=assistDataForActivity.data.getParcelable(VoiceInteractionSession.KEY_CONTENT);
  int uid=assistDataForActivity.data.getInt(Intent.EXTRA_ASSIST_UID,-1);
  if (uid >= 0 && content != null) {
    Intent intent=content.getIntent();
    if (intent != null) {
      ClipData data=intent.getClipData();
      if (data != null && Intent.isAccessUriMode(intent.getFlags())) {
        grantClipDataPermissions(data,intent.getFlags(),uid,mCallingUid,mSessionComponentName.getPackageName());
      }
    }
    ClipData data=content.getClipData();
    if (data != null) {
      grantClipDataPermissions(data,Intent.FLAG_GRANT_READ_URI_PERMISSION,uid,mCallingUid,mSessionComponentName.getPackageName());
    }
  }
  try {
    mSession.handleAssist(assistData,structure,content,assistDataForActivity.activityIndex,assistDataForActivity.activityCount);
  }
 catch (  RemoteException e) {
  }
}
