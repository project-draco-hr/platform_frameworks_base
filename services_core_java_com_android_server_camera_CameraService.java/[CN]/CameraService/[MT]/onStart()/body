{
  mUserManager=UserManager.get(mContext);
  if (mUserManager == null) {
    throw new IllegalStateException("UserManagerService must start before CameraService!");
  }
  IntentFilter filter=new IntentFilter();
  filter.addAction(Intent.ACTION_USER_ADDED);
  filter.addAction(Intent.ACTION_USER_REMOVED);
  filter.addAction(Intent.ACTION_USER_INFO_CHANGED);
  filter.addAction(Intent.ACTION_MANAGED_PROFILE_ADDED);
  filter.addAction(Intent.ACTION_MANAGED_PROFILE_REMOVED);
  mContext.registerReceiver(mIntentReceiver,filter);
  publishBinderService(CAMERA_SERVICE_PROXY_BINDER_NAME,mCameraServiceProxy);
}
