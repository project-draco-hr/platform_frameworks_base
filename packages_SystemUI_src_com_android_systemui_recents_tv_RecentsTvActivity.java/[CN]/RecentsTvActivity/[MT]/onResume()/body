{
  super.onResume();
  mPipRecentsOverlayManager.onRecentsResumed();
  updateRecentsTasks();
  RecentsConfiguration config=Recents.getConfiguration();
  RecentsActivityLaunchState launchState=config.getLaunchState();
  boolean wasLaunchedByAm=!launchState.launchedFromHome && !launchState.launchedFromApp;
  if (wasLaunchedByAm) {
    EventBus.getDefault().send(new EnterRecentsWindowAnimationCompletedEvent());
  }
  SystemServicesProxy ssp=Recents.getSystemServices();
  EventBus.getDefault().send(new RecentsVisibilityChangedEvent(this,true));
  if (mTaskStackHorizontalGridView.getStack().getTaskCount() > 1 && !mLaunchedFromHome) {
    mTaskStackHorizontalGridView.setSelectedPosition(1);
  }
 else {
    mTaskStackHorizontalGridView.setSelectedPosition(0);
  }
  mRecentsView.getViewTreeObserver().addOnPreDrawListener(this);
  View dismissPlaceholder=findViewById(R.id.dismiss_placeholder);
  mTalkBackEnabled=ssp.isTouchExplorationEnabled();
  if (mTalkBackEnabled) {
    dismissPlaceholder.setAccessibilityTraversalBefore(R.id.task_list);
    dismissPlaceholder.setAccessibilityTraversalAfter(R.id.dismiss_placeholder);
    mTaskStackHorizontalGridView.setAccessibilityTraversalAfter(R.id.dismiss_placeholder);
    mTaskStackHorizontalGridView.setAccessibilityTraversalBefore(R.id.pip);
    dismissPlaceholder.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        mTaskStackHorizontalGridView.requestFocus();
        mTaskStackHorizontalGridView.sendAccessibilityEvent(AccessibilityEvent.TYPE_VIEW_FOCUSED);
        Task focusedTask=mTaskStackHorizontalGridView.getFocusedTask();
        if (focusedTask != null) {
          mTaskStackViewAdapter.removeTask(focusedTask);
          EventBus.getDefault().send(new DeleteTaskDataEvent(focusedTask));
        }
      }
    }
);
  }
  if (mPipManager.isPipShown()) {
    if (mTalkBackEnabled) {
      mPipView.setVisibility(View.VISIBLE);
    }
 else {
      mPipView.setVisibility(View.GONE);
    }
    mPipRecentsOverlayManager.requestFocus(mTaskStackViewAdapter.getItemCount() > 0);
  }
 else {
    mPipView.setVisibility(View.GONE);
    mPipRecentsOverlayManager.removePipRecentsOverlayView();
  }
}
