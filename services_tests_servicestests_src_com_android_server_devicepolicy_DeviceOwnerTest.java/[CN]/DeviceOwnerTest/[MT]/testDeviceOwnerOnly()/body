{
  DeviceOwner out=new DeviceOwner(null,mOutputStreamForTest);
  out.setDeviceOwner("some.device.owner.package","owner");
  out.writeOwnerFile();
  mInputStreamForTest=new ByteArrayInputStream(mOutputStreamForTest.toByteArray());
  DeviceOwner in=new DeviceOwner(mInputStreamForTest,null);
  in.readOwnerFile();
  assertEquals("some.device.owner.package",in.getDeviceOwnerPackageName());
  assertEquals("owner",in.getDeviceOwnerName());
  assertNull(in.getProfileOwnerPackageName(1));
}
