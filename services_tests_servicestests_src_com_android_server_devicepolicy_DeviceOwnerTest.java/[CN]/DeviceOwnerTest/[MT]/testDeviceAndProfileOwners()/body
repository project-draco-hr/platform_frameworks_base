{
  DeviceOwner out=new DeviceOwner(null,mOutputStreamForTest);
  out.setDeviceOwner("some.device.owner.package","owner");
  out.setProfileOwner("some.profile.owner.package","some-company",1);
  out.setProfileOwner("some.other.profile.owner","some-other-company",2);
  out.writeOwnerFile();
  mInputStreamForTest=new ByteArrayInputStream(mOutputStreamForTest.toByteArray());
  DeviceOwner in=new DeviceOwner(mInputStreamForTest,null);
  in.readOwnerFile();
  assertEquals("some.device.owner.package",in.getDeviceOwnerPackageName());
  assertEquals("owner",in.getDeviceOwnerName());
  assertEquals("some.profile.owner.package",in.getProfileOwnerPackageName(1));
  assertEquals("some-company",in.getProfileOwnerName(1));
  assertEquals("some.other.profile.owner",in.getProfileOwnerPackageName(2));
  assertEquals("some-other-company",in.getProfileOwnerName(2));
}
