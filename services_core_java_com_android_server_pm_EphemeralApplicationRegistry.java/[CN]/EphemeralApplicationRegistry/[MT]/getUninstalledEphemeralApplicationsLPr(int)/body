{
  List<UninstalledEphemeralAppState> uninstalledAppStates=getUninstalledEphemeralAppStatesLPr(userId);
  if (uninstalledAppStates == null || uninstalledAppStates.isEmpty()) {
    return Collections.emptyList();
  }
  List<EphemeralApplicationInfo> uninstalledApps=new ArrayList<>();
  final int stateCount=uninstalledAppStates.size();
  for (int i=0; i < stateCount; i++) {
    UninstalledEphemeralAppState uninstalledAppState=uninstalledAppStates.get(i);
    uninstalledApps.add(uninstalledAppState.mEphemeralApplicationInfo);
  }
  return uninstalledApps;
}
