{
  if (mUninstalledEphemeralApps != null) {
    List<UninstalledEphemeralAppState> uninstalledAppStates=mUninstalledEphemeralApps.get(userId);
    if (uninstalledAppStates != null) {
      final int appCount=uninstalledAppStates.size();
      for (int i=0; i < appCount; i++) {
        UninstalledEphemeralAppState uninstalledAppState=uninstalledAppStates.get(i);
        if (uninstalledAppState.mEphemeralApplicationInfo.getPackageName().equals(packageName)) {
          return uninstalledAppState.mEphemeralApplicationInfo;
        }
      }
    }
  }
  File metadataFile=new File(getEphemeralApplicationDir(packageName,userId),EPHEMERAL_APP_METADATA_FILE);
  UninstalledEphemeralAppState uninstalledAppState=parseMetadataFile(metadataFile);
  if (uninstalledAppState == null) {
    return null;
  }
  return uninstalledAppState.mEphemeralApplicationInfo;
}
