{
  byte[] result=null;
  if (inBuffer != null) {
    DrmConvertedStatus convertedStatus=null;
    try {
      if (size != inBuffer.length) {
        byte[] buf=new byte[size];
        System.arraycopy(inBuffer,0,buf,0,size);
        convertedStatus=mDrmClient.convertData(mConvertSessionId,buf);
      }
 else {
        convertedStatus=mDrmClient.convertData(mConvertSessionId,inBuffer);
      }
      if (convertedStatus != null && convertedStatus.statusCode == DrmConvertedStatus.STATUS_OK && convertedStatus.convertedData != null) {
        result=convertedStatus.convertedData;
      }
    }
 catch (    IllegalArgumentException e) {
      Log.w(TAG,"Buffer with data to convert is illegal. Convertsession: " + mConvertSessionId,e);
    }
catch (    IllegalStateException e) {
      Log.w(TAG,"Could not convert data. Convertsession: " + mConvertSessionId,e);
    }
  }
 else {
    throw new IllegalArgumentException("Parameter inBuffer is null");
  }
  return result;
}
