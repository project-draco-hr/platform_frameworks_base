{
  final int diff=Math.abs(first - second);
  final int midpoint=max / 2;
  return (diff > midpoint) ? (max - diff) : diff;
}
