{
  final int id;
  final int degrees=getDegreesFromXY(x,y,true);
  if (degrees != -1) {
    final int snapDegrees=snapOnly30s(degrees,0) % 360;
    if (mShowHours) {
      final int hour=getHourForDegrees(snapDegrees,mIsOnInnerCircle);
      id=makeId(TYPE_HOUR,hour);
    }
 else {
      final int current=getCurrentMinute();
      final int touched=getMinuteForDegrees(degrees);
      final int snapped=getMinuteForDegrees(snapDegrees);
      final int minute;
      if (Math.abs(current - touched) < Math.abs(snapped - touched)) {
        minute=current;
      }
 else {
        minute=snapped;
      }
      id=makeId(TYPE_MINUTE,minute);
    }
  }
 else {
    id=INVALID_ID;
  }
  return id;
}
