{
  final int stepSize;
  final int initialStep;
  final int maxValue;
  final int minValue;
  if (mShowHours) {
    stepSize=1;
    final int currentHour24=getCurrentHour();
    if (mIs24HourMode) {
      initialStep=currentHour24;
      minValue=0;
      maxValue=23;
    }
 else {
      initialStep=hour24To12(currentHour24);
      minValue=1;
      maxValue=12;
    }
  }
 else {
    stepSize=5;
    initialStep=getCurrentMinute() / stepSize;
    minValue=0;
    maxValue=55;
  }
  final int nextValue=(initialStep + step) * stepSize;
  final int clampedValue=MathUtils.constrain(nextValue,minValue,maxValue);
  if (mShowHours) {
    setCurrentHour(clampedValue);
  }
 else {
    setCurrentMinute(clampedValue);
  }
}
