{
  int measuredWidth=MeasureSpec.getSize(widthMeasureSpec);
  int widthMode=MeasureSpec.getMode(widthMeasureSpec);
  int measuredHeight=MeasureSpec.getSize(heightMeasureSpec);
  int heightMode=MeasureSpec.getMode(heightMeasureSpec);
  int minDimension=Math.min(measuredWidth,measuredHeight);
  super.onMeasure(MeasureSpec.makeMeasureSpec(minDimension,widthMode),MeasureSpec.makeMeasureSpec(minDimension,heightMode));
}
