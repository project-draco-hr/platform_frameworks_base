{
  if (mName.startsWith("/")) {
    mListener.onEnd(mName.substring(1));
  }
 else   if (mName.length() > 0 && Character.isDigit(mName.charAt(0))) {
    try {
      long timestampMs=WebVttParser.parseTimestampMs(mName);
      mListener.onTimeStamp(timestampMs);
    }
 catch (    NumberFormatException e) {
      Log.d(TAG,"invalid timestamp tag: <" + mName + ">");
    }
  }
 else {
    mAnnotation=mAnnotation.replaceAll("\\s+"," ");
    if (mAnnotation.startsWith(" ")) {
      mAnnotation=mAnnotation.substring(1);
    }
    if (mAnnotation.endsWith(" ")) {
      mAnnotation=mAnnotation.substring(0,mAnnotation.length() - 1);
    }
    String[] classes=null;
    int dotAt=mName.indexOf('.');
    if (dotAt >= 0) {
      classes=mName.substring(dotAt + 1).split("\\.");
      mName=mName.substring(0,dotAt);
    }
    mListener.onStart(mName,classes,mAnnotation);
  }
}
