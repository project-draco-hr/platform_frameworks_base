{
  if (start == 0 && text instanceof String && end == text.length()) {
    return breakText((String)text,measureForwards,maxWidth,measuredWidth);
  }
  char[] buf=TemporaryBuffer.obtain(end - start);
  int result;
  TextUtils.getChars(text,start,end,buf,0);
  if (measureForwards) {
    result=breakText(buf,0,end - start,maxWidth,measuredWidth);
  }
 else {
    result=breakText(buf,0,-(end - start),maxWidth,measuredWidth);
  }
  TemporaryBuffer.recycle(buf);
  return result;
}
