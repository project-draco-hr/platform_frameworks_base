{
  DrmInfoEvent info=(DrmInfoEvent)msg.obj;
  DrmErrorEvent error=null;
  int uniqueId;
  int eventType;
  String message;
switch (msg.what) {
case InfoHandler.INFO_EVENT_TYPE:
    uniqueId=info.getUniqueId();
  eventType=info.getType();
message=info.getMessage();
switch (eventType) {
case DrmInfoEvent.TYPE_REMOVE_RIGHTS:
{
  try {
    DrmUtils.removeFile(message);
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  break;
}
case DrmInfoEvent.TYPE_ALREADY_REGISTERED_BY_ANOTHER_ACCOUNT:
case DrmInfoEvent.TYPE_RIGHTS_INSTALLED:
case DrmInfoEvent.TYPE_WAIT_FOR_RIGHTS:
case DrmInfoEvent.TYPE_ACCOUNT_ALREADY_REGISTERED:
case DrmInfoEvent.TYPE_RIGHTS_REMOVED:
{
break;
}
default :
info=null;
error=new DrmErrorEvent(uniqueId,eventType,message);
break;
}
if (null != mOnInfoListener && null != info) {
mOnInfoListener.onInfo(DrmManagerClient.this,info);
}
if (null != mOnErrorListener && null != error) {
mOnErrorListener.onError(DrmManagerClient.this,error);
}
return;
default :
Log.e(TAG,"Unknown message type " + msg.what);
return;
}
}
