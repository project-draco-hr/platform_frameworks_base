{
  String scheme=uri.getScheme();
  if (null == scheme || scheme.equals("file")) {
    return uri.getPath();
  }
  String[] projection=new String[]{MediaStore.MediaColumns.DATA};
  Cursor cursor=mContext.getContentResolver().query(uri,projection,null,null,null);
  if (null == cursor || 0 == cursor.getCount() || !cursor.moveToFirst()) {
    throw new IllegalArgumentException("Given Uri could not be found in media store");
  }
  int pathIndex=cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA);
  String path=cursor.getString(pathIndex);
  cursor.close();
  return path;
}
