{
  if (mVelocityTracker == null) {
    mVelocityTracker=VelocityTracker.obtain();
  }
  mVelocityTracker.addMovement(ev);
  final int action=ev.getActionMasked();
switch (action) {
case MotionEvent.ACTION_CANCEL:
case MotionEvent.ACTION_UP:
    resetTouch();
  break;
case MotionEvent.ACTION_MOVE:
final int count=ev.getPointerCount();
for (int i=0; i < count; i++) {
final float x=ev.getX(i);
final float y=ev.getY(i);
if ((isInDragHandle(x,y) || (isInChallengeView(x,y) && mScrollState == SCROLL_STATE_SETTLING)) && mActivePointerId == INVALID_POINTER) {
  mActivePointerId=ev.getPointerId(i);
  mLastTouchY=y;
  mDragging=true;
}
 else if (isInChallengeView(x,y)) {
  mBlockDrag=true;
}
}
break;
}
if (mBlockDrag) {
mActivePointerId=INVALID_POINTER;
mDragging=false;
}
return mDragging;
}
