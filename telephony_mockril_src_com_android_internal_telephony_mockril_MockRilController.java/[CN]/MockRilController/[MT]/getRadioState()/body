{
  if (!sendCtrlCommand(RilCtrlCmds.CTRL_CMD_GET_RADIO_STATE,0,0,null)) {
    return -1;
  }
  Msg response=getCtrlResponse();
  if (response == null) {
    Log.v(TAG,"failed to get response");
    return -1;
  }
  response.printHeader(TAG);
  RilCtrlCmds.CtrlRspRadioState resp=response.getDataAs(RilCtrlCmds.CtrlRspRadioState.class);
  int state=resp.getState();
  if ((state >= RilCmds.RADIOSTATE_OFF) && (state <= RilCmds.RADIOSTATE_NV_READY))   return state;
 else   return -1;
}
