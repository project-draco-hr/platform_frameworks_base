{
  long curTime=SystemClock.uptimeMillis();
  Pair<Long,Integer> timing=cache.get(logMessage);
  if (shouldLogNow(timing,curTime)) {
    String log=buildMessage(logMessage,timing);
    cache.put(logMessage,new Pair<>(curTime,1));
    return log;
  }
 else {
    increaseLogCount(cache,logMessage);
  }
  return "";
}
