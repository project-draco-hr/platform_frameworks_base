{
  if (!mWifiManager.isWifiEnabled()) {
    log("reEnableNetworks: enable Wifi");
    mWifiManager.setWifiEnabled(true);
    sleep(ConnectivityManagerTestActivity.SHORT_TIMEOUT,"interruped while waiting for wifi to be enabled");
  }
  for (  WifiConfiguration wifiConfig : enabledWifiConfig) {
    log("recover wifi configuration: " + wifiConfig.toString());
    int netId=mWifiManager.addNetwork(wifiConfig);
    if (wifiConfig.status == Status.CURRENT) {
      mWifiManager.enableNetwork(netId,true);
      mWifiManager.reconnect();
      sleep(ConnectivityManagerTestActivity.SHORT_TIMEOUT,String.format("interruped while connecting to %s",wifiConfig.SSID));
      log("re-connecting to network " + wifiConfig.SSID);
    }
  }
  List<WifiConfiguration> wifiConfigurations=mWifiManager.getConfiguredNetworks();
  for (  WifiConfiguration wifiConfig : wifiConfigurations) {
    if (wifiConfig.status == Status.DISABLED) {
      mWifiManager.enableNetwork(wifiConfig.networkId,false);
    }
  }
}
