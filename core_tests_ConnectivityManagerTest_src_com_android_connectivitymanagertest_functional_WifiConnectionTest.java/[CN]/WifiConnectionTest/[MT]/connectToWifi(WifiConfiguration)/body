{
  assertTrue("failed to connect to " + config.SSID,mAct.connectToWifiWithConfiguration(config));
  assertTrue(mAct.waitForNetworkState(ConnectivityManager.TYPE_WIFI,State.CONNECTED,2 * ConnectivityManagerTestActivity.LONG_TIMEOUT));
  assertNotNull("Wifi connection returns null",mAct.mWifiManager.getConnectionInfo());
  if (DEBUG) {
    log("config.SSID = " + config.SSID);
    log("mAct.mWifiManager.getConnectionInfo.getSSID()" + mAct.mWifiManager.getConnectionInfo().getSSID());
  }
  assertTrue(config.SSID.contains(mAct.mWifiManager.getConnectionInfo().getSSID()));
}
