{
  assertTrue("failed to connect to " + config.SSID,mAct.connectToWifiWithConfiguration(config));
  assertTrue(mAct.waitForWifiState(WifiManager.WIFI_STATE_ENABLED,ConnectivityManagerTestActivity.SHORT_TIMEOUT));
  assertTrue(mAct.waitForNetworkState(ConnectivityManager.TYPE_WIFI,State.CONNECTED,ConnectivityManagerTestActivity.LONG_TIMEOUT));
  if (DEBUG) {
    Log.v(TAG,"config.SSID = " + config.SSID);
    Log.v(TAG,"mAct.mWifiManager.getConnectionInfo.getSSID()" + mAct.mWifiManager.getConnectionInfo().getSSID());
  }
  assertTrue(config.SSID.contains(mAct.mWifiManager.getConnectionInfo().getSSID()));
  try {
    Thread.sleep(50 * 1000);
  }
 catch (  Exception e) {
    fail("interrupted while waiting for WPA_SUPPLICANT to start");
  }
}
