{
  super.onCreate(savedInstanceState);
  getWindow().requestFeature(Window.FEATURE_LEFT_ICON);
  setContentView(R.layout.media_route_chooser_dialog);
  setTitle(mRouteTypes == MediaRouter.ROUTE_TYPE_REMOTE_DISPLAY ? R.string.media_route_chooser_title_for_remote_display : R.string.media_route_chooser_title);
  getWindow().setFeatureDrawableResource(Window.FEATURE_LEFT_ICON,R.drawable.ic_media_route_off_holo_dark);
  mAdapter=new RouteAdapter(getContext());
  mListView=(ListView)findViewById(R.id.media_route_list);
  mListView.setAdapter(mAdapter);
  mListView.setOnItemClickListener(mAdapter);
  mListView.setEmptyView(findViewById(android.R.id.empty));
  mExtendedSettingsButton=(Button)findViewById(R.id.media_route_extended_settings_button);
  updateExtendedSettingsButton();
}
