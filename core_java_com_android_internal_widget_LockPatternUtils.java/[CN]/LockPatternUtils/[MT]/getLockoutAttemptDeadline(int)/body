{
  final long deadline=getLong(LOCKOUT_ATTEMPT_DEADLINE,0L,userId);
  final long timeoutMs=getLong(LOCKOUT_ATTEMPT_TIMEOUT_MS,0L,userId);
  final long now=SystemClock.elapsedRealtime();
  if (deadline < now || deadline > (now + timeoutMs)) {
    return 0L;
  }
  return deadline;
}
