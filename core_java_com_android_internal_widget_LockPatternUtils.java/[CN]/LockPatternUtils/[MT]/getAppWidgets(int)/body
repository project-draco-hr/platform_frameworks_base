{
  String appWidgetIdString=Settings.Secure.getStringForUser(mContentResolver,Settings.Secure.LOCK_SCREEN_APPWIDGET_IDS,userId);
  String delims=",";
  if (appWidgetIdString != null && appWidgetIdString.length() > 0) {
    String[] appWidgetStringIds=appWidgetIdString.split(delims);
    int[] appWidgetIds=new int[appWidgetStringIds.length];
    for (int i=0; i < appWidgetStringIds.length; i++) {
      String appWidget=appWidgetStringIds[i];
      try {
        appWidgetIds[i]=Integer.decode(appWidget);
      }
 catch (      NumberFormatException e) {
        Log.d(TAG,"Error when parsing widget id " + appWidget);
        return null;
      }
    }
    return appWidgetIds;
  }
  return new int[0];
}
