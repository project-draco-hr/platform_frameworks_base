{
  boolean hasDigit=false;
  boolean hasNonDigit=false;
  final int len=password.length();
  for (int i=0; i < len; i++) {
    if (Character.isDigit(password.charAt(i))) {
      hasDigit=true;
    }
 else {
      hasNonDigit=true;
    }
  }
switch (reqMode) {
case MODE_PASSWORD:
{
      if (!hasDigit || !hasNonDigit) {
        return MODE_UNSPECIFIED;
      }
    }
  break;
case MODE_PIN:
case MODE_PATTERN:
{
}
break;
default :
Log.w(TAG,"adjustPasswordMode: unknown mode " + reqMode);
return MODE_UNSPECIFIED;
}
if (hasNonDigit) {
if (reqMode < MODE_PASSWORD) {
reqMode=MODE_PASSWORD;
}
}
if (hasDigit) {
if (reqMode < MODE_PIN) {
reqMode=MODE_PIN;
}
}
return reqMode;
}
