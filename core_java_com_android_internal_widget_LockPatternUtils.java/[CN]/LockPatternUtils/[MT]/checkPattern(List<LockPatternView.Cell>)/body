{
  final int userId=getCurrentOrCallingUserId();
  try {
    final boolean matched=getLockSettings().checkPattern(patternToHash(pattern),userId);
    if (matched && (userId == UserHandle.USER_OWNER)) {
      KeyStore.getInstance().password(patternToString(pattern));
    }
    return matched;
  }
 catch (  RemoteException re) {
    return true;
  }
}
