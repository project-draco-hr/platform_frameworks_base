{
  if (DEBUG)   Log.d(LOG_TAG,"Test thread running");
  mRunning=true;
  int failures=0;
  float pitch=0.5f;
  mScale=new float[13];
  for (int i=0; i < 13; ++i) {
    mScale[i]=pitch;
    pitch*=SEMITONE;
  }
  try {
    initSoundPool();
    if (!TestSounds())     failures=failures + 1;
    if (!TestScales())     failures=failures + 1;
    if (!TestRates())     failures=failures + 1;
    if (!TestPriority())     failures=failures + 1;
    if (!TestPauseResume())     failures=failures + 1;
    if (!TestVolume())     failures=failures + 1;
  }
 catch (  java.lang.InterruptedException e) {
    if (DEBUG)     Log.d(LOG_TAG,"Test interrupted");
    failures=failures + 1;
  }
 finally {
    mRunning=false;
  }
  if (mSoundPool != null) {
    mSoundPool.release();
    mSoundPool=null;
  }
  if (DEBUG)   Log.d(LOG_TAG,"Test thread exit");
  if (failures == 0) {
    Log.i(LOG_TAG,"All tests passed");
  }
 else {
    Log.i(LOG_TAG,failures + " tests failed");
  }
}
