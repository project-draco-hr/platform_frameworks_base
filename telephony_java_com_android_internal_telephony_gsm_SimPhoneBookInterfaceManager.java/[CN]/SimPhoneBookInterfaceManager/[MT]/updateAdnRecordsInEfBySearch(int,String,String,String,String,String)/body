{
  if (phone.getContext().checkCallingOrSelfPermission(android.Manifest.permission.WRITE_CONTACTS) != PackageManager.PERMISSION_GRANTED) {
    throw new SecurityException("Requires android.permission.WRITE_CONTACTS permission");
  }
  if (DBG)   log("updateAdnRecordsInEfBySearch: efid=" + efid + " ("+ oldTag+ ","+ oldPhoneNumber+ ")"+ "==>"+ " ("+ newTag+ ","+ newPhoneNumber+ ")"+ " pin2="+ pin2);
synchronized (mLock) {
    checkThread();
    success=false;
    Message response=mHandler.obtainMessage(EVENT_UPDATE_DONE);
    AdnRecord oldAdn=new AdnRecord(oldTag,oldPhoneNumber);
    AdnRecord newAdn=new AdnRecord(newTag,newPhoneNumber);
    adnCache.updateAdnBySearch(efid,oldAdn,newAdn,pin2,response);
    try {
      mLock.wait();
    }
 catch (    InterruptedException e) {
      log("interrupted while trying to update by search");
    }
  }
  return success;
}
