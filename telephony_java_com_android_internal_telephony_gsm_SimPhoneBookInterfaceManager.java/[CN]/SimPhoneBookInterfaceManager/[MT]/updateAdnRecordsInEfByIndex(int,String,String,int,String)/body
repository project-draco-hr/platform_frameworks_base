{
  if (phone.getContext().checkCallingOrSelfPermission(android.Manifest.permission.WRITE_CONTACTS) != PackageManager.PERMISSION_GRANTED) {
    throw new SecurityException("Requires android.permission.WRITE_CONTACTS permission");
  }
  if (DBG)   log("updateAdnRecordsInEfByIndex: efid=" + efid + " Index="+ index+ " ==> "+ "("+ newTag+ ","+ newPhoneNumber+ ")"+ " pin2="+ pin2);
synchronized (mLock) {
    checkThread();
    success=false;
    Message response=mHandler.obtainMessage(EVENT_UPDATE_DONE);
    AdnRecord newAdn=new AdnRecord(newTag,newPhoneNumber);
    adnCache.updateAdnByIndex(efid,newAdn,index,pin2,response);
    try {
      mLock.wait();
    }
 catch (    InterruptedException e) {
      log("interrupted while trying to update by index");
    }
  }
  return success;
}
