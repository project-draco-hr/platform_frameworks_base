{
  Console.log(Constants.DebugFlags.App.SystemUIHandshake,"[RecentsService|handleMessage]",msg);
  if (msg.what == MSG_UPDATE_RECENTS_FOR_CONFIGURATION) {
    Context context=RecentsService.this;
    RecentsTaskLoader.initialize(context);
    RecentsConfiguration.reinitialize(context);
    try {
      Bundle data=msg.getData();
      Rect windowRect=(Rect)data.getParcelable("windowRect");
      Rect systemInsets=(Rect)data.getParcelable("systemInsets");
      RecentsConfiguration.getInstance().updateSystemInsets(systemInsets);
      TaskStack stack=new TaskStack(context);
      TaskStackView tsv=new TaskStackView(context,stack);
      tsv.computeRects(windowRect.width(),windowRect.height() - systemInsets.top);
      tsv.boundScroll();
      TaskViewTransform transform=tsv.getStackTransform(0);
      Rect taskRect=new Rect(transform.rect);
      data.putParcelable("taskRect",taskRect);
      Message reply=Message.obtain(null,MSG_UPDATE_RECENTS_FOR_CONFIGURATION,0,0);
      reply.setData(data);
      msg.replyTo.send(reply);
    }
 catch (    RemoteException re) {
      re.printStackTrace();
    }
  }
}
