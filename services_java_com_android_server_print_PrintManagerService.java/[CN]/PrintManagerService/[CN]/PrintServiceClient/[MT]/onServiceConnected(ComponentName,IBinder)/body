{
synchronized (mLock) {
    mInterface=IPrintService.Stub.asInterface(service);
    mServices.put(mComponentName,this);
    try {
      mInterface.asBinder().linkToDeath(this,0);
    }
 catch (    RemoteException re) {
      destroyLocked();
      return;
    }
    if (mUserId != mCurrentUserId) {
      destroyLocked();
      return;
    }
    if (mBinding || mWasConnectedAndDied) {
      mBinding=false;
      mWasConnectedAndDied=false;
      onUserStateChangedLocked();
      try {
        mInterface.setClient(this);
      }
 catch (      RemoteException re) {
        Slog.w(LOG_TAG,"Error while setting client for service: " + service,re);
      }
    }
 else {
      destroyLocked();
    }
  }
}
