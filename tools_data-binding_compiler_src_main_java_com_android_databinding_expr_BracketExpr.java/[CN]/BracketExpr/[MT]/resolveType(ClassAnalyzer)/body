{
  Class<?> targetType=getTarget().resolveType(classAnalyzer);
  if (targetType.isArray()) {
    mAccessor=BracketAccessor.ARRAY;
  }
 else   if (List.class.isAssignableFrom(targetType)) {
    mAccessor=BracketAccessor.LIST;
  }
 else   if (Map.class.isAssignableFrom(targetType)) {
    mAccessor=BracketAccessor.MAP;
  }
 else {
    throw new IllegalArgumentException("Cannot determine variable type used in [] " + "expression. Cast the value to List, ObservableList, Map, " + "Cursor, or array.");
  }
  if (targetType.isArray()) {
    return targetType.getComponentType();
  }
 else {
    return Object.class;
  }
}
