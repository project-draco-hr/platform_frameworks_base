{
  SmsEnvelope env=mEnvelope;
  ByteArrayOutputStream baos=new ByteArrayOutputStream(100);
  DataOutputStream dos=new DataOutputStream(new BufferedOutputStream(baos));
  try {
    dos.writeInt(env.teleService);
    dos.writeInt(0);
    dos.writeInt(0);
    dos.write(destAddress.digitMode);
    dos.write(destAddress.numberMode);
    dos.write(destAddress.ton);
    dos.write(destAddress.numberPlan);
    dos.write(destAddress.numberOfDigits);
    dos.write(destAddress.origBytes,0,destAddress.origBytes.length);
    dos.write(0);
    dos.write(0);
    dos.write(0);
    dos.write(env.bearerData.length);
    dos.write(env.bearerData,0,env.bearerData.length);
    dos.close();
    return baos.toByteArray();
  }
 catch (  IOException ex) {
    Log.e(LOG_TAG,"serialize: conversion from object to data output stream failed: " + ex);
    return null;
  }
}
