{
  mBearerData=SmsDataCoding.decodeCdmaSms(mEnvelope.bearerData);
  messageRef=mBearerData.messageID;
  int messageType=mBearerData.messageType;
switch (messageType) {
case MESSAGE_TYPE_USER_ACK:
case MESSAGE_TYPE_READ_ACK:
case MESSAGE_TYPE_DELIVER:
    parseSmsDeliver();
  break;
case MESSAGE_TYPE_DELIVERY_ACK:
parseSmsDeliveryAck();
break;
default :
throw new RuntimeException("Unsupported message type: " + messageType);
}
}
