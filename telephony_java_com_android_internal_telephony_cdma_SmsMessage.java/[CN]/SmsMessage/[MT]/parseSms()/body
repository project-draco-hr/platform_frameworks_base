{
  mBearerData=BearerData.decode(mEnvelope.bearerData);
  messageRef=mBearerData.messageId;
  int messageType=mBearerData.messageType;
switch (messageType) {
case BearerData.MESSAGE_TYPE_USER_ACK:
case BearerData.MESSAGE_TYPE_READ_ACK:
case BearerData.MESSAGE_TYPE_DELIVER:
    parseSmsDeliver();
  break;
case BearerData.MESSAGE_TYPE_DELIVERY_ACK:
parseSmsDeliveryAck();
break;
default :
throw new RuntimeException("Unsupported message type: " + messageType);
}
}
