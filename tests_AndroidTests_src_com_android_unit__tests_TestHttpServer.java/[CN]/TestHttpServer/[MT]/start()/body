{
  if (this.listener != null) {
    throw new IllegalStateException("Listener already running");
  }
  this.listener=new Thread(new Runnable(){
    public void run(){
      while (!shutdown && !Thread.interrupted()) {
        try {
          HttpServerConnection conn=acceptConnection();
          HttpService httpService=new HttpService(httpproc,connStrategy,responseFactory);
          httpService.setParams(params);
          httpService.setExpectationVerifier(expectationVerifier);
          httpService.setHandlerResolver(reqistry);
          Thread t=new WorkerThread(httpService,conn);
          t.setDaemon(true);
          t.start();
        }
 catch (        InterruptedIOException ex) {
          break;
        }
catch (        IOException e) {
          break;
        }
      }
    }
  }
);
  this.listener.start();
}
