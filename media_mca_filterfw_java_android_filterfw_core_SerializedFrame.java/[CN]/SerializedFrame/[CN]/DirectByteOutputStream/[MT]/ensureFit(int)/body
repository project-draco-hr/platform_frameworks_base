{
  if (mOffset + bytesToWrite > mBuffer.length) {
    byte[] oldBuffer=mBuffer;
    mBuffer=new byte[Math.max(mOffset + bytesToWrite,mBuffer.length * 2)];
    System.arraycopy(oldBuffer,0,mBuffer,0,mOffset);
    oldBuffer=null;
  }
}
