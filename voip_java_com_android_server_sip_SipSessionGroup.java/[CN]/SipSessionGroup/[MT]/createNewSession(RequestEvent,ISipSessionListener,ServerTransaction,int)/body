{
  SipSessionImpl newSession=new SipSessionImpl(listener);
  newSession.mServerTransaction=transaction;
  newSession.mState=newState;
  newSession.mDialog=newSession.mServerTransaction.getDialog();
  newSession.mInviteReceived=event;
  newSession.mPeerProfile=createPeerProfile((HeaderAddress)event.getRequest().getHeader(FromHeader.NAME));
  newSession.mPeerSessionDescription=extractContent(event.getRequest());
  return newSession;
}
