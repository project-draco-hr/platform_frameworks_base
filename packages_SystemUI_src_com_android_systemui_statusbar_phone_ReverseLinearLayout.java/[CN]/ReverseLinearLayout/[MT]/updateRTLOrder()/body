{
  boolean isLayoutRtl=getResources().getConfiguration().getLayoutDirection() == LAYOUT_DIRECTION_RTL;
  if (mIsLayoutRtl != isLayoutRtl) {
    int childCount=getChildCount();
    ArrayList<View> childList=new ArrayList<>(childCount);
    for (int i=0; i < childCount; i++) {
      childList.add(getChildAt(i));
    }
    removeAllViews();
    for (int i=childCount - 1; i >= 0; i--) {
      super.addView(childList.get(i));
    }
    mIsLayoutRtl=isLayoutRtl;
  }
}
