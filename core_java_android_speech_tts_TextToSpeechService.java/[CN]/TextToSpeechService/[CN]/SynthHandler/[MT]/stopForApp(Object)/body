{
  if (callerIdentity == null) {
    return TextToSpeech.ERROR;
  }
  startFlushingSpeechItems(callerIdentity);
  SpeechItem current=maybeRemoveCurrentSpeechItem(callerIdentity);
  if (current != null) {
    current.stop();
  }
  mAudioPlaybackHandler.stopForApp(callerIdentity);
  Runnable runnable=new Runnable(){
    @Override public void run(){
      endFlushingSpeechItems(callerIdentity);
    }
  }
;
  sendMessage(Message.obtain(this,runnable));
  return TextToSpeech.SUCCESS;
}
