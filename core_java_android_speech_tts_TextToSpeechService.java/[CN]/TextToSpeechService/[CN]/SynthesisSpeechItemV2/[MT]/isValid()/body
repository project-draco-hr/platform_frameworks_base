{
  if (mSynthesisRequest.getMarkup() == null) {
    Log.e(TAG,"No markup in request.");
    return false;
  }
  String type=mSynthesisRequest.getMarkup().getType();
  if (type == null) {
    Log.w(TAG,"Top level markup node should have type \"utterance\", not null");
    return false;
  }
 else   if (!type.equals("utterance")) {
    Log.w(TAG,"Top level markup node should have type \"utterance\" instead of " + "\"" + type + "\"");
    return false;
  }
  int estimate=estimateSynthesisLengthFromMarkup(mSynthesisRequest.getMarkup());
  if (estimate >= TextToSpeech.getMaxSpeechInputLength()) {
    Log.w(TAG,"Text too long: estimated size of text was " + estimate + " chars.");
    return false;
  }
  if (estimate <= 0) {
    Log.e(TAG,"null synthesis text");
    return false;
  }
  return true;
}
