{
synchronized (mCallerToCallback) {
    ITextToSpeechCallback old;
    if (cb != null) {
      register(cb,caller);
      old=mCallerToCallback.put(caller,cb);
    }
 else {
      old=mCallerToCallback.remove(caller);
    }
    if (old != null && old != cb) {
      unregister(old);
    }
  }
}
