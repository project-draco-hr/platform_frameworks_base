{
  int dims[]=new int[mEntryCount];
  for (int ct=0; ct < mEntryCount; ct++) {
    dims[ct]=mDimensions[ct].mID;
  }
  int id=mRS.nTypeCreate(mElement.getID(),dims,mDimensionValues);
  Type t=new Type(id,mRS);
  t.mElement=mElement;
  for (int ct=0; ct < mEntryCount; ct++) {
    if (mDimensions[ct] == Dimension.X) {
      t.mDimX=mDimensionValues[ct];
    }
    if (mDimensions[ct] == Dimension.Y) {
      t.mDimY=mDimensionValues[ct];
    }
    if (mDimensions[ct] == Dimension.Z) {
      t.mDimZ=mDimensionValues[ct];
    }
    if (mDimensions[ct] == Dimension.LOD) {
      t.mDimLOD=mDimensionValues[ct] != 0;
    }
    if (mDimensions[ct] == Dimension.FACE) {
      t.mDimFaces=mDimensionValues[ct] != 0;
    }
  }
  if (t.mDimZ > 0) {
    if ((t.mDimX < 1) || (t.mDimY < 1)) {
      throw new RSInvalidStateException("Both X and Y dimension required when Z is present.");
    }
    if (t.mDimFaces) {
      throw new RSInvalidStateException("Cube maps not supported with 3D types.");
    }
  }
  if (t.mDimY > 0) {
    if (t.mDimX < 1) {
      throw new RSInvalidStateException("X dimension required when Y is present.");
    }
  }
  if (t.mDimFaces) {
    if (t.mDimY < 1) {
      throw new RSInvalidStateException("Cube maps require 2D Types.");
    }
  }
  t.calcElementCount();
  return t;
}
