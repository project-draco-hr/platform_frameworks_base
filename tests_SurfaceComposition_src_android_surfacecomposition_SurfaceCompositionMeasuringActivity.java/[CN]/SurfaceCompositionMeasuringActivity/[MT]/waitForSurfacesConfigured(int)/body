{
  for (int i=0; i < mViews.size(); ++i) {
    CustomSurfaceView view=mViews.get(i);
    if (view.getVisibility() == View.VISIBLE) {
      view.waitForSurfaceReady();
    }
 else {
      view.waitForSurfaceDestroyed();
    }
  }
  runOnUiThreadAndWait(new Runnable(){
    @Override public void run(){
      updateSystemInfo(pixelFormat);
    }
  }
);
}
