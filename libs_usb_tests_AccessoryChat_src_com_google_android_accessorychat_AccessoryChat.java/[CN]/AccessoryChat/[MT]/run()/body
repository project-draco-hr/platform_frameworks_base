{
  int ret=0;
  byte[] buffer=new byte[16384];
  while (ret >= 0) {
    try {
      ret=mInputStream.read(buffer);
    }
 catch (    IOException e) {
      break;
    }
    if (ret > 0) {
      Message m=Message.obtain(mHandler,MESSAGE_LOG);
      String text=new String(buffer,0,ret);
      Log.d(TAG,"chat: " + text);
      m.obj=text;
      mHandler.sendMessage(m);
    }
  }
  Log.d(TAG,"thread out");
}
