{
  Connection firstConnection=null;
  Connection secondConnection=null;
  File dbFile=getDbFile();
  String connectionURL=getConnectionURL();
  Statement firstStmt=null;
  Statement secondStmt=null;
  try {
    Class.forName(getJDBCDriverClassName());
    firstConnection=DriverManager.getConnection(connectionURL);
    secondConnection=DriverManager.getConnection(connectionURL);
    String[] ones={"hello!","goodbye"};
    short[] twos={10,20};
    String[] onesUpdated=new String[ones.length];
    for (int i=0; i < ones.length; i++) {
      onesUpdated[i]=ones[i] + twos[i];
    }
    firstStmt=firstConnection.createStatement();
    firstStmt.execute("create table tbl1(one varchar(10), two smallint)");
    secondStmt=secondConnection.createStatement();
    autoCommitInsertSelectTest(firstStmt,ones,twos);
    updateSelectCommitSelectTest(firstStmt,secondStmt,ones,onesUpdated,twos);
    updateSelectRollbackSelectTest(firstStmt,secondStmt,onesUpdated,ones,twos);
  }
  finally {
    closeConnections(firstConnection,secondConnection,dbFile,firstStmt,secondStmt);
  }
}
