{
  firstStmt.getConnection().setAutoCommit(false);
  try {
    updateOnes(firstStmt,onesUpdated,twos);
    assertAllFromTbl1(secondStmt,ones,twos);
    firstStmt.getConnection().rollback();
    assertAllFromTbl1(secondStmt,ones,twos);
  }
  finally {
    firstStmt.getConnection().setAutoCommit(true);
  }
}
