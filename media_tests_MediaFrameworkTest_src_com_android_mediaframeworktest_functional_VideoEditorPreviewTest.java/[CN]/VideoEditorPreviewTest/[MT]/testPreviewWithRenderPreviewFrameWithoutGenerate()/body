{
  final String videoItemFileName=INPUT_FILE_PATH + "H264_BP_640x480_30fps_256kbps_1_17.mp4";
  final Semaphore blockTillPreviewCompletes=new Semaphore(1);
  boolean flagForException=false;
  long duration=0;
  final MediaVideoItem mediaVideoItem=mVideoEditorHelper.createMediaItem(mVideoEditor,"m1",videoItemFileName,MediaItem.RENDERING_MODE_BLACK_BORDER);
  mVideoEditor.addMediaItem(mediaVideoItem);
  final SurfaceHolder surfaceHolder=MediaFrameworkTest.mSurfaceView.getHolder();
  duration=mVideoEditor.getDuration();
  try {
    assertEquals("Render preview Frame at item duration",duration,mVideoEditor.renderPreviewFrame(surfaceHolder,duration));
  }
 catch (  Exception e) {
    assertTrue(" Render Preview Frame without generate",false);
  }
  duration=mVideoEditor.getDuration() + 1000;
  try {
    mVideoEditor.renderPreviewFrame(surfaceHolder,duration);
  }
 catch (  IllegalArgumentException e) {
    flagForException=true;
  }
  assertTrue(" Preview time greater than duration",flagForException);
  blockTillPreviewCompletes.acquire();
  blockTillPreviewCompletes.release();
}
