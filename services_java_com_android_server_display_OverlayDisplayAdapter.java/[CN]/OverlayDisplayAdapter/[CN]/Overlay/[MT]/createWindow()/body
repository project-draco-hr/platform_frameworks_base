{
  Context context=getContext();
  LayoutInflater inflater=LayoutInflater.from(context);
  mWindowContent=inflater.inflate(com.android.internal.R.layout.overlay_display_window,null);
  mWindowContent.setOnTouchListener(mOnTouchListener);
  mTextureView=(TextureView)mWindowContent.findViewById(com.android.internal.R.id.overlay_display_window_texture);
  mTextureView.setPivotX(0);
  mTextureView.setPivotY(0);
  mTextureView.getLayoutParams().width=mWidth;
  mTextureView.getLayoutParams().height=mHeight;
  mTextureView.setSurfaceTextureListener(mSurfaceTextureListener);
  mTitleTextView=(TextView)mWindowContent.findViewById(com.android.internal.R.id.overlay_display_window_title);
  mTitleTextView.setText(mTitle);
  mWindowParams=new WindowManager.LayoutParams(WindowManager.LayoutParams.TYPE_DISPLAY_OVERLAY);
  mWindowParams.flags|=WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN | WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS | WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE| WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL| WindowManager.LayoutParams.FLAG_HARDWARE_ACCELERATED;
  if (DISABLE_MOVE_AND_RESIZE) {
    mWindowParams.flags|=WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE;
  }
  mWindowParams.privateFlags|=WindowManager.LayoutParams.PRIVATE_FLAG_FORCE_HARDWARE_ACCELERATED;
  mWindowParams.alpha=WINDOW_ALPHA;
  mWindowParams.gravity=Gravity.TOP | Gravity.LEFT;
  mWindowParams.setTitle(mTitle);
  mScaleGestureDetector=new ScaleGestureDetector(context,mOnScaleGestureListener);
  mWindowVisible=false;
  mWindowScale=INITIAL_SCALE;
  if (mNumber == 2 || mNumber == 3) {
    mWindowX=mDefaultDisplayInfo.logicalWidth;
  }
 else {
    mWindowX=0;
  }
  if (mNumber == 2 || mNumber == 4) {
    mWindowY=mDefaultDisplayInfo.logicalHeight;
  }
 else {
    mWindowY=0;
  }
}
