{
  Context context=getContext();
  mDisplayManager=(DisplayManager)context.getSystemService(Context.DISPLAY_SERVICE);
  mWindowManager=(WindowManager)context.getSystemService(Context.WINDOW_SERVICE);
  mNumber=number;
  mWidth=width;
  mHeight=height;
  mDensityDpi=densityDpi;
  mName=context.getResources().getString(com.android.internal.R.string.display_manager_overlay_display_name,number);
  mTitle=context.getResources().getString(com.android.internal.R.string.display_manager_overlay_display_title,mNumber,mWidth,mHeight,mDensityDpi);
  mDefaultDisplay=mWindowManager.getDefaultDisplay();
  updateDefaultDisplayInfo();
  mDisplayToken=Surface.createDisplay(mName);
  mDisplayDevice=new OverlayDisplayDevice(mDisplayToken,mName,mDefaultDisplayInfo.refreshRate,mDensityDpi);
  createWindow();
}
