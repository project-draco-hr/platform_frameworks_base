{
  final boolean withinThreshold=isWithinLookaheadThreshold(nextAlarm);
  if (DEBUG)   Slog.d(TAG,"onEvaluate mCurrentSubscription=" + mCurrentSubscription + " nextAlarmWakeup="+ mTracker.formatAlarmDebug(wakeupTime)+ " withinThreshold="+ withinThreshold+ " booted="+ booted);
  if (mCurrentSubscription == null)   return;
  if (!booted) {
    notifyCondition(mCurrentSubscription,nextAlarm,Condition.STATE_UNKNOWN,"!booted");
    return;
  }
  if (!withinThreshold) {
    notifyCondition(mCurrentSubscription,nextAlarm,Condition.STATE_FALSE,"!within");
    mCurrentSubscription=null;
    return;
  }
  notifyCondition(mCurrentSubscription,nextAlarm,Condition.STATE_TRUE,"within");
}
