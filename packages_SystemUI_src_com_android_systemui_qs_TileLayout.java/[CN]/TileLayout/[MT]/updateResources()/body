{
  final Resources res=mContext.getResources();
  final int columns=Math.max(1,res.getInteger(R.integer.quick_settings_num_columns));
  mCellHeight=getCellHeight();
  mCellWidth=(int)(mCellHeight * TILE_ASPECT);
  mLargeCellHeight=mAllowDual ? res.getDimensionPixelSize(R.dimen.qs_dual_tile_height) : mCellHeight;
  mLargeCellWidth=mAllowDual ? (int)(mLargeCellHeight * TILE_ASPECT) : mCellWidth;
  mDualTileUnderlap=mAllowDual ? res.getDimensionPixelSize(R.dimen.qs_dual_tile_padding_vertical) : 0;
  if (mColumns != columns) {
    mColumns=columns;
    postInvalidate();
  }
}
