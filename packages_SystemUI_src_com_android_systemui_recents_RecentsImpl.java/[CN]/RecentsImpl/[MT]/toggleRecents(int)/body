{
  if (mFastAltTabTrigger.isDozing()) {
    return;
  }
  mDraggingInRecents=false;
  mLaunchedWhileDocking=false;
  mTriggeredFromAltTab=false;
  try {
    SystemServicesProxy ssp=Recents.getSystemServices();
    MutableBoolean isHomeStackVisible=new MutableBoolean(true);
    long elapsedTime=SystemClock.elapsedRealtime() - mLastToggleTime;
    if (ssp.isRecentsActivityVisible(isHomeStackVisible)) {
      RecentsDebugFlags debugFlags=Recents.getDebugFlags();
      RecentsConfiguration config=Recents.getConfiguration();
      RecentsActivityLaunchState launchState=config.getLaunchState();
      if (!launchState.launchedWithAltTab) {
        if (!debugFlags.isPagingEnabled() || (ViewConfiguration.getDoubleTapMinTime() < elapsedTime && elapsedTime < ViewConfiguration.getDoubleTapTimeout())) {
          EventBus.getDefault().post(new LaunchNextTaskRequestEvent());
        }
 else {
          EventBus.getDefault().post(new IterateRecentsEvent());
        }
      }
 else {
        if (elapsedTime < MIN_TOGGLE_DELAY_MS) {
          return;
        }
        EventBus.getDefault().post(new ToggleRecentsEvent());
        mLastToggleTime=SystemClock.elapsedRealtime();
      }
      return;
    }
 else {
      if (elapsedTime < MIN_TOGGLE_DELAY_MS) {
        return;
      }
      ActivityManager.RunningTaskInfo runningTask=ssp.getRunningTask();
      startRecentsActivity(runningTask,isHomeStackVisible.value,true,growTarget);
      ssp.sendCloseSystemWindows(BaseStatusBar.SYSTEM_DIALOG_REASON_RECENT_APPS);
      mLastToggleTime=SystemClock.elapsedRealtime();
    }
  }
 catch (  ActivityNotFoundException e) {
    Log.e(TAG,"Failed to launch RecentsActivity",e);
  }
}
