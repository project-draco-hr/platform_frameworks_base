{
  preloadIcon(topTask);
  updateHeaderBarLayout(false,stack);
  mDummyStackView.updateLayoutForStack(stack);
  final Task toTask=new Task();
  final TaskViewTransform toTransform=getThumbnailTransitionTransform(stack,stackView,toTask);
  ForegroundThread.getHandler().postAtFrontOfQueue(new Runnable(){
    @Override public void run(){
      final Bitmap transitionBitmap=drawThumbnailTransitionBitmap(toTask,toTransform);
      mHandler.post(new Runnable(){
        @Override public void run(){
          mThumbnailTransitionBitmapCache=transitionBitmap;
          mThumbnailTransitionBitmapCacheKey=toTask;
        }
      }
);
    }
  }
);
}
