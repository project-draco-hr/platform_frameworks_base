{
  boolean needed=mActionBar.isOverflowPopupNeeded();
  if (!needed) {
    return false;
  }
  ArrayList<MenuItemImpl> menus=mActionBar.getMenuBuilder().getNonActionItems();
  ActionMenuPresenter presenter=mActionBar.getActionMenuPresenter();
  if (presenter == null) {
    throw new RuntimeException("Failed to create a Presenter for Action Bar Menus.");
  }
  if (presenter.isOverflowReserved() && menus != null) {
    final int count=menus.size();
    if (count == 1) {
      needed=!menus.get(0).isActionViewExpanded();
    }
 else {
      needed=count > 0;
    }
  }
  return needed;
}
