{
  try {
    int errorCode=mTagService.ndefWrite(mTag.getServiceHandle(),msg);
switch (errorCode) {
case ErrorCodes.SUCCESS:
      break;
case ErrorCodes.ERROR_IO:
    throw new IOException();
case ErrorCodes.ERROR_INVALID_PARAM:
  throw new FormatException();
default :
throw new IOException();
}
}
 catch (RemoteException e) {
attemptDeadServiceRecovery(e);
}
}
