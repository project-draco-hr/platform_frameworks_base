{
  if (!mShowing && mAnchor != null) {
    setProgress();
    if (mPauseButton != null) {
      mPauseButton.requestFocus();
    }
    disableUnsupportedButtons();
    int[] anchorpos=new int[2];
    mAnchor.getLocationOnScreen(anchorpos);
    WindowManager.LayoutParams p=new WindowManager.LayoutParams();
    p.gravity=Gravity.TOP;
    p.width=mAnchor.getWidth();
    p.height=LayoutParams.WRAP_CONTENT;
    p.x=0;
    p.y=anchorpos[1] + mAnchor.getHeight() - p.height;
    p.format=PixelFormat.TRANSLUCENT;
    p.type=WindowManager.LayoutParams.TYPE_APPLICATION_PANEL;
    p.flags|=WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM | WindowManager.LayoutParams.FLAG_SPLIT_TOUCH;
    p.token=null;
    p.windowAnimations=0;
    mWindowManager.addView(mDecor,p);
    mShowing=true;
  }
  updatePausePlay();
  mHandler.sendEmptyMessage(SHOW_PROGRESS);
  Message msg=mHandler.obtainMessage(FADE_OUT);
  if (timeout != 0) {
    mHandler.removeMessages(FADE_OUT);
    mHandler.sendMessageDelayed(msg,timeout);
  }
}
