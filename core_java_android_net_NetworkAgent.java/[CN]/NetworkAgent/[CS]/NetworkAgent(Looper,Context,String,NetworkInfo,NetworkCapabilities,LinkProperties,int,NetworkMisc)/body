{
  super(looper);
  LOG_TAG=logTag;
  mContext=context;
  if (ni == null || nc == null || lp == null) {
    throw new IllegalArgumentException();
  }
  if (DBG)   log("Registering NetworkAgent");
  ConnectivityManager cm=(ConnectivityManager)mContext.getSystemService(Context.CONNECTIVITY_SERVICE);
  cm.registerNetworkAgent(new Messenger(this),new NetworkInfo(ni),new LinkProperties(lp),new NetworkCapabilities(nc),score,misc);
}
