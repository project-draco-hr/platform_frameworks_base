{
  String[] accounts=null;
  try {
    accounts=mAccountsService.getAccounts();
  }
 catch (  RemoteException e) {
    return null;
  }
  if (accounts == null) {
    return null;
  }
  String bestAccount=null;
  int bestScore=0;
  for (  String a : accounts) {
    int score=0;
    if (username.equals(a)) {
      score=4;
    }
 else     if (username.equalsIgnoreCase(a)) {
      score=3;
    }
 else     if (username.indexOf('@') < 0) {
      int i=a.indexOf('@');
      if (i >= 0) {
        String aUsername=a.substring(0,i);
        if (username.equals(aUsername)) {
          score=2;
        }
 else         if (username.equalsIgnoreCase(aUsername)) {
          score=1;
        }
      }
    }
    if (score > bestScore) {
      bestAccount=a;
      bestScore=score;
    }
 else     if (score == bestScore) {
      bestAccount=null;
    }
  }
  return bestAccount;
}
