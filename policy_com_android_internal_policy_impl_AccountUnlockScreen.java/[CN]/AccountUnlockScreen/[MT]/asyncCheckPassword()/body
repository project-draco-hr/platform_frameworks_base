{
  mCallback.pokeWakelock(AWAKE_POKE_MILLIS);
  final String login=mLogin.getText().toString();
  final String password=mPassword.getText().toString();
  Account account=findIntendedAccount(login);
  if (account == null) {
    onCheckPasswordResult(false);
    return;
  }
  getProgressDialog().show();
  Bundle options=new Bundle();
  options.putString(AccountManager.KEY_PASSWORD,password);
  AccountManager.get(mContext).confirmCredentials(account,options,null,new AccountManagerCallback<Bundle>(){
    public void run(    AccountManagerFuture<Bundle> future){
      try {
        mCallback.pokeWakelock(AWAKE_POKE_MILLIS);
        final Bundle result=future.getResult();
        final boolean verified=result.getBoolean(AccountManager.KEY_BOOLEAN_RESULT);
        mLogin.post(new Runnable(){
          public void run(){
            onCheckPasswordResult(verified);
          }
        }
);
      }
 catch (      OperationCanceledException e) {
        onCheckPasswordResult(false);
      }
catch (      IOException e) {
        onCheckPasswordResult(false);
      }
catch (      AuthenticatorException e) {
        onCheckPasswordResult(false);
      }
 finally {
        mLogin.post(new Runnable(){
          public void run(){
            getProgressDialog().hide();
          }
        }
);
      }
    }
  }
,null);
}
