{
  if (success) {
    mLockPatternUtils.setPermanentlyLocked(false);
    mLockPatternUtils.setLockPatternEnabled(false);
    mLockPatternUtils.saveLockPattern(null);
    Intent intent=new Intent();
    intent.setClassName(LOCK_PATTERN_PACKAGE,LOCK_PATTERN_CLASS);
    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
    mContext.startActivity(intent);
    mCallback.reportSuccessfulUnlockAttempt();
    mCallback.keyguardDone(true);
  }
 else {
    mInstructions.setText(R.string.lockscreen_glogin_invalid_input);
    mPassword.setText("");
    mCallback.reportFailedUnlockAttempt();
  }
}
