{
  super(context);
  mCallback=callback;
  mLockPatternUtils=lockPatternUtils;
  LayoutInflater.from(context).inflate(R.layout.keyguard_screen_glogin_unlock,this,true);
  mTopHeader=(TextView)findViewById(R.id.topHeader);
  mInstructions=(TextView)findViewById(R.id.instructions);
  mLogin=(EditText)findViewById(R.id.login);
  mLogin.setFilters(new InputFilter[]{new LoginFilter.UsernameFilterGeneric()});
  mPassword=(EditText)findViewById(R.id.password);
  mOk=(Button)findViewById(R.id.ok);
  mOk.setOnClickListener(this);
  mEmergencyCall=(Button)findViewById(R.id.emergencyCall);
  mEmergencyCall.setOnClickListener(this);
  Log.v("AccountUnlockScreen","debug: Connecting to accounts service");
  final boolean connected=mContext.bindService(AccountsServiceConstants.SERVICE_INTENT,this,Context.BIND_AUTO_CREATE);
  if (!connected) {
    Log.v("AccountUnlockScreen","debug: Couldn't connect to accounts service");
    throw new IllegalStateException("couldn't bind to accounts service");
  }
}
