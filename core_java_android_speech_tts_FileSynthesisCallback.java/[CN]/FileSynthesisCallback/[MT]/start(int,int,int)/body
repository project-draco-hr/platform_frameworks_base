{
  if (DBG) {
    Log.d(TAG,"FileSynthesisRequest.start(" + sampleRateInHz + ","+ audioFormat+ ","+ channelCount+ ")");
  }
synchronized (mStateLock) {
    if (mStopped) {
      if (DBG)       Log.d(TAG,"Request has been aborted.");
      return TextToSpeech.ERROR;
    }
    if (mFile != null) {
      cleanUp();
      throw new IllegalArgumentException("FileSynthesisRequest.start() called twice");
    }
    if (!maybeCleanupExistingFile(mFileName)) {
      return TextToSpeech.ERROR;
    }
    mSampleRateInHz=sampleRateInHz;
    mAudioFormat=audioFormat;
    mChannelCount=channelCount;
    try {
      mFile=new RandomAccessFile(mFileName,"rw");
      mFile.write(new byte[WAV_HEADER_LENGTH]);
      return TextToSpeech.SUCCESS;
    }
 catch (    IOException ex) {
      Log.e(TAG,"Failed to open " + mFileName + ": "+ ex);
      cleanUp();
      return TextToSpeech.ERROR;
    }
  }
}
