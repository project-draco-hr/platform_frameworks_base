{
  new AsyncTask<Void,Void,ArrayList<UserRecord>>(){
    @Override protected ArrayList<UserRecord> doInBackground(    Void... params){
      List<UserInfo> infos=mUserManager.getUsers(true);
      if (infos == null) {
        return null;
      }
      ArrayList<UserRecord> records=new ArrayList<>(infos.size());
      int currentId=ActivityManager.getCurrentUser();
      UserRecord guestRecord=null;
      for (      UserInfo info : infos) {
        boolean isCurrent=currentId == info.id;
        if (info.isGuest()) {
          guestRecord=new UserRecord(info,null,true,isCurrent);
        }
 else         if (!info.isManagedProfile()) {
          records.add(new UserRecord(info,mUserManager.getUserIcon(info.id),false,isCurrent));
        }
      }
      if (guestRecord == null) {
        records.add(new UserRecord(null,null,true,false));
      }
 else {
        records.add(guestRecord);
      }
      return records;
    }
    @Override protected void onPostExecute(    ArrayList<UserRecord> userRecords){
      if (userRecords != null) {
        mUsers=userRecords;
        notifyAdapters();
      }
    }
  }
.execute((Void[])null);
}
