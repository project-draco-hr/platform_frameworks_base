{
  if (userId == UserHandle.USER_SYSTEM) {
    Log.w(TAG,"User " + userId + " could not removed.");
    return;
  }
  if (ActivityManager.getCurrentUser() == userId) {
    switchToUserId(UserHandle.USER_SYSTEM);
  }
  if (mUserManager.removeUser(userId)) {
    refreshUsers(UserHandle.USER_NULL);
  }
}
