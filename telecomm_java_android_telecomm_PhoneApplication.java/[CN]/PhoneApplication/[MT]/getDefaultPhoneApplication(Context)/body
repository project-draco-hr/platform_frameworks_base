{
  String defaultPackageName=Settings.Secure.getString(context.getContentResolver(),Settings.Secure.PHONE_DEFAULT_APPLICATION);
  final List<ComponentName> componentNames=getInstalledPhoneApplications(context);
  if (!TextUtils.isEmpty(defaultPackageName)) {
    for (    ComponentName componentName : componentNames) {
      if (TextUtils.equals(componentName.getPackageName(),defaultPackageName)) {
        return componentName;
      }
    }
  }
  ComponentName systemDialer=null;
  try {
    systemDialer=getTelecommService().getSystemPhoneApplication();
  }
 catch (  RemoteException e) {
    Log.e(TAG,"Error calling ITelecommService#getSystemPhoneApplication",e);
    return null;
  }
  if (systemDialer == null) {
    return null;
  }
  return getComponentName(componentNames,systemDialer.getPackageName());
}
