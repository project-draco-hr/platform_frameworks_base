{
  String oldPackageName=Settings.Secure.getString(context.getContentResolver(),Settings.Secure.PHONE_DEFAULT_APPLICATION);
  if (packageName != null && oldPackageName != null && packageName.equals(oldPackageName)) {
    return;
  }
  List<ComponentName> componentNames=getInstalledPhoneApplications(context);
  ComponentName foundComponent=null;
  for (  ComponentName componentName : componentNames) {
    if (TextUtils.equals(componentName.getPackageName(),packageName)) {
      foundComponent=componentName;
      break;
    }
  }
  if (foundComponent != null) {
    Settings.Secure.putString(context.getContentResolver(),Settings.Secure.PHONE_DEFAULT_APPLICATION,foundComponent.getPackageName());
  }
}
