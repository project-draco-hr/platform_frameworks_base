{
  try {
    NativeImageFormat srcFmt=NativeImageFormat.createNativeImageFormat(src);
    NativeImageFormat dstFmt=NativeImageFormat.createNativeImageFormat(dst);
    if (srcFmt != null && dstFmt != null) {
      t.translateColors(srcFmt,dstFmt);
      return;
    }
  }
 catch (  IllegalArgumentException e) {
  }
  scaler.loadScalingData(src,t.getSrc());
  short srcData[]=scaler.scale(src);
  short dstData[]=translateColor(t,srcData,null);
  scaler.loadScalingData(dst,t.getDst());
  scaler.unscale(dstData,dst);
}
