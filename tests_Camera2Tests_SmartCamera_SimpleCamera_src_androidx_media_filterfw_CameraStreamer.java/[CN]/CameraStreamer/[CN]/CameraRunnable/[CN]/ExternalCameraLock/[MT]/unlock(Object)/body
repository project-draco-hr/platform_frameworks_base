{
  mLock.lock();
  if (mLockState != IN_USE) {
    throw new RuntimeException("Not in IN_USE state");
  }
  if (context != mLockContext) {
    throw new RuntimeException("Lock is not owned by this context");
  }
  mLockState=IDLE;
  mLockContext=null;
  mInUseLockCondition.signal();
  mLock.unlock();
}
