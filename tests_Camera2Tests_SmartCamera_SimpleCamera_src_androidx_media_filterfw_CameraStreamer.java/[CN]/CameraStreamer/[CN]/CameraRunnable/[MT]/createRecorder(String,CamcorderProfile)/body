{
  lockCamera(this);
  mCamera.unlock();
  if (mRecorder != null) {
    mRecorder.release();
  }
  mRecorder=new MediaRecorder();
  mRecorder.setCamera(mCamera);
  mRecorder.setAudioSource(MediaRecorder.AudioSource.CAMCORDER);
  mRecorder.setVideoSource(MediaRecorder.VideoSource.CAMERA);
  mRecorder.setProfile(profile);
  mRecorder.setOutputFile(outputPath);
  try {
    mRecorder.prepare();
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
