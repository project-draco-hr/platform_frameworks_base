{
  int rotation=(mActualFacing == FACING_FRONT) ? (mCamOrientation + orientation) % 360 : (mCamOrientation - orientation + 360) % 360;
  if (rotation != mCamRotation) {
synchronized (this) {
      mCamRotation=rotation;
    }
  }
  int fixedOrientation=rotation;
  if (mActualFacing == FACING_FRONT && mCamFrameHandler.isFrontMirrored()) {
    fixedOrientation=(360 - rotation) % 360;
  }
  if (mOrientation != fixedOrientation) {
    mOrientation=fixedOrientation;
    mCamFrameHandler.onUpdateCameraOrientation(mOrientation);
  }
}
