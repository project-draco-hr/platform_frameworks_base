{
  try {
    mListLock.lock();
    long unconsumedAudioMs=0;
    while ((unconsumedAudioMs=mAudioTrack.getAudioLengthMs(mUnconsumedBytes)) > MAX_UNCONSUMED_AUDIO_MS && !mStopped) {
      mNotFull.await();
    }
    if (mStopped) {
      return;
    }
    mDataBufferList.add(new ListEntry(buffer));
    mUnconsumedBytes+=buffer.length;
    mReadReady.signal();
  }
  finally {
    mListLock.unlock();
  }
}
