{
  try {
    mListLock.lock();
    while (mDataBufferList.size() == 0 && !mStopped && !mDone) {
      mReadReady.await();
    }
    if (mStopped) {
      return null;
    }
    ListEntry entry=mDataBufferList.poll();
    if (entry == null) {
      return null;
    }
    mUnconsumedBytes-=entry.mBytes.length;
    mNotFull.signal();
    return entry.mBytes;
  }
  finally {
    mListLock.unlock();
  }
}
