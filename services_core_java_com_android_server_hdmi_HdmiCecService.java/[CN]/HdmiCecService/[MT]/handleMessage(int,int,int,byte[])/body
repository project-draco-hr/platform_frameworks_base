{
synchronized (mLock) {
    if (dstAddress == HdmiCec.ADDR_BROADCAST) {
      for (int i=0; i < mLogicalDevices.size(); ++i) {
        mLogicalDevices.valueAt(i).handleMessage(srcAddress,dstAddress,opcode,params);
      }
    }
 else {
      int type=HdmiCec.getTypeFromAddress(dstAddress);
      HdmiCecDevice device=mLogicalDevices.get(type);
      if (device == null) {
        Log.w(TAG,"logical device not found. type: " + type);
        return;
      }
      device.handleMessage(srcAddress,dstAddress,opcode,params);
    }
  }
}
