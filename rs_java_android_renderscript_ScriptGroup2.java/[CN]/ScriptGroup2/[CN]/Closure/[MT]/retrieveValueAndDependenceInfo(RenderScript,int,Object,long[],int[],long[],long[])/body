{
  if (obj instanceof Future) {
    Future f=(Future)obj;
    obj=f.getValue();
    depClosures[index]=f.getClosure().getID(rs);
    Script.FieldID fieldID=f.getFieldID();
    depFieldIDs[index]=fieldID != null ? fieldID.getID(rs) : 0;
    if (obj == null) {
      values[index]=0;
      sizes[index]=0;
      return;
    }
  }
 else {
    depClosures[index]=0;
    depFieldIDs[index]=0;
  }
  ValueAndSize vs=new ValueAndSize(rs,obj);
  values[index]=vs.value;
  sizes[index]=vs.size;
}
