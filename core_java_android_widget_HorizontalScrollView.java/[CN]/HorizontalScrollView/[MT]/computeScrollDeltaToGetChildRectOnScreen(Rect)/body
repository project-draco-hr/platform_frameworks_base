{
  if (getChildCount() == 0)   return 0;
  int width=getWidth();
  int screenLeft=getScrollX();
  int screenRight=screenLeft + width;
  int fadingEdge=getHorizontalFadingEdgeLength();
  if (rect.left > 0) {
    screenLeft+=fadingEdge;
  }
  if (rect.right < getChildAt(0).getWidth()) {
    screenRight-=fadingEdge;
  }
  int scrollXDelta=0;
  if (rect.right > screenRight && rect.left > screenLeft) {
    if (rect.width() > width) {
      scrollXDelta+=(rect.left - screenLeft);
    }
 else {
      scrollXDelta+=(rect.right - screenRight);
    }
    int right=getChildAt(0).getRight();
    int distanceToRight=right - screenRight;
    scrollXDelta=Math.min(scrollXDelta,distanceToRight);
  }
 else   if (rect.left < screenLeft && rect.right < screenRight) {
    if (rect.width() > width) {
      scrollXDelta-=(screenRight - rect.right);
    }
 else {
      scrollXDelta-=(screenLeft - rect.left);
    }
    scrollXDelta=Math.max(scrollXDelta,-getScrollX());
  }
  return scrollXDelta;
}
