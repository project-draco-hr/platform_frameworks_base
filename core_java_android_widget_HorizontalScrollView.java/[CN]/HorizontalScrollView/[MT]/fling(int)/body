{
  if (getChildCount() > 0) {
    int width=getWidth() - mPaddingRight - mPaddingLeft;
    int right=getChildAt(0).getWidth();
    mScroller.fling(mScrollX,mScrollY,velocityX,0,0,Math.max(0,right - width),0,0,width / 2,0);
    final boolean movingRight=velocityX > 0;
    View currentFocused=findFocus();
    View newFocused=findFocusableViewInMyBounds(movingRight,mScroller.getFinalX(),currentFocused);
    if (newFocused == null) {
      newFocused=this;
    }
    if (newFocused != currentFocused) {
      newFocused.requestFocus(movingRight ? View.FOCUS_RIGHT : View.FOCUS_LEFT);
    }
    invalidate();
  }
}
