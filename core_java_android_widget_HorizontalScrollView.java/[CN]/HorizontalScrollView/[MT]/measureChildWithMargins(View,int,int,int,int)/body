{
  final MarginLayoutParams lp=(MarginLayoutParams)child.getLayoutParams();
  final int childHeightMeasureSpec=getChildMeasureSpec(parentHeightMeasureSpec,mPaddingTop + mPaddingBottom + lp.topMargin+ lp.bottomMargin+ heightUsed,lp.height);
  final int usedTotal=mPaddingLeft + mPaddingRight + lp.leftMargin+ lp.rightMargin+ widthUsed;
  final int childWidthMeasureSpec=MeasureSpec.makeSafeMeasureSpec(Math.max(0,MeasureSpec.getSize(parentWidthMeasureSpec) - usedTotal),MeasureSpec.UNSPECIFIED);
  child.measure(childWidthMeasureSpec,childHeightMeasureSpec);
}
