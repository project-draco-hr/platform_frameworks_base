{
  int access=backing.readAccess();
  if ((access & ACCESS_BYTES) != 0) {
    ByteBuffer pixels=(ByteBuffer)backing.lock(ACCESS_BYTES);
    mTexture.allocateWithPixels(pixels,mDimensions[0],mDimensions[1]);
  }
 else   if ((access & ACCESS_BITMAP) != 0) {
    Bitmap bitmap=(Bitmap)backing.lock(ACCESS_BITMAP);
    mTexture.allocateWithBitmapPixels(bitmap);
  }
 else   if ((access & ACCESS_TEXTURE) != 0) {
    TextureSource texture=(TextureSource)backing.lock(ACCESS_TEXTURE);
    int w=mDimensions[0];
    int h=mDimensions[1];
    ImageShader.renderTextureToTarget(texture,getRenderTarget(),w,h);
  }
 else   if ((access & ACCESS_ALLOCATION) != 0 && AllocationBacking.isSupported()) {
    syncToAllocationBacking(backing);
  }
 else {
    throw new RuntimeException("Cannot sync bytebuffer backing!");
  }
  backing.unlock();
  mIsDirty=false;
}
