{
  if (mConfig == null || mDays.size() == 0)   return Global.ZEN_MODE_OFF;
  final long start=getTime(time,mConfig.sleepStartHour,mConfig.sleepStartMinute);
  long end=getTime(time,mConfig.sleepEndHour,mConfig.sleepEndMinute);
  if (start == end)   return Global.ZEN_MODE_OFF;
  if (end < start) {
    end=addDays(end,1);
  }
  final boolean inDowntime=isInDowntime(-1,time,start,end) || isInDowntime(0,time,start,end);
  return inDowntime ? (mConfig.sleepNone ? Global.ZEN_MODE_NO_INTERRUPTIONS : Global.ZEN_MODE_IMPORTANT_INTERRUPTIONS) : Global.ZEN_MODE_OFF;
}
