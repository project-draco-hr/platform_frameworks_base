{
  final AlarmManager alarms=(AlarmManager)mContext.getSystemService(Context.ALARM_SERVICE);
  final long now=System.currentTimeMillis();
  final long time=mCalendar.getNextTime(now,hr,min);
  final PendingIntent pendingIntent=PendingIntent.getBroadcast(mContext,requestCode,new Intent(action).addFlags(Intent.FLAG_RECEIVER_FOREGROUND).putExtra(EXTRA_TIME,time),PendingIntent.FLAG_UPDATE_CURRENT);
  alarms.cancel(pendingIntent);
  if (mConfig.sleepMode != null) {
    if (DEBUG)     Slog.d(TAG,String.format("Scheduling %s for %s, in %s, now=%s",action,ts(time),NextAlarmTracker.formatDuration(time - now),ts(now)));
    alarms.setExact(AlarmManager.RTC_WAKEUP,time,pendingIntent);
  }
}
