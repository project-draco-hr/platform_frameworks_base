{
  final int N=host.instances.size();
  for (int i=N - 1; i >= 0; i--) {
    GadgetId id=host.instances.get(i);
    deleteGadgetLocked(id);
  }
  host.instances.clear();
  mHosts.remove(host);
  host.callbacks=null;
}
