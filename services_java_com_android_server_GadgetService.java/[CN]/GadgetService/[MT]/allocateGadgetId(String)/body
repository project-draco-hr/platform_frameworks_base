{
synchronized (mGadgetIds) {
    int gadgetId=mNextGadgetId++;
    GadgetId id=new GadgetId();
    id.gadgetId=gadgetId;
    id.hostPackage=hostPackage;
    mGadgetIds.add(id);
    return gadgetId;
  }
}
