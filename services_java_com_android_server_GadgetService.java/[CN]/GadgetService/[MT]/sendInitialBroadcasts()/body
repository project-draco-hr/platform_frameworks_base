{
synchronized (mGadgetIds) {
    final int N=mInstalledProviders.size();
    for (int i=0; i < N; i++) {
      Provider p=mInstalledProviders.get(i);
      if (p.instances.size() > 0) {
        sendEnableIntentLocked(p);
        int[] gadgetIds=getGadgetIds(p);
        sendUpdateIntentLocked(p,gadgetIds);
        registerForBroadcastsLocked(p,gadgetIds);
      }
    }
  }
}
