{
  if ((~persistableModeFlags & modeFlags) != 0) {
    Slog.w(TAG,"Trying to take 0x" + Integer.toHexString(modeFlags) + " but only 0x"+ Integer.toHexString(persistableModeFlags)+ " are available");
  }
  final int before=persistedModeFlags;
  persistedModeFlags|=(persistableModeFlags & modeFlags);
  if (persistedModeFlags != 0) {
    persistedCreateTime=System.currentTimeMillis();
  }
  updateModeFlags();
  return persistedModeFlags != before;
}
