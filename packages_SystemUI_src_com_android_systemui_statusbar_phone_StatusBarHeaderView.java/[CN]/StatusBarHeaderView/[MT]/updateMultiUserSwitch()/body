{
  int marginEnd;
  if (mExpanded && !mOverscrolled) {
    marginEnd=mMultiUserExpandedMargin;
  }
 else   if (mKeyguardShowing) {
    marginEnd=mMultiUserKeyguardMargin;
  }
 else {
    marginEnd=mMultiUserCollapsedMargin;
  }
  int width=mExpanded && !mOverscrolled ? mMultiUserSwitchWidthExpanded : mMultiUserSwitchWidthCollapsed;
  MarginLayoutParams lp=(MarginLayoutParams)mMultiUserSwitch.getLayoutParams();
  if (marginEnd != lp.getMarginEnd() || lp.width != width) {
    lp.setMarginEnd(marginEnd);
    lp.width=width;
    mMultiUserSwitch.setLayoutParams(lp);
  }
}
