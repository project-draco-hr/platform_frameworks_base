{
  mAddPrinterServices.clear();
  List<ResolveInfo> resolveInfos=getActivity().getPackageManager().queryIntentServices(new Intent(android.printservice.PrintService.SERVICE_INTERFACE),PackageManager.GET_SERVICES | PackageManager.GET_META_DATA);
  if (resolveInfos.isEmpty()) {
    return;
  }
  final int resolveInfoCount=resolveInfos.size();
  for (int i=0; i < resolveInfoCount; i++) {
    ResolveInfo resolveInfo=resolveInfos.get(i);
    PrintServiceInfo printServiceInfo=PrintServiceInfo.create(resolveInfo,getActivity());
    String addPrintersActivity=printServiceInfo.getAddPrintersActivityName();
    if (TextUtils.isEmpty(addPrintersActivity)) {
      continue;
    }
    ComponentName addPrintersComponentName=new ComponentName(resolveInfo.serviceInfo.packageName,addPrintersActivity);
    Intent addPritnersIntent=new Intent(Intent.ACTION_MAIN).setComponent(addPrintersComponentName);
    if (!getActivity().getPackageManager().queryIntentActivities(addPritnersIntent,0).isEmpty()) {
      mAddPrinterServices.add(printServiceInfo);
    }
  }
}
