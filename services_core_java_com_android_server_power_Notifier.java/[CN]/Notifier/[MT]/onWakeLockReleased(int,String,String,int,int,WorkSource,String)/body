{
  if (DEBUG) {
    Slog.d(TAG,"onWakeLockReleased: flags=" + flags + ", tag=\""+ tag+ "\", packageName="+ packageName+ ", ownerUid="+ ownerUid+ ", ownerPid="+ ownerPid+ ", workSource="+ workSource);
  }
  try {
    final int monitorType=getBatteryStatsWakeLockMonitorType(flags);
    if (workSource != null) {
      mBatteryStats.noteStopWakelockFromSource(workSource,ownerPid,tag,historyTag,monitorType);
    }
 else {
      mBatteryStats.noteStopWakelock(ownerUid,ownerPid,tag,historyTag,monitorType);
      mAppOps.finishOperation(AppOpsManager.getToken(mAppOps),AppOpsManager.OP_WAKE_LOCK,ownerUid,packageName);
    }
  }
 catch (  RemoteException ex) {
  }
}
