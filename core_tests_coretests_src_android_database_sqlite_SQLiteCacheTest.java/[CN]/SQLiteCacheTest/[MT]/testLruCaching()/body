{
  mDatabase.disableWriteAheadLogging();
  int N=25;
  mDatabase.setMaxSqlCacheSize(N);
  ArrayList<Integer> stmtObjs=new ArrayList<Integer>();
  ArrayList<String> sqlStrings=new ArrayList<String>();
  int stmt0=0;
  for (int i=0; i < N + 1; i++) {
    String s="insert into " + TABLE_NAME + " values("+ i+ ",?);";
    sqlStrings.add(s);
    ClassToTestSqlCompilationAndCaching c=ClassToTestSqlCompilationAndCaching.create(mDatabase,s);
    int n=c.getSqlStatementId();
    stmtObjs.add(i,n);
    if (i == 0) {
      stmt0=n;
    }
    c.close();
  }
  assertEquals(N,mCache.getCachesize());
  assertTrue(mDatabase.getQueuedUpStmtList().contains(stmt0));
  for (int i=1; i < N + 1; i++) {
    SQLiteCompiledSql compSql=mDatabase.mCache.getCompiledStatementForSql(sqlStrings.get(i));
    assertNotNull(compSql);
    assertTrue(stmtObjs.contains(compSql.nStatement));
  }
  assertEquals(N,mCache.getCachesize());
}
