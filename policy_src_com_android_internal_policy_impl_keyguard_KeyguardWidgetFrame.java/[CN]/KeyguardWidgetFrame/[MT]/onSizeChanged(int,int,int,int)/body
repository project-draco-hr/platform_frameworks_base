{
  super.onSizeChanged(w,h,oldw,oldh);
  mForegroundRect.set(mFrameStrokeAdjustment,mFrameStrokeAdjustment,w - mFrameStrokeAdjustment,h - mFrameStrokeAdjustment);
  float x0=mLeftToRight ? 0 : mForegroundRect.width();
  float x1=mLeftToRight ? mForegroundRect.width() : 0;
  mLeftToRightGradient=new LinearGradient(x0,0f,x1,0f,mGradientColor,0,Shader.TileMode.CLAMP);
  mRightToLeftGradient=new LinearGradient(x1,0f,x0,0f,mGradientColor,0,Shader.TileMode.CLAMP);
  if (!mIsSmall) {
    mFrameHeight=h;
  }
  mBackgroundRect.set(0,0,getMeasuredWidth(),Math.min(h,mFrameHeight));
  invalidate();
}
