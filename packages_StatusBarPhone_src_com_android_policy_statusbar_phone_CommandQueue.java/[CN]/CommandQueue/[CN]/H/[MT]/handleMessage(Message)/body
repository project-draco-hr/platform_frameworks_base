{
  int what=msg.what & MSG_MASK;
switch (what) {
case MSG_ICON:
{
      int index=msg.what & INDEX_MASK;
      int viewIndex=mList.getViewIndex(index);
switch (msg.arg1) {
case OP_SET_ICON:
{
          StatusBarIcon icon=(StatusBarIcon)msg.obj;
          StatusBarIcon old=mList.getIcon(index);
          if (old == null) {
            mList.setIcon(index,icon);
            mCallbacks.addIcon(mList.getSlot(index),index,viewIndex,icon);
          }
 else {
            mList.setIcon(index,icon);
            mCallbacks.updateIcon(mList.getSlot(index),index,viewIndex,old,icon);
          }
          break;
        }
case OP_REMOVE_ICON:
      mList.removeIcon(index);
    mCallbacks.removeIcon(mList.getSlot(index),index,viewIndex);
  break;
}
break;
}
}
}
