{
  final SslError sslError;
  try {
    CertificateFactory cf=CertificateFactory.getInstance("X.509");
    X509Certificate cert=(X509Certificate)cf.generateCertificate(new ByteArrayInputStream(certDER));
    SslCertificate sslCert=new SslCertificate(cert);
    sslError=SslError.SslErrorFromChromiumErrorCode(certError,sslCert,url);
  }
 catch (  Exception e) {
    Log.e(LOGTAG,"Can't get the certificate from WebKit, canceling");
    nativeSslCertErrorCancel(handle,certError);
    return;
  }
  if (SslCertLookupTable.getInstance().isAllowed(sslError)) {
    nativeSslCertErrorProceed(handle);
    mCallbackProxy.onProceededAfterSslError(sslError);
    return;
  }
  SslErrorHandler handler=new SslErrorHandler(){
    @Override public void proceed(){
      SslCertLookupTable.getInstance().setIsAllowed(sslError);
      post(new Runnable(){
        public void run(){
          nativeSslCertErrorProceed(handle);
        }
      }
);
    }
    @Override public void cancel(){
      post(new Runnable(){
        public void run(){
          nativeSslCertErrorCancel(handle,certError);
        }
      }
);
    }
  }
;
  mCallbackProxy.onReceivedSslError(handler,sslError);
}
