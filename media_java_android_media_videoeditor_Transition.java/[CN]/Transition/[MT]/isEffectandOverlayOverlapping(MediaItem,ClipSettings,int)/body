{
  List<Effect> effects;
  List<Overlay> overlays;
  List<EffectSettings> effectSettings=new ArrayList<EffectSettings>();
  EffectSettings tmpEffectSettings;
  effects=m.getAllEffects();
  for (  Effect effect : effects) {
    if (effect instanceof EffectColor) {
      tmpEffectSettings=mNativeHelper.getEffectSettings((EffectColor)effect);
      mNativeHelper.adjustEffectsStartTimeAndDuration(tmpEffectSettings,clipSettings.beginCutTime,clipSettings.endCutTime);
      if (tmpEffectSettings.duration != 0) {
        if (m instanceof MediaVideoItem) {
          tmpEffectSettings.fiftiesFrameRate=mNativeHelper.GetClosestVideoFrameRate(((MediaVideoItem)m).getFps());
        }
        effectSettings.add(tmpEffectSettings);
      }
    }
  }
  overlays=m.getAllOverlays();
  for (  Overlay overlay : overlays) {
    tmpEffectSettings=mNativeHelper.getOverlaySettings((OverlayFrame)overlay);
    mNativeHelper.adjustEffectsStartTimeAndDuration(tmpEffectSettings,clipSettings.beginCutTime,clipSettings.endCutTime);
    if (tmpEffectSettings.duration != 0) {
      effectSettings.add(tmpEffectSettings);
    }
  }
  return effectSettings;
}
