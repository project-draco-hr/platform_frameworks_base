{
  if (mIsDestroyed) {
    Log.w(LOG_TAG,"Not updating removed service - session destroyed");
    return;
  }
  if (mPrinters.isEmpty()) {
    return;
  }
  List<PrinterId> removedPrinterIds=null;
  final int printerCount=mPrinters.size();
  for (int i=0; i < printerCount; i++) {
    PrinterId printerId=mPrinters.keyAt(i);
    if (printerId.getServiceName().equals(serviceName)) {
      if (removedPrinterIds == null) {
        removedPrinterIds=new ArrayList<PrinterId>();
      }
      removedPrinterIds.add(printerId);
    }
  }
  if (!removedPrinterIds.isEmpty()) {
    mHandler.obtainMessage(SessionHandler.MSG_DISPATCH_PRINTERS_REMOVED,removedPrinterIds).sendToTarget();
  }
}
