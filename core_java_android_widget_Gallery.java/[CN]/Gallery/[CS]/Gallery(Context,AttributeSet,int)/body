{
  super(context,attrs,defStyle);
  mGestureDetector=new GestureDetector(context,this);
  mGestureDetector.setIsLongpressEnabled(true);
  TypedArray a=context.obtainStyledAttributes(attrs,com.android.internal.R.styleable.Gallery,defStyle,0);
  int index=a.getInt(com.android.internal.R.styleable.Gallery_gravity,-1);
  if (index >= 0) {
    setGravity(index);
  }
  int animationDuration=a.getInt(com.android.internal.R.styleable.Gallery_animationDuration,-1);
  if (animationDuration > 0) {
    setAnimationDuration(animationDuration);
  }
  int spacing=a.getDimensionPixelOffset(com.android.internal.R.styleable.Gallery_spacing,0);
  setSpacing(spacing);
  float unselectedAlpha=a.getFloat(com.android.internal.R.styleable.Gallery_unselectedAlpha,0.5f);
  setUnselectedAlpha(unselectedAlpha);
  a.recycle();
  mGroupFlags|=FLAG_USE_CHILD_DRAWING_ORDER;
  mGroupFlags|=FLAG_SUPPORT_STATIC_TRANSFORMATIONS;
}
