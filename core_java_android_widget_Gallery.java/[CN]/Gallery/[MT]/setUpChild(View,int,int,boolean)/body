{
  Gallery.LayoutParams lp=(Gallery.LayoutParams)child.getLayoutParams();
  if (lp == null) {
    lp=(Gallery.LayoutParams)generateDefaultLayoutParams();
  }
  addViewInLayout(child,fromLeft != mIsRtl ? -1 : 0,lp);
  child.setSelected(offset == 0);
  int childHeightSpec=ViewGroup.getChildMeasureSpec(mHeightMeasureSpec,mSpinnerPadding.top + mSpinnerPadding.bottom,lp.height);
  int childWidthSpec=ViewGroup.getChildMeasureSpec(mWidthMeasureSpec,mSpinnerPadding.left + mSpinnerPadding.right,lp.width);
  child.measure(childWidthSpec,childHeightSpec);
  int childLeft;
  int childRight;
  int childTop=calculateTop(child,true);
  int childBottom=childTop + child.getMeasuredHeight();
  int width=child.getMeasuredWidth();
  if (fromLeft) {
    childLeft=x;
    childRight=childLeft + width;
  }
 else {
    childLeft=x - width;
    childRight=x;
  }
  child.layout(childLeft,childTop,childRight,childBottom);
}
