{
  int numChildren=getChildCount();
  int firstPosition=mFirstPosition;
  int start=0;
  int count=0;
  if (toLeft) {
    final int galleryLeft=mPaddingLeft;
    for (int i=0; i < numChildren; i++) {
      final View child=getChildAt(i);
      if (child.getRight() >= galleryLeft) {
        break;
      }
 else {
        count++;
        mRecycler.put(firstPosition + i,child);
      }
    }
  }
 else {
    final int galleryRight=getWidth() - mPaddingRight;
    for (int i=numChildren - 1; i >= 0; i--) {
      final View child=getChildAt(i);
      if (child.getLeft() <= galleryRight) {
        break;
      }
 else {
        start=i;
        count++;
        mRecycler.put(firstPosition + i,child);
      }
    }
  }
  detachViewsFromParent(start,count);
  if (toLeft) {
    mFirstPosition+=count;
  }
}
