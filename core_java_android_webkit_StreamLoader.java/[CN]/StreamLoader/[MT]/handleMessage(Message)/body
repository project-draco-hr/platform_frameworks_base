{
  if (WebView.DEBUG && mHandler.isSynchronous()) {
    throw new AssertionError();
  }
  if (mHandler.cancelled()) {
    closeStreamAndSendEndData();
    return;
  }
switch (msg.what) {
case MSG_STATUS:
    if (setupStreamAndSendStatus()) {
      mData=new byte[8192];
      sendMessage(obtainMessage(MSG_HEADERS));
    }
  break;
case MSG_HEADERS:
sendHeaders();
sendMessage(obtainMessage(MSG_DATA));
break;
case MSG_DATA:
if (sendData()) {
sendMessage(obtainMessage(MSG_END));
}
 else {
sendMessage(obtainMessage(MSG_DATA));
}
break;
case MSG_END:
closeStreamAndSendEndData();
break;
default :
super.handleMessage(msg);
break;
}
}
