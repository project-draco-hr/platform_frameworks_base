{
  if (!mHandler.isSynchronous()) {
    sendMessage(obtainMessage(MSG_STATUS));
  }
 else {
    if (setupStreamAndSendStatus()) {
      mData=new byte[8192];
      sendHeaders();
      while (!sendData() && !mHandler.cancelled())       ;
      closeStreamAndSendEndData();
      mHandler.loadSynchronousMessages();
    }
  }
}
