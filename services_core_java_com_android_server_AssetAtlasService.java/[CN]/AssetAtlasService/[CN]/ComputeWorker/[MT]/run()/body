{
  if (DEBUG_ATLAS)   Log.d(LOG_TAG,"Running " + Thread.currentThread().getName());
  Atlas.Entry entry=new Atlas.Entry();
  for (int width=mEnd; width > mStart; width-=mStep) {
    for (int height=MAX_SIZE; height > MIN_SIZE; height-=STEP) {
      if (width * height <= mThreshold)       continue;
      boolean packSuccess=false;
      for (      Atlas.Type type : Atlas.Type.values()) {
        final int count=packBitmaps(type,width,height,entry);
        if (count > 0) {
          mResults.add(new WorkerResult(type,width,height,count));
          if (count == mBitmaps.size()) {
            packSuccess=true;
            break;
          }
        }
      }
      if (!packSuccess) {
        break;
      }
    }
  }
  if (mSignal != null) {
    mSignal.countDown();
  }
}
