{
  mContext=context;
  mHandler=new H(bgLooper);
  final BluetoothManager bluetoothManager=(BluetoothManager)context.getSystemService(Context.BLUETOOTH_SERVICE);
  mAdapter=bluetoothManager.getAdapter();
  if (mAdapter == null) {
    Log.w(TAG,"Default BT adapter not found");
    return;
  }
  mReceiver.register();
  setAdapterState(mAdapter.getState());
  updateBondedDevices();
  bindAllProfiles();
}
