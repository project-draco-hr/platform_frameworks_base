{
  mScrollView=(ScrollView)mWindow.findViewById(R.id.scrollView);
  mScrollView.setFocusable(false);
  mMessageView=(TextView)mWindow.findViewById(R.id.message);
  if (mMessageView == null) {
    return;
  }
  if (mMessage != null) {
    mMessageView.setText(mMessage);
  }
 else {
    mMessageView.setVisibility(View.GONE);
    mScrollView.removeView(mMessageView);
    if (mListView != null) {
      final ViewGroup scrollParent=(ViewGroup)mScrollView.getParent();
      final int childIndex=scrollParent.indexOfChild(mScrollView);
      scrollParent.removeViewAt(childIndex);
      scrollParent.addView(mListView,childIndex,new LayoutParams(MATCH_PARENT,MATCH_PARENT));
    }
 else {
      contentPanel.setVisibility(View.GONE);
    }
  }
  final View indicatorUp=mWindow.findViewById(R.id.scrollIndicatorUp);
  final View indicatorDown=mWindow.findViewById(R.id.scrollIndicatorDown);
  if (indicatorUp != null || indicatorDown != null) {
    if (mMessage != null) {
      mScrollView.setOnScrollChangeListener(new View.OnScrollChangeListener(){
        @Override public void onScrollChange(        View v,        int scrollX,        int scrollY,        int oldScrollX,        int oldScrollY){
          manageScrollIndicators(v,indicatorUp,indicatorDown);
        }
      }
);
      mScrollView.post(new Runnable(){
        @Override public void run(){
          manageScrollIndicators(mScrollView,indicatorUp,indicatorDown);
        }
      }
);
    }
 else     if (mListView != null) {
      mListView.setOnScrollListener(new AbsListView.OnScrollListener(){
        @Override public void onScrollStateChanged(        AbsListView view,        int scrollState){
        }
        @Override public void onScroll(        AbsListView v,        int firstVisibleItem,        int visibleItemCount,        int totalItemCount){
          manageScrollIndicators(v,indicatorUp,indicatorDown);
        }
      }
);
      mListView.post(new Runnable(){
        @Override public void run(){
          manageScrollIndicators(mListView,indicatorUp,indicatorDown);
        }
      }
);
    }
 else {
      if (indicatorUp != null) {
        contentPanel.removeView(indicatorUp);
      }
      if (indicatorDown != null) {
        contentPanel.removeView(indicatorDown);
      }
    }
  }
}
