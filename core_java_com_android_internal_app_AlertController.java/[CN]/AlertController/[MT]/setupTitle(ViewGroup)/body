{
  if (mCustomTitleView != null) {
    LayoutParams lp=new LayoutParams(LayoutParams.MATCH_PARENT,LayoutParams.WRAP_CONTENT);
    topPanel.addView(mCustomTitleView,0,lp);
    View titleTemplate=mWindow.findViewById(R.id.title_template);
    titleTemplate.setVisibility(View.GONE);
  }
 else {
    mIconView=(ImageView)mWindow.findViewById(R.id.icon);
    final boolean hasTextTitle=!TextUtils.isEmpty(mTitle);
    if (hasTextTitle) {
      mTitleView=(TextView)mWindow.findViewById(R.id.alertTitle);
      mTitleView.setText(mTitle);
      if (mIconId != 0) {
        mIconView.setImageResource(mIconId);
      }
 else       if (mIcon != null) {
        mIconView.setImageDrawable(mIcon);
      }
 else {
        mTitleView.setPadding(mIconView.getPaddingLeft(),mIconView.getPaddingTop(),mIconView.getPaddingRight(),mIconView.getPaddingBottom());
        mIconView.setVisibility(View.GONE);
      }
    }
 else {
      final View titleTemplate=mWindow.findViewById(R.id.title_template);
      titleTemplate.setVisibility(View.GONE);
      mIconView.setVisibility(View.GONE);
      topPanel.setVisibility(View.GONE);
    }
  }
}
