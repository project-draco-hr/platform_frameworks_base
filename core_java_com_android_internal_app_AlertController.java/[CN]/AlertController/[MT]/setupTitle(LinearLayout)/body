{
  boolean hasTitle=true;
  if (mCustomTitleView != null) {
    LinearLayout.LayoutParams lp=new LinearLayout.LayoutParams(LinearLayout.LayoutParams.FILL_PARENT,LinearLayout.LayoutParams.WRAP_CONTENT);
    topPanel.addView(mCustomTitleView,lp);
    View titleTemplate=mWindow.findViewById(R.id.title_template);
    titleTemplate.setVisibility(View.GONE);
  }
 else {
    final boolean hasTextTitle=!TextUtils.isEmpty(mTitle);
    mIconView=(ImageView)mWindow.findViewById(R.id.icon);
    if (hasTextTitle) {
      mTitleView=(TextView)mWindow.findViewById(R.id.alertTitle);
      mTitleView.setText(mTitle);
      mIconView.setImageResource(R.drawable.ic_dialog_menu_generic);
      if (mIconId > 0) {
        mIconView.setImageResource(mIconId);
      }
 else       if (mIcon != null) {
        mIconView.setImageDrawable(mIcon);
      }
 else       if (mIconId == 0) {
        mTitleView.setPadding(mIconView.getPaddingLeft(),mIconView.getPaddingTop(),mIconView.getPaddingRight(),mIconView.getPaddingBottom());
        mIconView.setVisibility(View.GONE);
      }
    }
 else {
      View titleTemplate=mWindow.findViewById(R.id.title_template);
      titleTemplate.setVisibility(View.GONE);
      mIconView.setVisibility(View.GONE);
      hasTitle=false;
    }
  }
  return hasTitle;
}
