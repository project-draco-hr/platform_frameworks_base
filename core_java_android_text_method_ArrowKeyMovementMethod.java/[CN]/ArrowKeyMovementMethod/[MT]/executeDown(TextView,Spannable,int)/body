{
  boolean handled=false;
switch (keyCode) {
case KeyEvent.KEYCODE_DPAD_UP:
    handled|=up(widget,buffer);
  break;
case KeyEvent.KEYCODE_DPAD_DOWN:
handled|=down(widget,buffer);
break;
case KeyEvent.KEYCODE_DPAD_LEFT:
handled|=left(widget,buffer);
break;
case KeyEvent.KEYCODE_DPAD_RIGHT:
handled|=right(widget,buffer);
break;
case KeyEvent.KEYCODE_DPAD_CENTER:
if (MetaKeyKeyListener.getMetaState(buffer,MetaKeyKeyListener.META_SELECTING) != 0) {
if (widget.showContextMenu()) {
handled=true;
}
}
}
if (handled) {
MetaKeyKeyListener.adjustMetaAfterKeypress(buffer);
MetaKeyKeyListener.resetLockedMeta(buffer);
}
return handled;
}
