{
  if (mLockPatternUtils.isSecure()) {
    final Intent intent=new Intent(MediaStore.INTENT_ACTION_STILL_IMAGE_CAMERA_SECURE);
    intent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);
    if (wouldLaunchResolverActivity(intent)) {
      launchActivity(intent,false);
    }
 else {
      launchActivity(intent,true);
    }
  }
 else {
    launchActivity(new Intent(MediaStore.INTENT_ACTION_STILL_IMAGE_CAMERA),false);
  }
}
