{
  if (mEmergencyCallButton != null) {
    boolean en=mLockPatternUtils.isEmergencyCallCapable() || (phoneState == TelephonyManager.CALL_STATE_OFFHOOK);
    if (en && KeyguardUpdateMonitor.isSimLocked(simState)) {
      en=mLockPatternUtils.isEmergencyCallEnabledWhileSimLocked();
    }
    mLockPatternUtils.updateEmergencyCallButtonState(mEmergencyCallButton,phoneState,en);
  }
}
