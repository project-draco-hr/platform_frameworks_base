{
  mCallback.userActivity(EMERGENCY_CALL_TIMEOUT);
  if (TelephonyManager.getDefault().getCallState() == TelephonyManager.CALL_STATE_OFFHOOK) {
    mLockPatternUtils.resumeCall();
  }
 else {
    Intent intent=new Intent(ACTION_EMERGENCY_DIAL);
    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);
    getContext().startActivity(intent);
  }
}
