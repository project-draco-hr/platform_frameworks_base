{
  String scheme=extras.getString(PackageManager.EXTRA_INTENT_FILTER_VERIFICATION_URI_SCHEME);
  if (TextUtils.isEmpty(scheme)) {
    scheme=DEFAULT_SCHEME;
  }
  int verificationId=extras.getInt(PackageManager.EXTRA_INTENT_FILTER_VERIFICATION_ID);
  String hosts=extras.getString(PackageManager.EXTRA_INTENT_FILTER_VERIFICATION_HOSTS);
  String packageName=extras.getString(PackageManager.EXTRA_INTENT_FILTER_VERIFICATION_PACKAGE_NAME);
  Set<String> fingerprints=getFingerprints(packageName);
  Log.d(TAG,"Received IntentFilter verification broadcast with verificationId:" + verificationId + " hosts:'"+ hosts+ "' scheme:"+ scheme);
  VerificationState vs=getVerificationState(verificationId,hosts,packageName,fingerprints);
  if (hasNetwork()) {
    sendNetworkVerifications(scheme,vs);
    return false;
  }
  sendFailureResponseIfNeeded(vs);
  return true;
}
