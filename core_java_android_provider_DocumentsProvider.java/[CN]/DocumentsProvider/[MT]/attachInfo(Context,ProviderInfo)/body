{
  mAuthority=info.authority;
  mMatcher=new UriMatcher(UriMatcher.NO_MATCH);
  mMatcher.addURI(mAuthority,"root",MATCH_ROOTS);
  mMatcher.addURI(mAuthority,"root/*",MATCH_ROOT);
  mMatcher.addURI(mAuthority,"root/*/recent",MATCH_RECENT);
  mMatcher.addURI(mAuthority,"root/*/search",MATCH_SEARCH);
  mMatcher.addURI(mAuthority,"document/*",MATCH_DOCUMENT);
  mMatcher.addURI(mAuthority,"document/*/children",MATCH_CHILDREN);
  mMatcher.addURI(mAuthority,"tree/*/document/*",MATCH_DOCUMENT_TREE);
  mMatcher.addURI(mAuthority,"tree/*/document/*/children",MATCH_CHILDREN_TREE);
  if (!info.exported) {
    throw new SecurityException("Provider must be exported");
  }
  if (!info.grantUriPermissions) {
    throw new SecurityException("Provider must grantUriPermissions");
  }
  if (!android.Manifest.permission.MANAGE_DOCUMENTS.equals(info.readPermission) || !android.Manifest.permission.MANAGE_DOCUMENTS.equals(info.writePermission)) {
    throw new SecurityException("Provider must be protected by MANAGE_DOCUMENTS");
  }
  super.attachInfo(context,info);
}
