{
  ConnectivityManager connMgr=(ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);
  NetworkInfo activeInfo=connMgr.getActiveNetworkInfo();
  if (activeInfo != null && activeInfo.isConnected()) {
    wifiConnected=activeInfo.getType() == ConnectivityManager.TYPE_WIFI;
    mobileConnected=activeInfo.getType() == ConnectivityManager.TYPE_MOBILE;
  }
 else {
    wifiConnected=false;
    mobileConnected=false;
  }
}
