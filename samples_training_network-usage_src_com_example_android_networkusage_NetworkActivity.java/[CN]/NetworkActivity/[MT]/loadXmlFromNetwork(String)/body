{
  InputStream stream=null;
  StackOverflowXmlParser stackOverflowXmlParser=new StackOverflowXmlParser();
  List<Entry> entries=null;
  String title=null;
  String url=null;
  String summary=null;
  Calendar rightNow=Calendar.getInstance();
  DateFormat formatter=new SimpleDateFormat("MMM dd h:mmaa");
  SharedPreferences sharedPrefs=PreferenceManager.getDefaultSharedPreferences(this);
  boolean pref=sharedPrefs.getBoolean("summaryPref",false);
  StringBuilder htmlString=new StringBuilder();
  htmlString.append("<h3>" + getResources().getString(R.string.page_title) + "</h3>");
  htmlString.append("<em>" + getResources().getString(R.string.updated) + " "+ formatter.format(rightNow.getTime())+ "</em>");
  try {
    stream=downloadUrl(urlString);
    entries=stackOverflowXmlParser.parse(stream);
  }
  finally {
    if (stream != null) {
      stream.close();
    }
  }
  for (  Entry entry : entries) {
    htmlString.append("<p><a href='");
    htmlString.append(entry.link);
    htmlString.append("'>" + entry.title + "</a></p>");
    if (pref) {
      htmlString.append(entry.summary);
    }
  }
  return htmlString.toString();
}
