{
  if (mTaskIndexMap.containsKey(task.key)) {
    Rect taskRect=stackLayout.mTaskRect;
    int taskIndex=mTaskIndexMap.get(task.key);
    int topOffset=(stackLayout.mFreeformRect.top - taskRect.top);
    int x=taskIndex % mFreeformCellXCount;
    int y=taskIndex / mFreeformCellXCount;
    int bitmapWidth=task.thumbnail.getWidth();
    int bitmapHeight=task.thumbnail.getHeight();
    float thumbnailScale=Math.min((float)mFreeformCellWidth / bitmapWidth,(float)mFreeformCellHeight / bitmapHeight);
    float thumbnailWidth=bitmapWidth * thumbnailScale;
    float thumbnailHeight=bitmapHeight * thumbnailScale;
    int scaleXOffset=(int)(((1f - thumbnailScale) * thumbnailWidth) / 2);
    int scaleYOffset=(int)(((1f - thumbnailScale) * thumbnailHeight) / 2);
    transformOut.scale=thumbnailScale * 0.9f;
    transformOut.translationX=x * mFreeformCellWidth - scaleXOffset;
    transformOut.translationY=topOffset + y * mFreeformCellHeight - scaleYOffset;
    transformOut.translationZ=stackLayout.mMaxTranslationZ;
    transformOut.rect.set(stackLayout.mTaskRect);
    transformOut.rect.offset(transformOut.translationX,transformOut.translationY);
    Utilities.scaleRectAboutCenter(transformOut.rect,transformOut.scale);
    transformOut.visible=true;
    transformOut.p=1f;
    if (DEBUG) {
      Log.d(TAG,"getTransform: " + task.key + ", "+ transformOut);
    }
    return transformOut;
  }
  return null;
}
