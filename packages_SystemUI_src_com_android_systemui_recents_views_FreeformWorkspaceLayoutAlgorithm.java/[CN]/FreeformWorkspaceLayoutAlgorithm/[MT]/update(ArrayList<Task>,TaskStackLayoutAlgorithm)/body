{
  int numFreeformTasks=stackLayout.mNumFreeformTasks;
  if (!freeformTasks.isEmpty()) {
    mFreeformCellXCount=Math.max(2,(int)Math.ceil(Math.sqrt(numFreeformTasks)));
    mFreeformCellYCount=Math.max(2,(int)Math.ceil((float)numFreeformTasks / mFreeformCellXCount));
    mFreeformCellWidth=stackLayout.mFreeformRect.width() / mFreeformCellXCount;
    mFreeformCellHeight=mFreeformCellWidth;
    int taskCount=freeformTasks.size();
    for (int i=0; i < taskCount; i++) {
      Task task=freeformTasks.get(i);
      mTaskIndexMap.put(task.key,i);
    }
    if (DEBUG) {
      Log.d(TAG,"mFreeformCellXCount: " + mFreeformCellXCount);
      Log.d(TAG,"mFreeformCellYCount: " + mFreeformCellYCount);
      Log.d(TAG,"mFreeformCellWidth: " + mFreeformCellWidth);
      Log.d(TAG,"mFreeformCellHeight: " + mFreeformCellHeight);
    }
  }
}
