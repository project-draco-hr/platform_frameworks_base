{
  long time=mDurations.getValueForId((byte)state);
  if (mCurState == state) {
    time+=now - mStartTime;
  }
  return time;
}
