{
  VpnManager m=new VpnManager(mContext);
  Throwable err=mError;
  if ((s == VpnState.IDLE) && (err != null)) {
    if (err instanceof UnknownHostException) {
      m.broadcastConnectivity(mProfile.getName(),s,VpnManager.VPN_ERROR_UNKNOWN_SERVER);
    }
 else     if (err instanceof VpnConnectingError) {
      m.broadcastConnectivity(mProfile.getName(),s,((VpnConnectingError)err).getErrorCode());
    }
 else {
      m.broadcastConnectivity(mProfile.getName(),s,VpnManager.VPN_ERROR_CONNECTION_FAILED);
    }
  }
 else {
    m.broadcastConnectivity(mProfile.getName(),s);
  }
}
