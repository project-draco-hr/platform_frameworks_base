{
  int iconId=R.drawable.stat_sys_data_bluetooth;
  String contentDescription=null;
  String action=intent.getAction();
  if (action.equals(BluetoothAdapter.ACTION_STATE_CHANGED)) {
    int state=intent.getIntExtra(BluetoothAdapter.EXTRA_STATE,BluetoothAdapter.ERROR);
    mBluetoothEnabled=state == BluetoothAdapter.STATE_ON;
  }
 else   if (action.equals(BluetoothAdapter.ACTION_CONNECTION_STATE_CHANGED)) {
    int state=intent.getIntExtra(BluetoothAdapter.EXTRA_CONNECTION_STATE,BluetoothAdapter.STATE_DISCONNECTED);
    if (state == BluetoothAdapter.STATE_CONNECTED) {
      iconId=R.drawable.stat_sys_data_bluetooth_connected;
      contentDescription=mContext.getString(R.string.accessibility_bluetooth_connected);
    }
 else {
      contentDescription=mContext.getString(R.string.accessibility_bluetooth_disconnected);
    }
  }
 else {
    return;
  }
  mService.setIcon(SLOT_BLUETOOTH,iconId,0,contentDescription);
  mService.setIconVisibility(SLOT_BLUETOOTH,mBluetoothEnabled);
}
