{
  if (!hasService()) {
    mService.setIconVisibility("cdma_eri",false);
    return;
  }
  if (!isCdma()) {
    mService.setIconVisibility("cdma_eri",false);
    return;
  }
  int[] iconList=sRoamingIndicatorImages_cdma;
  int iconIndex=state.getCdmaEriIconIndex();
  int iconMode=state.getCdmaEriIconMode();
  if (iconIndex == -1) {
    Slog.e(TAG,"getCdmaEriIconIndex returned null, skipping ERI icon update");
    return;
  }
  if (iconMode == -1) {
    Slog.e(TAG,"getCdmeEriIconMode returned null, skipping ERI icon update");
    return;
  }
  if (iconIndex == EriInfo.ROAMING_INDICATOR_OFF) {
    if (false)     Slog.v(TAG,"Cdma ROAMING_INDICATOR_OFF, removing ERI icon");
    mService.setIconVisibility("cdma_eri",false);
    return;
  }
switch (iconMode) {
case EriInfo.ROAMING_ICON_MODE_NORMAL:
    mService.setIcon("cdma_eri",iconList[iconIndex],0,null);
  mService.setIconVisibility("cdma_eri",true);
break;
case EriInfo.ROAMING_ICON_MODE_FLASH:
mService.setIcon("cdma_eri",R.drawable.stat_sys_roaming_cdma_flash,0,null);
mService.setIconVisibility("cdma_eri",true);
break;
}
mService.setIcon("phone_signal",mPhoneSignalIconId,0,null);
}
