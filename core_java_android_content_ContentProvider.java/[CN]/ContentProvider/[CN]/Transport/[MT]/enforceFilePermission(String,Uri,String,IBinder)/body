{
  if (mode != null && mode.indexOf('w') != -1) {
    if (enforceWritePermission(callingPkg,uri,callerToken) != AppOpsManager.MODE_ALLOWED) {
      throw new FileNotFoundException("App op not allowed");
    }
  }
 else {
    if (enforceReadPermission(callingPkg,uri,callerToken) != AppOpsManager.MODE_ALLOWED) {
      throw new FileNotFoundException("App op not allowed");
    }
  }
}
