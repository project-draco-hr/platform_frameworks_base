{
  GLEnvironment glEnv=mFilterContext.getGLEnvironment();
  if (glEnv == null || !glEnv.isContextActive()) {
    if (GLEnvironment.isAnyContextActive()) {
      throw new RuntimeException("Applying effect in wrong GL context!");
    }
 else {
      throw new RuntimeException("Attempting to apply effect without valid GL context!");
    }
  }
}
