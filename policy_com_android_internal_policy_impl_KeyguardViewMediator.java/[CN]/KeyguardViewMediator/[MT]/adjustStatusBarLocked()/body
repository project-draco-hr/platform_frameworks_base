{
  if (mStatusBarManager == null) {
    mStatusBarManager=(StatusBarManager)mContext.getSystemService(Context.STATUS_BAR_SERVICE);
  }
  if (mStatusBarManager == null) {
    Log.w(TAG,"Could not get status bar manager");
  }
 else {
    if (mShowLockIcon) {
      if (mShowing && isSecure()) {
        if (mSecureLockIcon == null) {
          mSecureLockIcon=mStatusBarManager.addIcon("secure",com.android.internal.R.drawable.stat_sys_secure,0);
        }
      }
 else {
        if (mSecureLockIcon != null) {
          mStatusBarManager.removeIcon(mSecureLockIcon);
          mSecureLockIcon=null;
        }
      }
    }
    boolean enable=!mShowing || (mHidden && !isSecure());
    mStatusBarManager.disable(enable ? StatusBarManager.DISABLE_NONE : StatusBarManager.DISABLE_EXPAND);
  }
}
