{
  if (mStatusBarManager == null) {
    mStatusBarManager=(StatusBarManager)mContext.getSystemService(Context.STATUS_BAR_SERVICE);
  }
  if (mStatusBarManager == null) {
    Log.w(TAG,"Could not get status bar manager");
  }
 else {
    if (mShowLockIcon) {
      if (mShowing && isSecure()) {
        if (!mShowingLockIcon) {
          mStatusBarManager.setIcon("secure",com.android.internal.R.drawable.stat_sys_secure,0);
          mShowingLockIcon=true;
        }
      }
 else {
        if (mShowingLockIcon) {
          mStatusBarManager.removeIcon("secure");
          mShowingLockIcon=false;
        }
      }
    }
    boolean enable=!mShowing || (mHidden && !isSecure());
    mStatusBarManager.disable(enable ? StatusBarManager.DISABLE_NONE : StatusBarManager.DISABLE_EXPAND);
  }
}
