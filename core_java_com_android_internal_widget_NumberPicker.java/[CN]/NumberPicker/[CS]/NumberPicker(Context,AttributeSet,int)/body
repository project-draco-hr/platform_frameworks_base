{
  super(context,attrs);
  setOrientation(VERTICAL);
  mInflater=(LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  mInflater.inflate(R.layout.number_picker,this,true);
  mHandler=new Handler();
  mInputFilter=new NumberPickerInputFilter();
  mNumberInputFilter=new NumberRangeKeyListener();
  mIncrementButton=(NumberPickerButton)findViewById(R.id.increment);
  mIncrementButton.setOnClickListener(this);
  mIncrementButton.setOnLongClickListener(this);
  mIncrementButton.setNumberPicker(this);
  mDecrementButton=(NumberPickerButton)findViewById(R.id.decrement);
  mDecrementButton.setOnClickListener(this);
  mDecrementButton.setOnLongClickListener(this);
  mDecrementButton.setNumberPicker(this);
  mText=(TextView)findViewById(R.id.timepicker_input);
  mText.setOnFocusChangeListener(this);
  mText.setFilters(new InputFilter[]{mInputFilter});
  mText.setRawInputType(InputType.TYPE_CLASS_NUMBER);
  mSlideUpOutAnimation=new TranslateAnimation(Animation.RELATIVE_TO_SELF,0,Animation.RELATIVE_TO_SELF,0,Animation.RELATIVE_TO_SELF,0,Animation.RELATIVE_TO_SELF,-100);
  mSlideUpOutAnimation.setDuration(200);
  mSlideUpInAnimation=new TranslateAnimation(Animation.RELATIVE_TO_SELF,0,Animation.RELATIVE_TO_SELF,0,Animation.RELATIVE_TO_SELF,100,Animation.RELATIVE_TO_SELF,0);
  mSlideUpInAnimation.setDuration(200);
  mSlideDownOutAnimation=new TranslateAnimation(Animation.RELATIVE_TO_SELF,0,Animation.RELATIVE_TO_SELF,0,Animation.RELATIVE_TO_SELF,0,Animation.RELATIVE_TO_SELF,100);
  mSlideDownOutAnimation.setDuration(200);
  mSlideDownInAnimation=new TranslateAnimation(Animation.RELATIVE_TO_SELF,0,Animation.RELATIVE_TO_SELF,0,Animation.RELATIVE_TO_SELF,-100,Animation.RELATIVE_TO_SELF,0);
  mSlideDownInAnimation.setDuration(200);
  if (!isEnabled()) {
    setEnabled(false);
  }
}
