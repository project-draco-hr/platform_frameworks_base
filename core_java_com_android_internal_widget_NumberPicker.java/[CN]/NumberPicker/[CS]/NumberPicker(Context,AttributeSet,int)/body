{
  super(context,attrs);
  setOrientation(VERTICAL);
  LayoutInflater inflater=(LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  inflater.inflate(R.layout.number_picker,this,true);
  mHandler=new Handler();
  InputFilter inputFilter=new NumberPickerInputFilter();
  mNumberInputFilter=new NumberRangeKeyListener();
  mIncrementButton=(NumberPickerButton)findViewById(R.id.increment);
  mIncrementButton.setOnClickListener(this);
  mIncrementButton.setOnLongClickListener(this);
  mIncrementButton.setNumberPicker(this);
  mDecrementButton=(NumberPickerButton)findViewById(R.id.decrement);
  mDecrementButton.setOnClickListener(this);
  mDecrementButton.setOnLongClickListener(this);
  mDecrementButton.setNumberPicker(this);
  mText=(TextView)findViewById(R.id.timepicker_input);
  mText.setOnFocusChangeListener(this);
  mText.setFilters(new InputFilter[]{inputFilter});
  mText.setRawInputType(InputType.TYPE_CLASS_NUMBER);
  if (!isEnabled()) {
    setEnabled(false);
  }
}
