{
  boolean fullyClosed=true;
  boolean fullyOpened=false;
  for (  PanelView pv : mPanels) {
    if (pv.getExpandedHeight() > 0f) {
      fullyClosed=false;
      final float thisFrac=pv.getExpandedFraction();
      LOG("panel %s: f=%.1f",pv,thisFrac);
      if (panel == pv) {
        if (thisFrac == 1f)         fullyOpened=true;
      }
 else {
        pv.setExpandedFraction(1f - frac);
      }
    }
  }
  if (fullyOpened)   onPanelFullyOpened();
  if (fullyClosed)   onAllPanelsCollapsed();
 else   onPanelPeeked();
  LOG("panelExpansionChanged: [%s%s ]",fullyOpened ? " fullyOpened" : "",fullyClosed ? " fullyClosed" : "");
}
