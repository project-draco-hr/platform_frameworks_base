{
  boolean fullyClosed=true;
  PanelView fullyOpenedPanel=null;
  for (  PanelView pv : mPanels) {
    if (pv.getExpandedHeight() > 0f) {
      fullyClosed=false;
      final float thisFrac=pv.getExpandedFraction();
      LOG("panel %s: f=%.1f",pv,thisFrac);
      if (panel == pv) {
        if (thisFrac == 1f)         fullyOpenedPanel=panel;
      }
 else {
        pv.setExpandedFraction(1f - frac);
      }
    }
  }
  if (fullyOpenedPanel != null)   onPanelFullyOpened(fullyOpenedPanel);
  if (fullyClosed)   onAllPanelsCollapsed();
 else   onPanelPeeked();
  LOG("panelExpansionChanged: [%s%s ]",(fullyOpenedPanel != null) ? " fullyOpened" : "",fullyClosed ? " fullyClosed" : "");
}
