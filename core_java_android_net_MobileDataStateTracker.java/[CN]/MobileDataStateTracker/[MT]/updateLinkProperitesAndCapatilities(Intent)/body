{
  mLinkProperties=intent.getParcelableExtra(PhoneConstants.DATA_LINK_PROPERTIES_KEY);
  if (mLinkProperties == null) {
    loge("CONNECTED event did not supply link properties.");
    mLinkProperties=new LinkProperties();
  }
  mLinkProperties.setMtu(mContext.getResources().getInteger(com.android.internal.R.integer.config_mobile_mtu));
  mNetworkCapabilities=intent.getParcelableExtra(PhoneConstants.DATA_NETWORK_CAPABILITIES_KEY);
  if (mNetworkCapabilities == null) {
    loge("CONNECTED event did not supply network capabilities.");
    mNetworkCapabilities=new NetworkCapabilities();
  }
}
