{
  if (mNetworkInfo == null || mNetworkInfo.getType() == ConnectivityManager.TYPE_NONE) {
    return null;
  }
  MobileLinkInfo li=new MobileLinkInfo();
  li.mNetworkType=mNetworkInfo.getType();
  mSamplingDataTracker.setCommonLinkInfoFields(li);
  if (mNetworkInfo.getSubtype() != TelephonyManager.NETWORK_TYPE_UNKNOWN) {
    li.mMobileNetworkType=mNetworkInfo.getSubtype();
    NetworkDataEntry entry=getNetworkDataEntry(mNetworkInfo.getSubtype());
    if (entry != null) {
      li.mTheoreticalRxBandwidth=entry.downloadBandwidth;
      li.mTheoreticalRxBandwidth=entry.uploadBandwidth;
      li.mTheoreticalLatency=entry.latency;
    }
    if (mSignalStrength != null) {
      li.mNormalizedSignalStrength=getNormalizedSignalStrength(li.mMobileNetworkType,mSignalStrength);
    }
  }
  SignalStrength ss=mSignalStrength;
  if (ss != null) {
    li.mRssi=ss.getGsmSignalStrength();
    li.mGsmErrorRate=ss.getGsmBitErrorRate();
    li.mCdmaDbm=ss.getCdmaDbm();
    li.mCdmaEcio=ss.getCdmaEcio();
    li.mEvdoDbm=ss.getEvdoDbm();
    li.mEvdoEcio=ss.getEvdoEcio();
    li.mEvdoSnr=ss.getEvdoSnr();
    li.mLteSignalStrength=ss.getLteSignalStrength();
    li.mLteRsrp=ss.getLteRsrp();
    li.mLteRsrq=ss.getLteRsrq();
    li.mLteRssnr=ss.getLteRssnr();
    li.mLteCqi=ss.getLteCqi();
  }
  if (VDBG) {
    Slog.d(TAG,"Returning LinkInfo with" + " MobileNetworkType = " + String.valueOf(li.mMobileNetworkType) + " Theoretical Rx BW = "+ String.valueOf(li.mTheoreticalRxBandwidth)+ " gsm Signal Strength = "+ String.valueOf(li.mRssi)+ " cdma Signal Strength = "+ String.valueOf(li.mCdmaDbm)+ " evdo Signal Strength = "+ String.valueOf(li.mEvdoDbm)+ " Lte Signal Strength = "+ String.valueOf(li.mLteSignalStrength));
  }
  return li;
}
