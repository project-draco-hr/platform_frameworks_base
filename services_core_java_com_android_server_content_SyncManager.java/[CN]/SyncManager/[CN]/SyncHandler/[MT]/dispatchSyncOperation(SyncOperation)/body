{
  if (Log.isLoggable(TAG,Log.VERBOSE)) {
    Slog.v(TAG,"dispatchSyncOperation: we are going to sync " + op);
    Slog.v(TAG,"num active syncs: " + mActiveSyncContexts.size());
    for (    ActiveSyncContext syncContext : mActiveSyncContexts) {
      Slog.v(TAG,syncContext.toString());
    }
  }
  int targetUid;
  ComponentName targetComponent;
  final SyncStorageEngine.EndPoint info=op.target;
  SyncAdapterType syncAdapterType=SyncAdapterType.newKey(info.provider,info.account.type);
  final RegisteredServicesCache.ServiceInfo<SyncAdapterType> syncAdapterInfo;
  syncAdapterInfo=mSyncAdapters.getServiceInfo(syncAdapterType,info.userId);
  if (syncAdapterInfo == null) {
    Log.d(TAG,"can't find a sync adapter for " + syncAdapterType + ", removing settings for it");
    mSyncStorageEngine.removeAuthority(info);
    return false;
  }
  targetUid=syncAdapterInfo.uid;
  targetComponent=syncAdapterInfo.componentName;
  ActiveSyncContext activeSyncContext=new ActiveSyncContext(op,insertStartSyncEvent(op),targetUid);
  if (Log.isLoggable(TAG,Log.VERBOSE)) {
    Slog.v(TAG,"dispatchSyncOperation: starting " + activeSyncContext);
  }
  activeSyncContext.mSyncInfo=mSyncStorageEngine.addActiveSync(activeSyncContext);
  mActiveSyncContexts.add(activeSyncContext);
  postMonitorSyncProgressMessage(activeSyncContext);
  if (!activeSyncContext.bindToSyncAdapter(targetComponent,info.userId)) {
    Slog.e(TAG,"Bind attempt failed - target: " + targetComponent);
    closeActiveSyncContext(activeSyncContext);
    return false;
  }
  return true;
}
