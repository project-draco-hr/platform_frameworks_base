{
  try {
    mSyncManagerWakeLock.acquire();
    if (msg.what == MESSAGE_JOBSERVICE_OBJECT) {
      Slog.i(TAG,"Got SyncJobService instance.");
      mSyncJobService=(SyncJobService)msg.obj;
      mJobServiceReady=true;
      checkIfDeviceReady();
    }
 else     if (msg.what == SyncHandler.MESSAGE_ACCOUNTS_UPDATED) {
      if (Log.isLoggable(TAG,Log.VERBOSE)) {
        Slog.v(TAG,"handleSyncHandlerMessage: MESSAGE_ACCOUNTS_UPDATED");
      }
      EndPoint targets=(EndPoint)msg.obj;
      updateRunningAccountsH(targets);
    }
 else     if (msg.what == MESSAGE_RELEASE_MESSAGES_FROM_QUEUE) {
      if (mUnreadyQueue != null) {
        for (        Message m : mUnreadyQueue) {
          handleSyncMessage(m);
        }
        mUnreadyQueue=null;
      }
    }
 else     if (tryEnqueueMessageUntilReadyToRun(msg)) {
    }
 else {
      handleSyncMessage(msg);
    }
  }
  finally {
    mSyncManagerWakeLock.release();
  }
}
