{
  if (endpoint.target_service) {
    return endpoint.service.getPackageName();
  }
 else {
    SyncAdapterType syncAdapterType=SyncAdapterType.newKey(endpoint.provider,endpoint.account.type);
    final RegisteredServicesCache.ServiceInfo<SyncAdapterType> syncAdapterInfo;
    syncAdapterInfo=mSyncAdapters.getServiceInfo(syncAdapterType,endpoint.userId);
    if (syncAdapterInfo == null) {
      return null;
    }
    return syncAdapterInfo.componentName.getPackageName();
  }
}
