{
  int isSyncable=mSyncStorageEngine.getIsSyncable(account,userId,providerName);
  UserInfo userInfo=UserManager.get(mContext).getUserInfo(userId);
  if (userInfo == null || !userInfo.isRestricted())   return isSyncable;
  RegisteredServicesCache.ServiceInfo<SyncAdapterType> syncAdapterInfo=mSyncAdapters.getServiceInfo(SyncAdapterType.newKey(providerName,account.type),userId);
  if (syncAdapterInfo == null)   return isSyncable;
  PackageInfo pInfo=null;
  try {
    pInfo=AppGlobals.getPackageManager().getPackageInfo(syncAdapterInfo.componentName.getPackageName(),0,userId);
    if (pInfo == null)     return isSyncable;
  }
 catch (  RemoteException re) {
    return isSyncable;
  }
  if (pInfo.restrictedAccountType != null && pInfo.restrictedAccountType.equals(account.type)) {
    return isSyncable;
  }
 else {
    return 0;
  }
}
