{
  final long now=SystemClock.elapsedRealtime();
  final Pair<Long,Long> previousSettings=mSyncStorageEngine.getBackoff(target);
  long newDelayInMs=-1;
  if (previousSettings != null) {
    if (now < previousSettings.first) {
      if (Log.isLoggable(TAG,Log.VERBOSE)) {
        Slog.v(TAG,"Still in backoff, do not increase it. " + "Remaining: " + ((previousSettings.first - now) / 1000) + " seconds.");
      }
      return;
    }
    newDelayInMs=previousSettings.second * 2;
  }
  if (newDelayInMs <= 0) {
    newDelayInMs=jitterize(INITIAL_SYNC_RETRY_TIME_IN_MS,(long)(INITIAL_SYNC_RETRY_TIME_IN_MS * 1.1));
  }
  long maxSyncRetryTimeInSeconds=Settings.Global.getLong(mContext.getContentResolver(),Settings.Global.SYNC_MAX_RETRY_DELAY_IN_SECONDS,DEFAULT_MAX_SYNC_RETRY_TIME_IN_SECONDS);
  if (newDelayInMs > maxSyncRetryTimeInSeconds * 1000) {
    newDelayInMs=maxSyncRetryTimeInSeconds * 1000;
  }
  final long backoff=now + newDelayInMs;
  if (Log.isLoggable(TAG,Log.VERBOSE)) {
    Slog.v(TAG,"Backoff until: " + backoff + ", delayTime: "+ newDelayInMs);
  }
  mSyncStorageEngine.setBackoff(target,backoff,newDelayInMs);
  rescheduleSyncs(target);
}
