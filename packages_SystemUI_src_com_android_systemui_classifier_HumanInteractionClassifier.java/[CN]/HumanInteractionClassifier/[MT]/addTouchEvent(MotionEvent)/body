{
  mClassifierData.update(event);
  for (int i=0; i < mStrokeClassifiersSize; i++) {
    mStrokeClassifiers.get(i).onTouchEvent(event);
  }
  for (int i=0; i < mGestureClassifiersSize; i++) {
    mGestureClassifiers.get(i).onTouchEvent(event);
  }
  int size=mClassifierData.getEndingStrokes().size();
  for (int i=0; i < size; i++) {
    Stroke stroke=mClassifierData.getEndingStrokes().get(i);
    float evaluation=0.0f;
    for (int j=0; j < mStrokeClassifiersSize; j++) {
      evaluation+=mStrokeClassifiers.get(j).getFalseTouchEvaluation(mCurrentType,stroke);
    }
    mHistoryEvaluator.addStroke(evaluation);
  }
  int action=event.getActionMasked();
  if (action == MotionEvent.ACTION_UP || action == MotionEvent.ACTION_CANCEL) {
    float evaluation=0.0f;
    for (int i=0; i < mGestureClassifiersSize; i++) {
      evaluation+=mGestureClassifiers.get(i).getFalseTouchEvaluation(mCurrentType);
    }
    mHistoryEvaluator.addGesture(evaluation);
    setType(Classifier.GENERIC);
  }
  mClassifierData.cleanUp(event);
}
