{
  String countryIso=null;
  CountryDetector detector=(CountryDetector)context.getSystemService(Context.COUNTRY_DETECTOR);
  if (detector != null) {
    Country country=detector.detectCountry();
    if (country != null) {
      countryIso=country.getCountryIso();
    }
 else {
      Rlog.e(TAG,"CountryDetector.detectCountry() returned null.");
    }
  }
  if (countryIso == null) {
    countryIso=locale.getCountry();
    Rlog.w(TAG,"No CountryDetector; falling back to countryIso based on locale: " + countryIso);
  }
  return countryIso;
}
