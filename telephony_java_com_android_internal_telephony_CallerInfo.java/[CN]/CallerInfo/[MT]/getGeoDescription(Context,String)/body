{
  if (VDBG)   Log.v(TAG,"getGeoDescription('" + number + "')...");
  if (TextUtils.isEmpty(number)) {
    return null;
  }
  PhoneNumberUtil util=PhoneNumberUtil.getInstance();
  PhoneNumberOfflineGeocoder geocoder=PhoneNumberOfflineGeocoder.getInstance();
  String countryIso;
  Locale locale=context.getResources().getConfiguration().locale;
  CountryDetector detector=(CountryDetector)context.getSystemService(Context.COUNTRY_DETECTOR);
  if (detector != null) {
    countryIso=detector.detectCountry().getCountryIso();
  }
 else {
    countryIso=locale.getCountry();
    Log.w(TAG,"No CountryDetector; falling back to countryIso based on locale: " + countryIso);
  }
  PhoneNumber pn=null;
  try {
    if (VDBG)     Log.v(TAG,"parsing '" + number + "' for countryIso '"+ countryIso+ "'...");
    pn=util.parse(number,countryIso);
    if (VDBG)     Log.v(TAG,"- parsed number: " + pn);
  }
 catch (  NumberParseException e) {
    Log.w(TAG,"getGeoDescription: NumberParseException for incoming number '" + number + "'");
  }
  if (pn != null) {
    String description=geocoder.getDescriptionForNumber(pn,locale);
    if (VDBG)     Log.v(TAG,"- got description: '" + description + "'");
    return description;
  }
 else {
    return null;
  }
}
