{
  CallerInfo info=new CallerInfo();
  info.photoResource=0;
  info.phoneLabel=null;
  info.numberType=0;
  info.numberLabel=null;
  info.cachedPhoto=null;
  info.isCachedPhotoCurrent=false;
  if (Config.LOGV)   Log.v(TAG,"construct callerInfo from cursor");
  if (cursor != null) {
    if (cursor.moveToFirst()) {
      int columnIndex;
      columnIndex=cursor.getColumnIndex(People.NAME);
      if (columnIndex != -1) {
        info.name=cursor.getString(columnIndex);
      }
      columnIndex=cursor.getColumnIndex(Phones.NUMBER);
      if (columnIndex != -1) {
        info.phoneNumber=cursor.getString(columnIndex);
      }
      columnIndex=cursor.getColumnIndex(Phones.LABEL);
      if (columnIndex != -1) {
        int typeColumnIndex=cursor.getColumnIndex(Phones.TYPE);
        if (typeColumnIndex != -1) {
          info.numberType=cursor.getInt(typeColumnIndex);
          info.numberLabel=cursor.getString(columnIndex);
          info.phoneLabel=Contacts.Phones.getDisplayLabel(context,info.numberType,info.numberLabel).toString();
        }
      }
      columnIndex=cursor.getColumnIndex(Phones.PERSON_ID);
      if (columnIndex != -1) {
        info.person_id=cursor.getLong(columnIndex);
      }
 else {
        columnIndex=cursor.getColumnIndex(People._ID);
        if (columnIndex != -1) {
          info.person_id=cursor.getLong(columnIndex);
        }
      }
      columnIndex=cursor.getColumnIndex(People.CUSTOM_RINGTONE);
      if ((columnIndex != -1) && (cursor.getString(columnIndex) != null)) {
        info.contactRingtoneUri=Uri.parse(cursor.getString(columnIndex));
      }
 else {
        info.contactRingtoneUri=null;
      }
      columnIndex=cursor.getColumnIndex(People.SEND_TO_VOICEMAIL);
      info.shouldSendToVoicemail=(columnIndex != -1) && ((cursor.getInt(columnIndex)) == 1);
    }
    cursor.close();
  }
  info.needUpdate=false;
  info.name=normalize(info.name);
  info.contactRefUri=contactRef;
  return info;
}
