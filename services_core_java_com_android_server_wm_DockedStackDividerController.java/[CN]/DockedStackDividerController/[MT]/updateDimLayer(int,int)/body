{
  final int dismissDistance=distanceFromDockSide(mDockSide,mOriginalRect,x,y);
  final int maximizeDistance=distanceFromFullScreen(mDockSide,x,y);
  if (dismissDistance == -1 || maximizeDistance == -1) {
    Slog.wtf(TAG,"updateDimLayer: Unknown dock side=" + mDockSide);
    return;
  }
  if (dismissDistance <= mSideMargin && maximizeDistance <= mSideMargin) {
    Slog.wtf(TAG,"Both dismiss and maximize distances would trigger dim layer.");
    return;
  }
  if (dismissDistance <= mSideMargin) {
    setDismissDimLayerVisible(x,y);
  }
 else   if (maximizeDistance <= mSideMargin) {
    setMaximizeDimLayerVisible(x,y);
  }
 else {
    setDimLayerVisible(false);
  }
}
