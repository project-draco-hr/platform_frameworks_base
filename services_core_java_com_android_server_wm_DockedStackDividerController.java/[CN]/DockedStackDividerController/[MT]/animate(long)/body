{
  if (!mAnimating) {
    return false;
  }
  if (!mAnimationStarted) {
    mAnimationStarted=true;
    mAnimationStartTime=now;
    notifyDockedStackMinimizedChanged(mMinimizedDock,MINIMIZED_DOCK_ANIMATION_DURATION);
  }
  float t=Math.min(1f,(float)(now - mAnimationStartTime) / MINIMIZED_DOCK_ANIMATION_DURATION);
  t=mMinimizedDockInterpolator.getInterpolation(t);
  final TaskStack stack=mDisplayContent.getDockedStackVisibleForUserLocked();
  if (stack != null) {
    final float amount=t * mAnimationTarget + (1 - t) * mAnimationStart;
    if (stack.setAdjustedForMinimizedDock(amount)) {
      mService.mWindowPlacerLocked.performSurfacePlacement();
    }
  }
  if (t >= 1.0f) {
    mAnimating=false;
    return false;
  }
 else {
    return true;
  }
}
