{
  final int action=event.getAction() & MotionEvent.ACTION_MASK;
switch (action) {
case MotionEvent.ACTION_DOWN:
    mStartX=(int)event.getRawX();
  mStartY=(int)event.getRawY();
synchronized (mDisplayContent.mService.mWindowMap) {
  mTaskStack=mDisplayContent.getDockedStackLocked();
  if (mTaskStack != null) {
    mTaskStack.getBounds(mOriginalRect);
    mDockSide=mTaskStack.getDockSide();
  }
}
break;
case MotionEvent.ACTION_MOVE:
if (mTaskStack != null) {
final int x=(int)event.getRawX();
final int y=(int)event.getRawY();
resizeStack(x,y);
}
break;
case MotionEvent.ACTION_UP:
case MotionEvent.ACTION_CANCEL:
if (mTaskStack != null) {
final int x=(int)event.getRawX();
final int y=(int)event.getRawY();
maybeDismissTaskStack(x,y);
maybeMaximizeTaskStack(x,y);
mTaskStack=null;
}
setDimLayerVisible(false);
mDockSide=TaskStack.DOCKED_INVALID;
break;
}
return true;
}
