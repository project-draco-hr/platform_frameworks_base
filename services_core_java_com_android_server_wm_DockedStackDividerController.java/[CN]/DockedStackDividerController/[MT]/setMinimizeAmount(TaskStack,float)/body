{
  final ArrayList<TaskStack> stacks=mDisplayContent.getStacks();
  if (dockedStack == null) {
    for (int i=stacks.size() - 1; i >= 0; --i) {
      final TaskStack stack=stacks.get(i);
      stack.resetAdjustedForComplementDock();
    }
    return;
  }
  if (dockedStack.setAdjustedForMinimizedDock(minimizeAmount)) {
    final boolean adjusted=dockedStack.isVisibleForUserLocked() && minimizeAmount != 0.0f;
    dockedStack.getDimBounds(mTmpRect2);
    int dockSide=dockedStack.getDockSide();
    for (int i=stacks.size() - 1; i >= 0; --i) {
      final TaskStack stack=stacks.get(i);
      if (stack == dockedStack) {
        continue;
      }
      if (stack.isVisibleLocked() && adjusted) {
        stack.setAdjustedForComplementDock(mTmpRect2,dockSide);
      }
 else {
        stack.resetAdjustedForComplementDock();
      }
    }
    mService.mWindowPlacerLocked.performSurfacePlacement();
  }
}
