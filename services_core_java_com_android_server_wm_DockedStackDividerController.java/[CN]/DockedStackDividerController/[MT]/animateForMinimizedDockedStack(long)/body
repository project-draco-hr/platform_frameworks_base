{
  final TaskStack stack=mService.mStackIdToStack.get(DOCKED_STACK_ID);
  if (!mAnimationStarted) {
    mAnimationStarted=true;
    mAnimationStartTime=now;
    final long transitionDuration=isAnimationMaximizing() ? mService.mAppTransition.getLastClipRevealTransitionDuration() : DEFAULT_APP_TRANSITION_DURATION;
    mAnimationDuration=(long)(transitionDuration * mService.getTransitionAnimationScaleLocked());
    mMaximizeMeetFraction=getClipRevealMeetFraction(stack);
    notifyDockedStackMinimizedChanged(mMinimizedDock,(long)(mAnimationDuration * mMaximizeMeetFraction));
  }
  float t=Math.min(1f,(float)(now - mAnimationStartTime) / mAnimationDuration);
  t=(isAnimationMaximizing() ? TOUCH_RESPONSE_INTERPOLATOR : mMinimizedDockInterpolator).getInterpolation(t);
  if (stack != null) {
    if (stack.setAdjustedForMinimizedDock(getMinimizeAmount(stack,t))) {
      mService.mWindowPlacerLocked.performSurfacePlacement();
    }
  }
  if (t >= 1.0f) {
    mAnimatingForMinimizedDockedStack=false;
    return false;
  }
 else {
    return true;
  }
}
