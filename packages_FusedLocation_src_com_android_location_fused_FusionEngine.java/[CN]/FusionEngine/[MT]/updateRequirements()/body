{
  if (mEnabled == false || mRequest == null) {
    mRequest=null;
    disableProvider(NETWORK);
    disableProvider(GPS);
    return;
  }
  ProviderStats gpsStats=mStats.get(GPS);
  ProviderStats networkStats=mStats.get(NETWORK);
  long networkInterval=Long.MAX_VALUE;
  long gpsInterval=Long.MAX_VALUE;
  for (  LocationRequest request : mRequest.getLocationRequests()) {
switch (request.getQuality()) {
case LocationRequest.ACCURACY_FINE:
case LocationRequest.POWER_HIGH:
      if (request.getInterval() < gpsInterval) {
        gpsInterval=request.getInterval();
      }
    if (request.getInterval() < networkInterval) {
      networkInterval=request.getInterval();
    }
  break;
case LocationRequest.ACCURACY_BLOCK:
case LocationRequest.ACCURACY_CITY:
case LocationRequest.POWER_LOW:
if (request.getInterval() < networkInterval) {
  networkInterval=request.getInterval();
}
break;
}
}
if (gpsInterval < Long.MAX_VALUE) {
enableProvider(GPS,gpsInterval);
}
 else {
disableProvider(GPS);
}
if (networkInterval < Long.MAX_VALUE) {
enableProvider(NETWORK,networkInterval);
}
 else {
disableProvider(NETWORK);
}
}
