{
  String expectedActualMsg=String.format("expected (%s), actual (%s)",Arrays.deepToString(expected),Arrays.deepToString(actual));
  String differentSizesMsg=String.format("%s: rect lists are different sizes; %s",msg,expectedActualMsg);
  String differentWeightsMsg=String.format("%s: rect weights are different; %s",msg,expectedActualMsg);
  if (!expectTrue(differentSizesMsg,actual != null)) {
    return false;
  }
  if (!expectEquals(differentSizesMsg,expected.length,actual.length))   return false;
  boolean succ=true;
  for (int i=0; i < expected.length; ++i) {
    if (i < actual.length) {
      if (!expectRectsAreSimilar(msg,expected[i].getRect(),actual[i].getRect(),errorPercent)) {
        succ=false;
        continue;
      }
      if (!expectEquals(differentWeightsMsg,expected[i].getMeteringWeight(),actual[i].getMeteringWeight())) {
        succ=false;
        continue;
      }
    }
  }
  return succ;
}
