{
  if (mRootToken.waitingToShow && mService.mNextAppTransition != WindowManagerPolicy.TRANSIT_UNSET) {
    return false;
  }
  final AppWindowToken atoken=mAppToken;
  final boolean animating=atoken != null ? (atoken.animation != null) : false;
  return mSurface != null && !mDestroying && !mExiting && (atoken == null ? mPolicyVisibility : !atoken.hiddenRequested) && ((!mAttachedHidden && mViewVisibility == View.VISIBLE && !mRootToken.hidden) || mAnimation != null || animating);
}
