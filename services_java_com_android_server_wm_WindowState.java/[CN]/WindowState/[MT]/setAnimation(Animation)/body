{
  if (WindowManagerService.localLOGV)   Slog.v(WindowManagerService.TAG,"Setting animation in " + this + ": "+ anim);
  mAnimating=false;
  mLocalAnimating=false;
  mAnimation=anim;
  mAnimation.restrictDuration(WindowManagerService.MAX_ANIMATION_DURATION);
  mAnimation.scaleCurrentDuration(mService.mWindowAnimationScale);
  mTransformation.clear();
  mTransformation.setAlpha(mLastHidden ? 0 : 1);
  mHasLocalTransformation=true;
}
