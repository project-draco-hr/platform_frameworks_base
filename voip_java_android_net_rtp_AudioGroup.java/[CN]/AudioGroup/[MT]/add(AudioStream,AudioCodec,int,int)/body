{
  if (!mStreams.containsKey(stream)) {
    try {
      int socket=stream.dup();
      add(stream.getMode(),socket,stream.getRemoteAddress().getHostAddress(),stream.getRemotePort(),codec.name,codec.sampleRate,codec.sampleCount,codecType,dtmfType);
      mStreams.put(stream,socket);
    }
 catch (    NullPointerException e) {
      throw new IllegalStateException(e);
    }
  }
}
