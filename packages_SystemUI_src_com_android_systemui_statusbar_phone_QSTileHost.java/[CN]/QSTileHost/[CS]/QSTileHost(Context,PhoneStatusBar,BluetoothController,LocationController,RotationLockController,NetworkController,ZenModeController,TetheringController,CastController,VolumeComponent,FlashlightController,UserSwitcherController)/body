{
  mContext=context;
  mStatusBar=statusBar;
  mBluetooth=bluetooth;
  mLocation=location;
  mRotation=rotation;
  mNetwork=network;
  mZen=zen;
  mTethering=tethering;
  mCast=cast;
  mVolume=volume;
  mFlashlight=flashlight;
  mUserSwitcherController=userSwitcher;
  final HandlerThread ht=new HandlerThread(QSTileHost.class.getSimpleName());
  ht.start();
  mLooper=ht.getLooper();
  mTiles.add(new WifiTile(this));
  mTiles.add(new BluetoothTile(this));
  mTiles.add(new ColorInversionTile(this));
  mTiles.add(new CellularTile(this));
  mTiles.add(new AirplaneModeTile(this));
  mTiles.add(new RotationLockTile(this));
  mTiles.add(new LocationTile(this));
  mTiles.add(new CastTile(this));
  mTiles.add(new HotspotTile(this));
  mTiles.add(new FlashlightTile(this));
  mUserTracker=new CurrentUserTracker(mContext){
    @Override public void onUserSwitched(    int newUserId){
      for (      QSTile<?> tile : mTiles) {
        tile.userSwitch(newUserId);
      }
    }
  }
;
  mUserTracker.startTracking();
}
