{
  if (screenRGBBuffer == null) {
    if (screenBuffer != null) {
      int transparentColor=gifDataStream.logicalScreen.globalColorTable.cm.getTransparentPixel();
      transparentColor=transparentColor > 0 ? transparentColor : IMPOSSIBLE_VALUE;
      screenRGBBuffer=toRGB(screenBuffer,gifDataStream.logicalScreen.globalColorTable.colors,transparentColor);
    }
 else {
      int size=gifDataStream.logicalScreen.logicalScreenHeight * gifDataStream.logicalScreen.logicalScreenWidth;
      screenRGBBuffer=new int[size];
    }
  }
  return screenRGBBuffer;
}
