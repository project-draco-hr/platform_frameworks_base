{
synchronized (mLock) {
    mSystemReady=true;
    IntentFilter filter=new IntentFilter(Intent.ACTION_AIRPLANE_MODE_CHANGED);
    filter.addAction(Intent.ACTION_TIME_CHANGED);
    filter.addAction(Intent.ACTION_TIMEZONE_CHANGED);
    filter.addAction(ACTION_UPDATE_TWILIGHT_STATE);
    mContext.registerReceiver(mUpdateLocationReceiver,filter);
    if (!mListeners.isEmpty()) {
      mLocationHandler.enableLocationUpdates();
    }
  }
}
