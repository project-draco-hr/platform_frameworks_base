{
synchronized (mLock) {
    if (!Objects.equal(mTwilightState,state)) {
      if (DEBUG) {
        Slog.d(TAG,"Twilight state changed: " + state);
      }
      mTwilightState=state;
      int count=mListeners.size();
      for (int i=0; i < count; i++) {
        mListeners.get(i).post();
      }
    }
  }
}
