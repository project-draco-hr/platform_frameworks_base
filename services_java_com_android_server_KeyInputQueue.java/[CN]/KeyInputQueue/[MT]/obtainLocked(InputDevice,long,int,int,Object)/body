{
  QueuedEvent ev;
  if (mCacheCount == 0) {
    ev=new QueuedEvent();
  }
 else {
    ev=mCache;
    ev.inQueue=false;
    mCache=ev.next;
    mCacheCount--;
  }
  ev.inputDevice=device;
  ev.when=when;
  ev.flags=flags;
  ev.classType=classType;
  ev.event=event;
  return ev;
}
