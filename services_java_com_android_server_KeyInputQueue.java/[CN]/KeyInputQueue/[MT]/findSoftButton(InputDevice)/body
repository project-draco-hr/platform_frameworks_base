{
  final int N=mVirtualKeys.size();
  if (N <= 0) {
    return null;
  }
  final InputDevice.AbsoluteInfo absx=dev.absX;
  final InputDevice.AbsoluteInfo absy=dev.absY;
  final InputDevice.MotionState absm=dev.mAbs;
  if (absx == null || absy == null || absm == null) {
    return null;
  }
  if (absm.mCurData[MotionEvent.SAMPLE_X] >= absx.minValue && absm.mCurData[MotionEvent.SAMPLE_X] <= absx.maxValue && absm.mCurData[MotionEvent.SAMPLE_Y] >= absy.minValue && absm.mCurData[MotionEvent.SAMPLE_Y] <= absy.maxValue) {
    if (DEBUG_VIRTUAL_KEYS)     Log.v(TAG,"Input (" + absm.mCurData[MotionEvent.SAMPLE_X] + ","+ absm.mCurData[MotionEvent.SAMPLE_Y]+ ") inside of display");
    return null;
  }
  for (int i=0; i < N; i++) {
    VirtualKey sb=mVirtualKeys.get(i);
    sb.computeHitRect(dev,mDisplayWidth,mDisplayHeight);
    if (DEBUG_VIRTUAL_KEYS)     Log.v(TAG,"Hit test (" + absm.mCurData[MotionEvent.SAMPLE_X] + ","+ absm.mCurData[MotionEvent.SAMPLE_Y]+ ") in code "+ sb.scancode+ " - ("+ sb.hitLeft+ ","+ sb.hitTop+ ")-("+ sb.hitRight+ ","+ sb.hitBottom+ ")");
    if (sb.checkHit(absm.mCurData[MotionEvent.SAMPLE_X],absm.mCurData[MotionEvent.SAMPLE_Y])) {
      if (DEBUG_VIRTUAL_KEYS)       Log.v(TAG,"Hit!");
      return sb;
    }
  }
  return null;
}
