{
  int classes=getDeviceClasses(deviceId);
  String name=getDeviceName(deviceId);
  InputDevice.AbsoluteInfo absX=null;
  InputDevice.AbsoluteInfo absY=null;
  InputDevice.AbsoluteInfo absPressure=null;
  InputDevice.AbsoluteInfo absSize=null;
  if (classes != 0) {
    Slog.i(TAG,"Device added: id=0x" + Integer.toHexString(deviceId) + ", name="+ name+ ", classes="+ Integer.toHexString(classes));
    if ((classes & RawInputEvent.CLASS_TOUCHSCREEN_MT) != 0) {
      absX=loadAbsoluteInfo(deviceId,RawInputEvent.ABS_MT_POSITION_X,"X");
      absY=loadAbsoluteInfo(deviceId,RawInputEvent.ABS_MT_POSITION_Y,"Y");
      absPressure=loadAbsoluteInfo(deviceId,RawInputEvent.ABS_MT_TOUCH_MAJOR,"Pressure");
      absSize=loadAbsoluteInfo(deviceId,RawInputEvent.ABS_MT_WIDTH_MAJOR,"Size");
    }
 else     if ((classes & RawInputEvent.CLASS_TOUCHSCREEN) != 0) {
      absX=loadAbsoluteInfo(deviceId,RawInputEvent.ABS_X,"X");
      absY=loadAbsoluteInfo(deviceId,RawInputEvent.ABS_Y,"Y");
      absPressure=loadAbsoluteInfo(deviceId,RawInputEvent.ABS_PRESSURE,"Pressure");
      absSize=loadAbsoluteInfo(deviceId,RawInputEvent.ABS_TOOL_WIDTH,"Size");
    }
  }
  return new InputDevice(deviceId,classes,name,absX,absY,absPressure,absSize);
}
