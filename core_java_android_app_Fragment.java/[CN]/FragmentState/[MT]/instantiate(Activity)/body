{
  if (mInstance != null) {
    return mInstance;
  }
  try {
    mInstance=Fragment.instantiate(activity,mClassName);
  }
 catch (  Exception e) {
    throw new RuntimeException("Unable to restore fragment " + mClassName,e);
  }
  if (mSavedFragmentState != null) {
    mSavedFragmentState.setClassLoader(activity.getClassLoader());
    mInstance.mSavedFragmentState=mSavedFragmentState;
    mInstance.mSavedViewState=mSavedFragmentState.getSparseParcelableArray(VIEW_STATE_TAG);
  }
  mInstance.setIndex(mIndex);
  mInstance.mFromLayout=mFromLayout;
  mInstance.mFragmentId=mFragmentId;
  mInstance.mContainerId=mContainerId;
  mInstance.mTag=mTag;
  mInstance.mRetainInstance=mRetainInstance;
  return mInstance;
}
