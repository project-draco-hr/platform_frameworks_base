{
  float nextYPosition=0;
  int paddedIndex=i - Math.max(numberOfElementsCompletelyIn - MAX_ITEMS_IN_TOP_STACK,0);
  if (paddedIndex >= 0) {
    nextYPosition=mCollapsedSize + mPaddingBetweenElements - mTopStackIndentationFunctor.getValue(algorithmState.itemsInTopStack - i - 1);
    if (paddedIndex == 0 && i != 0) {
      childViewState.alpha=1.0f - algorithmState.partialInTop;
    }
  }
 else {
    if (i != 0) {
      childViewState.alpha=0.0f;
    }
  }
  return nextYPosition;
}
