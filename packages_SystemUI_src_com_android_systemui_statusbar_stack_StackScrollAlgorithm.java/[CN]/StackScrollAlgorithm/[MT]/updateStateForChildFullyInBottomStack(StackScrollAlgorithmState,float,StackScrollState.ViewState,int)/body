{
  float currentYPosition;
  algorithmState.itemsInBottomStack+=1.0f;
  if (algorithmState.itemsInBottomStack < MAX_ITEMS_IN_BOTTOM_STACK) {
    currentYPosition=transitioningPositionStart + mBottomStackIndentationFunctor.getValue(algorithmState.itemsInBottomStack) - mPaddingBetweenElements;
    childViewState.location=StackScrollState.ViewState.LOCATION_BOTTOM_STACK_PEEKING;
  }
 else {
    if (algorithmState.itemsInBottomStack > MAX_ITEMS_IN_BOTTOM_STACK + 2) {
      childViewState.alpha=0.0f;
    }
 else     if (algorithmState.itemsInBottomStack > MAX_ITEMS_IN_BOTTOM_STACK + 1) {
      childViewState.alpha=1.0f - algorithmState.partialInBottom;
    }
    childViewState.location=StackScrollState.ViewState.LOCATION_BOTTOM_STACK_HIDDEN;
    currentYPosition=mInnerHeight;
  }
  childViewState.yTranslation=currentYPosition - childHeight;
  clampPositionToTopStackEnd(childViewState,childHeight);
}
