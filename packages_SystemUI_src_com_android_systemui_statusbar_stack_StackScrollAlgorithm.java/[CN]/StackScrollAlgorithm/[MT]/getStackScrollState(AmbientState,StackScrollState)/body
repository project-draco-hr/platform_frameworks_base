{
  StackScrollAlgorithmState algorithmState=mTempAlgorithmState;
  resultState.resetViewStates();
  algorithmState.itemsInTopStack=0.0f;
  algorithmState.partialInTop=0.0f;
  algorithmState.lastTopStackIndex=0;
  algorithmState.scrolledPixelsTop=0;
  algorithmState.itemsInBottomStack=0.0f;
  algorithmState.partialInBottom=0.0f;
  float bottomOverScroll=ambientState.getOverScrollAmount(false);
  int scrollY=ambientState.getScrollY();
  scrollY=Math.max(0,scrollY);
  algorithmState.scrollY=(int)(scrollY + mCollapsedSize + bottomOverScroll);
  updateVisibleChildren(resultState,algorithmState);
  findNumberOfItemsInTopStackAndUpdateState(resultState,algorithmState);
  updatePositionsForState(resultState,algorithmState);
  updateZValuesForState(resultState,algorithmState);
  handleDraggedViews(ambientState,resultState,algorithmState);
  updateDimmedActivatedHideSensitive(ambientState,resultState,algorithmState);
  updateClipping(resultState,algorithmState);
  updateScrimAmount(resultState,algorithmState,ambientState.getScrimAmount());
  updateSpeedBumpState(resultState,algorithmState,ambientState.getSpeedBumpIndex());
}
