{
  ViewGroup hostView=resultState.getHostView();
  int childCount=hostView.getChildCount();
  state.visibleChildren.clear();
  state.visibleChildren.ensureCapacity(childCount);
  for (int i=0; i < childCount; i++) {
    View v=hostView.getChildAt(i);
    if (v.getVisibility() != View.GONE) {
      state.visibleChildren.add(v);
    }
  }
}
