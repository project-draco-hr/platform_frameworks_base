{
  if (child instanceof ExpandableNotificationRow) {
    ExpandableNotificationRow row=(ExpandableNotificationRow)child;
    if (ambientState == null && row.isHeadsUp() || ambientState != null && ambientState.getTopHeadsUpEntry() == child) {
      int extraSize=row.getIntrinsicHeight() - row.getHeadsUpHeight();
      return mFirstChildMinHeight + extraSize;
    }
    return row.getIntrinsicHeight();
  }
 else   if (child instanceof ExpandableView) {
    ExpandableView expandableView=(ExpandableView)child;
    return expandableView.getIntrinsicHeight();
  }
  return child == null ? mCollapsedSize : child.getHeight();
}
