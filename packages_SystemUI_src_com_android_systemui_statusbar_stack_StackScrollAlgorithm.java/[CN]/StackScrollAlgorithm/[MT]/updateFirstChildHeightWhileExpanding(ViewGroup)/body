{
  mFirstChildWhileExpanding=(ExpandableView)findFirstVisibleChild(hostView);
  if (mFirstChildWhileExpanding != null) {
    if (mExpandedOnStart) {
      mFirstChildMaxHeight=StackStateAnimator.getFinalActualHeight(mFirstChildWhileExpanding);
      if (mFirstChildWhileExpanding instanceof ExpandableNotificationRow) {
        ExpandableNotificationRow row=(ExpandableNotificationRow)mFirstChildWhileExpanding;
        if (row.isHeadsUp()) {
          mFirstChildMaxHeight+=mFirstChildMinHeight - row.getHeadsUpHeight();
        }
      }
    }
 else {
      updateFirstChildMaxSizeToMaxHeight();
    }
  }
 else {
    mFirstChildMaxHeight=0;
  }
}
