{
  int bottomStackStart=ambientState.getInnerHeight() - mBottomStackPeekSize - mCollapseSecondCardPadding;
  int childStart=bottomStackStart - childHeight;
  if (childStart < childViewState.yTranslation) {
    float newHeight=bottomStackStart - childViewState.yTranslation;
    if (newHeight < minHeight) {
      newHeight=minHeight;
      childViewState.yTranslation=bottomStackStart - minHeight;
    }
    childViewState.height=(int)newHeight;
  }
}
