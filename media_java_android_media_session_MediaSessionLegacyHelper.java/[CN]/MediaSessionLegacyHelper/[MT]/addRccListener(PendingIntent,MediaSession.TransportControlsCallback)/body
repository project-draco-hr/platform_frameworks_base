{
  if (pi == null) {
    Log.w(TAG,"Pending intent was null, can't add rcc listener.");
    return;
  }
  SessionHolder holder=getHolder(pi,true);
  if (holder.mRccListener != null) {
    if (holder.mRccListener == listener) {
      if (DEBUG) {
        Log.d(TAG,"addRccListener listener already added.");
      }
      return;
    }
    holder.mSession.removeTransportControlsCallback(holder.mRccListener);
  }
  holder.mSession.addTransportControlsCallback(listener,mHandler);
  holder.mRccListener=listener;
  holder.mFlags|=MediaSession.FLAG_HANDLES_TRANSPORT_CONTROLS;
  holder.mSession.setFlags(holder.mFlags);
  holder.update();
  if (DEBUG) {
    Log.d(TAG,"Added rcc listener for " + pi + ".");
  }
}
