{
  if (event == null || !(event instanceof KeyphraseRecognitionEvent)) {
    Slog.w(TAG,"Invalid recognition event!");
    return;
  }
  if (DBG)   Slog.d(TAG,"onRecognition: " + event);
synchronized (mLock) {
    if (mActiveListener == null) {
      Slog.w(TAG,"received onRecognition event without any listener for it");
      return;
    }
switch (event.status) {
case SoundTrigger.RECOGNITION_STATUS_ABORT:
      onRecognitionAbortLocked();
    break;
case SoundTrigger.RECOGNITION_STATUS_FAILURE:
  onRecognitionFailureLocked();
break;
case SoundTrigger.RECOGNITION_STATUS_SUCCESS:
onRecognitionSuccessLocked((KeyphraseRecognitionEvent)event);
break;
}
}
}
