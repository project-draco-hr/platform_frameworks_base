{
  if (v == mStartButton) {
    mState=STATE_LAUNCHING;
    updateState();
    startVoiceActivity(mStartIntent);
  }
 else   if (v == mConfirmButton) {
    if (mState == STATE_CONFIRM) {
      mPendingRequest.sendConfirmResult(true,null);
      mPendingRequest=null;
      mState=STATE_LAUNCHING;
    }
 else     if (mState == STATE_PICK_OPTION) {
      int numReturn=mPendingOptions.length / 2;
      if (numReturn <= 0) {
        numReturn=1;
      }
      VoiceInteractor.PickOptionRequest.Option[] picked=new VoiceInteractor.PickOptionRequest.Option[numReturn];
      for (int i=0; i < picked.length; i++) {
        picked[i]=mPendingOptions[i * 2];
      }
      mPendingOptions=picked;
      if (picked.length <= 1) {
        mPendingRequest.sendPickOptionResult(true,picked,null);
        mPendingRequest=null;
        mState=STATE_LAUNCHING;
      }
 else {
        mPendingRequest.sendPickOptionResult(false,picked,null);
        updatePickText();
      }
    }
 else     if (mPendingRequest != null) {
      mPendingRequest.sendCommandResult(true,null);
      mPendingRequest=null;
      mState=STATE_LAUNCHING;
    }
  }
 else   if (v == mAbortButton) {
    mPendingRequest.sendAbortVoiceResult(null);
    mPendingRequest=null;
  }
 else   if (v == mCompleteButton) {
    mPendingRequest.sendCompleteVoiceResult(null);
    mPendingRequest=null;
  }
  updateState();
}
