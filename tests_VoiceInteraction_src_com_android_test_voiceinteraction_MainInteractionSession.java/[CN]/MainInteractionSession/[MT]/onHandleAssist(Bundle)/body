{
  boolean hasStructure=false;
  if (assistBundle != null) {
    Bundle assistContext=assistBundle.getBundle(Intent.EXTRA_ASSIST_CONTEXT);
    if (assistContext != null) {
      mAssistStructure=AssistStructure.getAssistStructure(assistContext);
      if (mAssistStructure != null) {
        if (mAssistVisualizer != null) {
          mAssistVisualizer.setAssistStructure(mAssistStructure);
          hasStructure=true;
        }
      }
      AssistContent content=AssistContent.getAssistContent(assistContext);
      if (content != null) {
        Log.i(TAG,"Assist intent: " + content.getIntent());
        Log.i(TAG,"Assist clipdata: " + content.getClipData());
      }
    }
    Uri referrer=assistBundle.getParcelable(Intent.EXTRA_REFERRER);
    if (referrer != null) {
      Log.i(TAG,"Referrer: " + referrer);
    }
  }
  if (!hasStructure && mAssistVisualizer != null) {
    mAssistVisualizer.clearAssistData();
  }
}
