{
  if (DEBUG)   Log.d(TAG,"updateLayout: status=" + mStatus);
  CharSequence carrierText=null;
  int carrierHelpTextId=0;
  mShouldEnableUnlock=true;
  mStatus=getStatusForIccState(simState);
switch (mStatus) {
case Normal:
    carrierText=LockPatternUtils.getCarrierString(mUpdateMonitor.getTelephonyPlmn(),mUpdateMonitor.getTelephonySpn());
  break;
case NetworkLocked:
carrierText=LockPatternUtils.getCarrierString(mUpdateMonitor.getTelephonyPlmn(),getContext().getText(R.string.lockscreen_network_locked_message));
carrierHelpTextId=R.string.lockscreen_instructions_when_pattern_disabled;
break;
case SimMissing:
carrierText=getContext().getText(R.string.lockscreen_missing_sim_message_short);
carrierHelpTextId=R.string.lockscreen_missing_sim_instructions_long;
break;
case SimPermDisabled:
carrierText=getContext().getText(R.string.lockscreen_missing_sim_message_short);
carrierHelpTextId=R.string.lockscreen_permanent_disabled_sim_instructions;
break;
case SimMissingLocked:
carrierText=LockPatternUtils.getCarrierString(mUpdateMonitor.getTelephonyPlmn(),getContext().getText(R.string.lockscreen_missing_sim_message_short));
carrierHelpTextId=R.string.lockscreen_missing_sim_instructions;
mShouldEnableUnlock=false;
break;
case SimLocked:
carrierText=LockPatternUtils.getCarrierString(mUpdateMonitor.getTelephonyPlmn(),getContext().getText(R.string.lockscreen_sim_locked_message));
break;
case SimPukLocked:
carrierText=LockPatternUtils.getCarrierString(mUpdateMonitor.getTelephonyPlmn(),getContext().getText(R.string.lockscreen_sim_puk_locked_message));
if (!mLockPatternUtils.isPukUnlockScreenEnable()) {
mShouldEnableUnlock=false;
}
break;
}
setCarrierText(carrierText);
setCarrierHelpText(carrierHelpTextId);
updateEmergencyCallButtonState();
}
