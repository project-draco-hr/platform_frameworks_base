{
  if (!mHasReturnedViewTypeCount) {
    mHasReturnedViewTypeCount=true;
  }
  final Preference preference=this.getItem(position);
  if (preference.hasSpecifiedLayout()) {
    return IGNORE_ITEM_VIEW_TYPE;
  }
  final String name=preference.getClass().getName();
  int viewType=Collections.binarySearch(mPreferenceClassNames,name);
  if (viewType < 0) {
    return IGNORE_ITEM_VIEW_TYPE;
  }
 else {
    return viewType;
  }
}
