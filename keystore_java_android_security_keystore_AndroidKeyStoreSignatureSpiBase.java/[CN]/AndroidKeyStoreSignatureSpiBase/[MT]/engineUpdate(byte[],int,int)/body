{
  if (mCachedException != null) {
    throw new SignatureException(mCachedException);
  }
  try {
    ensureKeystoreOperationInitialized();
  }
 catch (  InvalidKeyException e) {
    throw new SignatureException(e);
  }
  if (len == 0) {
    return;
  }
  byte[] output;
  try {
    output=mMessageStreamer.update(b,off,len);
  }
 catch (  KeyStoreException e) {
    throw new SignatureException(e);
  }
  if (output.length != 0) {
    throw new ProviderException("Update operation unexpectedly produced output: " + output.length + " bytes");
  }
}
