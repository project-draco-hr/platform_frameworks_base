{
  long[] subId=SubscriptionManager.getSubId(slotId);
  if (subId == null || subId.length == 0) {
    return SIM_STATE_ABSENT;
  }
  int phoneId=SubscriptionManager.getPhoneId(subId[0]);
  String prop=getTelephonyProperty(phoneId,TelephonyProperties.PROPERTY_SIM_STATE,"");
  if ("ABSENT".equals(prop)) {
    return SIM_STATE_ABSENT;
  }
 else   if ("PIN_REQUIRED".equals(prop)) {
    return SIM_STATE_PIN_REQUIRED;
  }
 else   if ("PUK_REQUIRED".equals(prop)) {
    return SIM_STATE_PUK_REQUIRED;
  }
 else   if ("NETWORK_LOCKED".equals(prop)) {
    return SIM_STATE_NETWORK_LOCKED;
  }
 else   if ("READY".equals(prop)) {
    return SIM_STATE_READY;
  }
 else   if ("CARD_IO_ERROR".equals(prop)) {
    return SIM_STATE_CARD_IO_ERROR;
  }
 else {
    return SIM_STATE_UNKNOWN;
  }
}
