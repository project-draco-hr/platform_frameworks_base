{
  boolean ret=true;
  boolean networkConnected=mConnectionManager.isNetworkConnected();
  if (HttpLog.LOGV)   HttpLog.v("httpFailure() ******* " + e + " count "+ req.mFailCount+ " networkConnected "+ networkConnected+ " "+ mHost+ " "+ req.getUri());
  if (networkConnected && ++req.mFailCount >= RETRY_REQUEST_LIMIT) {
    ret=false;
    String error;
    if (errorId < 0) {
      error=mContext.getText(EventHandler.errorStringResources[-errorId]).toString();
    }
 else {
      Throwable cause=e.getCause();
      error=cause != null ? cause.toString() : e.getMessage();
    }
    req.mEventHandler.error(errorId,error);
    req.complete();
  }
  closeConnection();
  mHttpContext.removeAttribute(HTTP_CONNECTION);
  return ret;
}
