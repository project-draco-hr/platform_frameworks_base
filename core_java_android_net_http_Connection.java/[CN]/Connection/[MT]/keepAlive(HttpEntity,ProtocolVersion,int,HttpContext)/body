{
  org.apache.http.HttpConnection conn=(org.apache.http.HttpConnection)context.getAttribute(ExecutionContext.HTTP_CONNECTION);
  if (conn != null && !conn.isOpen())   return false;
  if (entity != null) {
    if (entity.getContentLength() < 0) {
      if (!entity.isChunked() || ver.lessEquals(HttpVersion.HTTP_1_0)) {
        return false;
      }
    }
  }
  if (connType == Headers.CONN_CLOSE) {
    return false;
  }
 else   if (connType == Headers.CONN_KEEP_ALIVE) {
    return true;
  }
  return !ver.lessEquals(HttpVersion.HTTP_1_0);
}
