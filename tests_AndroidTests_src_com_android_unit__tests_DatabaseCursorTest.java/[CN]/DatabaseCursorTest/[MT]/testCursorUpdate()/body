{
  mDatabase.execSQL("CREATE TABLE test (_id INTEGER PRIMARY KEY, d INTEGER, s INTEGER);");
  for (int i=0; i < 20; i++) {
    mDatabase.execSQL("INSERT INTO test (d, s) VALUES (" + i + ","+ i % 2 + ");");
  }
  Cursor c=mDatabase.query("test",null,"s = 0",null,null,null,null);
  int dCol=c.getColumnIndexOrThrow("d");
  int sCol=c.getColumnIndexOrThrow("s");
  int count=0;
  while (c.moveToNext()) {
    assertTrue(c.updateInt(dCol,3));
    count++;
  }
  assertEquals(10,count);
  assertTrue(c.commitUpdates());
  assertTrue(c.requery());
  count=0;
  while (c.moveToNext()) {
    assertEquals(3,c.getInt(dCol));
    count++;
  }
  assertEquals(10,count);
  assertTrue(c.moveToFirst());
  assertTrue(c.deleteRow());
  assertEquals(9,c.getCount());
  c.close();
}
