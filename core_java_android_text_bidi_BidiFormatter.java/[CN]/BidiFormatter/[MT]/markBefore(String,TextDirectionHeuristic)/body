{
  final boolean isRtl=heuristic.isRtl(str,0,str.length());
  if (!isRtlContext && (isRtl || getEntryDir(str) == Dir.RTL)) {
    return LRM_STRING;
  }
  if (isRtlContext && (!isRtl || getEntryDir(str) == Dir.LTR)) {
    return RLM_STRING;
  }
  return EMPTY_STRING;
}
