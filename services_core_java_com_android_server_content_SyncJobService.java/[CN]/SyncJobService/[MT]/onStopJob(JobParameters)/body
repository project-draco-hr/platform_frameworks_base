{
  if (Log.isLoggable(TAG,Log.VERBOSE)) {
    Slog.v(TAG,"onStopJob called " + params.getJobId() + ", reason: "+ params.getStopReason());
  }
synchronized (jobParamsMap) {
    jobParamsMap.remove(params.getJobId());
  }
  Message m=Message.obtain();
  m.what=SyncManager.SyncHandler.MESSAGE_STOP_SYNC;
  m.obj=SyncOperation.maybeCreateFromJobExtras(params.getExtras());
  if (m.obj == null) {
    return false;
  }
  m.arg1=params.getStopReason() != JobParameters.REASON_CANCELED ? 1 : 0;
  m.arg2=params.getStopReason() == JobParameters.REASON_TIMEOUT ? 1 : 0;
  sendMessage(m);
  return false;
}
