{
  if (isTransitionSet()) {
    mNextAppTransitionType=scaleUp ? NEXT_TRANSIT_TYPE_THUMBNAIL_ASPECT_SCALE_UP : NEXT_TRANSIT_TYPE_THUMBNAIL_ASPECT_SCALE_DOWN;
    mNextAppTransitionPackage=null;
    mNextAppTransitionAnimationsSpecs.clear();
    mNextAppTransitionScaleUp=scaleUp;
    for (int i=0; i < specs.length; i++) {
      AppTransitionAnimationSpec spec=specs[i];
      if (spec != null) {
        mNextAppTransitionAnimationsSpecs.put(spec.taskId,spec);
      }
    }
    postAnimationCallback();
    mNextAppTransitionCallback=callback;
  }
 else {
    postAnimationCallback();
  }
}
