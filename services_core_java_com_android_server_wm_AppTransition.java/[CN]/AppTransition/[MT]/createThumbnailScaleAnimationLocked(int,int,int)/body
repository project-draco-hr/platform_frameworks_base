{
  Animation a;
  final int thumbWidthI=mNextAppTransitionThumbnail.getWidth();
  final float thumbWidth=thumbWidthI > 0 ? thumbWidthI : 1;
  final int thumbHeightI=mNextAppTransitionThumbnail.getHeight();
  final float thumbHeight=thumbHeightI > 0 ? thumbHeightI : 1;
  if (mNextAppTransitionScaleUp) {
    float scaleW=appWidth / thumbWidth;
    float scaleH=appHeight / thumbHeight;
    Animation scale=new ScaleAnimation(1,scaleW,1,scaleH,computePivot(mNextAppTransitionStartX,1 / scaleW),computePivot(mNextAppTransitionStartY,1 / scaleH));
    scale.setInterpolator(mDecelerateInterpolator);
    Animation alpha=new AlphaAnimation(1,0);
    alpha.setInterpolator(mThumbnailFadeoutInterpolator);
    AnimationSet set=new AnimationSet(false);
    set.addAnimation(scale);
    set.addAnimation(alpha);
    a=set;
  }
 else {
    float scaleW=appWidth / thumbWidth;
    float scaleH=appHeight / thumbHeight;
    a=new ScaleAnimation(scaleW,1,scaleH,1,computePivot(mNextAppTransitionStartX,1 / scaleW),computePivot(mNextAppTransitionStartY,1 / scaleH));
  }
  return prepareThumbnailAnimation(a,appWidth,appHeight,transit);
}
