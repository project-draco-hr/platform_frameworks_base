{
  Bitmap bitmap=null;
  MediaMetadataRetriever retriever=new MediaMetadataRetriever();
  try {
    retriever.setMode(MediaMetadataRetriever.MODE_CAPTURE_FRAME_ONLY);
    retriever.setDataSource(filePath);
    bitmap=retriever.getFrameAtTime(-1);
  }
 catch (  IllegalArgumentException ex) {
  }
catch (  RuntimeException ex) {
  }
 finally {
    try {
      retriever.release();
    }
 catch (    RuntimeException ex) {
    }
  }
  if (kind == Images.Thumbnails.MICRO_KIND && bitmap != null) {
    bitmap=extractThumbnail(bitmap,TARGET_SIZE_MICRO_THUMBNAIL,TARGET_SIZE_MICRO_THUMBNAIL,OPTIONS_RECYCLE_INPUT);
  }
  return bitmap;
}
