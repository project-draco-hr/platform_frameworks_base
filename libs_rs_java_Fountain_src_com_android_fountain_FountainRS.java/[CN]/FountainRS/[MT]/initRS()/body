{
  int partCount=1024;
  mIntAlloc=Allocation.createSized(mRS,Element.USER_I32,10);
  mVertAlloc=Allocation.createSized(mRS,Element.USER_I32,partCount * 5 + 1);
  ProgramStore.Builder bs=new ProgramStore.Builder(mRS,null,null);
  bs.setBlendFunc(ProgramStore.BlendSrcFunc.SRC_ALPHA,ProgramStore.BlendDstFunc.ONE);
  bs.setDepthFunc(ProgramStore.DepthFunc.ALWAYS);
  bs.setDepthMask(false);
  bs.setDitherEnable(false);
  mPFS=bs.create();
  mPFS.setName("PFSBlend");
  ProgramFragment.Builder bf=new ProgramFragment.Builder(mRS,null,null);
  mPF=bf.create();
  mPF.setName("PgmFragParts");
  mParams[0]=0;
  mParams[1]=partCount;
  mParams[2]=0;
  mParams[3]=0;
  mParams[4]=0;
  mIntAlloc.data(mParams);
  Element.Builder eb=new Element.Builder(mRS);
  eb.add(Element.DataType.UNSIGNED,Element.DataKind.RED,true,8);
  eb.add(Element.DataType.UNSIGNED,Element.DataKind.GREEN,true,8);
  eb.add(Element.DataType.UNSIGNED,Element.DataKind.BLUE,true,8);
  eb.add(Element.DataType.UNSIGNED,Element.DataKind.ALPHA,true,8);
  eb.add(Element.DataType.FLOAT,Element.DataKind.X,false,32);
  eb.add(Element.DataType.FLOAT,Element.DataKind.Y,false,32);
  Element primElement=eb.create();
  SimpleMesh.Builder smb=new SimpleMesh.Builder(mRS);
  int vtxSlot=smb.addVertexType(primElement,partCount * 3);
  smb.setPrimitive(Primitive.TRIANGLE);
  mSM=smb.create();
  mSM.setName("PartMesh");
  mPartAlloc=mSM.createVertexAllocation(vtxSlot);
  mPartAlloc.setName("PartBuffer");
  mSM.bindVertexAllocation(mPartAlloc,0);
  ScriptC.Builder sb=new ScriptC.Builder(mRS);
  sb.setScript(mRes,R.raw.fountain);
  sb.setRoot(true);
  mScript=sb.create();
  mScript.setClearColor(0.0f,0.0f,0.0f,1.0f);
  mScript.bindAllocation(mIntAlloc,0);
  mScript.bindAllocation(mPartAlloc,1);
  mScript.bindAllocation(mVertAlloc,2);
  mRS.contextBindRootScript(mScript);
}
