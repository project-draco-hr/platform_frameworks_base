{
  Log.i(LOG_TAG,"Test installing 500 small apps onto SD");
  try {
    for (int i=MANY_APPS_START; i <= MANY_APPS_END; ++i) {
      String currentPkgName=String.format("%s%d",MANY_APPS_PKG_PREFIX,i);
      mPMHostUtils.uninstallApp(currentPkgName);
      assertFalse(mPMHostUtils.doesPackageExist(currentPkgName));
      String currentApkName=String.format("%s%d.apk",MANY_APPS_APK_PREFIX,i);
      Log.i(LOG_TAG,"Installing app " + currentApkName);
      mPMHostUtils.installFile(getRepositoryTestAppFilePath(MANY_APPS_DIRECTORY_NAME,currentApkName),true);
      mPMHostUtils.waitForPackageManager();
      assertTrue(mPMHostUtils.doesAppExistOnSDCard(currentPkgName));
      assertTrue(mPMHostUtils.doesPackageExist(currentPkgName));
    }
  }
  finally {
    for (int i=MANY_APPS_START; i <= MANY_APPS_END; ++i) {
      String currentPkgName=String.format("%s%d",MANY_APPS_PKG_PREFIX,i);
      mPMHostUtils.uninstallApp(currentPkgName);
      assertFalse(mPMHostUtils.doesPackageExist(currentPkgName));
    }
  }
}
