{
  if (mRemoteInstance != null) {
    return;
  }
  InstrumentationRegistry.getContext().bindService(mIntent,this,Context.BIND_AUTO_CREATE);
  final long startMillis=SystemClock.uptimeMillis();
  while (true) {
    if (mRemoteInstance != null) {
      break;
    }
    final long elapsedMillis=SystemClock.uptimeMillis() - startMillis;
    final long remainingMillis=BIND_REMOTE_SERVICE_TIMEOUT - elapsedMillis;
    if (remainingMillis <= 0) {
      throw new TimeoutException("Cannot get spooler!");
    }
    try {
      mLock.wait(remainingMillis);
    }
 catch (    InterruptedException ie) {
    }
  }
  mLock.notifyAll();
}
