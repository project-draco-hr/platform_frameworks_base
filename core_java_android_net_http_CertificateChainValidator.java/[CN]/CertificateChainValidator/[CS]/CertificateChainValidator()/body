{
  try {
    TrustManagerFactory tmf=TrustManagerFactory.getInstance("X.509");
    for (    TrustManager tm : tmf.getTrustManagers()) {
      if (tm instanceof X509ExtendedTrustManager) {
        mTrustManager=(X509ExtendedTrustManager)tm;
      }
    }
  }
 catch (  NoSuchAlgorithmException e) {
    throw new RuntimeException("X.509 TrustManager factory must be available",e);
  }
  if (mTrustManager == null) {
    throw new RuntimeException("None of the X.509 TrustManagers are X509ExtendedTrustManager");
  }
}
