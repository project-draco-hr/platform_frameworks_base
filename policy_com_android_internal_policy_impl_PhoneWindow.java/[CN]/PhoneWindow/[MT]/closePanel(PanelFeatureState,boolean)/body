{
  final ViewManager wm=getWindowManager();
  if ((wm != null) && st.isOpen) {
    if (st.decorView != null) {
      wm.removeView(st.decorView);
    }
    if (doCallback) {
      callOnPanelClosed(st.featureId,st,null);
    }
  }
  st.isPrepared=false;
  st.isHandled=false;
  st.isOpen=false;
  st.shownPanelView=null;
  if (st.isInExpandedMode) {
    st.refreshDecorView=true;
    st.isInExpandedMode=false;
  }
  if (mPreparedPanel == st) {
    mPreparedPanel=null;
    mPanelChordingKey=0;
  }
}
