{
  super.onWindowFocusChanged(hasWindowFocus);
  mKeycodeMenuTimeoutHandler.removeMessages(MSG_MENU_LONG_PRESS);
  mKeycodeMenuTimeoutHandler.removeMessages(MSG_CALL_LONG_PRESS);
  mKeycodeMenuTimeoutHandler.removeMessages(MSG_CAMERA_LONG_PRESS);
  mKeycodeCallTimeoutActive=false;
  mKeycodeCameraTimeoutActive=false;
  if (!hasWindowFocus && mPanelChordingKey > 0) {
    closePanel(FEATURE_OPTIONS_PANEL);
  }
  final Callback cb=getCallback();
  if (cb != null && mFeatureId < 0) {
    cb.onWindowFocusChanged(hasWindowFocus);
  }
}
