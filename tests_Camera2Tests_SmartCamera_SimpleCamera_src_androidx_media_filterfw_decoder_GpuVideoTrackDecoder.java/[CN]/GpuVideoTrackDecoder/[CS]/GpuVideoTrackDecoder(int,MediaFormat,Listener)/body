{
  super(trackIndex,format,listener);
  mTextureSource=TextureSource.newExternalTexture();
  mSurfaceTexture=new SurfaceTexture(mTextureSource.getTextureId());
  mSurfaceTexture.detachFromGLContext();
  mSurfaceTexture.setOnFrameAvailableListener(new OnFrameAvailableListener(){
    @Override public void onFrameAvailable(    SurfaceTexture surfaceTexture){
      markFrameAvailable();
    }
  }
);
  mOutputWidth=format.getInteger(MediaFormat.KEY_WIDTH);
  mOutputHeight=format.getInteger(MediaFormat.KEY_HEIGHT);
  mTransformMatrix=new float[16];
}
