{
  MotionEventHolder current=mEventQueue;
  while (current.next != null) {
    current=current.next;
  }
  while (true) {
    if (current == null) {
      mEventQueue=null;
      break;
    }
    if (current.event.getEventTimeNano() >= frameNanos) {
      current.next=null;
      break;
    }
    handleMotionEvent(current.event,current.policyFlags);
    MotionEventHolder prior=current;
    current=current.previous;
    prior.recycle();
  }
}
