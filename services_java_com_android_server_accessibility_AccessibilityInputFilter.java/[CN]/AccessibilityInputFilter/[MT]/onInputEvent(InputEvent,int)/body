{
  if (DEBUG) {
    Slog.d(TAG,"Received event: " + event + ", policyFlags=0x"+ Integer.toHexString(policyFlags));
  }
  if (event.getSource() == InputDevice.SOURCE_TOUCHSCREEN) {
    MotionEvent motionEvent=(MotionEvent)event;
    int deviceId=event.getDeviceId();
    if (mTouchscreenSourceDeviceId != deviceId) {
      mTouchscreenSourceDeviceId=deviceId;
      if (mTouchExplorer != null) {
        mTouchExplorer.clear(motionEvent,policyFlags);
      }
 else {
        mTouchExplorer=new TouchExplorer(this,mContext);
      }
    }
    if ((policyFlags & WindowManagerPolicy.FLAG_PASS_TO_USER) != 0) {
      mTouchExplorer.onMotionEvent(motionEvent,policyFlags);
    }
 else {
      mTouchExplorer.clear(motionEvent,policyFlags);
    }
  }
 else {
    super.onInputEvent(event,policyFlags);
  }
}
