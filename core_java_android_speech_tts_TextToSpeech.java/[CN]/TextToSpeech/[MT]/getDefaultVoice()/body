{
  return runAction(new Action<Voice>(){
    @Override public Voice run(    ITextToSpeechService service) throws RemoteException {
      String[] defaultLanguage=service.getClientDefaultLanguage();
      if (defaultLanguage == null || defaultLanguage.length == 0) {
        Log.e(TAG,"service.getClientDefaultLanguage() returned empty array");
        return null;
      }
      String language=defaultLanguage[0];
      String country=(defaultLanguage.length > 1) ? defaultLanguage[1] : "";
      String variant=(defaultLanguage.length > 2) ? defaultLanguage[2] : "";
      int result=service.isLanguageAvailable(language,country,variant);
      if (result >= LANG_AVAILABLE) {
        if (result < LANG_COUNTRY_VAR_AVAILABLE) {
          variant="";
          if (result < LANG_COUNTRY_AVAILABLE) {
            country="";
          }
        }
      }
 else {
        return null;
      }
      String voiceName=service.getDefaultVoiceNameFor(language,country,variant);
      if (TextUtils.isEmpty(voiceName)) {
        return null;
      }
      List<Voice> voices=service.getVoices();
      if (voices == null) {
        return null;
      }
      for (      Voice voice : voices) {
        if (voice.getName().equals(voiceName)) {
          return voice;
        }
      }
      return null;
    }
  }
,null,"getDefaultVoice");
}
