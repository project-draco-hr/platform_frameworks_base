{
  mStarted=false;
  serviceConnection=new ServiceConnection(){
    public void onServiceConnected(    ComponentName name,    IBinder service){
synchronized (mStartLock) {
        mITts=ITts.Stub.asInterface(service);
        try {
          mITtsCallback=new ITtsCallback.Stub(){
            public void markReached(            String mark) throws RemoteException {
              OnSpeechCompletedListener listener=null;
synchronized (mSpeechCompListenerLock) {
                listener=mSpeechCompListener;
              }
              if (listener != null) {
                listener.onSpeechCompleted();
              }
            }
          }
;
          mITts.registerCallback(mITtsCallback);
        }
 catch (        RemoteException e) {
          initTts();
          return;
        }
        mStarted=true;
        if (mInitListener != null) {
          mInitListener.onInit(TTS_SUCCESS);
        }
      }
    }
    public void onServiceDisconnected(    ComponentName name){
synchronized (mStartLock) {
        mITts=null;
        mInitListener=null;
        mStarted=false;
      }
    }
  }
;
  Intent intent=new Intent("android.intent.action.USE_TTS");
  intent.addCategory("android.intent.category.TTS");
  mContext.bindService(intent,serviceConnection,Context.BIND_AUTO_CREATE);
}
