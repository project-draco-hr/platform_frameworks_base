{
  String defaultEngine=getDefaultEngine();
  String engine=defaultEngine;
  if (!areDefaultsEnforced() && !TextUtils.isEmpty(mRequestedEngine) && isEngineEnabled(engine)) {
    engine=mRequestedEngine;
  }
  if (connectToEngine(engine)) {
    return SUCCESS;
  }
  if (!engine.equals(defaultEngine)) {
    if (connectToEngine(defaultEngine)) {
      return SUCCESS;
    }
  }
  final String highestRanked=getHighestRankedEngineName();
  if (!defaultEngine.equals(highestRanked) && !engine.equals(highestRanked)) {
    if (connectToEngine(highestRanked)) {
      return SUCCESS;
    }
  }
  return ERROR;
}
