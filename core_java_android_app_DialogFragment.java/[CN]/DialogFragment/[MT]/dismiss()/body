{
  if (mDialog != null) {
    mDialog.dismiss();
    mDialog=null;
  }
  mRemoved=true;
  if (mBackStackId >= 0) {
    getFragmentManager().popBackStack(mBackStackId,FragmentManager.POP_BACK_STACK_INCLUSIVE);
    mBackStackId=-1;
  }
 else {
    FragmentTransaction ft=getFragmentManager().openTransaction();
    ft.remove(this);
    ft.commit();
  }
}
