{
  if (context == null) {
    throw new IllegalArgumentException("context cannot be null.");
  }
  if (TextUtils.isEmpty(tag)) {
    throw new IllegalArgumentException("tag cannot be null or empty");
  }
  mMaxBitmapSize=context.getResources().getDimensionPixelSize(com.android.internal.R.dimen.config_mediaMetadataBitmapMaxSize);
  mCbStub=new CallbackStub(this);
  MediaSessionManager manager=(MediaSessionManager)context.getSystemService(Context.MEDIA_SESSION_SERVICE);
  try {
    mBinder=manager.createSession(mCbStub,tag,userId);
    mSessionToken=new Token(mBinder.getController());
    mController=new MediaController(context,mSessionToken);
  }
 catch (  RemoteException e) {
    throw new RuntimeException("Remote error creating session.",e);
  }
}
