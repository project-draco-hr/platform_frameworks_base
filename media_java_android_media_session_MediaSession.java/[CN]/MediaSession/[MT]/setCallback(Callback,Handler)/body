{
  if (callback == null) {
    mCallback=null;
    return;
  }
synchronized (mLock) {
    if (mCallback != null && mCallback.mCallback == callback) {
      Log.w(TAG,"Tried to set same callback, ignoring");
      return;
    }
    if (handler == null) {
      handler=new Handler();
    }
    CallbackMessageHandler msgHandler=new CallbackMessageHandler(handler.getLooper(),callback);
    mCallback=msgHandler;
  }
}
