{
  if (mOkHttpClient == null) {
synchronized (mLock) {
      if (mOkHttpClient == null) {
        HostResolver hostResolver=new HostResolver(){
          @Override public InetAddress[] getAllByName(          String host) throws UnknownHostException {
            return Network.this.getAllByName(host);
          }
        }
;
        ConnectionPool pool=new ConnectionPool(httpMaxConnections,httpKeepAliveDurationMs);
        mOkHttpClient=new OkHttpClient().setSocketFactory(getSocketFactory()).setHostResolver(hostResolver).setConnectionPool(pool);
      }
    }
  }
}
