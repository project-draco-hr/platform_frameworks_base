{
  final ConnectivityManager cm=ConnectivityManager.getInstanceOrNull();
  if (cm == null) {
    throw new IOException("No ConnectivityManager yet constructed, please construct one");
  }
  ProxyInfo proxyInfo=cm.getGlobalProxy();
  if (proxyInfo == null) {
    final LinkProperties lp=cm.getLinkProperties(this);
    if (lp != null)     proxyInfo=lp.getHttpProxy();
  }
  java.net.Proxy proxy=null;
  if (proxyInfo != null) {
    proxy=proxyInfo.makeProxy();
  }
 else {
    proxy=java.net.Proxy.NO_PROXY;
  }
  return openConnection(url,proxy);
}
