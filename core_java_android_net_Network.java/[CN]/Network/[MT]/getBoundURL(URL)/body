{
synchronized (mLock) {
    if (mOkHttpClient == null) {
      HostResolver hostResolver=new HostResolver(){
        @Override public InetAddress[] getAllByName(        String host) throws UnknownHostException {
          return Network.this.getAllByName(host);
        }
      }
;
      mOkHttpClient=new OkHttpClient().setSocketFactory(getSocketFactory()).setHostResolver(hostResolver);
    }
  }
  return new URL(url,"",mOkHttpClient.createURLStreamHandler(url.getProtocol()));
}
