{
  if (DBG)   Slog.d(TAG,"acquireWifiLockLocked: " + wifiLock);
  mLocks.addLock(wifiLock);
  long ident=Binder.clearCallingIdentity();
  try {
    noteAcquireWifiLock(wifiLock);
switch (wifiLock.mMode) {
case WifiManager.WIFI_MODE_FULL:
      ++mFullLocksAcquired;
    break;
case WifiManager.WIFI_MODE_FULL_HIGH_PERF:
  ++mFullHighPerfLocksAcquired;
break;
case WifiManager.WIFI_MODE_SCAN_ONLY:
++mScanLocksAcquired;
break;
}
sendReportWorkSourceMessage();
updateWifiState();
return true;
}
 catch (RemoteException e) {
return false;
}
 finally {
Binder.restoreCallingIdentity(ident);
}
}
