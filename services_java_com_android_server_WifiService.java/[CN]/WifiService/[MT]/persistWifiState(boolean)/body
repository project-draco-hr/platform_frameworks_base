{
  final ContentResolver cr=mContext.getContentResolver();
  boolean airplane=mAirplaneModeOn.get() && isAirplaneToggleable();
  if (enabled) {
    if (airplane) {
      mPersistWifiState.set(WIFI_ENABLED_AIRPLANE_OVERRIDE);
    }
 else {
      mPersistWifiState.set(WIFI_ENABLED);
    }
  }
 else {
    if (airplane) {
      mPersistWifiState.set(WIFI_DISABLED_AIRPLANE_ON);
    }
 else {
      mPersistWifiState.set(WIFI_DISABLED);
    }
  }
  Settings.Secure.putInt(cr,Settings.Secure.WIFI_ON,mPersistWifiState.get());
}
