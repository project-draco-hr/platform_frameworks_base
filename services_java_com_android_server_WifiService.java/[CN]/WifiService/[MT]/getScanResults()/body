{
  enforceAccessPermission();
  int userId=UserHandle.getCallingUserId();
  long ident=Binder.clearCallingIdentity();
  try {
    int currentUser=ActivityManager.getCurrentUser();
    if (userId != currentUser) {
      return new ArrayList<ScanResult>();
    }
 else {
      return mWifiStateMachine.syncGetScanResultsList();
    }
  }
  finally {
    Binder.restoreCallingIdentity(ident);
  }
}
