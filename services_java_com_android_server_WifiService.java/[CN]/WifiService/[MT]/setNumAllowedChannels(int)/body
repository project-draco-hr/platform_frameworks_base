{
  enforceChangePermission();
  boolean found=false;
  for (  int validChan : sValidRegulatoryChannelCounts) {
    if (validChan == numChannels) {
      found=true;
      break;
    }
  }
  if (!found) {
    return false;
  }
  Settings.Secure.putInt(mContext.getContentResolver(),Settings.Secure.WIFI_NUM_ALLOWED_CHANNELS,numChannels);
  mWifiStateTracker.setNumAllowedChannels(numChannels);
  return true;
}
