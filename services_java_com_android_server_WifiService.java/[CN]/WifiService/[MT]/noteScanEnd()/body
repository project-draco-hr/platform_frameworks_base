{
  WorkSource scanWorkSource=null;
synchronized (WifiService.this) {
    scanWorkSource=mScanWorkSource;
    mScanWorkSource=null;
  }
  if (scanWorkSource != null) {
    try {
      mBatteryStats.noteWifiScanStoppedFromSource(scanWorkSource);
    }
 catch (    RemoteException e) {
      Log.w(TAG,e);
    }
  }
}
