{
  enforceAccessPermission();
  final ContentResolver cr=mContext.getContentResolver();
  WifiConfiguration wifiConfig=new WifiConfiguration();
  int authType;
  try {
    wifiConfig.SSID=Settings.Secure.getString(cr,Settings.Secure.WIFI_AP_SSID);
    if (wifiConfig.SSID == null)     return null;
    authType=Settings.Secure.getInt(cr,Settings.Secure.WIFI_AP_SECURITY);
    wifiConfig.allowedKeyManagement.set(authType);
    wifiConfig.preSharedKey=Settings.Secure.getString(cr,Settings.Secure.WIFI_AP_PASSWD);
    return wifiConfig;
  }
 catch (  Settings.SettingNotFoundException e) {
    Slog.e(TAG,"AP settings not found, returning");
    return null;
  }
}
