{
  int i=mHistory.size();
  while (i > 0) {
    i--;
    ActivityRecord r=mHistory.get(i);
    if (r.task.taskId == taskId) {
      i++;
      break;
    }
  }
  while (i > 0) {
    i--;
    ActivityRecord r=mHistory.get(i);
    if (r.finishing) {
      continue;
    }
    if (r.task.taskId != taskId) {
      performClearTaskAtIndexLocked(taskId,i + 1);
      return;
    }
  }
}
