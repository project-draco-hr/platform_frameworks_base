{
  List<ResultInfo> results=null;
  List<Intent> newIntents=null;
  if (andResume) {
    results=r.results;
    newIntents=r.newIntents;
  }
  if (DEBUG_SWITCH)   Slog.v(TAG,"Relaunching: " + r + " with results="+ results+ " newIntents="+ newIntents+ " andResume="+ andResume);
  EventLog.writeEvent(andResume ? EventLogTags.AM_RELAUNCH_RESUME_ACTIVITY : EventLogTags.AM_RELAUNCH_ACTIVITY,System.identityHashCode(r),r.task.taskId,r.shortComponentName);
  r.startFreezingScreenLocked(r.app,0);
  try {
    if (DEBUG_SWITCH)     Slog.i(TAG,"Switch is restarting resumed " + r);
    r.forceNewConfig=false;
    r.app.thread.scheduleRelaunchActivity(r,results,newIntents,changes,!andResume,mService.mConfiguration);
  }
 catch (  RemoteException e) {
    return false;
  }
  if (andResume) {
    r.results=null;
    r.newIntents=null;
    if (mMainStack) {
      mService.reportResumedActivityLocked(r);
    }
  }
  return true;
}
