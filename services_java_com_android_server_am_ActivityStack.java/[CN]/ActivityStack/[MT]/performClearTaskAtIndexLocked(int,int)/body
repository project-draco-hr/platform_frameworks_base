{
  while (i < mHistory.size()) {
    ActivityRecord r=mHistory.get(i);
    if (r.task.taskId != taskId) {
      return;
    }
    if (r.finishing) {
      i++;
      continue;
    }
    if (!finishActivityLocked(r,i,Activity.RESULT_CANCELED,null,"clear",false)) {
      i++;
    }
  }
}
