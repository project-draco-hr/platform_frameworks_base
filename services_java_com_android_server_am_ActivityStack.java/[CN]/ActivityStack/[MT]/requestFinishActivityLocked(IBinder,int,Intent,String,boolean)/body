{
  int index=indexOfTokenLocked(token);
  if (DEBUG_RESULTS || DEBUG_STATES)   Slog.v(TAG,"Finishing activity @" + index + ": token="+ token+ ", result="+ resultCode+ ", data="+ resultData+ ", reason="+ reason);
  if (index < 0) {
    return false;
  }
  ActivityRecord r=mHistory.get(index);
  finishActivityLocked(r,index,resultCode,resultData,reason,oomAdj);
  return true;
}
