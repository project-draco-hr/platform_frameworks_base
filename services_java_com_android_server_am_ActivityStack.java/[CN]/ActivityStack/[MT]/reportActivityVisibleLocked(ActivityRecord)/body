{
  for (int i=mWaitingActivityVisible.size() - 1; i >= 0; i--) {
    WaitResult w=mWaitingActivityVisible.get(i);
    w.timeout=false;
    if (r != null) {
      w.who=new ComponentName(r.info.packageName,r.info.name);
    }
    w.totalTime=SystemClock.uptimeMillis() - w.thisTime;
    w.thisTime=w.totalTime;
  }
  mService.notifyAll();
  if (mDismissKeyguardOnNextActivity) {
    mDismissKeyguardOnNextActivity=false;
    mService.mWindowManager.dismissKeyguard();
  }
}
