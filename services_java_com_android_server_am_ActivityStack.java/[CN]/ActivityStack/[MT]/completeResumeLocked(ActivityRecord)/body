{
  next.idle=false;
  next.results=null;
  next.newIntents=null;
  Message msg=mHandler.obtainMessage(IDLE_TIMEOUT_MSG);
  msg.obj=next;
  mHandler.sendMessageDelayed(msg,IDLE_TIMEOUT);
  if (false) {
    msg=mHandler.obtainMessage(IDLE_NOW_MSG);
    msg.obj=next;
    mHandler.sendMessage(msg);
  }
  if (mMainStack) {
    mService.reportResumedActivityLocked(next);
  }
  if (mMainStack) {
    mService.setFocusedActivityLocked(next);
  }
  next.resumeKeyDispatchingLocked();
  ensureActivitiesVisibleLocked(null,0);
  mService.mWindowManager.executeAppTransition();
  mNoAnimActivities.clear();
  if (next.app != null) {
synchronized (mService.mProcessStatsThread) {
      next.cpuTimeAtResume=mService.mProcessStats.getCpuTimeForPid(next.app.pid);
    }
  }
 else {
    next.cpuTimeAtResume=0;
  }
}
