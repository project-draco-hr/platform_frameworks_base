{
  for (int i=mHistory.size() - 1; i >= 0; i--) {
    ActivityRecord r=mHistory.get(i);
    if (owner != null && r.app != owner) {
      continue;
    }
    if (r.app != null && r.haveState && !r.visible && r.stopped && !r.finishing && r.state != ActivityState.DESTROYING && r.state != ActivityState.DESTROYED) {
      destroyActivityLocked(r,true,oomAdj,"trim");
    }
  }
}
