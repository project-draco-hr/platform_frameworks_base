{
  for (int i=mTaskHistory.size() - 1; i >= 0; --i) {
    final TaskRecord task=mTaskHistory.get(i);
    final ArrayList<ActivityRecord> activities=task.mActivities;
    for (int j=activities.size() - 1; j >= 0; --j) {
      ActivityRecord r=activities.get(j);
      if (!r.finishing && !r.delayedResume && r != notTop && okToShow(r)) {
        return r;
      }
    }
  }
  return null;
}
