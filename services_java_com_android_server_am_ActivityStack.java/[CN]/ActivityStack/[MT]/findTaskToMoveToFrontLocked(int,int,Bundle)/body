{
  for (int i=mHistory.size() - 1; i >= 0; i--) {
    ActivityRecord hr=mHistory.get(i);
    if (hr.task.taskId == taskId) {
      if ((flags & ActivityManager.MOVE_TASK_NO_USER_ACTION) == 0) {
        mUserLeaving=true;
      }
      if ((flags & ActivityManager.MOVE_TASK_WITH_HOME) != 0) {
        moveHomeToFrontLocked();
      }
      moveTaskToFrontLocked(hr.task,null,options);
      return true;
    }
  }
  return false;
}
