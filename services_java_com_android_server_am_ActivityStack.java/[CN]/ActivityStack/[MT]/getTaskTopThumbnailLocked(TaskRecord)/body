{
  if (mResumedActivity != null && mResumedActivity.task == tr) {
    return screenshotActivities(mResumedActivity);
  }
  TaskAccessInfo info=getTaskAccessInfoLocked(tr,true);
  if (info.numSubThumbbails <= 0) {
    return info.mainThumbnail != null ? info.mainThumbnail : tr.lastThumbnail;
  }
  return info.subtasks.get(info.numSubThumbbails - 1).holder.lastThumbnail;
}
