{
  if (DEBUG_SAVED_STATE)   Slog.i(TAG,"Saving icicle of " + r + ": "+ icicle);
  r.icicle=icicle;
  r.haveState=true;
  r.updateThumbnail(thumbnail,description);
  r.stopped=true;
  if (DEBUG_STATES)   Slog.v(TAG,"Moving to STOPPED: " + r + " (stop complete)");
  r.state=ActivityState.STOPPED;
  if (!r.finishing) {
    if (r.configDestroy) {
      destroyActivityLocked(r,true,false);
      resumeTopActivityLocked(null);
    }
  }
}
