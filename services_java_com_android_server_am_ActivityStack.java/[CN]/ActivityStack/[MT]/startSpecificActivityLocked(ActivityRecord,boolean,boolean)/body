{
  ProcessRecord app=mService.getProcessRecordLocked(r.processName,r.info.applicationInfo.uid);
  if (r.launchTime == 0) {
    r.launchTime=SystemClock.uptimeMillis();
    if (mInitialStartTime == 0) {
      mInitialStartTime=r.launchTime;
    }
  }
 else   if (mInitialStartTime == 0) {
    mInitialStartTime=SystemClock.uptimeMillis();
  }
  if (app != null && app.thread != null) {
    try {
      app.addPackage(r.info.packageName);
      realStartActivityLocked(r,app,andResume,checkConfig);
      return;
    }
 catch (    RemoteException e) {
      Slog.w(TAG,"Exception when starting activity " + r.intent.getComponent().flattenToShortString(),e);
    }
  }
  mService.startProcessLocked(r.processName,r.info.applicationInfo,true,0,"activity",r.intent.getComponent(),false);
}
