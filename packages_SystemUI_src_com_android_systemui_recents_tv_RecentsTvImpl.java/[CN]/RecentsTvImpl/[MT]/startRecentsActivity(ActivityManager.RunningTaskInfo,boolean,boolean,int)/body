{
  RecentsTaskLoader loader=Recents.getTaskLoader();
  if (mTriggeredFromAltTab || sInstanceLoadPlan == null) {
    sInstanceLoadPlan=loader.createLoadPlan(mContext);
  }
  if (mTriggeredFromAltTab || !sInstanceLoadPlan.hasTasks()) {
    loader.preloadTasks(sInstanceLoadPlan,runningTask.id,isHomeStackVisible);
  }
  TaskStack stack=sInstanceLoadPlan.getTaskStack();
  if (!animate) {
    ActivityOptions opts=ActivityOptions.makeCustomAnimation(mContext,-1,-1);
    startRecentsActivity(runningTask,opts,false,false);
    return;
  }
  boolean hasRecentTasks=stack.getTaskCount() > 0;
  boolean useThumbnailTransition=(runningTask != null) && !isHomeStackVisible && hasRecentTasks;
  if (useThumbnailTransition) {
    ActivityOptions opts=getThumbnailTransitionActivityOptionsForTV(runningTask,stack.getTaskCount());
    if (opts != null) {
      startRecentsActivity(runningTask,opts,false,true);
    }
 else {
      useThumbnailTransition=false;
    }
  }
  if (!useThumbnailTransition) {
    startRecentsActivity(runningTask,null,true,false);
  }
  mLastToggleTime=SystemClock.elapsedRealtime();
}
