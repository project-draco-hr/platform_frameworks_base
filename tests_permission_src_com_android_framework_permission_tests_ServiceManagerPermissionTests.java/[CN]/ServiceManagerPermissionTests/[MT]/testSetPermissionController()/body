{
  try {
    IPermissionController pc=new IPermissionController.Stub(){
      public boolean checkPermission(      java.lang.String permission,      int pid,      int uid){
        return true;
      }
      @Override public String[] getPackagesForUid(      int uid){
        return new String[0];
      }
      @Override public boolean isRuntimePermission(      String permission){
        return false;
      }
    }
;
    ServiceManagerNative.asInterface(BinderInternal.getContextObject()).setPermissionController(pc);
    fail("IServiceManager.setPermissionController did not throw SecurityException as" + " expected");
  }
 catch (  SecurityException e) {
  }
catch (  RemoteException e) {
    fail("Unexpected remote exception");
  }
}
