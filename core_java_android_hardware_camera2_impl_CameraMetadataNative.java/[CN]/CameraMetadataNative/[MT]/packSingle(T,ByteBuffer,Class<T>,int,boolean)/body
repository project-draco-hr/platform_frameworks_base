{
  int size=0;
  if (type.isPrimitive() || type == Rational.class) {
    size=packSingleNative(value,buffer,type,nativeType,sizeOnly);
  }
 else   if (type.isEnum()) {
    size=packEnum((Enum)value,buffer,(Class<Enum>)type,nativeType,sizeOnly);
  }
 else   if (type.isArray()) {
    size=packArray(value,buffer,type,nativeType,sizeOnly);
  }
 else {
    size=packClass(value,buffer,type,nativeType,sizeOnly);
  }
  return size;
}
