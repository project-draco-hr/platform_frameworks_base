{
  mContext=context;
  mLayoutInflater=(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  mDisplayMetrics=new DisplayMetrics();
  mDisplayMatrix=new Matrix();
  mScreenshotLayout=mLayoutInflater.inflate(R.layout.global_screenshot,null);
  mBackgroundView=(ImageView)mScreenshotLayout.findViewById(R.id.global_screenshot_background);
  mScreenshotContainerView=(FrameLayout)mScreenshotLayout.findViewById(R.id.global_screenshot_container);
  mScreenshotView=(ImageView)mScreenshotLayout.findViewById(R.id.global_screenshot);
  mScreenshotLayout.setFocusable(true);
  mScreenshotLayout.setOnTouchListener(new View.OnTouchListener(){
    @Override public boolean onTouch(    View v,    MotionEvent event){
      return true;
    }
  }
);
  mIWindowManager=IWindowManager.Stub.asInterface(ServiceManager.getService(Context.WINDOW_SERVICE));
  mWindowLayoutParams=new WindowManager.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT,0,0,WindowManager.LayoutParams.TYPE_SECURE_SYSTEM_OVERLAY,WindowManager.LayoutParams.FLAG_FULLSCREEN | WindowManager.LayoutParams.FLAG_HARDWARE_ACCELERATED | WindowManager.LayoutParams.FLAG_HARDWARE_ACCELERATED_SYSTEM| WindowManager.LayoutParams.FLAG_KEEP_SURFACE_WHILE_ANIMATING| WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN| WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED,PixelFormat.TRANSLUCENT);
  mWindowLayoutParams.token=new Binder();
  mWindowLayoutParams.setTitle("ScreenshotAnimation");
  mWindowManager=(WindowManager)context.getSystemService(Context.WINDOW_SERVICE);
  mDisplay=mWindowManager.getDefaultDisplay();
}
