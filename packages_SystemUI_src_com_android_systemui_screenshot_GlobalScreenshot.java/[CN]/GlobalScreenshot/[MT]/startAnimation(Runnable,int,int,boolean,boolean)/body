{
  Log.d(TAG,"startAnimation");
  mScreenshotView.setImageBitmap(mScreenBitmap);
  mScreenshotLayout.requestFocus();
  if (mScreenshotAnimation != null) {
    mScreenshotAnimation.end();
    mScreenshotAnimation.removeAllListeners();
    Log.d(TAG,"startAnimation reset previous animations");
  }
  mWindowManager.addView(mScreenshotLayout,mWindowLayoutParams);
  Log.d(TAG,"startAnimation layout added to WM");
  ValueAnimator screenshotDropInAnim=createScreenshotDropInAnimation();
  ValueAnimator screenshotFadeOutAnim=createScreenshotDropOutAnimation(w,h,statusBarVisible,navBarVisible);
  mScreenshotAnimation=new AnimatorSet();
  mScreenshotAnimation.playSequentially(screenshotDropInAnim,screenshotFadeOutAnim);
  mScreenshotAnimation.addListener(new AnimatorListenerAdapter(){
    @Override public void onAnimationEnd(    Animator animation){
      saveScreenshotInWorkerThread(finisher);
      mWindowManager.removeView(mScreenshotLayout);
      mScreenBitmap=null;
      mScreenshotView.setImageBitmap(null);
      Log.d(TAG,"startAnimation onAnimationEnd");
    }
  }
);
  mScreenshotLayout.post(new Runnable(){
    @Override public void run(){
      mCameraSound.play(MediaActionSound.SHUTTER_CLICK);
      mScreenshotView.setLayerType(View.LAYER_TYPE_HARDWARE,null);
      mScreenshotView.buildLayer();
      mScreenshotAnimation.start();
      Log.d(TAG,"startAnimation post runnable");
    }
  }
);
}
