{
  mScreenshotView.setImageBitmap(mScreenBitmap);
  mScreenshotLayout.requestFocus();
  if (mScreenshotAnimation != null) {
    mScreenshotAnimation.end();
  }
  mWindowManager.addView(mScreenshotLayout,mWindowLayoutParams);
  ValueAnimator screenshotFadeInAnim=createScreenshotFadeInAnimation();
  ValueAnimator screenshotFadeOutAnim=createScreenshotFadeOutAnimation(w,h,statusBarVisible,navBarVisible);
  mScreenshotAnimation=new AnimatorSet();
  mScreenshotAnimation.play(screenshotFadeInAnim).before(screenshotFadeOutAnim);
  mScreenshotAnimation.addListener(new AnimatorListenerAdapter(){
    @Override public void onAnimationEnd(    Animator animation){
      saveScreenshotInWorkerThread(finisher);
      mWindowManager.removeView(mScreenshotLayout);
    }
  }
);
  mScreenshotLayout.post(new Runnable(){
    @Override public void run(){
      mScreenshotContainerView.setLayerType(View.LAYER_TYPE_HARDWARE,null);
      mScreenshotContainerView.buildLayer();
      mScreenshotAnimation.start();
    }
  }
);
}
