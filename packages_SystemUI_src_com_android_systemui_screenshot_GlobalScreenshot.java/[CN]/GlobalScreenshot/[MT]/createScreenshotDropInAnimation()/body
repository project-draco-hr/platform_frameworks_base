{
  final float flashPeakDurationPct=((float)(SCREENSHOT_FLASH_TO_PEAK_DURATION) / SCREENSHOT_DROP_IN_DURATION);
  final float flashDurationPct=2f * flashPeakDurationPct;
  final Interpolator flashAlphaInterpolator=new Interpolator(){
    @Override public float getInterpolation(    float x){
      if (x <= flashDurationPct) {
        return (float)Math.sin(Math.PI * (x / flashDurationPct));
      }
      return 0;
    }
  }
;
  final Interpolator scaleInterpolator=new Interpolator(){
    @Override public float getInterpolation(    float x){
      if (x < flashPeakDurationPct) {
        return 0;
      }
      return (x - flashDurationPct) / (1f - flashDurationPct);
    }
  }
;
  ValueAnimator anim=ValueAnimator.ofFloat(0f,1f);
  anim.setDuration(SCREENSHOT_DROP_IN_DURATION);
  anim.addListener(new AnimatorListenerAdapter(){
    @Override public void onAnimationStart(    Animator animation){
      mBackgroundView.setFastAlpha(0f);
      mBackgroundView.setVisibility(View.VISIBLE);
      mBackgroundView.fastInvalidate();
      mScreenshotContainerView.setFastAlpha(0f);
      mScreenshotContainerView.setFastTranslationX(0f);
      mScreenshotContainerView.setFastTranslationY(0f);
      mScreenshotContainerView.setFastScaleX(SCREENSHOT_SCALE + mBgPaddingScale);
      mScreenshotContainerView.setFastScaleY(SCREENSHOT_SCALE + mBgPaddingScale);
      mScreenshotContainerView.setVisibility(View.VISIBLE);
      mScreenshotContainerView.fastInvalidate();
      mScreenshotFlash.setFastAlpha(0f);
      mScreenshotFlash.setVisibility(View.VISIBLE);
      mScreenshotFlash.fastInvalidate();
      mScreenshotLayout.invalidate();
    }
    @Override public void onAnimationEnd(    android.animation.Animator animation){
      mScreenshotFlash.setVisibility(View.GONE);
    }
  }
);
  anim.addUpdateListener(new AnimatorUpdateListener(){
    @Override public void onAnimationUpdate(    ValueAnimator animation){
      float t=((Float)animation.getAnimatedValue()).floatValue();
      float scaleT=(SCREENSHOT_SCALE + mBgPaddingScale) - (float)scaleInterpolator.getInterpolation(t) * (SCREENSHOT_SCALE - SCREENSHOT_DROP_IN_MIN_SCALE);
      mBackgroundView.setFastAlpha(scaleInterpolator.getInterpolation(t) * BACKGROUND_ALPHA);
      mBackgroundView.fastInvalidate();
      mScreenshotContainerView.setFastAlpha(t);
      mScreenshotContainerView.setFastScaleX(scaleT);
      mScreenshotContainerView.setFastScaleY(scaleT);
      mScreenshotContainerView.fastInvalidate();
      mScreenshotFlash.setFastAlpha(flashAlphaInterpolator.getInterpolation(t));
      mScreenshotFlash.fastInvalidate();
      mScreenshotLayout.invalidate();
    }
  }
);
  return anim;
}
