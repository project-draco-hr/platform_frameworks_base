{
  java.awt.geom.AffineTransform canvasMatrix;
  try {
    canvasMatrix=xform.createInverse();
  }
 catch (  java.awt.geom.NoninvertibleTransformException e) {
    Bridge.getLog().error(null,"Unable to inverse matrix in BitmapShader",e);
    canvasMatrix=new java.awt.geom.AffineTransform();
  }
  java.awt.geom.AffineTransform localMatrix=getLocalMatrix();
  try {
    localMatrix=localMatrix.createInverse();
  }
 catch (  java.awt.geom.NoninvertibleTransformException e) {
    Bridge.getLog().error(null,"Unable to inverse matrix in BitmapShader",e);
    localMatrix=new java.awt.geom.AffineTransform();
  }
  return new BitmapShaderContext(canvasMatrix,localMatrix,colorModel);
}
