{
  if (VDBG)   Log.d(TAG,"Creating new BluetoothSocket of type: " + type);
  if (type == BluetoothSocket.TYPE_RFCOMM && uuid == null && fd == -1 && port != BluetoothAdapter.SOCKET_CHANNEL_AUTO_STATIC_NO_SDP) {
    if (port < 1 || port > MAX_RFCOMM_CHANNEL) {
      throw new IOException("Invalid RFCOMM channel: " + port);
    }
  }
  if (uuid != null)   mUuid=uuid;
 else   mUuid=new ParcelUuid(new UUID(0,0));
  mType=type;
  mAuth=auth;
  mAuthMitm=mitm;
  mEncrypt=encrypt;
  mDevice=device;
  mPort=port;
  mFd=fd;
  mSocketState=SocketState.INIT;
  if (device == null) {
    mAddress=BluetoothAdapter.getDefaultAdapter().getAddress();
  }
 else {
    mAddress=device.getAddress();
  }
  mInputStream=new BluetoothInputStream(this);
  mOutputStream=new BluetoothOutputStream(this);
}
