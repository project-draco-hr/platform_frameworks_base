{
  BluetoothSocket as=new BluetoothSocket(this);
  as.mSocketState=SocketState.CONNECTED;
  FileDescriptor[] fds=mSocket.getAncillaryFileDescriptors();
  if (DBG)   Log.d(TAG,"socket fd passed by stack fds: " + Arrays.toString(fds));
  if (fds == null || fds.length != 1) {
    Log.e(TAG,"socket fd passed from stack failed, fds: " + Arrays.toString(fds));
    as.close();
    throw new IOException("bt socket acept failed");
  }
  as.mPfd=new ParcelFileDescriptor(fds[0]);
  as.mSocket=new LocalSocket(fds[0]);
  as.mSocketIS=as.mSocket.getInputStream();
  as.mSocketOS=as.mSocket.getOutputStream();
  as.mAddress=RemoteAddr;
  as.mDevice=BluetoothAdapter.getDefaultAdapter().getRemoteDevice(RemoteAddr);
  return as;
}
