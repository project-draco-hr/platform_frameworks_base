{
  BluetoothSocket acceptedSocket;
  if (mSocketState != SocketState.LISTENING)   throw new IOException("bt socket is not in listen state");
  if (timeout > 0) {
    Log.d(TAG,"accept() set timeout (ms):" + timeout);
    mSocket.setSoTimeout(timeout);
  }
  String RemoteAddr=waitSocketSignal(mSocketIS);
  if (timeout > 0)   mSocket.setSoTimeout(0);
synchronized (this) {
    if (mSocketState != SocketState.LISTENING)     throw new IOException("bt socket is not in listen state");
    acceptedSocket=acceptSocket(RemoteAddr);
  }
  return acceptedSocket;
}
