{
  mLock.readLock().lock();
  try {
    if (mSocketState == SocketState.CLOSED)     return;
    if (mSdp != null) {
      mSdp.cancel();
    }
    abortNative();
  }
  finally {
    mLock.readLock().unlock();
  }
  mLock.writeLock().lock();
  try {
    if (mSocketState != SocketState.CLOSED) {
      mSocketState=SocketState.CLOSED;
      destroyNative();
    }
  }
  finally {
    mLock.writeLock().unlock();
  }
}
