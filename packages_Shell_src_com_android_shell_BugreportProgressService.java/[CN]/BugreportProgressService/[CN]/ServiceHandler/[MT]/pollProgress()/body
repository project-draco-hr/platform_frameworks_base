{
synchronized (mProcesses) {
    if (mProcesses.size() == 0) {
      Log.d(TAG,"No process to poll progress.");
    }
    for (int i=0; i < mProcesses.size(); i++) {
      int pid=mProcesses.keyAt(i);
      String property=String.format(PROPERTY_TEMPLATE_PROGRESS,pid);
      int progress=SystemProperties.getInt(property,0);
      if (progress == 0) {
        Log.v(TAG,"System property " + property + " is not set yet");
        continue;
      }
      BugreportInfo info=mProcesses.valueAt(i);
      if (progress != info.progress) {
        if (DEBUG)         Log.v(TAG,"Updating progress for PID " + pid + " from "+ info.progress+ " to "+ progress);
        info.progress=progress;
        info.lastUpdate=System.currentTimeMillis();
        updateProgress(info);
      }
 else {
        long inactiveTime=System.currentTimeMillis() - info.lastUpdate;
        if (inactiveTime >= INACTIVITY_TIMEOUT) {
          Log.w(TAG,"No progress update for process " + pid + " since "+ info.getFormattedLastUpdate());
          stopProgress(info.pid,null);
        }
      }
    }
    sendEmptyMessageDelayed(MSG_POLL,POLLING_FREQUENCY);
  }
}
