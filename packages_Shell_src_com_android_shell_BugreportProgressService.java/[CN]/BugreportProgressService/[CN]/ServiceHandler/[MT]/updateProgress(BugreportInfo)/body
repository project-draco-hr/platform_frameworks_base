{
  if (info.max <= 0 || info.progress < 0 || info.name == null) {
    Log.e(TAG,"Invalid progress values for " + info);
    return;
  }
  final Context context=getApplicationContext();
  final NumberFormat nf=NumberFormat.getPercentInstance();
  nf.setMinimumFractionDigits(2);
  nf.setMaximumFractionDigits(2);
  final String percentText=nf.format((double)info.progress / info.max);
  final String title=context.getString(R.string.bugreport_in_progress_title);
  final Notification notification=new Notification.Builder(context).setSmallIcon(com.android.internal.R.drawable.stat_sys_adb).setContentTitle(title).setTicker(title).setContentText(info.name).setContentInfo(percentText).setProgress(info.max,info.progress,false).setLocalOnly(true).setColor(context.getColor(com.android.internal.R.color.system_notification_accent_color)).build();
  NotificationManager.from(context).notify(TAG,info.pid,notification);
}
