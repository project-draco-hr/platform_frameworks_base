{
  if (TextUtils.isEmpty(name)) {
    return;
  }
  final List<File> renamedFiles=new ArrayList<>(screenshotFiles.size());
  for (  File oldFile : screenshotFiles) {
    final String oldName=oldFile.getName();
    final String newName=oldName.replaceFirst(Integer.toString(pid),name);
    final File newFile;
    if (!newName.equals(oldName)) {
      final File renamedFile=new File(screenshotDir,newName);
      Log.d(TAG,"Renaming screenshot file " + oldFile + " to "+ renamedFile);
      newFile=oldFile.renameTo(renamedFile) ? renamedFile : oldFile;
    }
 else {
      Log.w(TAG,"Name didn't change: " + oldName);
      newFile=oldFile;
    }
    renamedFiles.add(newFile);
  }
  screenshotFiles=renamedFiles;
}
