{
  String name=mInfoName.getText().toString();
  if (name.equals(mTempName)) {
    if (DEBUG)     Log.v(TAG,"name didn't change, no need to sanitize: " + name);
    return;
  }
  final StringBuilder safeName=new StringBuilder(name.length());
  boolean changed=false;
  for (int i=0; i < name.length(); i++) {
    final char c=name.charAt(i);
    if (isValid(c)) {
      safeName.append(c);
    }
 else {
      changed=true;
      safeName.append('_');
    }
  }
  if (changed) {
    Log.v(TAG,"changed invalid name '" + name + "' to '"+ safeName+ "'");
    name=safeName.toString();
    mInfoName.setText(name);
  }
  mTempName=name;
  setBugreportNameProperty(mPid,name);
}
