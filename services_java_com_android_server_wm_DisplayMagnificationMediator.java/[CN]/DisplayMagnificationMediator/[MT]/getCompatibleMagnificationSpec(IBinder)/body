{
synchronized (mWindowManagerService.mWindowMap) {
    WindowState windowState=mWindowManagerService.mWindowMap.get(windowToken);
    if (windowState == null) {
      return null;
    }
    MagnificationSpec spec=getMagnificationSpecLw(windowState);
    if ((spec == null || spec.isNop()) && windowState.mGlobalScale == 1.0f) {
      return null;
    }
    if (spec == null) {
      spec=MagnificationSpec.obtain();
    }
 else {
      spec=MagnificationSpec.obtain(spec);
    }
    spec.scale*=windowState.mGlobalScale;
    return spec;
  }
}
