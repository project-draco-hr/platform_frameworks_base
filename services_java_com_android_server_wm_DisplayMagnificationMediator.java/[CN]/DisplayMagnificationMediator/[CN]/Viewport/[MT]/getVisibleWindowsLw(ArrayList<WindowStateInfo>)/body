{
  DisplayContent displayContent=mWindowManagerService.getDisplayContentLocked(mDisplayId);
  WindowList windowList=displayContent.getWindowList();
  final int windowCount=windowList.size();
  for (int i=0; i < windowCount; i++) {
    WindowState windowState=windowList.get(i);
    if (windowState.isVisibleLw() || windowState.mAttrs.type == WindowManager.LayoutParams.TYPE_UNIVERSE_BACKGROUND) {
      outWindowStates.add(WindowStateInfo.obtain(windowState));
    }
  }
}
