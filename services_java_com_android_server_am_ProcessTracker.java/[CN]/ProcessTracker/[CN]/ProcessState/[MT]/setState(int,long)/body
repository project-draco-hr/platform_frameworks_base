{
  if (mCurState != state) {
    if (mCurState != STATE_NOTHING) {
      long dur=now - mStartTime;
      mDurations[mCurState]+=dur;
    }
    mCurState=state;
    mStartTime=now;
  }
}
