{
  List<PackageParser.Package> syncAdapterPackages=new ArrayList<>();
  Intent homeIntent=new Intent(Intent.ACTION_MAIN);
  homeIntent.addCategory(Intent.CATEGORY_HOME);
  for (  String syncAdapterPackageName : syncAdapterPackageNames) {
    homeIntent.setPackage(syncAdapterPackageName);
    List<ResolveInfo> homeActivities=mService.queryIntentActivities(homeIntent,homeIntent.resolveType(mService.mContext.getContentResolver()),0,userId);
    if (!homeActivities.isEmpty()) {
      continue;
    }
    PackageParser.Package syncAdapterPackage=getSystemPackageLPr(syncAdapterPackageName);
    if (syncAdapterPackage != null) {
      syncAdapterPackages.add(syncAdapterPackage);
    }
  }
  return syncAdapterPackages;
}
