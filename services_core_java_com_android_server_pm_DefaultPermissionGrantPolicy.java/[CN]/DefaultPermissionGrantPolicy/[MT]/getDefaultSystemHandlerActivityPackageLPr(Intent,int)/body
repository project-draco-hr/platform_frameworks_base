{
  List<ResolveInfo> handlers=mService.queryIntentActivities(intent,intent.resolveType(mService.mContext.getContentResolver()),0,userId);
  final int handlerCount=handlers.size();
  for (int i=0; i < handlerCount; i++) {
    ResolveInfo handler=handlers.get(i);
    PackageParser.Package handlerPackage=getSystemPackageLPr(handler.activityInfo.packageName);
    if (handlerPackage != null) {
      return handlerPackage;
    }
  }
  return null;
}
