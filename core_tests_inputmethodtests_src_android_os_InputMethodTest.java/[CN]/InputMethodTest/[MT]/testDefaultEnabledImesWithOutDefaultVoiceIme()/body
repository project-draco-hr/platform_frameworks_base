{
  final Context context=getInstrumentation().getTargetContext();
  final ArrayList<InputMethodInfo> imis=new ArrayList<InputMethodInfo>();
  imis.add(createNonDefaultAutoDummyVoiceIme0());
  imis.add(createNonDefaultAutoDummyVoiceIme1());
  imis.add(createNonDefaultDummyVoiceIme2());
  imis.add(createDefaultDummyEnUSKeyboardIme());
  imis.add(createNonDefaultDummyJaJPKeyboardIme());
  final ArrayList<InputMethodInfo> enabledImis=InputMethodUtils.getDefaultEnabledImes(context,true,imis);
  assertEquals(3,enabledImis.size());
  for (int i=0; i < enabledImis.size(); ++i) {
    final InputMethodInfo imi=enabledImis.get(0);
    if (imi.getPackageName().equals("DummyNonDefaultAutoVoiceIme0") || imi.getPackageName().equals("DummyNonDefaultAutoVoiceIme1") || imi.getPackageName().equals("DummyDefaultEnKeyboardIme")) {
      continue;
    }
 else {
      fail("Invalid enabled subtype.");
    }
  }
}
