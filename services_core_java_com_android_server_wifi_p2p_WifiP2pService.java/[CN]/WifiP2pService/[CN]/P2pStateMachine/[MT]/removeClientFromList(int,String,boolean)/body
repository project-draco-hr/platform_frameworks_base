{
  StringBuilder modifiedClientList=new StringBuilder();
  String[] currentClientList=getClientList(netId);
  boolean isClientRemoved=false;
  if (currentClientList != null) {
    for (    String client : currentClientList) {
      if (!client.equalsIgnoreCase(addr)) {
        modifiedClientList.append(" ");
        modifiedClientList.append(client);
      }
 else {
        isClientRemoved=true;
      }
    }
  }
  if (modifiedClientList.length() == 0 && isRemovable) {
    if (DBG)     logd("Remove unknown network");
    mGroups.remove(netId);
    return true;
  }
  if (!isClientRemoved) {
    return false;
  }
  if (DBG)   logd("Modified client list: " + modifiedClientList);
  if (modifiedClientList.length() == 0) {
    modifiedClientList.append("\"\"");
  }
  mWifiNative.setNetworkVariable(netId,"p2p_client_list",modifiedClientList.toString());
  mWifiNative.saveConfig();
  return true;
}
