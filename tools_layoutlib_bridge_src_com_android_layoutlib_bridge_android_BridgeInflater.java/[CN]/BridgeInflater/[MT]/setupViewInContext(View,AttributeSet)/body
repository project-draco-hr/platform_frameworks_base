{
  if (getContext() instanceof BridgeContext) {
    BridgeContext bc=(BridgeContext)getContext();
    if (attrs instanceof BridgeXmlBlockParser) {
      BridgeXmlBlockParser parser=(BridgeXmlBlockParser)attrs;
      Object viewKey=parser.getViewCookie();
      int testDepth=mIsInMerge ? 2 : 1;
      if (viewKey == null && parser.getDepth() == testDepth) {
        BridgeXmlBlockParser previousParser=bc.getPreviousParser();
        if (previousParser != null) {
          viewKey=previousParser.getViewCookie();
        }
      }
      if (viewKey != null) {
        if (testDepth == 2) {
          viewKey=new MergeCookie(viewKey);
        }
        bc.addViewKey(view,viewKey);
      }
    }
  }
}
