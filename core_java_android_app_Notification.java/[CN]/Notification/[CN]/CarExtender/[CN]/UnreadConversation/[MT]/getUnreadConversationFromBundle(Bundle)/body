{
  if (b == null) {
    return null;
  }
  Parcelable[] parcelableMessages=b.getParcelableArray(KEY_MESSAGES);
  String[] messages=null;
  if (parcelableMessages != null) {
    String[] tmp=new String[parcelableMessages.length];
    boolean success=true;
    for (int i=0; i < tmp.length; i++) {
      if (!(parcelableMessages[i] instanceof Bundle)) {
        success=false;
        break;
      }
      tmp[i]=((Bundle)parcelableMessages[i]).getString(KEY_TEXT);
      if (tmp[i] == null) {
        success=false;
        break;
      }
    }
    if (success) {
      messages=tmp;
    }
 else {
      return null;
    }
  }
  PendingIntent onRead=b.getParcelable(KEY_ON_READ);
  PendingIntent onReply=b.getParcelable(KEY_ON_REPLY);
  RemoteInput remoteInput=b.getParcelable(KEY_REMOTE_INPUT);
  String[] participants=b.getStringArray(KEY_PARTICIPANTS);
  if (participants == null || participants.length != 1) {
    return null;
  }
  return new UnreadConversation(messages,remoteInput,onReply,onRead,participants,b.getLong(KEY_TIMESTAMP));
}
