{
  RemoteViews view=mBuilder.applyStandardTemplate(R.layout.notification_template_quantum_media,true);
  final int numActions=mBuilder.mActions.size();
  final int N=mActionsToShowInCompact == null ? 0 : Math.min(mActionsToShowInCompact.length,MAX_MEDIA_BUTTONS_IN_COMPACT);
  if (N > 0) {
    view.removeAllViews(R.id.actions);
    for (int i=0; i < N; i++) {
      if (i >= numActions) {
        throw new IllegalArgumentException(String.format("setShowActionsInCompactView: action %d out of bounds (max %d)",i,numActions - 1));
      }
      final Action action=mBuilder.mActions.get(mActionsToShowInCompact[i]);
      final RemoteViews button=generateMediaActionButton(action);
      view.addView(R.id.actions,button);
    }
  }
  return view;
}
