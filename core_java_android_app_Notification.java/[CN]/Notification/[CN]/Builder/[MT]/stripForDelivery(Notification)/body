{
  if (!STRIP_AND_REBUILD) {
    return;
  }
  String templateClass=n.extras.getString(EXTRA_TEMPLATE);
  boolean stripViews=TextUtils.isEmpty(templateClass) || getNotificationStyleClass(templateClass) != null;
  boolean isStripped=false;
  if (n.largeIcon != null && n.extras.containsKey(EXTRA_LARGE_ICON)) {
    n.largeIcon=null;
    n.extras.putBoolean(EXTRA_REBUILD_LARGE_ICON,true);
    isStripped=true;
  }
  if (stripViews && n.contentView instanceof BuilderRemoteViews && n.extras.getInt(EXTRA_REBUILD_CONTENT_VIEW_ACTION_COUNT,-1) == n.contentView.getSequenceNumber()) {
    n.contentView=null;
    n.extras.putBoolean(EXTRA_REBUILD_CONTENT_VIEW,true);
    n.extras.remove(EXTRA_REBUILD_CONTENT_VIEW_ACTION_COUNT);
    isStripped=true;
  }
  if (stripViews && n.bigContentView instanceof BuilderRemoteViews && n.extras.getInt(EXTRA_REBUILD_BIG_CONTENT_VIEW_ACTION_COUNT,-1) == n.bigContentView.getSequenceNumber()) {
    n.bigContentView=null;
    n.extras.putBoolean(EXTRA_REBUILD_BIG_CONTENT_VIEW,true);
    n.extras.remove(EXTRA_REBUILD_BIG_CONTENT_VIEW_ACTION_COUNT);
    isStripped=true;
  }
  if (stripViews && n.headsUpContentView instanceof BuilderRemoteViews && n.extras.getInt(EXTRA_REBUILD_HEADS_UP_CONTENT_VIEW_ACTION_COUNT,-1) == n.headsUpContentView.getSequenceNumber()) {
    n.headsUpContentView=null;
    n.extras.putBoolean(EXTRA_REBUILD_HEADS_UP_CONTENT_VIEW,true);
    n.extras.remove(EXTRA_REBUILD_HEADS_UP_CONTENT_VIEW_ACTION_COUNT);
    isStripped=true;
  }
  if (isStripped) {
    n.extras.putBoolean(EXTRA_NEEDS_REBUILD,true);
  }
}
