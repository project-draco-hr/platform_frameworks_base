{
  RemoteViews contentView=new BuilderRemoteViews(mContext.getApplicationInfo(),resId);
  resetStandardTemplate(contentView);
  boolean showLine3=false;
  boolean showLine2=false;
  boolean contentTextInLine2=false;
  final Bundle ex=mN.extras;
  if (mN.mLargeIcon != null) {
    contentView.setImageViewIcon(R.id.icon,mN.mLargeIcon);
    processLargeLegacyIcon(mN.mLargeIcon,contentView);
    contentView.setImageViewIcon(R.id.right_icon,mN.mSmallIcon);
    contentView.setViewVisibility(R.id.right_icon,View.VISIBLE);
    processSmallRightIcon(mN.mSmallIcon,contentView);
  }
 else {
    contentView.setImageViewIcon(R.id.icon,mN.mSmallIcon);
    contentView.setViewVisibility(R.id.icon,View.VISIBLE);
    processSmallIconAsLarge(mN.mSmallIcon,contentView);
  }
  if (ex.getCharSequence(EXTRA_TITLE) != null) {
    contentView.setTextViewText(R.id.title,processLegacyText(ex.getCharSequence(EXTRA_TITLE)));
  }
  if (ex.getCharSequence(EXTRA_TEXT) != null) {
    contentView.setTextViewText(R.id.text,processLegacyText(ex.getCharSequence(EXTRA_TEXT)));
    showLine3=true;
  }
  if (ex.getCharSequence(EXTRA_INFO_TEXT) != null) {
    contentView.setTextViewText(R.id.info,processLegacyText(ex.getCharSequence(EXTRA_INFO_TEXT)));
    contentView.setViewVisibility(R.id.info,View.VISIBLE);
    showLine3=true;
  }
 else   if (mN.number > 0) {
    final int tooBig=mContext.getResources().getInteger(R.integer.status_bar_notification_info_maxnum);
    if (mN.number > tooBig) {
      contentView.setTextViewText(R.id.info,processLegacyText(mContext.getResources().getString(R.string.status_bar_notification_info_overflow)));
    }
 else {
      NumberFormat f=NumberFormat.getIntegerInstance();
      contentView.setTextViewText(R.id.info,processLegacyText(f.format(mN.number)));
    }
    contentView.setViewVisibility(R.id.info,View.VISIBLE);
    showLine3=true;
  }
 else {
    contentView.setViewVisibility(R.id.info,View.GONE);
  }
  if (ex.getCharSequence(EXTRA_SUB_TEXT) != null) {
    contentView.setTextViewText(R.id.text,processLegacyText(ex.getCharSequence(EXTRA_SUB_TEXT)));
    if (ex.getCharSequence(EXTRA_TEXT) != null) {
      contentView.setTextViewText(R.id.text2,processLegacyText(ex.getCharSequence(EXTRA_TEXT)));
      contentView.setViewVisibility(R.id.text2,View.VISIBLE);
      showLine2=true;
      contentTextInLine2=true;
    }
 else {
      contentView.setViewVisibility(R.id.text2,View.GONE);
    }
  }
 else {
    contentView.setViewVisibility(R.id.text2,View.GONE);
    final int max=ex.getInt(EXTRA_PROGRESS_MAX,0);
    final int progress=ex.getInt(EXTRA_PROGRESS,0);
    final boolean ind=ex.getBoolean(EXTRA_PROGRESS_INDETERMINATE);
    if (hasProgress && (max != 0 || ind)) {
      contentView.setViewVisibility(R.id.progress,View.VISIBLE);
      contentView.setProgressBar(R.id.progress,max,progress,ind);
      contentView.setProgressBackgroundTintList(R.id.progress,ColorStateList.valueOf(mContext.getColor(R.color.notification_progress_background_color)));
      if (mN.color != COLOR_DEFAULT) {
        ColorStateList colorStateList=ColorStateList.valueOf(mN.color);
        contentView.setProgressTintList(R.id.progress,colorStateList);
        contentView.setProgressIndeterminateTintList(R.id.progress,colorStateList);
      }
      showLine2=true;
    }
 else {
      contentView.setViewVisibility(R.id.progress,View.GONE);
    }
  }
  if (showLine2) {
    shrinkLine3Text(contentView);
  }
  if (showsTimeOrChronometer()) {
    if (ex.getBoolean(EXTRA_SHOW_CHRONOMETER)) {
      contentView.setViewVisibility(R.id.chronometer,View.VISIBLE);
      contentView.setLong(R.id.chronometer,"setBase",mN.when + (SystemClock.elapsedRealtime() - System.currentTimeMillis()));
      contentView.setBoolean(R.id.chronometer,"setStarted",true);
    }
 else {
      contentView.setViewVisibility(R.id.time,View.VISIBLE);
      contentView.setLong(R.id.time,"setTime",mN.when);
    }
  }
  contentView.setViewPadding(R.id.line1,0,calculateTopPadding(mContext,hasThreeLines(),mContext.getResources().getConfiguration().fontScale),0,0);
  boolean addedBadge=addProfileBadge(contentView,contentTextInLine2 ? R.id.profile_badge_line2 : R.id.profile_badge_line3);
  if (addedBadge && !contentTextInLine2) {
    showLine3=true;
  }
  contentView.setViewVisibility(R.id.line3,showLine3 ? View.VISIBLE : View.GONE);
  contentView.setViewVisibility(R.id.overflow_divider,showLine3 ? View.VISIBLE : View.GONE);
  return contentView;
}
