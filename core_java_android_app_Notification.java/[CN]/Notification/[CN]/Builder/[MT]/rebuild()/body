{
  if (mRebuildNotification == null) {
    throw new IllegalStateException("rebuild() only valid when in 'rebuild' mode.");
  }
  mHasThreeLines=hasThreeLines();
  Bundle extras=mRebuildNotification.extras;
  if (extras.getBoolean(EXTRA_REBUILD_LARGE_ICON)) {
    mRebuildNotification.largeIcon=extras.getParcelable(EXTRA_LARGE_ICON);
  }
  extras.remove(EXTRA_REBUILD_LARGE_ICON);
  if (extras.getBoolean(EXTRA_REBUILD_CONTENT_VIEW)) {
    setBuilderContentView(mRebuildNotification,makeContentView());
    if (mStyle != null) {
      mStyle.populateContentView(mRebuildNotification);
    }
  }
  extras.remove(EXTRA_REBUILD_CONTENT_VIEW);
  if (extras.getBoolean(EXTRA_REBUILD_BIG_CONTENT_VIEW)) {
    setBuilderBigContentView(mRebuildNotification,makeBigContentView());
    if (mStyle != null) {
      mStyle.populateBigContentView(mRebuildNotification);
    }
  }
  extras.remove(EXTRA_REBUILD_BIG_CONTENT_VIEW);
  if (extras.getBoolean(EXTRA_REBUILD_HEADS_UP_CONTENT_VIEW)) {
    setBuilderHeadsUpContentView(mRebuildNotification,makeHeadsUpContentView());
    if (mStyle != null) {
      mStyle.populateHeadsUpContentView(mRebuildNotification);
    }
  }
  extras.remove(EXTRA_REBUILD_HEADS_UP_CONTENT_VIEW);
  mHasThreeLines=false;
  return mRebuildNotification;
}
