{
  int lineCount=MAX_LINES;
  boolean hasActions=mBuilder.mActions.size() > 0;
  boolean hasSummary=(mSummaryTextSet ? mSummaryText : mBuilder.getAllExtras().getCharSequence(EXTRA_SUB_TEXT)) != null;
  if (hasActions) {
    lineCount-=LINES_CONSUMED_BY_ACTIONS;
  }
  if (hasSummary) {
    lineCount-=LINES_CONSUMED_BY_SUMMARY;
  }
  if (!mBuilder.hasThreeLines()) {
    lineCount--;
  }
  return lineCount;
}
