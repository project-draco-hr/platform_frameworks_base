{
  boolean invalidateSelf=false;
  final GradientState s=mGradientState;
  final ColorStateList stateList=s.mColorStateList;
  if (stateList != null) {
    final int newColor=stateList.getColorForState(stateSet,0);
    final int oldColor=mFillPaint.getColor();
    if (oldColor != newColor) {
      mFillPaint.setColor(newColor);
      invalidateSelf=true;
    }
  }
  final Paint strokePaint=mStrokePaint;
  if (strokePaint != null) {
    final ColorStateList strokeStateList=s.mStrokeColorStateList;
    if (strokeStateList != null) {
      final int newStrokeColor=strokeStateList.getColorForState(stateSet,0);
      final int oldStrokeColor=strokePaint.getColor();
      if (oldStrokeColor != newStrokeColor) {
        strokePaint.setColor(newStrokeColor);
        invalidateSelf=true;
      }
    }
  }
  if (s.mTint != null && s.mTintMode != null) {
    mTintFilter=updateTintFilter(mTintFilter,s.mTint,s.mTintMode);
    invalidateSelf=true;
  }
  if (invalidateSelf) {
    invalidateSelf();
    return true;
  }
  return false;
}
