{
  boolean invalidateSelf=false;
  final GradientState s=mGradientState;
  final ColorStateList solidColors=s.mSolidColors;
  if (solidColors != null) {
    final int newColor=solidColors.getColorForState(stateSet,0);
    final int oldColor=mFillPaint.getColor();
    if (oldColor != newColor) {
      mFillPaint.setColor(newColor);
      invalidateSelf=true;
    }
  }
  final Paint strokePaint=mStrokePaint;
  if (strokePaint != null) {
    final ColorStateList strokeColors=s.mStrokeColors;
    if (strokeColors != null) {
      final int newColor=strokeColors.getColorForState(stateSet,0);
      final int oldColor=strokePaint.getColor();
      if (oldColor != newColor) {
        strokePaint.setColor(newColor);
        invalidateSelf=true;
      }
    }
  }
  if (s.mTint != null && s.mTintMode != null) {
    mTintFilter=updateTintFilter(mTintFilter,s.mTint,s.mTintMode);
    invalidateSelf=true;
  }
  if (invalidateSelf) {
    invalidateSelf();
    return true;
  }
  return false;
}
