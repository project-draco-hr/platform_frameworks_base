{
  mState=0;
  mDatabase.verifyDbIsOpen();
  SQLiteDatabase db=(mStatementType != DatabaseUtils.STATEMENT_SELECT) ? mDatabase : mDatabase.getDbConnection(mSql);
  mOrigDb=mDatabase;
  mDatabase=db;
  setNativeHandle(mDatabase.mNativeHandle);
  if (rwFlag == WRITE) {
    BlockGuard.getThreadPolicy().onWriteToDisk();
  }
 else {
    BlockGuard.getThreadPolicy().onReadFromDisk();
  }
  if (mStatementType == DatabaseUtils.STATEMENT_BEGIN) {
    if (!mDatabase.isDbLockedByCurrentThread()) {
      mDatabase.setTransactionUsingExecSqlFlag();
    }
  }
 else   if (mStatementType == DatabaseUtils.STATEMENT_UPDATE) {
    if (!mDatabase.inTransaction()) {
      mDatabase.beginTransactionNonExclusive();
      mState=TRANS_STARTED;
    }
  }
  if (!mDatabase.isDbLockedByCurrentThread()) {
    mDatabase.lock();
    mState=LOCK_ACQUIRED;
  }
  acquireReference();
  long startTime=SystemClock.uptimeMillis();
  mDatabase.closePendingStatements();
  compileAndbindAllArgs();
  return startTime;
}
