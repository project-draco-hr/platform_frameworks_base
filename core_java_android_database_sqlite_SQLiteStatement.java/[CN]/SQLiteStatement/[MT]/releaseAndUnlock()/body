{
  releaseReference();
  if (mState == TRANS_STARTED) {
    try {
      mDatabase.setTransactionSuccessful();
    }
  finally {
      mDatabase.endTransaction();
    }
  }
 else   if (mState == LOCK_ACQUIRED) {
    mDatabase.unlock();
  }
  if ((mStatementType & SQLiteProgram.STATEMENT_TYPE_MASK) == DatabaseUtils.STATEMENT_COMMIT || (mStatementType & SQLiteProgram.STATEMENT_TYPE_MASK) == DatabaseUtils.STATEMENT_ABORT) {
    mDatabase.resetTransactionUsingExecSqlFlag();
  }
  clearBindings();
  release();
  mDatabase=mOrigDb;
  setNativeHandle(mDatabase.mNativeHandle);
}
