{
  allApns=new ArrayList<ApnSetting>();
  String operator=phone.mSIMRecords.getSIMOperatorNumeric();
  if (operator != null) {
    String selection="numeric = '" + operator + "'";
    Cursor cursor=phone.getContext().getContentResolver().query(Telephony.Carriers.CONTENT_URI,null,selection,null,null);
    if (cursor != null) {
      if (cursor.getCount() > 0) {
        allApns=createApnList(cursor);
      }
      cursor.close();
    }
  }
  if (allApns.isEmpty()) {
    if (DBG)     log("No APN found for carrier: " + operator);
    preferredApn=null;
    notifyNoData(PdpConnection.PdpFailCause.BAD_APN);
  }
 else {
    preferredApn=getPreferredApn();
    Log.d(LOG_TAG,"Get PreferredAPN");
    if (preferredApn != null && !preferredApn.numeric.equals(operator)) {
      preferredApn=null;
      setPreferredApn(-1);
    }
  }
}
