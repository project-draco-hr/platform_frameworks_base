{
  final SnapTarget snapTarget=new DividerSnapAlgorithm(getContext(),mFlingAnimationUtils,mDividerSize,isHorizontalDivision()).calculateSnapTarget(position,velocity);
  ValueAnimator anim=ValueAnimator.ofInt(position,snapTarget.position);
  anim.addUpdateListener(new AnimatorUpdateListener(){
    @Override public void onAnimationUpdate(    ValueAnimator animation){
      resizeStack((Integer)animation.getAnimatedValue());
    }
  }
);
  anim.addListener(new AnimatorListenerAdapter(){
    @Override public void onAnimationEnd(    Animator animation){
      commitSnapFlags(snapTarget);
      mWindowManagerProxy.setResizing(false);
      mDockSide=WindowManager.DOCKED_INVALID;
    }
  }
);
  mFlingAnimationUtils.apply(anim,position,snapTarget.position,velocity);
  anim.start();
}
