{
  ValueAnimator anim=ValueAnimator.ofInt(position,snapTarget.position);
  anim.addUpdateListener(new AnimatorUpdateListener(){
    @Override public void onAnimationUpdate(    ValueAnimator animation){
      resizeStack((Integer)animation.getAnimatedValue(),animation.getAnimatedFraction() == 1f ? TASK_POSITION_SAME : snapTarget.position,snapTarget);
    }
  }
);
  anim.addListener(new AnimatorListenerAdapter(){
    @Override public void onAnimationEnd(    Animator animation){
      commitSnapFlags(snapTarget);
      mWindowManagerProxy.setResizing(false);
      mDockSide=WindowManager.DOCKED_INVALID;
      mCurrentAnimator=null;
      mEntranceAnimationRunning=false;
      mExitAnimationRunning=false;
      EventBus.getDefault().send(new StoppedDragingEvent());
    }
  }
);
  mCurrentAnimator=anim;
  return anim;
}
