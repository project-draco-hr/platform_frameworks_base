{
  float fraction=Math.min(1,Math.max(0,mSnapAlgorithm.calculateDismissingFraction(position)));
  SnapTarget dismissTarget=null;
  SnapTarget splitTarget=null;
  if ((snapTarget.flag == SnapTarget.FLAG_DISMISS_START || snapTarget == mSnapAlgorithm.getFirstSplitTarget()) && dockSideTopLeft(dockSide)) {
    dismissTarget=mSnapAlgorithm.getDismissStartTarget();
    splitTarget=mSnapAlgorithm.getFirstSplitTarget();
  }
 else   if ((snapTarget.flag == SnapTarget.FLAG_DISMISS_END || snapTarget == mSnapAlgorithm.getLastSplitTarget()) && dockSideBottomRight(dockSide)) {
    dismissTarget=mSnapAlgorithm.getDismissEndTarget();
    splitTarget=mSnapAlgorithm.getLastSplitTarget();
  }
  if (dismissTarget != null && fraction > 0f && isDismissing(splitTarget,position,dockSide)) {
    fraction=calculateParallaxDismissingFraction(fraction,dockSide);
    int offsetPosition=(int)(taskPosition + fraction * (dismissTarget.position - splitTarget.position));
    int width=taskRect.width();
    int height=taskRect.height();
switch (dockSide) {
case WindowManager.DOCKED_LEFT:
      taskRect.left=offsetPosition - width;
    taskRect.right=offsetPosition;
  break;
case WindowManager.DOCKED_RIGHT:
taskRect.left=offsetPosition + mDividerSize;
taskRect.right=offsetPosition + width + mDividerSize;
break;
case WindowManager.DOCKED_TOP:
taskRect.top=offsetPosition - height;
taskRect.bottom=offsetPosition;
break;
case WindowManager.DOCKED_BOTTOM:
taskRect.top=offsetPosition + mDividerSize;
taskRect.bottom=offsetPosition + height + mDividerSize;
break;
}
}
}
