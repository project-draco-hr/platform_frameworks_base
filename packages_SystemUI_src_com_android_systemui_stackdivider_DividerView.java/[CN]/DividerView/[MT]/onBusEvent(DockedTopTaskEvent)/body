{
  if (event.dragMode == NavigationBarGestureHelper.DRAG_MODE_NONE) {
    mState.growAfterRecentsDrawn=false;
    mState.animateAfterRecentsDrawn=true;
    startDragging(false,false);
  }
  updateDockSide();
  int position=DockedDividerUtils.calculatePositionForBounds(event.initialRect,mDockSide,mDividerSize);
  mEntranceAnimationRunning=true;
  if (mStableInsets.isEmpty()) {
    SystemServicesProxy.getInstance(mContext).getStableInsets(mStableInsets);
    mSnapAlgorithm=null;
    initializeSnapAlgorithm();
  }
  resizeStack(position,mSnapAlgorithm.getMiddleTarget().position,mSnapAlgorithm.getMiddleTarget());
}
