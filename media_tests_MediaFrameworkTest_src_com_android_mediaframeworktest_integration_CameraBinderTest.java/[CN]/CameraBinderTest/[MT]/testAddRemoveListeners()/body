{
  for (int cameraId=0; cameraId < mUtils.getGuessedNumCameras(); ++cameraId) {
    ICameraServiceListener listener=new DummyCameraServiceListener();
    try {
      mUtils.getCameraService().removeListener(listener);
      fail("Listener was removed before added");
    }
 catch (    ServiceSpecificException e) {
      assertEquals("Listener was removed before added",e.errorCode,ICameraService.ERROR_ILLEGAL_ARGUMENT);
    }
    mUtils.getCameraService().addListener(listener);
    try {
      mUtils.getCameraService().addListener(listener);
      fail("Listener was wrongly added again");
    }
 catch (    ServiceSpecificException e) {
      assertEquals("Listener was wrongly added again",e.errorCode,ICameraService.ERROR_ALREADY_EXISTS);
    }
    mUtils.getCameraService().removeListener(listener);
    try {
      mUtils.getCameraService().removeListener(listener);
      fail("Listener was wrongly removed twice");
    }
 catch (    ServiceSpecificException e) {
      assertEquals("Listener was wrongly removed twice",e.errorCode,ICameraService.ERROR_ILLEGAL_ARGUMENT);
    }
  }
}
