{
  if (status == null) {
switch (phone.mCM.getRadioState()) {
case RADIO_OFF:
case RADIO_UNAVAILABLE:
case RUIM_NOT_READY:
      return State.UNKNOWN;
case RUIM_LOCKED_OR_ABSENT:
    return State.UNKNOWN;
case RUIM_READY:
  return State.READY;
case NV_READY:
case NV_NOT_READY:
return State.ABSENT;
}
}
 else {
switch (status) {
case ICC_ABSENT:
return State.ABSENT;
case ICC_NOT_READY:
return State.UNKNOWN;
case ICC_READY:
return State.READY;
case ICC_PIN:
return State.PIN_REQUIRED;
case ICC_PUK:
return State.PUK_REQUIRED;
case ICC_NETWORK_PERSONALIZATION:
return State.NETWORK_LOCKED;
}
}
Log.e(LOG_TAG,"RuimCard.getState(): case should never be reached");
return State.UNKNOWN;
}
