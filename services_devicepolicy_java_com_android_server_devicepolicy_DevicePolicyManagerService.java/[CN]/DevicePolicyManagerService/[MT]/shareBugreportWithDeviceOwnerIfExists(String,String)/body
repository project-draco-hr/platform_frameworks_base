{
  ParcelFileDescriptor pfd=null;
  try {
    if (bugreportUriString == null) {
      throw new FileNotFoundException();
    }
    Uri bugreportUri=Uri.parse(bugreportUriString);
    pfd=mContext.getContentResolver().openFileDescriptor(bugreportUri,"r");
synchronized (this) {
      Intent intent=new Intent(DeviceAdminReceiver.ACTION_BUGREPORT_SHARE);
      intent.setComponent(mOwners.getDeviceOwnerComponent());
      intent.setDataAndType(bugreportUri,RemoteBugreportUtils.BUGREPORT_MIMETYPE);
      intent.putExtra(DeviceAdminReceiver.EXTRA_BUGREPORT_HASH,bugreportHash);
      mContext.grantUriPermission(mOwners.getDeviceOwnerComponent().getPackageName(),bugreportUri,Intent.FLAG_GRANT_READ_URI_PERMISSION);
      mContext.sendBroadcastAsUser(intent,UserHandle.of(mOwners.getDeviceOwnerUserId()));
    }
  }
 catch (  FileNotFoundException e) {
    Bundle extras=new Bundle();
    extras.putInt(DeviceAdminReceiver.EXTRA_BUGREPORT_FAILURE_REASON,DeviceAdminReceiver.BUGREPORT_FAILURE_FILE_NO_LONGER_AVAILABLE);
    sendDeviceOwnerCommand(DeviceAdminReceiver.ACTION_BUGREPORT_FAILED,extras);
  }
 finally {
    try {
      if (pfd != null) {
        pfd.close();
      }
    }
 catch (    IOException ex) {
    }
    mRemoteBugreportSharingAccepted.set(false);
    setDeviceOwnerRemoteBugreportUriAndHash(null,null);
  }
}
