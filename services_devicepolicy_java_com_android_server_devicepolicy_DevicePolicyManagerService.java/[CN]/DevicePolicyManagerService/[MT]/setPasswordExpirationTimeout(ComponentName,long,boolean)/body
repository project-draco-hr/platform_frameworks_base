{
  if (!mHasFeature) {
    return;
  }
  Preconditions.checkNotNull(who,"ComponentName is null");
  Preconditions.checkArgumentNonnegative(timeout,"Timeout must be >= 0 ms");
  final int userHandle=mInjector.userHandleGetCallingUserId();
synchronized (this) {
    ActiveAdmin ap=getActiveAdminForCallerLocked(who,DeviceAdminInfo.USES_POLICY_EXPIRE_PASSWORD,parent);
    final long expiration=timeout > 0L ? (timeout + System.currentTimeMillis()) : 0L;
    ap.passwordExpirationDate=expiration;
    ap.passwordExpirationTimeout=timeout;
    if (timeout > 0L) {
      Slog.w(LOG_TAG,"setPasswordExpiration(): password will expire on " + DateFormat.getDateTimeInstance(DateFormat.DEFAULT,DateFormat.DEFAULT).format(new Date(expiration)));
    }
    saveSettingsLocked(userHandle);
    int affectedUserHandle=parent ? getProfileParentId(userHandle) : userHandle;
    setExpirationAlarmCheckLocked(mContext,affectedUserHandle);
  }
}
