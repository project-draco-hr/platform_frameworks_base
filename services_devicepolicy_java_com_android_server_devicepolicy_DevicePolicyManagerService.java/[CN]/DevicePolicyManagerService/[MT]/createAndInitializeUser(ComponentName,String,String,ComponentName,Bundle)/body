{
  UserHandle user=createUser(who,name);
  if (user == null) {
    return null;
  }
  long id=mInjector.binderClearCallingIdentity();
  try {
    String profileOwnerPkg=profileOwnerComponent.getPackageName();
    final int userHandle=user.getIdentifier();
    try {
      if (!mIPackageManager.isPackageAvailable(profileOwnerPkg,userHandle)) {
        mIPackageManager.installExistingPackageAsUser(profileOwnerPkg,userHandle);
      }
      mInjector.getIActivityManager().startUserInBackground(userHandle);
    }
 catch (    RemoteException e) {
      Slog.e(LOG_TAG,"Failed to make remote calls for configureUser",e);
    }
    setActiveAdmin(profileOwnerComponent,true,userHandle,adminExtras);
    setProfileOwner(profileOwnerComponent,ownerName,userHandle);
    return user;
  }
  finally {
    mInjector.binderRestoreCallingIdentity(id);
  }
}
