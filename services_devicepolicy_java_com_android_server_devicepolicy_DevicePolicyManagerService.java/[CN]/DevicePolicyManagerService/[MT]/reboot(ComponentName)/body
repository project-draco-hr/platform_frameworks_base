{
  Preconditions.checkNotNull(admin);
synchronized (this) {
    getActiveAdminForCallerLocked(admin,DeviceAdminInfo.USES_POLICY_DEVICE_OWNER);
  }
  long ident=mInjector.binderClearCallingIdentity();
  try {
    if (mTelephonyManager.getCallState() != TelephonyManager.CALL_STATE_IDLE) {
      throw new IllegalStateException("Cannot be called with ongoing call on the device");
    }
    mInjector.powerManagerReboot(PowerManager.REBOOT_REQUESTED_BY_DEVICE_OWNER);
  }
  finally {
    mInjector.binderRestoreCallingIdentity(ident);
  }
}
