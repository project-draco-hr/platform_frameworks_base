{
  if (!mOwners.hasDeviceOwner()) {
    return;
  }
  final ComponentName doComponentName=mOwners.getDeviceOwnerComponent();
  if (!TextUtils.isEmpty(doComponentName.getClassName())) {
    return;
  }
  final ComponentName doComponent=findAdminComponentWithPackageLocked(doComponentName.getPackageName(),mOwners.getDeviceOwnerUserId());
  if (doComponent == null) {
    Slog.e(LOG_TAG,"Device-owner isn't registered as device-admin");
  }
 else {
    mOwners.setDeviceOwnerWithRestrictionsMigrated(doComponent,mOwners.getDeviceOwnerName(),mOwners.getDeviceOwnerUserId(),!mOwners.getDeviceOwnerUserRestrictionsNeedsMigration());
    mOwners.writeDeviceOwner();
    if (VERBOSE_LOG) {
      Log.v(LOG_TAG,"Device owner component filled in");
    }
  }
}
