{
  final boolean ownsDevice=isDeviceOwner(admin.info.getComponent(),userId);
  final boolean ownsProfile=isProfileOwner(admin.info.getComponent(),userId);
  if (reqPolicy == DeviceAdminInfo.USES_POLICY_DEVICE_OWNER) {
    return ownsDevice;
  }
 else   if (reqPolicy == DeviceAdminInfo.USES_POLICY_PROFILE_OWNER) {
    return ownsDevice || ownsProfile;
  }
 else {
    return admin.info.usesPolicy(reqPolicy);
  }
}
