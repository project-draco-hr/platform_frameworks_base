{
synchronized (this) {
    if (userHandle == UserHandle.USER_OWNER) {
      Slog.w(LOG_TAG,"Tried to remove device policy file for user 0! Ignoring.");
      return;
    }
    if (mDeviceOwner != null) {
      mDeviceOwner.removeProfileOwner(userHandle);
      mDeviceOwner.writeOwnerFile();
    }
    DevicePolicyData policy=mUserData.get(userHandle);
    if (policy != null) {
      mUserData.remove(userHandle);
    }
    File policyFile=new File(Environment.getUserSystemDirectory(userHandle),DEVICE_POLICIES_XML);
    policyFile.delete();
    Slog.i(LOG_TAG,"Removed device policy file " + policyFile.getAbsolutePath());
  }
  updateScreenCaptureDisabledInWindowManager(userHandle,false);
}
