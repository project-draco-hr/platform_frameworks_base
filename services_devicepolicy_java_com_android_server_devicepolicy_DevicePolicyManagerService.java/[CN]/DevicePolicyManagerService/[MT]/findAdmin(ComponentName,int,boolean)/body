{
  if (!mHasFeature) {
    return null;
  }
  enforceCrossUserPermission(userHandle);
  Intent resolveIntent=new Intent();
  resolveIntent.setComponent(adminName);
  List<ResolveInfo> infos=mContext.getPackageManager().queryBroadcastReceivers(resolveIntent,PackageManager.GET_META_DATA | PackageManager.GET_DISABLED_UNTIL_USED_COMPONENTS,userHandle);
  if (infos == null || infos.size() <= 0) {
    throw new IllegalArgumentException("Unknown admin: " + adminName);
  }
  final ResolveInfo ri=infos.get(0);
  if (!permission.BIND_DEVICE_ADMIN.equals(ri.activityInfo.permission)) {
    final String message="DeviceAdminReceiver " + adminName + " must be protected with"+ permission.BIND_DEVICE_ADMIN;
    Slog.w(LOG_TAG,message);
    if (throwForMissiongPermission && ri.activityInfo.applicationInfo.targetSdkVersion > Build.VERSION_CODES.M) {
      throw new IllegalArgumentException(message);
    }
  }
  try {
    return new DeviceAdminInfo(mContext,ri);
  }
 catch (  XmlPullParserException e) {
    Slog.w(LOG_TAG,"Bad device admin requested for user=" + userHandle + ": "+ adminName,e);
    return null;
  }
catch (  IOException e) {
    Slog.w(LOG_TAG,"Bad device admin requested for user=" + userHandle + ": "+ adminName,e);
    return null;
  }
}
