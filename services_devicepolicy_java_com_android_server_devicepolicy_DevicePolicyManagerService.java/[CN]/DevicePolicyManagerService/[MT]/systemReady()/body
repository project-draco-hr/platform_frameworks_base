{
  if (!mHasFeature) {
    return;
  }
synchronized (this) {
    loadSettingsLocked(getUserData(UserHandle.USER_OWNER),UserHandle.USER_OWNER);
    loadDeviceOwner();
  }
  cleanUpOldUsers();
  mAppOpsService=IAppOpsService.Stub.asInterface(ServiceManager.getService(Context.APP_OPS_SERVICE));
  if (mDeviceOwner != null) {
    if (mDeviceOwner.hasDeviceOwner()) {
      try {
        mAppOpsService.setDeviceOwner(mDeviceOwner.getDeviceOwnerPackageName());
      }
 catch (      RemoteException e) {
        Log.w(LOG_TAG,"Unable to notify AppOpsService of DeviceOwner",e);
      }
    }
    for (    Integer i : mDeviceOwner.getProfileOwnerKeys()) {
      try {
        mAppOpsService.setProfileOwner(mDeviceOwner.getProfileOwnerPackageName(i),i);
      }
 catch (      RemoteException e) {
        Log.w(LOG_TAG,"Unable to notify AppOpsService of ProfileOwner",e);
      }
    }
  }
  new SetupContentObserver(mHandler).register(mContext.getContentResolver());
  updateUserSetupComplete();
}
