{
  if (!mHasFeature) {
    return false;
  }
  if (initializer == null || !DeviceOwner.isInstalled(initializer.getPackageName(),mContext.getPackageManager())) {
    throw new IllegalArgumentException("Invalid component name " + initializer + " for device initializer");
  }
synchronized (this) {
    enforceCanSetDeviceInitializer(who);
    if (mDeviceOwner != null && mDeviceOwner.hasDeviceInitializer()) {
      throw new IllegalStateException("Trying to set device initializer but device initializer is already set.");
    }
    if (mDeviceOwner == null) {
      mDeviceOwner=DeviceOwner.createWithDeviceInitializer(initializer.getPackageName(),ownerName);
      mDeviceOwner.writeOwnerFile();
      return true;
    }
 else {
      mDeviceOwner.setDeviceInitializer(initializer.getPackageName(),ownerName);
      mDeviceOwner.writeOwnerFile();
      return true;
    }
  }
}
