{
  long token=binderClearCallingIdentity();
  try {
    final Context userContext;
    try {
      UserHandle handle=new UserHandle(userHandle);
      userContext=mContext.createPackageContextAsUser(packageName,0,handle);
    }
 catch (    PackageManager.NameNotFoundException nnfe) {
      Log.w(LOG_TAG,packageName + " is not installed for user " + userHandle,nnfe);
      return null;
    }
    ApplicationInfo appInfo=userContext.getApplicationInfo();
    CharSequence result=null;
    if (appInfo != null) {
      PackageManager pm=userContext.getPackageManager();
      result=pm.getApplicationLabel(appInfo);
    }
    return result != null ? result.toString() : null;
  }
  finally {
    binderRestoreCallingIdentity(token);
  }
}
