{
  if (who == null) {
    mContext.enforceCallingOrSelfPermission(android.Manifest.permission.MANAGE_DEVICE_ADMINS,null);
    if (hasUserSetupCompleted(UserHandle.USER_SYSTEM)) {
      throw new IllegalStateException("Trying to set device initializer but device is already provisioned.");
    }
  }
 else {
    getActiveAdminForCallerLocked(who,DeviceAdminInfo.USES_POLICY_DEVICE_OWNER);
  }
}
