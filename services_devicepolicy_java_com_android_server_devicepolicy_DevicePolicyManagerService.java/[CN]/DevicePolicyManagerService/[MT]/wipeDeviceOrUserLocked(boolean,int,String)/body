{
  if (userHandle == UserHandle.USER_OWNER) {
    wipeDataLocked(wipeExtRequested,reason);
  }
 else {
    mHandler.post(new Runnable(){
      @Override public void run(){
        try {
          IActivityManager am=ActivityManagerNative.getDefault();
          if (am.getCurrentUser().id == userHandle) {
            am.switchUser(UserHandle.USER_OWNER);
          }
          boolean isManagedProfile=isManagedProfile(userHandle);
          if (!mUserManager.removeUser(userHandle)) {
            Slog.w(LOG_TAG,"Couldn't remove user " + userHandle);
          }
 else           if (isManagedProfile) {
            sendWipeProfileNotification();
          }
        }
 catch (        RemoteException re) {
        }
      }
    }
);
  }
}
