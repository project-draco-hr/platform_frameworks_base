{
  if (mInjector.storageManagerIsFileBasedEncryptionEnabled()) {
    return DevicePolicyManager.ENCRYPTION_STATUS_ACTIVE_PER_USER;
  }
 else   if (mInjector.storageManagerIsNonDefaultBlockEncrypted()) {
    return DevicePolicyManager.ENCRYPTION_STATUS_ACTIVE;
  }
 else   if (mInjector.storageManagerIsEncrypted()) {
    return DevicePolicyManager.ENCRYPTION_STATUS_ACTIVE_DEFAULT_KEY;
  }
 else   if (mInjector.storageManagerIsEncryptable()) {
    return DevicePolicyManager.ENCRYPTION_STATUS_INACTIVE;
  }
 else {
    return DevicePolicyManager.ENCRYPTION_STATUS_UNSUPPORTED;
  }
}
