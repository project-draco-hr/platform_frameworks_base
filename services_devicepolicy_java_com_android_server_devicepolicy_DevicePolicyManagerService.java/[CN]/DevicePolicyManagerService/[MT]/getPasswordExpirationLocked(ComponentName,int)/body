{
  long timeout=0L;
  if (who != null) {
    ActiveAdmin admin=getActiveAdminUncheckedLocked(who,userHandle);
    return admin != null ? admin.passwordExpirationDate : timeout;
  }
  List<UserInfo> profiles=mUserManager.getProfiles(userHandle);
  for (  UserInfo userInfo : profiles) {
    DevicePolicyData policy=getUserData(userInfo.getUserHandle().getIdentifier());
    final int N=policy.mAdminList.size();
    for (int i=0; i < N; i++) {
      ActiveAdmin admin=policy.mAdminList.get(i);
      if (timeout == 0L || (admin.passwordExpirationDate != 0 && timeout > admin.passwordExpirationDate)) {
        timeout=admin.passwordExpirationDate;
      }
    }
  }
  return timeout;
}
