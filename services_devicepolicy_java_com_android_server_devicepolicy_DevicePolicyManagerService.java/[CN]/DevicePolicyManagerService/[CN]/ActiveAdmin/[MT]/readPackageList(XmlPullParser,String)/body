{
  List<String> result=new ArrayList<String>();
  int outerDepth=parser.getDepth();
  int outerType;
  while ((outerType=parser.next()) != XmlPullParser.END_DOCUMENT && (outerType != XmlPullParser.END_TAG || parser.getDepth() > outerDepth)) {
    if (outerType == XmlPullParser.END_TAG || outerType == XmlPullParser.TEXT) {
      continue;
    }
    String outerTag=parser.getName();
    if (TAG_PACKAGE_LIST_ITEM.equals(outerTag)) {
      String packageName=parser.getAttributeValue(null,ATTR_VALUE);
      if (packageName != null) {
        result.add(packageName);
      }
 else {
        Slog.w(LOG_TAG,"Package name missing under " + outerTag);
      }
    }
 else {
      Slog.w(LOG_TAG,"Unknown tag under " + tag + ": "+ outerTag);
    }
  }
  return result;
}
