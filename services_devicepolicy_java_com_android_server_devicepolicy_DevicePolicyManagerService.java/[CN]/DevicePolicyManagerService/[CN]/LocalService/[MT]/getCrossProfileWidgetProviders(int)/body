{
synchronized (DevicePolicyManagerService.this) {
    if (mDeviceOwner == null) {
      return Collections.emptyList();
    }
    ComponentName ownerComponent=mDeviceOwner.getProfileOwnerComponent(profileId);
    if (ownerComponent == null) {
      return Collections.emptyList();
    }
    DevicePolicyData policy=getUserData(profileId);
    ActiveAdmin admin=policy.mAdminMap.get(ownerComponent);
    if (admin == null || admin.crossProfileWidgetProviders == null || admin.crossProfileWidgetProviders.isEmpty()) {
      return Collections.emptyList();
    }
    return admin.crossProfileWidgetProviders;
  }
}
