{
  if (iis == null) {
    throw new IllegalArgumentException("input stream == null");
  }
  DecodingImageSource source=new IISDecodingImageSource(iis);
  OffscreenImage image=new OffscreenImage(source);
  source.addConsumer(image);
  source.load();
  Thread.interrupted();
  return image.getBufferedImage();
}
