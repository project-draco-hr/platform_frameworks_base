{
  final float increment=gesture.getLength() / (num - 1);
  float[] newstk=new float[num * 2];
  float distanceSoFar=0;
  Iterator<PointF> it=gesture.getPoints().iterator();
  PointF lstPoint=it.next();
  int index=0;
  PointF currentPoint=null;
  try {
    newstk[index]=lstPoint.x;
    index++;
    newstk[index]=lstPoint.y;
    index++;
    while (it.hasNext()) {
      if (currentPoint == null)       currentPoint=it.next();
      float deltaX=currentPoint.x - lstPoint.x;
      float deltaY=currentPoint.y - lstPoint.y;
      float distance=(float)Math.sqrt(deltaX * deltaX + deltaY * deltaY);
      if (distanceSoFar + distance >= increment) {
        float ratio=(increment - distanceSoFar) / distance;
        float nx=lstPoint.x + ratio * deltaX;
        float ny=lstPoint.y + ratio * deltaY;
        newstk[index]=nx;
        index++;
        newstk[index]=ny;
        index++;
        lstPoint=new PointF(nx,ny);
        distanceSoFar=0;
      }
 else {
        lstPoint=currentPoint;
        currentPoint=null;
        distanceSoFar+=distance;
      }
    }
  }
 catch (  Exception ex) {
    ex.printStackTrace();
  }
  for (int i=index; i < newstk.length - 1; i+=2) {
    newstk[i]=lstPoint.x;
    newstk[i + 1]=lstPoint.y;
  }
  return newstk;
}
