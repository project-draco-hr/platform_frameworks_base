{
  if (!subsession.isSessionCompleted() || subsession.getChildSessions().size() != 0) {
    return;
  }
  Session parentSession=subsession.getParentSession();
  if (parentSession != null) {
    subsession.setParentSession(null);
    parentSession.removeChild(subsession);
    endParentSessions(parentSession);
  }
 else {
    long fullSessionTimeMs=System.currentTimeMillis() - subsession.getExecutionStartTimeMilliseconds();
    android.telecom.Log.v(LOGGING_TAG,Session.END_SESSION + " (dur: " + fullSessionTimeMs+ " ms): "+ subsession.toString());
    for (    ISessionListener l : mSessionListeners) {
      l.sessionComplete(subsession.getShortMethodName(),fullSessionTimeMs);
    }
  }
}
