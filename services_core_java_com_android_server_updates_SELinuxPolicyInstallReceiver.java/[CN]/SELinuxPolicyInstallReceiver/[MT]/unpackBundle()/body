{
  BufferedInputStream stream=new BufferedInputStream(new FileInputStream(updateContent));
  try {
    int[] chunkLengths=readChunkLengths(stream);
    installFile(new File(updateDir,versionPath),stream,chunkLengths[0]);
    installFile(new File(updateDir,macPermissionsPath),stream,chunkLengths[1]);
    installFile(new File(updateDir,seappContextsPath),stream,chunkLengths[2]);
    installFile(new File(updateDir,propertyContextsPath),stream,chunkLengths[3]);
    installFile(new File(updateDir,fileContextsPath),stream,chunkLengths[4]);
    installFile(new File(updateDir,sepolicyPath),stream,chunkLengths[5]);
  }
  finally {
    IoUtils.closeQuietly(stream);
  }
}
