{
  if (LAYOUT_RES_FOR_TYPE[mMenuType] == 0) {
    return null;
  }
synchronized (this) {
    MenuView menuView=mMenuView != null ? mMenuView.get() : null;
    if (menuView == null) {
      menuView=(MenuView)getInflater().inflate(LAYOUT_RES_FOR_TYPE[mMenuType],parent,false);
      menuView.initialize(MenuBuilder.this,mMenuType);
      mMenuView=new WeakReference<MenuView>(menuView);
      if (mFrozenViewStates != null) {
        View view=(View)menuView;
        view.restoreHierarchyState(mFrozenViewStates);
        mFrozenViewStates.remove(view.getId());
      }
    }
    return menuView;
  }
}
