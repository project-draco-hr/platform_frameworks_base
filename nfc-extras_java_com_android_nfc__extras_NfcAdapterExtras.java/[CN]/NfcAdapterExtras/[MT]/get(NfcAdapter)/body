{
  Context context=adapter.getContext();
  if (context == null) {
    throw new UnsupportedOperationException("You must pass a context to your NfcAdapter to use the NFC extras APIs");
  }
synchronized (NfcAdapterExtras.class) {
    if (sService == null) {
      try {
        sAdapter=adapter;
        initService();
      }
  finally {
        if (sService == null) {
          sAdapter=null;
        }
      }
    }
  }
  return new NfcAdapterExtras(context);
}
