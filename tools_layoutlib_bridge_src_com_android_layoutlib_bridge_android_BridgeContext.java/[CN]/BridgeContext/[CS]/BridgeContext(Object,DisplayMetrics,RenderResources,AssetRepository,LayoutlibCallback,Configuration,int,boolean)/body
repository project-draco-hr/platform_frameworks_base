{
  mProjectKey=projectKey;
  mMetrics=metrics;
  mLayoutlibCallback=layoutlibCallback;
  mRenderResources=renderResources;
  mConfig=config;
  AssetManager systemAssetManager=AssetManager.getSystem();
  if (systemAssetManager instanceof BridgeAssetManager) {
    mAssets=(BridgeAssetManager)systemAssetManager;
  }
 else {
    throw new AssertionError("Creating BridgeContext without initializing Bridge");
  }
  mAssets.setAssetRepository(assets);
  mApplicationInfo=new ApplicationInfo();
  mApplicationInfo.targetSdkVersion=targetSdkVersion;
  if (hasRtlSupport) {
    mApplicationInfo.flags=mApplicationInfo.flags | ApplicationInfo.FLAG_SUPPORTS_RTL;
  }
  mWindowManager=new WindowManagerImpl(mMetrics);
  mDisplayManager=new DisplayManager(this);
}
