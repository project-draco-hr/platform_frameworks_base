{
  UserInfo activeUser;
  try {
    activeUser=ActivityManagerNative.getDefault().getCurrentUser();
  }
 catch (  RemoteException re) {
    activeUser=null;
  }
  ArrayList<UserInfo> users=new ArrayList<UserInfo>(userList);
  Collections.sort(users,mOrderAddedComparator);
  for (  UserInfo user : users) {
    if (user.supportsSwitchTo()) {
      KeyguardMultiUserAvatar uv=createAndAddUser(user);
      if (user.id == activeUser.id) {
        mActiveUserAvatar=uv;
      }
      uv.setActive(false,false,null);
    }
  }
  mActiveUserAvatar.lockPressed(true);
}
