{
  if (mLocks.hasLocks()) {
switch (mLocks.getStrongestLockMode()) {
case WIFI_MODE_FULL:
      transitionTo(mFullLockHeldState);
    break;
case WIFI_MODE_FULL_HIGH_PERF:
  transitionTo(mFullHighPerfLockHeldState);
break;
case WIFI_MODE_SCAN_ONLY:
transitionTo(mScanOnlyLockHeldState);
break;
default :
loge("Illegal lock " + mLocks.getStrongestLockMode());
}
}
 else {
if (mSettingsStore.isScanAlwaysAvailable()) {
transitionTo(mScanOnlyLockHeldState);
}
 else {
transitionTo(mNoLockHeldState);
}
}
}
