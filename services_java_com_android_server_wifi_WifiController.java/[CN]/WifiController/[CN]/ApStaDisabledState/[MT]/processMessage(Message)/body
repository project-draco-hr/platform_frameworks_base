{
switch (msg.what) {
case CMD_WIFI_TOGGLED:
case CMD_AIRPLANE_TOGGLED:
    if (mSettingsStore.isWifiToggleEnabled()) {
      if (mDeviceIdle == false) {
        transitionTo(mDeviceActiveState);
      }
 else {
        checkLocksAndTransitionWhenDeviceIdle();
      }
    }
  break;
case CMD_SCAN_ALWAYS_MODE_CHANGED:
if (mSettingsStore.isScanAlwaysAvailable()) {
  transitionTo(mStaDisabledWithScanState);
}
break;
case CMD_SET_AP:
if (msg.arg1 == 1) {
mWifiStateMachine.setHostApRunning((WifiConfiguration)msg.obj,true);
transitionTo(mApEnabledState);
}
break;
default :
return NOT_HANDLED;
}
return HANDLED;
}
