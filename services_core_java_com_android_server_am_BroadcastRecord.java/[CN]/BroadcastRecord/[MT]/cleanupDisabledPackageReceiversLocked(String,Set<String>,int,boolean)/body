{
  if ((userId != UserHandle.USER_ALL && this.userId != userId) || receivers == null) {
    return false;
  }
  boolean didSomething=false;
  Object o;
  for (int i=receivers.size() - 1; i >= 0; i--) {
    o=receivers.get(i);
    if (!(o instanceof ResolveInfo)) {
      continue;
    }
    ActivityInfo info=((ResolveInfo)o).activityInfo;
    final boolean sameComponent=packageName == null || (info.applicationInfo.packageName.equals(packageName) && (filterByClasses == null || filterByClasses.contains(info.name)));
    if (sameComponent) {
      if (!doit) {
        return true;
      }
      didSomething=true;
      receivers.remove(i);
      if (i < nextReceiver) {
        nextReceiver--;
      }
    }
  }
  nextReceiver=Math.min(nextReceiver,receivers.size());
  return didSomething;
}
