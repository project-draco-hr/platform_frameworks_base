{
  if (mPtr == 0) {
    return ERROR_NO_INIT;
  }
  if (mStreamConfigGeneration != streamConfig.getGeneration()) {
    return ERROR_STALE_CONFIG;
  }
  if (nativeSetSurface(mPtr,deviceId,streamConfig.getStreamId(),surface) == 0) {
    return SUCCESS;
  }
 else {
    return ERROR_UNKNOWN;
  }
}
