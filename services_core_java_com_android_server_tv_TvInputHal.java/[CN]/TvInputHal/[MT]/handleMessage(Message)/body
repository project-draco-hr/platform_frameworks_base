{
switch (msg.what) {
case EVENT_DEVICE_AVAILABLE:
{
      TvStreamConfig[] configs;
      TvInputHardwareInfo info=(TvInputHardwareInfo)msg.obj;
synchronized (mLock) {
        retrieveStreamConfigsLocked(info.getDeviceId());
        if (DEBUG) {
          Slog.d(TAG,"EVENT_DEVICE_AVAILABLE: info = " + info);
        }
        configs=mStreamConfigs.get(info.getDeviceId());
      }
      mCallback.onDeviceAvailable(info,configs);
      break;
    }
case EVENT_DEVICE_UNAVAILABLE:
{
    int deviceId=msg.arg1;
    if (DEBUG) {
      Slog.d(TAG,"EVENT_DEVICE_UNAVAILABLE: deviceId = " + deviceId);
    }
    mCallback.onDeviceUnavailable(deviceId);
    break;
  }
case EVENT_STREAM_CONFIGURATION_CHANGED:
{
  TvStreamConfig[] configs;
  int deviceId=msg.arg1;
synchronized (mLock) {
    if (DEBUG) {
      Slog.d(TAG,"EVENT_STREAM_CONFIGURATION_CHANGED: deviceId = " + deviceId);
    }
    retrieveStreamConfigsLocked(deviceId);
    configs=mStreamConfigs.get(deviceId);
  }
  mCallback.onStreamConfigurationChanged(deviceId,configs);
  break;
}
case EVENT_FIRST_FRAME_CAPTURED:
{
int deviceId=msg.arg1;
int streamId=msg.arg2;
mCallback.onFirstFrameCaptured(deviceId,streamId);
break;
}
default :
Slog.e(TAG,"Unknown event: " + msg);
return false;
}
return true;
}
