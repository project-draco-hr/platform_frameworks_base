{
  mEventHandler=new EventHandler();
  mContext=context;
  mWebView=webview;
  mDefaultTextEncoding=context.getString(com.android.internal.R.string.default_text_encoding);
  final DisplayMetrics metrics=context.getResources().getDisplayMetrics();
  final int landscapeWidth=Math.max(metrics.widthPixels,metrics.heightPixels);
  final int minTabletWidth=context.getResources().getDimensionPixelSize(com.android.internal.R.dimen.min_xlarge_screen_width);
  mUseFixedViewport=(metrics.density == 1.0f && landscapeWidth >= minTabletWidth);
  mMaxFixedViewportWidth=(int)(landscapeWidth * 1.25);
  if (sLockForLocaleSettings == null) {
    sLockForLocaleSettings=new Object();
    sLocale=Locale.getDefault();
  }
  mAcceptLanguage=getCurrentAcceptLanguage();
  mUserAgent=getCurrentUserAgent();
  mUseDefaultUserAgent=true;
  mBlockNetworkLoads=mContext.checkPermission("android.permission.INTERNET",android.os.Process.myPid(),android.os.Process.myUid()) != PackageManager.PERMISSION_GRANTED;
}
