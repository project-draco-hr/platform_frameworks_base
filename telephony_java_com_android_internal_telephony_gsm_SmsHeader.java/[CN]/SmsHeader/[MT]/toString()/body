{
  StringBuilder builder=new StringBuilder();
  builder.append("UDH LENGTH: " + m_data.length + " octets");
  builder.append("UDH: ");
  builder.append(HexDump.toHexString(m_data));
  builder.append("\n");
  for (  Element e : getElements()) {
    builder.append("  0x" + HexDump.toHexString((byte)e.getID()) + " - ");
switch (e.getID()) {
case CONCATENATED_8_BIT_REFERENCE:
{
        builder.append("Concatenated Short Message 8bit ref\n");
        byte[] data=e.getData();
        builder.append("    " + data.length + " (0x");
        builder.append(HexDump.toHexString((byte)data.length) + ") Bytes - Information Element\n");
        builder.append("      " + data[0] + " : SM reference number\n");
        builder.append("      " + data[1] + " : number of messages\n");
        builder.append("      " + data[2] + " : this SM sequence number\n");
        break;
      }
case CONCATENATED_16_BIT_REFERENCE:
{
      builder.append("Concatenated Short Message 16bit ref\n");
      byte[] data=e.getData();
      builder.append("    " + data.length + " (0x");
      builder.append(HexDump.toHexString((byte)data.length) + ") Bytes - Information Element\n");
      builder.append("      " + (data[0] & 0xff) * 256 + (data[1] & 0xff) + " : SM reference number\n");
      builder.append("      " + data[2] + " : number of messages\n");
      builder.append("      " + data[3] + " : this SM sequence number\n");
      break;
    }
case APPLICATION_PORT_ADDRESSING_16_BIT:
{
    builder.append("Application port addressing 16bit\n");
    byte[] data=e.getData();
    builder.append("    " + data.length + " (0x");
    builder.append(HexDump.toHexString((byte)data.length) + ") Bytes - Information Element\n");
    int source=(data[0] & 0xff) << 8;
    source|=(data[1] & 0xff);
    builder.append("      " + source + " : DESTINATION port\n");
    int dest=(data[2] & 0xff) << 8;
    dest|=(data[3] & 0xff);
    builder.append("      " + dest + " : SOURCE port\n");
    break;
  }
default :
{
  builder.append("Unknown element\n");
  break;
}
}
}
return builder.toString();
}
