{
  toolkit.lockAWT();
  try {
    if (!isLightweight() && !isPrepainter()) {
      g.setColor(getBackground());
      g.fillRect(0,0,w,h);
      g.setColor(getForeground());
    }
    paint(g);
  }
  finally {
    toolkit.unlockAWT();
  }
}
