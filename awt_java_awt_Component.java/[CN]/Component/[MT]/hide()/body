{
  toolkit.lockAWT();
  try {
    if (!visible) {
      return;
    }
    prepare4HierarchyChange();
    visible=false;
    moveFocusOnHide();
    behaviour.setVisible(false);
    postEvent(new ComponentEvent(this,ComponentEvent.COMPONENT_HIDDEN));
    notifyInputMethod(null);
  }
  finally {
    toolkit.unlockAWT();
  }
}
