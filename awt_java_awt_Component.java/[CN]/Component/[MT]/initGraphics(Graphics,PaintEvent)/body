{
  Rectangle clip=e.getUpdateRect();
  if (clip instanceof ClipRegion) {
    g.setClip(((ClipRegion)clip).getClip());
  }
 else {
    g.setClip(clip);
  }
  if (isPrepainter()) {
    prepaint(g);
  }
 else   if (!isLightweight() && (e.getID() == PaintEvent.PAINT)) {
    g.setColor(getBackground());
    g.fillRect(0,0,w,h);
  }
  g.setFont(getFont());
  g.setColor(getForeground());
}
