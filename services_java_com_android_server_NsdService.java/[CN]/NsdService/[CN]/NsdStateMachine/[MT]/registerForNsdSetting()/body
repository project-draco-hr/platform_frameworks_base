{
  ContentObserver contentObserver=new ContentObserver(this.getHandler()){
    @Override public void onChange(    boolean selfChange){
      if (isNsdEnabled()) {
        mNsdStateMachine.sendMessage(NsdManager.ENABLE);
      }
 else {
        mNsdStateMachine.sendMessage(NsdManager.DISABLE);
      }
    }
  }
;
  mContext.getContentResolver().registerContentObserver(Settings.Secure.getUriFor(Settings.Secure.NSD_ON),false,contentObserver);
}
