{
synchronized (mTransports) {
    if (DEBUG)     Slog.v(TAG,"Registering transport " + component + "::"+ name+ " = "+ transport);
    if (transport != null) {
      mTransports.put(name,transport);
      mTransportNames.put(component,name);
    }
 else {
      mTransports.remove(mTransportNames.get(component));
      mTransportNames.remove(component);
      return;
    }
  }
  try {
    String transportName=transport.transportDirName();
    File stateDir=new File(mBaseStateDir,transportName);
    stateDir.mkdirs();
    File initSentinel=new File(stateDir,INIT_SENTINEL_FILE_NAME);
    if (initSentinel.exists()) {
synchronized (mQueueLock) {
        mPendingInits.add(name);
        long delay=1000 * 60;
        mAlarmManager.set(AlarmManager.RTC_WAKEUP,System.currentTimeMillis() + delay,mRunInitIntent);
      }
    }
  }
 catch (  RemoteException e) {
    Slog.e(TAG,"Unable to register transport as " + name);
    mTransportNames.remove(component);
    mTransports.remove(name);
  }
}
