{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.BACKUP,"isAppEligibleForBackup");
  try {
    PackageInfo packageInfo=mPackageManager.getPackageInfo(packageName,PackageManager.GET_SIGNATURES);
    if (!appIsEligibleForBackup(packageInfo.applicationInfo) || appIsStopped(packageInfo.applicationInfo)) {
      return false;
    }
    IBackupTransport transport=getTransport(mCurrentTransport);
    if (transport != null) {
      try {
        return transport.isAppEligibleForBackup(packageInfo,appGetsFullBackup(packageInfo));
      }
 catch (      RemoteException e) {
        Slog.e(TAG,"Unable to contact transport");
      }
    }
    return true;
  }
 catch (  NameNotFoundException e) {
    return false;
  }
}
