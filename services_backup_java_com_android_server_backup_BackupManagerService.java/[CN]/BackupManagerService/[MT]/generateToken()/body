{
  int token;
  do {
synchronized (mTokenGenerator) {
      token=mTokenGenerator.nextInt();
    }
  }
 while (token < 0);
  return token;
}
