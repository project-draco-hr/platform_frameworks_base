{
  mContext.enforceCallingOrSelfPermission(android.Manifest.permission.BACKUP,"getAvailableRestoreToken");
  long token=mAncestralToken;
synchronized (mQueueLock) {
    if (mEverStoredApps.contains(packageName)) {
      if (MORE_DEBUG) {
        Slog.i(TAG,"App in ever-stored, so using current token");
      }
      token=mCurrentToken;
    }
  }
  if (MORE_DEBUG)   Slog.i(TAG,"getAvailableRestoreToken() == " + token);
  return token;
}
