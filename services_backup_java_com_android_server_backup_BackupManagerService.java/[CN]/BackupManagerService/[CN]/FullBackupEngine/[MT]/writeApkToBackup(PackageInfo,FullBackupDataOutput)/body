{
  final String appSourceDir=pkg.applicationInfo.getBaseCodePath();
  final String apkDir=new File(appSourceDir).getParent();
  FullBackup.backupToTar(pkg.packageName,FullBackup.APK_TREE_TOKEN,null,apkDir,appSourceDir,output);
  final UserEnvironment userEnv=new UserEnvironment(UserHandle.USER_SYSTEM);
  final File obbDir=userEnv.buildExternalStorageAppObbDirs(pkg.packageName)[0];
  if (obbDir != null) {
    if (MORE_DEBUG)     Log.i(TAG,"obb dir: " + obbDir.getAbsolutePath());
    File[] obbFiles=obbDir.listFiles();
    if (obbFiles != null) {
      final String obbDirName=obbDir.getAbsolutePath();
      for (      File obb : obbFiles) {
        FullBackup.backupToTar(pkg.packageName,FullBackup.OBB_TREE_TOKEN,null,obbDirName,obb.getAbsolutePath(),output);
      }
    }
  }
}
