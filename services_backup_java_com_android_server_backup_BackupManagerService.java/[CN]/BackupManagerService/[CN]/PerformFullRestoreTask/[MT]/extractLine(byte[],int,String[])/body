{
  final int end=buffer.length;
  if (offset >= end)   throw new IOException("Incomplete data");
  int pos;
  for (pos=offset; pos < end; pos++) {
    byte c=buffer[pos];
    if (c == '\n') {
      break;
    }
  }
  outStr[0]=new String(buffer,offset,pos - offset);
  pos++;
  return pos;
}
