{
  if (mCancelled)   return;
  if (mIsMainPageLoader) {
    String type=sCertificateTypeMap.get(mMimeType);
    if (type != null) {
synchronized (mDataBuilder) {
        byte[] cert=new byte[mDataBuilder.getByteSize()];
        int offset=0;
        while (true) {
          ByteArrayBuilder.Chunk c=mDataBuilder.getFirstChunk();
          if (c == null)           break;
          if (c.mLength != 0) {
            System.arraycopy(c.mArray,0,cert,offset,c.mLength);
            offset+=c.mLength;
          }
          c.release();
        }
        CertTool.addCertificate(mContext,type,cert);
        mBrowserFrame.stopLoading();
        return;
      }
    }
  }
  PerfChecker checker=new PerfChecker();
  ByteArrayBuilder.Chunk c;
  while (true) {
    c=mDataBuilder.getFirstChunk();
    if (c == null)     break;
    if (c.mLength != 0) {
      if (mCacheResult != null) {
        try {
          mCacheResult.outStream.write(c.mArray,0,c.mLength);
        }
 catch (        IOException e) {
          mCacheResult=null;
        }
      }
      nativeAddData(c.mArray,c.mLength);
    }
    c.release();
    checker.responseAlert("res nativeAddData");
  }
}
