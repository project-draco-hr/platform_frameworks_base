{
  if (mCancelled)   return;
  if (mIsMainPageLoader && sCertificateMimeTypeMap.contains(mMimeType)) {
    byte[] cert=new byte[mDataBuilder.getByteSize()];
    int position=0;
    ByteArrayBuilder.Chunk c;
    while (true) {
      c=mDataBuilder.getFirstChunk();
      if (c == null)       break;
      if (c.mLength != 0) {
        System.arraycopy(c.mArray,0,cert,position,c.mLength);
        position+=c.mLength;
      }
      mDataBuilder.releaseChunk(c);
    }
    CertTool.getInstance().addCertificate(cert,mContext);
    Toast.makeText(mContext,R.string.certificateSaved,Toast.LENGTH_SHORT).show();
    mBrowserFrame.stopLoading();
    return;
  }
  PerfChecker checker=new PerfChecker();
  ByteArrayBuilder.Chunk c;
  while (true) {
    c=mDataBuilder.getFirstChunk();
    if (c == null)     break;
    if (c.mLength != 0) {
      if (mCacheResult != null) {
        try {
          mCacheResult.outStream.write(c.mArray,0,c.mLength);
        }
 catch (        IOException e) {
          mCacheResult=null;
        }
      }
      nativeAddData(c.mArray,c.mLength);
    }
    mDataBuilder.releaseChunk(c);
    checker.responseAlert("res nativeAddData");
  }
}
