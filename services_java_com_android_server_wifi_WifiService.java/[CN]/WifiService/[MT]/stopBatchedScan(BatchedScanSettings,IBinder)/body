{
  enforceChangePermission();
  if (mBatchedScanSupported == false)   return;
  ArrayList<BatchedScanRequest> found=new ArrayList<BatchedScanRequest>();
synchronized (mBatchedScanners) {
    for (    BatchedScanRequest r : mBatchedScanners) {
      if (r.isSameApp() && (settings == null || settings.equals(r.settings))) {
        found.add(r);
        if (settings != null)         break;
      }
    }
    for (    BatchedScanRequest r : found) {
      mBatchedScanners.remove(r);
    }
    if (found.size() != 0) {
      resolveBatchedScannersLocked();
    }
  }
}
