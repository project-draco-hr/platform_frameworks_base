{
  if ((flags & PackageManager.GET_DISABLED_COMPONENTS) != 0) {
    return true;
  }
  final String pkgName=componentInfo.packageName;
  final PackageSetting packageSettings=mPackages.get(pkgName);
  if (PackageManagerService.DEBUG_SETTINGS) {
    Log.v(PackageManagerService.TAG,"isEnabledLock - packageName = " + componentInfo.packageName + " componentName = "+ componentInfo.name);
    Log.v(PackageManagerService.TAG,"enabledComponents: " + Arrays.toString(packageSettings.getEnabledComponents(userId).toArray()));
    Log.v(PackageManagerService.TAG,"disabledComponents: " + Arrays.toString(packageSettings.getDisabledComponents(userId).toArray()));
  }
  if (packageSettings == null) {
    return false;
  }
  final int enabled=packageSettings.getEnabled(userId);
  if (enabled == COMPONENT_ENABLED_STATE_DISABLED || enabled == COMPONENT_ENABLED_STATE_DISABLED_USER || (packageSettings.pkg != null && !packageSettings.pkg.applicationInfo.enabled && enabled == COMPONENT_ENABLED_STATE_DEFAULT)) {
    return false;
  }
  if (packageSettings.getEnabledComponents(userId).contains(componentInfo.name)) {
    return true;
  }
  if (packageSettings.getDisabledComponents(userId).contains(componentInfo.name)) {
    return false;
  }
  return componentInfo.enabled;
}
