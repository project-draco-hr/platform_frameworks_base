{
  byte[] buffer=new byte[1024];
  while (length > 0) {
    int count=in.read(buffer,0,Math.min(buffer.length,length));
    if (count == -1) {
      return;
    }
    out.write(buffer,0,count);
    length-=count;
  }
}
