{
  if (frameRates.size() == 0) {
    Log.e(TAG,"No supported frame rates returned!");
    return null;
  }
  int bestMin=0;
  int bestMax=0;
  int bestIndex=0;
  int index=0;
  for (  int[] rate : frameRates) {
    int minFps=rate[Camera.Parameters.PREVIEW_FPS_MIN_INDEX];
    int maxFps=rate[Camera.Parameters.PREVIEW_FPS_MAX_INDEX];
    if (maxFps > bestMax || (maxFps == bestMax && minFps > bestMin)) {
      bestMin=minFps;
      bestMax=maxFps;
      bestIndex=index;
    }
    index++;
  }
  return frameRates.get(bestIndex);
}
