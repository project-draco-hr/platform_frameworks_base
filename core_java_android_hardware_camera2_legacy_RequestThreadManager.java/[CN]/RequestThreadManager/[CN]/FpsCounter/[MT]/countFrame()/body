{
  mFrameCount++;
  long nextTime=SystemClock.elapsedRealtimeNanos();
  if (mLastTime == 0) {
    mLastTime=nextTime;
  }
  if (nextTime > mLastTime + NANO_PER_SECOND) {
    long elapsed=nextTime - mLastTime;
    mLastFps=mFrameCount * (NANO_PER_SECOND / (double)elapsed);
    mFrameCount=0;
    mLastTime=nextTime;
  }
}
