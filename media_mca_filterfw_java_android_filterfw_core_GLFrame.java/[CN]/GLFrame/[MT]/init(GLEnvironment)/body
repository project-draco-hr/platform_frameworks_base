{
  FrameFormat format=getFormat();
  mGLEnvironment=glEnv;
  if (format.getBytesPerSample() != 4) {
    throw new IllegalArgumentException("GL frames must have 4 bytes per sample!");
  }
 else   if (format.getDimensionCount() != 2) {
    throw new IllegalArgumentException("GL frames must be 2-dimensional!");
  }
 else   if (getFormat().getSize() < 0) {
    throw new IllegalArgumentException("Initializing GL frame with zero size!");
  }
  int bindingType=getBindingType();
  boolean reusable=true;
  if (bindingType == Frame.NO_BINDING) {
    initNew(false);
  }
 else   if (bindingType == EXTERNAL_TEXTURE) {
    initNew(true);
    reusable=false;
  }
 else   if (bindingType == EXISTING_TEXTURE_BINDING) {
    initWithTexture((int)getBindingId());
  }
 else   if (bindingType == EXISTING_FBO_BINDING) {
    initWithFbo((int)getBindingId());
  }
 else   if (bindingType == NEW_TEXTURE_BINDING) {
    initWithTexture((int)getBindingId());
  }
 else   if (bindingType == NEW_FBO_BINDING) {
    initWithFbo((int)getBindingId());
  }
 else {
    throw new RuntimeException("Attempting to create GL frame with unknown binding type " + bindingType + "!");
  }
  setReusable(reusable);
}
