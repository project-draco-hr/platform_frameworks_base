{
  if (header == null || data == null || header.length < MSG_HEADER_SIZE) {
    return -1;
  }
synchronized (this) {
    if (mCallback != null) {
      ContextHubMessage msg=new ContextHubMessage(header[MSG_FIELD_TYPE],header[MSG_FIELD_VERSION],data);
      try {
        mCallback.onMessageReceipt(header[MSG_FIELD_HUB_HANDLE],header[MSG_FIELD_APP_INSTANCE],msg);
      }
 catch (      Exception e) {
        Log.w(TAG,"Exception " + e + " when calling remote callback");
        return -1;
      }
    }
 else {
      Log.d(TAG,"Message Callback is NULL");
    }
  }
  return 0;
}
