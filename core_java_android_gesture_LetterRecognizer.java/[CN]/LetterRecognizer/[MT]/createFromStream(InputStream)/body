{
  DataInputStream in=null;
  LetterRecognizer classifier=null;
  try {
    in=new DataInputStream(new BufferedInputStream(stream,GestureConstants.IO_BUFFER_SIZE));
    final int version=in.readShort();
switch (version) {
case 1:
      classifier=readV1(in);
    break;
default :
  Log.d(LOG_TAG,"Couldn't load handwriting data: version " + version + " not supported");
break;
}
}
 catch (IOException e) {
Log.d(LOG_TAG,"Failed to load handwriting data:",e);
}
 finally {
GestureUtilities.closeStream(in);
}
return classifier;
}
