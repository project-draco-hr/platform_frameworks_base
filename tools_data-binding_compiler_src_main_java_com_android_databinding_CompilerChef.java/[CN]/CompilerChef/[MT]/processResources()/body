{
  if (mResourceBundle != null) {
    return;
  }
  mResourceBundle=new ResourceBundle();
  mResourceBundle.setAppPackage(mAppPackage);
  mLayoutFileParser=new LayoutFileParser();
  int layoutId=0;
  for (  File resFolder : Iterables.filter(mResourceFolders,fileExists)) {
    for (    File layoutFolder : resFolder.listFiles(layoutFolderFilter)) {
      for (      File xmlFile : layoutFolder.listFiles(xmlFileFilter)) {
        final ResourceBundle.LayoutFileBundle bundle=mLayoutFileParser.parseXml(xmlFile,mAppPackage,layoutId);
        if (bundle != null && !bundle.isEmpty()) {
          mResourceBundle.addLayoutBundle(bundle,layoutId);
          layoutId++;
        }
      }
    }
  }
  mResourceBundle.validateMultiResLayouts();
}
