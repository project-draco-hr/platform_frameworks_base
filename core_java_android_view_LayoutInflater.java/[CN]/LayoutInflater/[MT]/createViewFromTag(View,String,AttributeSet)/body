{
  if (name.equals("view")) {
    name=attrs.getAttributeValue(null,"class");
  }
  final Context viewContext;
  final int themeResId=attrs.getAttributeResourceValue(null,ATTR_THEME,0);
  if (themeResId != 0) {
    viewContext=new ContextThemeWrapper(mContext,themeResId);
  }
 else   if (parent != null) {
    viewContext=parent.getContext();
  }
 else {
    viewContext=mContext;
  }
  if (DEBUG)   System.out.println("******** Creating view: " + name);
  try {
    View view;
    if (mFactory2 != null) {
      view=mFactory2.onCreateView(parent,name,viewContext,attrs);
    }
 else     if (mFactory != null) {
      view=mFactory.onCreateView(name,viewContext,attrs);
    }
 else {
      view=null;
    }
    if (view == null && mPrivateFactory != null) {
      view=mPrivateFactory.onCreateView(parent,name,viewContext,attrs);
    }
    if (view == null) {
      final Object lastContext=mConstructorArgs[0];
      mConstructorArgs[0]=viewContext;
      try {
        if (-1 == name.indexOf('.')) {
          view=onCreateView(parent,name,attrs);
        }
 else {
          view=createView(name,null,attrs);
        }
      }
  finally {
        mConstructorArgs[0]=lastContext;
      }
    }
    if (DEBUG)     System.out.println("Created view is: " + view);
    return view;
  }
 catch (  InflateException e) {
    throw e;
  }
catch (  ClassNotFoundException e) {
    InflateException ie=new InflateException(attrs.getPositionDescription() + ": Error inflating class " + name);
    ie.initCause(e);
    throw ie;
  }
catch (  Exception e) {
    InflateException ie=new InflateException(attrs.getPositionDescription() + ": Error inflating class " + name);
    ie.initCause(e);
    throw ie;
  }
}
