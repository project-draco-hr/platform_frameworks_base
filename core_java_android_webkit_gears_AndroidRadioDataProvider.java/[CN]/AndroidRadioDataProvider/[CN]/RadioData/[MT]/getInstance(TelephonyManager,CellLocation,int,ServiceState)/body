{
  if (!(cellLocation instanceof GsmCellLocation)) {
    return null;
  }
  RadioData radioData=new RadioData();
  GsmCellLocation gsmCellLocation=(GsmCellLocation)cellLocation;
  radioData.cellId=gsmCellLocation.getCid();
  radioData.locationAreaCode=gsmCellLocation.getLac();
  radioData.signalStrength=signalStrength;
  String operator=telephonyManager.getSimOperator();
  radioData.setMobileCodes(operator,true);
  if (serviceState != null) {
    radioData.carrierName=serviceState.getOperatorAlphaLong();
    operator=serviceState.getOperatorNumeric();
    radioData.setMobileCodes(operator,false);
  }
  int type=telephonyManager.getNetworkType();
  if (type == TelephonyManager.NETWORK_TYPE_UMTS) {
    radioData.radioType=RADIO_TYPE_WCDMA;
  }
 else   if (type == TelephonyManager.NETWORK_TYPE_GPRS || type == TelephonyManager.NETWORK_TYPE_EDGE) {
    radioData.radioType=RADIO_TYPE_GSM;
  }
 else   if (type == TelephonyManager.NETWORK_TYPE_CDMA) {
    radioData.radioType=RADIO_TYPE_CDMA;
  }
 else   if (type == TelephonyManager.NETWORK_TYPE_EVDO_0) {
    radioData.radioType=RADIO_TYPE_EVDO;
  }
 else   if (type == TelephonyManager.NETWORK_TYPE_EVDO_A) {
    radioData.radioType=RADIO_TYPE_EVDO;
  }
 else   if (type == TelephonyManager.NETWORK_TYPE_1xRTT) {
    radioData.radioType=RADIO_TYPE_1xRTT;
  }
  Log.i(TAG,"Got the following data:");
  Log.i(TAG,"CellId: " + radioData.cellId);
  Log.i(TAG,"LAC: " + radioData.locationAreaCode);
  Log.i(TAG,"MNC: " + radioData.mobileNetworkCode);
  Log.i(TAG,"MCC: " + radioData.mobileCountryCode);
  Log.i(TAG,"home MNC: " + radioData.homeMobileNetworkCode);
  Log.i(TAG,"home MCC: " + radioData.homeMobileCountryCode);
  Log.i(TAG,"Signal strength: " + radioData.signalStrength);
  Log.i(TAG,"Carrier: " + radioData.carrierName);
  Log.i(TAG,"Network type: " + radioData.radioType);
  return radioData;
}
