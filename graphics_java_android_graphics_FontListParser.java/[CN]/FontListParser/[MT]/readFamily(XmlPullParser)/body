{
  String name=parser.getAttributeValue(null,"name");
  String lang=parser.getAttributeValue(null,"lang");
  String variant=parser.getAttributeValue(null,"variant");
  List<Font> fonts=new ArrayList<Font>();
  while (parser.next() != XmlPullParser.END_TAG) {
    if (parser.getEventType() != XmlPullParser.START_TAG)     continue;
    String tag=parser.getName();
    if (tag.equals("font")) {
      String ttcIndexStr=parser.getAttributeValue(null,"index");
      int ttcIndex=ttcIndexStr == null ? 0 : Integer.parseInt(ttcIndexStr);
      String weightStr=parser.getAttributeValue(null,"weight");
      int weight=weightStr == null ? 400 : Integer.parseInt(weightStr);
      boolean isItalic="italic".equals(parser.getAttributeValue(null,"style"));
      String filename=parser.nextText();
      String fullFilename="/system/fonts/" + filename;
      fonts.add(new Font(fullFilename,ttcIndex,weight,isItalic));
    }
 else {
      skip(parser);
    }
  }
  return new Family(name,fonts,lang,variant);
}
