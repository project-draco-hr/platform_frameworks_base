{
  Account[] accounts=AccountManager.get(mContext).getAccountsByTypeAsUser("com.google",new UserHandle(mLockPatternUtils.getCurrentUser()));
  Account bestAccount=null;
  int bestScore=0;
  for (  Account a : accounts) {
    int score=0;
    if (username.equals(a.name)) {
      score=4;
    }
 else     if (username.equalsIgnoreCase(a.name)) {
      score=3;
    }
 else     if (username.indexOf('@') < 0) {
      int i=a.name.indexOf('@');
      if (i >= 0) {
        String aUsername=a.name.substring(0,i);
        if (username.equals(aUsername)) {
          score=2;
        }
 else         if (username.equalsIgnoreCase(aUsername)) {
          score=1;
        }
      }
    }
    if (score > bestScore) {
      bestAccount=a;
      bestScore=score;
    }
 else     if (score == bestScore) {
      bestAccount=null;
    }
  }
  return bestAccount;
}
