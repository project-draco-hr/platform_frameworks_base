{
  mLogin.post(new Runnable(){
    public void run(){
      if (success) {
        mLockPatternUtils.setPermanentlyLocked(false);
        mLockPatternUtils.setLockPatternEnabled(false);
        mLockPatternUtils.saveLockPattern(null);
        Intent intent=new Intent();
        intent.setClassName(LOCK_PATTERN_PACKAGE,LOCK_PATTERN_CLASS);
        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        mContext.startActivityAsUser(intent,new UserHandle(mLockPatternUtils.getCurrentUser()));
        mCallback.reportUnlockAttempt(true);
        mCallback.dismiss(true);
      }
 else {
        mSecurityMessageDisplay.setMessage(R.string.kg_login_invalid_input,true);
        mPassword.setText("");
        mCallback.reportUnlockAttempt(false);
      }
    }
  }
);
}
