{
  DbSSLSessionCache cache=DbSSLSessionCache.getInstanceForPackage(getContext());
  cache.clear();
  makeRequestInNewContext("https://www.google.com");
  SQLiteOpenHelper helper=new DatabaseHelper(getContext());
  Cursor query=null;
  try {
    query=helper.getReadableDatabase().query(DbSSLSessionCache.SSL_CACHE_TABLE,new String[]{"hostport"},null,null,null,null,null);
    assertTrue(query.moveToFirst());
    String hostPort=query.getString(0);
    assertEquals(hostPort,"www.google.com:443");
  }
  finally {
    query.close();
  }
}
