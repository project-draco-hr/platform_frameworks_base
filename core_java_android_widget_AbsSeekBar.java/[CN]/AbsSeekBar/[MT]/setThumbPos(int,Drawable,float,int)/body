{
  int available=w - mPaddingLeft - mPaddingRight;
  final int thumbWidth=thumb.getIntrinsicWidth();
  final int thumbHeight=thumb.getIntrinsicHeight();
  available-=thumbWidth;
  available+=mThumbOffset * 2;
  final int thumbPos=(int)(scale * available + 0.5f);
  final int top, bottom;
  if (gap == Integer.MIN_VALUE) {
    final Rect oldBounds=thumb.getBounds();
    top=oldBounds.top;
    bottom=oldBounds.bottom;
  }
 else {
    top=gap;
    bottom=gap + thumbHeight;
  }
  final int left=(isLayoutRtl() && mMirrorForRtl) ? available - thumbPos : thumbPos;
  final int right=left + thumbWidth;
  final Drawable background=getBackground();
  if (background.supportsHotspots()) {
    final Rect bounds=mThumb.getBounds();
    final int offsetX=mPaddingLeft - mThumbOffset;
    final int offsetY=mPaddingTop;
    background.setHotspotBounds(left + offsetX,bounds.top + offsetY,right + offsetX,bounds.bottom + offsetY);
  }
  thumb.setBounds(left,top,right,bottom);
}
