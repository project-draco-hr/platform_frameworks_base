{
synchronized (this) {
    if (mClientIf == -1)     return;
    try {
      UUID uuid=UUID.randomUUID();
      mBluetoothGatt.registerClient(new ParcelUuid(uuid),this);
      wait(REGISTRATION_CALLBACK_TIMEOUT_MILLIS);
    }
 catch (    InterruptedException|RemoteException e) {
      Log.e(TAG,"application registeration exception",e);
      postCallbackError(mScanCallback,ScanCallback.SCAN_FAILED_INTERNAL_ERROR);
    }
    if (mClientIf > 0) {
      mLeScanClients.put(mScanCallback,this);
    }
 else {
      if (mClientIf == 0)       mClientIf=-1;
      postCallbackError(mScanCallback,ScanCallback.SCAN_FAILED_APPLICATION_REGISTRATION_FAILED);
    }
  }
}
