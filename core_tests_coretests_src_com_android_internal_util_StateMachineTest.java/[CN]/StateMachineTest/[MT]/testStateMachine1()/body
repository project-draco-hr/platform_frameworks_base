{
  StateMachine1 sm1=new StateMachine1("sm1");
  sm1.start();
  if (sm1.isDbg())   Log.d(TAG,"testStateMachine1 E");
synchronized (sm1) {
    sm1.sendMessage(TEST_CMD_1);
    sm1.sendMessage(TEST_CMD_2);
    try {
      sm1.wait();
    }
 catch (    InterruptedException e) {
      Log.e(TAG,"testStateMachine1: exception while waiting " + e.getMessage());
    }
  }
  assertEquals(2,sm1.mEnterCount);
  assertEquals(2,sm1.mExitCount);
  assertTrue(sm1.getProcessedMessagesSize() == 2);
  ProcessedMessageInfo pmi;
  pmi=sm1.getProcessedMessageInfo(0);
  assertEquals(TEST_CMD_1,pmi.getWhat());
  assertEquals(sm1.mS1,pmi.getState());
  assertEquals(sm1.mS1,pmi.getOriginalState());
  pmi=sm1.getProcessedMessageInfo(1);
  assertEquals(TEST_CMD_2,pmi.getWhat());
  assertEquals(sm1.mS1,pmi.getState());
  assertEquals(sm1.mS1,pmi.getOriginalState());
  assertEquals(2,sm1.mEnterCount);
  assertEquals(2,sm1.mExitCount);
  if (sm1.isDbg())   Log.d(TAG,"testStateMachine1 X");
}
