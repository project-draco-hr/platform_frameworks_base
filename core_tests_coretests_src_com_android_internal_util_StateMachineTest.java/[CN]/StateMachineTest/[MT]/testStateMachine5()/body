{
  StateMachine5 sm5=new StateMachine5("sm5");
  sm5.start();
  if (sm5.isDbg())   Log.d(TAG,"testStateMachine5 E");
synchronized (sm5) {
    sm5.sendMessage(TEST_CMD_1);
    sm5.sendMessage(TEST_CMD_2);
    sm5.sendMessage(TEST_CMD_3);
    sm5.sendMessage(TEST_CMD_4);
    sm5.sendMessage(TEST_CMD_5);
    sm5.sendMessage(TEST_CMD_6);
    try {
      sm5.wait();
    }
 catch (    InterruptedException e) {
      Log.e(TAG,"testStateMachine5: exception while waiting " + e.getMessage());
    }
  }
  assertTrue(sm5.getProcessedMessagesSize() == 6);
  assertEquals(1,sm5.mParentState1EnterCount);
  assertEquals(1,sm5.mParentState1ExitCount);
  assertEquals(1,sm5.mChildState1EnterCount);
  assertEquals(1,sm5.mChildState1ExitCount);
  assertEquals(1,sm5.mChildState2EnterCount);
  assertEquals(1,sm5.mChildState2ExitCount);
  assertEquals(2,sm5.mParentState2EnterCount);
  assertEquals(2,sm5.mParentState2ExitCount);
  assertEquals(1,sm5.mChildState3EnterCount);
  assertEquals(1,sm5.mChildState3ExitCount);
  assertEquals(2,sm5.mChildState4EnterCount);
  assertEquals(2,sm5.mChildState4ExitCount);
  assertEquals(1,sm5.mChildState5EnterCount);
  assertEquals(1,sm5.mChildState5ExitCount);
  ProcessedMessageInfo pmi;
  pmi=sm5.getProcessedMessageInfo(0);
  assertEquals(TEST_CMD_1,pmi.getWhat());
  assertEquals(sm5.mChildState1,pmi.getState());
  assertEquals(sm5.mChildState1,pmi.getOriginalState());
  pmi=sm5.getProcessedMessageInfo(1);
  assertEquals(TEST_CMD_2,pmi.getWhat());
  assertEquals(sm5.mChildState2,pmi.getState());
  assertEquals(sm5.mChildState2,pmi.getOriginalState());
  pmi=sm5.getProcessedMessageInfo(2);
  assertEquals(TEST_CMD_3,pmi.getWhat());
  assertEquals(sm5.mChildState5,pmi.getState());
  assertEquals(sm5.mChildState5,pmi.getOriginalState());
  pmi=sm5.getProcessedMessageInfo(3);
  assertEquals(TEST_CMD_4,pmi.getWhat());
  assertEquals(sm5.mChildState3,pmi.getState());
  assertEquals(sm5.mChildState3,pmi.getOriginalState());
  pmi=sm5.getProcessedMessageInfo(4);
  assertEquals(TEST_CMD_5,pmi.getWhat());
  assertEquals(sm5.mChildState4,pmi.getState());
  assertEquals(sm5.mChildState4,pmi.getOriginalState());
  pmi=sm5.getProcessedMessageInfo(5);
  assertEquals(TEST_CMD_6,pmi.getWhat());
  assertEquals(sm5.mParentState2,pmi.getState());
  assertEquals(sm5.mParentState2,pmi.getOriginalState());
  if (sm5.isDbg())   Log.d(TAG,"testStateMachine5 X");
}
