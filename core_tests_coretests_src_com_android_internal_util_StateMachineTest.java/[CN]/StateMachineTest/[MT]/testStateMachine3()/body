{
  StateMachine3 sm3=new StateMachine3("sm3");
  sm3.start();
  if (sm3.isDbg())   tlog("testStateMachine3 E");
synchronized (sm3) {
    sm3.sendMessage(TEST_CMD_1);
    sm3.sendMessage(TEST_CMD_2);
    try {
      sm3.wait();
    }
 catch (    InterruptedException e) {
      tloge("testStateMachine3: exception while waiting " + e.getMessage());
    }
  }
  assertEquals(2,sm3.getLogRecSize());
  LogRec lr;
  lr=sm3.getLogRec(0);
  assertEquals(TEST_CMD_1,lr.getWhat());
  assertEquals(sm3.mParentState,lr.getState());
  assertEquals(sm3.mChildState,lr.getOriginalState());
  lr=sm3.getLogRec(1);
  assertEquals(TEST_CMD_2,lr.getWhat());
  assertEquals(sm3.mParentState,lr.getState());
  assertEquals(sm3.mChildState,lr.getOriginalState());
  if (sm3.isDbg())   tlog("testStateMachine3 X");
}
