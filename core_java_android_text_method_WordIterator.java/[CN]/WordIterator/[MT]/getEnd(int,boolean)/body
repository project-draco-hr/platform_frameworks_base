{
  final int shiftedOffset=offset - mOffsetShift;
  checkOffsetIsValid(shiftedOffset);
  if (isAfterLetterOrDigit(shiftedOffset)) {
    if (mIterator.isBoundary(shiftedOffset) && (!isOnLetterOrDigit(shiftedOffset) || !getNextWordEndOnTwoWordBoundary)) {
      return shiftedOffset + mOffsetShift;
    }
 else {
      return mIterator.following(shiftedOffset) + mOffsetShift;
    }
  }
 else {
    if (isOnLetterOrDigit(shiftedOffset)) {
      return mIterator.following(shiftedOffset) + mOffsetShift;
    }
  }
  return BreakIterator.DONE;
}
