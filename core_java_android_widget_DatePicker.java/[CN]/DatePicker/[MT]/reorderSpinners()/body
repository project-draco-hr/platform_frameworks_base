{
  java.text.DateFormat format;
  String order;
  if (getShortMonths()[0].startsWith("1")) {
    format=DateFormat.getDateFormat(getContext());
  }
 else {
    format=DateFormat.getMediumDateFormat(getContext());
  }
  if (format instanceof SimpleDateFormat) {
    order=((SimpleDateFormat)format).toPattern();
  }
 else {
    order=new String(DateFormat.getDateFormatOrder(getContext()));
  }
  LinearLayout parent=mSpinners;
  parent.removeAllViews();
  boolean quoted=false;
  boolean didDay=false, didMonth=false, didYear=false;
  for (int i=0; i < order.length(); i++) {
    char c=order.charAt(i);
    if (c == '\'') {
      quoted=!quoted;
    }
    if (!quoted) {
      if (c == DateFormat.DATE && !didDay) {
        parent.addView(mDaySpinner);
        didDay=true;
      }
 else       if ((c == DateFormat.MONTH || c == 'L') && !didMonth) {
        parent.addView(mMonthSpinner);
        didMonth=true;
      }
 else       if (c == DateFormat.YEAR && !didYear) {
        parent.addView(mYearSpinner);
        didYear=true;
      }
    }
  }
  if (!didMonth) {
    parent.addView(mMonthSpinner);
  }
  if (!didDay) {
    parent.addView(mDaySpinner);
  }
  if (!didYear) {
    parent.addView(mYearSpinner);
  }
}
