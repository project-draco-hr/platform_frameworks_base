{
  super(context,attrs,defStyle);
  LayoutInflater inflater=(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  inflater.inflate(R.layout.date_picker,this,true);
  OnChangeListener onChangeListener=new OnChangeListener(){
    public void onChange(    NumberPicker picker,    int oldVal,    int newVal){
      notifyDateChanged();
      updateMiniMonth();
    }
  }
;
  mDayPicker=(NumberPicker)findViewById(R.id.day);
  mDayPicker.setFormatter(NumberPicker.TWO_DIGIT_FORMATTER);
  mDayPicker.setOnLongPressUpdateInterval(100);
  mDayPicker.setOnChangeListener(onChangeListener);
  mMonthPicker=(NumberPicker)findViewById(R.id.month);
  mMonthPicker.setRange(0,mNumberOfMonths - 1,getShortMonths());
  mMonthPicker.setOnLongPressUpdateInterval(200);
  mMonthPicker.setOnChangeListener(onChangeListener);
  mYearPicker=(NumberPicker)findViewById(R.id.year);
  mYearPicker.setOnLongPressUpdateInterval(100);
  mYearPicker.setOnChangeListener(onChangeListener);
  TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.DatePicker);
  int mStartYear=a.getInt(R.styleable.DatePicker_startYear,DEFAULT_START_YEAR);
  int mEndYear=a.getInt(R.styleable.DatePicker_endYear,DEFAULT_END_YEAR);
  mYearPicker.setRange(mStartYear,mEndYear);
  a.recycle();
  mMiniMonthDayPicker=(DayPicker)findViewById(R.id.mini_month_day_picker);
  mTempCalendar.clear();
  mTempCalendar.set(mStartYear,0,1);
  Calendar endRangeDate=(Calendar)mTempCalendar.clone();
  endRangeDate.set(mEndYear,11,31);
  mMiniMonthDayPicker.setRange(mTempCalendar,endRangeDate);
  mMiniMonthDayPicker.setOnDateChangeListener(new DayPicker.OnSelectedDayChangeListener(){
    public void onSelectedDayChange(    DayPicker view,    int year,    int month,    int monthDay){
      updateDate(year,month,monthDay);
    }
  }
);
  mTempCalendar.setTimeInMillis(System.currentTimeMillis());
  init(mTempCalendar.get(Calendar.YEAR),mTempCalendar.get(Calendar.MONTH),mTempCalendar.get(Calendar.DAY_OF_MONTH),null);
  reorderPickers();
}
