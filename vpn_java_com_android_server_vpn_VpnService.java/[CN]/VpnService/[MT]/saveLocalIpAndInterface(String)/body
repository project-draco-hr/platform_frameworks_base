{
  DatagramSocket s=new DatagramSocket();
  int port=80;
  s.connect(InetAddress.getByName(serverIp),port);
  InetAddress localIp=s.getLocalAddress();
  mLocalIp=localIp.getHostAddress();
  NetworkInterface localIf=NetworkInterface.getByInetAddress(localIp);
  mLocalIf=(localIf == null) ? null : localIf.getName();
  if (TextUtils.isEmpty(mLocalIf)) {
    throw new IOException("Local interface is empty!");
  }
  if (DBG) {
    Log.d(TAG,"  Local IP: " + mLocalIp + ", if: "+ mLocalIf);
  }
}
