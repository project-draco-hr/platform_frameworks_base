{
  if (VERBOSE) {
    Log.v(TAG,"marshal " + value);
  }
  Parcel parcel=Parcel.obtain();
  byte[] parcelContents;
  try {
    value.writeToParcel(parcel,0);
    if (parcel.hasFileDescriptors()) {
      throw new UnsupportedOperationException("Parcelable " + value + " must not have file descriptors");
    }
    parcelContents=parcel.marshall();
  }
  finally {
    parcel.recycle();
  }
  if (parcelContents.length == 0) {
    throw new AssertionError("No data marshaled for " + value);
  }
  buffer.put(parcelContents);
}
