{
  super.onResume();
  mDeviceID=getIntent().getIntExtra("device",0);
  mStorageID=getIntent().getIntExtra("storage",0);
  mObjectID=getIntent().getIntExtra("object",0);
  if (mDeviceID != 0 && mStorageID != 0) {
    Cursor c;
    Uri uri;
    if (mObjectID == 0) {
      uri=Mtp.Object.getContentUriForStorageChildren(mDeviceID,mStorageID);
    }
 else {
      uri=Mtp.Object.getContentUriForObjectChildren(mDeviceID,mObjectID);
    }
    Log.d(TAG,"query " + uri);
    c=getContentResolver().query(uri,OBJECT_COLUMNS,null,null,null);
    startManagingCursor(c);
    mCursor=c;
    mAdapter=new ObjectCursorAdapter(this,c);
    setListAdapter(mAdapter);
  }
}
