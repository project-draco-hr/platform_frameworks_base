{
  Transaction transaction=mTransactionPool;
  if (transaction != null) {
    mTransactionPool=transaction.mParent;
    transaction.mParent=null;
    transaction.mMarkedSuccessful=false;
    transaction.mChildFailed=false;
  }
 else {
    transaction=new Transaction();
  }
  transaction.mMode=mode;
  transaction.mListener=listener;
  return transaction;
}
