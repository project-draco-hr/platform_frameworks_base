{
  final Rect bounds=getBounds();
  if (bounds.isEmpty())   return;
  if (mNinePatchState != null) {
    NinePatch.InsetStruct insets=mNinePatchState.mNinePatch.getBitmap().getNinePatchInsets();
    if (insets != null) {
      final Rect outlineInsets=insets.outlineRect;
      outline.setRoundRect(bounds.left + outlineInsets.left,bounds.top + outlineInsets.top,bounds.right - outlineInsets.right,bounds.bottom - outlineInsets.bottom,insets.outlineRadius);
      outline.setAlpha(insets.outlineAlpha * (getAlpha() / 255.0f));
      return;
    }
  }
  super.getOutline(outline);
}
