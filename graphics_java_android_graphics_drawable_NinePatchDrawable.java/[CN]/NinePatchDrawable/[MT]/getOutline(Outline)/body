{
  final Rect bounds=getBounds();
  if (bounds.isEmpty())   return false;
  if (mNinePatchState != null) {
    NinePatch.InsetStruct insets=mNinePatchState.getBitmap().getNinePatchInsets();
    if (insets != null) {
      final Rect outlineInsets=insets.outlineRect;
      outline.setRoundRect(bounds.left + outlineInsets.left,bounds.top + outlineInsets.top,bounds.right - outlineInsets.right,bounds.bottom - outlineInsets.bottom,insets.outlineRadius);
      outline.setFilled(insets.outlineFilled);
      return true;
    }
  }
  return super.getOutline(outline);
}
