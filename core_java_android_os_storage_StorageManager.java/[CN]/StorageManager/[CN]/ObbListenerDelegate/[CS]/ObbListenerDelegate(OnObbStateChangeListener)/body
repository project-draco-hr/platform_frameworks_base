{
  nonce=getNextNonce();
  mObbEventListenerRef=new WeakReference<OnObbStateChangeListener>(listener);
  mHandler=new Handler(mLooper){
    @Override public void handleMessage(    Message msg){
      final OnObbStateChangeListener changeListener=getListener();
      if (changeListener == null) {
        return;
      }
      changeListener.onObbStateChange((String)msg.obj,msg.arg1);
    }
  }
;
}
