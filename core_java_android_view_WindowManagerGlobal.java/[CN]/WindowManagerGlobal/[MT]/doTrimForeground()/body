{
  boolean hasVisibleWindows=false;
synchronized (mLock) {
    for (int i=mRoots.size() - 1; i >= 0; --i) {
      if (mRoots.get(i).getHostVisibility() == View.VISIBLE && mRoots.get(i).mAttachInfo.mHardwareRenderer != null) {
        hasVisibleWindows=true;
      }
 else {
        mRoots.get(i).destroyHardwareResources();
      }
    }
  }
  if (!hasVisibleWindows) {
    HardwareRenderer.trimMemory(ComponentCallbacks2.TRIM_MEMORY_COMPLETE);
  }
}
