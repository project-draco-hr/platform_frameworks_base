{
synchronized (mLocks) {
    boolean wasPowered=mIsPowered;
    mIsPowered=mBatteryService.isPowered();
    if (mIsPowered != wasPowered) {
      updateWakeLockLocked();
synchronized (mLocks) {
        forceUserActivityLocked();
      }
    }
  }
}
