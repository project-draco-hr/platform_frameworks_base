{
  if (!animating)   return false;
  if (false && mSpew) {
    Log.i(TAG,"Step target " + mask + ": cur="+ curValue+ " target="+ targetValue+ " delta="+ delta);
  }
  curValue+=delta;
  int curIntValue=(int)curValue;
  boolean more=true;
  if (delta == 0) {
    curValue=curIntValue=targetValue;
    more=false;
  }
 else   if (delta > 0) {
    if (curIntValue >= targetValue) {
      curValue=curIntValue=targetValue;
      more=false;
    }
  }
 else {
    if (curIntValue <= targetValue) {
      curValue=curIntValue=targetValue;
      more=false;
    }
  }
  setLightBrightness(mask,curIntValue);
  animating=more;
  if (!more) {
    if (mask == SCREEN_BRIGHT_BIT && curIntValue == Power.BRIGHTNESS_OFF) {
      screenOffFinishedAnimatingLocked(mScreenOffReason);
    }
  }
  return more;
}
