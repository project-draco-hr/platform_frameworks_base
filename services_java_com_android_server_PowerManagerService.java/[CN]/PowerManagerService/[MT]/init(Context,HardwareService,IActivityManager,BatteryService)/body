{
  mHardware=hardware;
  mContext=context;
  mActivityService=activity;
  mBatteryStats=BatteryStatsService.getService();
  mBatteryService=battery;
  mHandlerThread=new HandlerThread("PowerManagerService"){
    @Override protected void onLooperPrepared(){
      super.onLooperPrepared();
      initInThread();
    }
  }
;
  mHandlerThread.start();
synchronized (mHandlerThread) {
    while (!mInitComplete) {
      try {
        mHandlerThread.wait();
      }
 catch (      InterruptedException e) {
      }
    }
  }
}
