{
  if (mDebugLightSensor) {
    Slog.d(TAG,"enableLightSensorLocked enable=" + enable + " mAutoBrightessEnabled="+ mAutoBrightessEnabled);
  }
  if (!mAutoBrightessEnabled) {
    enable=false;
  }
  if (mSensorManager != null && mLightSensorEnabled != enable) {
    mLightSensorEnabled=enable;
    mHighestLightSensorValue=-1;
    mLightSensorValue=-1;
    long identity=Binder.clearCallingIdentity();
    try {
      if (enable) {
        mSensorManager.registerListener(mLightListener,mLightSensor,LIGHT_SENSOR_RATE);
      }
 else {
        mSensorManager.unregisterListener(mLightListener);
        mHandler.removeCallbacks(mAutoBrightnessTask);
      }
    }
  finally {
      Binder.restoreCallingIdentity(identity);
    }
  }
}
