{
  final int stayOnConditions=getStayOnConditionsLocked();
  if (stayOnConditions != 0 && mBatteryService.isPowered(stayOnConditions)) {
    mStayOnWhilePluggedInScreenDimLock.acquire();
    mStayOnWhilePluggedInPartialLock.acquire();
  }
 else {
    mStayOnWhilePluggedInScreenDimLock.release();
    mStayOnWhilePluggedInPartialLock.release();
  }
}
