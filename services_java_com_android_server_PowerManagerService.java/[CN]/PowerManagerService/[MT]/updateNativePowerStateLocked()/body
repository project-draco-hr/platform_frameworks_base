{
  if ((mPowerState & SCREEN_ON_BIT) != 0) {
    if (mPreparingForScreenOn) {
      return;
    }
    for (int i=0; i < mBroadcastQueue.length; i++) {
      if (mBroadcastQueue[i] == 1) {
        return;
      }
    }
  }
  if (!mHeadless) {
    nativeSetPowerState((mPowerState & SCREEN_ON_BIT) != 0,(mPowerState & SCREEN_BRIGHT) == SCREEN_BRIGHT);
  }
}
