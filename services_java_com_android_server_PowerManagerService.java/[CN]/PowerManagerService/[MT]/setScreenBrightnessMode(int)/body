{
  boolean enabled=(mode == SCREEN_BRIGHTNESS_MODE_AUTOMATIC);
  if (mAutoBrightessEnabled != enabled) {
    mAutoBrightessEnabled=enabled;
    if (mUseHardwareAutoBrightness) {
      mHardware.setAutoBrightness_UNCHECKED(enabled);
      if (screenIsOn()) {
        setBacklightBrightness((int)mScreenBrightness.curValue);
      }
    }
 else     if (mUseSoftwareAutoBrightness) {
      mLightSensorValue=-1;
      mLightSensorBrightness=-1;
      enableLightSensor(screenIsOn() && enabled);
    }
  }
}
