{
  int oldVersion=mDatabase.getVersion();
  if (oldVersion >= 10) {
    return;
  }
  if (oldVersion != 0) {
    Log.i(LOGTAG,"Upgrading database from version " + oldVersion + " to "+ DATABASE_VERSION+ ", which will destroy old data");
  }
  if (9 == oldVersion) {
    mDatabase.execSQL("DROP TABLE IF EXISTS " + mTableNames[TABLE_HTTPAUTH_ID]);
    mDatabase.execSQL("CREATE TABLE " + mTableNames[TABLE_HTTPAUTH_ID] + " ("+ ID_COL+ " INTEGER PRIMARY KEY, "+ HTTPAUTH_HOST_COL+ " TEXT, "+ HTTPAUTH_REALM_COL+ " TEXT, "+ HTTPAUTH_USERNAME_COL+ " TEXT, "+ HTTPAUTH_PASSWORD_COL+ " TEXT,"+ " UNIQUE ("+ HTTPAUTH_HOST_COL+ ", "+ HTTPAUTH_REALM_COL+ ") ON CONFLICT REPLACE);");
    return;
  }
  mDatabase.execSQL("DROP TABLE IF EXISTS " + mTableNames[TABLE_COOKIES_ID]);
  mDatabase.execSQL("DROP TABLE IF EXISTS cache");
  mDatabase.execSQL("DROP TABLE IF EXISTS " + mTableNames[TABLE_FORMURL_ID]);
  mDatabase.execSQL("DROP TABLE IF EXISTS " + mTableNames[TABLE_FORMDATA_ID]);
  mDatabase.execSQL("DROP TABLE IF EXISTS " + mTableNames[TABLE_HTTPAUTH_ID]);
  mDatabase.execSQL("DROP TABLE IF EXISTS " + mTableNames[TABLE_PASSWORD_ID]);
  mDatabase.execSQL("CREATE TABLE " + mTableNames[TABLE_COOKIES_ID] + " ("+ ID_COL+ " INTEGER PRIMARY KEY, "+ COOKIES_NAME_COL+ " TEXT, "+ COOKIES_VALUE_COL+ " TEXT, "+ COOKIES_DOMAIN_COL+ " TEXT, "+ COOKIES_PATH_COL+ " TEXT, "+ COOKIES_EXPIRES_COL+ " INTEGER, "+ COOKIES_SECURE_COL+ " INTEGER"+ ");");
  mDatabase.execSQL("CREATE INDEX cookiesIndex ON " + mTableNames[TABLE_COOKIES_ID] + " (path)");
  mDatabase.execSQL("CREATE TABLE " + mTableNames[TABLE_FORMURL_ID] + " ("+ ID_COL+ " INTEGER PRIMARY KEY, "+ FORMURL_URL_COL+ " TEXT"+ ");");
  mDatabase.execSQL("CREATE TABLE " + mTableNames[TABLE_FORMDATA_ID] + " ("+ ID_COL+ " INTEGER PRIMARY KEY, "+ FORMDATA_URLID_COL+ " INTEGER, "+ FORMDATA_NAME_COL+ " TEXT, "+ FORMDATA_VALUE_COL+ " TEXT,"+ " UNIQUE ("+ FORMDATA_URLID_COL+ ", "+ FORMDATA_NAME_COL+ ", "+ FORMDATA_VALUE_COL+ ") ON CONFLICT IGNORE);");
  mDatabase.execSQL("CREATE TABLE " + mTableNames[TABLE_HTTPAUTH_ID] + " ("+ ID_COL+ " INTEGER PRIMARY KEY, "+ HTTPAUTH_HOST_COL+ " TEXT, "+ HTTPAUTH_REALM_COL+ " TEXT, "+ HTTPAUTH_USERNAME_COL+ " TEXT, "+ HTTPAUTH_PASSWORD_COL+ " TEXT,"+ " UNIQUE ("+ HTTPAUTH_HOST_COL+ ", "+ HTTPAUTH_REALM_COL+ ") ON CONFLICT REPLACE);");
  mDatabase.execSQL("CREATE TABLE " + mTableNames[TABLE_PASSWORD_ID] + " ("+ ID_COL+ " INTEGER PRIMARY KEY, "+ PASSWORD_HOST_COL+ " TEXT, "+ PASSWORD_USERNAME_COL+ " TEXT, "+ PASSWORD_PASSWORD_COL+ " TEXT,"+ " UNIQUE ("+ PASSWORD_HOST_COL+ ", "+ PASSWORD_USERNAME_COL+ ") ON CONFLICT REPLACE);");
}
