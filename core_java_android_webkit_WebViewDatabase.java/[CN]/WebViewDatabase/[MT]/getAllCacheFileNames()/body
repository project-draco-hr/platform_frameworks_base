{
  ArrayList<String> pathList=null;
  Cursor cursor=null;
  try {
    cursor=mCacheDatabase.rawQuery("SELECT filepath FROM cache",null);
    if (cursor != null && cursor.moveToFirst()) {
      pathList=new ArrayList<String>(cursor.getCount());
      do {
        pathList.add(cursor.getString(0));
      }
 while (cursor.moveToNext());
    }
  }
 catch (  IllegalStateException e) {
    Log.e(LOGTAG,"getAllCacheFileNames",e);
  }
 finally {
    if (cursor != null)     cursor.close();
  }
  return pathList;
}
