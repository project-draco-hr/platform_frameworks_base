{
  if (DEBUG)   Log.d(TAG,"resizePinnedStack() state=" + state);
  mState=state;
  Rect bounds;
  for (int i=mListeners.size() - 1; i >= 0; --i) {
    mListeners.get(i).onPipResizeAboutToStart();
  }
switch (mState) {
case STATE_PIP_MENU:
    bounds=mMenuModePipBound;
  break;
case STATE_NO_PIP:
bounds=null;
break;
default :
bounds=mPipBound;
break;
}
if (mSuspendPipResizingReason != 0) {
if (DEBUG) Log.d(TAG,"resizePinnedStack() deferring mSuspendPipResizingReason=" + mSuspendPipResizingReason);
return;
}
try {
mActivityManager.resizeStack(PINNED_STACK_ID,bounds,true,true,true);
}
 catch (RemoteException e) {
Log.e(TAG,"showPipMenu failed",e);
}
}
