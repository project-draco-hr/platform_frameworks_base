{
  if (mPipMediaController == null || mPipMediaController.getPlaybackState() == null) {
    return PLAYBACK_STATE_UNAVAILABLE;
  }
  int state=mPipMediaController.getPlaybackState().getState();
  boolean isPlaying=(state == PlaybackState.STATE_BUFFERING || state == PlaybackState.STATE_CONNECTING || state == PlaybackState.STATE_PLAYING || state == PlaybackState.STATE_FAST_FORWARDING || state == PlaybackState.STATE_REWINDING || state == PlaybackState.STATE_SKIPPING_TO_PREVIOUS || state == PlaybackState.STATE_SKIPPING_TO_NEXT);
  long actions=mPipMediaController.getPlaybackState().getActions();
  if (!isPlaying && ((actions & PlaybackState.ACTION_PLAY) != 0)) {
    return PLAYBACK_STATE_PAUSED;
  }
 else   if (isPlaying && ((actions & PlaybackState.ACTION_PAUSE) != 0)) {
    return PLAYBACK_STATE_PLAYING;
  }
  return PLAYBACK_STATE_UNAVAILABLE;
}
