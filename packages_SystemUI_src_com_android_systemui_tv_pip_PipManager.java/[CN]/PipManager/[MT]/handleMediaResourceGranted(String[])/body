{
  if (mState == STATE_NO_PIP) {
    mLastPackagesResourceGranted=packageNames;
  }
 else {
    boolean requestedFromLastPackages=false;
    if (mLastPackagesResourceGranted != null) {
      for (      String packageName : mLastPackagesResourceGranted) {
        for (        String newPackageName : packageNames) {
          if (TextUtils.equals(newPackageName,packageName)) {
            requestedFromLastPackages=true;
            break;
          }
        }
      }
    }
    mLastPackagesResourceGranted=packageNames;
    if (!requestedFromLastPackages) {
      closePip();
    }
  }
}
