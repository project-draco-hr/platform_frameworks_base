{
  Context context=getContext();
  View contentView=null;
  Exception exception=null;
  try {
    if (remoteViews == null) {
      Context theirContext=context.createPackageContext(mInfo.provider.getPackageName(),0);
      LayoutInflater inflater=(LayoutInflater)theirContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
      inflater=inflater.cloneInContext(theirContext);
      inflater.setFilter(sInflaterFilter);
      contentView=inflater.inflate(mInfo.initialLayout,this,false);
    }
 else {
      contentView=remoteViews.apply(mContext,this);
    }
  }
 catch (  PackageManager.NameNotFoundException e) {
    exception=e;
  }
catch (  RuntimeException e) {
    exception=e;
  }
  if (contentView == null) {
    Log.w(TAG,"Error inflating gadget " + mInfo,exception);
    TextView tv=new TextView(context);
    tv.setText("Error inflating gadget");
    contentView=tv;
  }
  FrameLayout.LayoutParams lp=new FrameLayout.LayoutParams(FrameLayout.LayoutParams.WRAP_CONTENT,FrameLayout.LayoutParams.WRAP_CONTENT);
  mContentView=contentView;
  this.addView(contentView,lp);
}
