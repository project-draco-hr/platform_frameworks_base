{
  super(context,attrs);
  mActivityManager=(ActivityManager)context.getSystemService(Context.ACTIVITY_SERVICE);
  mPackageManager=getContext().getPackageManager();
  Handler handler=new Handler();
  mTaskStackListener=new TaskStackListenerImpl(handler);
  IActivityManager iam=ActivityManagerNative.getDefault();
  try {
    iam.registerTaskStackListener(mTaskStackListener);
  }
 catch (  RemoteException e) {
    e.printStackTrace();
  }
}
