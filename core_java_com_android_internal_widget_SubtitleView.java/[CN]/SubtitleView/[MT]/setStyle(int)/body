{
  final Context context=mContext;
  final ContentResolver cr=context.getContentResolver();
  final CaptionStyle style;
  if (styleId == CaptionStyle.PRESET_CUSTOM) {
    style=CaptionStyle.getCustomStyle(cr);
  }
 else {
    style=CaptionStyle.PRESETS[styleId];
  }
  final CaptionStyle defStyle=CaptionStyle.DEFAULT;
  mForegroundColor=style.hasForegroundColor() ? style.foregroundColor : defStyle.foregroundColor;
  mBackgroundColor=style.hasBackgroundColor() ? style.backgroundColor : defStyle.backgroundColor;
  mEdgeType=style.hasEdgeType() ? style.edgeType : defStyle.edgeType;
  mEdgeColor=style.hasEdgeColor() ? style.edgeColor : defStyle.edgeColor;
  mHasMeasurements=false;
  final Typeface typeface=style.getTypeface();
  setTypeface(typeface);
  requestLayout();
}
