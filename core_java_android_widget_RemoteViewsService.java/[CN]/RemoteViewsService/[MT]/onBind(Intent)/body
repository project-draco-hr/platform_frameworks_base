{
synchronized (mLock) {
    Intent.FilterComparison fc=new Intent.FilterComparison(intent);
    RemoteViewsFactory factory=null;
    boolean isCreated=false;
    if (!mRemoteViewFactories.containsKey(fc)) {
      factory=onGetViewFactory(intent);
      mRemoteViewFactories.put(fc,factory);
      factory.onCreate();
      isCreated=false;
    }
 else {
      factory=mRemoteViewFactories.get(fc);
      isCreated=true;
    }
    return new RemoteViewsFactoryAdapter(factory,isCreated);
  }
}
