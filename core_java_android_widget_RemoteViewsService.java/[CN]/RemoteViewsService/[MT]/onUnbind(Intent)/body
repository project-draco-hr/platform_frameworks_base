{
synchronized (mLock) {
    Intent.FilterComparison fc=new Intent.FilterComparison(intent);
    if (mRemoteViewFactories.containsKey(fc)) {
      Pair<RemoteViewsFactory,Integer> oldFactoryRef=mRemoteViewFactories.get(fc);
      int newRefCount=oldFactoryRef.second.intValue() - 1;
      if (newRefCount <= 0) {
        oldFactoryRef.first.onDestroy();
        mRemoteViewFactories.remove(fc);
      }
 else {
        Pair<RemoteViewsFactory,Integer> factoryRef=new Pair<RemoteViewsFactory,Integer>(oldFactoryRef.first,newRefCount);
        mRemoteViewFactories.put(fc,factoryRef);
      }
    }
  }
  return super.onUnbind(intent);
}
