{
  if (DBG)   Log.d(TAG,"checkPermissions");
  if (checkCallingOrSelfPermission(android.Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {
    return true;
  }
  try {
    Log.e(TAG,"Recognition service called without RECORD_AUDIO permissions");
    listener.onHotwordError(HotwordRecognizer.ERROR_INSUFFICIENT_PERMISSIONS);
  }
 catch (  RemoteException e) {
    Log.e(TAG,"onHotwordError(ERROR_INSUFFICIENT_PERMISSIONS) message failed",e);
  }
  return false;
}
