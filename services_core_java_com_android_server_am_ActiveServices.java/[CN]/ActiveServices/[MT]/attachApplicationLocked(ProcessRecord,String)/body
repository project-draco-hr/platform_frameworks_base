{
  boolean didSomething=false;
  if (mPendingServices.size() > 0) {
    ServiceRecord sr=null;
    try {
      for (int i=0; i < mPendingServices.size(); i++) {
        sr=mPendingServices.get(i);
        if (proc != sr.isolatedProc && (proc.uid != sr.appInfo.uid || !processName.equals(sr.processName))) {
          continue;
        }
        mPendingServices.remove(i);
        i--;
        proc.addPackage(sr.appInfo.packageName,sr.appInfo.versionCode,mAm.mProcessStats);
        realStartServiceLocked(sr,proc,sr.createdFromFg);
        didSomething=true;
        if (!isServiceNeeded(sr,false,false)) {
          bringDownServiceLocked(sr);
        }
      }
    }
 catch (    RemoteException e) {
      Slog.w(TAG,"Exception in new application when starting service " + sr.shortName,e);
      throw e;
    }
  }
  if (mRestartingServices.size() > 0) {
    ServiceRecord sr;
    for (int i=0; i < mRestartingServices.size(); i++) {
      sr=mRestartingServices.get(i);
      if (proc != sr.isolatedProc && (proc.uid != sr.appInfo.uid || !processName.equals(sr.processName))) {
        continue;
      }
      mAm.mHandler.removeCallbacks(sr.restarter);
      mAm.mHandler.post(sr.restarter);
    }
  }
  return didSomething;
}
