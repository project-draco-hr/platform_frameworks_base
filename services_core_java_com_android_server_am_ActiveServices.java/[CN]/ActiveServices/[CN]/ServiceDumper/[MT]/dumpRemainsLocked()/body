{
  if (mPendingServices.size() > 0) {
    printed=false;
    for (int i=0; i < mPendingServices.size(); i++) {
      ServiceRecord r=mPendingServices.get(i);
      if (!matcher.match(r,r.name)) {
        continue;
      }
      if (dumpPackage != null && !dumpPackage.equals(r.appInfo.packageName)) {
        continue;
      }
      printedAnything=true;
      if (!printed) {
        if (needSep)         pw.println();
        needSep=true;
        pw.println("  Pending services:");
        printed=true;
      }
      pw.print("  * Pending ");
      pw.println(r);
      r.dump(pw,"    ");
    }
    needSep=true;
  }
  if (mRestartingServices.size() > 0) {
    printed=false;
    for (int i=0; i < mRestartingServices.size(); i++) {
      ServiceRecord r=mRestartingServices.get(i);
      if (!matcher.match(r,r.name)) {
        continue;
      }
      if (dumpPackage != null && !dumpPackage.equals(r.appInfo.packageName)) {
        continue;
      }
      printedAnything=true;
      if (!printed) {
        if (needSep)         pw.println();
        needSep=true;
        pw.println("  Restarting services:");
        printed=true;
      }
      pw.print("  * Restarting ");
      pw.println(r);
      r.dump(pw,"    ");
    }
    needSep=true;
  }
  if (mDestroyingServices.size() > 0) {
    printed=false;
    for (int i=0; i < mDestroyingServices.size(); i++) {
      ServiceRecord r=mDestroyingServices.get(i);
      if (!matcher.match(r,r.name)) {
        continue;
      }
      if (dumpPackage != null && !dumpPackage.equals(r.appInfo.packageName)) {
        continue;
      }
      printedAnything=true;
      if (!printed) {
        if (needSep)         pw.println();
        needSep=true;
        pw.println("  Destroying services:");
        printed=true;
      }
      pw.print("  * Destroy ");
      pw.println(r);
      r.dump(pw,"    ");
    }
    needSep=true;
  }
  if (dumpAll) {
    printed=false;
    for (int ic=0; ic < mServiceConnections.size(); ic++) {
      ArrayList<ConnectionRecord> r=mServiceConnections.valueAt(ic);
      for (int i=0; i < r.size(); i++) {
        ConnectionRecord cr=r.get(i);
        if (!matcher.match(cr.binding.service,cr.binding.service.name)) {
          continue;
        }
        if (dumpPackage != null && (cr.binding.client == null || !dumpPackage.equals(cr.binding.client.info.packageName))) {
          continue;
        }
        printedAnything=true;
        if (!printed) {
          if (needSep)           pw.println();
          needSep=true;
          pw.println("  Connection bindings to services:");
          printed=true;
        }
        pw.print("  * ");
        pw.println(cr);
        cr.dump(pw,"    ");
      }
    }
  }
  if (!printedAnything) {
    pw.println("  (nothing)");
  }
}
