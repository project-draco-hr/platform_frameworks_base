{
  dumpHeaderLocked();
  try {
    int[] users=mAm.mUserController.getUsers();
    for (    int user : users) {
      int serviceIdx=0;
      while (serviceIdx < services.size() && services.get(serviceIdx).userId != user) {
        serviceIdx++;
      }
      printed=false;
      if (serviceIdx < services.size()) {
        needSep=false;
        while (serviceIdx < services.size()) {
          ServiceRecord r=services.get(serviceIdx);
          serviceIdx++;
          if (r.userId != user) {
            break;
          }
          dumpServiceLocalLocked(r);
        }
        needSep|=printed;
      }
      dumpUserRemainsLocked(user);
    }
  }
 catch (  Exception e) {
    Slog.w(TAG,"Exception in dumpServicesLocked",e);
  }
  dumpRemainsLocked();
}
