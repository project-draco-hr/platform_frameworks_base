{
  Element.Builder b=new Element.Builder(mRS);
  int floatCount=mVtxSize;
  b.add(Element.createAttrib(mRS,Element.DataType.FLOAT_32,Element.DataKind.POSITION,mVtxSize),"position");
  if ((mFlags & COLOR) != 0) {
    floatCount+=4;
    b.add(Element.createAttrib(mRS,Element.DataType.FLOAT_32,Element.DataKind.COLOR,4),"color");
  }
  if ((mFlags & TEXTURE_0) != 0) {
    floatCount+=2;
    b.add(Element.createAttrib(mRS,Element.DataType.FLOAT_32,Element.DataKind.TEXTURE,2),"texture");
  }
  if ((mFlags & NORMAL) != 0) {
    floatCount+=3;
    b.add(Element.createAttrib(mRS,Element.DataType.FLOAT_32,Element.DataKind.NORMAL,3),"normal");
  }
  mElement=b.create();
  android.util.Log.e("rs","sm create  size=" + (mVtxCount / floatCount) + ", count="+ mVtxCount);
  Builder smb=new Builder(mRS);
  smb.addVertexType(mElement,mVtxCount / floatCount);
  smb.setIndexType(Element.createIndex(mRS),mIndexCount);
  smb.setPrimitive(Primitive.TRIANGLE);
  SimpleMesh sm=smb.create();
  Allocation vertexAlloc=sm.createVertexAllocation(0);
  Allocation indexAlloc=sm.createIndexAllocation();
  sm.bindVertexAllocation(vertexAlloc,0);
  sm.bindIndexAllocation(indexAlloc);
  vertexAlloc.data(mVtxData);
  vertexAlloc.uploadToBufferObject();
  indexAlloc.data(mIndexData);
  indexAlloc.uploadToBufferObject();
  return sm;
}
