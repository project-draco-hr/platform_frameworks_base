{
  closeSocket();
  ZygoteInit.closeServerSocket();
  if (descriptors != null) {
    try {
      Os.dup2(descriptors[0],STDIN_FILENO);
      Os.dup2(descriptors[1],STDOUT_FILENO);
      Os.dup2(descriptors[2],STDERR_FILENO);
      for (      FileDescriptor fd : descriptors) {
        IoUtils.closeQuietly(fd);
      }
      newStderr=System.err;
    }
 catch (    ErrnoException ex) {
      Log.e(TAG,"Error reopening stdio",ex);
    }
  }
  if (parsedArgs.niceName != null) {
    Process.setArgV0(parsedArgs.niceName);
  }
  if (parsedArgs.runtimeInit) {
    if (parsedArgs.invokeWith != null) {
      WrapperInit.execApplication(parsedArgs.invokeWith,parsedArgs.niceName,parsedArgs.targetSdkVersion,pipeFd,parsedArgs.remainingArgs);
    }
 else {
      RuntimeInit.zygoteInit(parsedArgs.targetSdkVersion,parsedArgs.remainingArgs,null);
    }
  }
 else {
    String className;
    try {
      className=parsedArgs.remainingArgs[0];
    }
 catch (    ArrayIndexOutOfBoundsException ex) {
      logAndPrintError(newStderr,"Missing required class name argument",null);
      return;
    }
    String[] mainArgs=new String[parsedArgs.remainingArgs.length - 1];
    System.arraycopy(parsedArgs.remainingArgs,1,mainArgs,0,mainArgs.length);
    if (parsedArgs.invokeWith != null) {
      WrapperInit.execStandalone(parsedArgs.invokeWith,parsedArgs.classpath,className,mainArgs);
    }
 else {
      ClassLoader cloader;
      if (parsedArgs.classpath != null) {
        cloader=new PathClassLoader(parsedArgs.classpath,ClassLoader.getSystemClassLoader());
      }
 else {
        cloader=ClassLoader.getSystemClassLoader();
      }
      try {
        ZygoteInit.invokeStaticMain(cloader,className,mainArgs);
      }
 catch (      RuntimeException ex) {
        logAndPrintError(newStderr,"Error starting.",ex);
      }
    }
  }
}
