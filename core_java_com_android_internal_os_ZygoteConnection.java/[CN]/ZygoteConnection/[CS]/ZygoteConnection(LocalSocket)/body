{
  mSocket=socket;
  mSocketOutStream=new DataOutputStream(socket.getOutputStream());
  mSocketReader=new BufferedReader(new InputStreamReader(socket.getInputStream()),256);
  mSocket.setSoTimeout(CONNECTION_TIMEOUT_MILLIS);
  try {
    peer=mSocket.getPeerCredentials();
  }
 catch (  IOException ex) {
    Log.e(TAG,"Cannot read peer credentials",ex);
    throw ex;
  }
}
