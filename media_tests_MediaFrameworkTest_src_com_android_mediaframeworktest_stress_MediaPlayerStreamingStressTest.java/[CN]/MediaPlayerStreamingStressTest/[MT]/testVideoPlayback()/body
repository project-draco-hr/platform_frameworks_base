{
  String fileWithError="Filename:\n";
  File playbackOutput=new File(Environment.getExternalStorageDirectory(),PLAYBACK_RESULT);
  Writer output=new BufferedWriter(new FileWriter(playbackOutput,true));
  boolean testResult=true;
  boolean onCompleteSuccess=false;
  Log.i(TAG,"Streaming src file: " + mStreamingSrc);
  File f=new File(mStreamingSrc);
  BufferedReader br=new BufferedReader(new FileReader(f));
  List<String> urls=new ArrayList<String>();
  String line;
  while ((line=br.readLine()) != null) {
    urls.add(line.trim());
  }
  br.close();
  if (urls == null) {
    Log.v("MediaPlayerStreamingTest:testVideoPlayback","no url found");
    return;
  }
 else {
    for (int i=0; i < urls.size(); i++) {
      String filename=urls.get(i);
      onCompleteSuccess=CodecTest.playMediaSamples(filename,60000);
      if (!onCompleteSuccess) {
        fileWithError+=filename + '\n';
        Log.v(TAG,"Failure File : " + fileWithError);
        testResult=false;
      }
      Thread.sleep(3000);
      writeTestOutput(filename,output);
      updateTestResult();
    }
    writeTestSummary(output);
    output.close();
    assertTrue("testMediaSamples",testResult);
  }
}
