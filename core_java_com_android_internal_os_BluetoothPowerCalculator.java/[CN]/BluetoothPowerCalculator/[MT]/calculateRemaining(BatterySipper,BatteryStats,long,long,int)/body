{
  final long idleTimeMs=stats.getBluetoothControllerActivity(BatteryStats.CONTROLLER_IDLE_TIME,statsType);
  final long txTimeMs=stats.getBluetoothControllerActivity(BatteryStats.CONTROLLER_TX_TIME,statsType);
  final long rxTimeMs=stats.getBluetoothControllerActivity(BatteryStats.CONTROLLER_RX_TIME,statsType);
  final long powerMaMs=stats.getBluetoothControllerActivity(BatteryStats.CONTROLLER_POWER_DRAIN,statsType);
  final double powerMah=powerMaMs / (double)(1000 * 60 * 60);
  final long totalTimeMs=idleTimeMs + txTimeMs + rxTimeMs;
  if (DEBUG && powerMah != 0) {
    Log.d(TAG,"Bluetooth active: time=" + (totalTimeMs) + " power="+ BatteryStatsHelper.makemAh(powerMah));
  }
  app.usagePowerMah=powerMah;
  app.usageTimeMs=totalTimeMs;
}
