{
  int oldWidth=getMeasuredWidth();
  int oldHeight=getMeasuredHeight();
  super.onMeasure(widthMeasureSpec,heightMeasureSpec);
  int newWidth=getMeasuredWidth();
  int newHeight=getMeasuredHeight();
  if (oldWidth != newWidth || oldHeight != newHeight) {
    final float density=mContext.getResources().getDisplayMetrics().density;
    final int newWidthDips=(int)(newWidth / density);
    final int newHeightDips=(int)(newHeight / density);
    updateAppWidgetSize(null,newWidthDips,newHeightDips,newWidthDips,newHeightDips);
  }
}
