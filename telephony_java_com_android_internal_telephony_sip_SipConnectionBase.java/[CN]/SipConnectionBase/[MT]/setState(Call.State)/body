{
switch (state) {
case ACTIVE:
    if (connectTime == 0) {
      connectTimeReal=SystemClock.elapsedRealtime();
      connectTime=System.currentTimeMillis();
    }
  break;
case DISCONNECTED:
duration=SystemClock.elapsedRealtime() - connectTimeReal;
disconnectTime=System.currentTimeMillis();
break;
case HOLDING:
holdingStartTime=SystemClock.elapsedRealtime();
break;
}
}
