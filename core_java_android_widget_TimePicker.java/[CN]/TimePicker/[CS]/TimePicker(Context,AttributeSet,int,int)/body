{
  super(context,attrs,defStyleAttr,defStyleRes);
  final TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.TimePicker,defStyleAttr,defStyleRes);
  final int mode=a.getInt(R.styleable.TimePicker_timePickerMode,MODE_SPINNER);
  a.recycle();
switch (mode) {
case MODE_CLOCK:
    mDelegate=new TimePickerClockDelegate(this,context,attrs,defStyleAttr,defStyleRes);
  break;
case MODE_SPINNER:
default :
mDelegate=new TimePickerSpinnerDelegate(this,context,attrs,defStyleAttr,defStyleRes);
break;
}
}
