{
  super(context,attrs,defStyleAttr,defStyleRes);
  mContext=context;
  mAttrs=attrs;
  mDefStyleAttr=defStyleAttr;
  mDefStyleRes=defStyleRes;
  TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.TimePicker,mDefStyleAttr,mDefStyleRes);
  final boolean isLegacyMode=shouldForceLegacyMode() ? true : a.getBoolean(R.styleable.TimePicker_legacyMode,true);
  setLegacyMode(isLegacyMode);
}
