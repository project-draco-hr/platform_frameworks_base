{
  super(context,attrs,defStyleAttr,defStyleRes);
  final TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.TimePicker,defStyleAttr,defStyleRes);
  final boolean legacyMode=a.getBoolean(R.styleable.TimePicker_legacyMode,true);
  a.recycle();
  if (legacyMode) {
    mDelegate=new LegacyTimePickerDelegate(this,context,attrs,defStyleAttr,defStyleRes);
  }
 else {
    mDelegate=new android.widget.TimePickerDelegate(this,context,attrs,defStyleAttr,defStyleRes);
  }
}
