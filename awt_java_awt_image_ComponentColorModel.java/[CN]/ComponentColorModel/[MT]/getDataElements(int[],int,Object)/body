{
  if (donotSupportUnnormalized) {
    throw new IllegalArgumentException(Messages.getString("awt.213"));
  }
  if (offset + numComponents > components.length) {
    throw new IllegalArgumentException(Messages.getString("awt.216"));
  }
switch (transferType) {
case DataBuffer.TYPE_BYTE:
    byte ba[];
  if (obj == null) {
    ba=new byte[numComponents];
  }
 else {
    ba=(byte[])obj;
  }
for (int i=0, idx=offset; i < numComponents; i++, idx++) {
  ba[i]=(byte)components[idx];
}
return ba;
case DataBuffer.TYPE_USHORT:
short sa[];
if (obj == null) {
sa=new short[numComponents];
}
 else {
sa=(short[])obj;
}
for (int i=0, idx=offset; i < numComponents; i++, idx++) {
sa[i]=(short)components[idx];
}
return sa;
case DataBuffer.TYPE_INT:
int ia[];
if (obj == null) {
ia=new int[numComponents];
}
 else {
ia=(int[])obj;
}
for (int i=0, idx=offset; i < numComponents; i++, idx++) {
ia[i]=components[idx];
}
return ia;
default :
throw new UnsupportedOperationException(Messages.getString("awt.217"));
}
}
