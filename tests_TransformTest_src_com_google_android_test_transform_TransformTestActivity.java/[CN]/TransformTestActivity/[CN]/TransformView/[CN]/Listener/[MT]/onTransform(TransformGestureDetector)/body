{
  Log.d("ttest","Translation: (" + detector.getTranslateX() + ", "+ detector.getTranslateY()+ ")");
  float scale=detector.getScaleFactor();
  Log.d("ttest","Scale: " + scale);
  if (mScale * scale > 0.1f) {
    if (mScale * scale < 10.f) {
      mScale*=scale;
    }
 else {
      mScale=10.f;
    }
  }
 else {
    mScale=0.1f;
  }
  mPosX+=detector.getTranslateX();
  mPosY+=detector.getTranslateY();
  Log.d("ttest","mScale: " + mScale + " mPos: ("+ mPosX+ ", "+ mPosY+ ")");
  float sizeX=mDrawable.getIntrinsicWidth() / 2;
  float sizeY=mDrawable.getIntrinsicHeight() / 2;
  float centerX=detector.getCenterX();
  float centerY=detector.getCenterY();
  float diffX=centerX - mPosX;
  float diffY=centerY - mPosY;
  diffX=diffX * scale - diffX;
  diffY=diffY * scale - diffY;
  mPosX-=diffX;
  mPosY-=diffY;
  mMatrix.reset();
  mMatrix.postTranslate(-sizeX,-sizeY);
  mMatrix.postScale(mScale,mScale);
  mMatrix.postTranslate(mPosX,mPosY);
  invalidate();
  return true;
}
