{
  mContext=context;
  mModeSetting=new GlobalSetting(mContext,handler,Global.ZEN_MODE){
    @Override protected void handleValueChanged(    int value){
      fireZenChanged(value);
    }
  }
;
  mConfigSetting=new GlobalSetting(mContext,handler,Global.ZEN_MODE_CONFIG_ETAG){
    @Override protected void handleValueChanged(    int value){
      updateZenModeConfig();
    }
  }
;
  mNoMan=(NotificationManager)context.getSystemService(Context.NOTIFICATION_SERVICE);
  mConfig=mNoMan.getZenModeConfig();
  mModeSetting.setListening(true);
  mConfigSetting.setListening(true);
  mAlarmManager=(AlarmManager)context.getSystemService(Context.ALARM_SERVICE);
  mSetupObserver=new SetupObserver(handler);
  mSetupObserver.register();
}
