{
  mContext=context;
  mModeSetting=new GlobalSetting(mContext,handler,Global.ZEN_MODE){
    @Override protected void handleValueChanged(    int value){
      fireZenChanged(value);
    }
  }
;
  mConfigSetting=new GlobalSetting(mContext,handler,Global.ZEN_MODE_CONFIG_ETAG){
    @Override protected void handleValueChanged(    int value){
      fireExitConditionChanged();
    }
  }
;
  mModeSetting.setListening(true);
  mConfigSetting.setListening(true);
  mNoMan=INotificationManager.Stub.asInterface(ServiceManager.getService(Context.NOTIFICATION_SERVICE));
  mAlarmManager=(AlarmManager)context.getSystemService(Context.ALARM_SERVICE);
  mSetupObserver=new SetupObserver(handler);
  mSetupObserver.register();
}
