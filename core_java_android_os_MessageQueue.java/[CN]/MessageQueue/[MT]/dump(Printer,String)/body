{
synchronized (this) {
    long now=SystemClock.uptimeMillis();
    int n=0;
    for (Message msg=mMessages; msg != null; msg=msg.next) {
      pw.println(prefix + "Message " + n+ ": "+ msg.toString(now));
      n++;
    }
    pw.println(prefix + "(Total messages: " + n+ ", idling="+ isIdlingLocked()+ ", quitting="+ mQuitting+ ")");
  }
}
