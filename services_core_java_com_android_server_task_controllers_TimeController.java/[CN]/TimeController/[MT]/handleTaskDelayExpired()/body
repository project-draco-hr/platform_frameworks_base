{
  final long nowElapsedMillis=SystemClock.elapsedRealtime();
  long nextDelayTime=Long.MAX_VALUE;
  Iterator<TaskStatus> it=mTrackedTasks.iterator();
  while (it.hasNext()) {
    final TaskStatus ts=it.next();
    final long taskDelayTime=ts.getEarliestRunTime();
    if (taskDelayTime < nowElapsedMillis) {
      ts.timeConstraintSatisfied.set(true);
      mStateChangedListener.onTaskStateChanged(ts);
      if (canStopTrackingTask(ts)) {
        it.remove();
      }
    }
 else {
      if (nextDelayTime > taskDelayTime) {
        nextDelayTime=taskDelayTime;
      }
    }
  }
  maybeUpdateAlarms(nextDelayTime,Long.MAX_VALUE);
}
