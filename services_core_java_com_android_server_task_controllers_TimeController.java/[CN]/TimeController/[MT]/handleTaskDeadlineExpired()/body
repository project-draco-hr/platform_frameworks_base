{
  long nextExpiryTime=Long.MAX_VALUE;
  final long nowElapsedMillis=SystemClock.elapsedRealtime();
  Iterator<TaskStatus> it=mTrackedTasks.iterator();
  while (it.hasNext()) {
    TaskStatus ts=it.next();
    final long taskDeadline=ts.getLatestRunTime();
    if (taskDeadline <= nowElapsedMillis) {
      ts.timeConstraintSatisfied.set(true);
      mStateChangedListener.onTaskDeadlineExpired(ts);
      it.remove();
    }
 else {
      nextExpiryTime=taskDeadline;
      break;
    }
  }
  maybeUpdateAlarms(Long.MAX_VALUE,nextExpiryTime);
}
