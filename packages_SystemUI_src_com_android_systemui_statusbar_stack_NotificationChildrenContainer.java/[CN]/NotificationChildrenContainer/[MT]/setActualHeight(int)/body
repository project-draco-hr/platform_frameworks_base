{
  if (!mUserLocked) {
    return;
  }
  mActualHeight=actualHeight;
  float fraction=getGroupExpandFraction();
  int maxAllowedVisibleChildren=getMaxAllowedVisibleChildren(true);
  int childCount=mChildren.size();
  for (int i=0; i < childCount; i++) {
    ExpandableNotificationRow child=mChildren.get(i);
    float childHeight=child.isExpanded(true) ? child.getMaxExpandHeight() : child.getShowingLayout().getMinHeight(true);
    if (i < maxAllowedVisibleChildren) {
      float singleLineHeight=child.getShowingLayout().getMinHeight(false);
      child.setActualHeight((int)NotificationUtils.interpolate(singleLineHeight,childHeight,fraction),false);
    }
 else {
      child.setActualHeight((int)childHeight,false);
    }
  }
}
