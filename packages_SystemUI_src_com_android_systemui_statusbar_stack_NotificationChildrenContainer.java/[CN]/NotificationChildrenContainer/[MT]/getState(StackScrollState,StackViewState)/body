{
  int childCount=mChildren.size();
  int yPosition=mCollapseButtonHeight;
  boolean firstChild=true;
  for (int i=0; i < childCount; i++) {
    ExpandableNotificationRow child=mChildren.get(i);
    if (child.getVisibility() == View.GONE) {
      continue;
    }
    if (!firstChild) {
      yPosition+=mChildPadding;
    }
 else {
      firstChild=false;
    }
    StackViewState childState=resultState.getViewStateForView(child);
    int intrinsicHeight=child.getIntrinsicHeight();
    childState.yTranslation=yPosition;
    childState.zTranslation=0;
    childState.height=intrinsicHeight;
    childState.dimmed=parentState.dimmed;
    childState.dark=parentState.dark;
    childState.hideSensitive=parentState.hideSensitive;
    childState.belowSpeedBump=parentState.belowSpeedBump;
    childState.scale=parentState.scale;
    childState.clipTopAmount=0;
    childState.topOverLap=0;
    childState.location=parentState.location;
    yPosition+=intrinsicHeight;
  }
}
