{
  Layout layout=widget.getLayout();
  int scrolly=widget.getScrollY();
  int scr=widget.getScrollX();
  int em=Math.round(layout.getPaint().getFontSpacing());
  int padding=widget.getTotalPaddingTop() + widget.getTotalPaddingBottom();
  int top=layout.getLineForVertical(scrolly);
  int bottom=layout.getLineForVertical(scrolly + widget.getHeight() - padding);
  int right=0;
  for (int i=top; i <= bottom; i++) {
    right=(int)Math.max(right,layout.getLineRight(i));
  }
  padding=widget.getTotalPaddingLeft() + widget.getTotalPaddingRight();
  if (scr < right - (widget.getWidth() - padding)) {
    int s=Math.min(scr + em,right - (widget.getWidth() - padding));
    widget.scrollTo(s,widget.getScrollY());
    return true;
  }
  return false;
}
