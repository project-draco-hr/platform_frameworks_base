{
  mTile=tile;
  mHost=mTile.getHost();
  mContext=getContext();
  mController=mHost.getZenModeController();
  final ImageView close=(ImageView)findViewById(android.R.id.button1);
  close.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      mTile.showDetail(false);
    }
  }
);
  mSwitch=(Switch)findViewById(android.R.id.checkbox);
  mSwitch.setOnCheckedChangeListener(new OnCheckedChangeListener(){
    @Override public void onCheckedChanged(    CompoundButton buttonView,    boolean isChecked){
      mController.setZen(isChecked);
    }
  }
);
  mSwitch.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      final boolean isChecked=mSwitch.isChecked();
      mController.setZen(isChecked);
      if (!isChecked) {
        mTile.showDetail(false);
      }
    }
  }
);
  final View moreSettings=findViewById(android.R.id.button2);
  moreSettings.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      mHost.startSettingsActivity(ZEN_SETTINGS);
      mTile.showDetail(false);
    }
  }
);
  final ListView conditions=(ListView)findViewById(android.R.id.content);
  mAdapter=new ConditionAdapter(mContext);
  conditions.setAdapter(mAdapter);
  mAdapter.add(updateTimeCondition());
  updateZen(mController.isZen());
}
