{
  final ViewGroup sceneRoot=(ViewGroup)mActivity.findViewById(R.id.container);
  final View view=sceneRoot.findViewById(viewId);
  TransitionLatch latch=new TransitionLatch();
  transition.addListener(latch);
  runTestOnUiThread(new Runnable(){
    @Override public void run(){
      TransitionManager.beginDelayedTransition(sceneRoot,transition);
      view.setVisibility(visibility);
    }
  }
);
  return latch;
}
