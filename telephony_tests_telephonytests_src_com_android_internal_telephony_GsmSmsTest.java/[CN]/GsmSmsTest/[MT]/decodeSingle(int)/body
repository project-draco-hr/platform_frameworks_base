{
  byte[] septets=new byte[(7 * 128 + 7) / 8];
  int bitOffset=0;
  for (int i=0; i < 128; i++) {
    int v;
    if (i == 0x1b) {
      v=0;
    }
 else {
      v=i;
    }
    int byteOffset=bitOffset / 8;
    int shift=bitOffset % 8;
    septets[byteOffset]|=v << shift;
    if (shift > 1) {
      septets[byteOffset + 1]=(byte)(v >> (8 - shift));
    }
    bitOffset+=7;
  }
  String decoded=GsmAlphabet.gsm7BitPackedToString(septets,0,128,0,language,0);
  byte[] reEncoded=GsmAlphabet.stringToGsm7BitPacked(decoded,language,0);
  assertEquals(sBasicTables[language],decoded);
  assertEquals(septets.length + 1,reEncoded.length);
  for (int i=0; i < septets.length; i++) {
    assertEquals(septets[i],reEncoded[i + 1]);
  }
}
