{
  int num=end - start + 1;
  if (num == 1) {
    addResolveInfoWithAlternates(ro,null,roLabel);
  }
 else {
    mHasExtendedInfo=true;
    boolean usePkg=false;
    final ApplicationInfo ai=ro.getResolveInfoAt(0).activityInfo.applicationInfo;
    final CharSequence startApp=ai.loadLabel(mPm);
    if (startApp == null) {
      usePkg=true;
    }
    if (!usePkg) {
      HashSet<CharSequence> duplicates=new HashSet<CharSequence>();
      duplicates.add(startApp);
      for (int j=start + 1; j <= end; j++) {
        ResolveInfo jRi=rList.get(j).getResolveInfoAt(0);
        CharSequence jApp=jRi.activityInfo.applicationInfo.loadLabel(mPm);
        if ((jApp == null) || (duplicates.contains(jApp))) {
          usePkg=true;
          break;
        }
 else {
          duplicates.add(jApp);
        }
      }
      duplicates.clear();
    }
    for (int k=start; k <= end; k++) {
      final ResolvedComponentInfo rci=rList.get(k);
      final ResolveInfo add=rci.getResolveInfoAt(0);
      final CharSequence extraInfo;
      if (usePkg) {
        extraInfo=add.activityInfo.packageName;
      }
 else {
        extraInfo=add.activityInfo.applicationInfo.loadLabel(mPm);
      }
      addResolveInfoWithAlternates(rci,extraInfo,roLabel);
    }
  }
}
