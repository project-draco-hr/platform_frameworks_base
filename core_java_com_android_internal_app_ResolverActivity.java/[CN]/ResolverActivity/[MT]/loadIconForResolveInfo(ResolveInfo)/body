{
  Drawable dr;
  try {
    if (ri.resolvePackageName != null && ri.icon != 0) {
      dr=getIcon(mPm.getResourcesForApplication(ri.resolvePackageName),ri.icon);
      if (dr != null) {
        return dr;
      }
    }
    final int iconRes=ri.getIconResource();
    if (iconRes != 0) {
      dr=getIcon(mPm.getResourcesForApplication(ri.activityInfo.packageName),iconRes);
      if (dr != null) {
        return dr;
      }
    }
  }
 catch (  NameNotFoundException e) {
    Log.e(TAG,"Couldn't find resources for package",e);
  }
  return ri.loadIcon(mPm);
}
