{
  if (isFinishing()) {
    return;
  }
  ResolveInfo ri=mAdapter.resolveInfoForPosition(which,filtered);
  if (mResolvingHome && hasManagedProfile() && !supportsManagedProfiles(ri)) {
    Toast.makeText(this,String.format(getResources().getString(com.android.internal.R.string.activity_resolver_work_profiles_support),ri.activityInfo.loadLabel(getPackageManager()).toString()),Toast.LENGTH_LONG).show();
    return;
  }
  TargetInfo target=mAdapter.targetInfoForPosition(which,filtered);
  if (onTargetSelected(target,always)) {
    finish();
  }
}
