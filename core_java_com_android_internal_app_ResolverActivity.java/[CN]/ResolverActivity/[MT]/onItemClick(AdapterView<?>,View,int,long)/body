{
  position-=mListView.getHeaderViewsCount();
  if (position < 0) {
    return;
  }
  ResolveInfo resolveInfo=mAdapter.resolveInfoForPosition(position,true);
  if (mResolvingHome && hasManagedProfile() && !supportsManagedProfiles(resolveInfo)) {
    Toast.makeText(this,String.format(getResources().getString(com.android.internal.R.string.activity_resolver_work_profiles_support),resolveInfo.activityInfo.loadLabel(getPackageManager()).toString()),Toast.LENGTH_LONG).show();
    return;
  }
  final int checkedPos=mListView.getCheckedItemPosition();
  final boolean hasValidSelection=checkedPos != ListView.INVALID_POSITION;
  if (mAlwaysUseOption && (!hasValidSelection || mLastSelected != checkedPos)) {
    setAlwaysButtonEnabled(hasValidSelection,checkedPos,true);
    mOnceButton.setEnabled(hasValidSelection);
    if (hasValidSelection) {
      mListView.smoothScrollToPosition(checkedPos);
    }
    mLastSelected=checkedPos;
  }
 else {
    startSelected(position,false,true);
  }
}
