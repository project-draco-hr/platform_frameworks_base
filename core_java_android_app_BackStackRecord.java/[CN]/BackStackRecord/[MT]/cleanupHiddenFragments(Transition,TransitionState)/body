{
  final ArrayList<View> hiddenViews=state.hiddenFragmentViews;
  transition.addListener(new Transition.TransitionListenerAdapter(){
    @Override public void onTransitionStart(    Transition transition){
      transition.removeListener(this);
      int numViews=hiddenViews.size();
      for (int i=0; i < numViews; i++) {
        transition.excludeTarget(hiddenViews.get(i),false);
      }
    }
  }
);
}
