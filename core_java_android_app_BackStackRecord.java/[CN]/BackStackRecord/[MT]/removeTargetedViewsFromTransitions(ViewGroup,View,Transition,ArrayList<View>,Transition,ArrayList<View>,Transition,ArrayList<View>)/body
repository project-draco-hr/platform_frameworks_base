{
  if (enterTransition != null || exitTransition != null) {
    sceneRoot.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){
      @Override public boolean onPreDraw(){
        sceneRoot.getViewTreeObserver().removeOnPreDrawListener(this);
        if (enterTransition != null) {
          enterTransition.removeTarget(nonExistingView);
          removeTargets(enterTransition,enteringViews);
        }
        if (exitTransition != null) {
          removeTargets(exitTransition,exitingViews);
        }
        int numViews=hiddenViews.size();
        for (int i=0; i < numViews; i++) {
          overallTransition.excludeTarget(hiddenViews.get(i),false);
        }
        overallTransition.excludeTarget(nonExistingView,false);
        return true;
      }
    }
);
  }
}
