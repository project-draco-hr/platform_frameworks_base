{
  TransitionState state=new TransitionState();
  state.nonExistentView=new View(mManager.mActivity);
  for (int i=0; i < firstOutFragments.size(); i++) {
    int containerId=firstOutFragments.keyAt(i);
    configureTransitions(containerId,state,isBack,firstOutFragments,lastInFragments);
  }
  for (int i=0; i < lastInFragments.size(); i++) {
    int containerId=lastInFragments.keyAt(i);
    if (firstOutFragments.get(containerId) == null) {
      configureTransitions(containerId,state,isBack,firstOutFragments,lastInFragments);
    }
  }
  return state;
}
