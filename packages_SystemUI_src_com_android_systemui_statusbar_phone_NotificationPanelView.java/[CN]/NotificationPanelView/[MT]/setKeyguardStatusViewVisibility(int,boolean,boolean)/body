{
  if ((!keyguardFadingAway && mStatusBarState == StatusBarState.KEYGUARD && statusBarState != StatusBarState.KEYGUARD) || goingToFullShade) {
    mKeyguardStatusView.animate().cancel();
    mKeyguardStatusViewAnimating=true;
    mKeyguardStatusView.animate().alpha(0f).setStartDelay(0).setDuration(160).setInterpolator(Interpolators.ALPHA_OUT).withEndAction(mAnimateKeyguardStatusViewInvisibleEndRunnable);
    if (keyguardFadingAway) {
      mKeyguardStatusView.animate().setStartDelay(mStatusBar.getKeyguardFadingAwayDelay()).setDuration(mStatusBar.getKeyguardFadingAwayDuration() / 2).start();
    }
  }
 else   if (mStatusBarState == StatusBarState.SHADE_LOCKED && statusBarState == StatusBarState.KEYGUARD) {
    mKeyguardStatusView.animate().cancel();
    mKeyguardStatusView.setVisibility(View.VISIBLE);
    mKeyguardStatusViewAnimating=true;
    mKeyguardStatusView.setAlpha(0f);
    mKeyguardStatusView.animate().alpha(1f).setStartDelay(0).setDuration(320).setInterpolator(Interpolators.ALPHA_IN).withEndAction(mAnimateKeyguardStatusViewVisibleEndRunnable);
  }
 else   if (statusBarState == StatusBarState.KEYGUARD) {
    mKeyguardStatusView.animate().cancel();
    mKeyguardStatusViewAnimating=false;
    mKeyguardStatusView.setVisibility(View.VISIBLE);
    mKeyguardStatusView.setAlpha(1f);
  }
 else {
    mKeyguardStatusView.animate().cancel();
    mKeyguardStatusViewAnimating=false;
    mKeyguardStatusView.setVisibility(View.GONE);
    mKeyguardStatusView.setAlpha(1f);
  }
}
