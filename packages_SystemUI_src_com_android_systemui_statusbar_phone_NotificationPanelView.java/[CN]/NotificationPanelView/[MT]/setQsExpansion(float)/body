{
  height=Math.min(Math.max(height,mQsMinExpansionHeight),mQsMaxExpansionHeight);
  mQsFullyExpanded=height == mQsMaxExpansionHeight;
  if (height > mQsMinExpansionHeight && !mQsExpanded && !mStackScrollerOverscrolling) {
    setQsExpanded(true);
  }
 else   if (height <= mQsMinExpansionHeight && mQsExpanded) {
    setQsExpanded(false);
  }
  mQsExpansionHeight=height;
  mHeader.setExpansion(height - mQsPeekHeight);
  setQsTranslation(height);
  if (!mStackScrollerOverscrolling) {
    setQsStackScrollerPadding(height);
  }
  mStatusBar.userActivity();
}
