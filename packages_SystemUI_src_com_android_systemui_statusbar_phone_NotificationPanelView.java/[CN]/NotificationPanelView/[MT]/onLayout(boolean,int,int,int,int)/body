{
  super.onLayout(changed,left,top,right,bottom);
  mQsMinExpansionHeight=mHeader.getCollapsedHeight() + mQsPeekHeight;
  mQsMaxExpansionHeight=mHeader.getExpandedHeight() + mQsContainer.getHeight();
  if (mQsExpanded) {
    if (mQsFullyExpanded) {
      mQsExpansionHeight=mQsMaxExpansionHeight;
      requestScrollerTopPaddingUpdate(false);
    }
  }
 else {
    if (!mStackScrollerOverscrolling) {
      setQsExpansion(mQsMinExpansionHeight);
    }
    positionClockAndNotifications();
    mNotificationStackScroller.setStackHeight(getExpandedHeight());
  }
}
