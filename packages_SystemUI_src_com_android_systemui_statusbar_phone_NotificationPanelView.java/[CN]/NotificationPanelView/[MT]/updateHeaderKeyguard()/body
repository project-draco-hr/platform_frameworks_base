{
  float alphaNotifications;
  if (mStatusBar.getBarState() == StatusBarState.KEYGUARD) {
    alphaNotifications=getNotificationsTopY() / (mKeyguardStatusBar.getHeight() + mNotificationsHeaderCollideDistance);
  }
 else {
    alphaNotifications=getNotificationsTopY() / mKeyguardStatusBar.getHeight();
  }
  alphaNotifications=MathUtils.constrain(alphaNotifications,0,1);
  alphaNotifications=(float)Math.pow(alphaNotifications,0.75);
  float alphaQsExpansion=1 - Math.min(1,getQsExpansionFraction() * 2);
  mKeyguardStatusBar.setAlpha(Math.min(alphaNotifications,alphaQsExpansion));
  mKeyguardBottomArea.setAlpha(Math.min(1 - getQsExpansionFraction(),alphaNotifications));
  setQsTranslation(mQsExpansionHeight);
}
