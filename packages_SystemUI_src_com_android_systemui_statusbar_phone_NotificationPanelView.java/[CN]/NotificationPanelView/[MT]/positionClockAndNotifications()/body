{
  boolean animateClock=mNotificationStackScroller.isAddOrRemoveAnimationPending();
  if (mStatusBar.getBarState() != StatusBarState.KEYGUARD) {
    mStackScrollerIntrinsicPadding=mHeader.getBottom() + mNotificationTopPadding;
  }
 else {
    int notificationCount=mNotificationStackScroller.getNotGoneChildCount();
    int y=getClockY(notificationCount) - mKeyguardStatusView.getHeight() / 2;
    int padding=getClockNotificationsPadding(notificationCount);
    if (animateClock || mClockAnimator != null) {
      startClockAnimation(y);
    }
 else {
      mKeyguardStatusView.setY(y);
    }
    mStackScrollerIntrinsicPadding=y + mKeyguardStatusView.getHeight() + padding;
  }
  mNotificationStackScroller.setTopPadding(mStackScrollerIntrinsicPadding,mAnimateNextTopPaddingChange || animateClock);
  mAnimateNextTopPaddingChange=false;
}
