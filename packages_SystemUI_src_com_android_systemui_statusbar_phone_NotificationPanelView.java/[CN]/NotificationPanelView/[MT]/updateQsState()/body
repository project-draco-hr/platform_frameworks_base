{
  boolean expandVisually=mQsExpanded || mStackScrollerOverscrolling;
  mHeader.setVisibility((mQsExpanded || !mKeyguardShowing) ? View.VISIBLE : View.INVISIBLE);
  mHeader.setExpanded(mKeyguardShowing || (mQsExpanded && !mStackScrollerOverscrolling));
  mNotificationStackScroller.setScrollingEnabled(mStatusBarState != StatusBarState.KEYGUARD && (!mQsExpanded || mQsExpansionFromOverscroll));
  mQsPanel.setVisibility(expandVisually ? View.VISIBLE : View.INVISIBLE);
  mQsContainer.setVisibility(mKeyguardShowing && !expandVisually ? View.INVISIBLE : View.VISIBLE);
  mScrollView.setTouchEnabled(mQsExpanded);
  updateEmptyShadeView();
}
