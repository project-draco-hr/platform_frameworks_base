{
  if (event.getActionMasked() == MotionEvent.ACTION_DOWN && getExpandedFraction() == 1f && mStatusBar.getBarState() != StatusBarState.KEYGUARD && !mQsExpanded && mQsExpansionEnabled) {
    mQsTracking=true;
    mConflictingQsExpansionGesture=true;
    onQsExpansionStarted();
    mInitialHeightOnTouch=mQsExpansionHeight;
    mInitialTouchY=event.getX();
    mInitialTouchX=event.getY();
  }
  if (mExpandedHeight != 0) {
    handleQsDown(event);
  }
  if (!mQsExpandImmediate && mQsTracking) {
    onQsTouch(event);
    if (!mConflictingQsExpansionGesture) {
      return true;
    }
  }
  if (event.getActionMasked() == MotionEvent.ACTION_CANCEL || event.getActionMasked() == MotionEvent.ACTION_UP) {
    mConflictingQsExpansionGesture=false;
  }
  if (event.getActionMasked() == MotionEvent.ACTION_DOWN && mExpandedHeight == 0 && mQsExpansionEnabled) {
    mTwoFingerQsExpandPossible=true;
  }
  if (mTwoFingerQsExpandPossible && event.getActionMasked() == MotionEvent.ACTION_POINTER_DOWN && event.getPointerCount() == 2 && event.getY(event.getActionIndex()) < mStatusBarMinHeight) {
    mQsExpandImmediate=true;
    requestPanelHeightUpdate();
    setListening(true);
  }
  return false;
}
