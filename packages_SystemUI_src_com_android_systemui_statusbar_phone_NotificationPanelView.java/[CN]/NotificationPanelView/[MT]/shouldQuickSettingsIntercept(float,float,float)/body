{
  if (!mQsExpansionEnabled) {
    return false;
  }
  final float ty=mHeader.getTranslationY();
  boolean onHeader=x >= mHeader.getLeft() && x <= mHeader.getRight() && y >= mHeader.getTop() + ty && y <= mHeader.getBottom() + ty;
  if (mQsExpanded) {
    if (mQsShowingDetail && onHeader) {
      setQsHeaderPeeking(false);
      mQsPanel.setExpanded(false);
    }
    return !mQsShowingDetail && onHeader || (mScrollView.isScrolledToBottom() && yDiff < 0);
  }
 else {
    return onHeader;
  }
}
