{
  if (!keyguardFadingAway && mStatusBarState == StatusBarState.KEYGUARD && statusBarState != StatusBarState.KEYGUARD) {
    mKeyguardStatusView.animate().cancel();
    mKeyguardStatusViewAnimating=true;
    mKeyguardStatusView.animate().alpha(0f).setDuration(160).setInterpolator(PhoneStatusBar.ALPHA_OUT).withEndAction(mAnimateKeyguardStatusViewInvisibleEndRunnable);
  }
 else   if (mStatusBarState == StatusBarState.SHADE_LOCKED && statusBarState == StatusBarState.KEYGUARD) {
    mKeyguardStatusView.animate().cancel();
    mKeyguardStatusView.setVisibility(View.VISIBLE);
    mKeyguardStatusViewAnimating=true;
    mKeyguardStatusView.setAlpha(0f);
    mKeyguardStatusView.animate().alpha(1f).setDuration(320).setInterpolator(PhoneStatusBar.ALPHA_IN).withEndAction(mAnimateKeyguardStatusViewVisibleEndRunnable);
  }
 else   if (statusBarState == StatusBarState.KEYGUARD) {
    mKeyguardStatusView.animate().cancel();
    mKeyguardStatusView.setVisibility(View.VISIBLE);
    mKeyguardStatusView.setAlpha(1f);
  }
 else {
    mKeyguardStatusView.animate().cancel();
    mKeyguardStatusView.setVisibility(View.GONE);
    mKeyguardStatusView.setAlpha(1f);
  }
}
