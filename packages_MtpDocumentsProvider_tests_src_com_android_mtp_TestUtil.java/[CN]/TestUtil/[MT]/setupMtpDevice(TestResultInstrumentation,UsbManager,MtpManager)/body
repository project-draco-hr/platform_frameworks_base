{
  for (int i=0; i < 2; i++) {
    final UsbDevice device=findMtpDevice(instrumentation,usbManager,manager);
    try {
      waitForStorages(instrumentation,manager,device.getDeviceId());
      return device;
    }
 catch (    IOException exp) {
      continue;
    }
  }
  throw new IOException("Failed to obtain MTP devices");
}
