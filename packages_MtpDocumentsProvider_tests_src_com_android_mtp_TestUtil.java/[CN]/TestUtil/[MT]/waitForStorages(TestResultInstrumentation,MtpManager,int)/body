{
  while (true) {
    MtpDeviceRecord device=null;
    for (    final MtpDeviceRecord deviceCandidate : manager.getDevices()) {
      if (deviceCandidate.deviceId == deviceId) {
        device=deviceCandidate;
        break;
      }
    }
    if (device == null) {
      throw new IOException("Device was detached.");
    }
    if (device.roots.length == 0) {
      instrumentation.show("Wait for storages.");
      Thread.sleep(1000);
      continue;
    }
    return;
  }
}
