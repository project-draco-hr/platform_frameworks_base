{
  if (filePath == null)   return null;
  try {
    ExifInterface exif=new ExifInterface(filePath);
    if (exif == null)     return null;
    byte[] thumbData=exif.getThumbnail();
    if (thumbData == null)     return null;
    BitmapFactory.Options options=new BitmapFactory.Options();
    options.inJustDecodeBounds=true;
    BitmapFactory.decodeByteArray(thumbData,0,thumbData.length,options);
    int width=options.outWidth;
    int height=options.outHeight;
    if (width >= targetSize && height >= targetSize) {
      return thumbData;
    }
  }
 catch (  IOException ex) {
    Log.w(TAG,ex);
  }
  return null;
}
