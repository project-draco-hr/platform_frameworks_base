{
  if (mListener == null) {
    throw new NullPointerException("OnGestureListener must not be null");
  }
  mIsLongpressEnabled=true;
  mIgnoreMultitouch=ignoreMultitouch;
  int touchSlop, largeTouchSlop, doubleTapSlop;
  if (context == null) {
    touchSlop=ViewConfiguration.getTouchSlop();
    largeTouchSlop=touchSlop + 2;
    doubleTapSlop=ViewConfiguration.getDoubleTapSlop();
    mMinimumFlingVelocity=ViewConfiguration.getMinimumFlingVelocity();
    mMaximumFlingVelocity=ViewConfiguration.getMaximumFlingVelocity();
  }
 else {
    final ViewConfiguration configuration=ViewConfiguration.get(context);
    touchSlop=configuration.getScaledTouchSlop();
    largeTouchSlop=configuration.getScaledLargeTouchSlop();
    doubleTapSlop=configuration.getScaledDoubleTapSlop();
    mMinimumFlingVelocity=configuration.getScaledMinimumFlingVelocity();
    mMaximumFlingVelocity=configuration.getScaledMaximumFlingVelocity();
  }
  mTouchSlopSquare=touchSlop * touchSlop;
  mLargeTouchSlopSquare=largeTouchSlop * largeTouchSlop;
  mDoubleTapSlopSquare=doubleTapSlop * doubleTapSlop;
}
