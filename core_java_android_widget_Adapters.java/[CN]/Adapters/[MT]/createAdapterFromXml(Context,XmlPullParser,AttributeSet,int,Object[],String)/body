{
  BaseAdapter adapter=null;
  int type;
  int depth=parser.getDepth();
  while (((type=parser.next()) != XmlPullParser.END_TAG || parser.getDepth() > depth) && type != XmlPullParser.END_DOCUMENT) {
    if (type != XmlPullParser.START_TAG) {
      continue;
    }
    String name=parser.getName();
    if (assertName != null && !assertName.equals(name)) {
      throw new IllegalArgumentException("The adapter defined in " + c.getResources().getResourceEntryName(id) + " must be a <"+ assertName+ " />");
    }
    if (ADAPTER_CURSOR.equals(name)) {
      adapter=createCursorAdapter(c,parser,attrs,id,parameters);
    }
 else {
      throw new IllegalArgumentException("Unknown adapter name " + parser.getName() + " in "+ c.getResources().getResourceEntryName(id));
    }
  }
  return adapter;
}
