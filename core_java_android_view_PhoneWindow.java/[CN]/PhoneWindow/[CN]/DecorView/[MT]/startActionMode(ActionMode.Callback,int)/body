{
  if (mActionMode != null) {
    mActionMode.finish();
    mActionMode=null;
  }
  ActionMode.Callback wrappedCallback=new ActionModeCallbackWrapper(callback);
  ActionMode mode=null;
  if (getCallback() != null && !isDestroyed()) {
    try {
      mode=getCallback().onWindowStartingActionMode(wrappedCallback,type);
    }
 catch (    AbstractMethodError ame) {
    }
  }
  if (mode != null) {
    mActionMode=mode;
  }
 else {
    if (type == ActionMode.TYPE_PRIMARY) {
      if (mActionModeView != null) {
        mActionModeView.killMode();
      }
      mode=createStandaloneActionMode(wrappedCallback);
      if (mode != null && callback.onCreateActionMode(mode,mode.getMenu())) {
        mActionMode=mode;
        mActionMode.invalidate();
      }
 else {
        mActionMode=null;
      }
    }
  }
  if (mActionMode != null && getCallback() != null && !isDestroyed()) {
    try {
      getCallback().onActionModeStarted(mActionMode);
    }
 catch (    AbstractMethodError ame) {
    }
  }
  return mActionMode;
}
