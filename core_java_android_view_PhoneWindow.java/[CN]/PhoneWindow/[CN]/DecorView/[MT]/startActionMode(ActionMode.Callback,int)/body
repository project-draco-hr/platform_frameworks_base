{
  ActionMode.Callback wrappedCallback=new ActionModeCallbackWrapper(callback);
  ActionMode mode=null;
  if (getCallback() != null && !isDestroyed()) {
    try {
      mode=getCallback().onWindowStartingActionMode(wrappedCallback,type);
    }
 catch (    AbstractMethodError ame) {
    }
  }
  if (mode != null) {
    if (mode.getType() == ActionMode.TYPE_PRIMARY) {
      cleanupPrimaryActionMode();
      mPrimaryActionMode=mode;
    }
 else {
      mFloatingActionMode=mode;
    }
  }
 else {
    if (type == ActionMode.TYPE_PRIMARY) {
      cleanupPrimaryActionMode();
      mode=createStandaloneActionMode(wrappedCallback);
      if (mode != null && callback.onCreateActionMode(mode,mode.getMenu())) {
        setHandledPrimaryActionMode(mode);
      }
 else {
        mode=null;
      }
    }
  }
  if (mode != null && getCallback() != null && !isDestroyed()) {
    try {
      getCallback().onActionModeStarted(mode);
    }
 catch (    AbstractMethodError ame) {
    }
  }
  return mode;
}
