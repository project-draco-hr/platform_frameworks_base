{
  boolean result;
  final Callback cb=getCallback();
  if (cb == null || isDestroyed()) {
    result=false;
  }
 else {
    sendCloseSystemWindows("search");
    int deviceId=event.getDeviceId();
    SearchEvent searchEvent=null;
    if (deviceId != 0) {
      searchEvent=new SearchEvent(InputDevice.getDevice(deviceId));
    }
    result=cb.onSearchRequested(searchEvent);
  }
  if (!result && (getContext().getResources().getConfiguration().uiMode & Configuration.UI_MODE_TYPE_MASK) == Configuration.UI_MODE_TYPE_TELEVISION) {
    return ((SearchManager)getContext().getSystemService(Context.SEARCH_SERVICE)).launchAssistAction(null,UserHandle.myUserId());
  }
  return result;
}
