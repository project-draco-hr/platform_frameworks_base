{
  String value=null;
  for (int i=0; i < 20; i++) {
    value=SystemProperties.get(USB_STATE_PROPERTY);
    if (state.equals(value))     return true;
    SystemClock.sleep(50);
  }
  Slog.e(TAG,"waitForState(" + state + ") FAILED: got "+ value);
  return false;
}
