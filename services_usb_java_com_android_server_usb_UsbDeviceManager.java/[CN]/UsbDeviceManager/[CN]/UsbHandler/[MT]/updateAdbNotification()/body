{
  if (mNotificationManager == null)   return;
  final int id=com.android.internal.R.string.adb_active_notification_title;
  if (mAdbEnabled && mConnected) {
    if ("0".equals(SystemProperties.get("persist.adb.notify")))     return;
    if (!mAdbNotificationShown) {
      Resources r=mContext.getResources();
      CharSequence title=r.getText(id);
      CharSequence message=r.getText(com.android.internal.R.string.adb_active_notification_message);
      Intent intent=Intent.makeRestartActivityTask(new ComponentName("com.android.settings","com.android.settings.DevelopmentSettings"));
      PendingIntent pi=PendingIntent.getActivityAsUser(mContext,0,intent,0,null,UserHandle.CURRENT);
      Notification notification=new Notification.Builder(mContext).setSmallIcon(com.android.internal.R.drawable.stat_sys_adb).setWhen(0).setOngoing(true).setTicker(title).setDefaults(0).setPriority(Notification.PRIORITY_DEFAULT).setColor(mContext.getColor(com.android.internal.R.color.system_notification_accent_color)).setContentTitle(title).setContentText(message).setContentIntent(pi).setVisibility(Notification.VISIBILITY_PUBLIC).build();
      mAdbNotificationShown=true;
      mNotificationManager.notifyAsUser(null,id,notification,UserHandle.ALL);
    }
  }
 else   if (mAdbNotificationShown) {
    mAdbNotificationShown=false;
    mNotificationManager.cancelAsUser(null,id,UserHandle.ALL);
  }
}
