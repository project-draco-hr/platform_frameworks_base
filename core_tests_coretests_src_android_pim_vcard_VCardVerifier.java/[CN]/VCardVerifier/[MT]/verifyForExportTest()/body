{
  final VCardComposer composer=new VCardComposer(new CustomMockContext(mExportTestResolver),mVCardType);
  composer.addHandler(mLineVerifier);
  composer.addHandler(mVCardVerifierInternal);
  if (!composer.init(VCardComposer.CONTACTS_TEST_CONTENT_URI,null,null,null)) {
    AndroidTestCase.fail("init() failed. Reason: " + composer.getErrorReason());
  }
  AndroidTestCase.assertFalse(composer.isAfterLast());
  try {
    while (!composer.isAfterLast()) {
      try {
        final Method mockGetEntityIteratorMethod=getMockGetEntityIteratorMethod();
        AndroidTestCase.assertNotNull(mockGetEntityIteratorMethod);
        AndroidTestCase.assertTrue(composer.createOneEntry(mockGetEntityIteratorMethod));
      }
 catch (      Exception e) {
        e.printStackTrace();
        AndroidTestCase.fail();
      }
    }
  }
  finally {
    composer.terminate();
  }
}
