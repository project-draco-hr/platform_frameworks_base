{
  offsets=new int[numComponents];
  scales=new float[numComponents];
  for (int i=0; i < numComponents; i++) {
    int off=0;
    int mask=componentMasks[i];
    while ((mask & 1) == 0) {
      mask>>>=1;
      off++;
    }
    offsets[i]=off;
    if (bits[i] == 0) {
      scales[i]=256.0f;
    }
 else {
      scales[i]=255.0f / maxValues[i];
    }
  }
}
