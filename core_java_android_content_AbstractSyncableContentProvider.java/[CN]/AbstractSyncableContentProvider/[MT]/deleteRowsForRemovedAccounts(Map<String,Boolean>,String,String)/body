{
  SQLiteDatabase db=mOpenHelper.getWritableDatabase();
  Cursor c=db.query(table,sAccountProjection,null,null,accountColumnName,null,null);
  try {
    while (c.moveToNext()) {
      String account=c.getString(0);
      if (TextUtils.isEmpty(account)) {
        continue;
      }
      if (!accounts.containsKey(account)) {
        int numDeleted;
        numDeleted=db.delete(table,accountColumnName + "=?",new String[]{account});
        if (Config.LOGV) {
          Log.v(TAG,"deleted " + numDeleted + " records from table "+ table+ " for account "+ account);
        }
      }
    }
  }
  finally {
    c.close();
  }
}
