{
  Map<String,Boolean> accounts=new HashMap<String,Boolean>();
  for (  String account : accountsArray) {
    accounts.put(account,false);
  }
  accounts.put(SyncConstValue.NON_SYNCABLE_ACCOUNT,false);
  SQLiteDatabase db=mOpenHelper.getWritableDatabase();
  Map<String,String> tableMap=db.getSyncedTables();
  Vector<String> tables=new Vector<String>();
  tables.addAll(tableMap.keySet());
  tables.addAll(tableMap.values());
  db.beginTransaction();
  try {
    mSyncState.onAccountsChanged(accountsArray);
    for (    String table : tables) {
      deleteRowsForRemovedAccounts(accounts,table,SyncConstValue._SYNC_ACCOUNT);
    }
    db.setTransactionSuccessful();
  }
  finally {
    db.endTransaction();
  }
}
