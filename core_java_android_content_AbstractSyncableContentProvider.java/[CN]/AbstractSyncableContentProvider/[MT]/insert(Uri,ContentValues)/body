{
  mDb=mOpenHelper.getWritableDatabase();
  final boolean notApplyingBatch=!applyingBatch();
  if (notApplyingBatch) {
    mDb.beginTransaction();
  }
  try {
    if (isTemporary() && mSyncState.matches(url)) {
      Uri result=mSyncState.asContentProvider().insert(url,values);
      if (notApplyingBatch) {
        mDb.setTransactionSuccessful();
      }
      return result;
    }
    Uri result=insertInternal(url,values);
    if (notApplyingBatch) {
      mDb.setTransactionSuccessful();
    }
    if (!isTemporary() && result != null) {
      if (notApplyingBatch) {
        getContext().getContentResolver().notifyChange(url,null,changeRequiresLocalSync(url));
      }
 else {
        mPendingBatchNotifications.get().add(url);
      }
    }
    return result;
  }
  finally {
    if (notApplyingBatch) {
      mDb.endTransaction();
    }
  }
}
