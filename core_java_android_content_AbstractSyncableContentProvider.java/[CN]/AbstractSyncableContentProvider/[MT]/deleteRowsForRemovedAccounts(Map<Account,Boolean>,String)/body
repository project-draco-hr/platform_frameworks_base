{
  SQLiteDatabase db=mOpenHelper.getWritableDatabase();
  Cursor c=db.query(table,sAccountProjection,null,null,"_sync_account, _sync_account_type",null,null);
  try {
    while (c.moveToNext()) {
      String accountName=c.getString(0);
      String accountType=c.getString(1);
      if (TextUtils.isEmpty(accountName)) {
        continue;
      }
      Account account=new Account(accountName,accountType);
      if (!accounts.containsKey(account)) {
        int numDeleted;
        numDeleted=db.delete(table,"_sync_account=? AND _sync_account_type=?",new String[]{account.name,account.type});
        if (Config.LOGV) {
          Log.v(TAG,"deleted " + numDeleted + " records from table "+ table+ " for account "+ account);
        }
      }
    }
  }
  finally {
    c.close();
  }
}
