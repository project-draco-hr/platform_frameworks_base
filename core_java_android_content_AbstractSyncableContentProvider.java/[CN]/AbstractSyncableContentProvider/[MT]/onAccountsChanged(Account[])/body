{
  Map<Account,Boolean> accounts=Maps.newHashMap();
  for (  Account account : accountsArray) {
    accounts.put(account,false);
  }
  SQLiteDatabase db=mOpenHelper.getWritableDatabase();
  Map<String,String> tableMap=db.getSyncedTables();
  Vector<String> tables=new Vector<String>();
  tables.addAll(tableMap.keySet());
  tables.addAll(tableMap.values());
  db.beginTransaction();
  try {
    mSyncState.onAccountsChanged(accountsArray);
    for (    String table : tables) {
      deleteRowsForRemovedAccounts(accounts,table);
    }
    db.setTransactionSuccessful();
  }
  finally {
    db.endTransaction();
  }
}
