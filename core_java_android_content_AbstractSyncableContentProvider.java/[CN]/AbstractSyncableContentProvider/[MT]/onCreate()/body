{
  if (isTemporary())   throw new IllegalStateException("onCreate() called for temp provider");
  mOpenHelper=new AbstractSyncableContentProvider.DatabaseHelper(getContext(),mDatabaseName);
  mSyncState=new SyncStateContentProviderHelper(mOpenHelper);
  AccountManager.get(getContext()).addOnAccountsUpdatedListener(new OnAccountsUpdatedListener(){
    public void onAccountsUpdated(    Account[] accounts){
      mDb=mOpenHelper.getWritableDatabase();
      onAccountsChanged(accounts);
      TempProviderSyncAdapter syncAdapter=(TempProviderSyncAdapter)getSyncAdapter();
      if (syncAdapter != null) {
        syncAdapter.onAccountsChanged(accounts);
      }
    }
  }
,null,true);
  return true;
}
