{
  if (isTemporary())   throw new IllegalStateException("onCreate() called for temp provider");
  mOpenHelper=new AbstractSyncableContentProvider.DatabaseHelper(getContext(),mDatabaseName);
  mSyncState=new SyncStateContentProviderHelper(mOpenHelper);
  AccountManager.get(getContext()).addOnAccountsUpdatedListener(new OnAccountsUpdatedListener(){
    public void onAccountsUpdated(    Account[] accounts){
      mDb=mOpenHelper.getWritableDatabase();
      ArrayList<Account> gaiaAccounts=new ArrayList<Account>();
      for (      Account acct : accounts) {
        if (acct.type.equals("com.google.GAIA")) {
          gaiaAccounts.add(acct);
        }
      }
      accounts=new Account[gaiaAccounts.size()];
      int i=0;
      for (      Account acct : gaiaAccounts) {
        accounts[i++]=acct;
      }
      onAccountsChanged(accounts);
      TempProviderSyncAdapter syncAdapter=getTempProviderSyncAdapter();
      if (syncAdapter != null) {
        syncAdapter.onAccountsChanged(accounts);
      }
    }
  }
,null,true);
  return true;
}
