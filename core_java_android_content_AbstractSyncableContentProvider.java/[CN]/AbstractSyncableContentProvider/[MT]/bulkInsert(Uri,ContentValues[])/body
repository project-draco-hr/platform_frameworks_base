{
  int size=values.length;
  int completed=0;
  final boolean isSyncStateUri=mSyncState.matches(uri);
  mDb=mOpenHelper.getWritableDatabase();
  mDb.beginTransaction();
  try {
    for (int i=0; i < size; i++) {
      Uri result;
      if (isTemporary() && isSyncStateUri) {
        result=mSyncState.asContentProvider().insert(uri,values[i]);
      }
 else {
        result=insertInternal(uri,values[i]);
        mDb.yieldIfContended();
      }
      if (result != null) {
        completed++;
      }
    }
    mDb.setTransactionSuccessful();
  }
  finally {
    mDb.endTransaction();
  }
  if (!isTemporary() && completed == size) {
    getContext().getContentResolver().notifyChange(uri,null,changeRequiresLocalSync(uri));
  }
  return completed;
}
