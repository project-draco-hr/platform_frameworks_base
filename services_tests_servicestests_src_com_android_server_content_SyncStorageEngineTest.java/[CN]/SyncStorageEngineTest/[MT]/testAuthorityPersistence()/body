{
  final Account account1=new Account("a@example.com","example.type");
  final Account account2=new Account("b@example.com","example.type.2");
  final String authority1="testprovider1";
  final String authority2="testprovider2";
  engine.setMasterSyncAutomatically(false,0);
  engine.setIsSyncable(account1,0,authority1,1);
  engine.setSyncAutomatically(account1,0,authority1,true);
  engine.setIsSyncable(account2,0,authority1,1);
  engine.setSyncAutomatically(account2,0,authority1,true);
  engine.setIsSyncable(account1,0,authority2,1);
  engine.setSyncAutomatically(account1,0,authority2,false);
  engine.setIsSyncable(account2,0,authority2,0);
  engine.setSyncAutomatically(account2,0,authority2,true);
  engine.writeAllState();
  engine.clearAndReadState();
  assertEquals(true,engine.getSyncAutomatically(account1,0,authority1));
  assertEquals(true,engine.getSyncAutomatically(account2,0,authority1));
  assertEquals(false,engine.getSyncAutomatically(account1,0,authority2));
  assertEquals(true,engine.getSyncAutomatically(account2,0,authority2));
  assertEquals(1,engine.getIsSyncable(account1,0,authority1));
  assertEquals(1,engine.getIsSyncable(account2,0,authority1));
  assertEquals(1,engine.getIsSyncable(account1,0,authority2));
  assertEquals(0,engine.getIsSyncable(account2,0,authority2));
}
