{
  super.onResume();
  if (mMode >= CHILD_OFFSET) {
    try {
      Thread.sleep(500);
    }
 catch (    InterruptedException e) {
      setResult(RESULT_CANCELED,(new Intent()).setAction("Interrupted!"));
      finish();
      return;
    }
switch (mMode - CHILD_OFFSET) {
case NO_RESULT_MODE:
      finish();
    break;
case RESULT_MODE:
  Intent res=new Intent();
res.putExtra("tkey","tval");
res.setAction("test");
setResult(RESULT_OK,res);
finish();
break;
case FINISH_SUB_MODE:
break;
}
}
}
