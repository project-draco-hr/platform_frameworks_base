{
  if (bounds == null || mBounds == null || bounds.contains(mBounds)) {
    return bounds;
  }
  mTmpRect.set(mBounds);
  if (mBounds.left < bounds.left || mBounds.right > bounds.right) {
    final int maxRight=bounds.right - (bounds.width() / FIT_WITHIN_BOUNDS_DIVIDER);
    int horizontalDiff=bounds.left - mBounds.left;
    if ((horizontalDiff < 0 && mBounds.left >= maxRight) || (mBounds.left + horizontalDiff >= maxRight)) {
      horizontalDiff=maxRight - mBounds.left;
    }
    mTmpRect.left+=horizontalDiff;
    mTmpRect.right+=horizontalDiff;
  }
  if (mBounds.top < bounds.top || mBounds.bottom > bounds.bottom) {
    final int maxBottom=bounds.bottom - (bounds.height() / FIT_WITHIN_BOUNDS_DIVIDER);
    int verticalDiff=bounds.top - mBounds.top;
    if ((verticalDiff < 0 && mBounds.top >= maxBottom) || (mBounds.top + verticalDiff >= maxBottom)) {
      verticalDiff=maxBottom - mBounds.top;
    }
    mTmpRect.top+=verticalDiff;
    mTmpRect.bottom+=verticalDiff;
  }
  return mTmpRect;
}
