{
synchronized (mOperations) {
    final int index=(mIndex + 1) % MAX_RECENT_OPERATIONS;
    Operation operation=mOperations[index];
    if (operation == null) {
      operation=new Operation();
      mOperations[index]=operation;
    }
 else {
      operation.mFinished=false;
      operation.mException=null;
      if (operation.mBindArgs != null) {
        operation.mBindArgs.clear();
      }
    }
    operation.mStartTime=System.currentTimeMillis();
    operation.mKind=kind;
    operation.mSql=sql;
    if (bindArgs != null) {
      if (operation.mBindArgs == null) {
        operation.mBindArgs=new ArrayList<Object>();
      }
 else {
        operation.mBindArgs.clear();
      }
      for (int i=0; i < bindArgs.length; i++) {
        final Object arg=bindArgs[i];
        if (arg != null && arg instanceof byte[]) {
          operation.mBindArgs.add(EMPTY_BYTE_ARRAY);
        }
 else {
          operation.mBindArgs.add(arg);
        }
      }
    }
    operation.mCookie=newOperationCookieLocked(index);
    if (Trace.isTagEnabled(Trace.TRACE_TAG_DATABASE)) {
      Trace.asyncTraceBegin(Trace.TRACE_TAG_DATABASE,operation.getTraceMethodName(),operation.mCookie);
    }
    mIndex=index;
    return operation.mCookie;
  }
}
