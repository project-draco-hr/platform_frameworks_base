{
  final int functionCount=configuration.customFunctions.size();
  for (int i=0; i < functionCount; i++) {
    SQLiteCustomFunction function=configuration.customFunctions.get(i);
    if (!mConfiguration.customFunctions.contains(function)) {
      nativeRegisterCustomFunction(mConnectionPtr,function);
    }
  }
  boolean syncModeChanged=!configuration.syncMode.equalsIgnoreCase(mConfiguration.syncMode);
  boolean journalModeChanged=!configuration.journalMode.equalsIgnoreCase(mConfiguration.journalMode);
  boolean localeChanged=!configuration.locale.equals(mConfiguration.locale);
  mConfiguration.updateParametersFrom(configuration);
  mPreparedStatementCache.resize(configuration.maxSqlCacheSize);
  if (syncModeChanged) {
    setSyncModeFromConfiguration();
  }
  if (journalModeChanged) {
    setJournalModeFromConfiguration();
  }
  if (localeChanged) {
    setLocaleFromConfiguration();
  }
}
