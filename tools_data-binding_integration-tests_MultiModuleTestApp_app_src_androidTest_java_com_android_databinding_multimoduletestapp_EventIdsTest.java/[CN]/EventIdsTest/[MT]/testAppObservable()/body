{
  ObservableInMainApp observableInMainApp=new ObservableInMainApp();
  EventCounter ec=new EventCounter();
  observableInMainApp.addOnPropertyChangedListener(ec);
  ec.assertProperty(BR.appField1,0);
  ec.assertProperty(BR.appField2,0);
  ec.assertProperty(BR.sharedField,0);
  observableInMainApp.setAppField2(3);
  ec.assertProperty(BR.appField1,0);
  ec.assertProperty(BR.appField2,1);
  ec.assertProperty(BR.sharedField,0);
  observableInMainApp.setAppField1("b");
  ec.assertProperty(BR.appField1,1);
  ec.assertProperty(BR.appField2,1);
  ec.assertProperty(BR.sharedField,0);
  observableInMainApp.setSharedField(5);
  ec.assertProperty(BR.appField1,1);
  ec.assertProperty(BR.appField2,1);
  ec.assertProperty(BR.sharedField,1);
}
