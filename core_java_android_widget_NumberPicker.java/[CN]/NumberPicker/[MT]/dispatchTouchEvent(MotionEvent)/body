{
  int action=event.getActionMasked();
  if ((action == MotionEvent.ACTION_CANCEL || action == MotionEvent.ACTION_UP) && !isEventInInputText(event)) {
    removeAllCallbacks();
  }
  return super.dispatchTouchEvent(event);
}
