{
  final int newWidthMeasureSpec=makeMeasureSpec(widthMeasureSpec,mMaxWidth);
  final int newHeightMeasureSpec=makeMeasureSpec(heightMeasureSpec,mMaxHeight);
  super.onMeasure(newWidthMeasureSpec,newHeightMeasureSpec);
  final int desiredWidth=Math.max(mMinWidth,getMeasuredWidth());
  final int desiredHeight=Math.max(mMinHeight,getMeasuredHeight());
  final int widthSize=resolveSizeAndState(desiredWidth,newWidthMeasureSpec,0);
  final int heightSize=resolveSizeAndState(desiredHeight,newHeightMeasureSpec,0);
  setMeasuredDimension(widthSize,heightSize);
}
