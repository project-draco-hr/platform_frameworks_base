{
  if ((mode & Intent.FLAG_GRANT_READ_URI_PERMISSION) != 0 && readUriPermissions != null) {
    for (    UriPermission perm : readUriPermissions) {
      perm.readOwners.remove(this);
      if (perm.readOwners.size() == 0 && (perm.globalModeFlags & Intent.FLAG_GRANT_READ_URI_PERMISSION) == 0) {
        perm.modeFlags&=~Intent.FLAG_GRANT_READ_URI_PERMISSION;
        service.removeUriPermissionIfNeededLocked(perm);
      }
    }
    readUriPermissions=null;
  }
  if ((mode & Intent.FLAG_GRANT_WRITE_URI_PERMISSION) != 0 && writeUriPermissions != null) {
    for (    UriPermission perm : writeUriPermissions) {
      perm.writeOwners.remove(this);
      if (perm.writeOwners.size() == 0 && (perm.globalModeFlags & Intent.FLAG_GRANT_WRITE_URI_PERMISSION) == 0) {
        perm.modeFlags&=~Intent.FLAG_GRANT_WRITE_URI_PERMISSION;
        service.removeUriPermissionIfNeededLocked(perm);
      }
    }
    writeUriPermissions=null;
  }
}
