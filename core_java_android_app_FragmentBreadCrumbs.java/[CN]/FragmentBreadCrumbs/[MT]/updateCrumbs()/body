{
  FragmentManager fm=mActivity.getFragmentManager();
  int numEntries=fm.countBackStackEntries();
  int numViews=mContainer.getChildCount();
  for (int i=mTopEntry != null ? -1 : 0; i < numEntries; i++) {
    BackStackEntry bse=i == -1 ? mTopEntry : fm.getBackStackEntry(i);
    int viewI=mTopEntry != null ? i + 1 : i;
    if (viewI < numViews) {
      View v=mContainer.getChildAt(viewI);
      Object tag=v.getTag();
      if (tag != bse) {
        for (int j=viewI; j < numViews; j++) {
          mContainer.removeViewAt(viewI);
        }
        numViews=viewI;
      }
    }
    if (viewI >= numViews) {
      View item=mInflater.inflate(com.android.internal.R.layout.fragment_bread_crumb_item,this,false);
      TextView text=(TextView)item.findViewById(com.android.internal.R.id.title);
      text.setText(bse.getBreadCrumbTitle());
      item.setTag(bse);
      if (viewI == 0) {
        text.setCompoundDrawables(null,null,null,null);
      }
      mContainer.addView(item);
      item.setOnClickListener(mOnClickListener);
    }
  }
  int viewI=mTopEntry != null ? numEntries + 1 : numEntries;
  numViews=mContainer.getChildCount();
  while (numViews > viewI) {
    mContainer.removeViewAt(numViews - 1);
    numViews--;
  }
}
