{
  final int count=getChildCount();
  int maxHeight=0;
  int maxWidth=0;
  for (int i=0; i < count; i++) {
    final View child=getChildAt(i);
    if (child.getVisibility() != GONE) {
      measureChild(child,widthMeasureSpec,heightMeasureSpec);
      maxWidth=Math.max(maxWidth,child.getMeasuredWidth());
      maxHeight=Math.max(maxHeight,child.getMeasuredHeight());
    }
  }
  maxWidth+=mPaddingLeft + mPaddingRight;
  maxHeight+=mPaddingTop + mPaddingBottom;
  maxHeight=Math.max(maxHeight,getSuggestedMinimumHeight());
  maxWidth=Math.max(maxWidth,getSuggestedMinimumWidth());
  setMeasuredDimension(resolveSize(maxWidth,widthMeasureSpec),resolveSize(maxHeight,heightMeasureSpec));
}
