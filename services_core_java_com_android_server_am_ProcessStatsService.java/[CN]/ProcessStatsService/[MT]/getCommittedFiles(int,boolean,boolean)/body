{
  File[] files=mBaseDir.listFiles();
  if (files == null || files.length <= minNum) {
    return null;
  }
  ArrayList<String> filesArray=new ArrayList<String>(files.length);
  String currentFile=mFile.getBaseFile().getPath();
  if (DEBUG)   Slog.d(TAG,"Collecting " + files.length + " files except: "+ currentFile);
  for (int i=0; i < files.length; i++) {
    File file=files[i];
    String fileStr=file.getPath();
    if (DEBUG)     Slog.d(TAG,"Collecting: " + fileStr);
    if (!inclCheckedIn && fileStr.endsWith(STATE_FILE_CHECKIN_SUFFIX)) {
      if (DEBUG)       Slog.d(TAG,"Skipping: already checked in");
      continue;
    }
    if (!inclCurrent && fileStr.equals(currentFile)) {
      if (DEBUG)       Slog.d(TAG,"Skipping: current stats");
      continue;
    }
    filesArray.add(fileStr);
  }
  Collections.sort(filesArray);
  return filesArray;
}
