{
  if (mInputViewStarted) {
    if (DEBUG)     Log.v(TAG,"CALL: onFinishInputView");
    onFinishInputView(false);
  }
 else   if (mCandidatesViewStarted) {
    if (DEBUG)     Log.v(TAG,"CALL: onFinishCandidatesView");
    onFinishCandidatesView(false);
  }
  mInputViewStarted=false;
  mCandidatesViewStarted=false;
  mImm.setIMEButtonVisible(mToken,false);
  if (mWindowVisible) {
    mWindow.hide();
    mWindowVisible=false;
    onWindowHidden();
    mWindowWasVisible=false;
  }
}
