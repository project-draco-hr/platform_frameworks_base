{
  mInitialized=false;
  mWindowCreated=false;
  mShowInputRequested=false;
  mShowInputForced=false;
  mThemeAttrs=obtainStyledAttributes(android.R.styleable.InputMethodService);
  mRootView=mInflater.inflate(com.android.internal.R.layout.input_method,null);
  mRootView.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION);
  mWindow.setContentView(mRootView);
  mRootView.getViewTreeObserver().addOnComputeInternalInsetsListener(mInsetsComputer);
  if (Settings.Global.getInt(getContentResolver(),Settings.Global.FANCY_IME_ANIMATIONS,0) != 0) {
    mWindow.getWindow().setWindowAnimations(com.android.internal.R.style.Animation_InputMethodFancy);
  }
  mFullscreenArea=(ViewGroup)mRootView.findViewById(com.android.internal.R.id.fullscreenArea);
  mExtractViewHidden=false;
  mExtractFrame=(FrameLayout)mRootView.findViewById(android.R.id.extractArea);
  mExtractView=null;
  mExtractEditText=null;
  mExtractAccessories=null;
  mExtractAction=null;
  mFullscreenApplied=false;
  mCandidatesFrame=(FrameLayout)mRootView.findViewById(android.R.id.candidatesArea);
  mInputFrame=(FrameLayout)mRootView.findViewById(android.R.id.inputArea);
  mInputView=null;
  mIsInputViewShown=false;
  mExtractFrame.setVisibility(View.GONE);
  mCandidatesVisibility=getCandidatesHiddenVisibility();
  mCandidatesFrame.setVisibility(mCandidatesVisibility);
  mInputFrame.setVisibility(View.GONE);
}
