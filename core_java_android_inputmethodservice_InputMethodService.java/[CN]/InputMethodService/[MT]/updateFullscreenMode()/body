{
  boolean isFullscreen=onEvaluateFullscreenMode();
  if (mIsFullscreen != isFullscreen || !mFullscreenApplied) {
    mIsFullscreen=isFullscreen;
    mFullscreenApplied=true;
    mWindow.getWindow().setBackgroundDrawable(onCreateBackgroundDrawable());
    mExtractFrame.setVisibility(isFullscreen ? View.VISIBLE : View.GONE);
    if (isFullscreen) {
      if (mExtractView == null) {
        View v=onCreateExtractTextView();
        if (v != null) {
          setExtractView(v);
        }
      }
      startExtractingText();
      mWindow.getWindow().setLayout(FILL_PARENT,FILL_PARENT);
    }
 else {
      mWindow.getWindow().setLayout(WRAP_CONTENT,WRAP_CONTENT);
    }
  }
}
