{
  super.onDestroy();
  mRootView.getViewTreeObserver().removeOnComputeInternalInsetsListener(mInsetsComputer);
  doFinishInput();
  if (mWindowAdded) {
    mWindow.getWindow().setWindowAnimations(0);
    mWindow.dismiss();
  }
  if (mSettingsObserver != null) {
    mSettingsObserver.unregister();
    mSettingsObserver=null;
  }
}
