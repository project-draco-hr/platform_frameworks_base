{
  if (mShowCandidatesRequested != shown) {
    mCandidatesFrame.setVisibility(shown ? View.VISIBLE : View.INVISIBLE);
    if (!mShowInputRequested) {
      if (shown) {
        showWindow(false);
      }
 else {
        hideWindow();
      }
    }
    mShowCandidatesRequested=shown;
  }
}
