{
  if (mShowCandidatesRequested != shown) {
    mCandidatesFrame.setVisibility(shown ? View.VISIBLE : View.INVISIBLE);
    mShowCandidatesRequested=shown;
  }
  if (!mShowInputRequested && mWindowVisible != shown) {
    if (shown) {
      showWindow(false);
    }
 else {
      hideWindow();
    }
  }
}
