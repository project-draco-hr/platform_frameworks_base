{
  if (isBusy()) {
    throw new IllegalStateException("Busy");
  }
  if (mode != MODE_NORMAL && mode != MODE_SEND_ONLY && mode != MODE_RECEIVE_ONLY) {
    throw new IllegalArgumentException("Invalid mode");
  }
  mMode=mode;
}
