{
  if (!str.endsWith(before)) {
    throw new IllegalArgumentException("Expected " + str + " to end with "+ before);
  }
  return str.substring(0,str.length() - before.length()) + after;
}
