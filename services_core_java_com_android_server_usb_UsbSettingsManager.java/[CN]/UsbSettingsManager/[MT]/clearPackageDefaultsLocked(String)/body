{
  boolean cleared=false;
synchronized (mLock) {
    if (mDevicePreferenceMap.containsValue(packageName)) {
      Object[] keys=mDevicePreferenceMap.keySet().toArray();
      for (int i=0; i < keys.length; i++) {
        Object key=keys[i];
        if (packageName.equals(mDevicePreferenceMap.get(key))) {
          mDevicePreferenceMap.remove(key);
          cleared=true;
        }
      }
    }
    if (mAccessoryPreferenceMap.containsValue(packageName)) {
      Object[] keys=mAccessoryPreferenceMap.keySet().toArray();
      for (int i=0; i < keys.length; i++) {
        Object key=keys[i];
        if (packageName.equals(mAccessoryPreferenceMap.get(key))) {
          mAccessoryPreferenceMap.remove(key);
          cleared=true;
        }
      }
    }
    return cleared;
  }
}
