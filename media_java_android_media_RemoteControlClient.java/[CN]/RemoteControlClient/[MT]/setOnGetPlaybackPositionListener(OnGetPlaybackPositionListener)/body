{
synchronized (mCacheLock) {
    int oldCapa=mPlaybackPositionCapabilities;
    if (l != null) {
      mPlaybackPositionCapabilities|=MEDIA_POSITION_READABLE;
    }
 else {
      mPlaybackPositionCapabilities&=~MEDIA_POSITION_READABLE;
    }
    mPositionProvider=l;
    if (oldCapa != mPlaybackPositionCapabilities) {
      sendTransportControlInfo_syncCacheLock(null);
    }
    if ((mPositionProvider != null) && (mEventHandler != null) && playbackPositionShouldMove(mPlaybackState)) {
      mEventHandler.sendMessageDelayed(mEventHandler.obtainMessage(MSG_POSITION_DRIFT_CHECK),0);
    }
  }
}
