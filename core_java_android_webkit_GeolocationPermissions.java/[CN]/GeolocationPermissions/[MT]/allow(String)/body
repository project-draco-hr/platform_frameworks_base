{
  mLock.lock();
  if (mHandler == null) {
    if (mOriginsToAllow == null) {
      mOriginsToAllow=new HashSet<String>();
    }
    mOriginsToAllow.add(origin);
    if (mOriginsToClear != null) {
      mOriginsToClear.remove(origin);
    }
  }
 else {
    postMessage(Message.obtain(null,ALLOW,origin));
  }
  mLock.unlock();
}
