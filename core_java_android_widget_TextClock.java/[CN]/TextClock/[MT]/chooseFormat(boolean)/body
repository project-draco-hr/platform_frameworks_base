{
  final boolean format24Requested=is24HourModeEnabled();
  LocaleData ld=LocaleData.get(getContext().getResources().getConfiguration().locale);
  if (format24Requested) {
    mFormat=abc(mFormat24,mFormat12,ld.timeFormat_Hm);
    mDescFormat=abc(mDescFormat24,mDescFormat12,mFormat);
  }
 else {
    mFormat=abc(mFormat12,mFormat24,ld.timeFormat_hm);
    mDescFormat=abc(mDescFormat12,mDescFormat24,mFormat);
  }
  boolean hadSeconds=mHasSeconds;
  mHasSeconds=DateFormat.hasSeconds(mFormat);
  if (handleTicker && mAttached && hadSeconds != mHasSeconds) {
    if (hadSeconds)     getHandler().removeCallbacks(mTicker);
 else     mTicker.run();
  }
}
