{
  NfcActivityState state=getOrCreateState(activity,callback != null);
  if (state == null || state.onNdefPushCompleteCallback == callback) {
    return;
  }
  state.onNdefPushCompleteCallback=callback;
  if (callback == null) {
    maybeRemoveState(activity,state);
  }
  if (state.resumed) {
    updateNfcService(state);
  }
}
