{
switch (msg.what) {
case EVENT_START_DATA_DOWNLOAD:
    handleDataDownload((SmsMessage)msg.obj);
  break;
case EVENT_SEND_ENVELOPE_RESPONSE:
AsyncResult ar=(AsyncResult)msg.obj;
if (ar.exception != null) {
Log.e(TAG,"UICC Send Envelope failure, exception: " + ar.exception);
acknowledgeSmsWithError(CommandsInterface.GSM_SMS_FAIL_CAUSE_USIM_DATA_DOWNLOAD_ERROR);
return;
}
int[] dcsPid=(int[])ar.userObj;
sendSmsAckForEnvelopeResponse((IccIoResult)ar.result,dcsPid[0],dcsPid[1]);
break;
default :
Log.e(TAG,"Ignoring unexpected message, what=" + msg.what);
}
}
