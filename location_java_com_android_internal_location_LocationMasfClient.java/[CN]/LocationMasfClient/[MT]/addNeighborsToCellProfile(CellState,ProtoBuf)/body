{
  List<CellState.NeighborCell> neighbors=cellState.getNeighbors();
  if (neighbors != null) {
    for (    CellState.NeighborCell neighbor : neighbors) {
      ProtoBuf nCell=new ProtoBuf(GcellularMessageTypes.GCELL);
      nCell.setInt(GCell.CELLID,neighbor.getCid());
      nCell.setInt(GCell.LAC,neighbor.getLac());
      nCell.setInt(GCell.RSSI,neighbor.getRssi());
      if (neighbor.getPsc() != -1) {
        nCell.setInt(GCell.PRIMARY_SCRAMBLING_CODE,neighbor.getPsc());
      }
      cellularProfile.addProtoBuf(GCellularProfile.NEIGHBORS,nCell);
    }
  }
}
