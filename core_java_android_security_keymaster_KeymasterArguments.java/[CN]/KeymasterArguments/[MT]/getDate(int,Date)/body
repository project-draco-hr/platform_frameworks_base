{
  if (KeymasterDefs.getTagType(tag) != KeymasterDefs.KM_DATE) {
    throw new IllegalArgumentException("Tag is not a date type: " + tag);
  }
  KeymasterArgument arg=getArgumentByTag(tag);
  if (arg == null) {
    return defaultValue;
  }
  return ((KeymasterDateArgument)arg).date;
}
