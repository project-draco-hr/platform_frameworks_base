{
  float pos;
  if (mDx == 0) {
    pos=(y - mY0) / mDy;
  }
 else   if (mDy == 0) {
    pos=(x - mX0) / mDx;
  }
 else {
    float _x=(mDx * mDy * (y - mY0) + mDy * mDy * mX0 + mDx * mDx * x) / mDSize2;
    pos=(_x - mX0) / mDx;
  }
  return getGradientColor(pos);
}
