{
  Settings.System.putInt(mContext.getContentResolver(),Settings.System.AIRPLANE_MODE_ON,on ? 1 : 0);
  Intent intent=new Intent(Intent.ACTION_AIRPLANE_MODE_CHANGED);
  intent.addFlags(Intent.FLAG_RECEIVER_REPLACE_PENDING);
  intent.putExtra("state",on);
  mContext.sendBroadcast(intent);
  if (!mHasTelephony) {
    mAirplaneState=on ? ToggleAction.State.On : ToggleAction.State.Off;
  }
}
