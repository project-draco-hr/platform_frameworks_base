{
  willCreate();
  View v=inflater.inflate(R.layout.global_actions_item,parent,false);
  ImageView icon=(ImageView)v.findViewById(R.id.icon);
  TextView messageView=(TextView)v.findViewById(R.id.message);
  TextView statusView=(TextView)v.findViewById(R.id.status);
  final boolean enabled=isEnabled();
  if (messageView != null) {
    messageView.setText(mMessageResId);
    messageView.setEnabled(enabled);
  }
  boolean on=((mState == State.On) || (mState == State.TurningOn));
  if (icon != null) {
    icon.setImageDrawable(context.getResources().getDrawable((on ? mEnabledIconResId : mDisabledIconResid)));
    icon.setEnabled(enabled);
  }
  if (statusView != null) {
    statusView.setText(on ? mEnabledStatusMessageResId : mDisabledStatusMessageResId);
    statusView.setVisibility(View.VISIBLE);
    statusView.setEnabled(enabled);
  }
  v.setEnabled(enabled);
  return v;
}
