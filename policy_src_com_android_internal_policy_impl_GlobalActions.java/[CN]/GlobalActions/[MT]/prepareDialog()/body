{
  refreshSilentMode();
  mAirplaneModeOn.updateState(mAirplaneState);
  mAdapter.notifyDataSetChanged();
  if (mKeyguardShowing) {
    mDialog.getWindow().setType(WindowManager.LayoutParams.TYPE_KEYGUARD_DIALOG);
  }
 else {
    mDialog.getWindow().setType(WindowManager.LayoutParams.TYPE_SYSTEM_DIALOG);
  }
  if (SHOW_SILENT_TOGGLE) {
    IntentFilter filter=new IntentFilter(AudioManager.RINGER_MODE_CHANGED_ACTION);
    mContext.registerReceiver(mRingerModeReceiver,filter);
  }
}
