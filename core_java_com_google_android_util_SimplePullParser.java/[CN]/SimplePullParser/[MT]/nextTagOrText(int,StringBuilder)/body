{
  while (true) {
    int eventType=0;
    try {
      eventType=mParser.next();
    }
 catch (    XmlPullParserException e) {
      throw new ParseException(e);
    }
    int depth=mParser.getDepth();
    mCurrentStartTag=null;
    if (eventType == XmlPullParser.START_TAG && depth == parentDepth + 1) {
      mCurrentStartTag=mParser.getName();
      if (mLogTag != null && Log.isLoggable(mLogTag,Log.DEBUG)) {
        StringBuilder sb=new StringBuilder();
        for (int i=0; i < depth; i++)         sb.append("  ");
        sb.append("<").append(mParser.getName());
        int count=mParser.getAttributeCount();
        for (int i=0; i < count; i++) {
          sb.append(" ");
          sb.append(mParser.getAttributeName(i));
          sb.append("=\"");
          sb.append(mParser.getAttributeValue(i));
          sb.append("\"");
        }
        sb.append(">");
        Log.d(mLogTag,sb.toString());
      }
      return mParser.getName();
    }
    if (eventType == XmlPullParser.END_TAG && depth == parentDepth) {
      if (mLogTag != null && Log.isLoggable(mLogTag,Log.DEBUG)) {
        StringBuilder sb=new StringBuilder();
        for (int i=0; i < depth; i++)         sb.append("  ");
        sb.append("</>");
        Log.d(mLogTag,sb.toString());
      }
      return null;
    }
    if (eventType == XmlPullParser.END_DOCUMENT && parentDepth == 0) {
      return null;
    }
    if (eventType == XmlPullParser.TEXT && depth == parentDepth) {
      if (textBuilder == null) {
        continue;
      }
      String text=mParser.getText();
      textBuilder.append(text);
      return TEXT_TAG;
    }
  }
}
