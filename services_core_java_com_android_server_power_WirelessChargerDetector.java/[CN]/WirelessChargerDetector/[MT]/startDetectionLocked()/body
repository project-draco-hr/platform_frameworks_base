{
  if (!mDetectionInProgress && mGravitySensor != null) {
    if (mSensorManager.registerListener(mListener,mGravitySensor,SAMPLING_INTERVAL_MILLIS * 1000)) {
      mSuspendBlocker.acquire();
      mDetectionInProgress=true;
      mDetectionStartTime=SystemClock.uptimeMillis();
      mTotalSamples=0;
      mMovingSamples=0;
      Message msg=Message.obtain(mHandler,mSensorTimeout);
      msg.setAsynchronous(true);
      mHandler.sendMessageDelayed(msg,SETTLE_TIME_MILLIS);
    }
  }
}
