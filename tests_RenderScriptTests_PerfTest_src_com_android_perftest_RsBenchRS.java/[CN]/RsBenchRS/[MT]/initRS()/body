{
  mScript=new ScriptC_rsbench(mRS,mRes,R.raw.rsbench);
  mRS.bindRootScript(mScript);
  mRS.setMessageHandler(mRsMessage);
  mScript.set_gMaxLoops(mLoops);
  prepareTestData();
  initProgramVertex();
  initProgramFragment();
  mScript.set_gFontSerif(Font.create(mRS,mRes,"serif",Font.Style.NORMAL,8));
  Type.Builder b=new Type.Builder(mRS,Element.RGBA_8888(mRS));
  b.setX(mBenchmarkDimX).setY(mBenchmarkDimY);
  Allocation offscreen=Allocation.createTyped(mRS,b.create(),Allocation.USAGE_GRAPHICS_TEXTURE | Allocation.USAGE_GRAPHICS_RENDER_TARGET);
  mScript.set_gRenderBufferColor(offscreen);
  b=new Type.Builder(mRS,Element.createPixel(mRS,DataType.UNSIGNED_16,DataKind.PIXEL_DEPTH));
  b.setX(mBenchmarkDimX).setY(mBenchmarkDimY);
  offscreen=Allocation.createTyped(mRS,b.create(),Allocation.USAGE_GRAPHICS_RENDER_TARGET);
  mScript.set_gRenderBufferDepth(offscreen);
  mScript.set_gLinearClamp(Sampler.CLAMP_LINEAR(mRS));
  RsBenchBaseTest test=new TextTest();
  if (test.init(mRS,mRes)) {
    appendTests(test);
  }
  test=new FillTest();
  if (test.init(mRS,mRes)) {
    appendTests(test);
  }
  test=new MeshTest();
  if (test.init(mRS,mRes)) {
    appendTests(test);
  }
  test=new TorusTest();
  if (test.init(mRS,mRes)) {
    appendTests(test);
  }
  test=new UiTest();
  if (test.init(mRS,mRes)) {
    appendTests(test);
  }
  createTestAllocation();
  mScript.set_gLoadComplete(true);
}
