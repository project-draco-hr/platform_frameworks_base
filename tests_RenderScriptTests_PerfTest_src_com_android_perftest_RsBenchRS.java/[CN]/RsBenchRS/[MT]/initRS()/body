{
  mScript=new ScriptC_rsbench(mRS,mRes,R.raw.rsbench);
  mRS.setMessageHandler(mRsMessage);
  mMaxModes=mScript.get_gMaxModes();
  mScript.set_gMaxLoops(mLoops);
  prepareTestData();
  initSamplers();
  initProgramStore();
  initProgramFragment();
  initProgramVertex();
  initFonts();
  loadImages();
  initMesh();
  initProgramRaster();
  initCustomShaders();
  Type.Builder b=new Type.Builder(mRS,Element.RGBA_8888(mRS));
  b.setX(mBenchmarkDimX).setY(mBenchmarkDimY);
  Allocation offscreen=Allocation.createTyped(mRS,b.create(),Allocation.USAGE_GRAPHICS_TEXTURE | Allocation.USAGE_GRAPHICS_RENDER_TARGET);
  mScript.set_gRenderBufferColor(offscreen);
  b=new Type.Builder(mRS,Element.createPixel(mRS,DataType.UNSIGNED_16,DataKind.PIXEL_DEPTH));
  b.setX(mBenchmarkDimX).setY(mBenchmarkDimY);
  offscreen=Allocation.createTyped(mRS,b.create(),Allocation.USAGE_GRAPHICS_RENDER_TARGET);
  mScript.set_gRenderBufferDepth(offscreen);
  mTextureAllocs=new ScriptField_ListAllocs_s(mRS,100);
  for (int i=0; i < 100; i++) {
    ScriptField_ListAllocs_s.Item texElem=new ScriptField_ListAllocs_s.Item();
    texElem.item=loadTextureRGB(R.drawable.globe);
    mTextureAllocs.set(texElem,i,false);
  }
  mTextureAllocs.copyAll();
  mScript.bind_gTexList100(mTextureAllocs);
  mSampleTextAllocs=new ScriptField_ListAllocs_s(mRS,100);
  for (int i=0; i < 100; i++) {
    ScriptField_ListAllocs_s.Item textElem=new ScriptField_ListAllocs_s.Item();
    textElem.item=Allocation.createFromString(mRS,SAMPLE_TEXT,Allocation.USAGE_SCRIPT);
    mSampleTextAllocs.set(textElem,i,false);
  }
  mSampleTextAllocs.copyAll();
  mScript.bind_gSampleTextList100(mSampleTextAllocs);
  mRS.bindRootScript(mScript);
}
