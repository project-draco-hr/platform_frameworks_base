{
  byte[] allocArray=null;
  try {
    allocArray=str.getBytes("UTF-8");
    byte[] allocArrayZero=new byte[allocArray.length + 1];
    System.arraycopy(allocArray,0,allocArrayZero,0,allocArray.length);
    allocArrayZero[allocArrayZero.length - 1]='\0';
    Allocation alloc=Allocation.createSized(rs,Element.U8(rs),allocArrayZero.length,usage);
    alloc.copyFrom(allocArrayZero);
    return alloc;
  }
 catch (  Exception e) {
    throw new RSRuntimeException("Could not convert string to utf-8.");
  }
}
