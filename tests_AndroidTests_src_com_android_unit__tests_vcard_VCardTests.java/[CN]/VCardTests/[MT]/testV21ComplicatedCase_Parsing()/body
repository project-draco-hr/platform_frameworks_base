{
  VCardParser_V21 parser=new VCardParser_V21();
  VNodeBuilder builder=new VNodeBuilder();
  InputStream is=getContext().getResources().openRawResource(R.raw.v21_complicated);
  assertEquals(true,parser.parse(is,"ISO-8859-1",builder));
  is.close();
  assertEquals(1,builder.vNodeList.size());
  ContentValues contentValuesForQP=new ContentValues();
  contentValuesForQP.put("ENCODING","QUOTED-PRINTABLE");
  ContentValues contentValuesForPhoto=new ContentValues();
  contentValuesForPhoto.put("ENCODING","BASE64");
  PropertyNodesVerifier verifier=new PropertyNodesVerifier().addPropertyNode("VERSION","2.1",null,null,null,null,null).addPropertyNode("N","Gump;Forrest;Hoge;Pos;Tao",Arrays.asList("Gump","Forrest","Hoge","Pos","Tao"),null,null,null,null).addPropertyNode("FN","Joe Due",null,null,null,null,null).addPropertyNode("ORG","Gump Shrimp Co.;Sales Dept.;Manager;Fish keeper",Arrays.asList("Gump Shrimp Co.","Sales Dept.;Manager","Fish keeper"),null,null,null,null).addPropertyNode("ROLE","Fish Cake Keeper!",null,null,null,null,null).addPropertyNode("TITLE","Shrimp Man",null,null,null,null,null).addPropertyNode("X-CLASS","PUBLIC",null,null,null,null,null).addPropertyNode("TEL","(111) 555-1212",null,null,null,new HashSet<String>(Arrays.asList("WORK","VOICE")),null).addPropertyNode("TEL","(404) 555-1212",null,null,null,new HashSet<String>(Arrays.asList("HOME","VOICE")),null).addPropertyNode("TEL","0311111111",null,null,null,new HashSet<String>(Arrays.asList("CELL")),null).addPropertyNode("TEL","0322222222",null,null,null,new HashSet<String>(Arrays.asList("VIDEO")),null).addPropertyNode("TEL","0333333333",null,null,null,new HashSet<String>(Arrays.asList("VOICE")),null).addPropertyNode("ADR",";;100 Waters Edge;Baytown;LA;30314;United States of America",Arrays.asList("","","100 Waters Edge","Baytown","LA","30314","United States of America"),null,null,new HashSet<String>(Arrays.asList("WORK")),null).addPropertyNode("LABEL","100 Waters Edge\r\nBaytown, LA 30314\r\nUnited  States of America",null,null,contentValuesForQP,new HashSet<String>(Arrays.asList("WORK")),null).addPropertyNode("ADR",";;42 Plantation St.;Baytown;LA;30314;United States of America",Arrays.asList("","","42 Plantation St.","Baytown","LA","30314","United States of America"),null,null,new HashSet<String>(Arrays.asList("HOME")),null).addPropertyNode("LABEL","42 Plantation St.\r\nBaytown, LA 30314\r\nUnited  States of America",null,null,contentValuesForQP,new HashSet<String>(Arrays.asList("HOME")),null).addPropertyNode("EMAIL","forrestgump@walladalla.com",null,null,null,new HashSet<String>(Arrays.asList("PREF","INTERNET")),null).addPropertyNode("EMAIL","cell@example.com",null,null,null,new HashSet<String>(Arrays.asList("CELL")),null).addPropertyNode("NOTE","The following note is the example from RFC 2045.",null,null,null,null,null).addPropertyNode("NOTE","Now's the time for all folk to come to the aid of their country.",null,null,contentValuesForQP,null,null).addPropertyNode("PHOTO",null,null,sPhotoByteArrayForComplicatedCase,contentValuesForPhoto,new HashSet<String>(Arrays.asList("JPEG")),null).addPropertyNode("X-ATTRIBUTE","Some String",null,null,null,null,null).addPropertyNode("BDAY","19800101",null,null,null,null,null).addPropertyNode("GEO","35.6563854,139.6994233",null,null,null,null,null).addPropertyNode("URL","http://www.example.com/",null,null,null,null,null).addPropertyNode("REV","20080424T195243Z",null,null,null,null,null);
  verifier.verify(builder.vNodeList.get(0));
}
