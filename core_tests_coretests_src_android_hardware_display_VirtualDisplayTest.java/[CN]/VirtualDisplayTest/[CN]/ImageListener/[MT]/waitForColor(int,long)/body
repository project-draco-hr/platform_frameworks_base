{
  long timeoutTime=SystemClock.uptimeMillis() + timeoutMillis;
synchronized (this) {
    while (mColor != color) {
      long now=SystemClock.uptimeMillis();
      if (now >= timeoutTime) {
        return false;
      }
      try {
        wait(timeoutTime - now);
      }
 catch (      InterruptedException ex) {
      }
    }
    return true;
  }
}
