{
  Map<String,String> env=System.getenv();
  for (  Map.Entry<String,String> entry : env.entrySet()) {
    L.d("%s %s",entry.getKey(),entry.getValue());
  }
  String androidHome=env.get("ANDROID_HOME");
  if (androidHome == null) {
    throw new IllegalStateException("you need to have ANDROID_HOME set in your environment" + " to run compiler tests");
  }
  File androidJar=new File(androidHome + "/platforms/android-21/android.jar");
  if (!androidJar.exists() || !androidJar.canRead()) {
    throw new IllegalStateException("cannot find android jar at " + androidJar.getAbsolutePath());
  }
  try {
    ClassLoader classLoader=new URLClassLoader(new URL[]{androidJar.toURI().toURL()},ModelAnalyzer.class.getClassLoader());
    new JavaAnalyzer(classLoader,true);
  }
 catch (  MalformedURLException e) {
    throw new RuntimeException("cannot create class loader",e);
  }
  SdkUtil.initialize(8,new File(androidHome));
}
