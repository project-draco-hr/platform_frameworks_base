{
  int screenHeight=getResources().getDisplayMetrics().heightPixels;
  final int[] xy=new int[2];
  getLocationOnScreen(xy);
  final int bottomGap=screenHeight - xy[1] - getHeight() + (int)(mDensityScale * 20);
  if (!mPopup.isShowing()) {
    mPopup.showAtLocation(this,Gravity.BOTTOM | Gravity.CENTER_HORIZONTAL,xy[0],bottomGap);
  }
 else {
    mPopup.update(xy[0],bottomGap,-1,-1);
  }
}
