{
  final int firstPos=mFirstPosition;
  final int count=getChildCount();
  final boolean useActivated=getContext().getApplicationInfo().targetSdkVersion >= android.os.Build.VERSION_CODES.HONEYCOMB;
  for (int i=0; i < count; i++) {
    final View child=getChildAt(i);
    final int position=firstPos + i;
    if (child instanceof Checkable) {
      ((Checkable)child).setChecked(mCheckStates.get(position));
    }
 else     if (useActivated) {
      child.setActivated(mCheckStates.get(position));
    }
  }
}
