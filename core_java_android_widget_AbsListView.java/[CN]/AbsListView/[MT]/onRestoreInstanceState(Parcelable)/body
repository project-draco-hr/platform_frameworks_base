{
  SavedState ss=(SavedState)state;
  super.onRestoreInstanceState(ss.getSuperState());
  mDataChanged=true;
  mSyncHeight=ss.height;
  if (ss.selectedId >= 0) {
    mNeedSync=true;
    mSyncRowId=ss.selectedId;
    mSyncPosition=ss.position;
    mSpecificTop=ss.viewTop;
    mSyncMode=SYNC_SELECTED_POSITION;
  }
 else   if (ss.firstId >= 0) {
    setSelectedPositionInt(INVALID_POSITION);
    setNextSelectedPositionInt(INVALID_POSITION);
    mNeedSync=true;
    mSyncRowId=ss.firstId;
    mSyncPosition=ss.position;
    mSpecificTop=ss.viewTop;
    mSyncMode=SYNC_FIRST_POSITION;
  }
  if (acceptFilter()) {
    String filterText=ss.filter;
    setFilterText(filterText);
  }
  requestLayout();
}
