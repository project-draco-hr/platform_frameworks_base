{
switch (mTouchMode) {
default :
    return;
case TOUCH_MODE_FLING:
{
    if (mItemCount == 0 || getChildCount() == 0) {
      endFling();
      return;
    }
    final OverScroller scroller=mScroller;
    boolean more=scroller.computeScrollOffset();
    final int y=scroller.getCurrY();
    int delta=mLastFlingY - y;
    if (delta > 0) {
      mMotionPosition=mFirstPosition;
      final View firstView=getChildAt(0);
      mMotionViewOriginalTop=firstView.getTop();
      delta=Math.min(getHeight() - mPaddingBottom - mPaddingTop- 1,delta);
    }
 else {
      int offsetToLast=getChildCount() - 1;
      mMotionPosition=mFirstPosition + offsetToLast;
      final View lastView=getChildAt(offsetToLast);
      mMotionViewOriginalTop=lastView.getTop();
      delta=Math.max(-(getHeight() - mPaddingBottom - mPaddingTop- 1),delta);
    }
    View motionView=getChildAt(mMotionPosition - mFirstPosition);
    int oldTop=0;
    if (motionView != null) {
      oldTop=motionView.getTop();
    }
    if (trackMotionScroll(delta,delta)) {
      if (motionView != null) {
        mScrollY-=delta - (motionView.getTop() - oldTop);
      }
      float vel=scroller.getCurrVelocity();
      if (delta > 0) {
        vel=-vel;
      }
      startOverfling(Math.round(vel));
      break;
    }
    if (more) {
      invalidate();
      mLastFlingY=y;
      post(this);
    }
 else {
      endFling();
      if (PROFILE_FLINGING) {
        if (mFlingProfilingStarted) {
          Debug.stopMethodTracing();
          mFlingProfilingStarted=false;
        }
      }
    }
    break;
  }
case TOUCH_MODE_OVERFLING:
{
  final OverScroller scroller=mScroller;
  if (scroller.computeScrollOffset()) {
    final int scrollY=mScrollY;
    final int deltaY=scroller.getCurrY() - scrollY;
    if (overscrollBy(0,deltaY,0,scrollY,0,0,0,getOverscrollMax())) {
      startSpringback();
    }
 else {
      invalidate();
      post(this);
    }
  }
 else {
    endFling();
  }
  break;
}
}
}
