{
  if (mDebug)   Log.d(mTag,"packageIntent intent=" + intent + " extras="+ bundleToString(intent.getExtras()));
  if (Intent.ACTION_PACKAGE_ADDED.equals(intent.getAction())) {
    mHandler.sendEmptyMessage(MSG_START_SERVICE);
  }
 else   if (Intent.ACTION_PACKAGE_CHANGED.equals(intent.getAction()) || Intent.ACTION_PACKAGE_REMOVED.equals(intent.getAction())) {
    final PackageManager pm=mContext.getPackageManager();
    final boolean serviceEnabled=isPackageAvailable() && pm.getApplicationEnabledSetting(mServiceName.getPackageName()) != PackageManager.COMPONENT_ENABLED_STATE_DISABLED && pm.getComponentEnabledSetting(mServiceName) != PackageManager.COMPONENT_ENABLED_STATE_DISABLED;
    if (mBound && !serviceEnabled) {
      stopService();
      scheduleCheckBound();
    }
 else     if (!mBound && serviceEnabled) {
      startService();
    }
  }
}
