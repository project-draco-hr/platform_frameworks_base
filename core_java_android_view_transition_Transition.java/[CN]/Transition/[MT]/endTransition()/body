{
  --mNumInstances;
  if (mNumInstances == 0) {
    onTransitionEnd();
    if (mListeners != null && mListeners.size() > 0) {
      ArrayList<TransitionListener> tmpListeners=(ArrayList<TransitionListener>)mListeners.clone();
      int numListeners=tmpListeners.size();
      for (int i=0; i < numListeners; ++i) {
        tmpListeners.get(i).onTransitionEnd(this);
      }
    }
    for (int i=0; i < mStartValues.itemIdValues.size(); ++i) {
      TransitionValues tv=mStartValues.itemIdValues.valueAt(i);
      View v=tv.view;
      if (v.hasTransientState()) {
        v.setHasTransientState(false);
      }
    }
    for (int i=0; i < mEndValues.itemIdValues.size(); ++i) {
      TransitionValues tv=mEndValues.itemIdValues.valueAt(i);
      View v=tv.view;
      if (v.hasTransientState()) {
        v.setHasTransientState(false);
      }
    }
    mStartValues.viewValues.clear();
    mStartValues.idValues.clear();
    mStartValues.itemIdValues.clear();
    mEndValues.viewValues.clear();
    mEndValues.idValues.clear();
    mEndValues.itemIdValues.clear();
    mCurrentAnimators.clear();
  }
}
