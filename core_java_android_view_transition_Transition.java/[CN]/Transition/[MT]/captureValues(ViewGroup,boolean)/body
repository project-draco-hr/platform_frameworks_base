{
  if (mTargetIds != null && mTargetIds.length > 0 || mTargets != null && mTargets.length > 0) {
    if (mTargetIds != null) {
      for (int i=0; i < mTargetIds.length; ++i) {
        int id=mTargetIds[i];
        View view=sceneRoot.findViewById(id);
        if (view != null) {
          TransitionValues values=new TransitionValues();
          values.view=view;
          captureValues(values,start);
          if (start) {
            mStartValues.viewValues.put(view,values);
            if (id >= 0) {
              mStartValues.idValues.put(id,values);
            }
          }
 else {
            mEndValues.viewValues.put(view,values);
            if (id >= 0) {
              mEndValues.idValues.put(id,values);
            }
          }
        }
      }
    }
    if (mTargets != null) {
      for (int i=0; i < mTargets.length; ++i) {
        View view=mTargets[i];
        if (view != null) {
          TransitionValues values=new TransitionValues();
          values.view=view;
          captureValues(values,start);
          if (start) {
            mStartValues.viewValues.put(view,values);
          }
 else {
            mEndValues.viewValues.put(view,values);
          }
        }
      }
    }
  }
 else {
    captureHierarchy(sceneRoot,start);
  }
}
