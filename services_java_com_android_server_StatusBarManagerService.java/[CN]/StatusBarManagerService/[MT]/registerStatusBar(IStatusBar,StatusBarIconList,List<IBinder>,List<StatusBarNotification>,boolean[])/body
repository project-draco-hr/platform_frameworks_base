{
  enforceStatusBarService();
  Slog.i(TAG,"registerStatusBar bar=" + bar);
  mBar=bar;
synchronized (mIcons) {
    iconList.copyFrom(mIcons);
  }
synchronized (mNotifications) {
    for (    Map.Entry<IBinder,StatusBarNotification> e : mNotifications.entrySet()) {
      notificationKeys.add(e.getKey());
      notifications.add(e.getValue());
    }
  }
synchronized (mLock) {
    switches[0]=mLightsOn;
    switches[1]=mMenuVisible;
    switches[2]=mIMEButtonVisible;
  }
}
