{
  enforceStatusBarService();
  Slog.i(TAG,"registerStatusBar bar=" + bar);
  mBar=bar;
synchronized (mIcons) {
    iconList.copyFrom(mIcons);
  }
synchronized (mNotifications) {
    for (    Map.Entry<IBinder,StatusBarNotification> e : mNotifications.entrySet()) {
      notificationKeys.add(e.getKey());
      notifications.add(e.getValue());
    }
  }
synchronized (mLock) {
    switches[0]=gatherDisableActionsLocked();
    switches[1]=mLightsOn ? 1 : 0;
    switches[2]=mMenuVisible ? 1 : 0;
    switches[3]=mIMEButtonVisible ? 1 : 0;
    binders.add(mIMEToken);
  }
}
