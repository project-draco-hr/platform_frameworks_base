{
  if (isPopupShowing()) {
    return super.onTrackballEvent(event);
  }
  int action=event.getAction();
switch (action) {
case MotionEvent.ACTION_DOWN:
    if (!mTrackballDown) {
      mTrackballDown=true;
      mHandler.sendEmptyMessageDelayed(LONGPRESS,ViewConfiguration.getLongPressTimeout());
    }
  return true;
case MotionEvent.ACTION_UP:
if (mTrackballDown) {
  mWebView.shortPressOnTextField();
  mTrackballDown=false;
  mHandler.removeMessages(LONGPRESS);
}
return true;
case MotionEvent.ACTION_CANCEL:
mTrackballDown=false;
return true;
case MotionEvent.ACTION_MOVE:
}
Spannable text=(Spannable)getText();
MovementMethod move=getMovementMethod();
if (move != null && getLayout() != null && move.onTrackballEvent(this,text,event)) {
return true;
}
mScrollToAccommodateCursor=false;
return false;
}
