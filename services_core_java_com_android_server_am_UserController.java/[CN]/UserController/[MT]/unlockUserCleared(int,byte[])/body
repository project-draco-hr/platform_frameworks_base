{
synchronized (mService) {
    final UserState uss=mStartedUsers.get(userId);
    if (uss.state == UserState.STATE_RUNNING)     return true;
  }
  final UserInfo userInfo=getUserInfo(userId);
  final IMountService mountService=IMountService.Stub.asInterface(ServiceManager.getService("mount"));
  try {
    mountService.unlockUserKey(userId,userInfo.serialNumber,token);
  }
 catch (  RemoteException e) {
    Slog.w(TAG,"Failed to unlock: " + e.getMessage());
    return false;
  }
synchronized (mService) {
    final UserState uss=mStartedUsers.get(userId);
    maybeFinishUserUnlock(uss);
  }
  return true;
}
