{
synchronized (mService) {
    final int num=mUserLru.size();
    for (int i=0; i < num; i++) {
      Integer oldUserId=mUserLru.get(i);
      UserState oldUss=mStartedUsers.get(oldUserId);
      if (oldUserId == UserHandle.USER_SYSTEM || oldUserId == mCurrentUserId || oldUss.mState == UserState.STATE_STOPPING || oldUss.mState == UserState.STATE_SHUTDOWN) {
        continue;
      }
      UserInfo userInfo=getUserInfo(oldUserId);
      if (userInfo.isGuest()) {
        stopUserLocked(oldUserId,null);
        break;
      }
    }
  }
}
