{
  final IMountService mountService=IMountService.Stub.asInterface(ServiceManager.getService("mount"));
  if (mountService != null) {
    try {
      return mountService.isUserKeyUnlocked(userId);
    }
 catch (    RemoteException e) {
      throw e.rethrowAsRuntimeException();
    }
  }
 else {
    Slog.w(TAG,"Mount service not published; guessing locked state based on property");
    return !StorageManager.isFileBasedEncryptionEnabled();
  }
}
