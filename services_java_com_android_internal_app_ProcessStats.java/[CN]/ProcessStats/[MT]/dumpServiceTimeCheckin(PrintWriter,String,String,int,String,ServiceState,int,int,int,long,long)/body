{
  if (opCount <= 0) {
    return;
  }
  pw.print(label);
  pw.print(",");
  pw.print(packageName);
  pw.print(",");
  pw.print(uid);
  pw.print(",");
  pw.print(serviceName);
  pw.print(",");
  pw.print(opCount);
  boolean didCurState=false;
  for (int i=0; i < svc.mDurationsTableSize; i++) {
    int off=svc.mDurationsTable[i];
    int type=(off >> OFFSET_TYPE_SHIFT) & OFFSET_TYPE_MASK;
    int memFactor=type / ServiceState.SERVICE_COUNT;
    type%=ServiceState.SERVICE_COUNT;
    if (type != serviceType) {
      continue;
    }
    long time=svc.mProcessStats.getLong(off,0);
    if (curState == memFactor) {
      didCurState=true;
      time+=now - curStartTime;
    }
    printAdjTagAndValue(pw,memFactor,time);
  }
  if (!didCurState && curState != STATE_NOTHING) {
    printAdjTagAndValue(pw,curState,now - curStartTime);
  }
  pw.println();
}
