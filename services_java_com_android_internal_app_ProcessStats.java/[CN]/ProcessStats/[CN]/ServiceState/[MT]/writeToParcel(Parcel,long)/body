{
  if (mStartedState != STATE_NOTHING) {
    addStateTime(SERVICE_STARTED,mStartedState,now - mStartedStartTime);
    mStartedStartTime=now;
  }
  if (mBoundState != STATE_NOTHING) {
    addStateTime(SERVICE_BOUND,mBoundState,now - mBoundStartTime);
    mBoundStartTime=now;
  }
  if (mExecState != STATE_NOTHING) {
    addStateTime(SERVICE_EXEC,mExecState,now - mExecStartTime);
    mExecStartTime=now;
  }
  out.writeInt(mDurationsTableSize);
  for (int i=0; i < mDurationsTableSize; i++) {
    if (DEBUG)     Slog.i(TAG,"Writing service in " + mPackage + " dur #"+ i+ ": "+ printLongOffset(mDurationsTable[i]));
    out.writeInt(mDurationsTable[i]);
  }
  out.writeInt(mStartedCount);
  out.writeInt(mBoundCount);
  out.writeInt(mExecCount);
}
