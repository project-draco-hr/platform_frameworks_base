{
  if (mActive <= 0) {
    throw new IllegalStateException("Service " + this + " has mActive="+ mActive);
  }
  int state=executing ? memFactor : STATE_NOTHING;
  if (mExecState != state) {
    if (mExecState != STATE_NOTHING) {
      addStateTime(SERVICE_EXEC,mExecState,now - mExecStartTime);
    }
 else     if (executing) {
      mExecCount++;
    }
    mExecState=state;
    mExecStartTime=now;
  }
}
