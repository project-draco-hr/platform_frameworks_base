{
  try {
    mRotator.rewriteAll(new RemoveUidRewriter(mBucketDuration,uids));
  }
 catch (  IOException e) {
    Log.wtf(TAG,"problem removing UIDs " + Arrays.toString(uids),e);
    recoverFromWtf();
  }
  mPending.removeUids(uids);
  mSinceBoot.removeUids(uids);
  if (mLastSnapshot != null) {
    mLastSnapshot=mLastSnapshot.withoutUids(uids);
  }
  final NetworkStatsCollection complete=mComplete != null ? mComplete.get() : null;
  if (complete != null) {
    complete.removeUids(uids);
  }
}
