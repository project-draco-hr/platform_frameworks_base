{
  try {
    mRotator.rewriteAll(new RemoveUidRewriter(mBucketDuration,uid));
  }
 catch (  IOException e) {
    Log.wtf(TAG,"problem removing UID " + uid,e);
    recoverFromWtf();
  }
  if (mLastSnapshot != null) {
    mLastSnapshot=mLastSnapshot.withoutUid(uid);
  }
  final NetworkStatsCollection complete=mComplete != null ? mComplete.get() : null;
  if (complete != null) {
    complete.removeUid(uid);
  }
}
