{
  mBackupManager=IBackupManager.Stub.asInterface(ServiceManager.getService("backup"));
  if (mBackupManager == null) {
    Log.e(TAG,"Can't obtain Backup Manager binder");
    return;
  }
  int socketFd=Integer.parseInt(nextArg());
  String arg=nextArg();
  if (arg.equals("backup")) {
    doFullBackup(socketFd);
  }
 else   if (arg.equals("restore")) {
    doFullRestore(socketFd);
  }
 else {
    Log.e(TAG,"Invalid operation '" + arg + "'");
  }
}
