{
  if (V) {
    myLogV("onConnected: SSID: " + ssid + ", BSSID: "+ bssid);
  }
  cancelCurrentAction();
  if ((mSsid == null) || !mSsid.equals(ssid)) {
    mHandler.dispatchNetworkChanged(ssid);
  }
  if (requiresWatchdog(ssid,bssid)) {
    if (D) {
      myLogD(ssid + " (" + bssid+ ") requires the watchdog");
    }
    mHandler.checkAp(new AccessPoint(ssid,bssid));
  }
 else {
    if (D) {
      myLogD(ssid + " (" + bssid+ ") does not require the watchdog");
    }
    mHandler.idle();
  }
  if (isWalledGardenTestEnabled())   mHandler.checkWalledGarden(ssid);
}
