{
  setThrottlePolicy(90 * MB_IN_BYTES,TEST_KBITPS,TEST_RESET_DAY);
  final long baseTime=System.currentTimeMillis();
  expectTime(baseTime);
  expectSystemReady();
  expectGetInterfaceCounter(50 * MB_IN_BYTES,50 * MB_IN_BYTES);
  expectSetInterfaceThrottle(TEST_KBITPS,TEST_KBITPS);
  replay(mMockTime,mMockNMService);
  systemReady();
  verify(mMockTime,mMockNMService);
  reset(mMockTime,mMockNMService);
  expectTime(baseTime + DateUtils.WEEK_IN_MILLIS * 8);
  expectGetInterfaceCounter(60 * MB_IN_BYTES,60 * MB_IN_BYTES);
  expectSetInterfaceThrottle(-1,-1);
  replay(mMockTime,mMockNMService);
  forceServiceReset();
  verify(mMockTime,mMockNMService);
}
