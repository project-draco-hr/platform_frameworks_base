{
  if (s == null) {
    clip=null;
    return;
  }
  MultiRectArea mra=null;
  if (s instanceof MultiRectArea) {
    mra=new MultiRectArea((MultiRectArea)s);
    mra.translate((int)transform.getTranslateX(),(int)transform.getTranslateY());
  }
 else {
    int type=transform.getType();
    if (s instanceof Rectangle && (type & (AffineTransform.TYPE_IDENTITY | AffineTransform.TYPE_TRANSLATION)) != 0) {
      mra=new MultiRectArea((Rectangle)s);
      if (type == AffineTransform.TYPE_TRANSLATION) {
        mra.translate((int)transform.getTranslateX(),(int)transform.getTranslateY());
      }
    }
 else {
      s=transform.createTransformedShape(s);
      mra=jsr.rasterize(s,0.5);
    }
  }
  if (clip == null) {
    setTransformedClip(mra);
  }
 else {
    clip.intersect(mra);
    setTransformedClip(clip);
  }
}
