{
  if (debugOutput) {
    System.err.println("CommonGraphics2D.drawString(" + str + ", "+ x+ ", "+ y+ ")");
  }
  AffineTransform at=(AffineTransform)this.getTransform().clone();
  AffineTransform fontTransform=font.getTransform();
  at.concatenate(fontTransform);
  double[] matrix=new double[6];
  if (!at.isIdentity()) {
    int atType=at.getType();
    at.getMatrix(matrix);
    if (atType == AffineTransform.TYPE_TRANSLATION) {
      jtr.drawString(this,str,(float)(x + fontTransform.getTranslateX()),(float)(y + fontTransform.getTranslateY()));
      return;
    }
    Shape sh=font.createGlyphVector(this.getFontRenderContext(),str).getOutline(x,y);
    this.fill(sh);
  }
 else {
    jtr.drawString(this,str,x,y);
  }
}
