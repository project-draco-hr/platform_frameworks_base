{
  if (ENABLED) {
synchronized (mLock) {
      if (DEBUG) {
        Log.i(LOG_TAG,"add(" + info + ")");
      }
      final long sourceId=info.getSourceNodeId();
      AccessibilityNodeInfo oldInfo=mCacheImpl.get(sourceId);
      if (oldInfo != null) {
        SparseLongArray oldChildrenIds=oldInfo.getChildNodeIds();
        SparseLongArray newChildrenIds=info.getChildNodeIds();
        final int oldChildCount=oldChildrenIds.size();
        for (int i=0; i < oldChildCount; i++) {
          final long oldChildId=oldChildrenIds.valueAt(i);
          if (newChildrenIds.indexOfValue(oldChildId) < 0) {
            clearSubTreeLocked(oldChildId);
          }
        }
        final long oldParentId=oldInfo.getParentNodeId();
        if (info.getParentNodeId() != oldParentId) {
          clearSubTreeLocked(oldParentId);
        }
      }
      AccessibilityNodeInfo clone=AccessibilityNodeInfo.obtain(info);
      mCacheImpl.put(sourceId,clone);
    }
  }
}
