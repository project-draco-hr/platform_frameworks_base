{
synchronized (mRecordConfigs) {
switch (event) {
case AudioManager.RECORD_CONFIG_EVENT_STOP:
      return (mRecordConfigs.remove(new Integer(session)) != null);
case AudioManager.RECORD_CONFIG_EVENT_START:
    final AudioFormat clientFormat=new AudioFormat.Builder().setEncoding(recordingFormat[0]).setChannelMask(recordingFormat[1]).setSampleRate(recordingFormat[2]).build();
  final AudioFormat deviceFormat=new AudioFormat.Builder().setEncoding(recordingFormat[3]).setChannelMask(recordingFormat[4]).setSampleRate(recordingFormat[5]).build();
if (mRecordConfigs.containsKey(new Integer(session))) {
  return false;
}
 else {
  mRecordConfigs.put(new Integer(session),new AudioRecordConfiguration(session,source,clientFormat,deviceFormat));
  return true;
}
default :
Log.e(TAG,String.format("Unknown event %d for session %d, source %d",event,session,source));
return false;
}
}
}
