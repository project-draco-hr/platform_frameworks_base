{
  final long time=AnimationUtils.currentAnimationTimeMillis();
  final float t=Math.min((float)(time - mStartTime) / mDuration,1.f);
  final float interp=mInterpolator.getInterpolation(t);
  mEdgeAlpha=mEdgeAlphaStart + (mEdgeAlphaFinish - mEdgeAlphaStart) * interp;
  mEdgeScaleY=mEdgeScaleYStart + (mEdgeScaleYFinish - mEdgeScaleYStart) * interp;
  mGlowAlpha=mGlowAlphaStart + (mGlowAlphaFinish - mGlowAlphaStart) * interp;
  mGlowScaleY=mGlowScaleYStart + (mGlowScaleYFinish - mGlowScaleYStart) * interp;
  if (t >= 1.f - EPSILON) {
switch (mState) {
case STATE_ABSORB:
      mState=STATE_RECEDE;
    mStartTime=AnimationUtils.currentAnimationTimeMillis();
  mDuration=RECEDE_TIME;
mEdgeAlphaStart=mEdgeAlpha;
mEdgeScaleYStart=mEdgeScaleY;
mGlowAlphaStart=mGlowAlpha;
mGlowScaleYStart=mGlowScaleY;
mEdgeAlphaFinish=0.f;
mEdgeScaleYFinish=0.1f;
mGlowAlphaFinish=0.f;
mGlowScaleYFinish=mGlowScaleY;
if (DEBUG) Log.d(TAG,"STATE_ABSORB => STATE_RECEDE");
break;
case STATE_PULL:
mState=STATE_PULL_DECAY;
mStartTime=AnimationUtils.currentAnimationTimeMillis();
mDuration=PULL_DECAY_TIME;
mEdgeAlphaStart=mEdgeAlpha;
mEdgeScaleYStart=mEdgeScaleY;
mGlowAlphaStart=mGlowAlpha;
mGlowScaleYStart=mGlowScaleY;
mEdgeAlphaFinish=Math.min(mEdgeAlphaStart,HELD_EDGE_ALPHA);
mEdgeScaleYFinish=Math.min(mEdgeScaleYStart,HELD_EDGE_SCALE_Y);
mGlowAlphaFinish=Math.min(mGlowAlphaStart,HELD_GLOW_ALPHA);
mGlowScaleYFinish=Math.min(mGlowScaleY,HELD_GLOW_SCALE_Y);
if (DEBUG) Log.d(TAG,"STATE_PULL => STATE_PULL_DECAY");
break;
case STATE_PULL_DECAY:
break;
case STATE_RECEDE:
mState=STATE_IDLE;
if (DEBUG) Log.d(TAG,"STATE_RECEDE => STATE_IDLE");
break;
}
}
}
