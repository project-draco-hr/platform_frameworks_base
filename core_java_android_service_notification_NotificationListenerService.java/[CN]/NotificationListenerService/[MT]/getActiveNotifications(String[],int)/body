{
  if (!isBound())   return null;
  try {
    ParceledListSlice<StatusBarNotification> parceledList=getNotificationInterface().getActiveNotificationsFromListener(mWrapper,keys,trim);
    List<StatusBarNotification> list=parceledList.getList();
    ArrayList<StatusBarNotification> corruptNotifications=null;
    int N=list.size();
    for (int i=0; i < N; i++) {
      StatusBarNotification sbn=list.get(i);
      Notification notification=sbn.getNotification();
      try {
        Builder.rebuild(getContext(),notification);
        createLegacyIconExtras(notification);
      }
 catch (      IllegalArgumentException e) {
        if (corruptNotifications == null) {
          corruptNotifications=new ArrayList<>(N);
        }
        corruptNotifications.add(sbn);
        Log.w(TAG,"onNotificationPosted: can't rebuild notification from " + sbn.getPackageName());
      }
    }
    if (corruptNotifications != null) {
      list.removeAll(corruptNotifications);
    }
    return list.toArray(new StatusBarNotification[list.size()]);
  }
 catch (  android.os.RemoteException ex) {
    Log.v(TAG,"Unable to contact notification manager",ex);
  }
  return null;
}
