{
  String[] orderedKeys=mRankingUpdate.getOrderedKeys();
  int firstAmbientIndex=mRankingUpdate.getFirstAmbientIndex();
  for (int i=0; i < orderedKeys.length; i++) {
    String key=orderedKeys[i];
    boolean isAmbient=firstAmbientIndex > -1 && firstAmbientIndex <= i;
    boolean isInterceptedByDnd=false;
    for (    String s : mRankingUpdate.getDndInterceptedKeys()) {
      if (s.equals(key)) {
        isInterceptedByDnd=true;
        break;
      }
    }
    mRankingCache.put(key,new Ranking(key,i,isAmbient,isInterceptedByDnd));
  }
}
