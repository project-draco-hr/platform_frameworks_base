{
  getSimUnlockProgressDialog().show();
  if (mCheckSimPukThread == null) {
    mCheckSimPukThread=new CheckSimPuk(mPukText,mPinText){
      void onSimLockChangedResponse(      final int result,      final int attemptsRemaining){
        post(new Runnable(){
          public void run(){
            if (mSimUnlockProgressDialog != null) {
              mSimUnlockProgressDialog.hide();
            }
            if (result == PhoneConstants.PIN_RESULT_SUCCESS) {
              KeyguardUpdateMonitor.getInstance(getContext()).reportSimUnlocked();
              mCallback.dismiss(true);
            }
 else {
              if (result == PhoneConstants.PIN_PASSWORD_INCORRECT) {
                if (attemptsRemaining <= 2) {
                  getPukRemainingAttemptsDialog(attemptsRemaining).show();
                }
 else {
                  mSecurityMessageDisplay.setMessage(getPukPasswordErrorMessage(attemptsRemaining),true);
                }
              }
 else {
                mSecurityMessageDisplay.setMessage(getContext().getString(R.string.kg_password_puk_failed),true);
              }
              if (DEBUG)               Log.d(LOG_TAG,"verifyPasswordAndUnlock " + " UpdateSim.onSimCheckResponse: " + " attemptsRemaining="+ attemptsRemaining);
              mStateMachine.reset();
            }
            mCheckSimPukThread=null;
          }
        }
);
      }
    }
;
    mCheckSimPukThread.start();
  }
}
