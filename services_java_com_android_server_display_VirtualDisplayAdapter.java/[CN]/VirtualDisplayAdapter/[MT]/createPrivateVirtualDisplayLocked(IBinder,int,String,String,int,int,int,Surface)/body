{
  IBinder displayToken=SurfaceControl.createDisplay(name,false);
  VirtualDisplayDevice device=new VirtualDisplayDevice(displayToken,appToken,ownerUid,ownerPackageName,name,width,height,densityDpi,surface);
  try {
    appToken.linkToDeath(device,0);
  }
 catch (  RemoteException ex) {
    device.releaseLocked();
    return null;
  }
  mVirtualDisplayDevices.put(appToken,device);
  return device;
}
