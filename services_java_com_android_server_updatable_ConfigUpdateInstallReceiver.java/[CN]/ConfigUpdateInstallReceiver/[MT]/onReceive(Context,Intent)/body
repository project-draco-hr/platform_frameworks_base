{
  new Thread(){
    @Override public void run(){
      try {
        X509Certificate cert=getCert(context.getContentResolver());
        String altContent=getAltContent(intent);
        int altVersion=getVersionFromIntent(intent);
        String altRequiredHash=getRequiredHashFromIntent(intent);
        String altSig=getSignatureFromIntent(intent);
        int currentVersion=getCurrentVersion();
        String currentHash=getCurrentHash(getCurrentContent());
        if (!verifyVersion(currentVersion,altVersion)) {
          Slog.e(TAG,"New version is not greater than current version, aborting!");
        }
 else         if (!verifyPreviousHash(currentHash,altRequiredHash)) {
          Slog.e(TAG,"Current hash did not match required value, aborting!");
        }
 else         if (!verifySignature(altContent,altVersion,altRequiredHash,altSig,cert)) {
          Slog.e(TAG,"Signature did not verify, aborting!");
        }
 else {
          Slog.i(TAG,"Found new update, installing...");
          install(altContent,altVersion);
          Slog.i(TAG,"Installation successful");
        }
      }
 catch (      Exception e) {
        Slog.e(TAG,"Could not update content!",e);
      }
    }
  }
.start();
}
