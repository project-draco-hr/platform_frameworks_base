{
  mDrawable.onBatteryLevelChanged(100,false,false);
  mDrawable.onPowerSaveChanged(true);
  ((ImageView)mCurrentView.findViewById(android.R.id.icon)).setImageDrawable(mDrawable);
  Checkable checkbox=(Checkable)mCurrentView.findViewById(android.R.id.toggle);
  checkbox.setChecked(mPowerSave);
  if (mCharging) {
    BatteryInfo.getBatteryInfo(mContext,new BatteryInfo.Callback(){
      @Override public void onBatteryInfoLoaded(      BatteryInfo info){
        if (mCurrentView != null && mCharging) {
          ((TextView)mCurrentView.findViewById(android.R.id.title)).setText(info.mChargeLabelString);
        }
      }
    }
);
    ((TextView)mCurrentView.findViewById(android.R.id.summary)).setText(R.string.battery_detail_charging_summary);
    mCurrentView.setClickable(false);
    mCurrentView.findViewById(android.R.id.icon).setVisibility(View.INVISIBLE);
    mCurrentView.findViewById(android.R.id.toggle).setVisibility(View.INVISIBLE);
  }
 else {
    ((TextView)mCurrentView.findViewById(android.R.id.title)).setText(R.string.battery_detail_switch_title);
    ((TextView)mCurrentView.findViewById(android.R.id.summary)).setText(R.string.battery_detail_switch_summary);
    mCurrentView.setClickable(true);
    mCurrentView.findViewById(android.R.id.icon).setVisibility(View.VISIBLE);
    mCurrentView.findViewById(android.R.id.toggle).setVisibility(View.VISIBLE);
    mCurrentView.setOnClickListener(this);
  }
}
