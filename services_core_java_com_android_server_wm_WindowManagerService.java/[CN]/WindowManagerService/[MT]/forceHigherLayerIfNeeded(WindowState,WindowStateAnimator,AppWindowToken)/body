{
  boolean force=false;
  if (wtoken.mWillReplaceWindow && wtoken.mReplacingWindow != w && wtoken.mAnimateReplacingWindow) {
    force=true;
  }
  if (!force) {
    final TaskStack stack=w.getStack();
    if (stack != null && (StackId.isAlwaysOnTop(stack.mStackId) || stack.mStackId == DOCKED_STACK_ID)) {
      force=true;
    }
  }
  if (force) {
    w.mLayer+=TYPE_LAYER_OFFSET;
    winAnimator.mAnimLayer+=TYPE_LAYER_OFFSET;
  }
}
