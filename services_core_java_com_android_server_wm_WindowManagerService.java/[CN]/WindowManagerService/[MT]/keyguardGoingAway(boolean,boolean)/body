{
  if (mContext.checkCallingOrSelfPermission(android.Manifest.permission.DISABLE_KEYGUARD) != PackageManager.PERMISSION_GRANTED) {
    throw new SecurityException("Requires DISABLE_KEYGUARD permission");
  }
  if (DEBUG_KEYGUARD)   Slog.d(TAG_WM,"keyguardGoingAway: disableWinAnim=" + disableWindowAnimations + " kgToNotifShade="+ keyguardGoingToNotificationShade);
synchronized (mWindowMap) {
    mAnimator.mKeyguardGoingAway=true;
    mAnimator.mKeyguardGoingAwayToNotificationShade=keyguardGoingToNotificationShade;
    mAnimator.mKeyguardGoingAwayDisableWindowAnimations=disableWindowAnimations;
    mWindowPlacerLocked.requestTraversal();
  }
}
