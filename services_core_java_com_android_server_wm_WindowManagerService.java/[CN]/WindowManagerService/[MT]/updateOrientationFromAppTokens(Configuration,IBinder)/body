{
  if (!checkCallingPermission(android.Manifest.permission.MANAGE_APP_TOKENS,"updateOrientationFromAppTokens()")) {
    throw new SecurityException("Requires MANAGE_APP_TOKENS permission");
  }
  Configuration config=null;
  long ident=Binder.clearCallingIdentity();
synchronized (mWindowMap) {
    config=updateOrientationFromAppTokensLocked(currentConfig,freezeThisOneIfNeeded);
  }
  Binder.restoreCallingIdentity(ident);
  return config;
}
