{
  if (token != null && callback != null) {
synchronized (mWindowMap) {
      WindowState win=windowForClientLocked(null,token,true);
      if (win != null) {
        Pair<WindowState,IRemoteCallback> pair=new Pair<WindowState,IRemoteCallback>(win,callback);
        Message m=mH.obtainMessage(H.WAITING_FOR_DRAWN_TIMEOUT,pair);
        mH.sendMessageDelayed(m,2000);
        mWaitingForDrawn.add(pair);
        checkDrawnWindowsLocked();
        return true;
      }
      Slog.i(TAG,"waitForWindowDrawn: win null");
    }
  }
  return false;
}
