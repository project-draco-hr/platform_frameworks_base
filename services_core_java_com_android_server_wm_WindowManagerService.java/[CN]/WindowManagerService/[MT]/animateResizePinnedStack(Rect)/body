{
synchronized (mWindowMap) {
    final TaskStack stack=mStackIdToStack.get(PINNED_STACK_ID);
    if (stack == null) {
      Slog.w(TAG,"animateResizePinnedStack: stackId " + PINNED_STACK_ID + " not found.");
      return;
    }
    final ArrayList<Task> tasks=stack.getTasks();
    if (tasks.isEmpty()) {
      Slog.w(TAG,"animateResizePinnedStack: pinned stack doesn't have any tasks.");
      return;
    }
    final Task task=tasks.get(tasks.size() - 1);
    task.setDragResizing(true);
    final Rect originalBounds=new Rect();
    stack.getBounds(originalBounds);
    UiThread.getHandler().post(new Runnable(){
      @Override public void run(){
        mBoundsAnimationController.animateBounds(stack,originalBounds,bounds);
      }
    }
);
  }
}
