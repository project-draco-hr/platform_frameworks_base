{
  WindowList windows=token.windows;
  final int NW=windows.size();
  if (NW > 0) {
    mWindowsChanged=true;
  }
  int targetDisplayId=-1;
  Task targetTask=mTaskIdToTask.get(token.appWindowToken.groupId);
  if (targetTask != null) {
    DisplayContent targetDisplayContent=targetTask.getDisplayContent();
    if (targetDisplayContent != null) {
      targetDisplayId=targetDisplayContent.getDisplayId();
    }
  }
  for (int i=0; i < NW; i++) {
    WindowState win=windows.get(i);
    if (targetDisplayId != -1 && win.getDisplayId() != targetDisplayId) {
      continue;
    }
    if (DEBUG_WINDOW_MOVEMENT)     Slog.v(TAG,"Tmp removing app window " + win);
    win.getWindowList().remove(win);
    int j=win.mChildWindows.size();
    while (j > 0) {
      j--;
      WindowState cwin=win.mChildWindows.get(j);
      if (DEBUG_WINDOW_MOVEMENT)       Slog.v(TAG,"Tmp removing child window " + cwin);
      cwin.getWindowList().remove(cwin);
    }
  }
  return NW > 0;
}
