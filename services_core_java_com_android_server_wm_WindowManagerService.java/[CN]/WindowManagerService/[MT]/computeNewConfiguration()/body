{
synchronized (mWindowMap) {
    Configuration config=computeNewConfigurationLocked();
    if (config == null && mWaitingForConfig) {
      mWaitingForConfig=false;
      mLastFinishedFreezeSource="new-config";
      performLayoutAndPlaceSurfacesLocked();
    }
    return config;
  }
}
