{
  if (DEBUG_STACK)   Slog.i(TAG,"createTaskLocked: taskId=" + taskId + " stackId="+ stackId+ " atoken="+ atoken+ " bounds="+ bounds);
  final TaskStack stack=mStackIdToStack.get(stackId);
  if (stack == null) {
    throw new IllegalArgumentException("addAppToken: invalid stackId=" + stackId);
  }
  EventLog.writeEvent(EventLogTags.WM_TASK_CREATED,taskId,stackId);
  Task task=new Task(taskId,stack,userId,this,bounds,config);
  mTaskIdToTask.put(taskId,task);
  stack.addTask(task,!atoken.mLaunchTaskBehind,atoken.showForAllUsers);
  return task;
}
