{
  if (!checkCallingPermission(android.Manifest.permission.REGISTER_WINDOW_MANAGER_LISTENERS,"registerDockDividerVisibilityListener()")) {
    return;
  }
  final DockedStackDividerController controller=getDefaultDisplayContentLocked().getDockedDividerController();
  controller.registerDockDividerVisibilityListener(listener);
  try {
    listener.asBinder().linkToDeath(new IBinder.DeathRecipient(){
      @Override public void binderDied(){
        getDefaultDisplayContentLocked().getDockedDividerController().registerDockDividerVisibilityListener(null);
      }
    }
,0);
  }
 catch (  RemoteException e) {
    controller.registerDockDividerVisibilityListener(null);
  }
}
