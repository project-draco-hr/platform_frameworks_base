{
  final WindowManager.LayoutParams attrs=w.mAttrs;
  if ((attrs.flags & FLAG_DIM_BEHIND) != 0 && w.isDisplayedLw() && !w.mExiting) {
    final WindowStateAnimator winAnimator=w.mWinAnimator;
    final Task task=w.getTask();
    if (task == null) {
      return;
    }
    task.setContinueDimming();
    if (!task.isDimming(winAnimator)) {
      if (localLOGV)       Slog.v(TAG,"Win " + w + " start dimming.");
      task.startDimmingIfNeeded(winAnimator);
    }
  }
}
