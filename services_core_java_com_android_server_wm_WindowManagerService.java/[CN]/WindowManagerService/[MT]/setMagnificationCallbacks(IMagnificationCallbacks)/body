{
  if (!checkCallingPermission(android.Manifest.permission.MAGNIFY_DISPLAY,"setMagnificationCallbacks()")) {
    throw new SecurityException("Requires MAGNIFY_DISPLAY permission.");
  }
synchronized (mWindowMap) {
    if (mDisplayMagnifier == null) {
      mDisplayMagnifier=new DisplayMagnifier(this,callbacks);
    }
 else {
      if (callbacks == null) {
        if (mDisplayMagnifier != null) {
          mDisplayMagnifier.destroyLocked();
          mDisplayMagnifier=null;
        }
      }
 else {
        throw new IllegalStateException("Magnification callbacks already set!");
      }
    }
  }
}
