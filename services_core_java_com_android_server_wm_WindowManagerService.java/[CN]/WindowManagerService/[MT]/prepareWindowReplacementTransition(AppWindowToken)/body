{
  if (atoken == null || !atoken.mWillReplaceWindow || !atoken.mAnimateReplacingWindow) {
    return;
  }
  atoken.allDrawn=false;
  WindowState replacedWindow=null;
  for (int i=atoken.windows.size() - 1; i >= 0 && replacedWindow == null; i--) {
    WindowState candidate=atoken.windows.get(i);
    if (candidate.mExiting) {
      replacedWindow=candidate;
    }
  }
  if (replacedWindow == null) {
    return;
  }
  Rect frame=replacedWindow.mFrame;
  mOpeningApps.add(atoken);
  prepareAppTransition(AppTransition.TRANSIT_ACTIVITY_RELAUNCH,ALWAYS_KEEP_CURRENT);
  mAppTransition.overridePendingAppTransitionClipReveal(frame.left,frame.top,frame.width(),frame.height());
  executeAppTransition();
}
