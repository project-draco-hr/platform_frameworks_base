{
  atoken.clearAllDrawn();
  WindowState replacedWindow=null;
  for (int i=atoken.windows.size() - 1; i >= 0 && replacedWindow == null; i--) {
    WindowState candidate=atoken.windows.get(i);
    if (candidate.mAnimatingExit && candidate.mWillReplaceWindow && candidate.mAnimateReplacingWindow) {
      replacedWindow=candidate;
    }
  }
  if (replacedWindow == null) {
    return false;
  }
  Rect frame=replacedWindow.mVisibleFrame;
  mOpeningApps.add(atoken);
  prepareAppTransition(AppTransition.TRANSIT_ACTIVITY_RELAUNCH,ALWAYS_KEEP_CURRENT);
  mAppTransition.overridePendingAppTransitionClipReveal(frame.left,frame.top,frame.width(),frame.height());
  executeAppTransition();
  return true;
}
