{
synchronized (mWindowMap) {
    FakeWindowImpl fw=new FakeWindowImpl(this,looper,inputEventReceiverFactory,name,windowType,layoutParamsFlags,canReceiveKeys,hasFocus,touchFullscreen);
    int i=0;
    while (i < mFakeWindows.size()) {
      if (mFakeWindows.get(i).mWindowLayer <= fw.mWindowLayer) {
        break;
      }
    }
    mFakeWindows.add(i,fw);
    mInputMonitor.updateInputWindowsLw(true);
    return fw;
  }
}
