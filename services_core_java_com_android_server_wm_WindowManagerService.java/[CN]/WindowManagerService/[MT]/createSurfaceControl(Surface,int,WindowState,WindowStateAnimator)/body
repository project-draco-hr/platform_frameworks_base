{
  if (!win.mHasSurface) {
    result|=RELAYOUT_RES_SURFACE_CHANGED;
  }
  SurfaceControl surfaceControl=winAnimator.createSurfaceLocked();
  if (surfaceControl != null) {
    outSurface.copyFrom(surfaceControl);
    if (SHOW_TRANSACTIONS)     Slog.i(TAG,"  OUT SURFACE " + outSurface + ": copied");
  }
 else {
    outSurface.release();
  }
  return result;
}
