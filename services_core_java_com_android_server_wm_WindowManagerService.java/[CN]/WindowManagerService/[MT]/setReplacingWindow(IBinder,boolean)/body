{
  AppWindowToken appWindowToken=null;
synchronized (mWindowMap) {
    appWindowToken=findAppWindowToken(token);
    if (appWindowToken == null || !appWindowToken.isVisible()) {
      Slog.w(TAG_WM,"Attempted to set replacing window on non-existing app token " + token);
      return;
    }
    appWindowToken.setReplacingWindows(animate);
  }
  if (appWindowToken != null) {
    mH.removeMessages(H.WINDOW_REPLACEMENT_TIMEOUT);
    mH.sendMessageDelayed(mH.obtainMessage(H.WINDOW_REPLACEMENT_TIMEOUT,appWindowToken),WINDOW_REPLACEMENT_TIMEOUT_DURATION);
  }
}
