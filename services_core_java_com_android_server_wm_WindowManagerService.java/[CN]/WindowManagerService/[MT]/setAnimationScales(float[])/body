{
  if (!checkCallingPermission(android.Manifest.permission.SET_ANIMATION_SCALE,"setAnimationScale()")) {
    throw new SecurityException("Requires SET_ANIMATION_SCALE permission");
  }
  if (scales != null) {
    if (scales.length >= 1) {
      mWindowAnimationScale=fixScale(scales[0]);
    }
    if (scales.length >= 2) {
      mTransitionAnimationScale=fixScale(scales[1]);
    }
    if (scales.length >= 3) {
      setAnimatorDurationScale(fixScale(scales[2]));
    }
  }
  mH.sendEmptyMessage(H.PERSIST_ANIMATION_SCALE);
}
