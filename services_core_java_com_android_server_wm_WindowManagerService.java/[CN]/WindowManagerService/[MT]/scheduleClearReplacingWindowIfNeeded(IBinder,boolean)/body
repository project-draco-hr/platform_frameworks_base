{
  AppWindowToken appWindowToken=null;
synchronized (mWindowMap) {
    appWindowToken=findAppWindowToken(token);
    if (appWindowToken == null) {
      Slog.w(TAG_WM,"Attempted to reset replacing window on non-existing app token " + token);
      return;
    }
    if (replacing) {
      mH.removeMessages(H.WINDOW_REPLACEMENT_TIMEOUT);
      mH.sendMessageDelayed(mH.obtainMessage(H.WINDOW_REPLACEMENT_TIMEOUT,appWindowToken),WINDOW_REPLACEMENT_TIMEOUT_DURATION);
    }
 else {
      appWindowToken.resetReplacingWindows();
    }
  }
}
