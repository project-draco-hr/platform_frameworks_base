{
  if (newSnapshot == null) {
    throw new NullPointerException("newSnapshot==null");
  }
  if (data == null) {
    throw new NullPointerException("data==null");
  }
  if (data.fd == null) {
    throw new NullPointerException("data.fd==null");
  }
  if (files == null) {
    throw new NullPointerException("files==null");
  }
  int err=performBackup_native(basePath,oldSnapshot.getFileDescriptor(),newSnapshot.getFileDescriptor(),data.fd,files);
  if (err != 0) {
    throw new RuntimeException("Backup failed");
  }
}
