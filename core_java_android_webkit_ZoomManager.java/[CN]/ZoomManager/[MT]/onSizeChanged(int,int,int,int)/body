{
  if (!isFixedLengthAnimationInProgress()) {
    int visibleTitleHeight=mWebView.getVisibleTitleHeight();
    mZoomCenterX=0;
    mZoomCenterY=visibleTitleHeight;
    int anchorX=mWebView.viewToContentX(mWebView.getScrollX());
    int anchorY=mWebView.viewToContentY(visibleTitleHeight + mWebView.getScrollY());
    mWebView.setViewSizeAnchor(anchorX,anchorY);
  }
  if (!mMinZoomScaleFixed) {
    mMinZoomScale=Math.min(1.0f,(float)mWebView.getViewWidth() / (mWebView.drawHistory() ? mWebView.getHistoryPictureWidth() : mZoomOverviewWidth));
    if (mInitialScale > 0 && mInitialScale < mMinZoomScale) {
      mMinZoomScale=mInitialScale;
    }
  }
  dismissZoomPicker();
  mWebView.post(new PostScale(w != ow));
}
