{
  if (key == null) {
    throw new NullPointerException("key == null");
  }
  V previous=map.remove(key);
  if (previous != null) {
    size-=safeSizeOf(key,previous);
  }
  return previous;
}
