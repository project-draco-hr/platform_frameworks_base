{
  if (m instanceof RenderingHints) {
    map.putAll(((RenderingHints)m).map);
  }
 else {
    Set<?> entries=m.entrySet();
    if (entries != null) {
      Iterator<?> it=entries.iterator();
      while (it.hasNext()) {
        Map.Entry<?,?> entry=(Map.Entry<?,?>)it.next();
        Key key=(Key)entry.getKey();
        Object val=entry.getValue();
        put(key,val);
      }
    }
  }
}
