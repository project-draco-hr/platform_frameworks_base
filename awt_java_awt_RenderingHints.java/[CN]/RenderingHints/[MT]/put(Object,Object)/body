{
  if (!((Key)key).isCompatibleValue(value)) {
    throw new IllegalArgumentException();
  }
  return map.put(key,value);
}
