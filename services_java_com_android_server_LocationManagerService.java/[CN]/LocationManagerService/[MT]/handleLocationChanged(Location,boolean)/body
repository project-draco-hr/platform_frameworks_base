{
  String provider=location.getProvider();
  if (!passive) {
    mPassiveProvider.updateLocation(location);
  }
synchronized (mLock) {
    if (isAllowedBySettingsLocked(provider)) {
      handleLocationChangedLocked(location,passive);
    }
  }
}
