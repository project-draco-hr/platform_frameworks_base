{
  for (  LocationProviderImpl p : LocationProviderImpl.getProviders()) {
    boolean isEnabled=p.isEnabled();
    String name=p.getName();
    boolean shouldBeEnabled=isAllowedBySettingsLocked(name);
    if (mCollector != null && p.getName().equals(LocationManager.NETWORK_PROVIDER)) {
      mCollector.updateNetworkProviderStatus(shouldBeEnabled);
    }
    if (isEnabled && !shouldBeEnabled) {
      updateProviderListenersLocked(name,false);
    }
 else     if (!isEnabled && shouldBeEnabled) {
      updateProviderListenersLocked(name,true);
    }
  }
}
