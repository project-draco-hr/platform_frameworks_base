{
  if (mWakeLock.isHeld()) {
    log("Must release wakelock before acquiring");
    mWakeLockAcquireTime=0;
    mWakeLock.release();
  }
  boolean networkActive=(mNetworkLocationProvider != null) && mNetworkLocationProvider.isLocationTracking();
  boolean gpsActive=(mGpsLocationProvider != null) && mGpsLocationProvider.isLocationTracking();
  boolean needsLock=networkActive || gpsActive;
  if (!needsLock) {
    log("No need for Lock!");
    return;
  }
  mWakeLockGpsReceived=!gpsActive;
  mWakeLockNetworkReceived=!networkActive;
  mWakeLock.acquire();
  mWakeLockAcquireTime=SystemClock.elapsedRealtime();
  log("Acquired wakelock");
  if (mNetworkLocationProvider != null) {
    mNetworkLocationProvider.wakeLockAcquired();
  }
  if (mGpsLocationProvider != null) {
    mGpsLocationProvider.wakeLockAcquired();
  }
}
