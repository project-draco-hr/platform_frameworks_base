{
  if (mContext.checkCallingOrSelfPermission(INSTALL_LOCATION_PROVIDER) != PackageManager.PERMISSION_GRANTED) {
    throw new SecurityException("Requires INSTALL_LOCATION_PROVIDER permission");
  }
synchronized (mLock) {
    if (LocationManager.NETWORK_PROVIDER.equals(name)) {
      mNetworkLocationProvider=new LocationProviderProxy(name,provider);
      addProvider(mNetworkLocationProvider);
      updateProvidersLocked();
      mNetworkLocationProvider.updateNetworkState(mNetworkState);
    }
  }
}
