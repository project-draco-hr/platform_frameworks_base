{
synchronized (mLocationListeners) {
    mNetworkLocationInterface=provider;
    provider.addListener(getPackageNames());
    mNetworkLocationProvider=(LocationProviderImpl)provider;
    LocationProviderImpl.addProvider(mNetworkLocationProvider);
    updateProvidersLocked();
synchronized (mLocationListeners) {
      mNetworkLocationProvider.updateNetworkState(mNetworkState);
      mNetworkLocationInterface.updateWifiEnabledState(mWifiEnabled);
      mNetworkLocationInterface.updateCellLockStatus(mCellWakeLockAcquired);
      if (mWifiManager != null) {
        List<ScanResult> wifiScanResults=mWifiManager.getScanResults();
        if (wifiScanResults != null && wifiScanResults.size() != 0) {
          mNetworkLocationInterface.updateWifiScanResults(wifiScanResults);
          if (mCollector != null) {
            mCollector.updateWifiScanResults(wifiScanResults);
          }
        }
      }
    }
  }
}
