{
  boolean gpsActive=mGpsLocationProvider != null && mGpsLocationProvider.isLocationTracking();
  if (gpsActive) {
    mGpsLocationProvider.stopNavigating();
    long identity=Binder.clearCallingIdentity();
    try {
      mBatteryStats.noteStopGps(mCallingUid == -1 ? getCallingUid() : mCallingUid);
    }
 catch (    RemoteException e) {
      Log.w(TAG,"RemoteException calling noteStopGps on BatteryStatsService",e);
    }
 finally {
      Binder.restoreCallingIdentity(identity);
    }
  }
}
