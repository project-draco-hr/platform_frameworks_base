{
  int op;
  if (allowedResolutionLevel != RESOLUTION_LEVEL_NONE) {
    if (allowedResolutionLevel == RESOLUTION_LEVEL_COARSE) {
      op=AppOpsManager.OP_COARSE_LOCATION;
    }
 else {
      op=AppOpsManager.OP_FINE_LOCATION;
    }
    if (mAppOps.noteOpNoThrow(op,uid,packageName) != AppOpsManager.MODE_ALLOWED) {
      return false;
    }
  }
  return true;
}
