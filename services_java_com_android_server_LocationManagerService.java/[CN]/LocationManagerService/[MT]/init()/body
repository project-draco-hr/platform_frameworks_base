{
  if (D)   Log.d(TAG,"init()");
  PowerManager powerManager=(PowerManager)mContext.getSystemService(Context.POWER_SERVICE);
  mWakeLock=powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,WAKELOCK_KEY);
  mPackageManager=mContext.getPackageManager();
synchronized (mLock) {
    loadProvidersLocked();
  }
  mBlacklist=new LocationBlacklist(mContext,mLocationHandler);
  mBlacklist.init();
  mGeofenceManager=new GeofenceManager(mContext,mBlacklist);
  mLocationFudger=new LocationFudger();
  ContentResolver resolver=mContext.getContentResolver();
  Cursor settingsCursor=resolver.query(Settings.Secure.CONTENT_URI,null,"(" + NameValueTable.NAME + "=?)",new String[]{Settings.Secure.LOCATION_PROVIDERS_ALLOWED},null);
  ContentQueryMap query=new ContentQueryMap(settingsCursor,NameValueTable.NAME,true,mLocationHandler);
  settingsCursor.close();
  query.addObserver(this);
  mPackageMonitor.register(mContext,Looper.myLooper(),true);
}
