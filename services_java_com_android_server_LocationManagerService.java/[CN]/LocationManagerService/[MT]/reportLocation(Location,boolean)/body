{
  if (mContext.checkCallingOrSelfPermission(INSTALL_LOCATION_PROVIDER) != PackageManager.PERMISSION_GRANTED) {
    throw new SecurityException("Requires INSTALL_LOCATION_PROVIDER permission");
  }
  if (!location.isComplete()) {
    Log.w(TAG,"Dropping incomplete location: " + location);
    return;
  }
  mLocationHandler.removeMessages(MESSAGE_LOCATION_CHANGED,location);
  Message m=Message.obtain(mLocationHandler,MESSAGE_LOCATION_CHANGED,location);
  m.arg1=(passive ? 1 : 0);
  mLocationHandler.sendMessageAtFrontOfQueue(m);
}
