{
  if (GpsLocationProvider.isSupported()) {
    GpsLocationProvider gpsProvider=new GpsLocationProvider(mContext,this);
    mGpsStatusProvider=gpsProvider.getGpsStatusProvider();
    mNetInitiatedListener=gpsProvider.getNetInitiatedListener();
    addProvider(gpsProvider);
    mGpsLocationProvider=gpsProvider;
  }
  PassiveProvider passiveProvider=new PassiveProvider(this);
  addProvider(passiveProvider);
  mEnabledProviders.add(passiveProvider.getName());
  PackageManager pm=mContext.getPackageManager();
  Resources resources=mContext.getResources();
  String serviceName=resources.getString(com.android.internal.R.string.config_networkLocationProvider);
  if (serviceName != null && pm.resolveService(new Intent(serviceName),0) != null) {
    mNetworkLocationProvider=new LocationProviderProxy(mContext,LocationManager.NETWORK_PROVIDER,serviceName,mLocationHandler);
    addProvider(mNetworkLocationProvider);
  }
  serviceName=resources.getString(com.android.internal.R.string.config_geocodeProvider);
  if (serviceName != null && pm.resolveService(new Intent(serviceName),0) != null) {
    mGeocodeProvider=new GeocoderProxy(mContext,serviceName);
  }
  updateProvidersLocked();
}
