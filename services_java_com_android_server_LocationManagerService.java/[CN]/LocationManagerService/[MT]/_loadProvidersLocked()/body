{
  if (GpsLocationProvider.isSupported()) {
    GpsLocationProvider gpsProvider=new GpsLocationProvider(mContext,this);
    mGpsStatusProvider=gpsProvider.getGpsStatusProvider();
    mNetInitiatedListener=gpsProvider.getNetInitiatedListener();
    addProvider(gpsProvider);
    mGpsLocationProvider=gpsProvider;
  }
  PassiveProvider passiveProvider=new PassiveProvider(this);
  addProvider(passiveProvider);
  mEnabledProviders.add(passiveProvider.getName());
  if (mNetworkLocationProviderPackageName != null) {
    String packageName=findBestPackage(LocationProviderProxy.SERVICE_ACTION,mNetworkLocationProviderPackageName);
    if (packageName != null) {
      mNetworkLocationProvider=new LocationProviderProxy(mContext,LocationManager.NETWORK_PROVIDER,packageName,mLocationHandler);
      mNetworkLocationProviderPackageName=packageName;
      addProvider(mNetworkLocationProvider);
    }
  }
  if (mGeocodeProviderPackageName != null) {
    String packageName=findBestPackage(GeocoderProxy.SERVICE_ACTION,mGeocodeProviderPackageName);
    if (packageName != null) {
      mGeocodeProvider=new GeocoderProxy(mContext,packageName);
      mGeocodeProviderPackageName=packageName;
    }
  }
  updateProvidersLocked();
}
