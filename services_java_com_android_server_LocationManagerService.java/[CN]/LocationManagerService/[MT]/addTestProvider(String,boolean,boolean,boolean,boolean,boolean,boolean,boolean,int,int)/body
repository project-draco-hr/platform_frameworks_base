{
  if (mContext.checkCallingPermission(ACCESS_MOCK_LOCATION) != PackageManager.PERMISSION_GRANTED) {
    throw new SecurityException("Requires ACCESS_MOCK_LOCATION permission");
  }
  MockProvider provider=new MockProvider(name,requiresNetwork,requiresSatellite,requiresCell,hasMonetaryCost,supportsAltitude,supportsSpeed,supportsBearing,powerRequirement,accuracy);
  if (LocationProviderImpl.getProvider(name) != null) {
    throw new IllegalArgumentException("Provider \"" + name + "\" already exists");
  }
  LocationProviderImpl.addProvider(provider);
  updateProviders();
}
