{
  if (LocationManager.GPS_PROVIDER.equals(provider) || LocationManager.PASSIVE_PROVIDER.equals(provider)) {
    return ACCESS_FINE_LOCATION;
  }
 else   if (LocationManager.NETWORK_PROVIDER.equals(provider) || LocationManager.FUSED_PROVIDER.equals(provider)) {
    return ACCESS_COARSE_LOCATION;
  }
 else {
    LocationProviderInterface lp=mMockProviders.get(provider);
    if (lp != null) {
      ProviderProperties properties=lp.getProperties();
      if (properties != null) {
        if (properties.mRequiresSatellite) {
          return ACCESS_FINE_LOCATION;
        }
 else         if (properties.mRequiresNetwork || properties.mRequiresCell) {
          return ACCESS_COARSE_LOCATION;
        }
      }
    }
  }
  return null;
}
