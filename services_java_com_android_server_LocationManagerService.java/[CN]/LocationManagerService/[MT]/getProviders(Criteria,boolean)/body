{
  ArrayList<String> out;
synchronized (mLock) {
    out=new ArrayList<String>(mProviders.size());
    for (    LocationProviderInterface provider : mProviders) {
      String name=provider.getName();
      if (LocationManager.FUSED_PROVIDER.equals(name)) {
        continue;
      }
      if (isAllowedProviderSafe(name)) {
        if (enabledOnly && !isAllowedBySettingsLocked(name)) {
          continue;
        }
        if (criteria != null && !LocationProvider.propertiesMeetCriteria(name,provider.getProperties(),criteria)) {
          continue;
        }
        out.add(name);
      }
    }
  }
  if (D)   Log.d(TAG,"getProviders()=" + out);
  return out;
}
