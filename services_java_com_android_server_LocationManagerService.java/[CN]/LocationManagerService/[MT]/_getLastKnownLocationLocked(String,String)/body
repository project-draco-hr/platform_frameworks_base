{
  checkPermissionsSafe(provider,null);
  checkPackageName(Binder.getCallingUid(),packageName);
  LocationProviderInterface p=mProvidersByName.get(provider);
  if (p == null) {
    return null;
  }
  if (!isAllowedBySettingsLocked(provider)) {
    return null;
  }
  if (inBlacklist(packageName)) {
    return null;
  }
  return mLastKnownLocation.get(provider);
}
