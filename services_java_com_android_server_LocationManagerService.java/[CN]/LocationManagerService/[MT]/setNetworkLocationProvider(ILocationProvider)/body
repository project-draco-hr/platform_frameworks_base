{
  if (Binder.getCallingUid() != Process.SYSTEM_UID) {
    throw new SecurityException("Installing location providers outside of the system is not supported");
  }
synchronized (mLocationListeners) {
    mNetworkLocationProvider=new LocationProviderProxy(LocationManager.NETWORK_PROVIDER,this,provider);
    mNetworkLocationProvider.addListener(getPackageNames());
    LocationProviderImpl.addProvider(mNetworkLocationProvider);
    updateProvidersLocked();
    mNetworkLocationProvider.updateNetworkState(mNetworkState);
    mNetworkLocationProvider.updateCellLockStatus(mCellWakeLockAcquired);
  }
}
