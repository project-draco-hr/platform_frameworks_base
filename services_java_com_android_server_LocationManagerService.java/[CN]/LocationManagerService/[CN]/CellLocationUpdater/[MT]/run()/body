{
  int curAsu=-1;
  CellLocation curLocation=null;
  while (true) {
synchronized (mLocationListeners) {
      if (curLocation == mNextLocation) {
        mCellLocationUpdater=null;
        break;
      }
      curLocation=mNextLocation;
      if (curLocation == null) {
        mCellLocationUpdater=null;
        break;
      }
      curAsu=mLastSignalStrength;
      mNextLocation=null;
    }
    try {
      CellState cs=new CellState(mTelephonyManager,curLocation,curAsu);
synchronized (mLocationListeners) {
        mLastCellState=cs;
        cs.updateSignalStrength(mLastSignalStrength);
        cs.updateRadioType(mLastRadioType);
        if (mCollector != null) {
          mCollector.updateCellState(cs);
        }
        List<LocationProviderImpl> providers=LocationProviderImpl.getProviders();
        for (        LocationProviderImpl provider : providers) {
          if (provider.requiresCell()) {
            provider.updateCellState(cs);
          }
        }
      }
    }
 catch (    RuntimeException e) {
      Log.e(TAG,"Exception in PhoneStateListener.onCellLocationChanged:",e);
    }
  }
}
