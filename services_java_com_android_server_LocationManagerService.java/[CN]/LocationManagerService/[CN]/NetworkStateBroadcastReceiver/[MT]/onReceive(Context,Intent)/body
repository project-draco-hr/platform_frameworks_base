{
  String action=intent.getAction();
  if (action.equals(ConnectivityManager.CONNECTIVITY_ACTION)) {
    boolean noConnectivity=intent.getBooleanExtra(ConnectivityManager.EXTRA_NO_CONNECTIVITY,false);
    if (!noConnectivity) {
      mNetworkState=LocationProvider.AVAILABLE;
    }
 else {
      mNetworkState=LocationProvider.TEMPORARILY_UNAVAILABLE;
    }
synchronized (mLock) {
      for (int i=mProviders.size() - 1; i >= 0; i--) {
        LocationProviderProxy provider=mProviders.get(i);
        if (provider.requiresNetwork()) {
          provider.updateNetworkState(mNetworkState);
        }
      }
    }
  }
 else   if (action.equals(GpsLocationProvider.GPS_ENABLED_CHANGE_ACTION)) {
    final boolean enabled=intent.getBooleanExtra(GpsLocationProvider.EXTRA_ENABLED,false);
synchronized (mLock) {
      if (!enabled) {
        mWakeLockGpsReceived=true;
      }
    }
  }
}
