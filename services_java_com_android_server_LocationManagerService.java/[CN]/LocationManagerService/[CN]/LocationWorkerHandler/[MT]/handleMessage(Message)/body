{
  try {
    if (msg.what == MESSAGE_LOCATION_CHANGED) {
synchronized (mLock) {
        Location location=(Location)msg.obj;
        if (mCollector != null && LocationManager.GPS_PROVIDER.equals(location.getProvider())) {
          try {
            mCollector.updateLocation(location);
          }
 catch (          RemoteException e) {
            Log.w(TAG,"mCollector.updateLocation failed");
          }
        }
        String provider=location.getProvider();
        if (!isAllowedBySettingsLocked(provider)) {
          return;
        }
        handleLocationChangedLocked(location);
      }
    }
  }
 catch (  Exception e) {
    Log.e(TAG,"Exception in LocationWorkerHandler.handleMessage:",e);
  }
}
