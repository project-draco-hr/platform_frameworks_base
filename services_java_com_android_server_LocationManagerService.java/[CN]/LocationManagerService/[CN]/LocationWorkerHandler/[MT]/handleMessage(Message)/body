{
  try {
    if (msg.what == MESSAGE_LOCATION_CHANGED) {
synchronized (mLock) {
        Location location=(Location)msg.obj;
        String provider=location.getProvider();
        boolean passive=(msg.arg1 == 1);
        if (!passive) {
          for (int i=mProviders.size() - 1; i >= 0; i--) {
            LocationProviderInterface p=mProviders.get(i);
            if (!provider.equals(p.getName())) {
              p.updateLocation(location);
            }
          }
        }
        if (isAllowedBySettingsLocked(provider)) {
          handleLocationChangedLocked(location,passive);
        }
      }
    }
 else     if (msg.what == MESSAGE_PACKAGE_UPDATED) {
      String packageName=(String)msg.obj;
      String packageDot=packageName + ".";
      if (mNetworkLocationProvider != null && mNetworkLocationProviderPackageName.startsWith(packageDot)) {
        mNetworkLocationProvider.reconnect();
      }
      if (mGeocodeProvider != null && mGeocodeProviderPackageName.startsWith(packageDot)) {
        mGeocodeProvider.reconnect();
      }
    }
  }
 catch (  Exception e) {
    Slog.e(TAG,"Exception in LocationWorkerHandler.handleMessage:",e);
  }
}
