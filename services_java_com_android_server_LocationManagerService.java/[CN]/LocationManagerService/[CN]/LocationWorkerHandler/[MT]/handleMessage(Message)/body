{
  try {
    if (msg.what == MESSAGE_LOCATION_CHANGED) {
synchronized (mLock) {
        Location location=(Location)msg.obj;
        String provider=location.getProvider();
        for (int i=mProviders.size() - 1; i >= 0; i--) {
          LocationProviderProxy proxy=mProviders.get(i);
          if (!provider.equals(proxy.getName())) {
            proxy.updateLocation(location);
          }
        }
        if (isAllowedBySettingsLocked(provider)) {
          handleLocationChangedLocked(location);
        }
      }
    }
  }
 catch (  Exception e) {
    Log.e(TAG,"Exception in LocationWorkerHandler.handleMessage:",e);
  }
}
