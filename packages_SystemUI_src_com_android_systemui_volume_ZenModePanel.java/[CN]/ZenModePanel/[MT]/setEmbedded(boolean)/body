{
  if (mEmbedded == embedded)   return;
  mEmbedded=embedded;
  mZenButtonsContainer.setLayoutTransition(mEmbedded ? null : newLayoutTransition(null));
  setLayoutTransition(mEmbedded ? null : newLayoutTransition(null));
  if (mEmbedded) {
    mZenButtonsContainer.setBackground(null);
  }
 else {
    mZenButtonsContainer.setBackgroundResource(R.drawable.qs_background_secondary);
  }
  mZenButtons.getChildAt(2).setVisibility(mEmbedded ? GONE : VISIBLE);
  mZenEmbeddedDivider.setVisibility(mEmbedded ? VISIBLE : GONE);
  setExpanded(mEmbedded);
  updateWidgets();
}
