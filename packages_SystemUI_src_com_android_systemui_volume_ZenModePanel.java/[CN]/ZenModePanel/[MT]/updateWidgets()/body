{
  if (mTransitionHelper.isTransitioning()) {
    mTransitionHelper.pendingUpdateWidgets();
    return;
  }
  final int zen=getSelectedZen(Global.ZEN_MODE_OFF);
  final boolean zenImportant=zen == Global.ZEN_MODE_IMPORTANT_INTERRUPTIONS;
  final boolean zenNone=zen == Global.ZEN_MODE_NO_INTERRUPTIONS;
  final boolean introduction=(zenImportant && !mPrefs.mConfirmedPriorityIntroduction || zenNone && !mPrefs.mConfirmedSilenceIntroduction);
  mZenButtons.setVisibility(mHidden ? GONE : VISIBLE);
  mZenIntroduction.setVisibility(introduction ? VISIBLE : GONE);
  if (introduction) {
    mZenIntroductionMessage.setText(zenImportant ? R.string.zen_priority_introduction : mVoiceCapable ? R.string.zen_silence_introduction_voice : R.string.zen_silence_introduction);
    mZenIntroductionCustomize.setVisibility(zenImportant ? VISIBLE : GONE);
  }
  final String warning=computeAlarmWarningText(zenNone);
  mZenAlarmWarning.setVisibility(warning != null ? VISIBLE : GONE);
  mZenAlarmWarning.setText(warning);
}
