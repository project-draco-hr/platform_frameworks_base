{
  if (mTransitionHelper.isTransitioning()) {
    mTransitionHelper.pendingUpdateWidgets();
    return;
  }
  final int zen=getSelectedZen(Global.ZEN_MODE_OFF);
  final boolean zenOff=zen == Global.ZEN_MODE_OFF;
  final boolean zenImportant=zen == Global.ZEN_MODE_IMPORTANT_INTERRUPTIONS;
  final boolean zenNone=zen == Global.ZEN_MODE_NO_INTERRUPTIONS;
  final boolean expanded=!mHidden && mExpanded;
  mZenButtons.setVisibility(mHidden ? GONE : VISIBLE);
  mZenSubhead.setVisibility(!mHidden && !zenOff ? VISIBLE : GONE);
  mZenSubheadExpanded.setVisibility(expanded ? VISIBLE : GONE);
  mZenSubheadCollapsed.setVisibility(!expanded ? VISIBLE : GONE);
  mMoreSettings.setVisibility(zenImportant && expanded ? VISIBLE : GONE);
  mZenConditions.setVisibility(!zenOff && expanded ? VISIBLE : GONE);
  if (zenNone) {
    mZenSubheadExpanded.setText(R.string.zen_no_interruptions_with_warning);
    mZenSubheadCollapsed.setText(mExitConditionText);
  }
 else   if (zenImportant) {
    mZenSubheadExpanded.setText(R.string.zen_important_interruptions);
    mZenSubheadCollapsed.setText(mExitConditionText);
  }
  mZenSubheadExpanded.setTextColor(zenNone && mPrefs.isNoneDangerous() ? mSubheadWarningColor : mSubheadColor);
}
