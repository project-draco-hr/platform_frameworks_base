{
  super.onFinishInflate();
  mZenButtons=(SegmentedButtons)findViewById(R.id.zen_buttons);
  mZenButtons.addButton(R.string.interruption_level_none,R.drawable.ic_zen_none,Global.ZEN_MODE_NO_INTERRUPTIONS);
  mZenButtons.addButton(R.string.interruption_level_priority,R.drawable.ic_zen_important,Global.ZEN_MODE_IMPORTANT_INTERRUPTIONS);
  mZenButtons.addButton(R.string.interruption_level_all,R.drawable.ic_zen_all,Global.ZEN_MODE_OFF);
  mZenButtons.setCallback(mZenButtonsCallback);
  final ViewGroup zenButtonsContainer=(ViewGroup)findViewById(R.id.zen_buttons_container);
  zenButtonsContainer.setLayoutTransition(newLayoutTransition(null));
  mZenSubhead=findViewById(R.id.zen_subhead);
  mZenSubheadCollapsed=(TextView)findViewById(R.id.zen_subhead_collapsed);
  mZenSubheadCollapsed.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      setExpanded(true);
    }
  }
);
  Interaction.register(mZenSubheadCollapsed,mInteractionCallback);
  mZenSubheadExpanded=(TextView)findViewById(R.id.zen_subhead_expanded);
  Interaction.register(mZenSubheadExpanded,mInteractionCallback);
  mMoreSettings=findViewById(R.id.zen_more_settings);
  mMoreSettings.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      fireMoreSettings();
    }
  }
);
  Interaction.register(mMoreSettings,mInteractionCallback);
  mZenConditions=(LinearLayout)findViewById(R.id.zen_conditions);
  for (int i=0; i < mMaxConditions; i++) {
    mZenConditions.addView(mInflater.inflate(R.layout.zen_mode_condition,this,false));
  }
  setLayoutTransition(newLayoutTransition(mTransitionHelper));
}
