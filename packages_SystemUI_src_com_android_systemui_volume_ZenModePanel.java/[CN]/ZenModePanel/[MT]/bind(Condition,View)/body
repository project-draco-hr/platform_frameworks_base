{
  final boolean enabled=condition == null || condition.state == Condition.STATE_TRUE;
  final View row;
  if (convertView == null) {
    row=mInflater.inflate(R.layout.zen_mode_condition,this,false);
    mConditions.addView(row);
  }
 else {
    row=convertView;
  }
  final int position=mConditions.indexOfChild(row);
  final RadioButton rb=(RadioButton)row.findViewById(android.R.id.checkbox);
  mRadioButtons.add(rb);
  rb.setEnabled(enabled);
  rb.setOnCheckedChangeListener(new OnCheckedChangeListener(){
    @Override public void onCheckedChanged(    CompoundButton buttonView,    boolean isChecked){
      if (isChecked) {
        for (        RadioButton otherButton : mRadioButtons) {
          if (otherButton == rb)           continue;
          otherButton.setChecked(false);
        }
        mController.select(condition);
        fireInteraction();
      }
    }
  }
);
  final TextView title=(TextView)row.findViewById(android.R.id.title);
  if (condition == null) {
    title.setText(R.string.zen_mode_forever);
  }
 else {
    title.setText(condition.summary);
  }
  title.setEnabled(enabled);
  title.setAlpha(enabled ? 1 : .5f);
  final ImageView button1=(ImageView)row.findViewById(android.R.id.button1);
  button1.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      rb.setChecked(true);
      editTimeCondition(-1);
      fireInteraction();
    }
  }
);
  final ImageView button2=(ImageView)row.findViewById(android.R.id.button2);
  button2.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      rb.setChecked(true);
      editTimeCondition(1);
      fireInteraction();
    }
  }
);
  title.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      rb.setChecked(true);
      fireInteraction();
    }
  }
);
  if (position == 0) {
    button1.setEnabled(mMinutesIndex > 0);
    button2.setEnabled(mMinutesIndex < MINUTES.length - 1);
    button1.setImageAlpha(button1.isEnabled() ? 0xff : 0x7f);
    button2.setImageAlpha(button2.isEnabled() ? 0xff : 0x7f);
  }
 else {
    button1.setVisibility(View.GONE);
    button2.setVisibility(View.GONE);
  }
  if (position == 0 && mConditions.getChildCount() == 1) {
    rb.setChecked(true);
  }
}
