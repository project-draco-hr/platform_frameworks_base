{
  int type;
  int depth=parser.getDepth();
  ArrayList<Integer> targetIds=new ArrayList<Integer>();
  while (((type=parser.next()) != XmlPullParser.END_TAG || parser.getDepth() > depth) && type != XmlPullParser.END_DOCUMENT) {
    if (type != XmlPullParser.START_TAG) {
      continue;
    }
    String name=parser.getName();
    if (name.equals("target")) {
      TypedArray a=mContext.obtainStyledAttributes(attrs,com.android.internal.R.styleable.Transition);
      int id=a.getResourceId(com.android.internal.R.styleable.Transition_targetID,-1);
      if (id >= 0) {
        targetIds.add(id);
      }
    }
 else {
      throw new RuntimeException("Unknown scene name: " + parser.getName());
    }
  }
  int numTargets=targetIds.size();
  if (numTargets > 0) {
    int[] targetsArray=new int[numTargets];
    for (int i=0; i < targetIds.size(); ++i) {
      targetsArray[i]=targetIds.get(i);
    }
    transition.setTargetIds(targetsArray);
  }
}
