{
  Frame result=null;
switch (format.getTarget()) {
case FrameFormat.TARGET_SIMPLE:
    result=new SimpleFrame(format,this);
  break;
case FrameFormat.TARGET_NATIVE:
result=new NativeFrame(format,this);
break;
case FrameFormat.TARGET_GPU:
{
GLFrame glFrame=new GLFrame(format,this);
glFrame.init(getGLEnvironment());
result=glFrame;
break;
}
case FrameFormat.TARGET_VERTEXBUFFER:
{
result=new VertexFrame(format,this);
break;
}
default :
throw new RuntimeException("Unsupported frame target type: " + FrameFormat.targetToString(format.getTarget()) + "!");
}
return result;
}
