{
  if (is == null) {
    return null;
  }
  Rect pad=new Rect();
  if (opts == null)   opts=new BitmapFactory.Options();
  opts.inScreenDensity=res != null ? res.getDisplayMetrics().noncompatDensityDpi : DisplayMetrics.DENSITY_DEVICE;
  Bitmap bm=BitmapFactory.decodeResourceStream(res,value,is,pad,opts);
  if (bm != null) {
    byte[] np=bm.getNinePatchChunk();
    if (np == null || !NinePatch.isNinePatchChunk(np)) {
      np=null;
      pad=null;
    }
    int[] layoutBounds=bm.getLayoutBounds();
    Rect layoutBoundsRect=null;
    if (layoutBounds != null) {
      layoutBoundsRect=new Rect(layoutBounds[0],layoutBounds[1],layoutBounds[2],layoutBounds[3]);
    }
    return drawableFromBitmap(res,bm,np,pad,layoutBoundsRect,srcName);
  }
  return null;
}
