{
  if ((pkg.isSystemApp() && !pkg.isUpdatedSystemApp()) || pkg.isForwardLocked() || (!pkg.applicationInfo.isInternal())) {
    return null;
  }
  File codePath=new File(pkg.codePath);
  if (codePath.isDirectory()) {
    File oatDir=getOatDir(codePath);
    mPackageManagerService.mInstaller.createOatDir(oatDir.getAbsolutePath(),dexInstructionSet);
    return oatDir.getAbsolutePath();
  }
  return null;
}
