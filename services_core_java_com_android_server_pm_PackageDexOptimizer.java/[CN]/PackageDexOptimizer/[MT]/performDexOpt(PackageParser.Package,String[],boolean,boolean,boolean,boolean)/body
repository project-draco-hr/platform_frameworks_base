{
  ArraySet<String> done;
  if (inclDependencies && (pkg.usesLibraries != null || pkg.usesOptionalLibraries != null)) {
    done=new ArraySet<String>();
    done.add(pkg.packageName);
  }
 else {
    done=null;
  }
synchronized (mPackageManagerService.mInstallLock) {
    return performDexOptLI(pkg,instructionSets,forceDex,defer,bootComplete,done);
  }
}
