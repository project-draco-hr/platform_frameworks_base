{
  serializer.attribute(null,BEGIN_TIME_ATTR,Long.toString(stats.beginTime));
  serializer.attribute(null,END_TIME_ATTR,Long.toString(stats.endTime));
  final int statsCount=stats.stats.size();
  for (int i=0; i < statsCount; i++) {
    writeUsageStats(serializer,stats.stats.valueAt(i));
  }
  final int configCount=stats.configurations.size();
  for (int i=0; i < configCount; i++) {
    boolean active=stats.activeConfiguration.equals(stats.configurations.keyAt(i));
    writeConfigStats(serializer,stats.configurations.valueAt(i),active);
  }
  final int eventCount=stats.events != null ? stats.events.size() : 0;
  for (int i=0; i < eventCount; i++) {
    writeEvent(serializer,stats.events.valueAt(i));
  }
}
