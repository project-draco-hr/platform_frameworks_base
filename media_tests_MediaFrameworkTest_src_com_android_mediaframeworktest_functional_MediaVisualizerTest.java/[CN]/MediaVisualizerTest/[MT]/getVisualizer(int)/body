{
  if (mVisualizer == null || session != mSession) {
    if (session != mSession && mVisualizer != null) {
      mVisualizer.release();
      mVisualizer=null;
    }
    try {
      mVisualizer=new Visualizer(session);
      mSession=session;
    }
 catch (    IllegalArgumentException e) {
      Log.e(TAG,"getVisualizer() Visualizer not found exception: " + e);
    }
catch (    UnsupportedOperationException e) {
      Log.e(TAG,"getVisualizer() Effect library not loaded exception: " + e);
    }
  }
  assertNotNull("could not create mVisualizer",mVisualizer);
}
