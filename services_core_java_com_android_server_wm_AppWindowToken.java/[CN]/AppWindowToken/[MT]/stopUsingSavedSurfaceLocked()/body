{
  for (int i=allAppWindows.size() - 1; i >= 0; i--) {
    final WindowState w=allAppWindows.get(i);
    if (w.isAnimatingInvisibleWithSavedSurface()) {
      if (DEBUG_APP_TRANSITIONS || DEBUG_ANIM)       Slog.d(TAG,"stopUsingSavedSurfaceLocked: " + w);
      w.clearAnimatingWithSavedSurface();
      w.mDestroying=true;
      w.mWinAnimator.hide("stopUsingSavedSurfaceLocked");
      w.mWinAnimator.mWallpaperControllerLocked.hideWallpapers(w);
    }
  }
  destroySurfaces();
}
