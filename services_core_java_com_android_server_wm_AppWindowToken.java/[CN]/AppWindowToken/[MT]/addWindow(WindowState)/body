{
  for (int i=allAppWindows.size() - 1; i >= 0; i--) {
    WindowState candidate=allAppWindows.get(i);
    if (candidate.mWillReplaceWindow && candidate.mReplacingWindow == null && candidate.getWindowTag().equals(w.getWindowTag().toString())) {
      candidate.mReplacingWindow=w;
      service.mH.removeMessages(H.WINDOW_REPLACEMENT_TIMEOUT);
      service.mH.sendMessageDelayed(service.mH.obtainMessage(H.WINDOW_REPLACEMENT_TIMEOUT,this),WINDOW_REPLACEMENT_TIMEOUT_DURATION);
    }
  }
  allAppWindows.add(w);
}
