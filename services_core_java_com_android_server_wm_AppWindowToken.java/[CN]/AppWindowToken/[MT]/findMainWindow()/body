{
  WindowState candidate=null;
  int j=windows.size();
  while (j > 0) {
    j--;
    WindowState win=windows.get(j);
    if (win.mAttrs.type == WindowManager.LayoutParams.TYPE_BASE_APPLICATION || win.mAttrs.type == WindowManager.LayoutParams.TYPE_APPLICATION_STARTING) {
      if (win.mExiting) {
        candidate=win;
      }
 else {
        return win;
      }
    }
  }
  return candidate;
}
