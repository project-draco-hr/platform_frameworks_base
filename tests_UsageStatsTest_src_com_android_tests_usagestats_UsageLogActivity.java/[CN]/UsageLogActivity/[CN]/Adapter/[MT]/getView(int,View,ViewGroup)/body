{
  final UsageEvents.Event event=getItem(position);
  final ViewHolder holder;
  if (convertView == null) {
    holder=new ViewHolder();
    if (event.getEventType() == UsageEvents.Event.CONFIGURATION_CHANGE) {
      convertView=LayoutInflater.from(UsageLogActivity.this).inflate(R.layout.config_row_item,parent,false);
      holder.config=(TextView)convertView.findViewById(android.R.id.text1);
    }
 else {
      convertView=LayoutInflater.from(UsageLogActivity.this).inflate(R.layout.row_item,parent,false);
      holder.packageName=(TextView)convertView.findViewById(android.R.id.text1);
      holder.state=(TextView)convertView.findViewById(android.R.id.text2);
    }
    convertView.setTag(holder);
  }
 else {
    holder=(ViewHolder)convertView.getTag();
  }
  if (holder.packageName != null) {
    holder.packageName.setText(event.getPackageName());
  }
  if (holder.state != null) {
    holder.state.setText(eventToString(event.getEventType()));
  }
  if (holder.config != null && event.getEventType() == UsageEvents.Event.CONFIGURATION_CHANGE) {
    holder.config.setText(event.getConfiguration().toString());
  }
  return convertView;
}
