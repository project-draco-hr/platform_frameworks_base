{
  if (mState != STATE_RUNNING && mState != STATE_CANCELING) {
    throw new IllegalStateException("Not running.");
  }
  mState=STATE_FAILED;
  mError=error;
}
