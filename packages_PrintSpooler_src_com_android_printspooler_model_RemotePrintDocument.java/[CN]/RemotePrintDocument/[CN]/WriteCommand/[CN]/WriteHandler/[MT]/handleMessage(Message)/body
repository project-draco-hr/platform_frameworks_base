{
  if (isFailed()) {
    if (DEBUG) {
      Log.i(LOG_TAG,"[CALLBACK] on canceled write command");
    }
    return;
  }
 else {
    if (message.what != MSG_ON_WRITE_STARTED) {
      removeForceCancel();
    }
  }
switch (message.what) {
case MSG_ON_WRITE_STARTED:
{
      ICancellationSignal cancellation=(ICancellationSignal)message.obj;
      final int sequence=message.arg1;
      handleOnWriteStarted(cancellation,sequence);
    }
  break;
case MSG_ON_WRITE_FINISHED:
{
  PageRange[] pages=(PageRange[])message.obj;
  final int sequence=message.arg1;
  handleOnWriteFinished(pages,sequence);
}
break;
case MSG_ON_WRITE_FAILED:
{
CharSequence error=(CharSequence)message.obj;
final int sequence=message.arg1;
handleOnWriteFailed(error,sequence);
}
break;
case MSG_ON_WRITE_CANCELED:
{
final int sequence=message.arg1;
handleOnWriteCanceled(sequence);
}
break;
}
}
