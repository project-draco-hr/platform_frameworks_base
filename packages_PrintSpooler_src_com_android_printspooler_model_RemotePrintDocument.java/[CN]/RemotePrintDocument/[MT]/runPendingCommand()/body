{
  if (mCurrentCommand != null && (mCurrentCommand.isCompleted() || mCurrentCommand.isCanceled())) {
    mCurrentCommand=mNextCommand;
    mNextCommand=null;
  }
  if (mCurrentCommand != null) {
    if (mCurrentCommand.isPending()) {
      mCurrentCommand.run();
    }
    mState=STATE_UPDATING;
  }
 else {
    mState=STATE_UPDATED;
  }
}
