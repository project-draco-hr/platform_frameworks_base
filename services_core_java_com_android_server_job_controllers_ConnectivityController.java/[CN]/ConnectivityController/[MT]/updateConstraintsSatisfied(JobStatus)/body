{
  final NetworkInfo info=mConnManager.getActiveNetworkInfoForUid(jobStatus.getSourceUid());
  final boolean connected=(info != null) && info.isConnected();
  final boolean unmetered=connected && !info.isMetered();
  final boolean notRoaming=connected && !info.isRoaming();
  boolean changed=false;
  changed|=jobStatus.setConnectivityConstraintSatisfied(connected);
  changed|=jobStatus.setUnmeteredConstraintSatisfied(unmetered);
  changed|=jobStatus.setNotRoamingConstraintSatisfied(notRoaming);
  return changed;
}
