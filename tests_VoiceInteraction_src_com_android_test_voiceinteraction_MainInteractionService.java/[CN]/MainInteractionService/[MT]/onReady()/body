{
  super.onReady();
  Log.i(TAG,"Creating " + this);
  Log.i(TAG,"Keyphrase enrollment error? " + getKeyphraseEnrollmentInfo().getParseError());
  Log.i(TAG,"Keyphrase enrollment meta-data: " + Arrays.toString(getKeyphraseEnrollmentInfo().listKeyphraseMetadata()));
  mHotwordDetector=getAlwaysOnHotwordDetector("Hello There","en-US",mHotwordCallback);
  int availability=mHotwordDetector.getAvailability();
  Log.i(TAG,"Hotword availability = " + availability);
switch (availability) {
case AlwaysOnHotwordDetector.KEYPHRASE_HARDWARE_UNAVAILABLE:
    Log.i(TAG,"KEYPHRASE_HARDWARE_UNAVAILABLE");
  break;
case AlwaysOnHotwordDetector.KEYPHRASE_UNSUPPORTED:
Log.i(TAG,"KEYPHRASE_UNSUPPORTED");
break;
case AlwaysOnHotwordDetector.KEYPHRASE_UNENROLLED:
Log.i(TAG,"KEYPHRASE_UNENROLLED");
Intent enroll=mHotwordDetector.getManageIntent(AlwaysOnHotwordDetector.MANAGE_ACTION_ENROLL);
Log.i(TAG,"Need to enroll with " + enroll);
break;
case AlwaysOnHotwordDetector.KEYPHRASE_ENROLLED:
Log.i(TAG,"KEYPHRASE_ENROLLED");
int status=mHotwordDetector.startRecognition(AlwaysOnHotwordDetector.RECOGNITION_FLAG_NONE);
Log.i(TAG,"startRecognition status = " + status);
break;
}
}
