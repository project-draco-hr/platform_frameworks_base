{
  final TelephonyManager tele=TelephonyManager.from(mContext);
  int simState=tele.getSimState(slotId);
  State state;
  try {
    state=State.intToState(simState);
  }
 catch (  IllegalArgumentException ex) {
    Log.w(TAG,"Unknown sim state: " + simState);
    state=State.UNKNOWN;
  }
  SimData data=mSimDatas.get(subId);
  final boolean changed;
  if (data == null) {
    data=new SimData(state,slotId,subId);
    mSimDatas.put(subId,data);
    changed=true;
  }
 else {
    changed=data.simState != state;
    data.simState=state;
  }
  return changed;
}
