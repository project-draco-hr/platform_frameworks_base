{
  if (fingerId == 0) {
    handleFingerprintHelp(-1,mContext.getString(R.string.fingerprint_not_recognized));
    return;
  }
  try {
    final int userId;
    try {
      userId=ActivityManagerNative.getDefault().getCurrentUser().id;
    }
 catch (    RemoteException e) {
      Log.e(TAG,"Failed to get current user id: ",e);
      return;
    }
    if (isFingerprintDisabled(userId)) {
      Log.d(TAG,"Fingerprint disabled by DPM for userId: " + userId);
      return;
    }
    final ContentResolver res=mContext.getContentResolver();
    final int ids[]=FingerprintUtils.getFingerprintIdsForUser(res,userId);
    for (int i=0; i < ids.length; i++) {
      final boolean isCorrectUser=true || (groupId == userId);
      if (ids[i] == fingerId && isCorrectUser) {
        onFingerprintAuthenticated(userId);
      }
    }
  }
  finally {
    setFingerprintRunningDetectionRunning(false);
  }
}
