{
  int idx=binarySearch(mDurationsTable,mDurationsTableSize,state);
  int off;
  if (idx >= 0) {
    off=mDurationsTable[idx];
  }
 else {
    mStats.mAddLongTable=mDurationsTable;
    mStats.mAddLongTableSize=mDurationsTableSize;
    off=mStats.addLongData(~idx,state,1);
    mDurationsTable=mStats.mAddLongTable;
    mDurationsTableSize=mStats.mAddLongTableSize;
  }
  long[] longs=mStats.mLongs.get((off >> OFFSET_ARRAY_SHIFT) & OFFSET_ARRAY_MASK);
  if (DEBUG)   Slog.d(TAG,"Duration of " + mName + " state "+ state+ " inc by "+ dur+ " from "+ longs[(off >> OFFSET_INDEX_SHIFT) & OFFSET_INDEX_MASK]);
  longs[(off >> OFFSET_INDEX_SHIFT) & OFFSET_INDEX_MASK]+=dur;
}
