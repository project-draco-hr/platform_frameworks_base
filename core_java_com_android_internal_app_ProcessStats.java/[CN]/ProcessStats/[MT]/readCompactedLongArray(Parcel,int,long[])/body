{
  if (version <= 10) {
    in.readLongArray(array);
    return;
  }
  final int N=in.readInt();
  if (N != array.length) {
    throw new RuntimeException("bad array lengths");
  }
  for (int i=0; i < N; i++) {
    int val=in.readInt();
    if (val >= 0) {
      array[i]=val;
    }
 else {
      int bottom=in.readInt();
      array[i]=(((long)~val) << 32) | bottom;
    }
  }
}
