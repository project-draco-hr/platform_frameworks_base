{
  boolean printedHeader=false;
  int printedScreen=-1;
  for (int is=0; is < screenStates.length; is++) {
    int printedMem=-1;
    for (int im=0; im < memStates.length; im++) {
      for (int ip=0; ip < procStates.length; ip++) {
        final int iscreen=screenStates[is];
        final int imem=memStates[im];
        final int bucket=((iscreen + imem) * STATE_COUNT) + procStates[ip];
        long count=proc.getPssSampleCount(bucket);
        if (count > 0) {
          if (!printedHeader) {
            pw.print(prefix);
            pw.print("PSS/USS (");
            pw.print(proc.mPssTableSize);
            pw.println(" entries):");
            printedHeader=true;
          }
          pw.print(prefix);
          pw.print("  ");
          if (screenStates.length > 1) {
            printScreenLabel(pw,printedScreen != iscreen ? iscreen : STATE_NOTHING);
            printedScreen=iscreen;
          }
          if (memStates.length > 1) {
            printMemLabel(pw,printedMem != imem ? imem : STATE_NOTHING,'/');
            printedMem=imem;
          }
          pw.print(STATE_NAMES[procStates[ip]]);
          pw.print(": ");
          pw.print(count);
          pw.print(" samples ");
          printSizeValue(pw,proc.getPssMinimum(bucket) * 1024);
          pw.print(" ");
          printSizeValue(pw,proc.getPssAverage(bucket) * 1024);
          pw.print(" ");
          printSizeValue(pw,proc.getPssMaximum(bucket) * 1024);
          pw.print(" / ");
          printSizeValue(pw,proc.getPssUssMinimum(bucket) * 1024);
          pw.print(" ");
          printSizeValue(pw,proc.getPssUssAverage(bucket) * 1024);
          pw.print(" ");
          printSizeValue(pw,proc.getPssUssMaximum(bucket) * 1024);
          pw.println();
        }
      }
    }
  }
  if (proc.mNumExcessiveWake != 0) {
    pw.print(prefix);
    pw.print("Killed for excessive wake locks: ");
    pw.print(proc.mNumExcessiveWake);
    pw.println(" times");
  }
  if (proc.mNumExcessiveCpu != 0) {
    pw.print(prefix);
    pw.print("Killed for excessive CPU use: ");
    pw.print(proc.mNumExcessiveCpu);
    pw.println(" times");
  }
  if (proc.mNumCachedKill != 0) {
    pw.print(prefix);
    pw.print("Killed from cached state: ");
    pw.print(proc.mNumCachedKill);
    pw.print(" times from pss ");
    printSizeValue(pw,proc.mMinCachedKillPss * 1024);
    pw.print("-");
    printSizeValue(pw,proc.mAvgCachedKillPss * 1024);
    pw.print("-");
    printSizeValue(pw,proc.mMaxCachedKillPss * 1024);
    pw.println();
  }
}
