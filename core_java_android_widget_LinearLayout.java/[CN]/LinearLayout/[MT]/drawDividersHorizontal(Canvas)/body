{
  final int count=getVirtualChildCount();
  int left=getPaddingLeft();
  for (int i=0; i < count; i++) {
    final View child=getVirtualChildAt(i);
    if (child == null) {
      left+=measureNullChild(i);
    }
 else     if (child.getVisibility() != GONE) {
      if (hasDividerBeforeChildAt(i)) {
        drawVerticalDivider(canvas,left);
        left+=mDividerWidth;
      }
      LayoutParams lp=(LayoutParams)child.getLayoutParams();
      left+=lp.leftMargin + child.getWidth() + lp.rightMargin;
    }
  }
  if (hasDividerBeforeChildAt(count)) {
    drawVerticalDivider(canvas,left);
  }
}
