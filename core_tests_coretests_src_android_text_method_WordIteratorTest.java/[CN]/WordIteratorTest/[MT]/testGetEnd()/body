{
{
    final String text="abc def-ghi. jkl";
    WordIterator wordIterator=new WordIterator(Locale.ENGLISH);
    wordIterator.setCharSequence(text,0,text.length());
    try {
      wordIterator.getEnd(-1);
      fail("getEnd with invalid offset should throw IllegalArgumentException.");
    }
 catch (    IllegalArgumentException e) {
    }
    try {
      wordIterator.getEnd(text.length() + 1);
      fail("getEnd with invalid offset should throw IllegalArgumentException.");
    }
 catch (    IllegalArgumentException e) {
    }
    try {
      wordIterator.getNextWordEndOnTwoWordBoundary(-1);
      fail("getNextWordEndOnTwoWordBoundary with invalid offset should throw " + "IllegalArgumentException.");
    }
 catch (    IllegalArgumentException e) {
    }
    try {
      wordIterator.getNextWordEndOnTwoWordBoundary(text.length() + 1);
      fail("getNextWordEndOnTwoWordBoundary with invalid offset should throw " + "IllegalArgumentException.");
    }
 catch (    IllegalArgumentException e) {
    }
  }
{
    final String text="abc def-ghi. jkl";
    WordIterator wordIterator=new WordIterator(Locale.ENGLISH);
    wordIterator.setCharSequence(text,0,text.length());
    assertEquals(text.indexOf('c') + 1,wordIterator.getEnd(text.indexOf('a')));
    assertEquals(text.indexOf('c') + 1,wordIterator.getEnd(text.indexOf('c')));
    assertEquals(text.indexOf('c') + 1,wordIterator.getEnd(text.indexOf('c') + 1));
    assertEquals(text.indexOf('f') + 1,wordIterator.getEnd(text.indexOf('d')));
    assertEquals(text.indexOf('f') + 1,wordIterator.getEnd(text.indexOf('f') + 1));
    assertEquals(text.indexOf('i') + 1,wordIterator.getEnd(text.indexOf('g')));
    assertEquals(text.indexOf('i') + 1,wordIterator.getEnd(text.indexOf('i') + 1));
    assertEquals(BreakIterator.DONE,wordIterator.getEnd(text.indexOf('.') + 1));
    assertEquals(text.indexOf('l') + 1,wordIterator.getEnd(text.indexOf('j')));
    assertEquals(text.indexOf('l') + 1,wordIterator.getEnd(text.indexOf('l') + 1));
    for (int i=0; i < text.length(); i++) {
      assertEquals(wordIterator.getEnd(i),wordIterator.getNextWordEndOnTwoWordBoundary(i));
    }
  }
{
    final String text="\u3042\u30A2\u30A3\u30A4";
    WordIterator wordIterator=new WordIterator(Locale.JAPANESE);
    wordIterator.setCharSequence(text,0,text.length());
    assertEquals(text.indexOf('\u3042') + 1,wordIterator.getEnd(text.indexOf('\u3042')));
    assertEquals(text.indexOf('\u3042') + 1,wordIterator.getEnd(text.indexOf('\u30A2')));
    assertEquals(text.indexOf('\u30A4') + 1,wordIterator.getEnd(text.indexOf('\u30A4')));
    assertEquals(text.indexOf('\u30A4') + 1,wordIterator.getEnd(text.indexOf('\u30A4') + 1));
    assertEquals(text.indexOf('\u3042') + 1,wordIterator.getNextWordEndOnTwoWordBoundary(text.indexOf('\u3042')));
    assertEquals(text.indexOf('\u30A4') + 1,wordIterator.getNextWordEndOnTwoWordBoundary(text.indexOf('\u30A2')));
    assertEquals(text.indexOf('\u30A4') + 1,wordIterator.getNextWordEndOnTwoWordBoundary(text.indexOf('\u30A4')));
    assertEquals(text.indexOf('\u30A4') + 1,wordIterator.getNextWordEndOnTwoWordBoundary(text.indexOf('\u30A4') + 1));
  }
}
