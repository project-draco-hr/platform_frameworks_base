{
  super(context,attrs);
  if (DEBUG)   Log.v(TAG,"Create TCV " + this);
  mAudioManager=new AudioManager(mContext);
  mCurrentPlayState=RemoteControlClient.PLAYSTATE_NONE;
  mRemoteController=new RemoteController(context);
  mRemoteController.setOnClientUpdateListener(mRCClientUpdateListener);
  final DisplayMetrics dm=context.getResources().getDisplayMetrics();
  final int dim=Math.max(dm.widthPixels,dm.heightPixels);
  mRemoteController.setArtworkConfiguration(true,dim,dim);
  final ChangeText tc=new ChangeText();
  tc.setChangeBehavior(ChangeText.CHANGE_BEHAVIOR_OUT_IN);
  final TransitionSet inner=new TransitionSet();
  inner.addTransition(tc).addTransition(new ChangeBounds());
  final TransitionSet tg=new TransitionSet();
  tg.addTransition(new Fade(Fade.OUT)).addTransition(inner).addTransition(new Fade(Fade.IN));
  tg.setOrdering(TransitionSet.ORDERING_SEQUENTIAL);
  tg.setDuration(TRANSITION_DURATION);
  mMetadataChangeTransition=tg;
}
