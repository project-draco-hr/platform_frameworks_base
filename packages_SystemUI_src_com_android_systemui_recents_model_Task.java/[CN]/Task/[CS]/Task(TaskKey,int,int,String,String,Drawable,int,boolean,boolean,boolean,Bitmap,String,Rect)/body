{
  boolean isInAffiliationGroup=(taskAffiliation != key.id);
  boolean hasAffiliationGroupColor=isInAffiliationGroup && (taskAffiliationColor != 0);
  this.key=key;
  this.taskAffiliationId=taskAffiliation;
  this.taskAffiliationColor=taskAffiliationColor;
  this.activityLabel=activityTitle;
  this.contentDescription=contentDescription;
  this.activityIcon=activityIcon;
  this.colorPrimary=hasAffiliationGroupColor ? taskAffiliationColor : colorPrimary;
  this.useLightOnPrimaryColor=Utilities.computeContrastBetweenColors(this.colorPrimary,Color.WHITE) > 3f;
  this.lockToThisTask=lockToTaskEnabled && lockToThisTask;
  this.lockToTaskEnabled=lockToTaskEnabled;
  this.isHistorical=isHistorical;
  this.icon=icon;
  this.iconFilename=iconFilename;
  this.bounds=bounds;
}
