{
  boolean isInAffiliationGroup=(taskAffiliation != id);
  boolean hasAffiliationGroupColor=isInAffiliationGroup && (taskAffiliationColor != 0);
  this.key=new TaskKey(id,intent,userId,firstActiveTime,lastActiveTime);
  this.taskAffiliation=taskAffiliation;
  this.taskAffiliationColor=taskAffiliationColor;
  this.activityLabel=activityTitle;
  this.activityIcon=activityIcon;
  this.colorPrimary=hasAffiliationGroupColor ? taskAffiliationColor : colorPrimary;
  this.useLightOnPrimaryColor=Utilities.computeContrastBetweenColors(this.colorPrimary,Color.WHITE) > 3f;
  this.isActive=isActive;
  this.lockToThisTask=lockToTaskEnabled && lockToThisTask;
  this.lockToTaskEnabled=lockToTaskEnabled;
  this.userId=userId;
}
