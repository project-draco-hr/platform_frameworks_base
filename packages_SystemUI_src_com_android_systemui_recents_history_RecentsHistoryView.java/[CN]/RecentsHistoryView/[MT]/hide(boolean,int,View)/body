{
  if (animate) {
    animate().alpha(0f).translationY(-stackHeight * TRANSLATION_Y_PCT).setDuration(mHistoryTransitionDuration).setInterpolator(mFastOutLinearInInterpolator).setUpdateListener(this).withEndAction(new Runnable(){
      @Override public void run(){
        setVisibility(View.INVISIBLE);
      }
    }
).start();
    clearAllButton.animate().alpha(0f).translationY(0f).setDuration(mHistoryTransitionDuration).setInterpolator(mFastOutSlowInInterpolator).withEndAction(new Runnable(){
      @Override public void run(){
        clearAllButton.setVisibility(View.INVISIBLE);
      }
    }
).withLayer().start();
  }
 else {
    setAlpha(0f);
    setVisibility(View.INVISIBLE);
    clearAllButton.setAlpha(0f);
    clearAllButton.setVisibility(View.INVISIBLE);
  }
  mIsVisible=false;
  EventBus.getDefault().send(new ResetBackgroundScrimEvent());
  MetricsLogger.hidden(mRecyclerView.getContext(),MetricsEvent.OVERVIEW_HISTORY);
}
