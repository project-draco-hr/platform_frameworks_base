{
  SmsMessage message=SmsMessage.createFromPdu(SMS_PP_MESSAGE_3_1_5);
  assertTrue("message is SMS-PP data download",message.isUsimDataDownload());
  mCm.expectSendEnvelope(SMS_PP_ENVELOPE_3_1_5,0x90,0x00,"9876543210");
  mCm.expectAcknowledgeGsmSmsWithPdu(true,"00077ff6059876543210");
  mHandler.startDataDownload(message);
  mCm.assertExpectedMethodsCalled();
  mCm.expectSendEnvelope(SMS_PP_ENVELOPE_3_1_5,0x93,0x00,"");
  mCm.expectAcknowledgeGsmSms(false,0xd4);
  mHandler.startDataDownload(message);
  mCm.assertExpectedMethodsCalled();
}
