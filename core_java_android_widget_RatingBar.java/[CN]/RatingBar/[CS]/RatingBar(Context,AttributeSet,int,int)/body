{
  super(context,attrs,defStyleAttr,defStyleRes);
  final TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.RatingBar,defStyleAttr,defStyleRes);
  final int numStars=a.getInt(R.styleable.RatingBar_numStars,mNumStars);
  setIsIndicator(a.getBoolean(R.styleable.RatingBar_isIndicator,!mIsUserSeekable));
  final float rating=a.getFloat(R.styleable.RatingBar_rating,-1);
  final float stepSize=a.getFloat(R.styleable.RatingBar_stepSize,-1);
  a.recycle();
  if (numStars > 0 && numStars != mNumStars) {
    setNumStars(numStars);
  }
  if (stepSize >= 0) {
    setStepSize(stepSize);
  }
 else {
    setStepSize(0.5f);
  }
  if (rating >= 0) {
    setRating(rating);
  }
  mTouchProgressOffset=1.1f;
}
