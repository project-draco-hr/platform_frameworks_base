{
  final ContentResolver resolver=context.getContentResolver();
  try {
    return resolver.openInputStream(uri);
  }
 catch (  SecurityException|IOException e) {
    Log.w(TAG,"Failed to open directly; attempting failover: " + e);
    final IRingtonePlayer player=context.getSystemService(AudioManager.class).getRingtonePlayer();
    try {
      return new ParcelFileDescriptor.AutoCloseInputStream(player.openRingtone(uri));
    }
 catch (    Exception e2) {
      throw new IOException(e2);
    }
  }
}
