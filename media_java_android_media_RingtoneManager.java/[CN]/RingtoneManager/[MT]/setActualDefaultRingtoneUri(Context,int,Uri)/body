{
  String setting=getSettingForType(type);
  if (setting == null)   return;
  Settings.System.putString(context.getContentResolver(),setting,ringtoneUri != null ? ringtoneUri.toString() : null);
  if (ringtoneUri != null) {
    final ContentResolver cr=context.getContentResolver();
    final Uri cacheUri=getCacheForType(type);
    try (InputStream in=cr.openInputStream(ringtoneUri);OutputStream out=cr.openOutputStream(cacheUri)){
      Streams.copy(in,out);
    }
 catch (    IOException e) {
      Log.w(TAG,"Failed to cache ringtone: " + e);
    }
  }
}
