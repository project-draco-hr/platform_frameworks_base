{
  Log.d(this,"addConference: conference=%s",conference);
  String id=addConferenceInternal(conference);
  if (id != null) {
    List<String> connectionIds=new ArrayList<>(2);
    for (    Connection connection : conference.getConnections()) {
      if (mIdByConnection.containsKey(connection)) {
        connectionIds.add(mIdByConnection.get(connection));
      }
    }
    conference.setTelecomCallId(id);
    ParcelableConference parcelableConference=new ParcelableConference(conference.getPhoneAccountHandle(),conference.getState(),conference.getConnectionCapabilities(),conference.getConnectionProperties(),connectionIds,conference.getVideoProvider() == null ? null : conference.getVideoProvider().getInterface(),conference.getVideoState(),conference.getConnectTimeMillis(),conference.getStatusHints(),conference.getExtras());
    mAdapter.addConferenceCall(id,parcelableConference);
    mAdapter.setVideoProvider(id,conference.getVideoProvider());
    mAdapter.setVideoState(id,conference.getVideoState());
    for (    Connection connection : conference.getConnections()) {
      String connectionId=mIdByConnection.get(connection);
      if (connectionId != null) {
        mAdapter.setIsConferenced(connectionId,id);
      }
    }
  }
}
