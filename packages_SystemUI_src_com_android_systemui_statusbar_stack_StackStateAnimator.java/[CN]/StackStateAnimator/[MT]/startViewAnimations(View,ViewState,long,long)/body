{
  boolean wasVisible=child.getVisibility() == View.VISIBLE;
  final float alpha=viewState.alpha;
  if (!wasVisible && alpha != 0 && !viewState.gone) {
    child.setVisibility(View.VISIBLE);
  }
  boolean yTranslationChanging=child.getTranslationY() != viewState.yTranslation;
  boolean zTranslationChanging=child.getTranslationZ() != viewState.zTranslation;
  boolean scaleChanging=child.getScaleX() != viewState.scale;
  float childAlpha=child.getVisibility() == View.INVISIBLE ? 0.0f : child.getAlpha();
  boolean alphaChanging=viewState.alpha != childAlpha;
  if (child instanceof ExpandableView) {
    alphaChanging&=!((ExpandableView)child).willBeGone();
  }
  if (yTranslationChanging) {
    startYTranslationAnimation(child,viewState,duration,delay);
  }
  if (zTranslationChanging) {
    startZTranslationAnimation(child,viewState,duration,delay);
  }
  if (scaleChanging) {
    startScaleAnimation(child,viewState,duration);
  }
  if (alphaChanging && child.getTranslationX() == 0) {
    startAlphaAnimation(child,viewState,duration,delay);
  }
}
