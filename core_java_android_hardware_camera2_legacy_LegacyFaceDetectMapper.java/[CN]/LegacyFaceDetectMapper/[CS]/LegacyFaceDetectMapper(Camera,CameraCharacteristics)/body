{
  mCamera=checkNotNull(camera,"camera must not be null");
  checkNotNull(characteristics,"characteristics must not be null");
  mFaceDetectSupported=ArrayUtils.contains(characteristics.get(CameraCharacteristics.STATISTICS_INFO_AVAILABLE_FACE_DETECT_MODES),STATISTICS_FACE_DETECT_MODE_SIMPLE);
  if (!mFaceDetectSupported) {
    return;
  }
  mCamera.setFaceDetectionListener(new FaceDetectionListener(){
    @Override public void onFaceDetection(    Camera.Face[] faces,    Camera camera){
      int lengthFaces=faces == null ? 0 : faces.length;
synchronized (mLock) {
        if (mFaceDetectEnabled) {
          mFaces=faces;
        }
 else         if (lengthFaces > 0) {
          Log.d(TAG,"onFaceDetection - Ignored some incoming faces since" + "face detection was disabled");
        }
      }
      if (DEBUG) {
        Log.v(TAG,"onFaceDetection - read " + lengthFaces + " faces");
      }
    }
  }
);
}
