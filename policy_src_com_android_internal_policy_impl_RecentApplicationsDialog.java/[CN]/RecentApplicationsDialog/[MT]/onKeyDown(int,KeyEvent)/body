{
  if (keyCode == KeyEvent.KEYCODE_APP_SWITCH || keyCode == KeyEvent.KEYCODE_TAB) {
    final boolean backward=event.isShiftPressed();
    final int numIcons=mIcons.length;
    int numButtons=0;
    while (numButtons < numIcons && mIcons[numButtons].getVisibility() == View.VISIBLE) {
      numButtons+=1;
    }
    if (numButtons != 0) {
      int nextFocus=backward ? numButtons - 1 : 0;
      for (int i=0; i < numButtons; i++) {
        if (mIcons[i].hasFocus()) {
          if (backward) {
            nextFocus=(i + numButtons - 1) % numButtons;
          }
 else {
            nextFocus=(i + 1) % numButtons;
          }
          break;
        }
      }
      final int direction=backward ? View.FOCUS_BACKWARD : View.FOCUS_FORWARD;
      if (mIcons[nextFocus].requestFocus(direction)) {
        mIcons[nextFocus].playSoundEffect(SoundEffectConstants.getContantForFocusDirection(direction));
      }
    }
    return true;
  }
  return super.onKeyDown(keyCode,event);
}
