{
  int appWidgetId;
  Resources res=getContext().getResources();
  ComponentName defaultAppWidget=new ComponentName(res.getString(R.string.widget_default_package_name),res.getString(R.string.widget_default_class_name));
  appWidgetId=mAppWidgetHost.allocateAppWidgetId();
  try {
    mAppWidgetManager.bindAppWidgetId(appWidgetId,defaultAppWidget);
  }
 catch (  IllegalArgumentException e) {
    Log.e(TAG,"Error when trying to bind default AppWidget: " + e);
    mAppWidgetHost.deleteAppWidgetId(appWidgetId);
    appWidgetId=AppWidgetManager.INVALID_APPWIDGET_ID;
  }
  return appWidgetId;
}
