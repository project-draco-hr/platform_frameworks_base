{
  if (isMusicPlaying) {
    if (DEBUG)     Log.d(TAG,"Music playing, show transport");
    return mAppWidgetContainer.getWidgetPageIndex(mTransportControl);
  }
  int stickyWidgetIndex=mLockPatternUtils.getStickyAppWidgetIndex();
  if (stickyWidgetIndex > -1 && stickyWidgetIndex < mAppWidgetContainer.getChildCount() && !isAddPage(stickyWidgetIndex) && !isCameraPage(stickyWidgetIndex)) {
    if (DEBUG)     Log.d(TAG,"Valid sticky widget found, show page " + stickyWidgetIndex);
    return stickyWidgetIndex;
  }
  int rightMost=mAppWidgetContainer.getChildCount() - 1;
  if (isCameraPage(rightMost)) {
    rightMost--;
  }
  if (DEBUG)   Log.d(TAG,"Show right-most page " + rightMost);
  return rightMost;
}
