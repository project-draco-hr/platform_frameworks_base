{
  DevicePolicyManager dpm=(DevicePolicyManager)mContext.getSystemService(Context.DEVICE_POLICY_SERVICE);
  if (dpm != null && dpm.getKeyguardWidgetsDisabled(null) != DevicePolicyManager.KEYGUARD_DISABLE_WIDGETS_NONE) {
    Log.v(TAG,"Keyguard widgets disabled because of device policy admin");
    return;
  }
  SharedPreferences prefs=mContext.getSharedPreferences(KEYGUARD_WIDGET_PREFS,Context.MODE_PRIVATE);
  for (  String key : prefs.getAll().keySet()) {
    int appId=prefs.getInt(key,-1);
    if (appId != -1) {
      Log.w(TAG,"populate: adding " + key);
      addWidget(appId);
    }
 else {
      Log.w(TAG,"populate: can't find " + key);
    }
  }
}
