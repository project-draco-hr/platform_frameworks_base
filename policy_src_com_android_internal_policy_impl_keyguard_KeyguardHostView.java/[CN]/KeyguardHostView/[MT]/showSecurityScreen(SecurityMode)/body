{
  if (securityMode == mCurrentSecuritySelection)   return;
  KeyguardSecurityView oldView=getSecurityView(mCurrentSecuritySelection);
  KeyguardSecurityView newView=getSecurityView(securityMode);
  oldView.onPause();
  newView.onResume();
  final boolean needsInput=newView.needsInput();
  if (mViewMediatorCallback != null) {
    mViewMediatorCallback.setNeedsInput(needsInput);
  }
  final int childCount=mSecurityViewContainer.getChildCount();
  final boolean doFlip=mCurrentSecuritySelection == SecurityMode.None || securityMode == SecurityMode.None;
  final int inAnimation=doFlip ? R.anim.keyguard_security_animate_in : R.anim.keyguard_security_fade_in;
  final int outAnimation=doFlip ? R.anim.keyguard_security_animate_out : R.anim.keyguard_security_fade_out;
  mSecurityViewContainer.setInAnimation(AnimationUtils.loadAnimation(mContext,inAnimation));
  mSecurityViewContainer.setOutAnimation(AnimationUtils.loadAnimation(mContext,outAnimation));
  final int securityViewIdForMode=getSecurityViewIdForMode(securityMode);
  for (int i=0; i < childCount; i++) {
    if (mSecurityViewContainer.getChildAt(i).getId() == securityViewIdForMode) {
      mSecurityViewContainer.setDisplayedChild(i);
      break;
    }
  }
  if (securityMode == SecurityMode.None) {
    setOnDismissRunnable(null);
    setSystemUiVisibility(getSystemUiVisibility() | View.STATUS_BAR_DISABLE_BACK);
  }
 else {
    setSystemUiVisibility(getSystemUiVisibility() & (~View.STATUS_BAR_DISABLE_BACK));
  }
  mCurrentSecuritySelection=securityMode;
}
