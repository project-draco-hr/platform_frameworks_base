{
  if (!mSafeModeEnabled && !widgetsDisabledByDpm()) {
    LayoutInflater inflater=LayoutInflater.from(mContext);
    View addWidget=inflater.inflate(R.layout.keyguard_add_widget,this,false);
    mAppWidgetContainer.addWidget(addWidget,0);
    View addWidgetButton=addWidget.findViewById(R.id.keyguard_add_widget_view);
    addWidgetButton.setOnClickListener(new OnClickListener(){
      @Override public void onClick(      View v){
        mActivityLauncher.launchWidgetPicker(AppWidgetManager.INVALID_APPWIDGET_ID);
      }
    }
);
  }
  if (!mSafeModeEnabled && !cameraDisabledByDpm() && mUserSetupCompleted&& mContext.getResources().getBoolean(R.bool.kg_enable_camera_default_widget)) {
    View cameraWidget=CameraWidgetFrame.create(mContext,mCameraWidgetCallbacks,mActivityLauncher);
    if (cameraWidget != null) {
      mAppWidgetContainer.addWidget(cameraWidget);
    }
  }
  enableUserSelectorIfNecessary();
}
