{
  final int securityViewIdForMode=getSecurityViewIdForMode(securityMode);
  KeyguardSecurityView view=null;
  final int children=mSecurityViewContainer.getChildCount();
  for (int child=0; child < children; child++) {
    if (mSecurityViewContainer.getChildAt(child).getId() == securityViewIdForMode) {
      view=((KeyguardSecurityView)mSecurityViewContainer.getChildAt(child));
      break;
    }
  }
  boolean simPukFullScreen=getResources().getBoolean(R.bool.kg_sim_puk_account_full_screen);
  int layoutId=getLayoutIdFor(securityMode);
  if (view == null && layoutId != 0) {
    final LayoutInflater inflater=LayoutInflater.from(mContext);
    View v=inflater.inflate(layoutId,this,false);
    mSecurityViewContainer.addView(v);
    updateSecurityView(v);
    view=(KeyguardSecurityView)v;
    TextView navigationText=((TextView)findViewById(R.id.keyguard_message_area));
    if (navigationText != null) {
      view.setSecurityMessageDisplay(new KeyguardNavigationManager(navigationText));
    }
 else {
      view.setSecurityMessageDisplay(mKeyguardStatusViewManager);
    }
  }
  if (securityMode == SecurityMode.SimPin || securityMode == SecurityMode.SimPuk || securityMode == SecurityMode.Account) {
    if (simPukFullScreen) {
      mAppWidgetRegion.setVisibility(View.GONE);
    }
  }
  if (view instanceof KeyguardSelectorView) {
    KeyguardSelectorView selectorView=(KeyguardSelectorView)view;
    View carrierText=selectorView.findViewById(R.id.keyguard_selector_fade_container);
    selectorView.setCarrierArea(carrierText);
  }
  return view;
}
