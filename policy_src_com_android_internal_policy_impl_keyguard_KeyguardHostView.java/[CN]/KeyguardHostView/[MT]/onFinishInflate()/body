{
  mAppWidgetContainer=(KeyguardWidgetPager)findViewById(R.id.app_widget_container);
  mAppWidgetContainer.setVisibility(VISIBLE);
  mSecurityViewContainer=(ViewFlipper)findViewById(R.id.view_flipper);
  mTransportControl=(KeyguardTransportControlView)findViewById(R.id.keyguard_transport_control);
  if (mTransportControl != null) {
    mTransportControl.setKeyguardCallback(new TransportCallback(){
      @Override public void hide(){
        int page=getWidgetPosition(R.id.keyguard_transport_control);
        if (page != -1) {
          if (page == mAppWidgetContainer.getCurrentPage()) {
            mAppWidgetContainer.setCurrentPage(getWidgetPosition(R.id.keyguard_status_view));
          }
          mAppWidgetContainer.removeView(mTransportControl);
          KeyguardHostView.this.addView(mTransportControl);
          mTransportControl.setVisibility(View.GONE);
        }
      }
      @Override public void show(){
        if (getWidgetPosition(R.id.keyguard_transport_control) == -1) {
          KeyguardHostView.this.removeView(mTransportControl);
          mAppWidgetContainer.addView(mTransportControl,getWidgetPosition(R.id.keyguard_status_view) + 1);
          mTransportControl.setVisibility(View.VISIBLE);
        }
      }
    }
);
  }
  updateSecurityViews();
}
