{
  mAppWidgetContainer=(KeyguardWidgetPager)findViewById(R.id.app_widget_container);
  mAppWidgetContainer.setVisibility(VISIBLE);
  mAppWidgetContainer.setCallbacks(mWidgetCallbacks);
  mAppWidgetContainer.setMinScale(0.5f);
  addDefaultWidgets();
  maybePopulateWidgets();
  mViewStateManager=new KeyguardViewStateManager();
  SlidingChallengeLayout slider=(SlidingChallengeLayout)findViewById(R.id.sliding_layout);
  if (slider != null) {
    slider.setOnChallengeScrolledListener(mViewStateManager);
  }
  mAppWidgetContainer.setViewStateManager(mViewStateManager);
  mViewStateManager.setPagedView(mAppWidgetContainer);
  mViewStateManager.setChallengeLayout(slider != null ? slider : (ChallengeLayout)findViewById(R.id.multi_pane_challenge));
  mSecurityViewContainer=(ViewFlipper)findViewById(R.id.view_flipper);
  mKeyguardSelectorView=(KeyguardSelectorView)findViewById(R.id.keyguard_selector_view);
  updateSecurityViews();
  if (!(mContext instanceof Activity)) {
    setSystemUiVisibility(getSystemUiVisibility() | View.STATUS_BAR_DISABLE_BACK);
  }
  if (KeyguardUpdateMonitor.getInstance(mContext).getIsFirstBoot()) {
    showPrimarySecurityScreen(false);
  }
}
