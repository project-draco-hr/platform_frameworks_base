{
  boolean providersRemoved=false;
  int N=mInstalledProviders.size();
  for (int i=N - 1; i >= 0; i--) {
    Provider p=mInstalledProviders.get(i);
    if (pkgName.equals(p.info.provider.getPackageName())) {
      removeProviderLocked(i,p);
      providersRemoved=true;
    }
  }
  N=mHosts.size();
  for (int i=N - 1; i >= 0; i--) {
    Host host=mHosts.get(i);
    if (pkgName.equals(host.packageName)) {
      deleteHostLocked(host);
    }
  }
  return providersRemoved;
}
