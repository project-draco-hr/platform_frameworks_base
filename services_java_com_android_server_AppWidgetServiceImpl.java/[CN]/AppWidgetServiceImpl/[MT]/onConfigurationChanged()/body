{
  Locale revised=Locale.getDefault();
  if (revised == null || mLocale == null || !(revised.equals(mLocale))) {
    mLocale=revised;
synchronized (mAppWidgetIds) {
      ensureStateLoadedLocked();
      int N=mInstalledProviders.size();
      for (int i=N - 1; i >= 0; i--) {
        Provider p=mInstalledProviders.get(i);
        String pkgName=p.info.provider.getPackageName();
        updateProvidersForPackageLocked(pkgName);
      }
      saveStateLocked();
    }
  }
}
