{
  int callingUid=Binder.getCallingUid();
  int packageUid;
  try {
    packageUid=getUidForPackage(packageName);
  }
 catch (  PackageManager.NameNotFoundException ex) {
    throw new IllegalArgumentException("packageName and uid don't match packageName=" + packageName);
  }
  if (!UserHandle.isSameApp(callingUid,packageUid)) {
    throw new IllegalArgumentException("packageName and uid don't match packageName=" + packageName);
  }
  return callingUid;
}
