{
synchronized (mAppWidgetIds) {
    options=cloneIfLocalBinder(options);
    ensureStateLoadedLocked();
    AppWidgetId id=lookupAppWidgetIdLocked(appWidgetId);
    if (id == null) {
      return;
    }
    Provider p=id.provider;
    id.options.putAll(options);
    Intent intent=new Intent(AppWidgetManager.ACTION_APPWIDGET_OPTIONS_CHANGED);
    intent.setComponent(p.info.provider);
    intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID,id.appWidgetId);
    intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_OPTIONS,id.options);
    mContext.sendBroadcastAsUser(intent,new UserHandle(mUserId));
    saveStateAsync();
  }
}
