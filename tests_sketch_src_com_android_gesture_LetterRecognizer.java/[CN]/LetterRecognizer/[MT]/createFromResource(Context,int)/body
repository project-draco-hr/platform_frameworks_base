{
  final Resources resources=context.getResources();
  DataInputStream in=null;
  LetterRecognizer classifier=null;
  try {
    in=new DataInputStream(new BufferedInputStream(resources.openRawResource(resourceID),GestureConstants.IO_BUFFER_SIZE));
    final int iCount=in.readInt();
    final int hCount=in.readInt();
    final int oCount=in.readInt();
    final String[] classes=new String[oCount];
    for (int i=0; i < classes.length; i++) {
      classes[i]=in.readUTF();
    }
    classifier=new LetterRecognizer(iCount,hCount,classes);
    SigmoidUnit[] hiddenLayer=new SigmoidUnit[hCount];
    SigmoidUnit[] outputLayer=new SigmoidUnit[oCount];
    for (int i=0; i < hCount; i++) {
      float[] weights=new float[iCount + 1];
      for (int j=0; j <= iCount; j++) {
        weights[j]=in.readFloat();
      }
      hiddenLayer[i]=new SigmoidUnit(weights);
    }
    for (int i=0; i < oCount; i++) {
      float[] weights=new float[hCount + 1];
      for (int j=0; j <= hCount; j++) {
        weights[j]=in.readFloat();
      }
      outputLayer[i]=new SigmoidUnit(weights);
    }
    classifier.mHiddenLayer=hiddenLayer;
    classifier.mOutputLayer=outputLayer;
  }
 catch (  IOException e) {
    Log.d(LOG_TAG,"Failed to load handwriting data:",e);
  }
 finally {
    GestureUtilities.closeStream(in);
  }
  return classifier;
}
