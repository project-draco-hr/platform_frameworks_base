{
  ArrayList<Prediction> results=mGestureLibrary.recognize(query);
  HashMap<String,Prediction> topNList=new HashMap<String,Prediction>();
  for (int j=0; j < ADJUST_RANGE; j++) {
    Prediction prediction=predictions.remove(0);
    topNList.put(prediction.name,prediction);
  }
  int count=results.size();
  for (int j=count - 1; j >= 0 && !topNList.isEmpty(); j--) {
    Prediction item=results.get(j);
    Prediction original=topNList.get(item.name);
    if (original != null) {
      predictions.add(0,original);
      topNList.remove(item.name);
    }
  }
}
