{
synchronized (service) {
    ActivityRecord r=getWaitingHistoryRecordLocked();
    if (r != null && r.app != null && (r.app.instrumentationClass != null || r.app.usingWrapper)) {
      return ActivityManagerService.INSTRUMENTATION_KEY_DISPATCHING_TIMEOUT;
    }
    return ActivityManagerService.KEY_DISPATCHING_TIMEOUT;
  }
}
