{
  if (readUriPermissions != null) {
    for (    UriPermission perm : readUriPermissions) {
      perm.readActivities.remove(this);
      if (perm.readActivities.size() == 0 && (perm.globalModeFlags & Intent.FLAG_GRANT_READ_URI_PERMISSION) == 0) {
        perm.modeFlags&=~Intent.FLAG_GRANT_READ_URI_PERMISSION;
        service.removeUriPermissionIfNeededLocked(perm);
      }
    }
  }
  if (writeUriPermissions != null) {
    for (    UriPermission perm : writeUriPermissions) {
      perm.writeActivities.remove(this);
      if (perm.writeActivities.size() == 0 && (perm.globalModeFlags & Intent.FLAG_GRANT_WRITE_URI_PERMISSION) == 0) {
        perm.modeFlags&=~Intent.FLAG_GRANT_WRITE_URI_PERMISSION;
        service.removeUriPermissionIfNeededLocked(perm);
      }
    }
  }
}
