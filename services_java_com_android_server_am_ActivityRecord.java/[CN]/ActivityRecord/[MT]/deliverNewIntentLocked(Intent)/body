{
  boolean sent=false;
  if (state == ActivityState.RESUMED && app != null && app.thread != null) {
    try {
      ArrayList<Intent> ar=new ArrayList<Intent>();
      ar.add(new Intent(intent));
      app.thread.scheduleNewIntent(ar,this);
      sent=true;
    }
 catch (    Exception e) {
      Slog.w(ActivityManagerService.TAG,"Exception thrown sending new intent to " + this,e);
    }
  }
  if (!sent) {
    addNewIntentLocked(new Intent(intent));
  }
}
