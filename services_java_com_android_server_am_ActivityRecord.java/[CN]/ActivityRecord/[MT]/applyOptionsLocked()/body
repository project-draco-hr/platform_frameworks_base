{
  if (pendingOptions != null) {
switch (pendingOptions.getAnimationType()) {
case ActivityOptions.ANIM_CUSTOM:
      service.mWindowManager.overridePendingAppTransition(pendingOptions.getPackageName(),pendingOptions.getCustomEnterResId(),pendingOptions.getCustomExitResId());
    break;
case ActivityOptions.ANIM_SCALE_UP:
  service.mWindowManager.overridePendingAppTransitionScaleUp(pendingOptions.getStartX(),pendingOptions.getStartY(),pendingOptions.getStartWidth(),pendingOptions.getStartHeight());
if (intent.getSourceBounds() == null) {
  intent.setSourceBounds(new Rect(pendingOptions.getStartX(),pendingOptions.getStartY(),pendingOptions.getStartX() + pendingOptions.getStartWidth(),pendingOptions.getStartY() + pendingOptions.getStartHeight()));
}
break;
case ActivityOptions.ANIM_THUMBNAIL:
service.mWindowManager.overridePendingAppTransitionThumb(pendingOptions.getThumbnail(),pendingOptions.getStartX(),pendingOptions.getStartY(),pendingOptions.getOnAnimationStartListener());
if (intent.getSourceBounds() == null) {
intent.setSourceBounds(new Rect(pendingOptions.getStartX(),pendingOptions.getStartY(),pendingOptions.getStartX() + pendingOptions.getThumbnail().getWidth(),pendingOptions.getStartY() + pendingOptions.getThumbnail().getHeight()));
}
break;
}
pendingOptions=null;
}
}
