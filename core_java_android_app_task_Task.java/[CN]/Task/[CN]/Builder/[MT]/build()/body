{
  if (mExtras == null) {
    mExtras=Bundle.EMPTY;
  }
  if (mTaskId < 0) {
    throw new IllegalArgumentException("Task id must be greater than 0.");
  }
  if (mIsPeriodic && mHasLateConstraint) {
    throw new IllegalArgumentException("Can't call setOverrideDeadline() on a " + "periodic task.");
  }
  if (mIsPeriodic && mHasEarlyConstraint) {
    throw new IllegalArgumentException("Can't call setMinimumLatency() on a " + "periodic task");
  }
  if (mBackoffPolicySet && mRequiresDeviceIdle) {
    throw new IllegalArgumentException("An idle mode task will not respect any" + " back-off policy, so calling setBackoffCriteria with" + " setRequiresDeviceIdle is an error.");
  }
  return new Task(this);
}
