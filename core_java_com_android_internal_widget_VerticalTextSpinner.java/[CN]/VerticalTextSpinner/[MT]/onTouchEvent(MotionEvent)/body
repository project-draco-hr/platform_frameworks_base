{
  final int action=event.getAction();
  final int y=(int)event.getY();
switch (action) {
case MotionEvent.ACTION_DOWN:
    requestFocus();
  mDownY=y;
isDraggingSelector=(y >= mSelectorY) && (y <= (mSelectorY + mSelector.getIntrinsicHeight()));
break;
case MotionEvent.ACTION_MOVE:
if (isDraggingSelector) {
int top=mSelectorDefaultY + (y - mDownY);
if (top <= mSelectorMinY && canScrollDown()) {
mSelectorY=mSelectorMinY;
mStopAnimation=false;
if (mScrollMode != SCROLL_MODE_DOWN) {
  mScrollMode=SCROLL_MODE_DOWN;
  scroll();
}
}
 else if (top >= mSelectorMaxY && canScrollUp()) {
mSelectorY=mSelectorMaxY;
mStopAnimation=false;
if (mScrollMode != SCROLL_MODE_UP) {
  mScrollMode=SCROLL_MODE_UP;
  scroll();
}
}
 else {
mSelectorY=top;
mStopAnimation=true;
}
}
break;
case MotionEvent.ACTION_UP:
case MotionEvent.ACTION_CANCEL:
default :
mSelectorY=mSelectorDefaultY;
mStopAnimation=true;
invalidate();
break;
}
return true;
}
