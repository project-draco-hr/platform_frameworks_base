{
  final int userId=UserHandle.getCallingUserId();
  if (DEBUG) {
    Slog.i(TAG,"notifyAppWidgetViewDataChanged() " + userId);
  }
  mSecurityPolicy.enforceCallFromPackage(callingPackage);
  if (appWidgetIds == null || appWidgetIds.length == 0) {
    return;
  }
synchronized (mLock) {
    ensureGroupStateLoadedLocked(userId);
    final int N=appWidgetIds.length;
    for (int i=0; i < N; i++) {
      final int appWidgetId=appWidgetIds[i];
      Widget widget=lookupWidgetLocked(appWidgetId,Binder.getCallingUid(),callingPackage);
      if (widget != null) {
        scheduleNotifyAppWidgetViewDataChanged(widget,viewId);
      }
    }
  }
}
