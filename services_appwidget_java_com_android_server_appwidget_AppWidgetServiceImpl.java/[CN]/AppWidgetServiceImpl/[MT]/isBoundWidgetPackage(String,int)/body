{
  if (Binder.getCallingUid() != Process.SYSTEM_UID) {
    throw new SecurityException("Only the system process can call this");
  }
synchronized (mLock) {
    final ArraySet<String> packages=mWidgetPackages.get(userId);
    if (packages != null) {
      return packages.contains(packageName);
    }
  }
  return false;
}
