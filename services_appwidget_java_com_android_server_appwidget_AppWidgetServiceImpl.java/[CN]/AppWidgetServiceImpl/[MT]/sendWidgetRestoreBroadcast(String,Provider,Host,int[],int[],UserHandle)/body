{
  Intent intent=new Intent(action);
  intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_OLD_IDS,oldIds);
  intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS,newIds);
  if (provider != null) {
    intent.setComponent(provider.info.provider);
    mContext.sendBroadcastAsUser(intent,userHandle);
  }
  if (host != null) {
    intent.setComponent(null);
    intent.setPackage(host.packageName);
    intent.putExtra(AppWidgetManager.EXTRA_HOST_ID,host.hostId);
    mContext.sendBroadcastAsUser(intent,userHandle);
  }
}
