{
  final int parentId=mSecurityPolicy.getProfileParent(userId);
  if (parentId != userId) {
synchronized (mLock) {
      boolean providersChanged=false;
      final int packageCount=packages.size();
      for (int i=0; i < packageCount; i++) {
        String packageName=packages.get(i);
        providersChanged|=updateProvidersForPackageLocked(packageName,userId,null);
      }
      if (providersChanged) {
        saveGroupStateAsync(userId);
        scheduleNotifyGroupHostsForProvidersChangedLocked(userId);
      }
    }
  }
}
