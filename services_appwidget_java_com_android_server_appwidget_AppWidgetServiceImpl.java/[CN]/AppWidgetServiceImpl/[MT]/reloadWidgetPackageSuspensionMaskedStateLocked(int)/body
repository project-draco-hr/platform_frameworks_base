{
  final int N=mProviders.size();
  for (int i=0; i < N; i++) {
    Provider provider=mProviders.get(i);
    int providerUserId=provider.getUserId();
    if (providerUserId != profileId) {
      continue;
    }
    try {
      ApplicationInfo ai=mPackageManager.getApplicationInfo(provider.info.provider.getPackageName(),0,provider.getUserId());
      boolean suspended=(ai.flags & ApplicationInfo.FLAG_SUSPENDED) != 0;
      if (provider.setMaskedBySuspendedPackageLocked(suspended)) {
        if (provider.isMaskedLocked()) {
          maskWidgetsViewsLocked(provider);
        }
 else {
          unmaskWidgetsViewsLocked(provider);
        }
      }
    }
 catch (    RemoteException e) {
      Slog.e(TAG,"Failed to query application info",e);
    }
  }
}
