{
  if (widget.provider == null)   return;
  int userId=widget.provider.getUserId();
  ArraySet<String> packages=mWidgetPackages.get(userId);
  if (packages == null) {
    mWidgetPackages.put(userId,packages=new ArraySet<String>());
  }
  packages.add(widget.provider.info.provider.getPackageName());
  if (widget.provider.isMaskedLocked()) {
    maskWidgetsViewsLocked(widget.provider,widget);
  }
 else {
    widget.clearMaskedViewsLocked();
  }
}
