{
  if (!mUserManager.isUserUnlocked(userId) || isProfileWithLockedParent(userId)) {
    return;
  }
synchronized (mLock) {
    reloadWidgetPackageSuspensionMaskedStateLocked(userId);
    List<UserInfo> profiles=mUserManager.getEnabledProfiles(userId);
    if (profiles != null) {
      for (int i=0; i < profiles.size(); i++) {
        UserInfo user=profiles.get(i);
        reloadWidgetProfileUnavailableMaskedStateLocked(user.id);
        reloadWidgetPackageSuspensionMaskedStateLocked(user.id);
      }
    }
  }
}
