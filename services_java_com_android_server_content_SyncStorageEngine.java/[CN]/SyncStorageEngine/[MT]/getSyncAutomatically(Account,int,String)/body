{
synchronized (mAuthorities) {
    if (account != null) {
      AuthorityInfo authority=getAuthorityLocked(account,userId,providerName,"getSyncAutomatically");
      return authority != null && authority.enabled;
    }
    int i=mAuthorities.size();
    while (i > 0) {
      i--;
      AuthorityInfo authority=mAuthorities.valueAt(i);
      if (authority.authority.equals(providerName) && authority.userId == userId && authority.enabled) {
        return true;
      }
    }
    return false;
  }
}
