{
  Bundle extras=new Bundle();
  String periodValue=parser.getAttributeValue(null,"period");
  String flexValue=parser.getAttributeValue(null,"flex");
  final long period;
  long flextime;
  try {
    period=Long.parseLong(periodValue);
  }
 catch (  NumberFormatException e) {
    Log.e(TAG,"error parsing the period of a periodic sync",e);
    return null;
  }
catch (  NullPointerException e) {
    Log.e(TAG,"the period of a periodic sync is null",e);
    return null;
  }
  try {
    flextime=Long.parseLong(flexValue);
  }
 catch (  NumberFormatException e) {
    Log.e(TAG,"Error formatting value parsed for periodic sync flex: " + flexValue);
    flextime=calculateDefaultFlexTime(period);
  }
catch (  NullPointerException expected) {
    flextime=calculateDefaultFlexTime(period);
    Log.d(TAG,"No flex time specified for this sync, using a default. period: " + period + " flex: "+ flextime);
  }
  PeriodicSync periodicSync;
  if (authorityInfo.base.target_provider) {
    periodicSync=new PeriodicSync(authorityInfo.base.account,authorityInfo.base.provider,extras,period,flextime);
  }
 else {
    periodicSync=new PeriodicSync(authorityInfo.base.service,extras,period,flextime);
  }
  authorityInfo.periodicSyncs.add(periodicSync);
  return periodicSync;
}
