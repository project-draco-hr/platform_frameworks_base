{
  if (userId != spec.userId && userId != UserHandle.USER_ALL && spec.userId != UserHandle.USER_ALL) {
    return false;
  }
  if (target_service && spec.target_service) {
    return service.equals(spec.service);
  }
 else   if (target_provider && spec.target_provider) {
    boolean accountsMatch;
    if (spec.account == null) {
      accountsMatch=true;
    }
 else {
      accountsMatch=account.equals(spec.account);
    }
    boolean providersMatch;
    if (spec.provider == null) {
      providersMatch=true;
    }
 else {
      providersMatch=provider.equals(spec.provider);
    }
    return accountsMatch && providersMatch;
  }
  return false;
}
