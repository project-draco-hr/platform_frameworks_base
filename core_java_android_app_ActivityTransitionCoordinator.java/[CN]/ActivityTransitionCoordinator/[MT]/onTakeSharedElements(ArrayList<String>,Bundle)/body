{
  setSharedElements();
  reconcileSharedElements(sharedElementNames);
  mEnteringViews.removeAll(mSharedElements);
  final ArrayList<View> accepted=new ArrayList<View>();
  final ArrayList<View> rejected=new ArrayList<View>();
  createSharedElementImages(accepted,rejected,sharedElementNames,state);
  ArrayMap<ImageView,Pair<ImageView.ScaleType,Matrix>> originalImageViewState=setSharedElementState(state,accepted);
  handleRejected(rejected);
  if (getViewsTransition() != null) {
    setViewVisibility(mEnteringViews,View.INVISIBLE);
  }
  setViewVisibility(mSharedElements,View.VISIBLE);
  Transition transition=beginTransition(mEnteringViews,true,allowOverlappingTransitions(),true);
  setOriginalImageViewState(originalImageViewState);
  if (allowOverlappingTransitions()) {
    onStartEnterTransition(transition,mEnteringViews);
  }
  mRemoteResultReceiver.send(MSG_HIDE_SHARED_ELEMENTS,null);
}
