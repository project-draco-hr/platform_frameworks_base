{
  final View decorView=getDecor();
  decorView.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){
    @Override public boolean onPreDraw(){
      decorView.getViewTreeObserver().removeOnPreDrawListener(this);
      notifySharedElementEnd(snapshots);
      return true;
    }
  }
);
}
