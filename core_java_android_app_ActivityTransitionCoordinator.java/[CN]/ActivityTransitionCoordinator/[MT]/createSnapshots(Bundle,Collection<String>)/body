{
  int numSharedElements=names.size();
  if (numSharedElements == 0) {
    return null;
  }
  ArrayList<View> snapshots=new ArrayList<View>(numSharedElements);
  Context context=getWindow().getContext();
  int[] parentLoc=new int[2];
  getDecor().getLocationOnScreen(parentLoc);
  for (  String name : names) {
    Bundle sharedElementBundle=state.getBundle(name);
    if (sharedElementBundle != null) {
      Bitmap bitmap=sharedElementBundle.getParcelable(KEY_BITMAP);
      View snapshot=new View(context);
      Resources resources=getWindow().getContext().getResources();
      if (bitmap != null) {
        snapshot.setBackground(new BitmapDrawable(resources,bitmap));
      }
      snapshot.setTransitionName(name);
      setSharedElementState(snapshot,name,state,parentLoc);
      snapshots.add(snapshot);
    }
  }
  return snapshots;
}
