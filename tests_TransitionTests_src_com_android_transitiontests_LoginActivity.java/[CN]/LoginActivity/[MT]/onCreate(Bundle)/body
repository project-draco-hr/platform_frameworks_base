{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.activity_login);
  View container=(View)findViewById(R.id.container);
  mSceneRoot=(ViewGroup)container.getParent();
  mLoginScene=new Scene(mSceneRoot,R.layout.activity_login,this);
  mPasswordScene=new Scene(mSceneRoot,R.layout.login_password,this);
  mIncorrectPasswordScene=new Scene(mSceneRoot,R.layout.incorrect_password,this);
  mUsernameTakenScene=new Scene(mSceneRoot,R.layout.username_taken,this);
  mSuccessScene=new Scene(mSceneRoot,R.layout.success,this);
  mNewUserScene=new Scene(mSceneRoot,R.layout.new_user,this);
  mTransitionManager=new TransitionManager();
  TransitionGroup slider=new TransitionGroup();
  slider.addTransitions(new Slide().setTargetIds(R.id.retype,R.id.retypeEdit));
  slider.addTransitions(new Recolor().setTargetIds(R.id.password,R.id.passwordEdit));
  slider.addTransitions(new Fade());
  mTransitionManager.setTransition(mLoginScene,mNewUserScene,slider);
  mTransitionManager.setTransition(mPasswordScene,mNewUserScene,slider);
  mTransitionManager.setTransition(mNewUserScene,mLoginScene,slider);
  mTransitionManager.setTransition(mNewUserScene,mPasswordScene,slider);
  Transition colorizer=new Recolor().setTargetIds(R.id.password,R.id.passwordEdit);
  mTransitionManager.setTransition(mLoginScene,mPasswordScene,colorizer);
  mTransitionManager.setTransition(mPasswordScene,mLoginScene,colorizer);
  mCurrentScene=mLoginScene;
  mSceneRoot.setCurrentScene(mLoginScene);
}
