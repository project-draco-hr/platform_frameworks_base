{
  int startingIndex=mStateStackTopIndex + 1;
  int i=mTempStateStackCount - 1;
  int j=startingIndex;
  while (i >= 0) {
    if (mDbg)     mSm.log("moveTempStackToStateStack: i=" + i + ",j="+ j);
    mStateStack[j]=mTempStateStack[i];
    j+=1;
    i-=1;
  }
  mStateStackTopIndex=j - 1;
  if (mDbg) {
    mSm.log("moveTempStackToStateStack: X mStateStackTop=" + mStateStackTopIndex + ",startingIndex="+ startingIndex+ ",Top="+ mStateStack[mStateStackTopIndex].state.getName());
  }
  return startingIndex;
}
