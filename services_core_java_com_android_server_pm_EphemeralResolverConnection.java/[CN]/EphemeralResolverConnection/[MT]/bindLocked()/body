{
  if (mRemoteInstance != null) {
    return;
  }
  mContext.bindServiceAsUser(mIntent,mServiceConnection,Context.BIND_AUTO_CREATE | Context.BIND_FOREGROUND_SERVICE,UserHandle.SYSTEM);
  final long startMillis=SystemClock.uptimeMillis();
  while (true) {
    if (mRemoteInstance != null) {
      break;
    }
    final long elapsedMillis=SystemClock.uptimeMillis() - startMillis;
    final long remainingMillis=BIND_SERVICE_TIMEOUT_MS - elapsedMillis;
    if (remainingMillis <= 0) {
      throw new TimeoutException("Didn't bind to resolver in time.");
    }
    try {
      mLock.wait(remainingMillis);
    }
 catch (    InterruptedException ie) {
    }
  }
  mLock.notifyAll();
}
