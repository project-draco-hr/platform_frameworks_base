{
  CharSequence text=getText() == null ? "" : getText();
  StaticLayout.Builder builder=StaticLayout.Builder.obtain(text,0,text.length(),getPaint(),wantWidth).setAlignment(alignment).setTextDirection(getTextDirectionHeuristic()).setLineSpacing(getLineSpacingExtra(),getLineSpacingMultiplier()).setIncludePad(getIncludeFontPadding()).setEllipsize(shouldEllipsize ? effectiveEllipsize : null).setEllipsizedWidth(ellipsisWidth).setBreakStrategy(Layout.BREAK_STRATEGY_HIGH_QUALITY).setHyphenationFrequency(Layout.HYPHENATION_FREQUENCY_FULL);
  int endMargin=getContext().getResources().getDimensionPixelSize(R.dimen.notification_content_picture_margin);
  int[] margins=null;
  if (mIndentLines > 0) {
    margins=new int[mIndentLines + 1];
    for (int i=0; i < mIndentLines; i++) {
      margins[i]=endMargin;
    }
  }
  if (getLayoutDirection() == LAYOUT_DIRECTION_RTL) {
    builder.setIndents(margins,null);
  }
 else {
    builder.setIndents(null,margins);
  }
  return builder.build();
}
