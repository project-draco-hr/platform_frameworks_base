{
  RecentsDebugFlags flags=Recents.getDebugFlags();
  if (flags.isPageOnToggleEnabled() && !launchedWithAltTab) {
    if (launchedFromHome) {
      return numTasks - 1;
    }
 else {
      if (flags.isFastToggleRecentsEnabled()) {
        return numTasks - 1;
      }
 else {
        return numTasks - 2;
      }
    }
  }
  if (launchedWithAltTab && launchedFromAppWithThumbnail) {
    return numTasks - 2;
  }
 else   if ((launchedWithAltTab && launchedFromHome) || (!launchedWithAltTab && launchedFromAppWithThumbnail)) {
    return numTasks - 1;
  }
 else {
    return -1;
  }
}
