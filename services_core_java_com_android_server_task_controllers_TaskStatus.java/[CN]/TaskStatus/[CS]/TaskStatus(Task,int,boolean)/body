{
  this.task=task;
  this.uId=uId;
  this.numFailures=0;
  this.persisted=persisted;
  final long elapsedNow=SystemClock.elapsedRealtime();
  if (task.isPeriodic()) {
    earliestRunTimeElapsedMillis=elapsedNow;
    latestRunTimeElapsedMillis=elapsedNow + task.getIntervalMillis();
  }
 else {
    earliestRunTimeElapsedMillis=task.hasEarlyConstraint() ? elapsedNow + task.getMinLatencyMillis() : 0L;
    latestRunTimeElapsedMillis=task.hasLateConstraint() ? elapsedNow + task.getMaxExecutionDelayMillis() : Long.MAX_VALUE;
  }
}
