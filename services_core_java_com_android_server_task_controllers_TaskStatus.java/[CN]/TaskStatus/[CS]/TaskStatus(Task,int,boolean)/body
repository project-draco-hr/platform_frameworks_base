{
  this(task,uId,persisted,0);
  final long elapsedNow=SystemClock.elapsedRealtime();
  if (task.isPeriodic()) {
    earliestRunTimeElapsedMillis=elapsedNow;
    latestRunTimeElapsedMillis=elapsedNow + task.getIntervalMillis();
  }
 else {
    earliestRunTimeElapsedMillis=task.hasEarlyConstraint() ? elapsedNow + task.getMinLatencyMillis() : DEFAULT_EARLIEST_RUNTIME;
    latestRunTimeElapsedMillis=task.hasLateConstraint() ? elapsedNow + task.getMaxExecutionDelayMillis() : DEFAULT_LATEST_RUNTIME;
  }
}
