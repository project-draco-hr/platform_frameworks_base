{
  bitOffset=0;
  if (streamPos >= ramc.length()) {
    int count=(int)(streamPos - ramc.length() + 1);
    int bytesAppended=ramc.appendData(is,count);
    if (bytesAppended < count) {
      return -1;
    }
  }
  int res=ramc.getData(streamPos);
  if (res >= 0) {
    streamPos++;
  }
  return res;
}
