{
  ensureAccessibilityEnabled(mContext,true);
  MyMockAccessibilityManagerClient mockClient=new MyMockAccessibilityManagerClient();
  final int stateFlagsEnabled=mManagerService.addClient(mockClient,UserHandle.USER_OWNER);
  boolean enabledAccessibilityEnabled=(stateFlagsEnabled & AccessibilityManager.STATE_FLAG_ACCESSIBILITY_ENABLED) != 0;
  assertTrue("The client must be enabled since accessibility is enabled.",enabledAccessibilityEnabled);
  ensureAccessibilityEnabled(mContext,false);
  final int stateFlagsDisabled=mManagerService.addClient(mockClient,UserHandle.USER_OWNER);
  boolean enabledAccessibilityDisabled=(stateFlagsDisabled & AccessibilityManager.STATE_FLAG_ACCESSIBILITY_ENABLED) != 0;
  assertFalse("The client must be disabled since accessibility is disabled.",enabledAccessibilityDisabled);
}
