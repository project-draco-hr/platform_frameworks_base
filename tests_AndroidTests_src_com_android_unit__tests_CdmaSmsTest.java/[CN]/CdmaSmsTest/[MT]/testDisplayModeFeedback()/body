{
  BearerData bearerData=new BearerData();
  bearerData.messageType=BearerData.MESSAGE_TYPE_DELIVER;
  bearerData.messageId=0;
  bearerData.hasUserDataHeader=false;
  UserData userData=new UserData();
  userData.payloadStr="test display mode";
  bearerData.userData=userData;
  bearerData.displayMode=BearerData.DISPLAY_MODE_IMMEDIATE;
  bearerData.displayModeSet=true;
  byte[] encodedSms=BearerData.encode(bearerData);
  BearerData revBearerData=BearerData.decode(encodedSms);
  assertEquals(revBearerData.userData.payloadStr,userData.payloadStr);
  assertEquals(revBearerData.displayModeSet,true);
  assertEquals(revBearerData.displayMode,bearerData.displayMode);
  bearerData.displayMode=BearerData.DISPLAY_MODE_USER;
  encodedSms=BearerData.encode(bearerData);
  revBearerData=BearerData.decode(encodedSms);
  assertEquals(revBearerData.userData.payloadStr,userData.payloadStr);
  assertEquals(revBearerData.displayModeSet,true);
  assertEquals(revBearerData.displayMode,bearerData.displayMode);
}
