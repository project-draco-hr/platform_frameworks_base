{
  BearerData bearerData=new BearerData();
  bearerData.messageType=BearerData.MESSAGE_TYPE_DELIVER;
  bearerData.messageId=0;
  bearerData.hasUserDataHeader=false;
  UserData userData=new UserData();
  userData.payloadStr="test callback number";
  bearerData.userData=userData;
  CdmaSmsAddress addr=new CdmaSmsAddress();
  addr.digitMode=CdmaSmsAddress.DIGIT_MODE_8BIT_CHAR;
  addr.ton=CdmaSmsAddress.TON_NATIONAL_OR_EMAIL;
  addr.numberMode=CdmaSmsAddress.NUMBER_MODE_NOT_DATA_NETWORK;
  addr.numberPlan=CdmaSmsAddress.NUMBERING_PLAN_UNKNOWN;
  addr.address="8005551212";
  addr.numberOfDigits=(byte)addr.address.length();
  bearerData.callbackNumber=addr;
  byte[] encodedSms=BearerData.encode(bearerData);
  BearerData revBearerData=BearerData.decode(encodedSms);
  CdmaSmsAddress revAddr=revBearerData.callbackNumber;
  assertEquals(addr.digitMode,revAddr.digitMode);
  assertEquals(addr.ton,revAddr.ton);
  assertEquals(addr.numberMode,revAddr.numberMode);
  assertEquals(addr.numberPlan,revAddr.numberPlan);
  assertEquals(addr.numberOfDigits,revAddr.numberOfDigits);
  assertEquals(addr.address,revAddr.address);
  addr.address="8*55#1012";
  addr.numberOfDigits=(byte)addr.address.length();
  addr.digitMode=CdmaSmsAddress.DIGIT_MODE_4BIT_DTMF;
  encodedSms=BearerData.encode(bearerData);
  revBearerData=BearerData.decode(encodedSms);
  revAddr=revBearerData.callbackNumber;
  assertEquals(addr.digitMode,revAddr.digitMode);
  assertEquals(addr.numberOfDigits,revAddr.numberOfDigits);
  assertEquals(addr.address,revAddr.address);
}
