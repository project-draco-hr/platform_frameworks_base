{
  UserData userData=new UserData();
  byte[] payload;
  try {
    payload=GsmAlphabet.stringToGsm7BitPacked(msg);
    userData.payload=new byte[payload.length - 1];
    for (int i=0; i < userData.payload.length; i++)     userData.payload[i]=payload[i + 1];
    userData.numFields=payload[0];
    userData.paddingBits=(userData.payload.length * 8) - (userData.numFields * 7);
    userData.paddingBits=0;
    userData.msgEncoding=UserData.ENCODING_GSM_7BIT_ALPHABET;
  }
 catch (  com.android.internal.telephony.EncodeException ex) {
    assertEquals(1,0);
  }
  return userData;
}
