{
  String text1="123456789012345678901234567890123456789012345678901234567890" + "1234567890123456789012345678901234567890123456789012345678901234567890" + "12345678901234567890123456789[";
  TextEncodingDetails ted=SmsMessage.calculateLength(text1,false);
  assertEquals(ted.msgCount,1);
  assertEquals(ted.codeUnitCount,160);
  assertEquals(ted.codeUnitSize,1);
  ArrayList<String> fragments=android.telephony.SmsMessage.fragmentText(text1);
  assertEquals(fragments.size(),1);
  String text2="123456789012345678901234567890123456789012345678901234567890" + "1234567890123456789012345678901234567890123456789012345678901234567890" + "12345678901234567890123456789\u00a3";
  ted=SmsMessage.calculateLength(text2,false);
  assertEquals(ted.msgCount,1);
  assertEquals(ted.codeUnitCount,160);
  assertEquals(ted.codeUnitSize,1);
  fragments=android.telephony.SmsMessage.fragmentText(text2);
  assertEquals(fragments.size(),1);
}
