{
  BearerData bearerData=new BearerData();
  bearerData.messageType=BearerData.MESSAGE_TYPE_DELIVER;
  bearerData.messageId=0;
  bearerData.hasUserDataHeader=false;
  String payloadStr="test language indicator";
  bearerData.userData=makeUserData(payloadStr);
  bearerData.language=BearerData.LANGUAGE_ENGLISH;
  bearerData.languageIndicatorSet=true;
  byte[] encodedSms=BearerData.encode(bearerData);
  BearerData revBearerData=BearerData.decode(encodedSms);
  assertEquals(revBearerData.userData.payloadStr,payloadStr);
  assertEquals(revBearerData.languageIndicatorSet,true);
  assertEquals(revBearerData.language,bearerData.language);
  bearerData.language=BearerData.LANGUAGE_KOREAN;
  encodedSms=BearerData.encode(bearerData);
  revBearerData=BearerData.decode(encodedSms);
  assertEquals(revBearerData.userData.payloadStr,payloadStr);
  assertEquals(revBearerData.languageIndicatorSet,true);
  assertEquals(revBearerData.language,bearerData.language);
}
