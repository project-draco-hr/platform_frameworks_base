{
  BearerData bearerData=new BearerData();
  bearerData.messageType=BearerData.MESSAGE_TYPE_DELIVER;
  bearerData.messageId=55;
  SmsHeader.ConcatRef concatRef=new SmsHeader.ConcatRef();
  concatRef.refNumber=0xEE;
  concatRef.msgCount=2;
  concatRef.seqNumber=2;
  concatRef.isEightBits=true;
  SmsHeader smsHeader=new SmsHeader();
  smsHeader.concatRef=concatRef;
  UserData userData=new UserData();
  userData.payloadStr="01234567";
  userData.userDataHeader=smsHeader;
  bearerData.userData=userData;
  byte[] encodedSms=BearerData.encode(bearerData);
  BearerData revBearerData=BearerData.decode(encodedSms);
  assertEquals(userData.payloadStr,revBearerData.userData.payloadStr);
}
