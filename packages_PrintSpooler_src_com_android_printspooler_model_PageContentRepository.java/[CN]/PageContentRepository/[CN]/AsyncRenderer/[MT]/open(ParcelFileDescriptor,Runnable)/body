{
  mPageContentCache.invalidate();
  new AsyncTask<Void,Void,Integer>(){
    @Override protected Integer doInBackground(    Void... params){
      try {
        mRenderer=new PdfRenderer(source);
        return mRenderer.getPageCount();
      }
 catch (      IOException ioe) {
        Log.e(LOG_TAG,"Cannot open PDF document");
        return MALFORMED_PDF_FILE_ERROR;
      }
    }
    @Override public void onPostExecute(    Integer pageCount){
      if (pageCount == MALFORMED_PDF_FILE_ERROR) {
        mOnMalformedPdfFileListener.onMalformedPdfFile();
        mPageCount=PrintDocumentInfo.PAGE_COUNT_UNKNOWN;
      }
 else {
        mPageCount=pageCount;
      }
      if (callback != null) {
        callback.run();
      }
    }
  }
.executeOnExecutor(AsyncTask.SERIAL_EXECUTOR,(Void[])null);
}
