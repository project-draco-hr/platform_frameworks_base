{
  checkChannel(c);
  if (listener == null) {
    throw new IllegalStateException("Discovery listener needs to be set first");
  }
  if (TextUtils.isEmpty(serviceType)) {
    throw new IllegalStateException("Service type cannot be empty");
  }
  DnsSdServiceInfo s=new DnsSdServiceInfo();
  s.setServiceType(serviceType);
  c.mDnsSdDiscoveryListener=listener;
  c.mAsyncChannel.sendMessage(DISCOVER_SERVICES,s);
}
