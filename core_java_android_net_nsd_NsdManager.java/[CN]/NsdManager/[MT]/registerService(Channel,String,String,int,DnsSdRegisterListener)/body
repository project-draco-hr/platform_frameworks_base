{
  checkChannel(c);
  if (TextUtils.isEmpty(serviceName) || TextUtils.isEmpty(serviceType)) {
    throw new IllegalArgumentException("Service name or type cannot be empty");
  }
  if (port <= 0) {
    throw new IllegalArgumentException("Invalid port number");
  }
  DnsSdServiceInfo serviceInfo=new DnsSdServiceInfo(serviceName,serviceType,null);
  serviceInfo.setPort(port);
  c.mDnsSdRegisterListener=listener;
  c.mAsyncChannel.sendMessage(REGISTER_SERVICE,serviceInfo);
}
