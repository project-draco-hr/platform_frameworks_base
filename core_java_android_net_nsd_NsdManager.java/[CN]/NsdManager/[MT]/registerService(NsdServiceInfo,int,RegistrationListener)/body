{
  if (TextUtils.isEmpty(serviceInfo.getServiceName()) || TextUtils.isEmpty(serviceInfo.getServiceType())) {
    throw new IllegalArgumentException("Service name or type cannot be empty");
  }
  if (serviceInfo.getPort() <= 0) {
    throw new IllegalArgumentException("Invalid port number");
  }
  if (listener == null) {
    throw new IllegalArgumentException("listener cannot be null");
  }
  if (protocolType != PROTOCOL_DNS_SD) {
    throw new IllegalArgumentException("Unsupported protocol");
  }
  mAsyncChannel.sendMessage(REGISTER_SERVICE,0,putListener(listener,serviceInfo),serviceInfo);
}
