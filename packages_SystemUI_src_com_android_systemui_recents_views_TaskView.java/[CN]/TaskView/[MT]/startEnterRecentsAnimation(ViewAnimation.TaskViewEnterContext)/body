{
  RecentsConfiguration config=Recents.getConfiguration();
  RecentsActivityLaunchState launchState=config.getLaunchState();
  Resources res=mContext.getResources();
  final TaskViewTransform transform=ctx.currentTaskTransform;
  final int taskViewEnterFromAppDuration=res.getInteger(R.integer.recents_task_enter_from_app_duration);
  final int taskViewEnterFromHomeDuration=res.getInteger(R.integer.recents_task_enter_from_home_duration);
  final int taskViewEnterFromHomeStaggerDelay=res.getInteger(R.integer.recents_task_enter_from_home_stagger_delay);
  final int taskViewAffiliateGroupEnterOffset=res.getDimensionPixelSize(R.dimen.recents_task_view_affiliate_group_enter_offset);
  if (launchState.launchedFromAppWithThumbnail) {
    if (mTask.isLaunchTarget) {
      animateDimToProgress(taskViewEnterFromAppDuration,ctx.postAnimationTrigger.decrementOnAnimationEnd());
      ctx.postAnimationTrigger.increment();
      fadeInActionButton(taskViewEnterFromAppDuration);
    }
 else {
      if (ctx.currentTaskOccludesLaunchTarget) {
        setTranslationY(transform.translationY + taskViewAffiliateGroupEnterOffset);
        setAlpha(0f);
        animate().alpha(1f).translationY(transform.translationY).setUpdateListener(null).setListener(new AnimatorListenerAdapter(){
          private boolean hasEnded;
          @Override public void onAnimationEnd(          Animator animation){
            if (hasEnded)             return;
            ctx.postAnimationTrigger.decrement();
            hasEnded=true;
          }
        }
).setInterpolator(mFastOutSlowInInterpolator).setDuration(taskViewEnterFromHomeDuration).start();
        ctx.postAnimationTrigger.increment();
      }
    }
  }
 else   if (launchState.launchedFromHome) {
    int frontIndex=(ctx.currentStackViewCount - ctx.currentStackViewIndex - 1);
    int delay=frontIndex * taskViewEnterFromHomeStaggerDelay;
    setScaleX(transform.scale);
    setScaleY(transform.scale);
    if (!config.fakeShadows) {
      animate().translationZ(transform.translationZ);
    }
    animate().translationY(transform.translationY).setStartDelay(delay).setUpdateListener(ctx.updateListener).setListener(new AnimatorListenerAdapter(){
      private boolean hasEnded;
      @Override public void onAnimationEnd(      Animator animation){
        if (hasEnded)         return;
        ctx.postAnimationTrigger.decrement();
        hasEnded=true;
      }
    }
).setInterpolator(mQuintOutInterpolator).setDuration(taskViewEnterFromHomeDuration + frontIndex * taskViewEnterFromHomeStaggerDelay).start();
    ctx.postAnimationTrigger.increment();
  }
}
