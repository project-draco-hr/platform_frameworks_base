{
  RecentsConfiguration config=Recents.getConfiguration();
  cancelTransformAnimation();
  mTmpAnimators.clear();
  toTransform.applyToTaskView(this,mTmpAnimators,toAnimation,!config.fakeShadows);
  if (toAnimation.isImmediate()) {
    if (Float.compare(getTaskProgress(),toTransform.p) != 0) {
      setTaskProgress(toTransform.p);
    }
    if (toAnimation.getListener() != null) {
      toAnimation.getListener().onAnimationEnd(null);
    }
    if (updateCallback != null) {
      updateCallback.onAnimationUpdate(null);
    }
  }
 else {
    if (Float.compare(getTaskProgress(),toTransform.p) != 0) {
      ObjectAnimator anim=ObjectAnimator.ofFloat(this,TASK_PROGRESS,getTaskProgress(),toTransform.p);
      mTmpAnimators.add(toAnimation.apply(AnimationProps.BOUNDS,anim));
    }
    if (updateCallback != null) {
      ValueAnimator updateCallbackAnim=ValueAnimator.ofInt(0,1);
      updateCallbackAnim.addUpdateListener(updateCallback);
      mTmpAnimators.add(toAnimation.apply(AnimationProps.BOUNDS,updateCallbackAnim));
    }
    mTransformAnimation=toAnimation.createAnimator(mTmpAnimators);
    mTransformAnimation.start();
  }
}
