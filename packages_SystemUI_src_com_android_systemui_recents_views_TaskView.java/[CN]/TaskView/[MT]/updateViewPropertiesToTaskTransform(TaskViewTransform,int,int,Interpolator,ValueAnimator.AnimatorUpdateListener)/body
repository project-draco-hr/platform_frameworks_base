{
  RecentsConfiguration config=Recents.getConfiguration();
  Utilities.cancelAnimationWithoutCallbacks(mClipAnimation);
  toTransform.applyToTaskView(this,duration,interpolator,false,!config.fakeShadows,updateCallback);
  if (duration > 0) {
    mClipAnimation=new AnimatorSet();
    mClipAnimation.playTogether(ObjectAnimator.ofInt(mViewBounds,AnimateableViewBounds.CLIP_BOTTOM,mViewBounds.getClipBottom(),clipBottom),ObjectAnimator.ofInt(mViewBounds,AnimateableViewBounds.CLIP_RIGHT,mViewBounds.getClipRight(),toTransform.clipRight),ObjectAnimator.ofFloat(mThumbnailView,TaskViewThumbnail.BITMAP_SCALE,mThumbnailView.getBitmapScale(),toTransform.thumbnailScale));
    mClipAnimation.setStartDelay(toTransform.startDelay);
    mClipAnimation.setDuration(duration);
    mClipAnimation.setInterpolator(interpolator);
    mClipAnimation.start();
  }
 else {
    mViewBounds.setClipBottom(clipBottom,false);
    mViewBounds.setClipRight(toTransform.clipRight,false);
    mThumbnailView.setBitmapScale(toTransform.thumbnailScale);
  }
  if (!config.useHardwareLayers) {
    mThumbnailView.updateThumbnailVisibility(clipBottom - getPaddingBottom());
  }
  Utilities.cancelAnimationWithoutCallbacks(mTaskProgressAnimator);
  if (duration <= 0) {
    setTaskProgress(toTransform.p);
  }
 else {
    mTaskProgressAnimator=ObjectAnimator.ofFloat(this,"taskProgress",toTransform.p);
    mTaskProgressAnimator.setDuration(duration);
    mTaskProgressAnimator.addUpdateListener(mUpdateDimListener);
    mTaskProgressAnimator.start();
  }
}
