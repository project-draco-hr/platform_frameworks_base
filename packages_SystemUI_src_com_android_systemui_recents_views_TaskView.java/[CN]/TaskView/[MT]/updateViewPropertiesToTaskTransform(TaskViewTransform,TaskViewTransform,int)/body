{
  RecentsConfiguration config=RecentsConfiguration.getInstance();
  int minZ=config.taskViewTranslationZMinPx;
  int incZ=config.taskViewTranslationZIncrementPx;
  if (duration > 0) {
    if (animateFromTransform != null) {
      setTranslationY(animateFromTransform.translationY);
      if (Constants.DebugFlags.App.EnableShadows) {
        setTranslationZ(Math.max(minZ,minZ + (animateFromTransform.t * incZ)));
      }
      setScaleX(animateFromTransform.scale);
      setScaleY(animateFromTransform.scale);
      setAlpha(animateFromTransform.alpha);
    }
    if (Constants.DebugFlags.App.EnableShadows) {
      animate().translationZ(Math.max(minZ,minZ + (toTransform.t * incZ)));
    }
    animate().translationY(toTransform.translationY).scaleX(toTransform.scale).scaleY(toTransform.scale).alpha(toTransform.alpha).setDuration(duration).setInterpolator(config.defaultBezierInterpolator).withLayer().setUpdateListener(new ValueAnimator.AnimatorUpdateListener(){
      @Override public void onAnimationUpdate(      ValueAnimator animation){
        updateDimOverlayFromScale();
      }
    }
).start();
  }
 else {
    setTranslationY(toTransform.translationY);
    if (Constants.DebugFlags.App.EnableShadows) {
      setTranslationZ(Math.max(minZ,minZ + (toTransform.t * incZ)));
    }
    setScaleX(toTransform.scale);
    setScaleY(toTransform.scale);
    setAlpha(toTransform.alpha);
  }
  updateDimOverlayFromScale();
  invalidate();
}
