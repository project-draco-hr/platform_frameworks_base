{
  RecentsConfiguration config=RecentsConfiguration.getInstance();
  mBarView.updateViewPropertiesToTaskTransform(animateFromTransform,toTransform,duration);
  if (duration > 0) {
    if (animateFromTransform != null) {
      setTranslationY(animateFromTransform.translationY);
      if (Constants.DebugFlags.App.EnableShadows) {
        setTranslationZ(animateFromTransform.translationZ);
      }
      setScaleX(animateFromTransform.scale);
      setScaleY(animateFromTransform.scale);
      setAlpha(animateFromTransform.alpha);
    }
    if (Constants.DebugFlags.App.EnableShadows) {
      animate().translationZ(toTransform.translationZ);
    }
    animate().translationY(toTransform.translationY).scaleX(toTransform.scale).scaleY(toTransform.scale).alpha(toTransform.alpha).setDuration(duration).setInterpolator(config.fastOutSlowInInterpolator).withLayer().setUpdateListener(new ValueAnimator.AnimatorUpdateListener(){
      @Override public void onAnimationUpdate(      ValueAnimator animation){
        updateDimOverlayFromScale();
      }
    }
).start();
  }
 else {
    setTranslationY(toTransform.translationY);
    if (Constants.DebugFlags.App.EnableShadows) {
      setTranslationZ(toTransform.translationZ);
    }
    setScaleX(toTransform.scale);
    setScaleY(toTransform.scale);
    setAlpha(toTransform.alpha);
  }
  updateDimOverlayFromScale();
  invalidate();
}
