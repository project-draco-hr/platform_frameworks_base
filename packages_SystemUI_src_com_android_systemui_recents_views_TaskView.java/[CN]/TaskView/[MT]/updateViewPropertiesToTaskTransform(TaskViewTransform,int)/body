{
  mBarView.updateViewPropertiesToTaskTransform(toTransform,duration);
  if (duration > 0) {
    ViewPropertyAnimator anim=animate();
    boolean useLayers=false;
    if (toTransform.hasTranslationYChangedFrom(getTranslationY())) {
      anim.translationY(toTransform.translationY);
    }
    if (Constants.DebugFlags.App.EnableShadows && toTransform.hasTranslationZChangedFrom(getTranslationZ())) {
      anim.translationZ(toTransform.translationZ);
    }
    if (toTransform.hasScaleChangedFrom(getScaleX())) {
      anim.scaleX(toTransform.scale).scaleY(toTransform.scale).setUpdateListener(mUpdateDimListener);
      useLayers=true;
    }
    if (toTransform.hasAlphaChangedFrom(getAlpha())) {
      anim.alpha(toTransform.alpha);
      useLayers=true;
    }
    if (useLayers) {
      anim.withLayer();
    }
    anim.setStartDelay(toTransform.startDelay).setDuration(duration).setInterpolator(mConfig.fastOutSlowInInterpolator).start();
  }
 else {
    if (toTransform.hasTranslationYChangedFrom(getTranslationY())) {
      setTranslationY(toTransform.translationY);
    }
    if (Constants.DebugFlags.App.EnableShadows && toTransform.hasTranslationZChangedFrom(getTranslationZ())) {
      setTranslationZ(toTransform.translationZ);
    }
    if (toTransform.hasScaleChangedFrom(getScaleX())) {
      setScaleX(toTransform.scale);
      setScaleY(toTransform.scale);
      updateDimOverlayFromScale();
    }
    if (toTransform.hasAlphaChangedFrom(getAlpha())) {
      setAlpha(toTransform.alpha);
    }
  }
}
