{
  if (rilMsg == null) {
    return;
  }
  CommandParams cmdParams=null;
switch (rilMsg.mId) {
case MSG_ID_EVENT_NOTIFY:
    if (rilMsg.mResCode == ResultCode.OK) {
      cmdParams=(CommandParams)rilMsg.mData;
      if (cmdParams != null) {
        handleCommand(cmdParams,false);
      }
    }
  break;
case MSG_ID_PROACTIVE_COMMAND:
try {
  cmdParams=(CommandParams)rilMsg.mData;
}
 catch (ClassCastException e) {
  CatLog.d(this,"Fail to parse proactive command");
  if (mCurrntCmd != null) {
    sendTerminalResponse(mCurrntCmd.mCmdDet,ResultCode.CMD_DATA_NOT_UNDERSTOOD,false,0x00,null);
  }
  break;
}
if (cmdParams != null) {
if (rilMsg.mResCode == ResultCode.OK) {
  handleCommand(cmdParams,true);
}
 else {
  sendTerminalResponse(cmdParams.cmdDet,rilMsg.mResCode,false,0,null);
}
}
break;
case MSG_ID_REFRESH:
cmdParams=(CommandParams)rilMsg.mData;
if (cmdParams != null) {
handleCommand(cmdParams,false);
}
break;
case MSG_ID_SESSION_END:
handleSessionEnd();
break;
case MSG_ID_CALL_SETUP:
break;
}
}
