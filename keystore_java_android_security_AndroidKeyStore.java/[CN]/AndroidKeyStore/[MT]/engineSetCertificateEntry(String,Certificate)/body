{
  if (isKeyEntry(alias)) {
    throw new KeyStoreException("Entry exists and is not a trusted certificate");
  }
  final byte[] encoded;
  try {
    encoded=cert.getEncoded();
  }
 catch (  CertificateEncodingException e) {
    throw new KeyStoreException(e);
  }
  if (!mKeyStore.put(Credentials.CA_CERTIFICATE + alias,encoded)) {
    throw new KeyStoreException("Couldn't insert certificate; is KeyStore initialized?");
  }
}
