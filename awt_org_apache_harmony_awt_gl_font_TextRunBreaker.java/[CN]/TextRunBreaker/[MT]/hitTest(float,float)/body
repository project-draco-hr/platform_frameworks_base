{
  TextRunSegment segment;
  double endOfPrevSeg=-1;
  for (int i=0; i < runSegments.size(); i++) {
    segment=runSegments.get(i);
    Rectangle2D bounds=segment.getVisualBounds();
    if ((bounds.getMinX() <= x && bounds.getMaxX() >= x) || (endOfPrevSeg < x && bounds.getMinX() > x)) {
      return segment.hitTest(x,y);
    }
    endOfPrevSeg=bounds.getMaxX();
  }
  return isLTR() ? TextHitInfo.trailing(text.length) : TextHitInfo.leading(0);
}
