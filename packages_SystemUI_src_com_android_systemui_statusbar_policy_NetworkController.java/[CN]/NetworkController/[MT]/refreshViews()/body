{
  Context context=mContext;
  int combinedDataIconId;
  String label;
  if (mWifiConnected) {
    if (mWifiSsid == null) {
      label=context.getString(R.string.system_panel_signal_meter_wifi_nossid);
    }
 else {
      label=context.getString(R.string.system_panel_signal_meter_wifi_ssid_format,mWifiSsid);
    }
    combinedDataIconId=mWifiIconId;
  }
 else   if (mDataConnected) {
    label=context.getString(R.string.system_panel_signal_meter_data_connected);
    combinedDataIconId=mDataIconId;
  }
 else {
    label=context.getString(R.string.system_panel_signal_meter_disconnected);
    combinedDataIconId=0;
  }
  int N;
  if (mLastPhoneSignalIconId != mPhoneSignalIconId) {
    mLastPhoneSignalIconId=mPhoneSignalIconId;
    N=mPhoneIconViews.size();
    for (int i=0; i < N; i++) {
      ImageView v=mPhoneIconViews.get(i);
      v.setImageResource(mPhoneSignalIconId);
    }
  }
  if (mLastCombinedDataIconId != combinedDataIconId) {
    mLastCombinedDataIconId=combinedDataIconId;
    N=mDataIconViews.size();
    for (int i=0; i < N; i++) {
      ImageView v=mDataIconViews.get(i);
      v.setImageResource(combinedDataIconId);
    }
  }
  if (!mLastLabel.equals(label)) {
    mLastLabel=label;
    N=mLabelViews.size();
    for (int i=0; i < N; i++) {
      TextView v=mLabelViews.get(i);
      v.setText(label);
    }
  }
}
