{
  byte[] bytes=bundle.getByteArray(KEY_X509);
  if (bytes == null) {
    throw new IllegalArgumentException("not a certificate bundle");
  }
  try {
    CertificateFactory certFactory=CertificateFactory.getInstance("X.509");
    Certificate cert=certFactory.generateCertificate(new ByteArrayInputStream(bytes));
    return (X509Certificate)cert;
  }
 catch (  CertificateException e) {
    throw new AssertionError(e);
  }
}
