{
  UserManager um=UserManager.get(mContext);
  List<UserInfo> profiles=um.getEnabledProfiles(UserHandle.myUserId());
  for (  UserInfo info : profiles) {
    if (mLockPatternUtils.isSeparateProfileChallengeEnabled(info.id)) {
      long userTimeout=getLockTimeout(info.id);
      long userWhen=SystemClock.elapsedRealtime() + userTimeout;
      Intent lockIntent=new Intent(DELAYED_LOCK_PROFILE_ACTION);
      lockIntent.putExtra(Intent.EXTRA_USER_ID,info.id);
      PendingIntent lockSender=PendingIntent.getBroadcast(mContext,0,lockIntent,PendingIntent.FLAG_CANCEL_CURRENT);
      mAlarmManager.setExactAndAllowWhileIdle(AlarmManager.ELAPSED_REALTIME_WAKEUP,userWhen,lockSender);
    }
  }
}
