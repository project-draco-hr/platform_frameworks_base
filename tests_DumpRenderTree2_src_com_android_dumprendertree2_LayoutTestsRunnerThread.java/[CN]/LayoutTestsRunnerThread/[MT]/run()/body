{
  Looper.prepare();
  mSummarizer=new Summarizer(mFileFilter,RESULTS_ROOT_DIR_PATH);
  mHandler=new Handler(){
    @Override public void handleMessage(    Message msg){
switch (msg.what) {
case MSG_TEST_FINISHED:
        onTestFinished(mCurrentTest);
      mUiDisplayHandler.obtainMessage(LayoutTestsRunner.MSG_UPDATE_PROGRESS,mCurrentTestCount,mTotalTestCount).sendToTarget();
    runNextTest();
  break;
}
}
}
;
File file=new File(TESTS_ROOT_DIR_PATH,mRelativePath);
if (!file.exists()) {
Log.e(LOG_TAG + "::run","Path does not exist: " + mRelativePath);
return;
}
if (file.isDirectory()) {
mUiDisplayHandler.sendEmptyMessage(LayoutTestsRunner.MSG_SHOW_PROGRESS_DIALOG);
preloadTests(mRelativePath);
mUiDisplayHandler.sendEmptyMessage(LayoutTestsRunner.MSG_DISMISS_PROGRESS_DIALOG);
}
 else {
mTestsList.addLast(mRelativePath);
mTotalTestCount=1;
}
runNextTest();
Looper.loop();
}
