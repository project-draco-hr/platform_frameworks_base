{
  final Context context=mContext;
  final Resources res=context.getResources();
  mIconSize=res.getDimensionPixelSize(com.android.internal.R.dimen.status_bar_icon_size);
  final TabletStatusBarView sb=(TabletStatusBarView)View.inflate(context,R.layout.status_bar,null);
  mStatusBarView=sb;
  sb.setHandler(mHandler);
  mBarContents=sb.findViewById(R.id.bar_contents);
  mCurtains=sb.findViewById(R.id.lights_out);
  mSystemInfo=sb.findViewById(R.id.systemInfo);
  mRecentButton=sb.findViewById(R.id.recent_apps);
  mSystemInfo.setOnLongClickListener(new SetLightsOnListener(false));
  mSystemInfo.setOnTouchListener(new ClockTouchListener());
  mRecentButton=sb.findViewById(R.id.recent_apps);
  mRecentButton.setOnClickListener(mOnClickListener);
  SetLightsOnListener on=new SetLightsOnListener(true);
  mCurtains.setOnClickListener(on);
  mCurtains.setOnLongClickListener(on);
  mNotificationTrigger=(ImageView)sb.findViewById(R.id.notificationTrigger);
  mNotificationTrigger.setOnClickListener(mOnClickListener);
  mNotificationIconArea=(NotificationIconArea)sb.findViewById(R.id.notificationIcons);
  mNotificationButtons=sb.findViewById(R.id.notificationButtons);
  mClearButton=(TextView)mNotificationButtons.findViewById(R.id.clear_all_button);
  mClearButton.setOnClickListener(mOnClickListener);
  mDoNotDisturbButton=(TextView)mNotificationButtons.findViewById(R.id.do_not_disturb);
  mDoNotDisturbButton.setOnClickListener(mOnClickListener);
  mIconLayout=(NotificationIconArea.IconLayout)sb.findViewById(R.id.icons);
  mTicker=new TabletTicker(context,(FrameLayout)sb.findViewById(R.id.ticker));
  mBatteryMeter=(ImageView)sb.findViewById(R.id.battery);
  mSignalMeter=(ImageView)sb.findViewById(R.id.signal);
  mSignalIcon=(ImageView)sb.findViewById(R.id.signal_icon);
  mNavigationArea=sb.findViewById(R.id.navigationArea);
  mMenuButton=mNavigationArea.findViewById(R.id.menu);
  setAreThereNotifications();
  refreshNotificationTrigger();
  addPanelWindows();
  mPile=(ViewGroup)mNotificationPanel.findViewById(R.id.content);
  mPile.removeAllViews();
  ScrollView scroller=(ScrollView)mPile.getParent();
  scroller.setFillViewport(true);
  return sb;
}
