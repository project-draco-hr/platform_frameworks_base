{
  Resources res=getResources();
  mIconSize=res.getDimensionPixelSize(com.android.internal.R.dimen.status_bar_icon_size);
  final View sb=View.inflate(this,R.layout.status_bar,null);
  mStatusBarView=sb;
  mBarContents=sb.findViewById(R.id.bar_contents);
  mCurtains=sb.findViewById(R.id.lights_out);
  View systemInfo=sb.findViewById(R.id.systemInfo);
  View.OnLongClickListener toggle=new View.OnLongClickListener(){
    public boolean onLongClick(    View v){
      toggleLightsOut(v);
      return true;
    }
  }
;
  systemInfo.setOnLongClickListener(toggle);
  mCurtains.setOnLongClickListener(toggle);
  mNotificationIconArea=(NotificationIconArea)sb.findViewById(R.id.notificationIcons);
  mIconLayout=(NotificationIconArea.IconLayout)sb.findViewById(R.id.icons);
  mKicker=new KickerController((Context)this,mStatusBarView);
  mBatteryMeter=(ImageView)sb.findViewById(R.id.battery);
  mSignalMeter=(ImageView)sb.findViewById(R.id.signal);
  mSignalIcon=(ImageView)sb.findViewById(R.id.signal_icon);
  addPanelWindows();
  mPile=(ViewGroup)mNotificationPanel.findViewById(R.id.content);
  mPile.removeAllViews();
  ScrollView scroller=(ScrollView)mPile.getParent();
  scroller.setFillViewport(true);
  mClearButton=(TextView)mNotificationPanel.findViewById(R.id.clear_all_button);
  mClearButton.setOnClickListener(mClearButtonListener);
  return sb;
}
