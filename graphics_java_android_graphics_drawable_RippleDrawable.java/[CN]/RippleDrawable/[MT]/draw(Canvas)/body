{
  final Rect bounds=isProjected() ? getDirtyBounds() : getBounds();
  final int contentLayer=drawContentLayer(canvas,bounds,SRC_OVER);
  final int rippleLayer=drawRippleLayer(canvas,bounds,mState.mTintXfermode);
  if (rippleLayer >= 0) {
    drawMaskingLayer(canvas,bounds,DST_IN);
  }
  if (contentLayer >= 0) {
    canvas.restoreToCount(contentLayer);
  }
 else   if (rippleLayer >= 0) {
    canvas.restoreToCount(rippleLayer);
  }
}
