{
  if (mState.mPinned && !circleContains(mHotspotBounds,x,y)) {
    x=mHotspotBounds.exactCenterX();
    y=mHotspotBounds.exactCenterY();
  }
  final int id=R.attr.state_pressed;
  final int[] stateSet=getState();
  if (!Arrays.contains(stateSet,id)) {
    getOrCreatePendingHotspot(id).set(x,y);
    return;
  }
  if (mAnimatingRipplesCount >= MAX_RIPPLES) {
    Log.d(LOG_TAG,"Max ripple count exceeded",new RuntimeException());
    return;
  }
  if (mActiveHotspots == null) {
    mActiveHotspots=new SparseArray<Ripple>();
    mAnimatingRipples=new Ripple[MAX_RIPPLES];
  }
  final Ripple ripple=mActiveHotspots.get(id);
  if (ripple != null) {
    return;
  }
  createActiveHotspot(id,x,y);
}
