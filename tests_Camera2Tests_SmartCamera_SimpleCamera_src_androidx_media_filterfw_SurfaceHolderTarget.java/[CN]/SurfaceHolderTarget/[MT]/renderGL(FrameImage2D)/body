{
  if (mRenderTarget == null) {
    mRenderTarget=RenderTarget.currentTarget().forSurfaceHolder(mSurfaceHolder);
    mRenderTarget.registerAsDisplaySurface();
  }
  Rect frameRect=new Rect(0,0,image.getWidth(),image.getHeight());
  Rect surfRect=mSurfaceHolder.getSurfaceFrame();
  setupShader(mShader,frameRect,surfRect);
  mShader.process(image.lockTextureSource(),mRenderTarget,surfRect.width(),surfRect.height());
  image.unlock();
  mRenderTarget.swapBuffers();
}
