{
  final String id=UUID.randomUUID().toString();
  final ConnectionRequest newRequest=new ConnectionRequest(request.getAccountHandle(),request.getHandle(),request.getHandlePresentation(),request.getExtras(),request.getVideoState());
  try {
    if (mConnectionById.isEmpty()) {
      mConnectionService.addConnectionServiceAdapter(mServant.getStub());
    }
    RemoteConnection connection=new RemoteConnection(id,mConnectionService,newRequest);
    mPendingConnections.add(connection);
    mConnectionById.put(id,connection);
    mConnectionService.createConnection(connectionManagerPhoneAccount,id,newRequest,isIncoming);
    connection.addListener(new RemoteConnection.Listener(){
      @Override public void onDestroyed(      RemoteConnection connection){
        mConnectionById.remove(id);
        if (mConnectionById.isEmpty()) {
          try {
            mConnectionService.removeConnectionServiceAdapter(mServant.getStub());
          }
 catch (          RemoteException e) {
          }
        }
      }
    }
);
    return connection;
  }
 catch (  RemoteException e) {
    return RemoteConnection.failure(DisconnectCause.ERROR_UNSPECIFIED,e.toString());
  }
}
