{
  if (TextUtils.isEmpty(rating)) {
    throw new IllegalArgumentException("rating cannot be null");
  }
  mRating=rating;
  mSubRatings=subRatings;
  String prefix="";
  if (mRating.length() > RATING_PREFIX_LENGTH) {
    prefix=mRating.substring(0,RATING_PREFIX_LENGTH);
  }
  Map<String,String[]> ratings=sRatings.get(prefix);
  if (ratings != null) {
    if (!ratings.keySet().contains(mRating)) {
      Log.w(TAG,"Unknown rating: " + mRating);
    }
 else     if (mSubRatings != null) {
      String[] validSubRatings=ratings.get(mRating);
      if (validSubRatings == null) {
        Log.w(TAG,"Invalid subratings: " + mSubRatings);
      }
 else {
        List<String> validSubRatingList=Arrays.asList(subRatings);
        for (        String sr : mSubRatings) {
          if (TextUtils.isEmpty(sr)) {
            throw new IllegalArgumentException("subRatings cannot contain empty elements");
          }
          if (!validSubRatingList.contains(sr)) {
            Log.w(TAG,"Invalid subrating: " + sr);
            break;
          }
        }
      }
    }
  }
 else {
    Log.w(TAG,"Rating undefined for " + mRating);
  }
}
