{
  final MtpDatabase database=new MtpDatabase(getContext());
  database.putChildDocuments(0,"parentId",new MtpObjectInfo[]{createDocument(100,"note.txt",MtpConstants.FORMAT_TEXT,1024),createDocument(101,"image.jpg",MtpConstants.FORMAT_EXIF_JPEG,2 * 1024 * 1024),createDocument(102,"music.mp3",MtpConstants.FORMAT_MP3,3 * 1024 * 1024)});
  final Cursor cursor=database.queryChildDocuments(COLUMN_NAMES,"parentId");
  assertEquals(3,cursor.getCount());
  cursor.moveToNext();
  assertEquals("documentId",1,cursor.getInt(0));
  assertEquals("deviceId",0,cursor.getInt(1));
  assertEquals("storageId",0,cursor.getInt(2));
  assertEquals("objectHandle",100,cursor.getInt(3));
  assertEquals("mimeType","text/plain",cursor.getString(4));
  assertEquals("displayName","note.txt",cursor.getString(5));
  assertTrue("summary",cursor.isNull(6));
  assertTrue("lastModified",cursor.isNull(7));
  assertTrue("icon",cursor.isNull(8));
  assertEquals("flag",DocumentsContract.Document.FLAG_SUPPORTS_DELETE | DocumentsContract.Document.FLAG_SUPPORTS_WRITE,cursor.getInt(9));
  assertEquals("size",1024,cursor.getInt(10));
  cursor.moveToNext();
  assertEquals("documentId",2,cursor.getInt(0));
  assertEquals("deviceId",0,cursor.getInt(1));
  assertEquals("storageId",0,cursor.getInt(2));
  assertEquals("objectHandle",101,cursor.getInt(3));
  assertEquals("mimeType","image/jpeg",cursor.getString(4));
  assertEquals("displayName","image.jpg",cursor.getString(5));
  assertTrue("summary",cursor.isNull(6));
  assertTrue("lastModified",cursor.isNull(7));
  assertTrue("icon",cursor.isNull(8));
  assertEquals("flag",DocumentsContract.Document.FLAG_SUPPORTS_DELETE | DocumentsContract.Document.FLAG_SUPPORTS_WRITE,cursor.getInt(9));
  assertEquals("size",2 * 1024 * 1024,cursor.getInt(10));
  cursor.moveToNext();
  assertEquals("documentId",3,cursor.getInt(0));
  assertEquals("deviceId",0,cursor.getInt(1));
  assertEquals("storageId",0,cursor.getInt(2));
  assertEquals("objectHandle",102,cursor.getInt(3));
  assertEquals("mimeType","audio/mpeg",cursor.getString(4));
  assertEquals("displayName","music.mp3",cursor.getString(5));
  assertTrue("summary",cursor.isNull(6));
  assertTrue("lastModified",cursor.isNull(7));
  assertTrue("icon",cursor.isNull(8));
  assertEquals("flag",DocumentsContract.Document.FLAG_SUPPORTS_DELETE | DocumentsContract.Document.FLAG_SUPPORTS_WRITE,cursor.getInt(9));
  assertEquals("size",3 * 1024 * 1024,cursor.getInt(10));
  cursor.close();
}
