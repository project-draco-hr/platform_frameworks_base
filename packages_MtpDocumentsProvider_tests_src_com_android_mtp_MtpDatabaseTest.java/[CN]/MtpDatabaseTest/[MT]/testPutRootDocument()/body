{
  final MtpDatabase database=new MtpDatabase(getContext());
  database.putRootDocument(resources,new MtpRoot(0,1,"Device","Storage",1000,2000,""));
  database.putRootDocument(resources,new MtpRoot(0,2,"Device","Storage",1000,2000,""));
  database.putRootDocument(resources,new MtpRoot(0,3,"Device","/@#%&<>Storage",1000,2000,""));
  final Cursor cursor=database.queryChildDocuments(COLUMN_NAMES);
  assertEquals(3,cursor.getCount());
  cursor.moveToNext();
  assertEquals("documentId",1,cursor.getInt(0));
  assertEquals("deviceId",0,cursor.getInt(1));
  assertEquals("storageId",1,cursor.getInt(2));
  assertTrue("objectHandle",cursor.isNull(3));
  assertEquals("mimeType",DocumentsContract.Document.MIME_TYPE_DIR,cursor.getString(4));
  assertEquals("displayName","Device Storage",cursor.getString(5));
  assertTrue("summary",cursor.isNull(6));
  assertTrue("lastModified",cursor.isNull(7));
  assertTrue("icon",cursor.isNull(8));
  assertEquals("flag",0,cursor.getInt(9));
  assertEquals("size",1000,cursor.getInt(10));
  cursor.moveToNext();
  assertEquals("documentId",2,cursor.getInt(0));
  assertEquals("displayName","Device Storage",cursor.getString(5));
  cursor.moveToNext();
  assertEquals("documentId",3,cursor.getInt(0));
  assertEquals("displayName","Device /@#%&<>Storage",cursor.getString(5));
  cursor.close();
}
