{
  mDatabase.getMapper().startAddingDocuments(null);
  mDatabase.getMapper().putRootDocuments(0,resources,new MtpRoot[]{new MtpRoot(0,1,"Device","Storage",1000,2000,""),new MtpRoot(0,2,"Device","Storage",2000,4000,""),new MtpRoot(0,3,"Device","/@#%&<>Storage",3000,6000,"")});
{
    final Cursor cursor=mDatabase.queryRootDocuments(COLUMN_NAMES);
    assertEquals(3,cursor.getCount());
    cursor.moveToNext();
    assertEquals("documentId",1,cursor.getInt(0));
    assertEquals("deviceId",0,cursor.getInt(1));
    assertEquals("storageId",1,cursor.getInt(2));
    assertTrue("objectHandle",cursor.isNull(3));
    assertEquals("mimeType",DocumentsContract.Document.MIME_TYPE_DIR,cursor.getString(4));
    assertEquals("displayName","Device Storage",cursor.getString(5));
    assertTrue("summary",cursor.isNull(6));
    assertTrue("lastModified",cursor.isNull(7));
    assertEquals("icon",R.drawable.ic_root_mtp,cursor.getInt(8));
    assertEquals("flag",0,cursor.getInt(9));
    assertEquals("size",1000,cursor.getInt(10));
    cursor.moveToNext();
    assertEquals("documentId",2,cursor.getInt(0));
    assertEquals("displayName","Device Storage",cursor.getString(5));
    cursor.moveToNext();
    assertEquals("documentId",3,cursor.getInt(0));
    assertEquals("displayName","Device /@#%&<>Storage",cursor.getString(5));
    cursor.close();
  }
{
    final Cursor cursor=mDatabase.queryRoots(new String[]{Root.COLUMN_ROOT_ID,Root.COLUMN_FLAGS,Root.COLUMN_ICON,Root.COLUMN_TITLE,Root.COLUMN_SUMMARY,Root.COLUMN_DOCUMENT_ID,Root.COLUMN_AVAILABLE_BYTES,Root.COLUMN_CAPACITY_BYTES});
    assertEquals(3,cursor.getCount());
    cursor.moveToNext();
    assertEquals(1,cursor.getInt(0));
    assertEquals(Root.FLAG_SUPPORTS_IS_CHILD | Root.FLAG_SUPPORTS_CREATE,cursor.getInt(1));
    assertEquals(R.drawable.ic_root_mtp,cursor.getInt(2));
    assertEquals("Device Storage",cursor.getString(3));
    assertTrue(cursor.isNull(4));
    assertEquals(1,cursor.getInt(5));
    assertEquals(1000,cursor.getInt(6));
    assertEquals(2000,cursor.getInt(7));
    cursor.moveToNext();
    assertEquals(2,cursor.getInt(0));
    assertEquals(Root.FLAG_SUPPORTS_IS_CHILD | Root.FLAG_SUPPORTS_CREATE,cursor.getInt(1));
    assertEquals(R.drawable.ic_root_mtp,cursor.getInt(2));
    assertEquals("Device Storage",cursor.getString(3));
    assertTrue(cursor.isNull(4));
    assertEquals(2,cursor.getInt(5));
    assertEquals(2000,cursor.getInt(6));
    assertEquals(4000,cursor.getInt(7));
    cursor.moveToNext();
    assertEquals(3,cursor.getInt(0));
    assertEquals(Root.FLAG_SUPPORTS_IS_CHILD | Root.FLAG_SUPPORTS_CREATE,cursor.getInt(1));
    assertEquals(R.drawable.ic_root_mtp,cursor.getInt(2));
    assertEquals("Device /@#%&<>Storage",cursor.getString(3));
    assertTrue(cursor.isNull(4));
    assertEquals(3,cursor.getInt(5));
    assertEquals(3000,cursor.getInt(6));
    assertEquals(6000,cursor.getInt(7));
    cursor.close();
  }
}
