{
  addTestDevice();
  addTestStorage("1");
  mDatabase.getMapper().startAddingDocuments("2");
  mDatabase.getMapper().putChildDocuments(0,"2",OPERATIONS_SUPPORTED,new MtpObjectInfo[]{createDocument(100,"apple.txt",MtpConstants.FORMAT_TEXT,1024),createDocument(101,"orange.txt",MtpConstants.FORMAT_TEXT,1024)},new long[]{1024L,1024L});
  mDatabase.getMapper().stopAddingDocuments("2");
  mDatabase.getMapper().startAddingDocuments(null);
  mDatabase.getMapper().stopAddingDocuments(null);
  mDatabase.cleanDatabase(new Uri[]{DocumentsContract.buildDocumentUri(MtpDocumentsProvider.AUTHORITY,"3")});
  addTestDevice();
  addTestStorage("1");
  mDatabase.getMapper().startAddingDocuments("2");
  mDatabase.getMapper().putChildDocuments(0,"2",OPERATIONS_SUPPORTED,new MtpObjectInfo[]{createDocument(100,"apple.txt",MtpConstants.FORMAT_TEXT,1024),createDocument(101,"orange.txt",MtpConstants.FORMAT_TEXT,1024)},new long[]{1024L,1024L});
  mDatabase.getMapper().stopAddingDocuments("2");
  try (final Cursor cursor=mDatabase.queryChildDocuments(strings(COLUMN_DOCUMENT_ID,Document.COLUMN_DISPLAY_NAME),"2")){
    assertEquals(2,cursor.getCount());
    cursor.moveToNext();
    assertEquals("3",cursor.getString(0));
    assertEquals("apple.txt",cursor.getString(1));
    cursor.moveToNext();
    assertEquals("5",cursor.getString(0));
    assertEquals("orange.txt",cursor.getString(1));
  }
 }
