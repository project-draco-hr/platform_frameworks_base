{
  final MtpDatabase database=new MtpDatabase(getContext());
  final MtpObjectInfo.Builder builder=new MtpObjectInfo.Builder();
  builder.setObjectHandle(100);
  builder.setName("test.txt");
  builder.setStorageId(5);
  builder.setFormat(MtpConstants.FORMAT_TEXT);
  builder.setCompressedSize(1000);
  database.putDocument(0,"/0/Storage",builder.build());
  final Cursor cursor=database.queryChildDocuments(COLUMN_NAMES);
  assertEquals(1,cursor.getCount());
  cursor.moveToNext();
  assertEquals("documentId",1,cursor.getInt(0));
  assertEquals("deviceId",0,cursor.getInt(1));
  assertEquals("storageId",5,cursor.getInt(2));
  assertEquals("objectHandle",100,cursor.getInt(3));
  assertEquals("fullPath","/0/Storage/test.txt",cursor.getString(4));
  assertEquals("mimeType","text/plain",cursor.getString(5));
  assertEquals("displayName","test.txt",cursor.getString(6));
  assertTrue("summary",cursor.isNull(7));
  assertTrue("lastModified",cursor.isNull(8));
  assertTrue("icon",cursor.isNull(9));
  assertEquals("flag",DocumentsContract.Document.FLAG_SUPPORTS_DELETE | DocumentsContract.Document.FLAG_SUPPORTS_WRITE,cursor.getInt(10));
  assertEquals("size",1000,cursor.getInt(11));
}
