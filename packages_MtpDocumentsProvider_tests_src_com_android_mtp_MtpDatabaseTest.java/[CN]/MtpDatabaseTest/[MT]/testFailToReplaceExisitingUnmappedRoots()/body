{
  mDatabase.startAddingRootDocuments(0);
  mDatabase.putRootDocuments(0,resources,new MtpRoot[]{new MtpRoot(0,100,"Device","Storage A",0,0,"")});
  mDatabase.clearMapping();
  final Cursor oldCursor=mDatabase.queryRoots(strings(Root.COLUMN_ROOT_ID));
  assertEquals(1,oldCursor.getCount());
  mDatabase.startAddingRootDocuments(0);
  mDatabase.putRootDocuments(0,resources,new MtpRoot[]{new MtpRoot(0,101,"Device","Storage B",1000,1000,"")});
  mDatabase.putRootDocuments(0,resources,new MtpRoot[]{new MtpRoot(0,102,"Device","Storage B",1000,1000,"")});
  mDatabase.stopAddingRootDocuments(0);
  final Cursor newCursor=mDatabase.queryRoots(strings(Root.COLUMN_ROOT_ID));
  assertEquals(2,newCursor.getCount());
  oldCursor.moveToNext();
  newCursor.moveToNext();
  assertFalse(oldCursor.getString(0).equals(newCursor.getString(0)));
  newCursor.moveToNext();
  assertFalse(oldCursor.getString(0).equals(newCursor.getString(0)));
  oldCursor.close();
  newCursor.close();
}
