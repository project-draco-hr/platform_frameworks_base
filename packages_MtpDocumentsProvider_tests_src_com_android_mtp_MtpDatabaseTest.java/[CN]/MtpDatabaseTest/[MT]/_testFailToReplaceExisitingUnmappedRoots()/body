{
  final MtpDatabase database=new MtpDatabase(getContext());
  database.startAddingRootDocuments(0);
  database.putRootDocuments(0,resources,new MtpRoot[]{new MtpRoot(0,100,"Device","Storage A",0,0,"")});
  database.clearMapping();
  database.putRootDocuments(0,resources,new MtpRoot[]{new MtpRoot(0,100,"Device","Storage B",1000,1000,"")});
  try {
    database.putRootDocuments(0,resources,new MtpRoot[]{new MtpRoot(0,100,"Device","Storage B",1000,1000,"")});
    fail();
  }
 catch (  Throwable e) {
    assertTrue(e instanceof Error);
  }
}
