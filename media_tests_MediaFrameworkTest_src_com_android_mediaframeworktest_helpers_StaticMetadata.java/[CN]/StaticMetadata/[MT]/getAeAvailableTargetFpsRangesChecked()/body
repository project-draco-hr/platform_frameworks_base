{
  Key<Range<Integer>[]> key=CameraCharacteristics.CONTROL_AE_AVAILABLE_TARGET_FPS_RANGES;
  Range<Integer>[] fpsRanges=getValueFromKeyNonNull(key);
  if (fpsRanges == null) {
    return new Range[0];
  }
  int fpsRangeLength=fpsRanges.length;
  int minFps, maxFps;
  long maxFrameDuration=getMaxFrameDurationChecked();
  for (int i=0; i < fpsRangeLength; i+=1) {
    minFps=fpsRanges[i].getLower();
    maxFps=fpsRanges[i].getUpper();
    checkTrueForKey(key," min fps must be no larger than max fps!",minFps > 0 && maxFps >= minFps);
    long maxDuration=(long)(1e9 / minFps);
    checkTrueForKey(key,String.format(" the frame duration %d for min fps %d must smaller than maxFrameDuration %d",maxDuration,minFps,maxFrameDuration),maxDuration <= maxFrameDuration);
  }
  return fpsRanges;
}
