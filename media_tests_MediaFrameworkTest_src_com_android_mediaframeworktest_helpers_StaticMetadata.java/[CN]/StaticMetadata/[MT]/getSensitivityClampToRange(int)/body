{
  int minSensitivity=getSensitivityMinimumOrDefault(Integer.MAX_VALUE);
  int maxSensitivity=getSensitivityMaximumOrDefault(Integer.MIN_VALUE);
  if (minSensitivity > SENSOR_INFO_SENSITIVITY_RANGE_MIN_AT_MOST) {
    failKeyCheck(CameraCharacteristics.SENSOR_INFO_SENSITIVITY_RANGE,String.format("Min value %d is too large, set to maximal legal value %d",minSensitivity,SENSOR_INFO_SENSITIVITY_RANGE_MIN_AT_MOST));
    minSensitivity=SENSOR_INFO_SENSITIVITY_RANGE_MIN_AT_MOST;
  }
  if (maxSensitivity < SENSOR_INFO_SENSITIVITY_RANGE_MAX_AT_LEAST) {
    failKeyCheck(CameraCharacteristics.SENSOR_INFO_SENSITIVITY_RANGE,String.format("Max value %d is too small, set to minimal legal value %d",maxSensitivity,SENSOR_INFO_SENSITIVITY_RANGE_MAX_AT_LEAST));
    maxSensitivity=SENSOR_INFO_SENSITIVITY_RANGE_MAX_AT_LEAST;
  }
  return Math.max(minSensitivity,Math.min(maxSensitivity,sensitivity));
}
