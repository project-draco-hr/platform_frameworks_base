{
  Key<Integer> key=CameraCharacteristics.TONEMAP_MAX_CURVE_POINTS;
  Integer count=getValueFromKeyNonNull(key);
  List<Integer> modeList=Arrays.asList(CameraTestUtils.toObject(getAvailableToneMapModesChecked()));
  boolean tonemapCurveOutputSupported=modeList.contains(CameraMetadata.TONEMAP_MODE_CONTRAST_CURVE) || modeList.contains(CameraMetadata.TONEMAP_MODE_GAMMA_VALUE) || modeList.contains(CameraMetadata.TONEMAP_MODE_PRESET_CURVE);
  if (count == null) {
    if (tonemapCurveOutputSupported) {
      Assert.fail("Tonemap curve output is supported but MAX_CURVE_POINTS is null");
    }
    return 0;
  }
  if (tonemapCurveOutputSupported) {
    checkTrueForKey(key,"Tonemap curve output supported camera device must support " + "maxCurvePoints >= " + TONEMAP_MAX_CURVE_POINTS_AT_LEAST,count >= TONEMAP_MAX_CURVE_POINTS_AT_LEAST);
  }
  return count;
}
