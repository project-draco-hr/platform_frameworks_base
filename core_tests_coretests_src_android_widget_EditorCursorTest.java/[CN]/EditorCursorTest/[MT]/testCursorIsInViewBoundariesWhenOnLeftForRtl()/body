{
  getActivity().runOnUiThread(new Runnable(){
    @Override public void run(){
      mEditText.setText(RTL_STRING);
      int length=mEditText.getText().length();
      mEditText.setSelection(length,length);
    }
  }
);
  getInstrumentation().waitForIdleSync();
  Drawable drawable=mEditText.getEditorForTesting().getCursorDrawable()[0];
  Rect drawableBounds=drawable.getBounds();
  Rect drawablePadding=new Rect();
  drawable.getPadding(drawablePadding);
  int diff=drawableBounds.left - mEditText.getScrollX() + drawablePadding.left;
  assertTrue(diff >= 0 && diff <= 1);
}
